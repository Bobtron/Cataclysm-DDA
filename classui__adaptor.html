<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: ui_adaptor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classui__adaptor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ui_adaptor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Adaptor between UI code and the UI management system.  
 <a href="classui__adaptor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structui__adaptor_1_1debug__message__ui.html">debug_message_ui</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structui__adaptor_1_1disable__uis__below.html">disable_uis_below</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a1869dfa317b5e479098e8b692245c4d1"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a1869dfa317b5e479098e8b692245c4d1">redraw_callback_t</a> = std::function&lt; void(<a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;)&gt;</td></tr>
<tr class="separator:a1869dfa317b5e479098e8b692245c4d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ef118f755b5a13bcb087b2fdfd76667"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a7ef118f755b5a13bcb087b2fdfd76667">screen_resize_callback_t</a> = std::function&lt; void(<a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;)&gt;</td></tr>
<tr class="separator:a7ef118f755b5a13bcb087b2fdfd76667"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae84e02f9bb8f2f4b9773ccce12100301"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#ae84e02f9bb8f2f4b9773ccce12100301">ui_adaptor</a> ()</td></tr>
<tr class="memdesc:ae84e02f9bb8f2f4b9773ccce12100301"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a <code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code> which is automatically added to the UI stack, and removed from the stack when it is deconstructed.  <a href="classui__adaptor.html#ae84e02f9bb8f2f4b9773ccce12100301">More...</a><br /></td></tr>
<tr class="separator:ae84e02f9bb8f2f4b9773ccce12100301"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6e9a3218af06bcdb6e6f9a63e83ece7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#ae6e9a3218af06bcdb6e6f9a63e83ece7">ui_adaptor</a> (<a class="el" href="structui__adaptor_1_1disable__uis__below.html">disable_uis_below</a>)</td></tr>
<tr class="memdesc:ae6e9a3218af06bcdb6e6f9a63e83ece7"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code> constructed this way will block any UIs below from being redrawn or resized until it is deconstructed.  <a href="classui__adaptor.html#ae6e9a3218af06bcdb6e6f9a63e83ece7">More...</a><br /></td></tr>
<tr class="separator:ae6e9a3218af06bcdb6e6f9a63e83ece7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a803f9bf3eafa0bc221eb96d3015c7837"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a803f9bf3eafa0bc221eb96d3015c7837">ui_adaptor</a> (<a class="el" href="structui__adaptor_1_1debug__message__ui.html">debug_message_ui</a>)</td></tr>
<tr class="memdesc:a803f9bf3eafa0bc221eb96d3015c7837"><td class="mdescLeft">&#160;</td><td class="mdescRight">Special constructor used by <a class="el" href="debug_8cpp.html">debug.cpp</a> when showing a debug message popup.  <a href="classui__adaptor.html#a803f9bf3eafa0bc221eb96d3015c7837">More...</a><br /></td></tr>
<tr class="separator:a803f9bf3eafa0bc221eb96d3015c7837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d5a0fa7c5fde4cf9098791b467710aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a3d5a0fa7c5fde4cf9098791b467710aa">ui_adaptor</a> (const <a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;rhs)=delete</td></tr>
<tr class="separator:a3d5a0fa7c5fde4cf9098791b467710aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c81ceb5d8bd65b375ae4945970c9b0c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a0c81ceb5d8bd65b375ae4945970c9b0c">ui_adaptor</a> (<a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;&amp;rhs)=delete</td></tr>
<tr class="separator:a0c81ceb5d8bd65b375ae4945970c9b0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1ff6aab4edf19789f6365f95b9f5df2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#ac1ff6aab4edf19789f6365f95b9f5df2">~ui_adaptor</a> ()</td></tr>
<tr class="separator:ac1ff6aab4edf19789f6365f95b9f5df2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5854b5aa4fcb1c425b8d72ae0bb07d19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a5854b5aa4fcb1c425b8d72ae0bb07d19">operator=</a> (const <a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;rhs)=delete</td></tr>
<tr class="separator:a5854b5aa4fcb1c425b8d72ae0bb07d19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc276724623212fc8a60aea9bb0e54d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#acc276724623212fc8a60aea9bb0e54d4">operator=</a> (<a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;&amp;rhs)=delete</td></tr>
<tr class="separator:acc276724623212fc8a60aea9bb0e54d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae52e80c928fa76affccc3b60d415982"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#aae52e80c928fa76affccc3b60d415982">position_from_window</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;win)</td></tr>
<tr class="memdesc:aae52e80c928fa76affccc3b60d415982"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the position and size of the UI to that of <code>win</code>.  <a href="classui__adaptor.html#aae52e80c928fa76affccc3b60d415982">More...</a><br /></td></tr>
<tr class="separator:aae52e80c928fa76affccc3b60d415982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6aa8e52d6fe399f60da61e428f1f721"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#af6aa8e52d6fe399f60da61e428f1f721">position</a> (const <a class="el" href="structpoint.html">point</a> &amp;topleft, const <a class="el" href="structpoint.html">point</a> &amp;size)</td></tr>
<tr class="memdesc:af6aa8e52d6fe399f60da61e428f1f721"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the position and size of the UI to that of an imaginary <code><a class="el" href="classcatacurses_1_1window.html" title="A wrapper over a pointer to a curses window.">catacurses::window</a></code> in normal font, except that the size can be zero.  <a href="classui__adaptor.html#af6aa8e52d6fe399f60da61e428f1f721">More...</a><br /></td></tr>
<tr class="separator:af6aa8e52d6fe399f60da61e428f1f721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9447504685f06ca195db127035a7b908"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a9447504685f06ca195db127035a7b908">position_absolute</a> (const <a class="el" href="structpoint.html">point</a> &amp;topleft, const <a class="el" href="structpoint.html">point</a> &amp;size)</td></tr>
<tr class="memdesc:a9447504685f06ca195db127035a7b908"><td class="mdescLeft">&#160;</td><td class="mdescRight">like 'position', except topleft and size are given as pixels in tiled builds and console cells on curses builds  <a href="classui__adaptor.html#a9447504685f06ca195db127035a7b908">More...</a><br /></td></tr>
<tr class="separator:a9447504685f06ca195db127035a7b908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37e0f0811d9460640b86442a1facc87d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a> (const <a class="el" href="classui__adaptor.html#a1869dfa317b5e479098e8b692245c4d1">redraw_callback_t</a> &amp;fun)</td></tr>
<tr class="memdesc:a37e0f0811d9460640b86442a1facc87d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set redraw and resize callbacks.  <a href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">More...</a><br /></td></tr>
<tr class="separator:a37e0f0811d9460640b86442a1facc87d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf55c7afc0d78d45a35788575f4c3cd5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a> (const <a class="el" href="classui__adaptor.html#a7ef118f755b5a13bcb087b2fdfd76667">screen_resize_callback_t</a> &amp;fun)</td></tr>
<tr class="separator:abf55c7afc0d78d45a35788575f4c3cd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ad89afd6e2e4353506961271b259dbd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a6ad89afd6e2e4353506961271b259dbd">set_cursor</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;win, const <a class="el" href="structpoint.html">point</a> &amp;pos)</td></tr>
<tr class="memdesc:a6ad89afd6e2e4353506961271b259dbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Automatically set the termianl cursor to a window position after drawing is done.  <a href="classui__adaptor.html#a6ad89afd6e2e4353506961271b259dbd">More...</a><br /></td></tr>
<tr class="separator:a6ad89afd6e2e4353506961271b259dbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad01a3aa7cece44bbd772ac0af0d9cbb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#ad01a3aa7cece44bbd772ac0af0d9cbb2">record_cursor</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;win)</td></tr>
<tr class="memdesc:ad01a3aa7cece44bbd772ac0af0d9cbb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Record the current window cursor position and restore it when drawing is done.  <a href="classui__adaptor.html#ad01a3aa7cece44bbd772ac0af0d9cbb2">More...</a><br /></td></tr>
<tr class="separator:ad01a3aa7cece44bbd772ac0af0d9cbb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe684e05436c1532dbb494aef0a31906"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#abe684e05436c1532dbb494aef0a31906">record_term_cursor</a> ()</td></tr>
<tr class="memdesc:abe684e05436c1532dbb494aef0a31906"><td class="mdescLeft">&#160;</td><td class="mdescRight">Record the current terminal cursor position (where the cursor was placed when refreshing the last window) and restore it when drawing is done.  <a href="classui__adaptor.html#abe684e05436c1532dbb494aef0a31906">More...</a><br /></td></tr>
<tr class="separator:abe684e05436c1532dbb494aef0a31906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a892243cd9471d22bb2f56787785f1429"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a892243cd9471d22bb2f56787785f1429">default_cursor</a> ()</td></tr>
<tr class="memdesc:a892243cd9471d22bb2f56787785f1429"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use the terminal cursor position when the redraw callback returns.  <a href="classui__adaptor.html#a892243cd9471d22bb2f56787785f1429">More...</a><br /></td></tr>
<tr class="separator:a892243cd9471d22bb2f56787785f1429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06cd545e80a2b8f55990a94cda03efc3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a06cd545e80a2b8f55990a94cda03efc3">disable_cursor</a> ()</td></tr>
<tr class="memdesc:a06cd545e80a2b8f55990a94cda03efc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do not set cursor for this <code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code>.  <a href="classui__adaptor.html#a06cd545e80a2b8f55990a94cda03efc3">More...</a><br /></td></tr>
<tr class="separator:a06cd545e80a2b8f55990a94cda03efc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca44063b3d85e97d97e2701ef3656433"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">mark_resize</a> () const</td></tr>
<tr class="memdesc:aca44063b3d85e97d97e2701ef3656433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark this <code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code> for resizing the next time it is redrawn.  <a href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">More...</a><br /></td></tr>
<tr class="separator:aca44063b3d85e97d97e2701ef3656433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1629a0fbc701c48c974bb374f6cfad16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a1629a0fbc701c48c974bb374f6cfad16">invalidate_ui</a> () const</td></tr>
<tr class="memdesc:a1629a0fbc701c48c974bb374f6cfad16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invalidate this UI so it gets redrawn the next redraw unless an upper UI completely occludes this UI.  <a href="classui__adaptor.html#a1629a0fbc701c48c974bb374f6cfad16">More...</a><br /></td></tr>
<tr class="separator:a1629a0fbc701c48c974bb374f6cfad16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f8ad5ed55adae6cf7a1b2c59307fa0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a0f8ad5ed55adae6cf7a1b2c59307fa0b">reset</a> ()</td></tr>
<tr class="memdesc:a0f8ad5ed55adae6cf7a1b2c59307fa0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset all callbacks and dimensions.  <a href="classui__adaptor.html#a0f8ad5ed55adae6cf7a1b2c59307fa0b">More...</a><br /></td></tr>
<tr class="separator:a0f8ad5ed55adae6cf7a1b2c59307fa0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aca9ba660964358b94caf74d5bff1e31c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#aca9ba660964358b94caf74d5bff1e31c">invalidate</a> (const <a class="el" href="structrectangle.html">rectangle</a>&lt; <a class="el" href="structpoint.html">point</a> &gt; &amp;rect, bool reenable_uis_below)</td></tr>
<tr class="separator:aca9ba660964358b94caf74d5bff1e31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00f6cdcb2074b77840babb84fbef8b8c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a00f6cdcb2074b77840babb84fbef8b8c">has_imgui</a> ()</td></tr>
<tr class="separator:a00f6cdcb2074b77840babb84fbef8b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ddfbd09f2eb50e4a729dc37d10e9b7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a98ddfbd09f2eb50e4a729dc37d10e9b7">redraw</a> ()</td></tr>
<tr class="separator:a98ddfbd09f2eb50e4a729dc37d10e9b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a615ac8ceeec858bec210c4d4de5503cb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a615ac8ceeec858bec210c4d4de5503cb">redraw_invalidated</a> ()</td></tr>
<tr class="separator:a615ac8ceeec858bec210c4d4de5503cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0797c91d744f656324e19b5c86a96eb3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a0797c91d744f656324e19b5c86a96eb3">screen_resized</a> ()</td></tr>
<tr class="separator:a0797c91d744f656324e19b5c86a96eb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad3d4a4159e41337a20fa46e6da2003a3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#ad3d4a4159e41337a20fa46e6da2003a3">is_imgui</a></td></tr>
<tr class="separator:ad3d4a4159e41337a20fa46e6da2003a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ba9ef488e9cf150b94a146445be867a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a3ba9ef488e9cf150b94a146445be867a">is_on_top</a></td></tr>
<tr class="separator:a3ba9ef488e9cf150b94a146445be867a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a308149268696cde80275fe36e97ffd2c"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2c">cursor</a> { <a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca98bd1c45684cf587ac2347a92dd7bb51">last</a>
, <a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca8b9035807842a4e4dbe009f3f1478127">custom</a>
, <a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca075ae3d2fc31640504f814f60e5ef713">disabled</a>
 }</td></tr>
<tr class="separator:a308149268696cde80275fe36e97ffd2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a126e0389fbe3790d73c7b0bffa12d195"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a126e0389fbe3790d73c7b0bffa12d195">invalidation_consistency_and_optimization</a> ()</td></tr>
<tr class="separator:a126e0389fbe3790d73c7b0bffa12d195"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae983b5ab574c4215b081fbca9dc5a622"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrectangle.html">rectangle</a>&lt; <a class="el" href="structpoint.html">point</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a></td></tr>
<tr class="separator:ae983b5ab574c4215b081fbca9dc5a622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac51c1f116f3c71096a42341740601e27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classui__adaptor.html#a1869dfa317b5e479098e8b692245c4d1">redraw_callback_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#ac51c1f116f3c71096a42341740601e27">redraw_cb</a></td></tr>
<tr class="separator:ac51c1f116f3c71096a42341740601e27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a36c79a26629029ae86572445b52b14"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classui__adaptor.html#a7ef118f755b5a13bcb087b2fdfd76667">screen_resize_callback_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a6a36c79a26629029ae86572445b52b14">screen_resized_cb</a></td></tr>
<tr class="separator:a6a36c79a26629029ae86572445b52b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad6d435bd61a57c9086fef1b86054953"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2c">cursor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#aad6d435bd61a57c9086fef1b86054953">cursor_type</a> = <a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca98bd1c45684cf587ac2347a92dd7bb51">cursor::last</a></td></tr>
<tr class="separator:aad6d435bd61a57c9086fef1b86054953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae764bb1333094edd7aa22d67dbef384b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpoint.html">point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#ae764bb1333094edd7aa22d67dbef384b">cursor_pos</a></td></tr>
<tr class="separator:ae764bb1333094edd7aa22d67dbef384b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f7b701ff728ad1fe090bf94307ffb19"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a3f7b701ff728ad1fe090bf94307ffb19">disabling_uis_below</a></td></tr>
<tr class="separator:a3f7b701ff728ad1fe090bf94307ffb19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989ffd15abf5a44a5315db2aa30fd264"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a989ffd15abf5a44a5315db2aa30fd264">is_debug_message_ui</a></td></tr>
<tr class="separator:a989ffd15abf5a44a5315db2aa30fd264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca9f748919459f9540b84c1822131b7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a></td></tr>
<tr class="separator:acca9f748919459f9540b84c1822131b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5d6dd315a0f90ee5661f8f2cfa0c0c8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#ab5d6dd315a0f90ee5661f8f2cfa0c0c8">deferred_resize</a></td></tr>
<tr class="separator:ab5d6dd315a0f90ee5661f8f2cfa0c0c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Adaptor between UI code and the UI management system. </p>
<p>Using this class allows UIs to be correctly resized and redrawn when the game window is resized or when exiting from other UIs.</p>
<p>Usage example: </p><div class="fragment"><div class="line"><span class="comment">// Effective in the local scope</span></div>
<div class="line"><a class="code" href="classui__adaptor.html">ui_adaptor</a> <a class="code" href="namespaceui.html">ui</a>;</div>
<div class="line"><span class="comment">// Ncurses window for drawing</span></div>
<div class="line"><a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> win;</div>
<div class="line"><span class="comment">// Things to do when the game window changes size</span></div>
<div class="line"><a class="code" href="namespaceui.html">ui</a>.on_screen_resize( [&amp;]( <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line">    <span class="comment">// Create an ncurses window</span></div>
<div class="line">    win = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> / 2, <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> / 2, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> / 4, <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> / 4 ) );</div>
<div class="line">    <span class="comment">// The window passed to this call must contain all the space the redraw</span></div>
<div class="line">    <span class="comment">// callback draws to, to ensure proper refreshing when resizing or exiting</span></div>
<div class="line">    <span class="comment">// from other UIs.</span></div>
<div class="line">    <a class="code" href="namespaceui.html">ui</a>.position_from_window( win );</div>
<div class="line">} );</div>
<div class="line"><span class="comment">// Mark the resize callback to be called on the first redraw</span></div>
<div class="line"><a class="code" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><span class="comment">// Things to do when redrawing the UI</span></div>
<div class="line"><a class="code" href="namespaceui.html">ui</a>.on_redraw( [&amp;]( <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line">    <span class="comment">// Clear UI area</span></div>
<div class="line">    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( win );</div>
<div class="line">    <span class="comment">// Print things</span></div>
<div class="line">    <a class="code" href="namespacecatacurses.html#abde9c157650e464f0a27441d81c84644">mvwprintw</a>( win, <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <span class="stringliteral">&quot;Hello World!&quot;</span> );</div>
<div class="line">    <span class="comment">// Record the cursor position for screen readers and IME preview to</span></div>
<div class="line">    <span class="comment">// correctly function on curses</span></div>
<div class="line">    <a class="code" href="namespaceui.html">ui</a>.record_cursor( win );</div>
<div class="line">    <span class="comment">// Write to frame buffer</span></div>
<div class="line">    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( win );</div>
<div class="line">} );</div>
<div class="line"> </div>
<div class="line"><a class="code" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;&lt;CATEGORY_NAME&gt;&quot;</span> );</div>
<div class="line">ctxt.register_action( <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line">    <span class="comment">// Invalidate the top UI (that is, this UI) and redraw all</span></div>
<div class="line">    <span class="comment">// invalidated UIs (including lower UIs that calls this UI).</span></div>
<div class="line">    <span class="comment">// May call the resize callbacks.</span></div>
<div class="line">    <a class="code" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line">    <span class="comment">// Get user input. Note that this may call the resize and redraw</span></div>
<div class="line">    <span class="comment">// callbacks multiple times due to screen resize, rendering target</span></div>
<div class="line">    <span class="comment">// reset, etc.</span></div>
<div class="line">    <span class="keyword">const</span> std::string <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = ctxt.handle_input();</div>
<div class="line">    <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">cata_variant_type::point</a></div><div class="ttdeci">@ point</div></div>
<div class="ttc" id="aclasscatacurses_1_1window_html"><div class="ttname"><a href="classcatacurses_1_1window.html">catacurses::window</a></div><div class="ttdoc">A wrapper over a pointer to a curses window.</div><div class="ttdef"><b>Definition:</b> <a href="cursesdef_8h_source.html#l00054">cursesdef.h:55</a></div></div>
<div class="ttc" id="aclassinput__context_html"><div class="ttname"><a href="classinput__context.html">input_context</a></div><div class="ttdoc">Represents a context in which a set of actions can be performed.</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8h_source.html#l00039">input_context.h:40</a></div></div>
<div class="ttc" id="aclassui__adaptor_html"><div class="ttname"><a href="classui__adaptor.html">ui_adaptor</a></div><div class="ttdoc">Adaptor between UI code and the UI management system.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00074">ui_manager.h:75</a></div></div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a></div><div class="ttdeci">@ action</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00044">dialogue.h:43</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a576fd20080b8f49e27acf97af45b374b"><div class="ttname"><a href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a></div><div class="ttdeci">window newwin(int nlines, int ncols, const point &amp;begin)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00058">ncurses_def.cpp:58</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_aa9823d249c21fa50daf277957fabb175"><div class="ttname"><a href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">catacurses::wnoutrefresh</a></div><div class="ttdeci">void wnoutrefresh(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00067">ncurses_def.cpp:67</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_abde9c157650e464f0a27441d81c84644"><div class="ttname"><a href="namespacecatacurses.html#abde9c157650e464f0a27441d81c84644">catacurses::mvwprintw</a></div><div class="ttdeci">void mvwprintw(const window &amp;win, const point &amp;p, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00163">ncurses_def.cpp:163</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_ace2ce3990cb812fb83adf6e4ea1f9e8e"><div class="ttname"><a href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">catacurses::werase</a></div><div class="ttdeci">void werase(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00083">ncurses_def.cpp:83</a></div></div>
<div class="ttc" id="anamespaceui__manager_html_ae38f3a918052ef286ee60daac47f52d4"><div class="ttname"><a href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a></div><div class="ttdeci">void redraw()</div><div class="ttdoc">Invalidate the top window and redraw all invalidated windows.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00504">ui_manager.cpp:504</a></div></div>
<div class="ttc" id="anamespaceui_html"><div class="ttname"><a href="namespaceui.html">ui</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00024">overmap_ui.h:25</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a000abea6447dfafd5f9b787aa6753609"><div class="ttname"><a href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a></div><div class="ttdeci">int TERMX</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00049">output.cpp:49</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a567a63be8cb70cc3eb47bf8affced8e5"><div class="ttname"><a href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a></div><div class="ttdeci">int TERMY</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00050">output.cpp:50</a></div></div>
<div class="ttc" id="apoint_8h_html_a0ee2195dcb488ae55fbf4316f5011172"><div class="ttname"><a href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></div><div class="ttdeci">constexpr point point_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00251">point.h:251</a></div></div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00074">74</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a1869dfa317b5e479098e8b692245c4d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1869dfa317b5e479098e8b692245c4d1">&#9670;&nbsp;</a></span>redraw_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classui__adaptor.html#a1869dfa317b5e479098e8b692245c4d1">ui_adaptor::redraw_callback_t</a> =  std::function&lt;void( <a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp; )&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00079">79</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

</div>
</div>
<a id="a7ef118f755b5a13bcb087b2fdfd76667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ef118f755b5a13bcb087b2fdfd76667">&#9670;&nbsp;</a></span>screen_resize_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classui__adaptor.html#a7ef118f755b5a13bcb087b2fdfd76667">ui_adaptor::screen_resize_callback_t</a> =  std::function&lt;void( <a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp; )&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00080">80</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a308149268696cde80275fe36e97ffd2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a308149268696cde80275fe36e97ffd2c">&#9670;&nbsp;</a></span>cursor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2c">ui_adaptor::cursor</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a308149268696cde80275fe36e97ffd2ca98bd1c45684cf587ac2347a92dd7bb51"></a>last&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a308149268696cde80275fe36e97ffd2ca8b9035807842a4e4dbe009f3f1478127"></a>custom&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a308149268696cde80275fe36e97ffd2ca075ae3d2fc31640504f814f60e5ef713"></a>disabled&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00243">243</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                          {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <a class="code" href="weather__type_8h.html#a72d839b22172d982273f161206458e25aa1a074a72eb46dfdde53e589d946ab98">last</a>, custom, disabled</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        };</div>
<div class="ttc" id="aweather__type_8h_html_a72d839b22172d982273f161206458e25aa1a074a72eb46dfdde53e589d946ab98"><div class="ttname"><a href="weather__type_8h.html#a72d839b22172d982273f161206458e25aa1a074a72eb46dfdde53e589d946ab98">last</a></div><div class="ttdeci">@ last</div><div class="ttdef"><b>Definition:</b> <a href="weather__type_8h_source.html#l00055">weather_type.h:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae84e02f9bb8f2f4b9773ccce12100301"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae84e02f9bb8f2f4b9773ccce12100301">&#9670;&nbsp;</a></span>ui_adaptor() <span class="overload">[1/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ui_adaptor::ui_adaptor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a <code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code> which is automatically added to the UI stack, and removed from the stack when it is deconstructed. </p>
<p>(When declared as a local variable, it is removed from the stack when leaving the local scope.) </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00033">33</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                       : <a class="code" href="classui__adaptor.html#ad3d4a4159e41337a20fa46e6da2003a3">is_imgui</a>( <span class="keyword">false</span> ), <a class="code" href="classui__adaptor.html#a3f7b701ff728ad1fe090bf94307ffb19">disabling_uis_below</a>( <span class="keyword">false</span> ),</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="classui__adaptor.html#a989ffd15abf5a44a5315db2aa30fd264">is_debug_message_ui</a>( <span class="keyword">false</span> ),</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a>( <span class="keyword">false</span> ), <a class="code" href="classui__adaptor.html#ab5d6dd315a0f90ee5661f8f2cfa0c0c8">deferred_resize</a>( <span class="keyword">false</span> )</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;{</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.emplace_back( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div>
<div class="ttc" id="aclassui__adaptor_html_a3f7b701ff728ad1fe090bf94307ffb19"><div class="ttname"><a href="classui__adaptor.html#a3f7b701ff728ad1fe090bf94307ffb19">ui_adaptor::disabling_uis_below</a></div><div class="ttdeci">bool disabling_uis_below</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00249">ui_manager.h:249</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_a989ffd15abf5a44a5315db2aa30fd264"><div class="ttname"><a href="classui__adaptor.html#a989ffd15abf5a44a5315db2aa30fd264">ui_adaptor::is_debug_message_ui</a></div><div class="ttdeci">bool is_debug_message_ui</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00250">ui_manager.h:250</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_ab5d6dd315a0f90ee5661f8f2cfa0c0c8"><div class="ttname"><a href="classui__adaptor.html#ab5d6dd315a0f90ee5661f8f2cfa0c0c8">ui_adaptor::deferred_resize</a></div><div class="ttdeci">bool deferred_resize</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00253">ui_manager.h:253</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_acca9f748919459f9540b84c1822131b7"><div class="ttname"><a href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">ui_adaptor::invalidated</a></div><div class="ttdeci">bool invalidated</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00252">ui_manager.h:252</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_ad3d4a4159e41337a20fa46e6da2003a3"><div class="ttname"><a href="classui__adaptor.html#ad3d4a4159e41337a20fa46e6da2003a3">ui_adaptor::is_imgui</a></div><div class="ttdeci">bool is_imgui</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00077">ui_manager.h:77</a></div></div>
<div class="ttc" id="aui__manager_8cpp_html_ab3a3f30ed70140333f4af693ff0a4e9c"><div class="ttname"><a href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a></div><div class="ttdeci">static ui_stack_t ui_stack</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00031">ui_manager.cpp:31</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8cpp_source.html#l00031">ui_stack</a>.</p>

</div>
</div>
<a id="ae6e9a3218af06bcdb6e6f9a63e83ece7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6e9a3218af06bcdb6e6f9a63e83ece7">&#9670;&nbsp;</a></span>ui_adaptor() <span class="overload">[2/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ui_adaptor::ui_adaptor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structui__adaptor_1_1disable__uis__below.html">ui_adaptor::disable_uis_below</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code> constructed this way will block any UIs below from being redrawn or resized until it is deconstructed. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00040">40</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                                                    : <a class="code" href="classui__adaptor.html#ad3d4a4159e41337a20fa46e6da2003a3">is_imgui</a>( <span class="keyword">false</span> ),</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="classui__adaptor.html#a3f7b701ff728ad1fe090bf94307ffb19">disabling_uis_below</a>( <span class="keyword">true</span> ),</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="classui__adaptor.html#a989ffd15abf5a44a5315db2aa30fd264">is_debug_message_ui</a>( <span class="keyword">false</span> ), <a class="code" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a>( <span class="keyword">false</span> ), <a class="code" href="classui__adaptor.html#ab5d6dd315a0f90ee5661f8f2cfa0c0c8">deferred_resize</a>( <span class="keyword">false</span> )</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;{</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.emplace_back( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8cpp_source.html#l00031">ui_stack</a>.</p>

</div>
</div>
<a id="a803f9bf3eafa0bc221eb96d3015c7837"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a803f9bf3eafa0bc221eb96d3015c7837">&#9670;&nbsp;</a></span>ui_adaptor() <span class="overload">[3/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ui_adaptor::ui_adaptor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structui__adaptor_1_1debug__message__ui.html">ui_adaptor::debug_message_ui</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Special constructor used by <a class="el" href="debug_8cpp.html">debug.cpp</a> when showing a debug message popup. </p>
<p>If the UI is constructed when a redraw call is in progress, The redraw call will be restarted after this UI is deconstructed and the in progress callback returns, in order to prevent incorrect graphics caused by overwritten screen area and resizing. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00047">47</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                                   : <a class="code" href="classui__adaptor.html#ad3d4a4159e41337a20fa46e6da2003a3">is_imgui</a>( <span class="keyword">false</span> ),</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="classui__adaptor.html#a3f7b701ff728ad1fe090bf94307ffb19">disabling_uis_below</a>( <span class="keyword">true</span> ),</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="classui__adaptor.html#a989ffd15abf5a44a5315db2aa30fd264">is_debug_message_ui</a>( <span class="keyword">true</span> ), <a class="code" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a>( <span class="keyword">false</span> ), <a class="code" href="classui__adaptor.html#ab5d6dd315a0f90ee5661f8f2cfa0c0c8">deferred_resize</a>( <span class="keyword">false</span> )</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( !<a class="code" href="ui__manager_8cpp.html#abba7b6d7c2497114477cbe0357917eed">showing_debug_message</a> );</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="ui__manager_8cpp.html#abba7b6d7c2497114477cbe0357917eed">showing_debug_message</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="ui__manager_8cpp.html#ab48bfb4852ebbd86bb0dbb3c99d4edef">redraw_in_progress</a> ) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#if defined( TILES )</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="comment">// Reset the clip rect because the debug message UI might be created in a</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">// redraw callback when a clip rect is active. When the UI is deconstructed,</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">// restore the previous clip rect to prevent the redraw callback from</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">// drawing outside the clip area, which will cause stuck graphics. This</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">// alone does not prevent the graphics from becoming borked in other ways,</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// but `ui_manager` will redo the entire redrawing as soon as the redraw</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">// callback returns.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keyword">const</span> <a class="code" href="sdl__wrappers_8h.html#a8246e5114ebf3165ebf5549a4010b420">SDL_Renderer_Ptr</a> &amp;renderer = get_sdl_renderer();</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">if</span>( SDL_RenderIsClipEnabled( renderer.get() ) ) {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        prev_clip_rect = SDL_Rect();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        SDL_RenderGetClipRect( renderer.get(), &amp;prev_clip_rect.value() );</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        SDL_RenderSetClipRect( renderer.get(), <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        prev_clip_rect = std::nullopt;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.emplace_back( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
<div class="ttc" id="acata__assert_8h_html_abb2ca9fce6a171932c05748ecc5df5bb"><div class="ttname"><a href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a></div><div class="ttdeci">#define cata_assert(expression)</div><div class="ttdef"><b>Definition:</b> <a href="cata__assert_8h_source.html#l00036">cata_assert.h:36</a></div></div>
<div class="ttc" id="asdl__wrappers_8h_html_a8246e5114ebf3165ebf5549a4010b420"><div class="ttname"><a href="sdl__wrappers_8h.html#a8246e5114ebf3165ebf5549a4010b420">SDL_Renderer_Ptr</a></div><div class="ttdeci">std::unique_ptr&lt; SDL_Renderer, SDL_Renderer_deleter &gt; SDL_Renderer_Ptr</div><div class="ttdef"><b>Definition:</b> <a href="sdl__wrappers_8h_source.html#l00032">sdl_wrappers.h:32</a></div></div>
<div class="ttc" id="aui__manager_8cpp_html_a2bfb07946b9342f4c79f55b8aa814a46"><div class="ttname"><a href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a></div><div class="ttdeci">static bool restart_redrawing</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00027">ui_manager.cpp:27</a></div></div>
<div class="ttc" id="aui__manager_8cpp_html_ab48bfb4852ebbd86bb0dbb3c99d4edef"><div class="ttname"><a href="ui__manager_8cpp.html#ab48bfb4852ebbd86bb0dbb3c99d4edef">redraw_in_progress</a></div><div class="ttdeci">static bool redraw_in_progress</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00025">ui_manager.cpp:25</a></div></div>
<div class="ttc" id="aui__manager_8cpp_html_abba7b6d7c2497114477cbe0357917eed"><div class="ttname"><a href="ui__manager_8cpp.html#abba7b6d7c2497114477cbe0357917eed">showing_debug_message</a></div><div class="ttdeci">static bool showing_debug_message</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00026">ui_manager.cpp:26</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cata__assert_8h_source.html#l00036">cata_assert</a>, <a class="el" href="ui__manager_8cpp_source.html#l00025">redraw_in_progress</a>, <a class="el" href="ui__manager_8cpp_source.html#l00027">restart_redrawing</a>, <a class="el" href="ui__manager_8cpp_source.html#l00026">showing_debug_message</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00031">ui_stack</a>.</p>

</div>
</div>
<a id="a3d5a0fa7c5fde4cf9098791b467710aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d5a0fa7c5fde4cf9098791b467710aa">&#9670;&nbsp;</a></span>ui_adaptor() <span class="overload">[4/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ui_adaptor::ui_adaptor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0c81ceb5d8bd65b375ae4945970c9b0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c81ceb5d8bd65b375ae4945970c9b0c">&#9670;&nbsp;</a></span>ui_adaptor() <span class="overload">[5/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ui_adaptor::ui_adaptor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac1ff6aab4edf19789f6365f95b9f5df2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1ff6aab4edf19789f6365f95b9f5df2">&#9670;&nbsp;</a></span>~ui_adaptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ui_adaptor::~ui_adaptor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00076">76</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;{</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classui__adaptor.html#a989ffd15abf5a44a5315db2aa30fd264">is_debug_message_ui</a> ) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( <a class="code" href="ui__manager_8cpp.html#abba7b6d7c2497114477cbe0357917eed">showing_debug_message</a> );</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <a class="code" href="ui__manager_8cpp.html#abba7b6d7c2497114477cbe0357917eed">showing_debug_message</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#if defined( TILES )</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="comment">// See ui_adaptor( debug_message_ui )</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">if</span>( prev_clip_rect.has_value() ) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keyword">const</span> <a class="code" href="sdl__wrappers_8h.html#a8246e5114ebf3165ebf5549a4010b420">SDL_Renderer_Ptr</a> &amp;renderer = get_sdl_renderer();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            SDL_RenderSetClipRect( renderer.get(), &amp;prev_clip_rect.value() );</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.rbegin(); it &lt; <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.rend(); ++it ) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">if</span>( &amp;it-&gt;get() == <span class="keyword">this</span> ) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.erase( std::prev( it.base() ) );</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="comment">// TODO avoid invalidating portions that do not need to be redrawn</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <a class="code" href="namespaceui__manager.html#a93b4bb0f95c5d3a9be3b28ba09878fcc">ui_manager::invalidate</a>( <a class="code" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a>, <a class="code" href="classui__adaptor.html#a3f7b701ff728ad1fe090bf94307ffb19">disabling_uis_below</a> );</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
<div class="ttc" id="aclassui__adaptor_html_ae983b5ab574c4215b081fbca9dc5a622"><div class="ttname"><a href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">ui_adaptor::dimensions</a></div><div class="ttdeci">rectangle&lt; point &gt; dimensions</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00235">ui_manager.h:235</a></div></div>
<div class="ttc" id="anamespaceui__manager_html_a93b4bb0f95c5d3a9be3b28ba09878fcc"><div class="ttname"><a href="namespaceui__manager.html#a93b4bb0f95c5d3a9be3b28ba09878fcc">ui_manager::invalidate</a></div><div class="ttdeci">void invalidate(const rectangle&lt; point &gt; &amp;rect, const bool reenable_uis_below)</div><div class="ttdoc">Invalidate a portion of the screen when a UI is resized, closed, etc.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00499">ui_manager.cpp:499</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cata__assert_8h_source.html#l00036">cata_assert</a>, <a class="el" href="ui__manager_8h_source.html#l00235">dimensions</a>, <a class="el" href="ui__manager_8h_source.html#l00249">disabling_uis_below</a>, <a class="el" href="ui__manager_8cpp_source.html#l00499">ui_manager::invalidate()</a>, <a class="el" href="ui__manager_8h_source.html#l00250">is_debug_message_ui</a>, <a class="el" href="ui__manager_8cpp_source.html#l00026">showing_debug_message</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00031">ui_stack</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a892243cd9471d22bb2f56787785f1429"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a892243cd9471d22bb2f56787785f1429">&#9670;&nbsp;</a></span>default_cursor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::default_cursor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use the terminal cursor position when the redraw callback returns. </p>
<p>This is the default. See also <code>set_cursor</code>. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00189">189</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;{</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">#if !defined( TILES )</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="classui__adaptor.html#aad6d435bd61a57c9086fef1b86054953">cursor_type</a> = <a class="code" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca98bd1c45684cf587ac2347a92dd7bb51">cursor::last</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">// Unimplemented</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="classui__adaptor.html#aad6d435bd61a57c9086fef1b86054953">cursor_type</a> = <a class="code" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca075ae3d2fc31640504f814f60e5ef713">cursor::disabled</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;}</div>
<div class="ttc" id="aclassui__adaptor_html_a308149268696cde80275fe36e97ffd2ca075ae3d2fc31640504f814f60e5ef713"><div class="ttname"><a href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca075ae3d2fc31640504f814f60e5ef713">ui_adaptor::cursor::disabled</a></div><div class="ttdeci">@ disabled</div></div>
<div class="ttc" id="aclassui__adaptor_html_a308149268696cde80275fe36e97ffd2ca98bd1c45684cf587ac2347a92dd7bb51"><div class="ttname"><a href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca98bd1c45684cf587ac2347a92dd7bb51">ui_adaptor::cursor::last</a></div><div class="ttdeci">@ last</div></div>
<div class="ttc" id="aclassui__adaptor_html_aad6d435bd61a57c9086fef1b86054953"><div class="ttname"><a href="classui__adaptor.html#aad6d435bd61a57c9086fef1b86054953">ui_adaptor::cursor_type</a></div><div class="ttdeci">cursor cursor_type</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00246">ui_manager.h:246</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00246">cursor_type</a>, <a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca075ae3d2fc31640504f814f60e5ef713">disabled</a>, and <a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca98bd1c45684cf587ac2347a92dd7bb51">last</a>.</p>

</div>
</div>
<a id="a06cd545e80a2b8f55990a94cda03efc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06cd545e80a2b8f55990a94cda03efc3">&#9670;&nbsp;</a></span>disable_cursor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::disable_cursor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do not set cursor for this <code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code>. </p>
<p>If any higher or lower UI sets the cursor, that cursor position is used instead. If no UI sets the cursor, the final cursor position when drawing is done is used. See also <code>set_cursor</code>. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00199">199</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;{</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="classui__adaptor.html#aad6d435bd61a57c9086fef1b86054953">cursor_type</a> = <a class="code" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca075ae3d2fc31640504f814f60e5ef713">cursor::disabled</a>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00246">cursor_type</a>, and <a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca075ae3d2fc31640504f814f60e5ef713">disabled</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__display_8cpp_source.html#l01534">Character::disp_info()</a>.</p>

</div>
</div>
<a id="a00f6cdcb2074b77840babb84fbef8b8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00f6cdcb2074b77840babb84fbef8b8c">&#9670;&nbsp;</a></span>has_imgui()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ui_adaptor::has_imgui </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00330">330</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;{</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> <a class="code" href="namespaceui.html">ui</a> : <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a> ) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="namespaceui.html">ui</a>.get().is_imgui ) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8cpp_source.html#l00031">ui_stack</a>.</p>

<p class="reference">Referenced by <a class="el" href="cata__imgui_8cpp_source.html#l00482">cataimgui::window::~window()</a>.</p>

</div>
</div>
<a id="aca9ba660964358b94caf74d5bff1e31c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca9ba660964358b94caf74d5bff1e31c">&#9670;&nbsp;</a></span>invalidate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::invalidate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrectangle.html">rectangle</a>&lt; <a class="el" href="structpoint.html">point</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>rect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>reenable_uis_below</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00309">309</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;{</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span>( rect.<a class="code" href="structrectangle.html#af7cec817aa5f9f48c6bb5b7615aff264">p_min</a>.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> &gt;= rect.<a class="code" href="structrectangle.html#a0d6dd0f5d65dd4f9b61d74d9baf6b499">p_max</a>.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> || rect.<a class="code" href="structrectangle.html#af7cec817aa5f9f48c6bb5b7615aff264">p_min</a>.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> &gt;= rect.<a class="code" href="structrectangle.html#a0d6dd0f5d65dd4f9b61d74d9baf6b499">p_max</a>.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> ) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">if</span>( reenable_uis_below ) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <a class="code" href="classui__adaptor.html#a126e0389fbe3790d73c7b0bffa12d195">invalidation_consistency_and_optimization</a>();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="comment">// Always invalidate every UI, even if it is below another UI with</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">// `disable_uis_below`, so when the UI with `disable_uis_below` is removed,</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="comment">// UIs below are correctly marked for redraw.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> it_upper = <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.cbegin(); it_upper &lt; <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.cend(); ++it_upper ) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keyword">const</span> <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp;ui_upper = it_upper-&gt;get();</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordflow">if</span>( !ui_upper.<a class="code" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> &amp;&amp; <a class="code" href="ui__manager_8cpp.html#af73f7be975b3e28580a4f060fb7d7663">overlap</a>( ui_upper.<a class="code" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a>, rect ) ) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="comment">// invalidated by `rect`</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            ui_upper.<a class="code" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="classui__adaptor.html#a126e0389fbe3790d73c7b0bffa12d195">invalidation_consistency_and_optimization</a>();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
<div class="ttc" id="aclassui__adaptor_html_a126e0389fbe3790d73c7b0bffa12d195"><div class="ttname"><a href="classui__adaptor.html#a126e0389fbe3790d73c7b0bffa12d195">ui_adaptor::invalidation_consistency_and_optimization</a></div><div class="ttdeci">static void invalidation_consistency_and_optimization()</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00237">ui_manager.cpp:237</a></div></div>
<div class="ttc" id="astructpoint_html_a9a82ca9504acabb1e30569f89c805471"><div class="ttname"><a href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">point::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00024">point.h:24</a></div></div>
<div class="ttc" id="astructpoint_html_ad679b07fb69d55f5ad454d0f1f2891d5"><div class="ttname"><a href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">point::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00023">point.h:23</a></div></div>
<div class="ttc" id="astructrectangle_html_a0d6dd0f5d65dd4f9b61d74d9baf6b499"><div class="ttname"><a href="structrectangle.html#a0d6dd0f5d65dd4f9b61d74d9baf6b499">rectangle::p_max</a></div><div class="ttdeci">Point p_max</div><div class="ttdef"><b>Definition:</b> <a href="cuboid__rectangle_8h_source.html#l00020">cuboid_rectangle.h:20</a></div></div>
<div class="ttc" id="astructrectangle_html_af7cec817aa5f9f48c6bb5b7615aff264"><div class="ttname"><a href="structrectangle.html#af7cec817aa5f9f48c6bb5b7615aff264">rectangle::p_min</a></div><div class="ttdeci">Point p_min</div><div class="ttdef"><b>Definition:</b> <a href="cuboid__rectangle_8h_source.html#l00019">cuboid_rectangle.h:17</a></div></div>
<div class="ttc" id="aui__manager_8cpp_html_af73f7be975b3e28580a4f060fb7d7663"><div class="ttname"><a href="ui__manager_8cpp.html#af73f7be975b3e28580a4f060fb7d7663">overlap</a></div><div class="ttdeci">static bool overlap(const rectangle&lt; point &gt; &amp;lhs, const rectangle&lt; point &gt; &amp;rhs)</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00224">ui_manager.cpp:224</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00235">dimensions</a>, <a class="el" href="ui__manager_8h_source.html#l00252">invalidated</a>, <a class="el" href="ui__manager_8cpp_source.html#l00237">invalidation_consistency_and_optimization()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00224">overlap()</a>, <a class="el" href="cuboid__rectangle_8h_source.html#l00020">rectangle&lt; Point, &gt;::p_max</a>, <a class="el" href="cuboid__rectangle_8h_source.html#l00017">rectangle&lt; Point, &gt;::p_min</a>, <a class="el" href="ui__manager_8cpp_source.html#l00031">ui_stack</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00499">ui_manager::invalidate()</a>.</p>

</div>
</div>
<a id="a1629a0fbc701c48c974bb374f6cfad16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1629a0fbc701c48c974bb374f6cfad16">&#9670;&nbsp;</a></span>invalidate_ui()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::invalidate_ui </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invalidate this UI so it gets redrawn the next redraw unless an upper UI completely occludes this UI. </p>
<p>May also cause upper UIs to redraw. Can be used to mark lower UIs for redrawing when their associated data has changed. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00275">275</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;{</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> ) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keyword">auto</span> it = <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.cbegin();</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">for</span>( ; it &lt; <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.cend(); ++it ) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">if</span>( &amp;it-&gt;get() == <span class="keyword">this</span> ) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">if</span>( it == <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.end() ) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// If an upper UI occludes this UI then nothing gets redrawn</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> it_upper = std::next( it ); it_upper &lt; <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.cend(); ++it_upper ) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a857af22f119fefbfa24769ed2ad6d5e7">contains</a>( it_upper-&gt;get().dimensions, <a class="code" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a> ) ) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment">// Always mark this UI for redraw even if it is below another UI with</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">// `disable_uis_below`, so when the UI with `disable_uis_below` is removed,</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// this UI is correctly marked for redraw.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="classui__adaptor.html#a126e0389fbe3790d73c7b0bffa12d195">invalidation_consistency_and_optimization</a>();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div>
<div class="ttc" id="aenums_8h_html_a02646717f97faa05c11dbda0aac2c716a857af22f119fefbfa24769ed2ad6d5e7"><div class="ttname"><a href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a857af22f119fefbfa24769ed2ad6d5e7">ot_match_type::contains</a></div><div class="ttdeci">@ contains</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a857af22f119fefbfa24769ed2ad6d5e7">contains</a>, <a class="el" href="ui__manager_8h_source.html#l00235">dimensions</a>, <a class="el" href="ui__manager_8h_source.html#l00252">invalidated</a>, <a class="el" href="ui__manager_8cpp_source.html#l00237">invalidation_consistency_and_optimization()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00031">ui_stack</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__display_8cpp_source.html#l01229">handle_player_display_action()</a>, <a class="el" href="overmap__ui_8cpp_source.html#l01497">overmap_ui::place_ter_or_special()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00201">trade_ui::recalc_values_cpane()</a>, <a class="el" href="overmap__ui_8cpp_source.html#l01358">overmap_ui::search()</a>, and <a class="el" href="diary__ui_8cpp_source.html#l00173">diary::show_diary_ui()</a>.</p>

</div>
</div>
<a id="a126e0389fbe3790d73c7b0bffa12d195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a126e0389fbe3790d73c7b0bffa12d195">&#9670;&nbsp;</a></span>invalidation_consistency_and_optimization()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::invalidation_consistency_and_optimization </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00237">237</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;{</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">// Only ensure consistency and optimize for UIs not disabled by another UI</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">// with `disable_uis_below`, since if a UI is disabled, it does not get</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">// resized or redrawn, so the invalidation flag is not cleared, and including</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="comment">// the disabled UI in the following calculation would unnecessarily</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">// invalidate any upper intersecting UIs.</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keyword">auto</span> rfirst = <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.crbegin();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">for</span>( ; rfirst != <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.crend(); ++rfirst ) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">if</span>( rfirst-&gt;get().disabling_uis_below ) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> first = rfirst == <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.crend() ? <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.cbegin() : std::prev( rfirst.base() );</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> it_upper = first; it_upper &lt; <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.cend(); ++it_upper ) {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keyword">const</span> <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp;ui_upper = it_upper-&gt;get();</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">auto</span> it_lower = first; it_lower &lt; it_upper; ++it_lower ) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="keyword">const</span> <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp;ui_lower = it_lower-&gt;get();</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="keywordflow">if</span>( !ui_upper.<a class="code" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> &amp;&amp; ui_lower.<a class="code" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> &amp;&amp;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                <a class="code" href="ui__manager_8cpp.html#af73f7be975b3e28580a4f060fb7d7663">overlap</a>( ui_upper.<a class="code" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a>, ui_lower.<a class="code" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a> ) ) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                <span class="comment">// invalidated by lower invalidated UIs</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                ui_upper.<a class="code" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <span class="keywordflow">if</span>( ui_upper.<a class="code" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> &amp;&amp; ui_lower.<a class="code" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> &amp;&amp;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a857af22f119fefbfa24769ed2ad6d5e7">contains</a>( ui_upper.<a class="code" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a>, ui_lower.<a class="code" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a> ) ) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                <span class="comment">// fully obscured lower UIs do not need to be redrawn.</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                ui_lower.<a class="code" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                <span class="comment">// Note: we don&#39;t need to re-test ui_lower from earlier iterations</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                <span class="comment">// during which ui_upper.invalidated hadn&#39;t yet been determined to</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <span class="comment">// be true, because if the ui_lower would be obscured by ui_upper,</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="comment">// it implies that ui_lower would overlap with ui_upper, by which</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <span class="comment">// we would have already determined ui_upper.invalidated to be true</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                <span class="comment">// then.</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a857af22f119fefbfa24769ed2ad6d5e7">contains</a>, <a class="el" href="ui__manager_8h_source.html#l00235">dimensions</a>, <a class="el" href="ui__manager_8h_source.html#l00252">invalidated</a>, <a class="el" href="ui__manager_8cpp_source.html#l00224">overlap()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00031">ui_stack</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00309">invalidate()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00275">invalidate_ui()</a>.</p>

</div>
</div>
<a id="aca44063b3d85e97d97e2701ef3656433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca44063b3d85e97d97e2701ef3656433">&#9670;&nbsp;</a></span>mark_resize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::mark_resize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark this <code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code> for resizing the next time it is redrawn. </p>
<p>This is normally called alongside <code>on_screen_resize</code> to initialize the UI on the first redraw. You should also use this function to explicitly request a reinitialization if any value the screen resize callback depends on (apart from the screen size) has changed. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00213">213</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;{</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="classui__adaptor.html#ab5d6dd315a0f90ee5661f8f2cfa0c0c8">deferred_resize</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00253">deferred_resize</a>.</p>

<p class="reference">Referenced by <a class="el" href="debug__menu_8cpp_source.html#l00918">debug_menu::change_spells()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00399">veh_interact::create_or_get_ui_adaptor()</a>, <a class="el" href="player__display_8cpp_source.html#l01534">Character::disp_info()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l04355">inventory_examiner::execute()</a>, <a class="el" href="diary__ui_8cpp_source.html#l00173">diary::show_diary_ui()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00105">trade_ui::trade_ui()</a>.</p>

</div>
</div>
<a id="a37e0f0811d9460640b86442a1facc87d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37e0f0811d9460640b86442a1facc87d">&#9670;&nbsp;</a></span>on_redraw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::on_redraw </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classui__adaptor.html#a1869dfa317b5e479098e8b692245c4d1">redraw_callback_t</a> &amp;&#160;</td>
          <td class="paramname"><em>fun</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set redraw and resize callbacks. </p>
<p>The resize callback should call <code>position</code> or <code>position_from_window</code> to set the size of the UI, and (re-)calculate any UI data that is related to the screen size, including <code><a class="el" href="classcatacurses_1_1window.html" title="A wrapper over a pointer to a curses window.">catacurses::window</a></code> instances. In most cases, you should also call <code>mark_resize</code> along with <code>on_screen_resize</code> so the UI is initialized by the resizing callback when redrawn for the first time.</p>
<p>The redraw callback should only redraw to the area specified by the <code>position</code> or <code>position_from_window</code> call. Content drawn outside this area may not render correctly when resizing or exiting from other UIs. Transparency is not currently supported.</p>
<p>These callbacks should NOT:</p><ul>
<li>Construct new <code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code> instances</li>
<li>Deconstruct old <code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code> instances</li>
<li>Call <code>redraw</code> or <code>screen_resized</code></li>
<li>(Redraw callback) call <code>position_from_window</code>, <code>position</code>, or <code>invalidate_ui</code></li>
<li>Call any function that does these things, except for <code>debugmsg</code></li>
</ul>
<p>Otherwise, display glitches or even crashes might happen. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00143">143</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="classui__adaptor.html#ac51c1f116f3c71096a42341740601e27">redraw_cb</a> = fun;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div>
<div class="ttc" id="aclassui__adaptor_html_ac51c1f116f3c71096a42341740601e27"><div class="ttname"><a href="classui__adaptor.html#ac51c1f116f3c71096a42341740601e27">ui_adaptor::redraw_cb</a></div><div class="ttdeci">redraw_callback_t redraw_cb</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00236">ui_manager.h:236</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00236">redraw_cb</a>.</p>

<p class="reference">Referenced by <a class="el" href="debug__menu_8cpp_source.html#l00918">debug_menu::change_spells()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00399">veh_interact::create_or_get_ui_adaptor()</a>, <a class="el" href="player__display_8cpp_source.html#l01534">Character::disp_info()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l04355">inventory_examiner::execute()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00302">reset()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00292">auto_pickup::user_interface::show()</a>, <a class="el" href="safemode__ui_8cpp_source.html#l00045">safemode::show()</a>, <a class="el" href="diary__ui_8cpp_source.html#l00173">diary::show_diary_ui()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00105">trade_ui::trade_ui()</a>.</p>

</div>
</div>
<a id="abf55c7afc0d78d45a35788575f4c3cd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf55c7afc0d78d45a35788575f4c3cd5">&#9670;&nbsp;</a></span>on_screen_resize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::on_screen_resize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classui__adaptor.html#a7ef118f755b5a13bcb087b2fdfd76667">screen_resize_callback_t</a> &amp;&#160;</td>
          <td class="paramname"><em>fun</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00148">148</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;{</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="classui__adaptor.html#a6a36c79a26629029ae86572445b52b14">screen_resized_cb</a> = fun;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
<div class="ttc" id="aclassui__adaptor_html_a6a36c79a26629029ae86572445b52b14"><div class="ttname"><a href="classui__adaptor.html#a6a36c79a26629029ae86572445b52b14">ui_adaptor::screen_resized_cb</a></div><div class="ttdeci">screen_resize_callback_t screen_resized_cb</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00237">ui_manager.h:237</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00237">screen_resized_cb</a>.</p>

<p class="reference">Referenced by <a class="el" href="debug__menu_8cpp_source.html#l00918">debug_menu::change_spells()</a>, <a class="el" href="player__display_8cpp_source.html#l01534">Character::disp_info()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l04355">inventory_examiner::execute()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00302">reset()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00292">auto_pickup::user_interface::show()</a>, <a class="el" href="safemode__ui_8cpp_source.html#l00045">safemode::show()</a>, <a class="el" href="diary__ui_8cpp_source.html#l00173">diary::show_diary_ui()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00105">trade_ui::trade_ui()</a>.</p>

</div>
</div>
<a id="a5854b5aa4fcb1c425b8d72ae0bb07d19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5854b5aa4fcb1c425b8d72ae0bb07d19">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classui__adaptor.html">ui_adaptor</a>&amp; ui_adaptor::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acc276724623212fc8a60aea9bb0e54d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc276724623212fc8a60aea9bb0e54d4">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classui__adaptor.html">ui_adaptor</a>&amp; ui_adaptor::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af6aa8e52d6fe399f60da61e428f1f721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6aa8e52d6fe399f60da61e428f1f721">&#9670;&nbsp;</a></span>position()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::position </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>topleft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the position and size of the UI to that of an imaginary <code><a class="el" href="classcatacurses_1_1window.html" title="A wrapper over a pointer to a curses window.">catacurses::window</a></code> in normal font, except that the size can be zero. </p>
<p>Note that <code>topleft</code> and <code>size</code> are in console cells on both tiles and curses builds. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00119">119</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;{</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keyword">const</span> <a class="code" href="structrectangle.html">rectangle&lt;point&gt;</a> old_dimensions = <a class="code" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// ensure position is updated before calling invalidate</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor">#ifdef TILES</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keyword">const</span> window_dimensions dim = get_window_dimensions( topleft, <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> );</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a> = <a class="code" href="structrectangle.html">rectangle&lt;point&gt;</a>( dim.window_pos_pixel,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                                   dim.window_pos_pixel + dim.window_size_pixel );</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a> = <a class="code" href="structrectangle.html">rectangle&lt;point&gt;</a>( topleft, topleft + <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> );</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="namespaceui__manager.html#a93b4bb0f95c5d3a9be3b28ba09878fcc">ui_manager::invalidate</a>( old_dimensions, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div>
<div class="ttc" id="anamespaceom__direction_html_af97f9dbddaa758278662da3478826c61"><div class="ttname"><a href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">om_direction::size</a></div><div class="ttdeci">const size_t size</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00066">omdata.h:66</a></div></div>
<div class="ttc" id="astructrectangle_html"><div class="ttname"><a href="structrectangle.html">rectangle&lt; point &gt;</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00235">dimensions</a>, <a class="el" href="ui__manager_8cpp_source.html#l00499">ui_manager::invalidate()</a>, <a class="el" href="ui__manager_8h_source.html#l00252">invalidated</a>, and <a class="el" href="omdata_8h_source.html#l00066">om_direction::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00399">veh_interact::create_or_get_ui_adaptor()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00099">position_from_window()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00302">reset()</a>.</p>

</div>
</div>
<a id="a9447504685f06ca195db127035a7b908"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9447504685f06ca195db127035a7b908">&#9670;&nbsp;</a></span>position_absolute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::position_absolute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>topleft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>like 'position', except topleft and size are given as pixels in tiled builds and console cells on curses builds </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00134">134</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;{</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keyword">const</span> <a class="code" href="structrectangle.html">rectangle&lt;point&gt;</a> old_dimensions = <a class="code" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="comment">// ensure position is updated before calling invalidate</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a> = <a class="code" href="structrectangle.html">rectangle&lt;point&gt;</a>( topleft, topleft + <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> );</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="namespaceui__manager.html#a93b4bb0f95c5d3a9be3b28ba09878fcc">ui_manager::invalidate</a>( old_dimensions, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00235">dimensions</a>, <a class="el" href="ui__manager_8cpp_source.html#l00499">ui_manager::invalidate()</a>, <a class="el" href="ui__manager_8h_source.html#l00252">invalidated</a>, and <a class="el" href="omdata_8h_source.html#l00066">om_direction::size</a>.</p>

</div>
</div>
<a id="aae52e80c928fa76affccc3b60d415982"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae52e80c928fa76affccc3b60d415982">&#9670;&nbsp;</a></span>position_from_window()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::position_from_window </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>win</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the position and size of the UI to that of <code>win</code>. </p>
<p>This information is used to calculate which UIs need redrawing during resizing and when exiting from other UIs, so do call this function in the resizing callback and ensure <code>win</code> contains all the space you will be drawing to. Transparency is not supported. If <code>win</code> is null, the function has the same effect as <code>position( point_zero, point_zero )</code> </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00099">99</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">if</span>( !win ) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <a class="code" href="classui__adaptor.html#af6aa8e52d6fe399f60da61e428f1f721">position</a>( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> );</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keyword">const</span> <a class="code" href="structrectangle.html">rectangle&lt;point&gt;</a> old_dimensions = <a class="code" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="comment">// ensure position is updated before calling invalidate</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#ifdef TILES</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keyword">const</span> window_dimensions dim = get_window_dimensions( win );</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <a class="code" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a> = <a class="code" href="structrectangle.html">rectangle&lt;point&gt;</a>(</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                         dim.window_pos_pixel, dim.window_pos_pixel + dim.window_size_pixel );</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> <a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>( <a class="code" href="namespacecatacurses.html#a3e3320f426a1343cb1effcaf648d2d1a">getbegx</a>( win ), <a class="code" href="namespacecatacurses.html#aa2debb3330f9739012d1d11db8db31d2">getbegy</a>( win ) );</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a> = <a class="code" href="structrectangle.html">rectangle&lt;point&gt;</a>( <a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, <a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a> + <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( win ), <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( win ) ) );</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <a class="code" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="namespaceui__manager.html#a93b4bb0f95c5d3a9be3b28ba09878fcc">ui_manager::invalidate</a>( old_dimensions, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
<div class="ttc" id="aclassui__adaptor_html_af6aa8e52d6fe399f60da61e428f1f721"><div class="ttname"><a href="classui__adaptor.html#af6aa8e52d6fe399f60da61e428f1f721">ui_adaptor::position</a></div><div class="ttdeci">void position(const point &amp;topleft, const point &amp;size)</div><div class="ttdoc">Set the position and size of the UI to that of an imaginary catacurses::window in normal font,...</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00119">ui_manager.cpp:119</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a3e3320f426a1343cb1effcaf648d2d1a"><div class="ttname"><a href="namespacecatacurses.html#a3e3320f426a1343cb1effcaf648d2d1a">catacurses::getbegx</a></div><div class="ttdeci">int getbegx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00107">ncurses_def.cpp:107</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a929fe85d472028f52d8a5cdfc0d35017"><div class="ttname"><a href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">catacurses::getmaxx</a></div><div class="ttdeci">int getmaxx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00091">ncurses_def.cpp:91</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_aa2debb3330f9739012d1d11db8db31d2"><div class="ttname"><a href="namespacecatacurses.html#aa2debb3330f9739012d1d11db8db31d2">catacurses::getbegy</a></div><div class="ttdeci">int getbegy(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00115">ncurses_def.cpp:115</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_adc81ca40445dc062af12fb6d7a4793d0"><div class="ttname"><a href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">catacurses::getmaxy</a></div><div class="ttdeci">int getmaxy(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00099">ncurses_def.cpp:99</a></div></div>
<div class="ttc" id="anamespacecoords_html_ad99808a305ad40299e592d1266bed4a7"><div class="ttname"><a href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">coords::origin</a></div><div class="ttdeci">origin</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00065">coordinates.h:65</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00235">dimensions</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00107">catacurses::getbegx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00115">catacurses::getbegy()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00099">catacurses::getmaxy()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00499">ui_manager::invalidate()</a>, <a class="el" href="ui__manager_8h_source.html#l00252">invalidated</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="point_8h_source.html#l00251">point_zero</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00119">position()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bodygraph_8cpp_source.html#l00581">bodygraph_display::create_or_get_ui_adaptor()</a>, <a class="el" href="iuse_8cpp_source.html#l02085">exosuit_interact::create_or_get_ui_adaptor()</a>, <a class="el" href="proficiency__ui_8cpp_source.html#l00290">prof_window::create_or_get_ui_adaptor()</a>, <a class="el" href="veh__appliance_8cpp_source.html#l00608">veh_app_interact::create_or_get_ui_adaptor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00399">veh_interact::create_or_get_ui_adaptor()</a>, <a class="el" href="player__display_8cpp_source.html#l01534">Character::disp_info()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l04355">inventory_examiner::execute()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00292">auto_pickup::user_interface::show()</a>, and <a class="el" href="safemode__ui_8cpp_source.html#l00045">safemode::show()</a>.</p>

</div>
</div>
<a id="ad01a3aa7cece44bbd772ac0af0d9cbb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad01a3aa7cece44bbd772ac0af0d9cbb2">&#9670;&nbsp;</a></span>record_cursor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::record_cursor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>win</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Record the current window cursor position and restore it when drawing is done. </p>
<p>The most recent cursor position is recorded regardless of whether the terminal cursor is updated by refreshing the window. See also <code>set_cursor</code>. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00166">166</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;{</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="preprocessor">#if !defined( TILES )</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="classui__adaptor.html#aad6d435bd61a57c9086fef1b86054953">cursor_type</a> = <a class="code" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca8b9035807842a4e4dbe009f3f1478127">cursor::custom</a>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="classui__adaptor.html#ae764bb1333094edd7aa22d67dbef384b">cursor_pos</a> = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="namespacecatacurses.html#a3e3320f426a1343cb1effcaf648d2d1a">getbegx</a>( w ) + <a class="code" href="namespacecatacurses.html#a09e76bc17486e9c6132dea7af4b74d23">getcurx</a>( w ), <a class="code" href="namespacecatacurses.html#aa2debb3330f9739012d1d11db8db31d2">getbegy</a>( w ) + <a class="code" href="namespacecatacurses.html#adb3fab9ab8e6695deeb44851374e9ef0">getcury</a>( w ) );</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">// Unimplemented</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="classui__adaptor.html#aad6d435bd61a57c9086fef1b86054953">cursor_type</a> = <a class="code" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca075ae3d2fc31640504f814f60e5ef713">cursor::disabled</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span><span class="keyword">&gt;</span>( w );</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="ttc" id="aclassui__adaptor_html_a308149268696cde80275fe36e97ffd2ca8b9035807842a4e4dbe009f3f1478127"><div class="ttname"><a href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca8b9035807842a4e4dbe009f3f1478127">ui_adaptor::cursor::custom</a></div><div class="ttdeci">@ custom</div></div>
<div class="ttc" id="aclassui__adaptor_html_ae764bb1333094edd7aa22d67dbef384b"><div class="ttname"><a href="classui__adaptor.html#ae764bb1333094edd7aa22d67dbef384b">ui_adaptor::cursor_pos</a></div><div class="ttdeci">point cursor_pos</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00247">ui_manager.h:247</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a09e76bc17486e9c6132dea7af4b74d23"><div class="ttname"><a href="namespacecatacurses.html#a09e76bc17486e9c6132dea7af4b74d23">catacurses::getcurx</a></div><div class="ttdeci">int getcurx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00123">ncurses_def.cpp:123</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_adb3fab9ab8e6695deeb44851374e9ef0"><div class="ttname"><a href="namespacecatacurses.html#adb3fab9ab8e6695deeb44851374e9ef0">catacurses::getcury</a></div><div class="ttdeci">int getcury(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00131">ncurses_def.cpp:131</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00247">cursor_pos</a>, <a class="el" href="ui__manager_8h_source.html#l00246">cursor_type</a>, <a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca8b9035807842a4e4dbe009f3f1478127">custom</a>, <a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca075ae3d2fc31640504f814f60e5ef713">disabled</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00107">catacurses::getbegx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00115">catacurses::getbegy()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00123">catacurses::getcurx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00131">catacurses::getcury()</a>, and <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>.</p>

</div>
</div>
<a id="abe684e05436c1532dbb494aef0a31906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe684e05436c1532dbb494aef0a31906">&#9670;&nbsp;</a></span>record_term_cursor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::record_term_cursor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Record the current terminal cursor position (where the cursor was placed when refreshing the last window) and restore it when drawing is done. </p>
<p>See also <code>set_cursor</code>. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00178">178</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;{</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor">#if !defined( TILES ) &amp;&amp; !defined(_MSC_VER)</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="classui__adaptor.html#aad6d435bd61a57c9086fef1b86054953">cursor_type</a> = <a class="code" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca8b9035807842a4e4dbe009f3f1478127">cursor::custom</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="classui__adaptor.html#ae764bb1333094edd7aa22d67dbef384b">cursor_pos</a> = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="namespacecatacurses.html#a09e76bc17486e9c6132dea7af4b74d23">getcurx</a>( <a class="code" href="namespacecatacurses.html#ae188d3848323d575c91920fc6add9106">catacurses::newscr</a> ), <a class="code" href="namespacecatacurses.html#adb3fab9ab8e6695deeb44851374e9ef0">getcury</a>( <a class="code" href="namespacecatacurses.html#ae188d3848323d575c91920fc6add9106">catacurses::newscr</a> ) );</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">// Unimplemented</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="classui__adaptor.html#aad6d435bd61a57c9086fef1b86054953">cursor_type</a> = <a class="code" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca075ae3d2fc31640504f814f60e5ef713">cursor::disabled</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
<div class="ttc" id="anamespacecatacurses_html_ae188d3848323d575c91920fc6add9106"><div class="ttname"><a href="namespacecatacurses.html#ae188d3848323d575c91920fc6add9106">catacurses::newscr</a></div><div class="ttdeci">window newscr</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00305">ncurses_def.cpp:305</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00247">cursor_pos</a>, <a class="el" href="ui__manager_8h_source.html#l00246">cursor_type</a>, <a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca8b9035807842a4e4dbe009f3f1478127">custom</a>, <a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca075ae3d2fc31640504f814f60e5ef713">disabled</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00123">catacurses::getcurx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00131">catacurses::getcury()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00305">catacurses::newscr</a>, and <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>.</p>

</div>
</div>
<a id="a98ddfbd09f2eb50e4a729dc37d10e9b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98ddfbd09f2eb50e4a729dc37d10e9b7">&#9670;&nbsp;</a></span>redraw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::redraw </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00340">340</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;{</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.empty() ) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.back().get().invalidated = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="classui__adaptor.html#a615ac8ceeec858bec210c4d4de5503cb">redraw_invalidated</a>();</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div>
<div class="ttc" id="aclassui__adaptor_html_a615ac8ceeec858bec210c4d4de5503cb"><div class="ttname"><a href="classui__adaptor.html#a615ac8ceeec858bec210c4d4de5503cb">ui_adaptor::redraw_invalidated</a></div><div class="ttdeci">static void redraw_invalidated()</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00348">ui_manager.cpp:348</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8cpp_source.html#l00348">redraw_invalidated()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00031">ui_stack</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00504">ui_manager::redraw()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00473">screen_resized()</a>.</p>

</div>
</div>
<a id="a615ac8ceeec858bec210c4d4de5503cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a615ac8ceeec858bec210c4d4de5503cb">&#9670;&nbsp;</a></span>redraw_invalidated()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::redraw_invalidated </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00348">348</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;{</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="cached__options_8cpp.html#a07c66893ce868671f9998dad80094cb1">test_mode</a> || <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.empty() ) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="comment">// This boolean is needed when a debug error is thrown inside redraw_invalidated</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="ui__manager_8cpp.html#a28b1103457c291d0ab9c6c7f28e0e67d">imgui_frame_started</a> ) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <a class="code" href="ncurses__def_8cpp.html#aab794b1c2f0e0764a5e723d06f7b8f7b">imclient</a>-&gt;new_frame();</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="ui__manager_8cpp.html#a28b1103457c291d0ab9c6c7f28e0e67d">imgui_frame_started</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;bool&gt;</a> prev_redraw_in_progress( <a class="code" href="ui__manager_8cpp.html#ab48bfb4852ebbd86bb0dbb3c99d4edef">redraw_in_progress</a> );</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;bool&gt;</a> prev_restart_redrawing( <a class="code" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> );</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="ui__manager_8cpp.html#ab48bfb4852ebbd86bb0dbb3c99d4edef">redraw_in_progress</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="comment">// Changed by the resize and redraw callbacks if they call `debugmsg`.</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="comment">// When this becomes true, the `debugmsg` call would have already changed</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="comment">// the resize and redraw flags according to the resized and redrawn states</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="comment">// so far, so we restart redrawing using the changed flags to redraw</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="comment">// the area invalidated by the debug message popup.</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <a class="code" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="comment">// Find the first enabled UI. From now on enabling and disabling UIs</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="comment">// have no effect until the end of this call.</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keyword">auto</span> first = <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.rbegin();</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">for</span>( ; first != <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.rend(); ++first ) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="keywordflow">if</span>( first-&gt;get().disabling_uis_below ) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="comment">// Avoid a copy if possible to improve performance. `ui_stack_orig`</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="comment">// always contains the original UI stack, and `first_enabled` always points</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="comment">// to elements of `ui_stack_orig`.</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        std::unique_ptr&lt;ui_stack_t&gt; ui_stack_copy;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="keyword">auto</span> first_enabled = first == <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.rend() ? <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.begin() : std::prev( first.base() );</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <a class="code" href="ui__manager_8cpp.html#a98331ede1d20b7da301097c5869051d8">ui_stack_t</a> *ui_stack_orig = &amp;<a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="comment">// Apply deferred resizing.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordtype">bool</span> needs_resize = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = first_enabled; !needs_resize &amp;&amp; it != ui_stack_orig-&gt;end(); ++it ) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp;<a class="code" href="namespaceui.html">ui</a> = *it;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="namespaceui.html">ui</a>.deferred_resize &amp;&amp; <a class="code" href="namespaceui.html">ui</a>.screen_resized_cb ) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                needs_resize = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">if</span>( needs_resize ) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">if</span>( !ui_stack_copy ) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <span class="comment">// Callbacks may modify the UI stack; make a copy of the original one.</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                ui_stack_copy = std::make_unique&lt;ui_stack_t&gt;( *ui_stack_orig );</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                first_enabled = ui_stack_copy-&gt;begin() + ( first_enabled - ui_stack_orig-&gt;begin() );</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                ui_stack_orig = &amp;*ui_stack_copy;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = first_enabled; !<a class="code" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> &amp;&amp; it != ui_stack_orig-&gt;end(); ++it ) {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp;<a class="code" href="namespaceui.html">ui</a> = *it;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="namespaceui.html">ui</a>.deferred_resize ) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="namespaceui.html">ui</a>.screen_resized_cb ) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                        <a class="code" href="namespaceui.html">ui</a>.screen_resized_cb( <a class="code" href="namespaceui.html">ui</a> );</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                    }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                    <span class="keywordflow">if</span>( !<a class="code" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> ) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                        <a class="code" href="namespaceui.html">ui</a>.deferred_resize = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="comment">// Redraw invalidated UIs.</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordtype">bool</span> needs_redraw = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> ) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = first_enabled; !needs_redraw &amp;&amp; it != ui_stack_orig-&gt;end(); ++it ) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                <span class="keyword">const</span> <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp;<a class="code" href="namespaceui.html">ui</a> = *it;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                <span class="keywordflow">if</span>( ( <a class="code" href="namespaceui.html">ui</a>.invalidated || <a class="code" href="namespaceui.html">ui</a>.is_imgui ) &amp;&amp; <a class="code" href="namespaceui.html">ui</a>.redraw_cb ) {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                    needs_redraw = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> &amp;&amp; needs_redraw ) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            <span class="keywordflow">if</span>( !ui_stack_copy ) {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                <span class="comment">// Callbacks may change the UI stack; make a copy of the original one.</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                ui_stack_copy = std::make_unique&lt;ui_stack_t&gt;( *ui_stack_orig );</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                first_enabled = ui_stack_copy-&gt;begin() + ( first_enabled - ui_stack_orig-&gt;begin() );</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                ui_stack_orig = &amp;*ui_stack_copy;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            std::optional&lt;point&gt; <a class="code" href="classui__adaptor.html#ae764bb1333094edd7aa22d67dbef384b">cursor_pos</a>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="keyword">auto</span> top_ui = std::prev( ui_stack_orig-&gt;end() );</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = first_enabled; !<a class="code" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> &amp;&amp; it != ui_stack_orig-&gt;end(); ++it ) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp;<a class="code" href="namespaceui.html">ui</a> = *it;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                <a class="code" href="namespaceui.html">ui</a>.is_on_top = it == top_ui;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="namespaceui.html">ui</a>.invalidated || <a class="code" href="namespaceui.html">ui</a>.is_imgui ) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="namespaceui.html">ui</a>.redraw_cb ) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                        <a class="code" href="namespaceui.html">ui</a>.default_cursor();</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                        <a class="code" href="namespaceui.html">ui</a>.redraw_cb( <a class="code" href="namespaceui.html">ui</a> );</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                        <span class="keywordflow">if</span>( <a class="code" href="namespaceui.html">ui</a>.cursor_type == <a class="code" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca98bd1c45684cf587ac2347a92dd7bb51">cursor::last</a> ) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                            <a class="code" href="namespaceui.html">ui</a>.record_term_cursor();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                            <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( <a class="code" href="namespaceui.html">ui</a>.cursor_type != <a class="code" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca98bd1c45684cf587ac2347a92dd7bb51">cursor::last</a> );</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                        }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                        <span class="keywordflow">if</span>( <a class="code" href="namespaceui.html">ui</a>.cursor_type == <a class="code" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca8b9035807842a4e4dbe009f3f1478127">cursor::custom</a> ) {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                            <a class="code" href="classui__adaptor.html#ae764bb1333094edd7aa22d67dbef384b">cursor_pos</a> = <a class="code" href="namespaceui.html">ui</a>.cursor_pos;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                        }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                    }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                    <span class="keywordflow">if</span>( !<a class="code" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> ) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                        <a class="code" href="namespaceui.html">ui</a>.invalidated = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                    }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> &amp;&amp; <a class="code" href="classui__adaptor.html#ae764bb1333094edd7aa22d67dbef384b">cursor_pos</a>.has_value() ) {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                <a class="code" href="ui__manager_8cpp.html#a5ac041bc9762c1bbb4c30c4f56da137e">restore_cursor</a>( <a class="code" href="classui__adaptor.html#ae764bb1333094edd7aa22d67dbef384b">cursor_pos</a>.value() );</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    } <span class="keywordflow">while</span>( <a class="code" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> );</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="preprocessor">#if defined(EMSCRIPTEN)</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    emscripten_sleep( 1 );</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="ncurses__def_8cpp.html#aab794b1c2f0e0764a5e723d06f7b8f7b">imclient</a>-&gt;end_frame();</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="ui__manager_8cpp.html#a28b1103457c291d0ab9c6c7f28e0e67d">imgui_frame_started</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="comment">// if any ImGui window needed to calculate the size of its contents,</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="comment">//  it needs an extra frame to draw. We do that here.</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="ncurses__def_8cpp.html#aab794b1c2f0e0764a5e723d06f7b8f7b">imclient</a>-&gt;auto_size_frame_active() ) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <a class="code" href="classui__adaptor.html#a615ac8ceeec858bec210c4d4de5503cb">redraw_invalidated</a>();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;}</div>
<div class="ttc" id="acached__options_8cpp_html_a07c66893ce868671f9998dad80094cb1"><div class="ttname"><a href="cached__options_8cpp.html#a07c66893ce868671f9998dad80094cb1">test_mode</a></div><div class="ttdeci">bool test_mode</div><div class="ttdef"><b>Definition:</b> <a href="cached__options_8cpp_source.html#l00008">cached_options.cpp:8</a></div></div>
<div class="ttc" id="aclassrestore__on__out__of__scope_html"><div class="ttname"><a href="classrestore__on__out__of__scope.html">restore_on_out_of_scope</a></div><div class="ttdef"><b>Definition:</b> <a href="cata__scope__helpers_8h_source.html#l00031">cata_scope_helpers.h:32</a></div></div>
<div class="ttc" id="ancurses__def_8cpp_html_aab794b1c2f0e0764a5e723d06f7b8f7b"><div class="ttname"><a href="ncurses__def_8cpp.html#aab794b1c2f0e0764a5e723d06f7b8f7b">imclient</a></div><div class="ttdeci">std::unique_ptr&lt; cataimgui::client &gt; imclient</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00039">ncurses_def.cpp:39</a></div></div>
<div class="ttc" id="aui__manager_8cpp_html_a28b1103457c291d0ab9c6c7f28e0e67d"><div class="ttname"><a href="ui__manager_8cpp.html#a28b1103457c291d0ab9c6c7f28e0e67d">imgui_frame_started</a></div><div class="ttdeci">static bool imgui_frame_started</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00024">ui_manager.cpp:24</a></div></div>
<div class="ttc" id="aui__manager_8cpp_html_a5ac041bc9762c1bbb4c30c4f56da137e"><div class="ttname"><a href="ui__manager_8cpp.html#a5ac041bc9762c1bbb4c30c4f56da137e">restore_cursor</a></div><div class="ttdeci">static void restore_cursor(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00204">ui_manager.cpp:204</a></div></div>
<div class="ttc" id="aui__manager_8cpp_html_a98331ede1d20b7da301097c5869051d8"><div class="ttname"><a href="ui__manager_8cpp.html#a98331ede1d20b7da301097c5869051d8">ui_stack_t</a></div><div class="ttdeci">std::vector&lt; std::reference_wrapper&lt; ui_adaptor &gt; &gt; ui_stack_t</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00022">ui_manager.cpp:22</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cata__assert_8h_source.html#l00036">cata_assert</a>, <a class="el" href="ui__manager_8h_source.html#l00247">cursor_pos</a>, <a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca8b9035807842a4e4dbe009f3f1478127">custom</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00039">imclient</a>, <a class="el" href="ui__manager_8cpp_source.html#l00024">imgui_frame_started</a>, <a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca98bd1c45684cf587ac2347a92dd7bb51">last</a>, <a class="el" href="ui__manager_8cpp_source.html#l00025">redraw_in_progress</a>, <a class="el" href="ui__manager_8cpp_source.html#l00027">restart_redrawing</a>, <a class="el" href="ui__manager_8cpp_source.html#l00204">restore_cursor()</a>, <a class="el" href="cached__options_8cpp_source.html#l00008">test_mode</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00031">ui_stack</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00340">redraw()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00509">ui_manager::redraw_invalidated()</a>.</p>

</div>
</div>
<a id="a0f8ad5ed55adae6cf7a1b2c59307fa0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f8ad5ed55adae6cf7a1b2c59307fa0b">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset all callbacks and dimensions. </p>
<p>Will cause invalidation of the previously specified screen area. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00302">302</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;{</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="classui__adaptor.html#af6aa8e52d6fe399f60da61e428f1f721">position</a>( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> );</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;}</div>
<div class="ttc" id="aclassui__adaptor_html_a37e0f0811d9460640b86442a1facc87d"><div class="ttname"><a href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">ui_adaptor::on_redraw</a></div><div class="ttdeci">void on_redraw(const redraw_callback_t &amp;fun)</div><div class="ttdoc">Set redraw and resize callbacks.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00143">ui_manager.cpp:143</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_abf55c7afc0d78d45a35788575f4c3cd5"><div class="ttname"><a href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">ui_adaptor::on_screen_resize</a></div><div class="ttdeci">void on_screen_resize(const screen_resize_callback_t &amp;fun)</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00148">ui_manager.cpp:148</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8cpp_source.html#l00143">on_redraw()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00148">on_screen_resize()</a>, <a class="el" href="point_8h_source.html#l00251">point_zero</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00119">position()</a>.</p>

</div>
</div>
<a id="a0797c91d744f656324e19b5c86a96eb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0797c91d744f656324e19b5c86a96eb3">&#9670;&nbsp;</a></span>screen_resized()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::screen_resized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00473">473</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;{</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="comment">// Always mark every UI for resize even if it is below another UI with</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="comment">// `disable_uis_below`, so when the UI with `disable_uis_below` is removed,</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="comment">// UIs below are correctly marked for resize.</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp;<a class="code" href="namespaceui.html">ui</a> : <a class="code" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a> ) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <a class="code" href="namespaceui.html">ui</a>.deferred_resize = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <a class="code" href="classui__adaptor.html#a98ddfbd09f2eb50e4a729dc37d10e9b7">redraw</a>();</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;}</div>
<div class="ttc" id="aclassui__adaptor_html_a98ddfbd09f2eb50e4a729dc37d10e9b7"><div class="ttname"><a href="classui__adaptor.html#a98ddfbd09f2eb50e4a729dc37d10e9b7">ui_adaptor::redraw</a></div><div class="ttdeci">static void redraw()</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00340">ui_manager.cpp:340</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8cpp_source.html#l00340">redraw()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00031">ui_stack</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00514">ui_manager::screen_resized()</a>.</p>

</div>
</div>
<a id="a6ad89afd6e2e4353506961271b259dbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ad89afd6e2e4353506961271b259dbd">&#9670;&nbsp;</a></span>set_cursor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::set_cursor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>win</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Automatically set the termianl cursor to a window position after drawing is done. </p>
<p>The cursor position of the last drawn UI takes effect. This ensures the cursor is always set to the desired position even if some subsequent drawing code moves the cursor, so screen readers (and in the case of text input, the IME preview) can correctly function. This is only supposed to be called from the <code>on_redraw</code> callback on the <code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code> argument of the callback. Currently only supports curses (on tiles, the windows may have different cell sizes, so the current implementation of recording the on-screen position does not work, and screen readers do not work with the current tiles implementation anyway). </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00153">153</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="preprocessor">#if !defined( TILES )</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="classui__adaptor.html#aad6d435bd61a57c9086fef1b86054953">cursor_type</a> = <a class="code" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca8b9035807842a4e4dbe009f3f1478127">cursor::custom</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="classui__adaptor.html#ae764bb1333094edd7aa22d67dbef384b">cursor_pos</a> = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="namespacecatacurses.html#a3e3320f426a1343cb1effcaf648d2d1a">getbegx</a>( w ), <a class="code" href="namespacecatacurses.html#aa2debb3330f9739012d1d11db8db31d2">getbegy</a>( w ) ) + <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// Unimplemented</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="classui__adaptor.html#aad6d435bd61a57c9086fef1b86054953">cursor_type</a> = <a class="code" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca075ae3d2fc31640504f814f60e5ef713">cursor::disabled</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span><span class="keyword">&gt;</span>( w );</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span><span class="keyword">&gt;</span>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
<div class="ttc" id="anamespacemath__opers_html_a2f0118617735cc810b9d76d62bd182f6"><div class="ttname"><a href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">math_opers::pos</a></div><div class="ttdeci">constexpr double pos(double, double r)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__impl_8h_source.html#l00203">math_parser_impl.h:203</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00247">cursor_pos</a>, <a class="el" href="ui__manager_8h_source.html#l00246">cursor_type</a>, <a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca8b9035807842a4e4dbe009f3f1478127">custom</a>, <a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca075ae3d2fc31640504f814f60e5ef713">disabled</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00107">catacurses::getbegx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00115">catacurses::getbegy()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, and <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae764bb1333094edd7aa22d67dbef384b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae764bb1333094edd7aa22d67dbef384b">&#9670;&nbsp;</a></span>cursor_pos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpoint.html">point</a> ui_adaptor::cursor_pos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00247">247</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00166">record_cursor()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00178">record_term_cursor()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00348">redraw_invalidated()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00153">set_cursor()</a>.</p>

</div>
</div>
<a id="aad6d435bd61a57c9086fef1b86054953"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad6d435bd61a57c9086fef1b86054953">&#9670;&nbsp;</a></span>cursor_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2c">cursor</a> ui_adaptor::cursor_type = <a class="el" href="classui__adaptor.html#a308149268696cde80275fe36e97ffd2ca98bd1c45684cf587ac2347a92dd7bb51">cursor::last</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00246">246</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00189">default_cursor()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00199">disable_cursor()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00166">record_cursor()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00178">record_term_cursor()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00153">set_cursor()</a>.</p>

</div>
</div>
<a id="ab5d6dd315a0f90ee5661f8f2cfa0c0c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5d6dd315a0f90ee5661f8f2cfa0c0c8">&#9670;&nbsp;</a></span>deferred_resize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ui_adaptor::deferred_resize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00253">253</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00213">mark_resize()</a>.</p>

</div>
</div>
<a id="ae983b5ab574c4215b081fbca9dc5a622"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae983b5ab574c4215b081fbca9dc5a622">&#9670;&nbsp;</a></span>dimensions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrectangle.html">rectangle</a>&lt;<a class="el" href="structpoint.html">point</a>&gt; ui_adaptor::dimensions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00235">235</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00309">invalidate()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00275">invalidate_ui()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00237">invalidation_consistency_and_optimization()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00119">position()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00134">position_absolute()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00099">position_from_window()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00076">~ui_adaptor()</a>.</p>

</div>
</div>
<a id="a3f7b701ff728ad1fe090bf94307ffb19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f7b701ff728ad1fe090bf94307ffb19">&#9670;&nbsp;</a></span>disabling_uis_below</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ui_adaptor::disabling_uis_below</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00249">249</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00076">~ui_adaptor()</a>.</p>

</div>
</div>
<a id="acca9f748919459f9540b84c1822131b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acca9f748919459f9540b84c1822131b7">&#9670;&nbsp;</a></span>invalidated</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ui_adaptor::invalidated</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00252">252</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00309">invalidate()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00275">invalidate_ui()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00237">invalidation_consistency_and_optimization()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00119">position()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00134">position_absolute()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00099">position_from_window()</a>.</p>

</div>
</div>
<a id="a989ffd15abf5a44a5315db2aa30fd264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a989ffd15abf5a44a5315db2aa30fd264">&#9670;&nbsp;</a></span>is_debug_message_ui</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ui_adaptor::is_debug_message_ui</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00250">250</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00076">~ui_adaptor()</a>.</p>

</div>
</div>
<a id="ad3d4a4159e41337a20fa46e6da2003a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3d4a4159e41337a20fa46e6da2003a3">&#9670;&nbsp;</a></span>is_imgui</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ui_adaptor::is_imgui</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00077">77</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

</div>
</div>
<a id="a3ba9ef488e9cf150b94a146445be867a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ba9ef488e9cf150b94a146445be867a">&#9670;&nbsp;</a></span>is_on_top</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ui_adaptor::is_on_top</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00078">78</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

</div>
</div>
<a id="ac51c1f116f3c71096a42341740601e27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac51c1f116f3c71096a42341740601e27">&#9670;&nbsp;</a></span>redraw_cb</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classui__adaptor.html#a1869dfa317b5e479098e8b692245c4d1">redraw_callback_t</a> ui_adaptor::redraw_cb</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00236">236</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00143">on_redraw()</a>.</p>

</div>
</div>
<a id="a6a36c79a26629029ae86572445b52b14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a36c79a26629029ae86572445b52b14">&#9670;&nbsp;</a></span>screen_resized_cb</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classui__adaptor.html#a7ef118f755b5a13bcb087b2fdfd76667">screen_resize_callback_t</a> ui_adaptor::screen_resized_cb</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00237">237</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00148">on_screen_resize()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="ui__manager_8h_source.html">ui_manager.h</a></li>
<li>src/<a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:45 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
