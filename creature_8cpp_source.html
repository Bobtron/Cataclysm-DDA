<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: src/creature.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">creature.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="creature_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="creature_8h.html">creature.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;cstdlib&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;stack&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="anatomy_8h.html">anatomy.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="body__part__set_8h.html">body_part_set.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cached__options_8h.html">cached_options.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="calendar_8h.html">calendar.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cata__assert_8h.html">cata_assert.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cata__utility_8h.html">cata_utility.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cata__variant_8h.html">cata_variant.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="character_8h.html">character.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="character__attire_8h.html">character_attire.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="character__id_8h.html">character_id.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="color_8h.html">color.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="creature__tracker_8h.html">creature_tracker.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cursesdef_8h.html">cursesdef.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="damage_8h.html">damage.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="debug_8h.html">debug.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="effect_8h.html">effect.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="enum__traits_8h.html">enum_traits.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="enums_8h.html">enums.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="event_8h.html">event.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="event__bus_8h.html">event_bus.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="explosion_8h.html">explosion.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="field_8h.html">field.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="flat__set_8h.html">flat_set.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="flexbuffer__json-inl_8h.html">flexbuffer_json-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="flexbuffer__json_8h.html">flexbuffer_json.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="game_8h.html">game.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="game__constants_8h.html">game_constants.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="item_8h.html">item.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="item__location_8h.html">item_location.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="json__error_8h.html">json_error.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="level__cache_8h.html">level_cache.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="lightmap_8h.html">lightmap.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="line_8h.html">line.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="localized__comparator_8h.html">localized_comparator.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="magic__enchantment_8h.html">magic_enchantment.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="map_8h.html">map.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="map__iterator_8h.html">map_iterator.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mapdata_8h.html">mapdata.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mattack__common_8h.html">mattack_common.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mdarray_8h.html">mdarray.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="messages_8h.html">messages.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="monster_8h.html">monster.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="morale__types_8h.html">morale_types.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mtype_8h.html">mtype.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="npc_8h.html">npc.h</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="options_8h.html">options.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="output_8h.html">output.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="point_8h.html">point.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="projectile_8h.html">projectile.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rng_8h.html">rng.h</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sounds_8h.html">sounds.h</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="talker_8h.html">talker.h</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="talker__avatar_8h.html">talker_avatar.h</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="talker__character_8h.html">talker_character.h</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="talker__monster_8h.html">talker_monster.h</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="talker__npc_8h.html">talker_npc.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="translation_8h.html">translation.h</a>&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="translations_8h.html">translations.h</a>&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="units_8h.html">units.h</a>&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="value__ptr_8h.html">value_ptr.h</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vehicle_8h.html">vehicle.h</a>&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vpart__position_8h.html">vpart_position.h</a>&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keyword">struct </span><a class="code" href="structmutation__branch.html">mutation_branch</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a9c2a387ddc2ddef836666f92773a8293">   80</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">anatomy_id</a> <a class="code" href="creature_8cpp.html#a9c2a387ddc2ddef836666f92773a8293">anatomy_human_anatomy</a>( <span class="stringliteral">&quot;human_anatomy&quot;</span> );</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="creature_8cpp.html#acc343fa0f8e04fd5007e8abc6105f8a8">   82</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">damage_type_id</a> <a class="code" href="creature_8cpp.html#acc343fa0f8e04fd5007e8abc6105f8a8">damage_acid</a>( <span class="stringliteral">&quot;acid&quot;</span> );</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a157369b3ee1f3f5a889eb1d42ed97638">   83</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">damage_type_id</a> <a class="code" href="creature_8cpp.html#a157369b3ee1f3f5a889eb1d42ed97638">damage_bash</a>( <span class="stringliteral">&quot;bash&quot;</span> );</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a7926a4cddea2b56ea5b2264f464d1b15">   84</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">damage_type_id</a> <a class="code" href="creature_8cpp.html#a7926a4cddea2b56ea5b2264f464d1b15">damage_electric</a>( <span class="stringliteral">&quot;electric&quot;</span> );</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="creature_8cpp.html#ae01ac1ba15b1a58809aef8bc1f735b5b">   85</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">damage_type_id</a> <a class="code" href="creature_8cpp.html#ae01ac1ba15b1a58809aef8bc1f735b5b">damage_heat</a>( <span class="stringliteral">&quot;heat&quot;</span> );</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a9eddc2be83e564a13192ab3fbcff6b78">   87</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#a9eddc2be83e564a13192ab3fbcff6b78">effect_all_fours</a>( <span class="stringliteral">&quot;all_fours&quot;</span> );</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">   88</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a>( <span class="stringliteral">&quot;blind&quot;</span> );</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="creature_8cpp.html#aa3f7307ad230ecea38f95a4ff0b8ee05">   89</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#aa3f7307ad230ecea38f95a4ff0b8ee05">effect_bounced</a>( <span class="stringliteral">&quot;bounced&quot;</span> );</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a08481f62adb6937636ea44b855311037">   90</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>( <span class="stringliteral">&quot;downed&quot;</span> );</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="creature_8cpp.html#abd1d72989d0ae4f431b5267137061bb6">   91</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#abd1d72989d0ae4f431b5267137061bb6">effect_foamcrete_slow</a>( <span class="stringliteral">&quot;foamcrete_slow&quot;</span> );</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a544ab8b6f47337b654de83c3cf255eaa">   92</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#a544ab8b6f47337b654de83c3cf255eaa">effect_invisibility</a>( <span class="stringliteral">&quot;invisibility&quot;</span> );</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="creature_8cpp.html#ab102ed4e697d5646e520ff97720b069c">   93</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#ab102ed4e697d5646e520ff97720b069c">effect_knockdown</a>( <span class="stringliteral">&quot;knockdown&quot;</span> );</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="creature_8cpp.html#ac95fd54d69ea350ea463a719fa7f3550">   94</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#ac95fd54d69ea350ea463a719fa7f3550">effect_lying_down</a>( <span class="stringliteral">&quot;lying_down&quot;</span> );</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="creature_8cpp.html#af079f6d5681dabcbc1c4ee804c0ba556">   95</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#af079f6d5681dabcbc1c4ee804c0ba556">effect_no_sight</a>( <span class="stringliteral">&quot;no_sight&quot;</span> );</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a74abddcaf98d4f59d99c051a421bee67">   96</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#a74abddcaf98d4f59d99c051a421bee67">effect_npc_suspend</a>( <span class="stringliteral">&quot;npc_suspend&quot;</span> );</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="creature_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">   97</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>( <span class="stringliteral">&quot;onfire&quot;</span> );</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a04a9c5a38c56dac485cb30d93ee38658">   98</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#a04a9c5a38c56dac485cb30d93ee38658">effect_paralyzepoison</a>( <span class="stringliteral">&quot;paralyzepoison&quot;</span> );</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">   99</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a>( <span class="stringliteral">&quot;ridden&quot;</span> );</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a0a50e3fbf57e70bfac50331092ff8ad1">  100</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#a0a50e3fbf57e70bfac50331092ff8ad1">effect_riding</a>( <span class="stringliteral">&quot;riding&quot;</span> );</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="creature_8cpp.html#aaafb2b8608b5451879424ff739fedd41">  101</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#aaafb2b8608b5451879424ff739fedd41">effect_sap</a>( <span class="stringliteral">&quot;sap&quot;</span> );</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a0a39cc22ef74abe8a18077fa8625138b">  102</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#a0a39cc22ef74abe8a18077fa8625138b">effect_sensor_stun</a>( <span class="stringliteral">&quot;sensor_stun&quot;</span> );</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="creature_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">  103</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a>( <span class="stringliteral">&quot;sleep&quot;</span> );</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="creature_8cpp.html#ad6fd62a9ed571c6bf17d577118be3c5a">  104</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#ad6fd62a9ed571c6bf17d577118be3c5a">effect_stumbled_into_invisible</a>( <span class="stringliteral">&quot;stumbled_into_invisible&quot;</span> );</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="creature_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">  105</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>( <span class="stringliteral">&quot;stunned&quot;</span> );</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a25b6d693cb6e46a85ff5c3acce50fd8e">  106</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#a25b6d693cb6e46a85ff5c3acce50fd8e">effect_telepathic_ignorance</a>( <span class="stringliteral">&quot;telepathic_ignorance&quot;</span> );</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a6e56b547b0bb0021343a7bb60f9fdce9">  107</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#a6e56b547b0bb0021343a7bb60f9fdce9">effect_telepathic_ignorance_self</a>( <span class="stringliteral">&quot;telepathic_ignorance_self&quot;</span> );</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a09c667a72022d7e0ee0b851560831e04">  108</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#a09c667a72022d7e0ee0b851560831e04">effect_tied</a>( <span class="stringliteral">&quot;tied&quot;</span> );</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a30d34b241ef54963c18a6af3b2ff3962">  109</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="creature_8cpp.html#a30d34b241ef54963c18a6af3b2ff3962">effect_zapped</a>( <span class="stringliteral">&quot;zapped&quot;</span> );</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a31e2ef0b23e31f445746b9eaabbeb600">  111</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">field_type_str_id</a> <a class="code" href="creature_8cpp.html#a31e2ef0b23e31f445746b9eaabbeb600">field_fd_last_known</a>( <span class="stringliteral">&quot;fd_last_known&quot;</span> );</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="creature_8cpp.html#afc3daf7e1664f8141571db43dcb86676">  113</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">json_character_flag</a> <a class="code" href="creature_8cpp.html#afc3daf7e1664f8141571db43dcb86676">json_flag_BIONIC_LIMB</a>( <span class="stringliteral">&quot;BIONIC_LIMB&quot;</span> );</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a18cca0d60af04a241e2561584946cf56">  114</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">json_character_flag</a> <a class="code" href="creature_8cpp.html#a18cca0d60af04a241e2561584946cf56">json_flag_IGNORE_TEMP</a>( <span class="stringliteral">&quot;IGNORE_TEMP&quot;</span> );</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a37e9489598e65e89dc71e28cb45c30f5">  115</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">json_character_flag</a> <a class="code" href="creature_8cpp.html#a37e9489598e65e89dc71e28cb45c30f5">json_flag_LIMB_LOWER</a>( <span class="stringliteral">&quot;LIMB_LOWER&quot;</span> );</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a76049efadb04062924a687ab0a16a0e6">  116</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">json_character_flag</a> <a class="code" href="creature_8cpp.html#a76049efadb04062924a687ab0a16a0e6">json_flag_LIMB_UPPER</a>( <span class="stringliteral">&quot;LIMB_UPPER&quot;</span> );</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a1eb5ed5bc6f81def0b8b5640c08e2a69">  118</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">material_id</a> <a class="code" href="creature_8cpp.html#a1eb5ed5bc6f81def0b8b5640c08e2a69">material_cotton</a>( <span class="stringliteral">&quot;cotton&quot;</span> );</div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a20136c47b45ab5d735760a8a5853f1b3">  119</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">material_id</a> <a class="code" href="creature_8cpp.html#a20136c47b45ab5d735760a8a5853f1b3">material_flesh</a>( <span class="stringliteral">&quot;flesh&quot;</span> );</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">  120</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">material_id</a> <a class="code" href="creature_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a>( <span class="stringliteral">&quot;iflesh&quot;</span> );</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="creature_8cpp.html#abd89de553ae0776f564d1c30092fe5b3">  121</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">material_id</a> <a class="code" href="creature_8cpp.html#abd89de553ae0776f564d1c30092fe5b3">material_kevlar</a>( <span class="stringliteral">&quot;kevlar&quot;</span> );</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="creature_8cpp.html#ae6215a43a33cca56f0c2476678f4a035">  122</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">material_id</a> <a class="code" href="creature_8cpp.html#ae6215a43a33cca56f0c2476678f4a035">material_paper</a>( <span class="stringliteral">&quot;paper&quot;</span> );</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="creature_8cpp.html#af4debc398bbc5bb7d8470096f0aea30a">  123</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">material_id</a> <a class="code" href="creature_8cpp.html#af4debc398bbc5bb7d8470096f0aea30a">material_powder</a>( <span class="stringliteral">&quot;powder&quot;</span> );</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a6cda9e7cd9c37d3822410cf6280babdf">  124</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">material_id</a> <a class="code" href="creature_8cpp.html#a6cda9e7cd9c37d3822410cf6280babdf">material_steel</a>( <span class="stringliteral">&quot;steel&quot;</span> );</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="creature_8cpp.html#ab7ebadf66a175d343f5db02afda22bf4">  125</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">material_id</a> <a class="code" href="creature_8cpp.html#ab7ebadf66a175d343f5db02afda22bf4">material_stone</a>( <span class="stringliteral">&quot;stone&quot;</span> );</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="creature_8cpp.html#adaa52641aaea718721dc2fd611ed5831">  126</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">material_id</a> <a class="code" href="creature_8cpp.html#adaa52641aaea718721dc2fd611ed5831">material_veggy</a>( <span class="stringliteral">&quot;veggy&quot;</span> );</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="creature_8cpp.html#ae654fe1131eeb6f3e0fe9021a79a3f74">  127</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">material_id</a> <a class="code" href="creature_8cpp.html#ae654fe1131eeb6f3e0fe9021a79a3f74">material_wood</a>( <span class="stringliteral">&quot;wood&quot;</span> );</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="creature_8cpp.html#af1062f0849ca05ce9086270bf9e7f406">  128</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">material_id</a> <a class="code" href="creature_8cpp.html#af1062f0849ca05ce9086270bf9e7f406">material_wool</a>( <span class="stringliteral">&quot;wool&quot;</span> );</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a478c9c699e4248bf7d25ae31156bf0b7">  130</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">species_id</a> <a class="code" href="creature_8cpp.html#a478c9c699e4248bf7d25ae31156bf0b7">species_ROBOT</a>( <span class="stringliteral">&quot;ROBOT&quot;</span> );</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a45fe17320739b38daf72f34792dbd657">  132</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">trait_id</a> <a class="code" href="creature_8cpp.html#a45fe17320739b38daf72f34792dbd657">trait_DEBUG_CLOAK</a>( <span class="stringliteral">&quot;DEBUG_CLOAK&quot;</span> );</div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a512959ad2b35ea057f2fed5445fc23c4">  133</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">trait_id</a> <a class="code" href="creature_8cpp.html#a512959ad2b35ea057f2fed5445fc23c4">trait_PYROMANIA</a>( <span class="stringliteral">&quot;PYROMANIA&quot;</span> );</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keyword">const</span> std::map&lt;std::string, creature_size&gt; <a class="code" href="classCreature.html#aface2aa918ea59decfc3f71fd891396c">Creature::size_map</a> = {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    {<span class="stringliteral">&quot;TINY&quot;</span>,   <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a>},</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    {<span class="stringliteral">&quot;SMALL&quot;</span>,  <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">creature_size::small</a>},</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    {<span class="stringliteral">&quot;MEDIUM&quot;</span>, <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a>},</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    {<span class="stringliteral">&quot;LARGE&quot;</span>,  <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a>},</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    {<span class="stringliteral">&quot;HUGE&quot;</span>,   <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a>}</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;};</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="keyword">const</span> std::set&lt;material_id&gt; <a class="code" href="classCreature.html#a81c28d7d1cb83a47794dbf879dede400">Creature::cmat_flesh</a>{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="creature_8cpp.html#a20136c47b45ab5d735760a8a5853f1b3">material_flesh</a>, <a class="code" href="creature_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;};</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="keyword">const</span> std::set&lt;material_id&gt; <a class="code" href="classCreature.html#aab3ed00f0b1635fcb5efaa93cf3f8336">Creature::cmat_fleshnveg</a>{</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="creature_8cpp.html#a20136c47b45ab5d735760a8a5853f1b3">material_flesh</a>,  <a class="code" href="creature_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a>, <a class="code" href="creature_8cpp.html#adaa52641aaea718721dc2fd611ed5831">material_veggy</a></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;};</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="keyword">const</span> std::set&lt;material_id&gt; <a class="code" href="classCreature.html#a48bb40fe4132a49d95f26611d7c622a6">Creature::cmat_flammable</a>{</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="creature_8cpp.html#ae6215a43a33cca56f0c2476678f4a035">material_paper</a>, <a class="code" href="creature_8cpp.html#af4debc398bbc5bb7d8470096f0aea30a">material_powder</a>, <a class="code" href="creature_8cpp.html#ae654fe1131eeb6f3e0fe9021a79a3f74">material_wood</a>,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="creature_8cpp.html#a1eb5ed5bc6f81def0b8b5640c08e2a69">material_cotton</a>, <a class="code" href="creature_8cpp.html#af1062f0849ca05ce9086270bf9e7f406">material_wool</a></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;};</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="keyword">const</span> std::set&lt;material_id&gt; <a class="code" href="classCreature.html#ac5fa405fe6d75e0298051ab413cdfac1">Creature::cmat_flameres</a>{</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="creature_8cpp.html#ab7ebadf66a175d343f5db02afda22bf4">material_stone</a>, <a class="code" href="creature_8cpp.html#abd89de553ae0776f564d1c30092fe5b3">material_kevlar</a>, <a class="code" href="creature_8cpp.html#a6cda9e7cd9c37d3822410cf6280babdf">material_steel</a></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;};</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="classCreature.html#a597cc3b08ee17de46c3e7ec3cf0d9b58">  157</a></span>&#160;<a class="code" href="classCreature.html#a597cc3b08ee17de46c3e7ec3cf0d9b58">Creature::Creature</a>()</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a> = 0;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="classCreature.html#a4d6cd41ef532de75cb9bb2aadcc68f06">speed_base</a> = 100;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="classCreature.html#a681e27e1004c58fcdf25adfdac5e9136">location</a> = <a class="code" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>( 20, 10, -500 ); <span class="comment">// Some arbitrary position that will cause debugmsgs</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="classCreature.html#ac17b598158d47e40713408e8c88b20b4">Creature::reset_bonuses</a>();</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="classCreature.html#a5f0f94b1cc3a6759e79c7ffc07c3b0b8">fake</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<a class="code" href="classCreature.html#a597cc3b08ee17de46c3e7ec3cf0d9b58">Creature::Creature</a>( <span class="keyword">const</span> <a class="code" href="classCreature.html">Creature</a> &amp; ) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<a class="code" href="classCreature.html#a597cc3b08ee17de46c3e7ec3cf0d9b58">Creature::Creature</a>( <a class="code" href="classCreature.html">Creature</a> &amp;&amp; ) noexcept( <a class="code" href="compatibility_8h.html#a7d2d6538db629ada5554da88c83bcdd1">map_is_noexcept</a> &amp;&amp;<a class="code" href="compatibility_8h.html#ae629e5f09b170c5b7e4eca1e1765b7f3">list_is_noexcept</a> ) = default;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<a class="code" href="classCreature.html">Creature</a> &amp;<a class="code" href="classCreature.html">Creature</a>::operator=( const <a class="code" href="classCreature.html">Creature</a> &amp; ) = default;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<a class="code" href="classCreature.html">Creature</a> &amp;<a class="code" href="classCreature.html">Creature</a>::operator=( <a class="code" href="classCreature.html">Creature</a> &amp;&amp; ) noexcept = default;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<a class="code" href="classCreature.html">Creature</a>::~<a class="code" href="classCreature.html">Creature</a>() = default;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">  178</a></span>&#160;<a class="code" href="structtripoint.html">tripoint</a> <a class="code" href="classCreature.html">Creature</a>::<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a> );</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="classCreature.html#af7172e571c5c69240d9f71a01fddf035">  183</a></span>&#160;<a class="code" href="classcoords_1_1coord__point.html">tripoint_bub_ms</a> <a class="code" href="classCreature.html#af7172e571c5c69240d9f71a01fddf035">Creature::pos_bub</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a1cc29653b8305e7192311c05a0bd4c99">bub_from_abs</a>( <a class="code" href="classCreature.html#a681e27e1004c58fcdf25adfdac5e9136">location</a> );</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="classCreature.html#ac16dcdb688f6f47c594c98c83528a670">  188</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#ac16dcdb688f6f47c594c98c83528a670">Creature::setpos</a>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p )</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> old_loc = <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="classCreature.html#a7b94528e3a599dfc8647117bc6741243">set_pos_only</a>( p );</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="classCreature.html#a8e5fa5a8918563efe031ed0fe41c4dc6">on_move</a>( old_loc );</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="classCreature.html#a5e2f65bf9e0412193ebaaf60d02cc0cc">  195</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a5e2f65bf9e0412193ebaaf60d02cc0cc">Creature::move_to</a>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> &amp;loc )</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;{</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> old_loc = <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>();</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="classCreature.html#ac93f4ccc1bff76ada002c7e886c941ef">set_location</a>( loc );</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="classCreature.html#a8e5fa5a8918563efe031ed0fe41c4dc6">on_move</a>( old_loc );</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="classCreature.html#a7b94528e3a599dfc8647117bc6741243">  202</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a7b94528e3a599dfc8647117bc6741243">Creature::set_pos_only</a>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p )</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;{</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="classCreature.html#a681e27e1004c58fcdf25adfdac5e9136">location</a> = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#ac868b594b36b6b9bbcb130650fd4f61f">getglobal</a>( p );</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="classCreature.html#ac93f4ccc1bff76ada002c7e886c941ef">  207</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#ac93f4ccc1bff76ada002c7e886c941ef">Creature::set_location</a>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> &amp;loc )</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;{</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="classCreature.html#a681e27e1004c58fcdf25adfdac5e9136">location</a> = loc;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;}</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="classCreature.html#a8e5fa5a8918563efe031ed0fe41c4dc6">  212</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a8e5fa5a8918563efe031ed0fe41c4dc6">Creature::on_move</a>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> &amp; ) {}</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="classCreature.html#abd9af93b322d04729ae5e81c826cbc4f">  214</a></span>&#160;std::vector&lt;std::string&gt; <a class="code" href="classCreature.html#abd9af93b322d04729ae5e81c826cbc4f">Creature::get_grammatical_genders</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">// Returning empty list means we use the language-specified default</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="classCreature.html#a24d762d37cd6bfbf98cda9b278f5ccf2">  220</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a24d762d37cd6bfbf98cda9b278f5ccf2">Creature::normalize</a>()</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="classCreature.html#a2d8f0e96ad41fd5d962c4fdbbed9a32b">  224</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a2d8f0e96ad41fd5d962c4fdbbed9a32b">Creature::reset</a>()</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;{</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="classCreature.html#ac17b598158d47e40713408e8c88b20b4">reset_bonuses</a>();</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="classCreature.html#a80f8d134c689097b8137f973e7401c84">reset_stats</a>();</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="classCreature.html#a303fcc58869f10f44be1d598ed1aa26f">  230</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a303fcc58869f10f44be1d598ed1aa26f">Creature::bleed</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a78a575384ef025ebc3bc5f29bdfb0bb1">add_splatter</a>( <a class="code" href="classCreature.html#a5c6d320a21d767c65c807fe563c4b2c9">bloodType</a>(), <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="classCreature.html#ac17b598158d47e40713408e8c88b20b4">  235</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#ac17b598158d47e40713408e8c88b20b4">Creature::reset_bonuses</a>()</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;{</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="classCreature.html#a69db025e34e82c34b56df73f56965350">num_blocks</a> = 1;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="classCreature.html#a360b7ab7279423ee61b38d433ba338fd">num_dodges</a> = 1;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="classCreature.html#ad773414b7104cae9ac1df7404528a956">num_blocks_bonus</a> = 0;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="classCreature.html#a4945480df006184bdaf4b5b41ba976ea">num_dodges_bonus</a> = 0;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="classCreature.html#a85906b1aaa87603a52024d4dd68a075a">armor_bonus</a>.clear();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="classCreature.html#ae668a71c7a468fe4753374d3d51481bb">speed_bonus</a> = 0;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="classCreature.html#adbb994679f77dfa6b446c0d36961c6a2">dodge_bonus</a> = 0;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="classCreature.html#ab0206ab4bdb7c990e917cb5240d2a470">block_bonus</a> = 0;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="classCreature.html#a7bb35215732acc025692d329fb3e2e13">hit_bonus</a> = 0;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="classCreature.html#af545ccf591070589820935240837e2f1">bash_bonus</a> = 0;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="classCreature.html#a6d2e7dffa9969ce9a65582cdfec7b0a6">cut_bonus</a> = 0;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="classCreature.html#a09d744e753389b85555df87d01f19bf0">size_bonus</a> = 0;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="classCreature.html#a47f1514886a2391eef7544a6aa2032b8">bash_mult</a> = 1.0f;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="classCreature.html#afa9fd9bde984c1885a01f1c9b5bb9768">cut_mult</a> = 1.0f;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="classCreature.html#a9c689698d40571b61622e3bec6cf36a7">melee_quiet</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="classCreature.html#ad13bdca3773955224f3bac4591fb5ecd">throw_resist</a> = 0;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="classCreature.html#a28d410ab38e30292e266188c1b95cae5">  259</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a28d410ab38e30292e266188c1b95cae5">Creature::process_turn</a>()</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;{</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="classCreature.html#afc608b798e2e44df25ea0fe26423c9b8">decrement_summon_timer</a>();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#ab4c318885f6b9947a7c85d3328d25ffe">is_dead_state</a>() ) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="classCreature.html#ac17b598158d47e40713408e8c88b20b4">reset_bonuses</a>();</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="classCreature.html#a7c4224e3e3ce5b7bf6af5da26c622af6">process_effects</a>();</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="classCreature.html#a6012e6dfc9a77e5771ad4b070b52f313">process_damage_over_time</a>();</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">// Call this in case any effects have changed our stats</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="classCreature.html#a80f8d134c689097b8137f973e7401c84">reset_stats</a>();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">// add an appropriate number of moves</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="creature_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a> ) ) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> += <a class="code" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">get_speed</a>();</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="classCreature.html#ada7a49ad443c0522cdd7422d53bef2c1">  280</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#ada7a49ad443c0522cdd7422d53bef2c1">Creature::cant_do_underwater</a>( <span class="keywordtype">bool</span> msg )<span class="keyword"> const</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">if</span>( msg ) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <a class="code" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ),</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                                   <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">  292</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">Creature::is_underwater</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;}</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="classCreature.html#ae25a137e18ca7d92a4ba6c18c0eab97c">  297</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#ae25a137e18ca7d92a4ba6c18c0eab97c">Creature::is_likely_underwater</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ||</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;           ( <a class="code" href="classCreature.html#aec78049b0ee4401d3a4c073663735aad">has_flag</a>( <a class="code" href="mtype_8cpp.html#a10899530fa212da51fd92b98b0cacdb5">mon_flag_AQUATIC</a> ) &amp;&amp; <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">ter_furn_flag::TFLAG_SWIMMABLE</a>, <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) );</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">// Detects whether a target is sapient or not (or barely sapient, since ferals count)</span></div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="classCreature.html#a46453b8a14e33b41caa0bf4a682db9bc">  304</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a46453b8a14e33b41caa0bf4a682db9bc">Creature::has_mind</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;}</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="classCreature.html#a47f25d00d7403a9b318a6e54847169bd">  309</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a47f25d00d7403a9b318a6e54847169bd">Creature::is_ranged_attacker</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#aec78049b0ee4401d3a4c073663735aad">has_flag</a>( <a class="code" href="mtype_8cpp.html#a7c712d13e8ab0186ac1c1082228b4892">mon_flag_RANGED_ATTACKER</a> ) ) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keyword">const</span> <a class="code" href="classmonster.html">monster</a> *mon = <a class="code" href="classCreature.html#a90636bbf110025587c181fad389d616c">as_monster</a>();</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">if</span>( mon ) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const std::string, mtype_special_attack&gt; &amp;<a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> :</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;             mon-&gt;<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">special_attacks</a> ) {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.second-&gt;id == <span class="stringliteral">&quot;gun&quot;</span> ) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">//TODO Potentially add check for this as npc wielding ranged weapon</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="classCreature.html#a4e137a55dbbe37b9656e64f2547cf8da">  329</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a4e137a55dbbe37b9656e64f2547cf8da">Creature::digging</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="classCreature.html#a6a4c43d66f5a8b50a879d78682b00976">  334</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a6a4c43d66f5a8b50a879d78682b00976">Creature::is_dangerous_fields</a>( <span class="keyword">const</span> <a class="code" href="classfield.html">field</a> &amp;fld )<span class="keyword"> const</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">// Else check each field to see if it&#39;s dangerous to us</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;dfield : fld ) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#af5c36ca5b43c92f6cb02afb52a448372">is_dangerous_field</a>( dfield.second ) &amp;&amp; !<a class="code" href="classCreature.html#a090f59402eea6b1605cbfa5c2b2ac77c">is_immune_field</a>( dfield.first ) ) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="comment">// No fields were found to be dangerous, so the field set isn&#39;t dangerous</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;}</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="classCreature.html#af5c36ca5b43c92f6cb02afb52a448372">  346</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#af5c36ca5b43c92f6cb02afb52a448372">Creature::is_dangerous_field</a>( <span class="keyword">const</span> <a class="code" href="classfield__entry.html">field_entry</a> &amp;entry )<span class="keyword"> const</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="comment">// If it&#39;s dangerous and we&#39;re not immune return true, else return false</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">return</span> entry.<a class="code" href="classfield__entry.html#a40f3c28e4f11b4f4e0eb0414f0fbd73b">is_dangerous</a>() &amp;&amp; !<a class="code" href="classCreature.html#a090f59402eea6b1605cbfa5c2b2ac77c">is_immune_field</a>( entry.<a class="code" href="classfield__entry.html#af76e247514edaeed4bdc58638bfa0ae1">get_field_type</a>() );</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a6580b9e471dd5e597effaaeee8bf19a2">  352</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="creature_8cpp.html#a6580b9e471dd5e597effaaeee8bf19a2">majority_rule</a>( <span class="keyword">const</span> <span class="keywordtype">bool</span> a_vote, <span class="keyword">const</span> <span class="keywordtype">bool</span> b_vote, <span class="keyword">const</span> <span class="keywordtype">bool</span> c_vote )</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;{</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// Helper function suggested on discord by jbtw</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">return</span> ( a_vote + b_vote + c_vote ) &gt; 1;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;}</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">  358</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">Creature::sees</a>( <span class="keyword">const</span> <a class="code" href="classCreature.html">Creature</a> &amp;critter )<span class="keyword"> const</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="comment">// Creatures always see themselves (simplifies drawing).</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">if</span>( &amp;critter == <span class="keyword">this</span> ) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() - critter.<a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() ) &gt; <a class="code" href="cached__options_8cpp.html#a0cb65464a3fa34c1ed5474f5d2d853a7">fov_3d_z_range</a> ) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> target_range = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), critter.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span>( target_range &gt; <a class="code" href="game__constants_8h.html#a745392436b19cce3012d4d8dc0fe422c">MAX_VIEW_DISTANCE</a> ) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span>( critter.<a class="code" href="classCreature.html#aec78049b0ee4401d3a4c073663735aad">has_flag</a>( <a class="code" href="mtype_8cpp.html#acc03233e053eb1e761f81eab7c05d871">mon_flag_ALWAYS_VISIBLE</a> ) || ( <a class="code" href="classCreature.html#aec78049b0ee4401d3a4c073663735aad">has_flag</a>( <a class="code" href="mtype_8cpp.html#a734ead27f4903aaf85f1426c2dfe22db">mon_flag_ALWAYS_SEES_YOU</a> ) &amp;&amp;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            critter.<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) ) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">if</span>( this-&gt;<a class="code" href="classCreature.html#aec78049b0ee4401d3a4c073663735aad">has_flag</a>( <a class="code" href="mtype_8cpp.html#affc9dfe28f0a4007019afe73fb874a76">mon_flag_ALL_SEEING</a> ) ) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keyword">const</span> <a class="code" href="classmonster.html">monster</a> *m = this-&gt;<a class="code" href="classCreature.html#a90636bbf110025587c181fad389d616c">as_monster</a>();</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="keywordflow">return</span> target_range &lt;= <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( m-&gt;<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a3e1904385c3aeb343021eea90b466b19">vision_day</a>, m-&gt;<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af37c4d88f49584515720ebd0d9542114">vision_night</a> );</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">if</span>( critter.<a class="code" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">is_hallucination</a>() &amp;&amp; !<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="comment">// hallucinations are imaginations of the player character, npcs or monsters don&#39;t hallucinate.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">// Creature has stumbled into an invisible player and is now aware of them</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="creature_8cpp.html#ad6fd62a9ed571c6bf17d577118be3c5a">effect_stumbled_into_invisible</a> ) &amp;&amp;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        here.<a class="code" href="classmap.html#aa69021d452dbc555723d55d7c9fe98ef">has_field_at</a>( critter.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="creature_8cpp.html#a31e2ef0b23e31f445746b9eaabbeb600">field_fd_last_known</a> ) &amp;&amp; critter.<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="comment">// This check is ridiculously expensive so defer it to after everything else.</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keyword">auto</span> visible = []( <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> * ch ) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keywordflow">return</span> ch == <span class="keyword">nullptr</span> || !ch-&gt;is_invisible();</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    };</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> *ch = critter.<a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>();</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="comment">// Can always see adjacent monsters on the same level.</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="comment">// We also bypass lighting for vertically adjacent monsters, but still check for floors.</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span>( target_range &lt;= 1 ) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">return</span> ( <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() == critter.<a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() || here.<a class="code" href="classmap.html#aa8a67baac3cc72b2f5fbd669894587a0">sees</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), critter.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 1 ) ) &amp;&amp; visible( ch );</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="comment">// If we cannot see without any of the penalties below, bail now.</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( critter.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), critter.<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) ) {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="comment">// Used with the Mind over Matter power Obscurity, to telepathically erase yourself from a target&#39;s perceptions</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="creature_8cpp.html#a25b6d693cb6e46a85ff5c3acce50fd8e">effect_telepathic_ignorance</a> ) &amp;&amp;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        critter.<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="creature_8cpp.html#a6e56b547b0bb0021343a7bb60f9fdce9">effect_telepathic_ignorance_self</a> ) ) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">if</span>( ( target_range &gt; 2 &amp;&amp; critter.<a class="code" href="classCreature.html#a4e137a55dbbe37b9656e64f2547cf8da">digging</a>() &amp;&amp;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;          here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aaebe86ebda0571101f8d02ab5f2a888c">ter_furn_flag::TFLAG_DIGGABLE</a>, critter.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ) ||</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        ( critter.<a class="code" href="classCreature.html#aec78049b0ee4401d3a4c073663735aad">has_flag</a>( <a class="code" href="mtype_8cpp.html#acf472fc11b3d1be60651bb9d63cb4a78">mon_flag_CAMOUFLAGE</a> ) &amp;&amp; target_range &gt; this-&gt;<a class="code" href="classCreature.html#a9b4c795f3f49a9cddb0d7259f70e4a02">get_eff_per</a>() ) ||</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        ( critter.<a class="code" href="classCreature.html#aec78049b0ee4401d3a4c073663735aad">has_flag</a>( <a class="code" href="mtype_8cpp.html#af2531aab22dc43e86301626f703a12be">mon_flag_WATER_CAMOUFLAGE</a> ) &amp;&amp;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;          target_range &gt; this-&gt;<a class="code" href="classCreature.html#a9b4c795f3f49a9cddb0d7259f70e4a02">get_eff_per</a>() &amp;&amp;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;          ( critter.<a class="code" href="classCreature.html#ae25a137e18ca7d92a4ba6c18c0eab97c">is_likely_underwater</a>() ||</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac6e19e1c41724be67b2bff2870539ca1">ter_furn_flag::TFLAG_DEEP_WATER</a>, critter.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ||</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            ( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a7de97a0bb289f6e3177be7916d329c93">ter_furn_flag::TFLAG_SHALLOW_WATER</a>, critter.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) &amp;&amp;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;              critter.<a class="code" href="classCreature.html#ac9fd76782cca4157eda2afcb7d66f02e">get_size</a>() &lt; <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a> ) ) ) ||</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        ( critter.<a class="code" href="classCreature.html#aec78049b0ee4401d3a4c073663735aad">has_flag</a>( <a class="code" href="mtype_8cpp.html#a39d11af5d82c250e8a057647257a08ae">mon_flag_NIGHT_INVISIBILITY</a> ) &amp;&amp;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;          here.<a class="code" href="classmap.html#a40876da830d622a5ff5ed547bb320e1b">light_at</a>( critter.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) &lt;= <a class="code" href="lightmap_8h.html#aeb9bbbd65db85e3561729666fb6c7b38a41bc94cbd8eebea13ce0491b2ac11b88">lit_level::LOW</a> ) ||</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        critter.<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="creature_8cpp.html#a544ab8b6f47337b654de83c3cf255eaa">effect_invisibility</a> ) ||</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        ( !<a class="code" href="classCreature.html#ae25a137e18ca7d92a4ba6c18c0eab97c">is_likely_underwater</a>() &amp;&amp; critter.<a class="code" href="classCreature.html#ae25a137e18ca7d92a4ba6c18c0eab97c">is_likely_underwater</a>() &amp;&amp;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;          <a class="code" href="creature_8cpp.html#a6580b9e471dd5e597effaaeee8bf19a2">majority_rule</a>( critter.<a class="code" href="classCreature.html#aec78049b0ee4401d3a4c073663735aad">has_flag</a>( <a class="code" href="mtype_8cpp.html#af2531aab22dc43e86301626f703a12be">mon_flag_WATER_CAMOUFLAGE</a> ),</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                         here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac6e19e1c41724be67b2bff2870539ca1">ter_furn_flag::TFLAG_DEEP_WATER</a>, critter.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ),</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                         <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() != critter.<a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() ) ) ||</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        ( here.<a class="code" href="classmap.html#a516c0764134cc86b57297811520395f7">has_flag_ter_or_furn</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a9cf0cb2538a6fa2ce69aba2a1d8bf22f">ter_furn_flag::TFLAG_HIDE_PLACE</a>, critter.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) &amp;&amp;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;          !( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>() - critter.<a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>() ) &lt;= 1 &amp;&amp; <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>() - critter.<a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>() ) &lt;= 1 &amp;&amp;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;             <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() - critter.<a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() ) &lt;= 1 ) ) ||</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        ( here.<a class="code" href="classmap.html#a516c0764134cc86b57297811520395f7">has_flag_ter_or_furn</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a92dc880dc978c8144a7913654529c5ae">ter_furn_flag::TFLAG_SMALL_HIDE</a>, critter.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) &amp;&amp;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;          critter.<a class="code" href="classCreature.html#aec78049b0ee4401d3a4c073663735aad">has_flag</a>( <a class="code" href="mtype_8cpp.html#a0170802dff38a9711cf97c353826eeb7">mon_flag_SMALL_HIDER</a> ) &amp;&amp;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;          !( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>() - critter.<a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>() ) &lt;= 1 &amp;&amp; <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>() - critter.<a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>() ) &lt;= 1 &amp;&amp;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;             <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() - critter.<a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() ) &lt;= 1 ) ) ) {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">if</span>( ch != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">if</span>( ch-&gt;<a class="code" href="classCharacter.html#a18ff0119f4fe89b2234275f1fc019106">is_crouching</a>() || ch-&gt;<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="creature_8cpp.html#a9eddc2be83e564a13192ab3fbcff6b78">effect_all_fours</a> ) || ch-&gt;<a class="code" href="classCharacter.html#ac6f590f28f979103633d198e32524c06">is_prone</a>() ||</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>().<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> != critter.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>().<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> coverage = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( here.<a class="code" href="classmap.html#a2f68bd10c5c8670061f9da7576d45879">obstacle_coverage</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), critter.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ),</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                                           here.<a class="code" href="classmap.html#a3d4af2242375b08a1511fc67eac232b7">ledge_coverage</a>( *<span class="keyword">this</span>, critter.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) );</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <span class="keywordflow">if</span>( coverage &lt; 30 ) {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                <span class="keywordflow">return</span> visible( ch );</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="keywordtype">float</span> size_modifier = 1.0f;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <span class="keywordflow">switch</span>( ch-&gt;<a class="code" href="classCharacter.html#a6ab1a86cb826d5faa1244cb7a4674700">get_size</a>() ) {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a>:</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    size_modifier = 2.0f;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">creature_size::small</a>:</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                    size_modifier = 1.4f;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a>:</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a>:</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                    size_modifier = 0.6f;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a>:</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                    size_modifier = 0.15f;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aac651433a999fb14f71f6754f0199781">creature_size::num_sizes</a>:</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                    <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;ERROR: Creature has invalid size class.&quot;</span> );</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <span class="keywordtype">int</span> profile = 120 / size_modifier;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <span class="keywordflow">if</span>( ch-&gt;<a class="code" href="classCharacter.html#a18ff0119f4fe89b2234275f1fc019106">is_crouching</a>() || ch-&gt;<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="creature_8cpp.html#a9eddc2be83e564a13192ab3fbcff6b78">effect_all_fours</a> ) ) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                profile *= 0.5;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ch-&gt;<a class="code" href="classCharacter.html#ac6f590f28f979103633d198e32524c06">is_prone</a>() ) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                profile *= 0.275;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <span class="keywordflow">if</span>( coverage &lt; profile ) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> vision_modifier = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 30 * ( 1 - coverage / profile ), 1 );</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                <span class="keywordflow">return</span> target_range &lt;= vision_modifier &amp;&amp; visible( ch );</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">return</span> visible( ch );</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;}</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="classCreature.html#a64e54c8885bd9f94a1454f847b1d77f9">  492</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">Creature::sees</a>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;t, <span class="keywordtype">bool</span> is_avatar, <span class="keywordtype">int</span> range_mod )<span class="keyword"> const</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() - t.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) &gt; <a class="code" href="cached__options_8cpp.html#a0cb65464a3fa34c1ed5474f5d2d853a7">fov_3d_z_range</a> ) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> range_cur = <a class="code" href="classCreature.html#ac38f528b62575754ce16027ae50ae8da">sight_range</a>( here.<a class="code" href="classmap.html#a47284179cd831f04aaa7ff3242a5fb7b">ambient_light_at</a>( t ) );</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> range_day = <a class="code" href="classCreature.html#ac38f528b62575754ce16027ae50ae8da">sight_range</a>( <a class="code" href="calendar_8cpp.html#a18db382f9462474fe6c1caae45cec587">default_daylight_level</a>() );</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> range_night = <a class="code" href="classCreature.html#ac38f528b62575754ce16027ae50ae8da">sight_range</a>( 0 );</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> range_max = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( range_day, range_night );</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> range_min = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( range_cur, range_max );</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> wanted_range = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), t );</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">if</span>( wanted_range &lt;= range_min ||</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        ( wanted_range &lt;= range_max &amp;&amp;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;          here.<a class="code" href="classmap.html#a47284179cd831f04aaa7ff3242a5fb7b">ambient_light_at</a>( t ) &gt; here.<a class="code" href="classmap.html#a3db1c5b5784298e514069b170b60845f">get_cache_ref</a>( t.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ).<a class="code" href="structlevel__cache.html#a4f8614684f50298ed9948ba2d916aa80">natural_light_level_cache</a> ) ) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordtype">int</span> range = 0;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a47284179cd831f04aaa7ff3242a5fb7b">ambient_light_at</a>( t ) &gt; here.<a class="code" href="classmap.html#a3db1c5b5784298e514069b170b60845f">get_cache_ref</a>( t.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ).<a class="code" href="structlevel__cache.html#a4f8614684f50298ed9948ba2d916aa80">natural_light_level_cache</a> ) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            range = <a class="code" href="game__constants_8h.html#a745392436b19cce3012d4d8dc0fe422c">MAX_VIEW_DISTANCE</a>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            range = range_min;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="creature_8cpp.html#af079f6d5681dabcbc1c4ee804c0ba556">effect_no_sight</a> ) ) {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            range = 1;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="keywordflow">if</span>( range_mod &gt; 0 ) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            range = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( range, range_mod );</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        }</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a> ) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <span class="comment">// Special case monster -&gt; player visibility, forcing it to be symmetric with player vision.</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> player_visibility_factor = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCharacter.html#a40e47094669fd1448b975358051f9f98">visibility</a>() / 100.0f;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <span class="keywordtype">int</span> adj_range = <a class="code" href="math__parser__func_8h.html#a204ca52ef1b97d079c45e1cb6407f73b">std::floor</a>( range * player_visibility_factor );</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            <span class="keywordflow">return</span> adj_range &gt;= wanted_range &amp;&amp;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                   here.<a class="code" href="classmap.html#a3db1c5b5784298e514069b170b60845f">get_cache_ref</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>().z ).<a class="code" href="structlevel__cache.html#ab0deaeedc31eadd9e85d2f11654e9878">seen_cache</a>[<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>().<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a>][<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>().<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>] &gt; <a class="code" href="lightmap_8h.html#af20a076fb00e8f5ee28db8f5c302914e">LIGHT_TRANSPARENCY_SOLID</a>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <span class="keywordflow">return</span> here.<a class="code" href="classmap.html#aa8a67baac3cc72b2f5fbd669894587a0">sees</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), t, range );</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;}</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="classCreature.html#abfe420ab28e2fef66fa1efea3ca46a02">  534</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">Creature::sees</a>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_bub_ms</a> &amp;t, <span class="keywordtype">bool</span> is_avatar, <span class="keywordtype">int</span> range_mod )<span class="keyword"> const</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( t.<a class="code" href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">raw</a>(), <a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>, range_mod );</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">// Helper function to check if potential area of effect of a weapon overlaps vehicle</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment">// Maybe TODO: If this is too slow, precalculate a bounding box and clip the tested area to it</span></div>
<div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="creature_8cpp.html#add935ef55b63a9bd124cf2410ab40749">  541</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="creature_8cpp.html#add935ef55b63a9bd124cf2410ab40749">overlaps_vehicle</a>( <span class="keyword">const</span> std::set&lt;tripoint&gt; &amp;veh_area, <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                              <span class="keyword">const</span> <span class="keywordtype">int</span> area )</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;{</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;tmp : <a class="code" href="classtripoint__range.html">tripoint_range&lt;tripoint&gt;</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> - <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>( area, area, 0 ),</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> + <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>( area - 1, area - 1, 0 ) ) ) {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="keywordflow">if</span>( veh_area.count( tmp ) &gt; 0 ) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;}</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno"><a class="line" href="classCreature.html#abb91e1cd5610658124d40623e7e4d698">  554</a></span>&#160;<a class="code" href="classCreature.html">Creature</a> *<a class="code" href="classCreature.html#abb91e1cd5610658124d40623e7e4d698">Creature::auto_find_hostile_target</a>( <span class="keywordtype">int</span> range, <span class="keywordtype">int</span> &amp;boo_hoo, <span class="keywordtype">int</span> area )</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;{</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <a class="code" href="classCreature.html">Creature</a> *target = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> player_pos = player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>();</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    constexpr <span class="keywordtype">int</span> hostile_adj = 2; <span class="comment">// Priority bonus for hostile targets</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> iff_dist = ( range + area ) * 3 / 2 + 6; <span class="comment">// iff check triggers at this distance</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="comment">// iff safety margin (degrees). less accuracy, more paranoia</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::angle</a> iff_hangle = <a class="code" href="namespaceunits.html#a2fa3e5208be6bf02ff8d1a8c4eca1de9">units::from_degrees</a>( 15 + area );</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordtype">float</span> best_target_rating = -1.0f; <span class="comment">// bigger is better</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::angle</a> u_angle = {};         <span class="comment">// player angle relative to turret</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    boo_hoo = 0;         <span class="comment">// how many targets were passed due to IFF. Tragically.</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordtype">bool</span> self_area_iff = <span class="keyword">false</span>; <span class="comment">// Need to check if the target is near the vehicle we&#39;re a part of</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordtype">bool</span> area_iff = <span class="keyword">false</span>;      <span class="comment">// Need to check distance from target to player</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordtype">bool</span> angle_iff = <a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( player_character ); <span class="comment">// Need to check if player is in cone to target</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordtype">int</span> pldist = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), player_pos );</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="classvehicle.html">vehicle</a> *in_veh = <a class="code" href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">is_fake</a>() ? <a class="code" href="vpart__position_8h.html#a8da46e924794d004c9899494ecd600c5">veh_pointer_or_null</a>( here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">if</span>( pldist &lt; iff_dist &amp;&amp; angle_iff ) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        area_iff = area &gt; 0;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="comment">// Player inside vehicle won&#39;t be hit by shots from the roof,</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="comment">// so we can fire &quot;through&quot; them just fine.</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keyword">const</span> <a class="code" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( player_pos );</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <span class="keywordflow">if</span>( in_veh &amp;&amp; <a class="code" href="vpart__position_8h.html#a8da46e924794d004c9899494ecd600c5">veh_pointer_or_null</a>( vp ) == in_veh &amp;&amp; vp-&gt;is_inside() ) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            angle_iff = <span class="keyword">false</span>; <span class="comment">// No angle IFF, but possibly area IFF</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( pldist &lt; 3 ) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <span class="comment">// granularity increases with proximity</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            iff_hangle = ( pldist == 2 ? 30_degrees : 60_degrees );</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        u_angle = <a class="code" href="line_8cpp.html#a22f984836636053038f43340f9c50149">coord_to_angle</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), player_pos );</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">if</span>( area &gt; 0 &amp;&amp; in_veh != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        self_area_iff = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    std::vector&lt;Creature *&gt; targets = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_creatures_if( [&amp;]( <span class="keyword">const</span> <a class="code" href="classCreature.html">Creature</a> &amp; critter ) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordflow">if</span>( critter.<a class="code" href="classCreature.html#a07012d6d1998068bef112510c7424374">is_monster</a>() ) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            <span class="comment">// friendly to the player, not a target for us</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            return static_cast&lt;const monster *&gt;( &amp;critter )-&gt;attitude( &amp;player_character ) == MATT_ATTACK;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <span class="keywordflow">if</span>( critter.<a class="code" href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">is_npc</a>() ) {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="comment">// friendly to the player, not a target for us</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            return static_cast&lt;const npc *&gt;( &amp;critter )-&gt;get_attitude() == NPCATT_KILL;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="comment">// TODO: what about g-&gt;u?</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    } );</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classCreature.html">Creature</a> *&amp;m : targets ) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( *m ) ) {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            <span class="comment">// can&#39;t see nor sense it</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">is_fake</a>() &amp;&amp; in_veh ) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                <span class="comment">// If turret in the vehicle then</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                <span class="comment">// Hack: trying yo avoid turret LOS blocking by frames bug by trying to see target from vehicle boundary</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                <span class="comment">// Or turret wallhack for turret&#39;s car</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                <span class="comment">// TODO: to visibility checking another way, probably using 3D FOV</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                std::vector&lt;tripoint&gt; path_to_target = <a class="code" href="coordinates_8h.html#a31847b31c6ef002e9d16afd7fd0005e3">line_to</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), m-&gt;pos() );</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                path_to_target.insert( path_to_target.begin(), <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                <span class="comment">// Getting point on vehicle boundaries and on line between target and turret</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                <span class="keywordtype">bool</span> continueFlag = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( path_to_target.back() );</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                    <a class="code" href="classvehicle.html">vehicle</a> *<span class="keyword">const</span> veh = vp ? &amp;vp-&gt;vehicle() : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                    <span class="keywordflow">if</span>( in_veh == veh ) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                        continueFlag = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                        path_to_target.pop_back();</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                    }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                } <span class="keywordflow">while</span>( continueFlag );</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                <a class="code" href="structtripoint.html">tripoint</a> oldPos = <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>();</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                <a class="code" href="classCreature.html#ac16dcdb688f6f47c594c98c83528a670">setpos</a>( path_to_target.back() ); <span class="comment">//Temporary moving targeting npc on vehicle boundary position</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                <span class="keywordtype">bool</span> seesFromVehBound = <a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( *m ); <span class="comment">// And look from there</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                <a class="code" href="classCreature.html#ac16dcdb688f6f47c594c98c83528a670">setpos</a>( oldPos );</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                <span class="keywordflow">if</span>( !seesFromVehBound ) {</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                }</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordtype">int</span> dist = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), m-&gt;pos() ) + 1; <span class="comment">// rl_dist can be 0</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordflow">if</span>( dist &gt; range + 1 || dist &lt; area ) {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <span class="comment">// Too near or too far</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="comment">// Prioritize big, armed and hostile stuff</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keywordtype">float</span> mon_rating = m-&gt;power_rating();</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="keywordtype">float</span> target_rating = mon_rating / dist;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="keywordflow">if</span>( mon_rating + hostile_adj &lt;= 0 ) {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="comment">// We wouldn&#39;t attack it even if it was hostile</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="keywordflow">if</span>( in_veh != <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="vpart__position_8h.html#a8da46e924794d004c9899494ecd600c5">veh_pointer_or_null</a>( here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( m-&gt;pos() ) ) == in_veh ) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <span class="comment">// No shooting stuff on vehicle we&#39;re a part of</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <span class="keywordflow">if</span>( area_iff &amp;&amp; <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( player_pos, m-&gt;pos() ) &lt;= area ) {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <span class="comment">// Player in AoE</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            boo_hoo++;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="comment">// Hostility check can be expensive, but we need to inform the player of boo_hoo</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="comment">// only when the target is actually &quot;hostile enough&quot;</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="keywordtype">bool</span> maybe_boo = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <span class="keywordflow">if</span>( angle_iff ) {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            <a class="code" href="classunits_1_1quantity.html">units::angle</a> tangle = <a class="code" href="line_8cpp.html#a22f984836636053038f43340f9c50149">coord_to_angle</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), m-&gt;pos() );</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <a class="code" href="classunits_1_1quantity.html">units::angle</a> diff = <a class="code" href="namespaceunits.html#a86330975eec4fe39c48b40e85afe151b">units::fabs</a>( u_angle - tangle );</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            <span class="comment">// Player is in the angle and not too far behind the target</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <span class="keywordflow">if</span>( ( diff + iff_hangle &gt; 360_degrees || diff &lt; iff_hangle ) &amp;&amp;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                ( dist * 3 / 2 + 6 &gt; pldist ) ) {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                maybe_boo = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="keywordflow">if</span>( !maybe_boo &amp;&amp; ( ( mon_rating + hostile_adj ) / dist &lt;= best_target_rating ) ) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            <span class="comment">// &quot;Would we skip the target even if it was hostile?&quot;</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            <span class="comment">// Helps avoid (possibly expensive) attitude calculation</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">if</span>( m-&gt;attitude_to( player_character ) == <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Attitude::HOSTILE</a> ) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            target_rating = ( mon_rating + hostile_adj ) / dist;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            <span class="keywordflow">if</span>( maybe_boo ) {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                boo_hoo++;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keywordflow">if</span>( target_rating &lt;= best_target_rating || target_rating &lt;= 0 ) {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            <span class="keywordflow">continue</span>; <span class="comment">// Handle this late so that boo_hoo++ can happen</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="comment">// Expensive check for proximity to vehicle</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="keywordflow">if</span>( self_area_iff &amp;&amp; <a class="code" href="creature_8cpp.html#add935ef55b63a9bd124cf2410ab40749">overlaps_vehicle</a>( in_veh-&gt;<a class="code" href="classvehicle.html#ae6df00db578931d74d20de595736b190">get_points</a>(), m-&gt;pos(), area ) ) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        target = m;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        best_target_rating = target_rating;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">return</span> target;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;}</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment"> * Damage-related functions</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160; </div>
<div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="classCreature.html#a6748055fb3a5922e1fa55c4214aff48f">  700</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a6748055fb3a5922e1fa55c4214aff48f">Creature::size_melee_penalty</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">switch</span>( <a class="code" href="classCreature.html#ac9fd76782cca4157eda2afcb7d66f02e">get_size</a>() ) {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a>:</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            <span class="keywordflow">return</span> 30;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">creature_size::small</a>:</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            <span class="keywordflow">return</span> 15;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a>:</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a>:</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="keywordflow">return</span> -10;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a>:</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            <span class="keywordflow">return</span> -20;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aac651433a999fb14f71f6754f0199781">creature_size::num_sizes</a>:</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;ERROR: Creature has invalid size class.&quot;</span> );</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    }</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160; </div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid target size %d&quot;</span>, <a class="code" href="classCreature.html#ac9fd76782cca4157eda2afcb7d66f02e">get_size</a>() );</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;}</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno"><a class="line" href="classCreature.html#a50742ba2b2e90cf50327ea90c8d636dd">  722</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a50742ba2b2e90cf50327ea90c8d636dd">Creature::is_adjacent</a>( <span class="keyword">const</span> <a class="code" href="classCreature.html">Creature</a> *target, <span class="keyword">const</span> <span class="keywordtype">bool</span> allow_z_levels )<span class="keyword"> const</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">if</span>( target == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), target-&gt;<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) != 1 ) {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    }</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() == target-&gt;<a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() ) {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">return</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <span class="comment">/* either target or attacker are underwater and separated by vehicle tiles */</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            !( <a class="code" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a> != target-&gt;<a class="code" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a> &amp;&amp;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;               here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) &amp;&amp; here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( target-&gt;<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) );</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    }</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">if</span>( !allow_z_levels ) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="comment">// The square above must have no floor.</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="comment">// The square below must have no ceiling (i.e. no floor on the tile above it).</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> target_above = target-&gt;<a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() &gt; <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>();</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a27f7537397c6aaabaac683563658a066">up</a> = target_above ? target-&gt;<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() : <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>();</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a324c3b7a1136cdb243b39859e2bd0904">down</a> = target_above ? <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() : target-&gt;<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>();</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> <a class="code" href="cube__direction_8h.html#aea62013051f3c8842efa174037dfb5bca55a9d6aa251e3c334db4ab4055a4a004">above</a>{ <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a324c3b7a1136cdb243b39859e2bd0904">down</a>.xy(), <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a27f7537397c6aaabaac683563658a066">up</a>.z };</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">return</span> ( !here.<a class="code" href="classmap.html#ad11eaa007e285dcfe4c6ffb6f1ce46d3">has_floor</a>( <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a27f7537397c6aaabaac683563658a066">up</a> ) || here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a27f7537397c6aaabaac683563658a066">up</a> )-&gt;<a class="code" href="structmap__data__common__t.html#a630778707744fb147436b9aa0c370a7e">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ab09f2463f4ce060d051439b5535a47e6">ter_furn_flag::TFLAG_GOES_DOWN</a> ) ) &amp;&amp;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;           ( !here.<a class="code" href="classmap.html#ad11eaa007e285dcfe4c6ffb6f1ce46d3">has_floor</a>( <a class="code" href="cube__direction_8h.html#aea62013051f3c8842efa174037dfb5bca55a9d6aa251e3c334db4ab4055a4a004">above</a> ) || here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( <a class="code" href="cube__direction_8h.html#aea62013051f3c8842efa174037dfb5bca55a9d6aa251e3c334db4ab4055a4a004">above</a> )-&gt;<a class="code" href="structmap__data__common__t.html#a630778707744fb147436b9aa0c370a7e">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ab09f2463f4ce060d051439b5535a47e6">ter_furn_flag::TFLAG_GOES_DOWN</a> ) );</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;}</div>
<div class="line"><a name="l00753"></a><span class="lineno"><a class="line" href="classnpc.html#a362ab9bed1655e6a8d89500c0a918151">  753</a></span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno"><a class="line" href="classCreature.html#a0a19a19318a38c3192f42e903e692bf0">  754</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classCreature.html#a0a19a19318a38c3192f42e903e692bf0">Creature::get_crit_factor</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00756"></a><span class="lineno"><a class="line" href="classnpc.html#a7b6938eb560ebd8f5d2518632c0d21ea">  756</a></span>&#160;    <span class="keywordtype">float</span> crit_mod = 1.f;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> *<a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> = <a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>();</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> total_cover = clamp&lt;int&gt;( <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>-&gt;worn.get_coverage( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, <a class="code" href="classitem.html#a46801ba44575f795bcdba419de521ccba84ee98e722384cf558d13bb5191a0df8">item::cover_type::COVER_VITALS</a> ), 0,</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                                            100 );</div>
<div class="line"><a name="l00761"></a><span class="lineno"><a class="line" href="classnpc.html#a44a4fc37b385760d28c9d1ef786ed7c9">  761</a></span>&#160;        crit_mod = 1.f - total_cover / 100.f;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="comment">// TODO: as_monster()</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">return</span> crit_mod;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;}</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00767"></a><span class="lineno"><a class="line" href="classCreature.html#a2ed7b87167039b2cf0ecb2464d62f802">  767</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a2ed7b87167039b2cf0ecb2464d62f802">Creature::deal_melee_attack</a>( <a class="code" href="classCreature.html">Creature</a> *source, <span class="keywordtype">int</span> hitroll )</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;{</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> dodge = <a class="code" href="classCreature.html#a948c33f5a992a7f1b8e4be94688d3dd2">dodge_roll</a>();</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <a class="code" href="classCreature.html#aa80c16d08f583214085a919a921ab179">on_try_dodge</a>();</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordtype">int</span> hit_spread = hitroll - dodge - <a class="code" href="classCreature.html#a6748055fb3a5922e1fa55c4214aff48f">size_melee_penalty</a>();</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2abfaaa89a847b37d4136e73a0f868c55a">debugmode::DF_CREATURE</a>, <span class="stringliteral">&quot;Base hitroll %d&quot;</span>,</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                   hitroll );</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2abfaaa89a847b37d4136e73a0f868c55a">debugmode::DF_CREATURE</a>, <span class="stringliteral">&quot;Dodge roll %.1f&quot;</span>,</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                   dodge );</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#aec78049b0ee4401d3a4c073663735aad">has_flag</a>( <a class="code" href="mtype_8cpp.html#af8eb4198f7564379a407e89c13cdd1b7">mon_flag_IMMOBILE</a> ) ) {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <span class="comment">// Under normal circumstances, even a clumsy person would</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="comment">// not miss a turret.  It should, however, be possible to</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <span class="comment">// miss a smaller target, especially when wielding a</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="comment">// clumsy weapon or when severely encumbered.</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        hit_spread += 40;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="comment">// If attacker missed call targets on_dodge event</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordflow">if</span>( dodge &gt; 0.0 &amp;&amp; hit_spread &lt;= 0 &amp;&amp; source != nullptr &amp;&amp; !source-&gt;<a class="code" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">is_hallucination</a>() ) {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <a class="code" href="classCreature.html#addeddc9bebcf52539dd21b4a767d7f11">on_dodge</a>( source, source-&gt;<a class="code" href="classCreature.html#ad8810c3abed9b6a4f0705fd9be466e33">get_melee</a>() );</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2abfaaa89a847b37d4136e73a0f868c55a">debugmode::DF_CREATURE</a>, <span class="stringliteral">&quot;Final hitspread %d&quot;</span>,</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                   hit_spread );</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">return</span> hit_spread;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;}</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno"><a class="line" href="classCreature.html#abbfb6067cd74b31799fe312fbe0fd1cf">  797</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#abbfb6067cd74b31799fe312fbe0fd1cf">Creature::deal_melee_hit</a>( <a class="code" href="classCreature.html">Creature</a> *source, <span class="keywordtype">int</span> hit_spread, <span class="keywordtype">bool</span> critical_hit,</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                               <a class="code" href="structdamage__instance.html">damage_instance</a> dam, <a class="code" href="structdealt__damage__instance.html">dealt_damage_instance</a> &amp;dealt_dam,</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structweakpoint__attack.html">weakpoint_attack</a> &amp;<a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>, <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> *<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> )</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;{</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordflow">if</span>( source == <span class="keyword">nullptr</span> || source-&gt;<a class="code" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">is_hallucination</a>() ) {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        dealt_dam.<a class="code" href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">bp_hit</a> = <a class="code" href="creature_8cpp.html#a9c2a387ddc2ddef836666f92773a8293">anatomy_human_anatomy</a>-&gt;<a class="code" href="classanatomy.html#abae9f237437b7f56f5efbd6983706324">random_body_part</a>();</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    dam = source-&gt;<a class="code" href="classCreature.html#a4887c928d768b8e4a7cb177ab52c6eab">modify_damage_dealt_with_enchantments</a>( dam );</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="comment">// If carrying a rider, there is a chance the hits may hit rider instead.</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="comment">// melee attack will start off as targeted at mount</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="creature_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a> ) ) {</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <a class="code" href="classmonster.html">monster</a> *mons = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classmonster.html">monster</a> *<span class="keyword">&gt;</span>( this );</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <span class="keywordflow">if</span>( mons &amp;&amp; mons-&gt;<a class="code" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a> ) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            <span class="keywordflow">if</span>( !mons-&gt;<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#aac69946bbcb6c23cbbede3616f943a32">mon_flag_MECH_DEFENSIVE</a> ) &amp;&amp;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 2, mons-&gt;<a class="code" href="classmonster.html#ab92cac0ecb2b2062fd4f821b671f86ac">get_size</a>() - mons-&gt;<a class="code" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a>-&gt;<a class="code" href="classCharacter.html#a6ab1a86cb826d5faa1244cb7a4674700">get_size</a>() ) ) ) {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                mons-&gt;<a class="code" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a>-&gt;<a class="code" href="classCreature.html#abbfb6067cd74b31799fe312fbe0fd1cf">deal_melee_hit</a>( source, hit_spread, critical_hit, dam, dealt_dam, <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> );</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <a class="code" href="structdamage__instance.html">damage_instance</a> d = dam; <span class="comment">// copy, since we will mutate in block_hit</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <a class="code" href="classint__id.html">bodypart_id</a> bp_hit = <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> == <span class="keyword">nullptr</span> ? <a class="code" href="classCreature.html#afa48ff59c517a5e07e7dfc702b16007c">select_body_part</a>( -1, -1, source-&gt;<a class="code" href="classCreature.html#a286e7a58c2eb60f8fdc15b4d0d2e7888">can_attack_high</a>(),</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                         hit_spread ) : *<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <a class="code" href="classCreature.html#af7c8ef39a61456810a5581a61d297b80">block_hit</a>( source, bp_hit, d );</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <a class="code" href="structweakpoint__attack.html">weakpoint_attack</a> attack_copy = <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    attack_copy.<a class="code" href="structweakpoint__attack.html#a73f2128a971517b26afb00190a311cec">is_crit</a> = critical_hit;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    attack_copy.<a class="code" href="structweakpoint__attack.html#ad525af63dcff515fffe3c6a4a54b8378">type</a> = <a class="code" href="structweakpoint__attack.html#a0391e9e0c5d21059e9b96a1873f80f3b">weakpoint_attack::type_of_melee_attack</a>( d );</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <a class="code" href="classCreature.html#a29989737d8bdd693384ee1c193ce7270">on_hit</a>( source, bp_hit ); <span class="comment">// trigger on-gethit events</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    dam.<a class="code" href="structdamage__instance.html#aa27d30fcf97ab64d00597c316583b3c9">onhit_effects</a>( source, <span class="keyword">this</span> ); <span class="comment">// on-hit effects for inflicted damage types</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    dealt_dam = <a class="code" href="classCreature.html#af1f141f381984e2d0f119dc94429f1d3">deal_damage</a>( source, bp_hit, d, attack_copy );</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    dealt_dam.<a class="code" href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">bp_hit</a> = bp_hit;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;}</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno"><a class="line" href="classCreature.html#a05c0a55efc15391e4b9680f1da212683">  835</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="classCreature.html#a05c0a55efc15391e4b9680f1da212683">Creature::accuracy_projectile_attack</a>( <a class="code" href="structdealt__projectile__attack.html">dealt_projectile_attack</a> &amp;<a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> avoid_roll = <a class="code" href="classCreature.html#a948c33f5a992a7f1b8e4be94688d3dd2">dodge_roll</a>();</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="comment">// Do dice(10, speed) instead of dice(speed, 10) because speed could potentially be &gt; 10000</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> diff_roll = <a class="code" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 10, <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.proj.speed );</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="comment">// Partial dodge, capped at [0.0, 1.0], added to missed_by</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> dodge_rescaled = avoid_roll / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( diff_roll );</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.missed_by + <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 0.0, <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( 1.0, dodge_rescaled ) );</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;}</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno"><a class="line" href="structprojectile.html#a0ba785643d8b33604199a4c9bf2ef985">  847</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structprojectile.html#a0ba785643d8b33604199a4c9bf2ef985">projectile::apply_effects_nodamage</a>( <a class="code" href="classCreature.html">Creature</a> &amp;target, <a class="code" href="classCreature.html">Creature</a> *source )<span class="keyword"> const</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">proj_effects</a>.count( <span class="stringliteral">&quot;BOUNCE&quot;</span> ) ) {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="classeffect__source.html">effect_source</a>( source ), <a class="code" href="creature_8cpp.html#aa3f7307ad230ecea38f95a4ff0b8ee05">effect_bounced</a>, 1_turns );</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    }</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;}</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno"><a class="line" href="structprojectile.html#a415ddce53d5f213e157c168bf0ba7042">  854</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structprojectile.html#a415ddce53d5f213e157c168bf0ba7042">projectile::apply_effects_damage</a>( <a class="code" href="classCreature.html">Creature</a> &amp;target, <a class="code" href="classCreature.html">Creature</a> *source,</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="structdealt__damage__instance.html">dealt_damage_instance</a> &amp;dealt_dam, <span class="keywordtype">bool</span> critical )<span class="keyword"> const</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="comment">// Apply ammo effects to target.</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">proj_effects</a>.count( <span class="stringliteral">&quot;TANGLE&quot;</span> ) ) {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="comment">// if its a tameable animal, its a good way to catch them if they are running away, like them ranchers do!</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="comment">// we assume immediate success, then certain monster types immediately break free in monster.cpp move_effects()</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <span class="keywordflow">if</span>( target.<a class="code" href="classCreature.html#a07012d6d1998068bef112510c7424374">is_monster</a>() ) {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;drop_item = <a class="code" href="structprojectile.html#a370f9c2a4b37c7ed526f9d2fd1442328">get_drop</a>();</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            <span class="keywordflow">if</span>( !drop_item.<a class="code" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="classeffect__source.html">effect_source</a>( source ), <a class="code" href="creature_8cpp.html#a09c667a72022d7e0ee0b851560831e04">effect_tied</a>, 1_turns, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                target.<a class="code" href="classCreature.html#a90636bbf110025587c181fad389d616c">as_monster</a>()-&gt;<a class="code" href="classmonster.html#a2881507933646bca97ef83c7112595ac">tied_item</a> = cata::make_value&lt;item&gt;( drop_item );</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2abfaaa89a847b37d4136e73a0f868c55a">debugmode::DF_CREATURE</a>,</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                               <span class="stringliteral">&quot;projectile with TANGLE effect, but no drop item specified&quot;</span> );</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            }</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ( target.<a class="code" href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">is_npc</a>() || target.<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) &amp;&amp;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                   !target.<a class="code" href="classCreature.html#acfe4b827ccc042c7933e709fbca6476e">is_immune_effect</a>( <a class="code" href="creature_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a> ) ) {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            <span class="comment">// no tied up effect for people yet, just down them and stun them, its close enough to the desired effect.</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            <span class="comment">// we can assume a person knows how to untangle their legs eventually and not panic like an animal.</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="classeffect__source.html">effect_source</a>( source ), <a class="code" href="creature_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, 1_turns );</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            <span class="comment">// stunned to simulate staggering around and stumbling trying to get the entangled thing off of them.</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="classeffect__source.html">effect_source</a>( source ), <a class="code" href="creature_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 3_turns, 8_turns ) );</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        }</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160; </div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">proj_effects</a>.count( <span class="stringliteral">&quot;INCENDIARY&quot;</span> ) ) {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( 1, 100 ) ) { <span class="comment">// 1% chance</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            <span class="keywordflow">if</span>( target.<a class="code" href="classCreature.html#a3b487a587c0367c588db6d9df8135612">made_of</a>( <a class="code" href="creature_8cpp.html#adaa52641aaea718721dc2fd611ed5831">material_veggy</a> ) || target.<a class="code" href="classCreature.html#ad0d456dd94dedc99904380699582135b">made_of_any</a>( <a class="code" href="classCreature.html#a48bb40fe4132a49d95f26611d7c622a6">Creature::cmat_flammable</a> ) ) {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="classeffect__source.html">effect_source</a>( source ), <a class="code" href="creature_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 2_turns, 6_turns ),</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                                   dealt_dam.<a class="code" href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">bp_hit</a> );</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( target.<a class="code" href="classCreature.html#ad0d456dd94dedc99904380699582135b">made_of_any</a>( <a class="code" href="classCreature.html#a81c28d7d1cb83a47794dbf879dede400">Creature::cmat_flesh</a> ) &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) ) {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="classeffect__source.html">effect_source</a>( source ), <a class="code" href="creature_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 1_turns, 4_turns ),</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                                   dealt_dam.<a class="code" href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">bp_hit</a> );</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;            <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="creature_8cpp.html#a512959ad2b35ea057f2fed5445fc23c4">trait_PYROMANIA</a> ) &amp;&amp;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                !player_character.<a class="code" href="classCharacter.html#a74cf2e51a768e3d2e2114aeaddb5fda4">has_morale</a>( <a class="code" href="morale__types_8cpp.html#a7a7fa39cff1d7efe58e013c63b7f0ee6">MORALE_PYROMANIA_STARTFIRE</a> ) &amp;&amp;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                player_character.<a class="code" href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">sees</a>( target ) ) {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                player_character.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                                                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You feel a surge of euphoria as flame engulfs %s!&quot;</span> ), target.<a class="code" href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">get_name</a>() );</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                player_character.<a class="code" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code" href="morale__types_8cpp.html#a7a7fa39cff1d7efe58e013c63b7f0ee6">MORALE_PYROMANIA_STARTFIRE</a>, 15, 15, 8_hours, 6_hours );</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                player_character.<a class="code" href="classCharacter.html#a2725bcbfa9e92e0590930e6a8e35764c">rem_morale</a>( <a class="code" href="morale__types_8cpp.html#ae932ffaaef9c3a4092fc8727141405bf">MORALE_PYROMANIA_NOFIRE</a> );</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        }</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">proj_effects</a>.count( <span class="stringliteral">&quot;IGNITE&quot;</span> ) ) {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( 1, 2 ) ) { <span class="comment">// 50% chance</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            <span class="keywordflow">if</span>( target.<a class="code" href="classCreature.html#a3b487a587c0367c588db6d9df8135612">made_of</a>( <a class="code" href="creature_8cpp.html#adaa52641aaea718721dc2fd611ed5831">material_veggy</a> ) || target.<a class="code" href="classCreature.html#ad0d456dd94dedc99904380699582135b">made_of_any</a>( <a class="code" href="classCreature.html#a48bb40fe4132a49d95f26611d7c622a6">Creature::cmat_flammable</a> ) ) {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="classeffect__source.html">effect_source</a>( source ), <a class="code" href="creature_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, 10_turns, dealt_dam.<a class="code" href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">bp_hit</a> );</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( target.<a class="code" href="classCreature.html#ad0d456dd94dedc99904380699582135b">made_of_any</a>( <a class="code" href="classCreature.html#a81c28d7d1cb83a47794dbf879dede400">Creature::cmat_flesh</a> ) ) {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="classeffect__source.html">effect_source</a>( source ), <a class="code" href="creature_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, 6_turns, dealt_dam.<a class="code" href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">bp_hit</a> );</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            }</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="creature_8cpp.html#a512959ad2b35ea057f2fed5445fc23c4">trait_PYROMANIA</a> ) &amp;&amp;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                !player_character.<a class="code" href="classCharacter.html#a74cf2e51a768e3d2e2114aeaddb5fda4">has_morale</a>( <a class="code" href="morale__types_8cpp.html#a7a7fa39cff1d7efe58e013c63b7f0ee6">MORALE_PYROMANIA_STARTFIRE</a> ) &amp;&amp;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                player_character.<a class="code" href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">sees</a>( target ) ) {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                player_character.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                                                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You feel a surge of euphoria as flame engulfs %s!&quot;</span> ), target.<a class="code" href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">get_name</a>() );</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                player_character.<a class="code" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code" href="morale__types_8cpp.html#a7a7fa39cff1d7efe58e013c63b7f0ee6">MORALE_PYROMANIA_STARTFIRE</a>, 15, 15, 8_hours, 6_hours );</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                player_character.<a class="code" href="classCharacter.html#a2725bcbfa9e92e0590930e6a8e35764c">rem_morale</a>( <a class="code" href="morale__types_8cpp.html#ae932ffaaef9c3a4092fc8727141405bf">MORALE_PYROMANIA_NOFIRE</a> );</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        }</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    }</div>
<div class="line"><a name="l00916"></a><span class="lineno"><a class="line" href="classCharacter.html#aa4f09ff71f1aa8562798d47cb4ef0682">  916</a></span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">proj_effects</a>.count( <span class="stringliteral">&quot;ROBOT_DAZZLE&quot;</span> ) ) {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <span class="keywordflow">if</span>( critical &amp;&amp; target.<a class="code" href="classCreature.html#a43b83bb780138cf2186b24cd40322756">in_species</a>( <a class="code" href="creature_8cpp.html#a478c9c699e4248bf7d25ae31156bf0b7">species_ROBOT</a> ) ) {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;            <a class="code" href="classtime__duration.html">time_duration</a> duration = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 6_turns, 8_turns );</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="classeffect__source.html">effect_source</a>( source ), <a class="code" href="creature_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, duration );</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;            target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="classeffect__source.html">effect_source</a>( source ), <a class="code" href="creature_8cpp.html#a0a39cc22ef74abe8a18077fa8625138b">effect_sensor_stun</a>, duration );</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( source-&gt;<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ?</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                     <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You land a clean shot on the %1$s sensors, stunning it.&quot;</span> ) :</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                     <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %1$s is stunned!&quot;</span> ),</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                     target.<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>( <span class="keyword">true</span> ) );</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        }</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    }</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">if</span>( dealt_dam.<a class="code" href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">bp_hit</a>-&gt;<a class="code" href="structbody__part__type.html#a715cead782be623dc68bb24dbb6a5074">has_type</a>( <a class="code" href="structbody__part__type.html#a5c9ac1217c128e0f487b2f460dd3fad1a96e89a298e0a9f469b9ae458d6afae9f">body_part_type::type::head</a> ) &amp;&amp;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        <a class="code" href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">proj_effects</a>.count( <span class="stringliteral">&quot;BLINDS_EYES&quot;</span> ) ) {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <span class="comment">// TODO: Change this to require bp_eyes</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        target.<a class="code" href="classCreature.html#a2023c106ee9103c630f054f748018218">add_env_effect</a>( <a class="code" href="creature_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a>,</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                               target.<a class="code" href="classCreature.html#a936001bd5f590f20d5463f861b032840">get_random_body_part_of_type</a>( <a class="code" href="structbody__part__type.html#a5c9ac1217c128e0f487b2f460dd3fad1aa5fe26d5d09b736a77f4345e9f80b951">body_part_type::type::sensor</a> ), 5, <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 3_turns, 10_turns ) );</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">proj_effects</a>.count( <span class="stringliteral">&quot;APPLY_SAP&quot;</span> ) ) {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="classeffect__source.html">effect_source</a>( source ), <a class="code" href="creature_8cpp.html#aaafb2b8608b5451879424ff739fedd41">effect_sap</a>, 1_turns * dealt_dam.<a class="code" href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">total_damage</a>() );</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    }</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">proj_effects</a>.count( <span class="stringliteral">&quot;PARALYZEPOISON&quot;</span> ) &amp;&amp; dealt_dam.<a class="code" href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">total_damage</a>() &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        !dealt_dam.<a class="code" href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">bp_hit</a>-&gt;<a class="code" href="structbody__part__type.html#afd43ba79d412b38476f718534904fce7">has_flag</a>( <a class="code" href="creature_8cpp.html#afc3daf7e1664f8141571db43dcb86676">json_flag_BIONIC_LIMB</a> ) ) {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        target.<a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You feel poison coursing through your body!&quot;</span> ) );</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="classeffect__source.html">effect_source</a>( source ), <a class="code" href="creature_8cpp.html#a04a9c5a38c56dac485cb30d93ee38658">effect_paralyzepoison</a>, 5_minutes );</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">proj_effects</a>.count( <span class="stringliteral">&quot;FOAMCRETE&quot;</span> ) &amp;&amp; <a class="code" href="creature_8cpp.html#abd1d72989d0ae4f431b5267137061bb6">effect_foamcrete_slow</a>.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        target.<a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The foamcrete stiffens around you!&quot;</span> ) );</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="classeffect__source.html">effect_source</a>( source ), <a class="code" href="creature_8cpp.html#abd1d72989d0ae4f431b5267137061bb6">effect_foamcrete_slow</a>, 5_minutes );</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    }</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160; </div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordtype">int</span> stun_strength = 0;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">proj_effects</a>.count( <span class="stringliteral">&quot;BEANBAG&quot;</span> ) ) {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        stun_strength = 4;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    }</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">proj_effects</a>.count( <span class="stringliteral">&quot;LARGE_BEANBAG&quot;</span> ) ) {</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        stun_strength = 16;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    }</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordflow">if</span>( stun_strength &gt; 0 ) {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <span class="keywordflow">switch</span>( target.<a class="code" href="classCreature.html#ac9fd76782cca4157eda2afcb7d66f02e">get_size</a>() ) {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a>:</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                stun_strength *= 4;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">creature_size::small</a>:</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                stun_strength *= 2;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a>:</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a>:</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                stun_strength /= 2;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a>:</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                stun_strength /= 4;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        }</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="classeffect__source.html">effect_source</a>( source ), <a class="code" href="creature_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>,</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                           1_turns * <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( stun_strength / 2, stun_strength ) );</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    }</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;}</div>
<div class="line"><a name="l00979"></a><span class="lineno"><a class="line" href="classCharacter.html#a362ab9bed1655e6a8d89500c0a918151">  979</a></span>&#160; </div>
<div class="line"><a name="l00980"></a><span class="lineno"><a class="line" href="classCharacter.html#a9f53ca8ced4f6083f02d47ceef2aeb8b">  980</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structprojectile__attack__results.html">projectile_attack_results</a> {</div>
<div class="line"><a name="l00981"></a><span class="lineno"><a class="line" href="structprojectile__attack__results.html#a2a299996377712285822290cc68ff181">  981</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structprojectile__attack__results.html#a2a299996377712285822290cc68ff181">max_damage</a>;</div>
<div class="line"><a name="l00982"></a><span class="lineno"><a class="line" href="structprojectile__attack__results.html#a051eb96fe04890a33ce9842ddeff3601">  982</a></span>&#160;    std::string <a class="code" href="structprojectile__attack__results.html#a051eb96fe04890a33ce9842ddeff3601">message</a>;</div>
<div class="line"><a name="l00983"></a><span class="lineno"><a class="line" href="structprojectile__attack__results.html#ac0b889c2073462f7a5ae6cbc0b6b3463">  983</a></span>&#160;    <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096e">game_message_type</a> <a class="code" href="structprojectile__attack__results.html#ac0b889c2073462f7a5ae6cbc0b6b3463">gmtSCTcolor</a> = <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>;</div>
<div class="line"><a name="l00984"></a><span class="lineno"><a class="line" href="structprojectile__attack__results.html#a2886fd217cd86fdfc25f53ad536a1cc5">  984</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structprojectile__attack__results.html#a2886fd217cd86fdfc25f53ad536a1cc5">damage_mult</a> = 1.0;</div>
<div class="line"><a name="l00985"></a><span class="lineno"><a class="line" href="structprojectile__attack__results.html#a0776dbb938300f5459f593546787a55b">  985</a></span>&#160;    <a class="code" href="classint__id.html">bodypart_id</a> <a class="code" href="structprojectile__attack__results.html#a0776dbb938300f5459f593546787a55b">bp_hit</a>;</div>
<div class="line"><a name="l00986"></a><span class="lineno"><a class="line" href="structprojectile__attack__results.html#a686358c77b6ab948f1b94b0b006e67d9">  986</a></span>&#160;    std::string <a class="code" href="structprojectile__attack__results.html#a686358c77b6ab948f1b94b0b006e67d9">wp_hit</a>;</div>
<div class="line"><a name="l00987"></a><span class="lineno"><a class="line" href="structprojectile__attack__results.html#a5268e2447c5f219767aed41e6a39ff9a">  987</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structprojectile__attack__results.html#a5268e2447c5f219767aed41e6a39ff9a">is_crit</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno"><a class="line" href="structprojectile__attack__results.html#a4601b4740bd985d1a4a69439d742f7ef">  989</a></span>&#160;    <span class="keyword">explicit</span> <a class="code" href="structprojectile__attack__results.html#a4601b4740bd985d1a4a69439d742f7ef">projectile_attack_results</a>( <span class="keyword">const</span> <a class="code" href="structprojectile.html">projectile</a> &amp;proj ) {</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <a class="code" href="structprojectile__attack__results.html#a2a299996377712285822290cc68ff181">max_damage</a> = proj.<a class="code" href="structprojectile.html#a82d8f657f8cfc4e180c15bfab8ca8a6e">impact</a>.<a class="code" href="structdamage__instance.html#a96f6f6d008ed8744ce549cefcfec3951">total_damage</a>();</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;};</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno"><a class="line" href="classCreature.html#adff4c04a6da90d65a811388f0df65742">  994</a></span>&#160;<a class="code" href="structprojectile__attack__results.html">projectile_attack_results</a> <a class="code" href="classCreature.html#adff4c04a6da90d65a811388f0df65742">Creature::select_body_part_projectile_attack</a>(</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keyword">const</span> <a class="code" href="structprojectile.html">projectile</a> &amp;proj, <span class="keyword">const</span> <span class="keywordtype">double</span> goodhit, <span class="keyword">const</span> <span class="keywordtype">double</span> missed_by )<span class="keyword"> const</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <a class="code" href="structprojectile__attack__results.html">projectile_attack_results</a> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>( proj );</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> magic = proj.<a class="code" href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">proj_effects</a>.count( <span class="stringliteral">&quot;MAGIC&quot;</span> ) &gt; 0;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="keywordtype">double</span> hit_value = missed_by + <a class="code" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( -0.5, 0.5 );</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keywordflow">if</span>( magic ) {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <span class="comment">// Best possible hit</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        hit_value = -0.5;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    }</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="comment">// Range is -0.5 to 1.5 -&gt; missed_by will be [1, 0], so the rng addition to it</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="comment">// will push it to at most 1.5 and at least -0.5</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.bp_hit = <a class="code" href="classCreature.html#a59d8ead2387b3b99cb2e88c5f1858e17">get_anatomy</a>()-&gt;<a class="code" href="classanatomy.html#a455fc1fdb6ccfefee3f1f95e8663cb6d">select_body_part_projectile_attack</a>( -0.5, 1.5, hit_value );</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordtype">float</span> crit_mod = <a class="code" href="classCreature.html#a0a19a19318a38c3192f42e903e692bf0">get_crit_factor</a>( <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.bp_hit );</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160; </div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> crit_multiplier = proj.<a class="code" href="structprojectile.html#a8f7965237723889c4066c90c05220523">critical_multiplier</a>;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> std_hit_mult = <a class="code" href="math__parser__func_8h.html#aeb3bbc4ec861ea58cbfca028920e4cc6">std::sqrt</a>( 2.0 * crit_multiplier );</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="keywordflow">if</span>( magic ) {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <span class="comment">// do nothing special, no damage mults, nothing</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( goodhit &lt; <a class="code" href="game__constants_8h.html#a28bc26eb7169a2ca7040c7b6a915c63f">accuracy_headshot</a> &amp;&amp;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;               <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.max_damage * crit_multiplier &gt; <a class="code" href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561">get_hp_max</a>( <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.bp_hit ) ) {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.message = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Critical!!&quot;</span> );</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.gmtSCTcolor = <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea917308a5da5a853b7ac25b683922ef96">m_headshot</a>;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.damage_mult *= <a class="code" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( 0.5 + 0.45 * crit_mod, 0.75 + 0.3 * crit_mod ); <span class="comment">// ( 0.95, 1.05 )</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.damage_mult *= std_hit_mult + ( crit_multiplier - std_hit_mult ) * crit_mod;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.is_crit = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( goodhit &lt; <a class="code" href="game__constants_8h.html#a32b6b0daa47aeb1caa71bc0585e24684">accuracy_critical</a> &amp;&amp;</div>
<div class="line"><a name="l01021"></a><span class="lineno"><a class="line" href="classmonster.html#af3b0f9beac863a48f4e7b1b375ecc7cf"> 1021</a></span>&#160;               <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.max_damage * crit_multiplier &gt; <a class="code" href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561">get_hp_max</a>( <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.bp_hit ) ) {</div>
<div class="line"><a name="l01022"></a><span class="lineno"><a class="line" href="classmonster.html#aff08a0fd32630c9d3ea6dd7320048028"> 1022</a></span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.message = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Critical!&quot;</span> );</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.gmtSCTcolor = <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea8663170a60ff438f4ba2ab98a1e6d6b5">m_critical</a>;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.damage_mult *= <a class="code" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( 0.5 + 0.25 * crit_mod, 0.75 + 0.25 * crit_mod ); <span class="comment">// ( 0.75, 1.0 )</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.damage_mult *= std_hit_mult + ( crit_multiplier - std_hit_mult ) * crit_mod;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.is_crit = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( goodhit &lt; <a class="code" href="game__constants_8h.html#a3609286768209b2349721b737aa02f96">accuracy_goodhit</a> ) {</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.message = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Good hit!&quot;</span> );</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.gmtSCTcolor = <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.damage_mult *= <a class="code" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( 0.5, 0.75 );</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.damage_mult *= std_hit_mult;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( goodhit &lt; <a class="code" href="game__constants_8h.html#ae5e219227693b7de2d1bb823567b01c7">accuracy_standard</a> ) {</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.damage_mult *= <a class="code" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( 0.5, 1 );</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160; </div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( goodhit &lt; <a class="code" href="game__constants_8h.html#a45b6e116f09ae6af4ef31f1495cf48a1">accuracy_grazing</a> ) {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.message = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Grazing hit.&quot;</span> );</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.gmtSCTcolor = <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea379f06a1968886ca7a96b103d5a628fc">m_grazing</a>;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.damage_mult *= <a class="code" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( 0, .25 );</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;}</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160; </div>
<div class="line"><a name="l01044"></a><span class="lineno"><a class="line" href="classCreature.html#ac8f38377afed03dc95b4036819f893f1"> 1044</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#ac8f38377afed03dc95b4036819f893f1">Creature::messaging_projectile_attack</a>( <span class="keyword">const</span> <a class="code" href="classCreature.html">Creature</a> *source,</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <span class="keyword">const</span> <a class="code" href="structprojectile__attack__results.html">projectile_attack_results</a> &amp;hit_selection, <span class="keyword">const</span> <span class="keywordtype">int</span> total_damage )<span class="keyword"> const</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keyword">const</span> <a class="code" href="classviewer.html">viewer</a> &amp;player_view = <a class="code" href="game_8cpp.html#ab5c977b7e81348725fb7bf09fc64ed95">get_player_view</a>();</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> u_see_this = player_view.<a class="code" href="classviewer.html#a204fe140cdc73d2452fa9a390a32ba29">sees</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">if</span>( u_see_this ) {</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <span class="keywordflow">if</span>( hit_selection.<a class="code" href="structprojectile__attack__results.html#a2886fd217cd86fdfc25f53ad536a1cc5">damage_mult</a> == 0 ) {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;            <span class="keywordflow">if</span>( source != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( source-&gt;<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You miss!&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The shot misses!&quot;</span> ) );</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            }</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( total_damage == 0 ) {</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            <span class="keywordflow">if</span>( hit_selection.<a class="code" href="structprojectile__attack__results.html#a686358c77b6ab948f1b94b0b006e67d9">wp_hit</a>.empty() ) {</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                <span class="comment">//~ 1$ - monster name, 2$ - character&#39;s bodypart or monster&#39;s skin/armor</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The shot reflects off %1$s %2$s!&quot;</span> ), <a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>( <span class="keyword">true</span> ),</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                         <a class="code" href="classCreature.html#a07012d6d1998068bef112510c7424374">is_monster</a>() ?</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                         <a class="code" href="classCreature.html#a490503cd007e206dcd23fd8457017793">skin_name</a>() :</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                         <a class="code" href="bodypart_8cpp.html#aa097cb26e12eaa87b56e93c3568a5a74">body_part_name_accusative</a>( hit_selection.<a class="code" href="structprojectile__attack__results.html#a0776dbb938300f5459f593546787a55b">bp_hit</a> ) );</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                <span class="comment">//~ %1$s: creature name, %2$s: weakpoint hit</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The shot hits %1$s in %2$s but deals no damage.&quot;</span> ),</div>
<div class="line"><a name="l01065"></a><span class="lineno"><a class="line" href="classCharacter.html#a7b6938eb560ebd8f5d2518632c0d21ea"> 1065</a></span>&#160;                         <a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>(), hit_selection.<a class="code" href="structprojectile__attack__results.html#a686358c77b6ab948f1b94b0b006e67d9">wp_hit</a> );</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            }</div>
<div class="line"><a name="l01067"></a><span class="lineno"><a class="line" href="classCharacter.html#aba59f7f156a1a85ed266b0458fd6be2e"> 1067</a></span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;            <span class="comment">//monster hits player ranged</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;            <span class="comment">//~ Hit message. 1$s is bodypart name in accusative. 2$d is damage value.</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;            <a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You were hit in the %1$s for %2$d damage.&quot;</span> ),</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                               <a class="code" href="bodypart_8cpp.html#aa097cb26e12eaa87b56e93c3568a5a74">body_part_name_accusative</a>( hit_selection.<a class="code" href="structprojectile__attack__results.html#a0776dbb938300f5459f593546787a55b">bp_hit</a> ),</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                               total_damage );</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( source != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            <span class="keywordflow">if</span>( source-&gt;<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                <span class="comment">//player hits monster ranged</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                <a class="code" href="output_8cpp.html#ac8f1d6275ee49732d8988e5e671b1776">SCT</a>.<a class="code" href="classscrollingcombattext.html#a10f4b620dcf4c99fe55d267fc2323723">add</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>(), <a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>() ),</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                         <a class="code" href="coordinates_8h.html#a70d5706d5a84c7c1953498fa0c651b3e">direction_from</a>( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>() - source-&gt;<a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>(), <a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>() - source-&gt;<a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>() ) ),</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                         <a class="code" href="output_8cpp.html#aafdcbf1eb3398c6e92cf3b71f6c8ad03">get_hp_bar</a>( total_damage, <a class="code" href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561">get_hp_max</a>(), <span class="keyword">true</span> ).first,</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                         <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, hit_selection.<a class="code" href="structprojectile__attack__results.html#a051eb96fe04890a33ce9842ddeff3601">message</a>, hit_selection.<a class="code" href="structprojectile__attack__results.html#ac0b889c2073462f7a5ae6cbc0b6b3463">gmtSCTcolor</a> );</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160; </div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#ab1bef04dffb96ab1ad30472fd2895a08">get_hp</a>() &gt; 0 ) {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                    <a class="code" href="output_8cpp.html#ac8f1d6275ee49732d8988e5e671b1776">SCT</a>.<a class="code" href="classscrollingcombattext.html#a10f4b620dcf4c99fe55d267fc2323723">add</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>(), <a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>() ),</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                             <a class="code" href="coordinates_8h.html#a70d5706d5a84c7c1953498fa0c651b3e">direction_from</a>( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>() - source-&gt;<a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>(), <a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>() - source-&gt;<a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>() ) ),</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                             <a class="code" href="output_8cpp.html#aafdcbf1eb3398c6e92cf3b71f6c8ad03">get_hp_bar</a>( <a class="code" href="classCreature.html#ab1bef04dffb96ab1ad30472fd2895a08">get_hp</a>(), <a class="code" href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561">get_hp_max</a>(), <span class="keyword">true</span> ).first, <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                             <span class="comment">//~ &quot;hit points&quot;, used in scrolling combat text</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                             <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;HP&quot;</span> ), <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <span class="stringliteral">&quot;hp&quot;</span> );</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                    <a class="code" href="output_8cpp.html#ac8f1d6275ee49732d8988e5e671b1776">SCT</a>.<a class="code" href="classscrollingcombattext.html#a94b652fa370f1b1a946c726c93abb9bd">removeCreatureHP</a>();</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                }</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                <span class="keywordflow">if</span>( hit_selection.<a class="code" href="structprojectile__attack__results.html#a686358c77b6ab948f1b94b0b006e67d9">wp_hit</a>.empty() ) {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                    <span class="comment">//~ %1$s: creature name, %2$d: damage value</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You hit %1$s for %2$d damage.&quot;</span> ),</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                             <a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>(), total_damage );</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                    <span class="comment">//~ %1$s: creature name, %2$s: weakpoint hit, %3$d: damage value</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You hit %1$s in %2$s for %3$d damage.&quot;</span> ),</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                             <a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>(), hit_selection.<a class="code" href="structprojectile__attack__results.html#a686358c77b6ab948f1b94b0b006e67d9">wp_hit</a>, total_damage );</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                }</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( source != <span class="keyword">this</span> ) {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                <span class="keywordflow">if</span>( hit_selection.<a class="code" href="structprojectile__attack__results.html#a686358c77b6ab948f1b94b0b006e67d9">wp_hit</a>.empty() ) {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                    <span class="comment">//~ 1$ - shooter, 2$ - target</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s shoots %2$s.&quot;</span> ),</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                             source-&gt;<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>(), <a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                    <span class="comment">//~ 1$ - shooter, 2$ - target, 3$ - weakpoint</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s shoots %2$s in %3$s.&quot;</span> ),</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                             source-&gt;<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>(), <a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>(), hit_selection.<a class="code" href="structprojectile__attack__results.html#a686358c77b6ab948f1b94b0b006e67d9">wp_hit</a> );</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                }</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            }</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        }</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    }</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;}</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<span class="comment"> * Attempts to harm a creature with a projectile.</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="comment"> * @param source Pointer to the creature who shot the projectile.</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="comment"> * @param attack A structure describing the attack and its results.</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="comment"> * @param print_messages enables message printing by default.</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"><a class="line" href="classCharacter.html#a44a4fc37b385760d28c9d1ef786ed7c9"> 1121</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a16fbfd5268fd73935e5211bc1fa08617">Creature::deal_projectile_attack</a>( <a class="code" href="classCreature.html">Creature</a> *source, <a class="code" href="structdealt__projectile__attack.html">dealt_projectile_attack</a> &amp;<a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>,</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                                       <span class="keywordtype">bool</span> print_messages, <span class="keyword">const</span> <a class="code" href="structweakpoint__attack.html">weakpoint_attack</a> &amp;wp_attack )</div>
<div class="line"><a name="l01123"></a><span class="lineno"><a class="line" href="classCharacter.html#a5a71f490d521680c54e485b811129ca2"> 1123</a></span>&#160;{</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> magic = <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.proj.proj_effects.count( <span class="stringliteral">&quot;MAGIC&quot;</span> ) &gt; 0;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> missed_by = <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.missed_by;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">if</span>( missed_by &gt;= 1.0 &amp;&amp; !magic ) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <span class="comment">// Total miss</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    }</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="comment">// If carrying a rider, there is a chance the hits may hit rider instead.</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="creature_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a> ) ) {</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <a class="code" href="classmonster.html">monster</a> *mons = <a class="code" href="classCreature.html#a90636bbf110025587c181fad389d616c">as_monster</a>();</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <span class="keywordflow">if</span>( mons &amp;&amp; mons-&gt;<a class="code" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a> ) {</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;            <span class="keywordflow">if</span>( !mons-&gt;<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#aac69946bbcb6c23cbbede3616f943a32">mon_flag_MECH_DEFENSIVE</a> ) &amp;&amp;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 2, mons-&gt;<a class="code" href="classmonster.html#ab92cac0ecb2b2062fd4f821b671f86ac">get_size</a>() - mons-&gt;<a class="code" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a>-&gt;<a class="code" href="classCharacter.html#a6ab1a86cb826d5faa1244cb7a4674700">get_size</a>() ) ) ) {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                mons-&gt;<a class="code" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a>-&gt;<a class="code" href="classCreature.html#a16fbfd5268fd73935e5211bc1fa08617">deal_projectile_attack</a>( source, <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>, print_messages, wp_attack );</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            }</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        }</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    }</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keyword">const</span> <a class="code" href="structprojectile.html">projectile</a> &amp;proj = <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.proj;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <a class="code" href="structdealt__damage__instance.html">dealt_damage_instance</a> &amp;dealt_dam = <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.dealt_dam;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;proj_effects = proj.<a class="code" href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">proj_effects</a>;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160; </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <a class="code" href="classviewer.html">viewer</a> &amp;player_view = <a class="code" href="game_8cpp.html#ab5c977b7e81348725fb7bf09fc64ed95">get_player_view</a>();</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> u_see_this = player_view.<a class="code" href="classviewer.html#a204fe140cdc73d2452fa9a390a32ba29">sees</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160; </div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> goodhit = <a class="code" href="classCreature.html#a05c0a55efc15391e4b9680f1da212683">accuracy_projectile_attack</a>( <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> );</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <a class="code" href="classCreature.html#aa80c16d08f583214085a919a921ab179">on_try_dodge</a>(); <span class="comment">// There&#39;s a doge roll in accuracy_projectile_attack()</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordflow">if</span>( goodhit &gt;= 1.0 &amp;&amp; !magic ) {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.missed_by = 1.0; <span class="comment">// Arbitrary value</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        <span class="keywordflow">if</span>( !print_messages ) {</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        }</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        <span class="comment">// &quot;Avoid&quot; rather than &quot;dodge&quot;, because it includes removing self from the line of fire</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        <span class="comment">//  rather than just Matrix-style bullet dodging</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <span class="keywordflow">if</span>( source != <span class="keyword">nullptr</span> &amp;&amp; player_view.<a class="code" href="classviewer.html#a204fe140cdc73d2452fa9a390a32ba29">sees</a>( *source ) ) {</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;            <a class="code" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>(</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You avoid %s projectile!&quot;</span> ),</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_ATTACK_MONSTER&quot;</span> ) ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; avoids %s projectile.&quot;</span> ) : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                source-&gt;<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>( <span class="keyword">true</span> ) );</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            <a class="code" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>(</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You avoid an incoming projectile!&quot;</span> ),</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_ATTACK_MONSTER&quot;</span> ) ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; avoids an incoming projectile.&quot;</span> ) :</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        }</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    }</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160; </div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    proj.<a class="code" href="structprojectile.html#a0ba785643d8b33604199a4c9bf2ef985">apply_effects_nodamage</a>( *<span class="keyword">this</span>, source );</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <a class="code" href="structprojectile__attack__results.html">projectile_attack_results</a> hit_selection = <a class="code" href="classCreature.html#adff4c04a6da90d65a811388f0df65742">select_body_part_projectile_attack</a>( proj, goodhit,</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            missed_by );</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="comment">// Create a copy that records whether the attack is a crit.</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <a class="code" href="structweakpoint__attack.html">weakpoint_attack</a> wp_attack_copy = wp_attack;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    wp_attack_copy.<a class="code" href="structweakpoint__attack.html#a73f2128a971517b26afb00190a311cec">is_crit</a> = hit_selection.<a class="code" href="structprojectile__attack__results.html#a5268e2447c5f219767aed41e6a39ff9a">is_crit</a>;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    wp_attack_copy.<a class="code" href="structweakpoint__attack.html#ad525af63dcff515fffe3c6a4a54b8378">type</a> = <a class="code" href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7a46dccab75ce652352e52086601fdc294">weakpoint_attack::attack_type::PROJECTILE</a>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160; </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="keywordflow">if</span>( print_messages &amp;&amp; source != <span class="keyword">nullptr</span> &amp;&amp; !hit_selection.<a class="code" href="structprojectile__attack__results.html#a051eb96fe04890a33ce9842ddeff3601">message</a>.empty() &amp;&amp; u_see_this ) {</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        source-&gt;<a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, hit_selection.<a class="code" href="structprojectile__attack__results.html#a051eb96fe04890a33ce9842ddeff3601">message</a> );</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    }</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.missed_by = goodhit;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160; </div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="comment">// copy it, since we&#39;re mutating.</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <a class="code" href="structdamage__instance.html">damage_instance</a> <a class="code" href="classCreature.html#acbef2e3b6be66df5dd9a7bf587d116bf">impact</a> = proj.<a class="code" href="structprojectile.html#a82d8f657f8cfc4e180c15bfab8ca8a6e">impact</a>;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">if</span>( hit_selection.<a class="code" href="structprojectile__attack__results.html#a2886fd217cd86fdfc25f53ad536a1cc5">damage_mult</a> &gt; 0.0f &amp;&amp; proj_effects.count( <span class="stringliteral">&quot;NO_DAMAGE_SCALING&quot;</span> ) ) {</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        hit_selection.<a class="code" href="structprojectile__attack__results.html#a2886fd217cd86fdfc25f53ad536a1cc5">damage_mult</a> = 1.0f;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    }</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160; </div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <a class="code" href="classCreature.html#acbef2e3b6be66df5dd9a7bf587d116bf">impact</a>.mult_damage( hit_selection.<a class="code" href="structprojectile__attack__results.html#a2886fd217cd86fdfc25f53ad536a1cc5">damage_mult</a> );</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">if</span>( proj_effects.count( <span class="stringliteral">&quot;NOGIB&quot;</span> ) &gt; 0 ) {</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="keywordtype">float</span> dmg_ratio = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( <a class="code" href="classCreature.html#acbef2e3b6be66df5dd9a7bf587d116bf">impact</a>.total_damage() ) / <a class="code" href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561">get_hp_max</a>( hit_selection.<a class="code" href="structprojectile__attack__results.html#a0776dbb938300f5459f593546787a55b">bp_hit</a> );</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        <span class="keywordflow">if</span>( dmg_ratio &gt; 1.25f ) {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            <a class="code" href="classCreature.html#acbef2e3b6be66df5dd9a7bf587d116bf">impact</a>.mult_damage( 1.0f / dmg_ratio );</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        }</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    }</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    dealt_dam = <a class="code" href="classCreature.html#af1f141f381984e2d0f119dc94429f1d3">deal_damage</a>( source, hit_selection.<a class="code" href="structprojectile__attack__results.html#a0776dbb938300f5459f593546787a55b">bp_hit</a>, <a class="code" href="classCreature.html#acbef2e3b6be66df5dd9a7bf587d116bf">impact</a>, wp_attack_copy );</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="comment">// Force damage instance to match the selected body point</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    dealt_dam.<a class="code" href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">bp_hit</a> = hit_selection.<a class="code" href="structprojectile__attack__results.html#a0776dbb938300f5459f593546787a55b">bp_hit</a>;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="comment">// Retrieve the selected weakpoint from the damage instance.</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    hit_selection.<a class="code" href="structprojectile__attack__results.html#a686358c77b6ab948f1b94b0b006e67d9">wp_hit</a> = dealt_dam.<a class="code" href="structdealt__damage__instance.html#a75af7053edce8f709daab1958325996e">wp_hit</a>;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    proj.<a class="code" href="structprojectile.html#a415ddce53d5f213e157c168bf0ba7042">apply_effects_damage</a>( *<span class="keyword">this</span>, source, dealt_dam, goodhit &lt; <a class="code" href="game__constants_8h.html#a32b6b0daa47aeb1caa71bc0585e24684">accuracy_critical</a> );</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160; </div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keywordflow">if</span>( print_messages ) {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <a class="code" href="classCreature.html#ac8f38377afed03dc95b4036819f893f1">messaging_projectile_attack</a>( source, hit_selection, dealt_dam.<a class="code" href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">total_damage</a>() );</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    }</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; </div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <a class="code" href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158">check_dead_state</a>();</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.hit_critter = <span class="keyword">this</span>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.missed_by = goodhit;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;}</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160; </div>
<div class="line"><a name="l01221"></a><span class="lineno"><a class="line" href="classCreature.html#af1f141f381984e2d0f119dc94429f1d3"> 1221</a></span>&#160;<a class="code" href="structdealt__damage__instance.html">dealt_damage_instance</a> <a class="code" href="classCreature.html#af1f141f381984e2d0f119dc94429f1d3">Creature::deal_damage</a>( <a class="code" href="classCreature.html">Creature</a> *source, <a class="code" href="classint__id.html">bodypart_id</a> <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>,</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        <span class="keyword">const</span> <a class="code" href="structdamage__instance.html">damage_instance</a> &amp;dam, <span class="keyword">const</span> <a class="code" href="structweakpoint__attack.html">weakpoint_attack</a> &amp;<a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> )</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;{</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#ab4c318885f6b9947a7c85d3328d25ffe">is_dead_state</a>() ) {</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structdealt__damage__instance.html">dealt_damage_instance</a>();</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordtype">int</span> total_damage = 0;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="keywordtype">int</span> total_base_damage = 0;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="keywordtype">int</span> total_pain = 0;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <a class="code" href="structdamage__instance.html">damage_instance</a> d = dam; <span class="comment">// copy, since we will mutate in absorb_hit</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <a class="code" href="structweakpoint__attack.html">weakpoint_attack</a> attack_copy = <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    attack_copy.<a class="code" href="structweakpoint__attack.html#a85754f75a50124902f33c1a18caee4bd">source</a> = source;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    attack_copy.<a class="code" href="structweakpoint__attack.html#adc814f7f7abf2ebb62c6f1725cce9d38">target</a> = <span class="keyword">this</span>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    attack_copy.<a class="code" href="structweakpoint__attack.html#a78f688fd78edda2cd70eafb7763d8a2d">compute_wp_skill</a>();</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <a class="code" href="structdealt__damage__instance.html">dealt_damage_instance</a> dealt_dams;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> *wp = <a class="code" href="classCreature.html#a01a77a34521240d0691e0f390b2b392f">absorb_hit</a>( attack_copy, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, d );</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    dealt_dams.<a class="code" href="structdealt__damage__instance.html#a75af7053edce8f709daab1958325996e">wp_hit</a> = wp == <span class="keyword">nullptr</span> ? <span class="stringliteral">&quot;&quot;</span> : wp-&gt;<a class="code" href="structweakpoint.html#a166af54eaddb3df736a703780f4905df">get_name</a>();</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160; </div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="comment">// Add up all the damage units dealt</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structdamage__unit.html">damage_unit</a> &amp;it : d.<a class="code" href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_units</a> ) {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        <span class="keywordtype">int</span> cur_damage = 0;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        <a class="code" href="classCreature.html#a17d04695b45ce48064d39ba9f4118f55">deal_damage_handle_type</a>( <a class="code" href="classeffect__source.html">effect_source</a>( source ), it, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, cur_damage, total_pain );</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        total_base_damage += <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 0.0f, it.<a class="code" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> * it.<a class="code" href="structdamage__unit.html#a86471803f7e56a7064bedd8da78672ee">unconditional_damage_mult</a> );</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        <span class="keywordflow">if</span>( cur_damage &gt; 0 ) {</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;            dealt_dams.<a class="code" href="structdealt__damage__instance.html#a2e105b0204c9295376296ffb405d5c34">dealt_dams</a>[it.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a>] += cur_damage;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            total_damage += cur_damage;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        }</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    }</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="comment">// get eocs for all damage effects</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    d.<a class="code" href="structdamage__instance.html#ad33a9d107b66853c7aa07876f5e6e1c9">ondamage_effects</a>( source, <span class="keyword">this</span>, dam, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>() );</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keywordflow">if</span>( total_base_damage &lt; total_damage ) {</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        <span class="comment">// Only deal more HP than remains if damage not including crit multipliers is higher.</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        total_damage = <a class="code" href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a>( <a class="code" href="classCreature.html#ab1bef04dffb96ab1ad30472fd2895a08">get_hp</a>( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> ), total_base_damage, total_damage );</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    }</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>-&gt;<a class="code" href="structbody__part__type.html#afd43ba79d412b38476f718534904fce7">has_flag</a>( <a class="code" href="creature_8cpp.html#afc3daf7e1664f8141571db43dcb86676">json_flag_BIONIC_LIMB</a> ) ) {</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        <a class="code" href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54">mod_pain</a>( total_pain );</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    }</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <a class="code" href="classCreature.html#a0547ea1ba1d4fcc157db6a73b877f5d6">apply_damage</a>( source, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, total_damage );</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordflow">if</span>( wp != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        wp-&gt;<a class="code" href="structweakpoint.html#aee166c8fbb6fce26c20ad947379cd744">apply_effects</a>( *<span class="keyword">this</span>, total_damage, attack_copy );</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    }</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordflow">return</span> dealt_dams;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;}</div>
<div class="line"><a name="l01270"></a><span class="lineno"><a class="line" href="classCreature.html#a17d04695b45ce48064d39ba9f4118f55"> 1270</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a17d04695b45ce48064d39ba9f4118f55">Creature::deal_damage_handle_type</a>( <span class="keyword">const</span> <a class="code" href="classeffect__source.html">effect_source</a> &amp;source, <span class="keyword">const</span> <a class="code" href="structdamage__unit.html">damage_unit</a> &amp;du,</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                                        <a class="code" href="classint__id.html">bodypart_id</a> <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, <span class="keywordtype">int</span> &amp;damage, <span class="keywordtype">int</span> &amp;pain )</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;{</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="comment">// Handles ACIDPROOF, electric immunity etc.</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a87e6ed9d2389c292240debc899ab9aec">is_immune_damage</a>( du.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a> ) ) {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    }</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="comment">// Apply damage multiplier from skill, critical hits or grazes after all other modifications.</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> adjusted_damage = du.<a class="code" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> * du.<a class="code" href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_multiplier</a> * du.<a class="code" href="structdamage__unit.html#a86471803f7e56a7064bedd8da78672ee">unconditional_damage_mult</a>;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="keywordflow">if</span>( adjusted_damage &lt;= 0 ) {</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    }</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160; </div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="namespacemath__opers.html#a23fff2e10d1c6eec78481f24fb5d9de3">div</a> = 4.0f;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="comment">// FIXME: Hardcoded damage types</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="keywordflow">if</span>( du.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a> == <a class="code" href="creature_8cpp.html#a157369b3ee1f3f5a889eb1d42ed97638">damage_bash</a> ) {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        <span class="comment">// Bashing damage is less painful</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        <a class="code" href="namespacemath__opers.html#a23fff2e10d1c6eec78481f24fb5d9de3">div</a> = 5.0f;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( du.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a> == <a class="code" href="creature_8cpp.html#ae01ac1ba15b1a58809aef8bc1f735b5b">damage_heat</a> ) {</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        <span class="comment">// heat damage sets us on fire sometimes</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, 100 ) &lt; adjusted_damage ) {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;            <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( source, <a class="code" href="creature_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 1_turns, 3_turns ), <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160; </div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;            <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;            <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="creature_8cpp.html#a512959ad2b35ea057f2fed5445fc23c4">trait_PYROMANIA</a> ) &amp;&amp;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                !player_character.<a class="code" href="classCharacter.html#a74cf2e51a768e3d2e2114aeaddb5fda4">has_morale</a>( <a class="code" href="morale__types_8cpp.html#a7a7fa39cff1d7efe58e013c63b7f0ee6">MORALE_PYROMANIA_STARTFIRE</a> ) &amp;&amp; player_character.<a class="code" href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">sees</a>( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                player_character.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                                                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You feel a surge of euphoria as flame engulfs %s!&quot;</span> ), this-&gt;<a class="code" href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">get_name</a>() );</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                player_character.<a class="code" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code" href="morale__types_8cpp.html#a7a7fa39cff1d7efe58e013c63b7f0ee6">MORALE_PYROMANIA_STARTFIRE</a>, 15, 15, 8_hours, 6_hours );</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                player_character.<a class="code" href="classCharacter.html#a2725bcbfa9e92e0590930e6a8e35764c">rem_morale</a>( <a class="code" href="morale__types_8cpp.html#ae932ffaaef9c3a4092fc8727141405bf">MORALE_PYROMANIA_NOFIRE</a> );</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            }</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        }</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( du.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a> == <a class="code" href="creature_8cpp.html#a7926a4cddea2b56ea5b2264f464d1b15">damage_electric</a> ) {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <span class="comment">// Electrical damage adds a major speed/dex debuff</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        <span class="keywordtype">double</span> multiplier = 1.0;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html">monster</a> *mon = <a class="code" href="classCreature.html#a90636bbf110025587c181fad389d616c">as_monster</a>() ) {</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            multiplier = mon-&gt;type-&gt;status_chance_multiplier;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        }</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> chance = std::log10( ( adjusted_damage + 2 ) * 0.5 ) * 100 * multiplier;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( chance, 100 ) ) {</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> duration = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( adjusted_damage / 10.0 * multiplier, 2.0 );</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( source, <a class="code" href="creature_8cpp.html#a30d34b241ef54963c18a6af3b2ff3962">effect_zapped</a>, 1_turns * duration );</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        }</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160; </div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCharacter.html">Character</a> *ch = <a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>() ) {</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">double</span> pain_mult = ch-&gt;calculate_by_enchantment( 1.0, <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998ae6a1ca4de87670a138714781753a82a6">enchant_vals::mod::EXTRA_ELEC_PAIN</a> );</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;            <a class="code" href="namespacemath__opers.html#a23fff2e10d1c6eec78481f24fb5d9de3">div</a> /= pain_mult;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;            <span class="keywordflow">if</span>( pain_mult &gt; 1.0 ) {</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                ch-&gt;add_msg_player_or_npc( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You&#39;re painfully electrocuted!&quot;</span> ),</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                                           <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; is shocked!&quot;</span> ) );</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;            }</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        }</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( du.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a> == <a class="code" href="creature_8cpp.html#acc343fa0f8e04fd5007e8abc6105f8a8">damage_acid</a> ) {</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <span class="comment">// Acid damage and acid burns are more painful</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <a class="code" href="namespacemath__opers.html#a23fff2e10d1c6eec78481f24fb5d9de3">div</a> = 3.0f;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    }</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160; </div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <a class="code" href="classCreature.html#a09c1996bf16947fa6f5a6cb971d3274e">on_damage_of_type</a>( source, adjusted_damage, du.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a>, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160; </div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    damage += adjusted_damage;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <a class="code" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a> += <a class="code" href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a>( adjusted_damage / <a class="code" href="namespacemath__opers.html#a23fff2e10d1c6eec78481f24fb5d9de3">div</a> );</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;}</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160; </div>
<div class="line"><a name="l01335"></a><span class="lineno"><a class="line" href="classCreature.html#a4c2579763d3f6f47255fbe1068443b75"> 1335</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a4c2579763d3f6f47255fbe1068443b75">Creature::heal_bp</a>( <a class="code" href="classint__id.html">bodypart_id</a> <span class="comment">/* bp */</span>, <span class="keywordtype">int</span> <span class="comment">/* dam */</span> )</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;{</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;}</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160; </div>
<div class="line"><a name="l01339"></a><span class="lineno"><a class="line" href="classCreature.html#abe6022b1e8465afa8f672d77cbbe5680"> 1339</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#abe6022b1e8465afa8f672d77cbbe5680">Creature::longpull</a>( <span class="keyword">const</span> std::string &amp;<a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>, <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p )</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;{</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() == p ) {</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        <a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You try to pull yourself together.&quot;</span> ) );</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    }</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    std::vector&lt;tripoint&gt; path = <a class="code" href="coordinates_8h.html#a31847b31c6ef002e9d16afd7fd0005e3">line_to</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), p, 0, 0 );</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <a class="code" href="classCreature.html">Creature</a> *<a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;path_p : path ) {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>().<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( path_p );</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> == <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf5e7a346d6681f66585d00619d9e1d65">impassable</a>( path_p ) ) {</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            <a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;There&#39;s an obstacle in the way!&quot;</span> ) );</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        }</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        }</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    }</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> == <span class="keyword">nullptr</span> || !<a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( *<a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> ) ) {</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <span class="comment">// TODO: Latch onto objects?</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        <a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;There&#39;s nothing here to latch onto with your %s!&quot;</span> ),</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                           <a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    }</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160; </div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="comment">// Pull creature</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> *ch = <a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>();</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="keyword">const</span> <a class="code" href="classmonster.html">monster</a> *mon = <a class="code" href="classCreature.html#a90636bbf110025587c181fad389d616c">as_monster</a>();</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> str = ch != <span class="keyword">nullptr</span> ? ch-&gt;<a class="code" href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">get_str</a>() : mon != <span class="keyword">nullptr</span> ? mon-&gt;<a class="code" href="classmonster.html#a1d58ee8d254387dacfd4a497957e4afa">get_grab_strength</a>() : 10;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> odds = <a class="code" href="namespaceunits.html#aaa69e639de1239a30b679b5f6ae755ca">units::to_kilogram</a>( <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>-&gt;get_weight() ) / ( str * 3 );</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( clamp&lt;int&gt;( odds * odds, 1, 1000 ) ) ) {</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        <a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You pull %1$s towards you with your %2$s!&quot;</span> ), <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>-&gt;disp_name(),</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                           <a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>-&gt;is_avatar() ) {</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s pulls you in with their %2$s!&quot;</span> ), <a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>( <span class="keyword">false</span>, <span class="keyword">true</span> ), <a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        }</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>-&gt;move_to( <a class="code" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>( <a class="code" href="coordinates_8h.html#a31847b31c6ef002e9d16afd7fd0005e3">line_to</a>( <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>().raw(), <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>-&gt;get_location().raw(), 0,</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                                              0 ).front() ) );</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>-&gt;add_effect( <a class="code" href="creature_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, 1_seconds );</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        <a class="code" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>-&gt;pos(), 5, <a class="code" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Shhhk!&quot;</span> ) );</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        <a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s weight makes it difficult to pull towards you.&quot;</span> ),</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                           <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>-&gt;disp_name( <span class="keyword">true</span>, <span class="keyword">true</span> ) );</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>-&gt;is_avatar() ) {</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1s tries to pull you in, but you resist!&quot;</span> ), <a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>( <span class="keyword">false</span>, <span class="keyword">true</span> ) );</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        }</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    }</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;}</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160; </div>
<div class="line"><a name="l01389"></a><span class="lineno"><a class="line" href="classCreature.html#a6410520bceb652ba361502f404fc1005"> 1389</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a6410520bceb652ba361502f404fc1005">Creature::stumble_invis</a>( <span class="keyword">const</span> <a class="code" href="classCreature.html">Creature</a> &amp;player, <span class="keyword">const</span> <span class="keywordtype">bool</span> stumblemsg )</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;{</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="comment">// DEBUG insivibility can&#39;t be seen through</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa912af0dff974604f1321254ca8ff38b6">player</a>.has_trait( <a class="code" href="creature_8cpp.html#a45fe17320739b38daf72f34792dbd657">trait_DEBUG_CLOAK</a> ) ) {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    }</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keywordflow">if</span>( <span class="keyword">this</span> == &amp;<a class="code" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa912af0dff974604f1321254ca8ff38b6">player</a> || !<a class="code" href="classCreature.html#a50742ba2b2e90cf50327ea90c8d636dd">is_adjacent</a>( &amp;<a class="code" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa912af0dff974604f1321254ca8ff38b6">player</a>, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    }</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">if</span>( stumblemsg ) {</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> player_sees = <a class="code" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa912af0dff974604f1321254ca8ff38b6">player</a>.sees( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s stumbles into you!&quot;</span> ), player_sees ? this-&gt;<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>( <span class="keyword">false</span>,</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                 <span class="keyword">true</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Something&quot;</span> ) );</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    }</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="creature_8cpp.html#ad6fd62a9ed571c6bf17d577118be3c5a">effect_stumbled_into_invisible</a>, 6_seconds );</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="comment">// Mark last known location, or extend duration if exists</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aa69021d452dbc555723d55d7c9fe98ef">has_field_at</a>( <a class="code" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa912af0dff974604f1321254ca8ff38b6">player</a>.pos(), <a class="code" href="creature_8cpp.html#a31e2ef0b23e31f445746b9eaabbeb600">field_fd_last_known</a> ) ) {</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        here.<a class="code" href="classmap.html#a0ae241c4167c39e8fd776778451b4f8e">set_field_age</a>( <a class="code" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa912af0dff974604f1321254ca8ff38b6">player</a>.pos(), <a class="code" href="creature_8cpp.html#a31e2ef0b23e31f445746b9eaabbeb600">field_fd_last_known</a>, 0_seconds );</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        here.<a class="code" href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">add_field</a>( <a class="code" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa912af0dff974604f1321254ca8ff38b6">player</a>.pos(), <a class="code" href="creature_8cpp.html#a31e2ef0b23e31f445746b9eaabbeb600">field_fd_last_known</a> );</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    }</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;}</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160; </div>
<div class="line"><a name="l01415"></a><span class="lineno"><a class="line" href="classCreature.html#a3e322a5b9e8f42f840ddffa01ec2787f"> 1415</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a3e322a5b9e8f42f840ddffa01ec2787f">Creature::attack_air</a>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p )</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;{</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="comment">// Calculate move cost differently for monsters and npcs</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="widget_8h.html#ac9c40e0d5ffae2a9e10019da79b7983fa71cb762591159613cc1eb3e2df9edd61">move_cost</a> = 100;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a07012d6d1998068bef112510c7424374">is_monster</a>() ) {</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <a class="code" href="widget_8h.html#ac9c40e0d5ffae2a9e10019da79b7983fa71cb762591159613cc1eb3e2df9edd61">move_cost</a> = <a class="code" href="classCreature.html#a90636bbf110025587c181fad389d616c">as_monster</a>()-&gt;<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a254844fd8a59016dd36034d160879026">attack_cost</a>;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">is_npc</a>() ) {</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <span class="comment">// Simplified moves calculation from Character::melee_attack_abstract</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        <a class="code" href="classitem__location.html">item_location</a> cur_weapon = <a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>()-&gt;<a class="code" href="classCharacter.html#ab3d8299f1b4a007da7becfca6330f3b8">used_weapon</a>();</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <a class="code" href="classitem.html">item</a> cur_weap = cur_weapon ? *cur_weapon : <a class="code" href="item_8cpp.html#a69e37326c7c5f142d13f8ac8e070b728">null_item_reference</a>();</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        <a class="code" href="widget_8h.html#ac9c40e0d5ffae2a9e10019da79b7983fa71cb762591159613cc1eb3e2df9edd61">move_cost</a> = <a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>()-&gt;<a class="code" href="classCharacter.html#a5f7078fd5aa2cb335228c0d205497ed6">attack_speed</a>( cur_weap ) * ( 1 /</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                    <a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>()-&gt;<a class="code" href="classCharacter.html#a9e2e3afd692adc3761bd6a0f334e8b75">exertion_adjusted_move_multiplier</a>( <a class="code" href="game__constants_8h.html#acb2d9f7a196b657e32a4e71733a89e5c">EXTRA_EXERCISE</a> ) );</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    }</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -<a class="code" href="widget_8h.html#ac9c40e0d5ffae2a9e10019da79b7983fa71cb762591159613cc1eb3e2df9edd61">move_cost</a> );</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160; </div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="comment">// Attack animation</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;ANIMATIONS&quot;</span> ) ) {</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        std::map&lt;tripoint, nc_color&gt; area_color;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        area_color[p] = <a class="code" href="color_8h.html#a2d8f37367a34632745626276dd4c9da6">c_black</a>;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        <a class="code" href="namespaceexplosion__handler.html#ab3dd96996f54d94d9e231cec45a65210">explosion_handler::draw_custom_explosion</a>( p, area_color, <span class="stringliteral">&quot;animation_hit&quot;</span> );</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    }</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160; </div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <span class="comment">// Chance to remove last known location</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) {</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a3d22e002568dbeee5e7366191a337f87">set_field_intensity</a>( p, <a class="code" href="creature_8cpp.html#a31e2ef0b23e31f445746b9eaabbeb600">field_fd_last_known</a>, 0 );</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    }</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160; </div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( *<span class="keyword">this</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s attacks, but there is nothing there!&quot;</span> ),</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                            <a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>( <span class="keyword">false</span>, <span class="keyword">true</span> ) );</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;}</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160; </div>
<div class="line"><a name="l01447"></a><span class="lineno"><a class="line" href="classCreature.html#a25d21c9537d90ecb5648dd27721e7d2d"> 1447</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a25d21c9537d90ecb5648dd27721e7d2d">Creature::dodge_check</a>( <span class="keywordtype">float</span> hit_roll, <span class="keywordtype">bool</span> force_try, <span class="keywordtype">float</span> )</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;{</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <span class="comment">// If successfully uncanny dodged, no need to calculate dodge chance</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#afd2f1b1e5bafdef20afddbb704b1d5a5">uncanny_dodge</a>() ) {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    }</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160; </div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> dodge_ability = <a class="code" href="classCreature.html#a948c33f5a992a7f1b8e4be94688d3dd2">dodge_roll</a>();</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <span class="comment">// center is 5 - 0 / 2</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <span class="comment">// stddev is 5 - 0 / 4</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> dodge_chance = 1 - <a class="code" href="rng_8cpp.html#a844f245cb3a154611e5309e808d95600">normal_roll_chance</a>( 2.5f, 1.25f, dodge_ability - <a class="code" href="classCreature.html#ae92d2444aa89afae41c107cf6fcf6851">hit_roll</a> );</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <span class="keywordflow">if</span>( dodge_chance &gt;= 0.8f || force_try ) {</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        <a class="code" href="classCreature.html#aa80c16d08f583214085a919a921ab179">on_try_dodge</a>();</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        <span class="keywordtype">float</span> attack_roll = <a class="code" href="classCreature.html#ae92d2444aa89afae41c107cf6fcf6851">hit_roll</a> + <a class="code" href="rng_8cpp.html#a074df23c91b5843596dcb25fd9a9d4dc">rng_normal</a>( 0, 5 );</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <span class="keywordflow">return</span> dodge_ability &gt; attack_roll;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    }</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                       <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You don&#39;t think you could dodge this attack, and decide to conserve stamina.&quot;</span> ) );</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160; </div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;}</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160; </div>
<div class="line"><a name="l01469"></a><span class="lineno"><a class="line" href="classCreature.html#a676c4d5abf838cef76b85fac511d1d42"> 1469</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a25d21c9537d90ecb5648dd27721e7d2d">Creature::dodge_check</a>( <a class="code" href="classmonster.html">monster</a> *z, <span class="keywordtype">float</span> training_level )</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;{</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a25d21c9537d90ecb5648dd27721e7d2d">dodge_check</a>( z-&gt;<a class="code" href="classCreature.html#a88b81d1ff0359794554e81c7ae16f370">get_hit</a>(), training_level );</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;}</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160; </div>
<div class="line"><a name="l01474"></a><span class="lineno"><a class="line" href="classCreature.html#a2020e399ed6d20cb49f0cc14fe4ac5a1"> 1474</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a25d21c9537d90ecb5648dd27721e7d2d">Creature::dodge_check</a>( <a class="code" href="classmonster.html">monster</a> *z, <a class="code" href="classint__id.html">bodypart_id</a> <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, <span class="keyword">const</span> <a class="code" href="structdamage__instance.html">damage_instance</a> &amp;dam_inst,</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                            <span class="keywordtype">float</span> training_level )</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;{</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160; </div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a07012d6d1998068bef112510c7424374">is_monster</a>() ) {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a25d21c9537d90ecb5648dd27721e7d2d">dodge_check</a>( z );</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    }</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160; </div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <a class="code" href="classCharacter.html">Character</a> *guy_target = <a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>();</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160; </div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="keywordtype">float</span> potential_damage = 0.0f;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structdamage__unit.html">damage_unit</a> &amp;dmg : dam_inst.<a class="code" href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_units</a> ) {</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        potential_damage += dmg.<a class="code" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> - guy_target-&gt;<a class="code" href="classCharacter.html#a46302dc71cfc84856e8af85ddb61c7e1">worn</a>.<a class="code" href="classoutfit.html#af9ae6d82b016fd225cc1aa3de14ae1e8">damage_resist</a>( dmg.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a>, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    }</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <span class="keywordtype">int</span> part_hp = guy_target-&gt;<a class="code" href="classCreature.html#ab901ee8b150fdad01ff2028ec8dba84c">get_part_hp_cur</a>( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <span class="keywordtype">float</span> dmg_ratio = 0.0f; <span class="comment">// if the part is already destroyed it can&#39;t take more damage</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <span class="keywordflow">if</span>( part_hp &gt; 0 ) {</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;        dmg_ratio = potential_damage / part_hp;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="comment">//If attack might remove more than half of the part&#39;s hp, dodge no matter the odds</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="keywordflow">if</span>( dmg_ratio &gt;= 0.5f ) {</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a25d21c9537d90ecb5648dd27721e7d2d">dodge_check</a>( z-&gt;<a class="code" href="classCreature.html#a88b81d1ff0359794554e81c7ae16f370">get_hit</a>(), <span class="keyword">true</span>, training_level );</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( dmg_ratio &gt; 0.0f ) { <span class="comment">// else apply usual rules</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a25d21c9537d90ecb5648dd27721e7d2d">dodge_check</a>( z-&gt;<a class="code" href="classCreature.html#a88b81d1ff0359794554e81c7ae16f370">get_hit</a>(), training_level );</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    }</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;}</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160; </div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;<span class="comment"> * State check functions</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160; </div>
<div class="line"><a name="l01508"></a><span class="lineno"><a class="line" href="classCreature.html#acd04500c61e64cf199ea86f37e95c4a6"> 1508</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#acd04500c61e64cf199ea86f37e95c4a6">Creature::is_warm</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;}</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160; </div>
<div class="line"><a name="l01513"></a><span class="lineno"><a class="line" href="classCreature.html#a43b83bb780138cf2186b24cd40322756"> 1513</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a43b83bb780138cf2186b24cd40322756">Creature::in_species</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">species_id</a> &amp; )<span class="keyword"> const</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;}</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160; </div>
<div class="line"><a name="l01518"></a><span class="lineno"><a class="line" href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c"> 1518</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">Creature::is_fake</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a5f0f94b1cc3a6759e79c7ffc07c3b0b8">fake</a>;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;}</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160; </div>
<div class="line"><a name="l01523"></a><span class="lineno"><a class="line" href="classCreature.html#ad76a5de4e1a09c774c1fea1c3405075b"> 1523</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#ad76a5de4e1a09c774c1fea1c3405075b">Creature::set_fake</a>( <span class="keyword">const</span> <span class="keywordtype">bool</span> fake_value )</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;{</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <a class="code" href="classCreature.html#a5f0f94b1cc3a6759e79c7ffc07c3b0b8">fake</a> = fake_value;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;}</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160; </div>
<div class="line"><a name="l01528"></a><span class="lineno"><a class="line" href="classCreature.html#af45b5a980d7a70440acee8ff848d4aa1"> 1528</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a>( <span class="keyword">const</span> <a class="code" href="classeffect__source.html">effect_source</a> &amp;source, <span class="keyword">const</span> <a class="code" href="classeffect.html">effect</a> &amp;eff, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>,</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                           <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a2aebcf7b73f6f381d2c107ce01e14cc8">deferred</a> )</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;{</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( source, eff.<a class="code" href="classeffect.html#a23adf51cb199f3b2ee464211e43064e3">get_id</a>(), eff.<a class="code" href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">get_duration</a>(), eff.<a class="code" href="classeffect.html#a1d0ae05baa88994df52e08ed927a788b">get_bp</a>(), eff.<a class="code" href="classeffect.html#acc01e73227f765c23e2dc685db5bac5f">is_permanent</a>(),</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                eff.<a class="code" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>(), <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>, <a class="code" href="creature_8h.html#a2aebcf7b73f6f381d2c107ce01e14cc8">deferred</a> );</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;}</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160; </div>
<div class="line"><a name="l01535"></a><span class="lineno"><a class="line" href="classCreature.html#aa27d33c30743c9ff885b1085eae3be4d"> 1535</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a>( <span class="keyword">const</span> <a class="code" href="classeffect__source.html">effect_source</a> &amp;source, <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;eff_id,</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> &amp;<a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, <a class="code" href="classint__id.html">bodypart_id</a> <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>, <span class="keywordtype">int</span> <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a2aebcf7b73f6f381d2c107ce01e14cc8">deferred</a> )</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;{</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="comment">// Check our innate immunity</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a> &amp;&amp; <a class="code" href="classCreature.html#acfe4b827ccc042c7933e709fbca6476e">is_immune_effect</a>( eff_id ) ) {</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    }</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordflow">if</span>( eff_id == <a class="code" href="creature_8cpp.html#ab102ed4e697d5646e520ff97720b069c">effect_knockdown</a> &amp;&amp; ( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="creature_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a> ) ||</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                                        <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="creature_8cpp.html#a0a50e3fbf57e70bfac50331092ff8ad1">effect_riding</a> ) ) ) {</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        <a class="code" href="classmonster.html">monster</a> *mons = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classmonster.html">monster</a> *<span class="keyword">&gt;</span>( this );</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <span class="keywordflow">if</span>( mons &amp;&amp; mons-&gt;<a class="code" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a> ) {</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            mons-&gt;<a class="code" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a>-&gt;<a class="code" href="classCharacter.html#a85a591640ed5dec800bd4e6e42241fbf">forced_dismount</a>();</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        }</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    }</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="keywordflow">if</span>( !eff_id.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid effect, ID: %s&quot;</span>, eff_id.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() );</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    }</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <span class="keyword">const</span> <a class="code" href="classeffect__type.html">effect_type</a> &amp;<a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> = eff_id.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160; </div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <span class="comment">// Mutate to a main (HP&#39;d) body_part if necessary.</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.get_main_parts() ) {</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> = <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>-&gt;<a class="code" href="structbody__part__type.html#ab88f4c72186cad27609e877dd46d2c33">main_part</a>;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    }</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160; </div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="comment">// Filter out bodypart immunity</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classstring__id.html">json_character_flag</a> flag : eff_id-&gt;<a class="code" href="classeffect__type.html#ac826d0f7014525f5589581c0e8249216">immune_bp_flags</a> ) {</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>-&gt;<a class="code" href="structbody__part__type.html#afd43ba79d412b38476f718534904fce7">has_flag</a>( flag ) ) {</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        }</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    }</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160; </div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="comment">// Then check if the effect is blocked by another</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : *<a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;_effect_it : elem.second ) {</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;blocked_effect : _effect_it.second.get_blocks_effects() ) {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                <span class="keywordflow">if</span>( blocked_effect == eff_id ) {</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                    <span class="comment">// The effect is blocked by another, return</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                }</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;            }</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        }</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    }</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160; </div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="comment">// Check if we already have it</span></div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <span class="keyword">auto</span> matching_map = <a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;find( eff_id );</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="keywordflow">if</span>( matching_map != <a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;end() ) {</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;        <span class="keyword">auto</span> &amp;bodyparts = matching_map-&gt;second;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        <span class="keyword">auto</span> found_effect = bodyparts.find( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        <span class="keywordflow">if</span>( found_effect != bodyparts.end() ) {</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;            <a class="code" href="classeffect.html">effect</a> &amp;e = found_effect-&gt;second;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> prev_int = e.<a class="code" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>();</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            <span class="comment">// If we do, mod the duration, factoring in the mod value</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            e.<a class="code" href="classeffect.html#a118dd88810785bfbb8243af97a37d2ab">mod_duration</a>( <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a> * e.<a class="code" href="classeffect.html#ab0aadd6d843660333cb68199455a8393">get_dur_add_perc</a>() / 100 );</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            <span class="comment">// Limit to max duration</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            <span class="keywordflow">if</span>( e.<a class="code" href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">get_duration</a>() &gt; e.<a class="code" href="classeffect.html#a5201a58434d343a00ce457ce6602905c">get_max_duration</a>() ) {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;                e.<a class="code" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( e.<a class="code" href="classeffect.html#a5201a58434d343a00ce457ce6602905c">get_max_duration</a>() );</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;            }</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;            <span class="comment">// Adding a permanent effect makes it permanent</span></div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;            <span class="keywordflow">if</span>( e.<a class="code" href="classeffect.html#acc01e73227f765c23e2dc685db5bac5f">is_permanent</a>() ) {</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;                e.<a class="code" href="classeffect.html#ac3bcb75515405f55bdcbe53d49ddf8dd">pause_effect</a>();</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;            }</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            <span class="comment">// int_dur_factor overrides all other intensity settings</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;            <span class="comment">// ...but it&#39;s handled in set_duration, so explicitly do nothing here</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;            <span class="keywordflow">if</span>( e.<a class="code" href="classeffect.html#aae46cb63cdb1a4ca3e612d464f20446a">get_int_dur_factor</a>() &gt; 0_turns ) {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;                <span class="comment">// Set intensity if value is given</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a> &gt; 0 ) {</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;                e.<a class="code" href="classeffect.html#a8754bec3fbc3ac14160d2e4f185741e0">set_intensity</a>( <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>, <a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() );</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                <span class="comment">// Else intensity uses the type&#39;d step size if it already exists</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( e.<a class="code" href="classeffect.html#a066af1ed3e05451d34a43a79a1997e1d">get_int_add_val</a>() != 0 ) {</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;                e.<a class="code" href="classeffect.html#a9ff54009330263daa8e02b30e86c854c">mod_intensity</a>( e.<a class="code" href="classeffect.html#a066af1ed3e05451d34a43a79a1997e1d">get_int_add_val</a>(), <a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() );</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;            }</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160; </div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;            <span class="comment">// Bound intensity by [1, max intensity]</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;            <span class="keywordflow">if</span>( e.<a class="code" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>() &lt; 1 ) {</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2abfaaa89a847b37d4136e73a0f868c55a">debugmode::DF_CREATURE</a>, <span class="stringliteral">&quot;Bad intensity, ID: %s&quot;</span>, e.<a class="code" href="classeffect.html#a23adf51cb199f3b2ee464211e43064e3">get_id</a>().<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() );</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                e.<a class="code" href="classeffect.html#a8754bec3fbc3ac14160d2e4f185741e0">set_intensity</a>( 1 );</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( e.<a class="code" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>() &gt; e.<a class="code" href="classeffect.html#a11dfe5a38fa2a63bf309b491f64051e0">get_max_intensity</a>() ) {</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                e.<a class="code" href="classeffect.html#a8754bec3fbc3ac14160d2e4f185741e0">set_intensity</a>( e.<a class="code" href="classeffect.html#a11dfe5a38fa2a63bf309b491f64051e0">get_max_intensity</a>() );</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;            }</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;            <span class="keywordflow">if</span>( e.<a class="code" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>() != prev_int ) {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                <a class="code" href="classCreature.html#acade0ea13817c0eb182bc139f9479e96">on_effect_int_change</a>( eff_id, e.<a class="code" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>(), <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        }</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    }</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160; </div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keywordflow">if</span>( !found ) {</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;        <span class="comment">// If we don&#39;t already have it then add a new one</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160; </div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        <span class="comment">// Now we can make the new effect for application</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;        <a class="code" href="classeffect.html">effect</a> e( <a class="code" href="classeffect__source.html">effect_source</a>( source ), &amp;<a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>(), <a class="code" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>, <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        <span class="comment">// Bound to max duration</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        <span class="keywordflow">if</span>( e.<a class="code" href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">get_duration</a>() &gt; e.<a class="code" href="classeffect.html#a5201a58434d343a00ce457ce6602905c">get_max_duration</a>() ) {</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;            e.<a class="code" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( e.<a class="code" href="classeffect.html#a5201a58434d343a00ce457ce6602905c">get_max_duration</a>() );</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        }</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160; </div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;        <span class="comment">// Force intensity if it is duration based</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        <span class="keywordflow">if</span>( e.<a class="code" href="classeffect.html#aae46cb63cdb1a4ca3e612d464f20446a">get_int_dur_factor</a>() != 0_turns ) {</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;            <span class="comment">// + 1 here so that the lowest is intensity 1, not 0</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;            e.<a class="code" href="classeffect.html#a8754bec3fbc3ac14160d2e4f185741e0">set_intensity</a>( e.<a class="code" href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">get_duration</a>() / e.<a class="code" href="classeffect.html#aae46cb63cdb1a4ca3e612d464f20446a">get_int_dur_factor</a>() + 1 );</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;        }</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        <span class="comment">// Bound new effect intensity by [1, max intensity]</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        <span class="keywordflow">if</span>( e.<a class="code" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>() &lt; 1 ) {</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;            <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2abfaaa89a847b37d4136e73a0f868c55a">debugmode::DF_CREATURE</a>, <span class="stringliteral">&quot;Bad intensity, ID: %s&quot;</span>, e.<a class="code" href="classeffect.html#a23adf51cb199f3b2ee464211e43064e3">get_id</a>().<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() );</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;            e.<a class="code" href="classeffect.html#a8754bec3fbc3ac14160d2e4f185741e0">set_intensity</a>( 1 );</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( e.<a class="code" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>() &gt; e.<a class="code" href="classeffect.html#a11dfe5a38fa2a63bf309b491f64051e0">get_max_intensity</a>() ) {</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;            e.<a class="code" href="classeffect.html#a8754bec3fbc3ac14160d2e4f185741e0">set_intensity</a>( e.<a class="code" href="classeffect.html#a11dfe5a38fa2a63bf309b491f64051e0">get_max_intensity</a>() );</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        }</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        ( *effects )[eff_id][<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>] = e;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCharacter.html">Character</a> *ch = <a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>() ) {</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;            <a class="code" href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a>().<a class="code" href="classevent__bus.html#ab753616a3a663185377ac52560068194">send</a>&lt;<a class="code" href="event_8h.html#a333a7721472705fe444b24f107f9a731aaf300b7d334ca5ec15e23a4567f4c46c">event_type::character_gains_effect</a>&gt;( ch-&gt;getID(), <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>(), eff_id );</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                eff_id-&gt;<a class="code" href="classeffect__type.html#af8bd7d84321b5cf7633d1884e8c076cd">add_apply_msg</a>( e.<a class="code" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>() );</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;            }</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        }</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        <a class="code" href="classCreature.html#acade0ea13817c0eb182bc139f9479e96">on_effect_int_change</a>( eff_id, e.<a class="code" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>(), <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        <span class="comment">// Perform any effect addition effects.</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        <span class="comment">// only when not deferred</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="creature_8h.html#a2aebcf7b73f6f381d2c107ce01e14cc8">deferred</a> ) {</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;            <a class="code" href="classCreature.html#a8b6571b163899884df43067ab146ab83">process_one_effect</a>( e, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;        }</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    }</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;}</div>
<div class="line"><a name="l01661"></a><span class="lineno"><a class="line" href="classCreature.html#aee108e04949017aea1e417f7114dde11"> 1661</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a>( <span class="keyword">const</span> <a class="code" href="classeffect__source.html">effect_source</a> &amp;source, <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;eff_id,</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> &amp;<a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>, <span class="keywordtype">int</span> <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a2aebcf7b73f6f381d2c107ce01e14cc8">deferred</a> )</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;{</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( source, eff_id, <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>(), <a class="code" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>, <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>, <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>,</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;                <a class="code" href="creature_8h.html#a2aebcf7b73f6f381d2c107ce01e14cc8">deferred</a> );</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;}</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160; </div>
<div class="line"><a name="l01668"></a><span class="lineno"><a class="line" href="classCreature.html#a8a32c3f76a077285e8f0420a2dea4542"> 1668</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a8a32c3f76a077285e8f0420a2dea4542">Creature::schedule_effect</a>( <span class="keyword">const</span> <a class="code" href="classeffect.html">effect</a> &amp;eff, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a2aebcf7b73f6f381d2c107ce01e14cc8">deferred</a> )</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;{</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <a class="code" href="classCreature.html#a2063f610253576d98ab6a69e911c0d9f">scheduled_effects</a>.push( <a class="code" href="creature_8h.html#a6be8a0e37bcadda359d05a12fe025361">scheduled_effect</a>{eff.<a class="code" href="classeffect.html#a23adf51cb199f3b2ee464211e43064e3">get_id</a>(), eff.<a class="code" href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">get_duration</a>(), eff.<a class="code" href="classeffect.html#a1d0ae05baa88994df52e08ed927a788b">get_bp</a>(),</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                            eff.<a class="code" href="classeffect.html#acc01e73227f765c23e2dc685db5bac5f">is_permanent</a>(), eff.<a class="code" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>(), <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>,</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;                            <a class="code" href="creature_8h.html#a2aebcf7b73f6f381d2c107ce01e14cc8">deferred</a>} );</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;}</div>
<div class="line"><a name="l01674"></a><span class="lineno"><a class="line" href="classCreature.html#ab817398bffec1c66b19f9e65826c89f4"> 1674</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a8a32c3f76a077285e8f0420a2dea4542">Creature::schedule_effect</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;eff_id, <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> &amp;<a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, <a class="code" href="classint__id.html">bodypart_id</a> <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>,</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;                                <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>, <span class="keywordtype">int</span> <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a2aebcf7b73f6f381d2c107ce01e14cc8">deferred</a> )</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;{</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <a class="code" href="classCreature.html#a2063f610253576d98ab6a69e911c0d9f">scheduled_effects</a>.push( <a class="code" href="creature_8h.html#a6be8a0e37bcadda359d05a12fe025361">scheduled_effect</a>{eff_id, <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>,</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                            <a class="code" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>, <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>, <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>,</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                            <a class="code" href="creature_8h.html#a2aebcf7b73f6f381d2c107ce01e14cc8">deferred</a>} );</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;}</div>
<div class="line"><a name="l01681"></a><span class="lineno"><a class="line" href="classCreature.html#a70463d5787c583b55a366e1d98c542fb"> 1681</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a8a32c3f76a077285e8f0420a2dea4542">Creature::schedule_effect</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;eff_id,</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> &amp;<a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>, <span class="keywordtype">int</span> <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>,</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                                <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a2aebcf7b73f6f381d2c107ce01e14cc8">deferred</a> )</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;{</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <a class="code" href="classCreature.html#a2063f610253576d98ab6a69e911c0d9f">scheduled_effects</a>.push( <a class="code" href="creature_8h.html#a6be8a0e37bcadda359d05a12fe025361">scheduled_effect</a>{eff_id, <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>(),</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                            <a class="code" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>, <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>, <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>, <a class="code" href="creature_8h.html#a2aebcf7b73f6f381d2c107ce01e14cc8">deferred</a>} );</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;}</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160; </div>
<div class="line"><a name="l01689"></a><span class="lineno"><a class="line" href="classCreature.html#a2023c106ee9103c630f054f748018218"> 1689</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a2023c106ee9103c630f054f748018218">Creature::add_env_effect</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;eff_id, <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;vector, <span class="keywordtype">int</span> strength,</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> &amp;<a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>, <span class="keywordtype">int</span> <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a> )</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;{</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a> &amp;&amp; <a class="code" href="classCreature.html#acfe4b827ccc042c7933e709fbca6476e">is_immune_effect</a>( eff_id ) ) {</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    }</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160; </div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( <a class="code" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>, 3 ) &gt; <a class="code" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( <a class="code" href="classCreature.html#a270368871cfa3557eaed0492367fa187">get_env_resist</a>( vector ), 3 ) ) {</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        <span class="comment">// Only add the effect if we fail the resist roll</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <span class="comment">// Don&#39;t check immunity (force == true), because we did check above</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="classeffect__source.html#ab2b651053f5ad648e694e35d00b9bca1">effect_source::empty</a>(), eff_id, <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, <a class="code" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>, <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    }</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;}</div>
<div class="line"><a name="l01705"></a><span class="lineno"><a class="line" href="classCreature.html#aacb73ba2eca175f8f6de915db9803e7e"> 1705</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a2023c106ee9103c630f054f748018218">Creature::add_env_effect</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;eff_id, <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;vector, <span class="keywordtype">int</span> strength,</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> &amp;<a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>, <span class="keywordtype">int</span> <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a> )</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;{</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a2023c106ee9103c630f054f748018218">add_env_effect</a>( eff_id, vector, <a class="code" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>, <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>(), <a class="code" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>,</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;                           <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>, <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a> );</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;}</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160; </div>
<div class="line"><a name="l01712"></a><span class="lineno"><a class="line" href="classCreature.html#ade25d295e89504f92aff453b05cd2bbe"> 1712</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#ade25d295e89504f92aff453b05cd2bbe">Creature::clear_effects</a>()</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;{</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : *<a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;_effect_it : elem.second ) {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;            <span class="keyword">const</span> <a class="code" href="classeffect.html">effect</a> &amp;e = _effect_it.second;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;            <a class="code" href="classCreature.html#acade0ea13817c0eb182bc139f9479e96">on_effect_int_change</a>( e.<a class="code" href="classeffect.html#a23adf51cb199f3b2ee464211e43064e3">get_id</a>(), 0, e.<a class="code" href="classeffect.html#a1d0ae05baa88994df52e08ed927a788b">get_bp</a>() );</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;        }</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    }</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;clear();</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;}</div>
<div class="line"><a name="l01722"></a><span class="lineno"><a class="line" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8"> 1722</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">Creature::remove_effect</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;eff_id, <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> )</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;{</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( eff_id, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>() ) ) {</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        <span class="comment">//Effect doesn&#39;t exist, so do nothing</span></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    }</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <span class="keyword">const</span> <a class="code" href="classeffect__type.html">effect_type</a> &amp;<a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> = eff_id.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160; </div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCharacter.html">Character</a> *ch = <a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>() ) {</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.get_remove_message().empty() ) {</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.lose_game_message_type( <a class="code" href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">get_effect</a>( eff_id, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>() ).<a class="code" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>() ),</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                         <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.get_remove_message() );</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;            }</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        }</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        <a class="code" href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a>().<a class="code" href="classevent__bus.html#ab753616a3a663185377ac52560068194">send</a>&lt;<a class="code" href="event_8h.html#a333a7721472705fe444b24f107f9a731a907475eea8d7c21da2c3c3fb3172c731">event_type::character_loses_effect</a>&gt;( ch-&gt;getID(), <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>(), eff_id );</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    }</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160; </div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="comment">// bp_null means remove all of a given effect id</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> == <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>() ) {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;it : ( *<a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> )[eff_id] ) {</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;            <a class="code" href="classCreature.html#acade0ea13817c0eb182bc139f9479e96">on_effect_int_change</a>( eff_id, 0, it.first );</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        }</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        <a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;erase( eff_id );</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        ( *effects )[eff_id].erase( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>() );</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        <a class="code" href="classCreature.html#acade0ea13817c0eb182bc139f9479e96">on_effect_int_change</a>( eff_id, 0, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;        <span class="comment">// If there are no more effects of a given type remove the type map</span></div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        <span class="keywordflow">if</span>( ( *<a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> )[eff_id].empty() ) {</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;            <a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;erase( eff_id );</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        }</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    }</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;}</div>
<div class="line"><a name="l01756"></a><span class="lineno"><a class="line" href="classCreature.html#a22b416e19d82db3f6b8be221e8347248"> 1756</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">Creature::remove_effect</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;eff_id )</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;{</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( eff_id, <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>() );</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;}</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160; </div>
<div class="line"><a name="l01761"></a><span class="lineno"><a class="line" href="classCreature.html#a73a4ee44970f1fdaa34c5c4bc97932d8"> 1761</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a73a4ee44970f1fdaa34c5c4bc97932d8">Creature::schedule_effect_removal</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;eff_id, <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> )</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;{</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <a class="code" href="classCreature.html#a0b6bacc623f2a7cbb7c8f8dbdb6edd51">terminating_effects</a>.push( <a class="code" href="creature_8h.html#a1302c86e4bb5a9bd567d05fbe31d48f2">terminating_effect</a>{eff_id, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>} );</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;}</div>
<div class="line"><a name="l01765"></a><span class="lineno"><a class="line" href="classCreature.html#aa596fc4f02e22a60a0ba84ae207ab8ed"> 1765</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a73a4ee44970f1fdaa34c5c4bc97932d8">Creature::schedule_effect_removal</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;eff_id )</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;{</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a73a4ee44970f1fdaa34c5c4bc97932d8">schedule_effect_removal</a>( eff_id, <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>() );</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;}</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160; </div>
<div class="line"><a name="l01770"></a><span class="lineno"><a class="line" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0"> 1770</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">Creature::has_effect</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;eff_id, <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="comment">// bp_null means anything targeted or not</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>() == <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>() ) {</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;count( eff_id );</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        <span class="keyword">auto</span> got_outer = <a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;find( eff_id );</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        <span class="keywordflow">if</span>( got_outer != <a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;end() ) {</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;            <span class="keyword">auto</span> got_inner = got_outer-&gt;second.find( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>() );</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;            <span class="keywordflow">if</span>( got_inner != got_outer-&gt;second.end() ) {</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;            }</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        }</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    }</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;}</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160; </div>
<div class="line"><a name="l01787"></a><span class="lineno"><a class="line" href="classCreature.html#a03e7494e5ae6ce9c561e74c850541454"> 1787</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">Creature::has_effect</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;eff_id )<span class="keyword"> const</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( eff_id, <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>() );</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;}</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160; </div>
<div class="line"><a name="l01792"></a><span class="lineno"><a class="line" href="classCreature.html#aed2af9ad3e8abd06b3c3c4f1adaf607e"> 1792</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#aed2af9ad3e8abd06b3c3c4f1adaf607e">Creature::has_effect_with_flag</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">flag_id</a> &amp;flag, <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    <span class="keywordflow">return</span> std::any_of( <a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;begin(), <a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;end(), [&amp;]( <span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem ) {</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;        <span class="comment">// effect::has_flag currently delegates to effect_type::has_flag</span></div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;        return elem.first-&gt;has_flag( flag ) &amp;&amp; elem.second.count( bp );</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    } );</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;}</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160; </div>
<div class="line"><a name="l01800"></a><span class="lineno"><a class="line" href="classCreature.html#a34354b7dceef9518f9fd39084eede735"> 1800</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#aed2af9ad3e8abd06b3c3c4f1adaf607e">Creature::has_effect_with_flag</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">flag_id</a> &amp;flag )<span class="keyword"> const</span></div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <span class="keywordflow">return</span> std::any_of( <a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;begin(), <a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;end(), [&amp;]( <span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem ) {</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        <span class="comment">// effect::has_flag currently delegates to effect_type::has_flag</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;        return elem.first-&gt;has_flag( flag );</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    } );</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;}</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160; </div>
<div class="line"><a name="l01808"></a><span class="lineno"><a class="line" href="classCreature.html#a952f5a3103775159e193c6ee4e60979b"> 1808</a></span>&#160;std::vector&lt;std::reference_wrapper&lt;const effect&gt;&gt; <a class="code" href="classCreature.html#a952f5a3103775159e193c6ee4e60979b">Creature::get_effects_with_flag</a>(</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;            <span class="keyword">const</span> <a class="code" href="classstring__id.html">flag_id</a> &amp;flag )<span class="keyword"> const</span></div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    std::vector&lt;std::reference_wrapper&lt;const effect&gt;&gt; effs;</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : *<a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        <span class="keywordflow">if</span>( !elem.first-&gt;has_flag( flag ) ) {</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        }</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const bodypart_id, effect&gt; &amp;_it : elem.second ) {</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;            effs.emplace_back( _it.second );</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        }</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    }</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <span class="keywordflow">return</span> effs;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;}</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160; </div>
<div class="line"><a name="l01823"></a><span class="lineno"><a class="line" href="classCreature.html#a38ba5d107fb8b7b5e198e66f489c58e9"> 1823</a></span>&#160;std::vector&lt;std::reference_wrapper&lt;const effect&gt;&gt; <a class="code" href="classCreature.html#a38ba5d107fb8b7b5e198e66f489c58e9">Creature::get_effects</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    std::vector&lt;std::reference_wrapper&lt;const effect&gt;&gt; effs;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : *<a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const bodypart_id, effect&gt; &amp;_it : elem.second ) {</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;            effs.emplace_back( _it.second );</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;        }</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    }</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="keywordflow">return</span> effs;</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;}</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160; </div>
<div class="line"><a name="l01834"></a><span class="lineno"><a class="line" href="classCreature.html#ad41cb6f136d40eec49e9d1679fbacc6d"> 1834</a></span>&#160;std::vector&lt;std::reference_wrapper&lt;const effect&gt;&gt; <a class="code" href="classCreature.html#ad41cb6f136d40eec49e9d1679fbacc6d">Creature::get_effects_from_bp</a>(</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    std::vector&lt;std::reference_wrapper&lt;const effect&gt;&gt; effs;</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : *<a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> iter = elem.second.find( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;        <span class="keywordflow">if</span>( iter != elem.second.end() ) {</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;            effs.emplace_back( iter-&gt;second );</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;        }</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    }</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <span class="keywordflow">return</span> effs;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;}</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160; </div>
<div class="line"><a name="l01847"></a><span class="lineno"><a class="line" href="classCreature.html#aed2fa13a40e14d5e9859ff4113ed05e8"> 1847</a></span>&#160;<a class="code" href="classeffect.html">effect</a> &amp;<a class="code" href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">Creature::get_effect</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;eff_id, <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> )</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;{</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><a class="code" href="classeffect.html">effect</a> &amp;<span class="keyword">&gt;</span>( <span class="keyword">const_cast&lt;</span><span class="keyword">const </span><a class="code" href="classCreature.html">Creature</a> *<span class="keyword">&gt;</span>( this )-&gt;<a class="code" href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">get_effect</a>( eff_id, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> ) );</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;}</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160; </div>
<div class="line"><a name="l01852"></a><span class="lineno"><a class="line" href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d"> 1852</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classeffect.html">effect</a> &amp;<a class="code" href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">Creature::get_effect</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;eff_id, <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <span class="keyword">auto</span> got_outer = <a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;find( eff_id );</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <span class="keywordflow">if</span>( got_outer != <a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;end() ) {</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        <span class="keyword">auto</span> got_inner = got_outer-&gt;second.find( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;        <span class="keywordflow">if</span>( got_inner != got_outer-&gt;second.end() ) {</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;            <span class="keywordflow">return</span> got_inner-&gt;second;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;        }</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    }</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classeffect.html#a78df933887cbfd826a31bd12e0fd4d65">effect::null_effect</a>;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;}</div>
<div class="line"><a name="l01863"></a><span class="lineno"><a class="line" href="classCreature.html#a1ba25d990e8532dd2b0331bfc6cc694c"> 1863</a></span>&#160;<a class="code" href="classtime__duration.html">time_duration</a> <a class="code" href="classCreature.html#a1ba25d990e8532dd2b0331bfc6cc694c">Creature::get_effect_dur</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;eff_id, <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <span class="keyword">const</span> <a class="code" href="classeffect.html">effect</a> &amp;eff = <a class="code" href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">get_effect</a>( eff_id, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <span class="keywordflow">if</span>( !eff.<a class="code" href="classeffect.html#a39ebd2ec5b2faacde7483e0c07240baa">is_null</a>() ) {</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;        <span class="keywordflow">return</span> eff.<a class="code" href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">get_duration</a>();</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    }</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160; </div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <span class="keywordflow">return</span> 0_turns;</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;}</div>
<div class="line"><a name="l01872"></a><span class="lineno"><a class="line" href="classCreature.html#a9689d4816bc2d1204c53c114190fde50"> 1872</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a9689d4816bc2d1204c53c114190fde50">Creature::get_effect_int</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;eff_id, <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="keyword">const</span> <a class="code" href="classeffect.html">effect</a> &amp;eff = <a class="code" href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">get_effect</a>( eff_id, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="keywordflow">if</span>( !eff.<a class="code" href="classeffect.html#a39ebd2ec5b2faacde7483e0c07240baa">is_null</a>() ) {</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;        <span class="keywordflow">return</span> eff.<a class="code" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>();</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    }</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160; </div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;}</div>
<div class="line"><a name="l01881"></a><span class="lineno"><a class="line" href="classCreature.html#a7c4224e3e3ce5b7bf6af5da26c622af6"> 1881</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a7c4224e3e3ce5b7bf6af5da26c622af6">Creature::process_effects</a>()</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;{</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <span class="comment">// id&#39;s and body_part&#39;s of all effects to be removed. If we ever get player or</span></div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <span class="comment">// monster specific removals these will need to be moved down to that level and then</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="comment">// passed in to this function.</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    std::vector&lt;efftype_id&gt; rem_ids;</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    std::vector&lt;bodypart_id&gt; rem_bps;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160; </div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <span class="comment">// Decay/removal of effects</span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : *<a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;_it : elem.second ) {</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;            <span class="comment">// Add any effects that others remove to the removal list</span></div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;removed_effect : _it.second.get_removes_effects() ) {</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;                rem_ids.push_back( removed_effect );</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;                rem_bps.emplace_back( <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>() );</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;            }</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;            <a class="code" href="classeffect.html">effect</a> &amp;e = _it.second;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> prev_int = e.<a class="code" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>();</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;            <span class="comment">// Run decay effects, marking effects for removal as necessary.</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;            e.<a class="code" href="classeffect.html#ac9a84154b400c9144915d9ed3e2d7a4e">decay</a>( rem_ids, rem_bps, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>(), *<a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> );</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160; </div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            <span class="keywordflow">if</span>( e.<a class="code" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>() != prev_int &amp;&amp; e.<a class="code" href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">get_duration</a>() &gt; 0_turns ) {</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;                <a class="code" href="classCreature.html#acade0ea13817c0eb182bc139f9479e96">on_effect_int_change</a>( e.<a class="code" href="classeffect.html#a23adf51cb199f3b2ee464211e43064e3">get_id</a>(), e.<a class="code" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>(), e.<a class="code" href="classeffect.html#a1d0ae05baa88994df52e08ed927a788b">get_bp</a>() );</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;            }</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160; </div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> reduced = <a class="code" href="classCreature.html#a6b40041c12e2c414170aad5511878446">resists_effect</a>( e );</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;            <span class="keywordflow">if</span>( e.<a class="code" href="classeffect.html#ac3402b480670b9609620cf96f3feb58a">kill_roll</a>( reduced ) ) {</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;                <a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, e.<a class="code" href="classeffect.html#ade1ee159176b6b8f4ee339b8a76e3384">get_death_message</a>() );</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;                    std::map&lt;std::string, cata_variant&gt; event_data;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;                    std::pair&lt;std::string, cata_variant&gt; data_obj( <span class="stringliteral">&quot;character&quot;</span>,</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;                            cata_variant::make&lt;cata_variant_type::character_id&gt;( <a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>()-&gt;getID() ) );</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                    event_data.insert( data_obj );</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;                    <a class="code" href="classcata_1_1event.html">cata::event</a> sent( e.<a class="code" href="classeffect.html#a9d077e99e5e4a0d16c8b00fd32a473fc">death_event</a>(), <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, std::move( event_data ) );</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;                    <a class="code" href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a>().<a class="code" href="classevent__bus.html#ab753616a3a663185377ac52560068194">send</a>( sent );</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                }</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;                <a class="code" href="classCreature.html#a330dad28f732a1cf3af695eedb54877d">die</a>( e.<a class="code" href="classeffect.html#a11575c0577bad5c89b5400ca7eac6084">get_source</a>().<a class="code" href="classeffect__source.html#a19c0d8651913cae8698425a2ea3a6c18">resolve_creature</a>() );</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;            }</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        }</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    }</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160; </div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    <span class="comment">// Actually remove effects. This should be the last thing done in process_effects().</span></div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; rem_ids.size(); ++i ) {</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( rem_ids[i], rem_bps[i] );</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    }</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;}</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160; </div>
<div class="line"><a name="l01928"></a><span class="lineno"><a class="line" href="classCreature.html#a6b40041c12e2c414170aad5511878446"> 1928</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a6b40041c12e2c414170aad5511878446">Creature::resists_effect</a>( <span class="keyword">const</span> <a class="code" href="classeffect.html">effect</a> &amp;e )<span class="keyword"> const</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;i : e.<a class="code" href="classeffect.html#a3562276416ffa58ce420934ff75306ff">get_resist_effects</a>() ) {</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( i ) ) {</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;        }</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    }</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">string_id&lt;mutation_branch&gt;</a> &amp;i : e.<a class="code" href="classeffect.html#a0761861661abb287a4ea8c92d9e7b463">get_resist_traits</a>() ) {</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a2946d574c3339cf1d3baf7b48802fb42">has_trait</a>( i ) ) {</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;        }</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    }</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;}</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160; </div>
<div class="line"><a name="l01943"></a><span class="lineno"><a class="line" href="classCreature.html#a2946d574c3339cf1d3baf7b48802fb42"> 1943</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a2946d574c3339cf1d3baf7b48802fb42">Creature::has_trait</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">trait_id</a> &amp;<span class="comment">/*flag*/</span> )<span class="keyword"> const</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;}</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160; </div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;<span class="comment">// Methods for setting/getting misc key/value pairs.</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"><a class="line" href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab"> 1949</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab">Creature::set_value</a>( <span class="keyword">const</span> std::string &amp;key, <span class="keyword">const</span> std::string &amp;value )</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;{</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <a class="code" href="classCreature.html#a69d20ce599ed8aa0780a4677c14228f9">values</a>[ key ] = value;</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;}</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160; </div>
<div class="line"><a name="l01954"></a><span class="lineno"><a class="line" href="classCreature.html#a6ad06869ed97eb2701f5f74b7d36281e"> 1954</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a6ad06869ed97eb2701f5f74b7d36281e">Creature::remove_value</a>( <span class="keyword">const</span> std::string &amp;key )</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;{</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <a class="code" href="classCreature.html#a69d20ce599ed8aa0780a4677c14228f9">values</a>.erase( key );</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;}</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160; </div>
<div class="line"><a name="l01959"></a><span class="lineno"><a class="line" href="classCreature.html#a2acb6e1e19bcb775748403d07d8dc3f0"> 1959</a></span>&#160;std::string <a class="code" href="classCreature.html#a2acb6e1e19bcb775748403d07d8dc3f0">Creature::get_value</a>( <span class="keyword">const</span> std::string &amp;key )<span class="keyword"> const</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a8b36a61a0abd4731f9bc0806583eea65">maybe_get_value</a>( key ).value_or( std::string{} );</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;}</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160; </div>
<div class="line"><a name="l01964"></a><span class="lineno"><a class="line" href="classCreature.html#a8b36a61a0abd4731f9bc0806583eea65"> 1964</a></span>&#160;std::optional&lt;std::string&gt; <a class="code" href="classCreature.html#a8b36a61a0abd4731f9bc0806583eea65">Creature::maybe_get_value</a>( <span class="keyword">const</span> std::string &amp;key )<span class="keyword"> const</span></div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    <span class="keyword">auto</span> it = <a class="code" href="classCreature.html#a69d20ce599ed8aa0780a4677c14228f9">values</a>.find( key );</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    <span class="keywordflow">return</span> it == <a class="code" href="classCreature.html#a69d20ce599ed8aa0780a4677c14228f9">values</a>.end() ? std::nullopt : std::optional&lt;std::string&gt; { it-&gt;second };</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;}</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160; </div>
<div class="line"><a name="l01970"></a><span class="lineno"><a class="line" href="classCreature.html#ae1db7a9a0aac4a2279436eac442bd4e0"> 1970</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#ae1db7a9a0aac4a2279436eac442bd4e0">Creature::clear_values</a>()</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;{</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    <a class="code" href="classCreature.html#a69d20ce599ed8aa0780a4677c14228f9">values</a>.clear();</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;}</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160; </div>
<div class="line"><a name="l01975"></a><span class="lineno"><a class="line" href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54"> 1975</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54">Creature::mod_pain</a>( <span class="keywordtype">int</span> npain )</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;{</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    <a class="code" href="classCreature.html#a74f17106e37657f528e42b3fd706766a">mod_pain_noresist</a>( npain );</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;}</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160; </div>
<div class="line"><a name="l01980"></a><span class="lineno"><a class="line" href="classCreature.html#a74f17106e37657f528e42b3fd706766a"> 1980</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a74f17106e37657f528e42b3fd706766a">Creature::mod_pain_noresist</a>( <span class="keywordtype">int</span> npain )</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;{</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    <a class="code" href="classCreature.html#a0c2a2ea33a8193bb0779e87f4f67617b">set_pain</a>( <a class="code" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a> + npain );</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;}</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160; </div>
<div class="line"><a name="l01985"></a><span class="lineno"><a class="line" href="classCreature.html#a0c2a2ea33a8193bb0779e87f4f67617b"> 1985</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a0c2a2ea33a8193bb0779e87f4f67617b">Creature::set_pain</a>( <span class="keywordtype">int</span> npain )</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;{</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    npain = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( npain, 0 );</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a> != npain ) {</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;        <a class="code" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a> = npain;</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;        <a class="code" href="classCreature.html#afbfbda1c9112c0551c654337b6176915">on_stat_change</a>( <span class="stringliteral">&quot;pain&quot;</span>, <a class="code" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a> );</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    }</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;}</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160; </div>
<div class="line"><a name="l01994"></a><span class="lineno"><a class="line" href="classCreature.html#a71e8440dfb96a7a870c29e0472b7b85d"> 1994</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a71e8440dfb96a7a870c29e0472b7b85d">Creature::get_pain</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a>;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;}</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160; </div>
<div class="line"><a name="l01999"></a><span class="lineno"><a class="line" href="classCreature.html#a402025ac07eb74792b0885446b912cac"> 1999</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a402025ac07eb74792b0885446b912cac">Creature::get_perceived_pain</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a71e8440dfb96a7a870c29e0472b7b85d">get_pain</a>();</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;}</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160; </div>
<div class="line"><a name="l02004"></a><span class="lineno"><a class="line" href="classCreature.html#af3d3fb7cfb98cf3c36f0f0681414274a"> 2004</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#af3d3fb7cfb98cf3c36f0f0681414274a">Creature::get_moves</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a>;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;}</div>
<div class="line"><a name="l02008"></a><span class="lineno"><a class="line" href="classCreature.html#a891bc2d0c564449cb462178317819254"> 2008</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">Creature::mod_moves</a>( <span class="keywordtype">int</span> nmoves )</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;{</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> += nmoves;</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;}</div>
<div class="line"><a name="l02012"></a><span class="lineno"><a class="line" href="classCreature.html#af826bfbdc9d7f81a8b9e53775f43d080"> 2012</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#af826bfbdc9d7f81a8b9e53775f43d080">Creature::set_moves</a>( <span class="keywordtype">int</span> nmoves )</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;{</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = nmoves;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;}</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160; </div>
<div class="line"><a name="l02017"></a><span class="lineno"><a class="line" href="classCreature.html#ac7516d970e4db80cfcf8c0c8d345a2fa"> 2017</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#ac7516d970e4db80cfcf8c0c8d345a2fa">Creature::in_sleep_state</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="creature_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a> ) || <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="creature_8cpp.html#ac95fd54d69ea350ea463a719fa7f3550">effect_lying_down</a> ) ||</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;           <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="creature_8cpp.html#a74abddcaf98d4f59d99c051a421bee67">effect_npc_suspend</a> );</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;}</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160; </div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;<span class="comment"> * Killer-related things</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02026"></a><span class="lineno"><a class="line" href="classCreature.html#a3175e1b479b42298f197f5a41de45f50"> 2026</a></span>&#160;<a class="code" href="classCreature.html">Creature</a> *<a class="code" href="classCreature.html#a3175e1b479b42298f197f5a41de45f50">Creature::get_killer</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a>;</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;}</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160; </div>
<div class="line"><a name="l02031"></a><span class="lineno"><a class="line" href="classCreature.html#ad88ff594784edeceaef456d2a08180bc"> 2031</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#ad88ff594784edeceaef456d2a08180bc">Creature::set_killer</a>( <a class="code" href="classCreature.html">Creature</a> *<span class="keyword">const</span> killer )</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;{</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="comment">// Only the first killer will be stored, calling set_killer again with a different</span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <span class="comment">// killer would mean it&#39;s called on a dead creature and therefore ignored.</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a> != <span class="keyword">nullptr</span> &amp;&amp; !<a class="code" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a>-&gt;<a class="code" href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">is_fake</a>() &amp;&amp; this-&gt;killer == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;        this-&gt;killer = <a class="code" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a>;</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    }</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;}</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160; </div>
<div class="line"><a name="l02040"></a><span class="lineno"><a class="line" href="classCreature.html#a656cee63b39cd5205193de655185859b"> 2040</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a656cee63b39cd5205193de655185859b">Creature::clear_killer</a>()</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;{</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <a class="code" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;}</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160; </div>
<div class="line"><a name="l02045"></a><span class="lineno"><a class="line" href="classCreature.html#a36478eccbdd3eab446c0534fbca13644"> 2045</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a36478eccbdd3eab446c0534fbca13644">Creature::set_summon_time</a>( <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> &amp;<a class="code" href="smart__controller__ui_8h.html#a70311dd7f8c88e8727c2a7567aa555caaa7970bb5f1149f16a82922773632ebe3">length</a> )</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;{</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <a class="code" href="classCreature.html#a4d0a16875a988b2662b4115038a3dbfb">lifespan_end</a> = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + <a class="code" href="smart__controller__ui_8h.html#a70311dd7f8c88e8727c2a7567aa555caaa7970bb5f1149f16a82922773632ebe3">length</a>;</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;}</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160; </div>
<div class="line"><a name="l02050"></a><span class="lineno"><a class="line" href="classCreature.html#afc608b798e2e44df25ea0fe26423c9b8"> 2050</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#afc608b798e2e44df25ea0fe26423c9b8">Creature::decrement_summon_timer</a>()</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;{</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classCreature.html#a4d0a16875a988b2662b4115038a3dbfb">lifespan_end</a> ) {</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    }</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a4d0a16875a988b2662b4115038a3dbfb">lifespan_end</a>.value() &lt;= <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) {</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;        <a class="code" href="classCreature.html#a330dad28f732a1cf3af695eedb54877d">die</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    }</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;}</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160; </div>
<div class="line"><a name="l02060"></a><span class="lineno"><a class="line" href="classCreature.html#ae26f38c57c1d967a803a80cb3a3703bf"> 2060</a></span>&#160;<a class="code" href="classCreature.html">Creature</a> *<a class="code" href="classCreature.html#ae26f38c57c1d967a803a80cb3a3703bf">Creature::get_summoner</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classCreature.html#ab26785c7f4313d601074016eaec2b938">summoner</a> ) {</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#ab26785c7f4313d601074016eaec2b938">summoner</a>.value() == <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().getID() ) {</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;find_npc( <a class="code" href="classCreature.html#ab26785c7f4313d601074016eaec2b938">summoner</a>.value() );</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    }</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;}</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160; </div>
<div class="line"><a name="l02071"></a><span class="lineno"><a class="line" href="classCreature.html#ab4095a32d376ed62d2dec7dbff95f214"> 2071</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#ab4095a32d376ed62d2dec7dbff95f214">Creature::set_summoner</a>( <a class="code" href="classCreature.html">Creature</a> *<span class="keyword">const</span> summoner )</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;{</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#ab26785c7f4313d601074016eaec2b938">summoner</a>-&gt;as_character() != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;        this-&gt;summoner = <a class="code" href="classCreature.html#ab26785c7f4313d601074016eaec2b938">summoner</a>-&gt;as_character()-&gt;getID();</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    }</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;}</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160; </div>
<div class="line"><a name="l02078"></a><span class="lineno"><a class="line" href="classCreature.html#a75d8b3794b5676cf8ebdf3fb52bd8686"> 2078</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#ab4095a32d376ed62d2dec7dbff95f214">Creature::set_summoner</a>( <a class="code" href="classcharacter__id.html">character_id</a> summoner )</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;{</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    this-&gt;summoner = <a class="code" href="classCreature.html#ab26785c7f4313d601074016eaec2b938">summoner</a>;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;}</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160; </div>
<div class="line"><a name="l02083"></a><span class="lineno"><a class="line" href="classCreature.html#a805a8d90db2178529997b355e8898d70"> 2083</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a805a8d90db2178529997b355e8898d70">Creature::get_num_blocks</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a69db025e34e82c34b56df73f56965350">num_blocks</a> + <a class="code" href="classCreature.html#ad773414b7104cae9ac1df7404528a956">num_blocks_bonus</a>;</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;}</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160; </div>
<div class="line"><a name="l02088"></a><span class="lineno"><a class="line" href="classCreature.html#a655af12aa145ee7fe2340c24a3b4b856"> 2088</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a655af12aa145ee7fe2340c24a3b4b856">Creature::get_num_dodges</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a360b7ab7279423ee61b38d433ba338fd">num_dodges</a> + <a class="code" href="classCreature.html#a4945480df006184bdaf4b5b41ba976ea">num_dodges_bonus</a>;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;}</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160; </div>
<div class="line"><a name="l02093"></a><span class="lineno"><a class="line" href="classCreature.html#a5e5459c1b7ff6fee815a1f15643a972c"> 2093</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a5e5459c1b7ff6fee815a1f15643a972c">Creature::get_num_blocks_bonus</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#ad773414b7104cae9ac1df7404528a956">num_blocks_bonus</a>;</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;}</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160; </div>
<div class="line"><a name="l02098"></a><span class="lineno"><a class="line" href="classCreature.html#ae498ac0177ab95ad88e80a454e67f721"> 2098</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#ae498ac0177ab95ad88e80a454e67f721">Creature::get_num_dodges_bonus</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a4945480df006184bdaf4b5b41ba976ea">num_dodges_bonus</a>;</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;}</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160; </div>
<div class="line"><a name="l02103"></a><span class="lineno"><a class="line" href="classCreature.html#adb780bf253606fd68aee32c4e34eccd4"> 2103</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#adb780bf253606fd68aee32c4e34eccd4">Creature::get_num_blocks_base</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a69db025e34e82c34b56df73f56965350">num_blocks</a>;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;}</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160; </div>
<div class="line"><a name="l02108"></a><span class="lineno"><a class="line" href="classCreature.html#a6596f10b3ecc70bf4ece4a13eac31cb9"> 2108</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a6596f10b3ecc70bf4ece4a13eac31cb9">Creature::get_num_dodges_base</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a360b7ab7279423ee61b38d433ba338fd">num_dodges</a>;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;}</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160; </div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;<span class="comment">// currently this is expected to be overridden to actually have use</span></div>
<div class="line"><a name="l02114"></a><span class="lineno"><a class="line" href="classCreature.html#a270368871cfa3557eaed0492367fa187"> 2114</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a270368871cfa3557eaed0492367fa187">Creature::get_env_resist</a>( <a class="code" href="classint__id.html">bodypart_id</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;}</div>
<div class="line"><a name="l02118"></a><span class="lineno"><a class="line" href="classCreature.html#a5c7b3266e9605dd8251569aa7810ac3d"> 2118</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a5c7b3266e9605dd8251569aa7810ac3d">Creature::get_armor_res</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">damage_type_id</a> &amp;dt, <a class="code" href="classint__id.html">bodypart_id</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#ae6e5e8cb1fcf3243807a15fe65e47057">get_armor_res_bonus</a>( dt );</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;}</div>
<div class="line"><a name="l02122"></a><span class="lineno"><a class="line" href="classCreature.html#a6fb586176b4fe263956c2f2d9a26aa9b"> 2122</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a6fb586176b4fe263956c2f2d9a26aa9b">Creature::get_armor_res_base</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">damage_type_id</a> &amp;dt, <a class="code" href="classint__id.html">bodypart_id</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#ae6e5e8cb1fcf3243807a15fe65e47057">get_armor_res_bonus</a>( dt );</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;}</div>
<div class="line"><a name="l02126"></a><span class="lineno"><a class="line" href="classCreature.html#ae6e5e8cb1fcf3243807a15fe65e47057"> 2126</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#ae6e5e8cb1fcf3243807a15fe65e47057">Creature::get_armor_res_bonus</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">damage_type_id</a> &amp;dt )<span class="keyword"> const</span></div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    <span class="keyword">auto</span> iter = <a class="code" href="classCreature.html#a85906b1aaa87603a52024d4dd68a075a">armor_bonus</a>.find( dt );</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    <span class="keywordflow">return</span> iter == <a class="code" href="classCreature.html#a85906b1aaa87603a52024d4dd68a075a">armor_bonus</a>.end() ? 0 : <a class="code" href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">std::round</a>( iter-&gt;second );</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;}</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160; </div>
<div class="line"><a name="l02132"></a><span class="lineno"><a class="line" href="classCreature.html#a2db9c4d31aa12577ae0f560314cde84e"> 2132</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a2db9c4d31aa12577ae0f560314cde84e">Creature::get_spell_resist</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    <span class="comment">// TODO: add spell resistance to monsters, then make this pure virtual</span></div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;}</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160; </div>
<div class="line"><a name="l02138"></a><span class="lineno"><a class="line" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de"> 2138</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">Creature::get_speed</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a>() + <a class="code" href="classCreature.html#a35bbfb9c042ed3cf7e0ae9b7280384c4">get_speed_bonus</a>();</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;}</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160; </div>
<div class="line"><a name="l02143"></a><span class="lineno"><a class="line" href="classCreature.html#a9b4c795f3f49a9cddb0d7259f70e4a02"> 2143</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a9b4c795f3f49a9cddb0d7259f70e4a02">Creature::get_eff_per</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;}</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160; </div>
<div class="line"><a name="l02148"></a><span class="lineno"><a class="line" href="classCreature.html#aaa501dbe3d1e90d47da43fb9ea57b3be"> 2148</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classCreature.html#aaa501dbe3d1e90d47da43fb9ea57b3be">Creature::get_dodge</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a33f2223d3fa61c5a6cad98914f3895fa">get_dodge_base</a>() + <a class="code" href="classCreature.html#ab7f9ca1f62f41d70a2615dfeb17b7cbc">get_dodge_bonus</a>();</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;}</div>
<div class="line"><a name="l02152"></a><span class="lineno"><a class="line" href="classCreature.html#a88b81d1ff0359794554e81c7ae16f370"> 2152</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classCreature.html#a88b81d1ff0359794554e81c7ae16f370">Creature::get_hit</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a0c2ef38bf9bcedcb014daefe3571e37c">get_hit_base</a>() + <a class="code" href="classCreature.html#a06ca4f66498062afc881d76b82946bac">get_hit_bonus</a>();</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;}</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160; </div>
<div class="line"><a name="l02157"></a><span class="lineno"><a class="line" href="classCreature.html#a59d8ead2387b3b99cb2e88c5f1858e17"> 2157</a></span>&#160;<a class="code" href="classstring__id.html">anatomy_id</a> <a class="code" href="classCreature.html#a59d8ead2387b3b99cb2e88c5f1858e17">Creature::get_anatomy</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#ac339c87d92ebb3cc1092d12e78886184">creature_anatomy</a>;</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;}</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160; </div>
<div class="line"><a name="l02162"></a><span class="lineno"><a class="line" href="classCreature.html#adced27b4b5a49657101ce649e8a761a6"> 2162</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#adced27b4b5a49657101ce649e8a761a6">Creature::set_anatomy</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">anatomy_id</a> &amp;anat )</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;{</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <a class="code" href="classCreature.html#ac339c87d92ebb3cc1092d12e78886184">creature_anatomy</a> = anat;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;}</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160; </div>
<div class="line"><a name="l02167"></a><span class="lineno"><a class="line" href="classCreature.html#ac4dbde454c86b3296f53681c60612974"> 2167</a></span>&#160;<span class="keyword">const</span> std::map&lt;bodypart_str_id, bodypart&gt; &amp;<a class="code" href="classCreature.html#ac4dbde454c86b3296f53681c60612974">Creature::get_body</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a>;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;}</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160; </div>
<div class="line"><a name="l02172"></a><span class="lineno"><a class="line" href="classCreature.html#a08520d85381520ff27dc274d5718a989"> 2172</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a08520d85381520ff27dc274d5718a989">Creature::set_body</a>()</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;{</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a>.clear();</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> : <a class="code" href="classCreature.html#a59d8ead2387b3b99cb2e88c5f1858e17">get_anatomy</a>()-&gt;get_bodyparts() ) {</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;        <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a>.emplace( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>(), <a class="code" href="classbodypart.html">bodypart</a>( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>() ) );</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    }</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;}</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160; </div>
<div class="line"><a name="l02180"></a><span class="lineno"><a class="line" href="classCreature.html#a4034e895cd10ecf87f56916af8341014"> 2180</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a4034e895cd10ecf87f56916af8341014">Creature::has_part</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47">body_part_filter</a> filter )<span class="keyword"> const</span></div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a49d7da8735fb7944fb1ba9f9abb2e7d3">get_part_id</a>( <span class="keywordtype">id</span>, <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, <span class="keyword">true</span> ) != <a class="code" href="bodypart_8cpp.html#a35f96c6059923716c42eb40f76a6a885">body_part_bp_null</a>;</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;}</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160; </div>
<div class="line"><a name="l02185"></a><span class="lineno"><a class="line" href="classCreature.html#af376b238bc80631e8873908f465fe7b2"> 2185</a></span>&#160;<a class="code" href="classbodypart.html">bodypart</a> *<a class="code" href="classCreature.html#af376b238bc80631e8873908f465fe7b2">Creature::get_part</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;{</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    <span class="keyword">auto</span> found = <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a>.find( <a class="code" href="classCreature.html#a49d7da8735fb7944fb1ba9f9abb2e7d3">get_part_id</a>( <span class="keywordtype">id</span> ).<span class="keywordtype">id</span>() );</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    <span class="keywordflow">if</span>( found == <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a>.end() ) {</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Could not find bodypart %s in %s&#39;s body&quot;</span>, <span class="keywordtype">id</span>.<span class="keywordtype">id</span>().c_str(), <a class="code" href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">get_name</a>() );</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    }</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    <span class="keywordflow">return</span> &amp;found-&gt;second;</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;}</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160; </div>
<div class="line"><a name="l02195"></a><span class="lineno"><a class="line" href="classCreature.html#ad768a979c0aaeb470cb013fe43e77d83"> 2195</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classbodypart.html">bodypart</a> *<a class="code" href="classCreature.html#af376b238bc80631e8873908f465fe7b2">Creature::get_part</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <span class="keyword">auto</span> found = <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a>.find( <a class="code" href="classCreature.html#a49d7da8735fb7944fb1ba9f9abb2e7d3">get_part_id</a>( <span class="keywordtype">id</span> ).<span class="keywordtype">id</span>() );</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    <span class="keywordflow">if</span>( found == <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a>.end() ) {</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Could not find bodypart %s in %s&#39;s body&quot;</span>, <span class="keywordtype">id</span>.<span class="keywordtype">id</span>().c_str(), <a class="code" href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">get_name</a>() );</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    }</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    <span class="keywordflow">return</span> &amp;found-&gt;second;</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;}</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160; </div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l02206"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a47b086a3e5090e7b708e8726a34d742c"> 2206</a></span>&#160;<span class="keyword">static</span> T <a class="code" href="creature_8cpp.html#a47b086a3e5090e7b708e8726a34d742c">get_part_helper</a>( <span class="keyword">const</span> <a class="code" href="classCreature.html">Creature</a> &amp;<a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>, <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>,</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;                          T( <a class="code" href="classbodypart.html">bodypart</a>::* <a class="code" href="namespacerotatable__symbols.html#a7d2f855a39674de736a7829423a577f4">get</a> )() <span class="keyword">const</span> )</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;{</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    <span class="keyword">const</span> <a class="code" href="classbodypart.html">bodypart</a> *<span class="keyword">const</span> part = <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.get_part( <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    <span class="keywordflow">if</span>( part ) {</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;        <span class="keywordflow">return</span> ( part-&gt;*<a class="code" href="namespacerotatable__symbols.html#a7d2f855a39674de736a7829423a577f4">get</a> )();</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;        <span class="comment">// If the bodypart doesn&#39;t exist, return the appropriate accessor on the null bodypart.</span></div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;        <span class="comment">// Static null bodypart variable, otherwise the compiler notes the possible return of local variable address (#42798).</span></div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbodypart.html">bodypart</a> bp_null;</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;        <span class="keywordflow">return</span> ( bp_null.*<a class="code" href="namespacerotatable__symbols.html#a7d2f855a39674de736a7829423a577f4">get</a> )();</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    }</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;}</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160; </div>
<div class="line"><a name="l02220"></a><span class="lineno"><a class="line" href="namespaceanonymous__namespace_02creature_8cpp_03.html"> 2220</a></span>&#160;<span class="keyword">namespace</span></div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;{</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l02223"></a><span class="lineno"><a class="line" href="classanonymous__namespace_02creature_8cpp_03_1_1type__identity.html"> 2223</a></span>&#160;<span class="keyword">class </span><a class="code" href="classanonymous__namespace_02creature_8cpp_03_1_1type__identity.html">type_identity</a></div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;{</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l02226"></a><span class="lineno"><a class="line" href="classanonymous__namespace_02creature_8cpp_03_1_1type__identity.html#ad0535e9c0aca089fd498cc88b37214bf"> 2226</a></span>&#160;        <span class="keyword">using</span> <a class="code" href="classanonymous__namespace_02creature_8cpp_03_1_1type__identity.html#ad0535e9c0aca089fd498cc88b37214bf">type</a> = T;</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;};</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;} <span class="comment">// namespace</span></div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160; </div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l02231"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a"> 2231</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( <a class="code" href="classCreature.html">Creature</a> &amp;<a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>, <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>,</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;                             <span class="keywordtype">void</span>( <a class="code" href="classbodypart.html">bodypart</a>::* set )( T ), <span class="keyword">typename</span> type_identity&lt;T&gt;::type val )</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;{</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <a class="code" href="classbodypart.html">bodypart</a> *<span class="keyword">const</span> part = <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.get_part( <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    <span class="keywordflow">if</span>( part ) {</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;        ( part-&gt;*set )( val );</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    }</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;}</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160; </div>
<div class="line"><a name="l02240"></a><span class="lineno"><a class="line" href="classCreature.html#a49d7da8735fb7944fb1ba9f9abb2e7d3"> 2240</a></span>&#160;<a class="code" href="classint__id.html">bodypart_id</a> <a class="code" href="classCreature.html#a49d7da8735fb7944fb1ba9f9abb2e7d3">Creature::get_part_id</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>,</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;                                   <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47">body_part_filter</a> filter, <span class="keywordtype">bool</span> suppress_debugmsg )<span class="keyword"> const</span></div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    <span class="keyword">auto</span> found = <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a>.find( <span class="keywordtype">id</span>.<span class="keywordtype">id</span>() );</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    <span class="keywordflow">if</span>( found != <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a>.end() ) {</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        <span class="keywordflow">return</span> found-&gt;first;</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;    }</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    <span class="comment">// try to find an equivalent part in the body map</span></div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a> &gt;= <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47aa219d952c828c6dfd3c9e7465f0d29c4">body_part_filter::equivalent</a> ) {</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> : <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a> ) {</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>-&gt;part_side == <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.first-&gt;<a class="code" href="structbody__part__type.html#a10db02ab49963764a48f84dafd39aa2a">part_side</a> &amp;&amp;</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;                <a class="code" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>-&gt;primary_limb_type() == <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.first-&gt;<a class="code" href="structbody__part__type.html#ac897947cba425635e7a0846a07a65754">primary_limb_type</a>() ) {</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.first;</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;            }</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;        }</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    }</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    <span class="comment">// try to find the next best thing</span></div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    std::pair&lt;bodypart_id, float&gt; best = { <a class="code" href="bodypart_8cpp.html#a35f96c6059923716c42eb40f76a6a885">body_part_bp_null</a>, 0.0f };</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a> &gt;= <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a101312d8768b5d6a1b56115fb68efffb">body_part_filter::next_best</a> ) {</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> : <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a> ) {</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const body_part_type::type, float&gt; &amp;mp : <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.first-&gt;<a class="code" href="structbody__part__type.html#ab6382e58e37dbcb2062b1a2b9d8bec29">limbtypes</a> ) {</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;                <span class="comment">// if the secondary limb type matches and is better than the current</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;                <span class="keywordflow">if</span>( mp.first == <a class="code" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>-&gt;primary_limb_type() &amp;&amp; mp.second &gt; best.second ) {</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;                    <span class="comment">// give an inflated bonus if the part sides match</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;                    <span class="keywordtype">float</span> bonus = <span class="keywordtype">id</span>-&gt;<a class="code" href="structbody__part__type.html#a10db02ab49963764a48f84dafd39aa2a">part_side</a> == <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.first-&gt;<a class="code" href="structbody__part__type.html#a10db02ab49963764a48f84dafd39aa2a">part_side</a> ? 1.0f : 0.0f;</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;                    best = { <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.first, mp.second + bonus };</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;                }</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;            }</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;        }</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    }</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    <span class="keywordflow">if</span>( best.first == <a class="code" href="bodypart_8cpp.html#a35f96c6059923716c42eb40f76a6a885">body_part_bp_null</a> &amp;&amp; !suppress_debugmsg ) {</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Could not find equivalent bodypart id %s in %s&#39;s body&quot;</span>, <span class="keywordtype">id</span>.<span class="keywordtype">id</span>().c_str(), <a class="code" href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">get_name</a>() );</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    }</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160; </div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    <span class="keywordflow">return</span> best.first;</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;}</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160; </div>
<div class="line"><a name="l02277"></a><span class="lineno"><a class="line" href="classCreature.html#ab901ee8b150fdad01ff2028ec8dba84c"> 2277</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#ab901ee8b150fdad01ff2028ec8dba84c">Creature::get_part_hp_cur</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="creature_8cpp.html#a47b086a3e5090e7b708e8726a34d742c">get_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a9427d18e8394124cbea692220e565338">bodypart::get_hp_cur</a> );</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;}</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160; </div>
<div class="line"><a name="l02282"></a><span class="lineno"><a class="line" href="classCreature.html#aad6dc5532f233030d367ed67e0ea6613"> 2282</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#aad6dc5532f233030d367ed67e0ea6613">Creature::get_part_hp_max</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="creature_8cpp.html#a47b086a3e5090e7b708e8726a34d742c">get_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a6ada80f0743249902457366cbe91f9a3">bodypart::get_hp_max</a> );</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;}</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160; </div>
<div class="line"><a name="l02287"></a><span class="lineno"><a class="line" href="classCreature.html#aeff660cc0df3f660c46142e5362f8ffe"> 2287</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#aeff660cc0df3f660c46142e5362f8ffe">Creature::get_part_healed_total</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="creature_8cpp.html#a47b086a3e5090e7b708e8726a34d742c">get_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a01e15a79b1fb4a5197486c91860b9a82">bodypart::get_healed_total</a> );</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;}</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160; </div>
<div class="line"><a name="l02292"></a><span class="lineno"><a class="line" href="classCreature.html#a619416cdcb47243507f1295a3d901ada"> 2292</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a619416cdcb47243507f1295a3d901ada">Creature::get_part_damage_disinfected</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="creature_8cpp.html#a47b086a3e5090e7b708e8726a34d742c">get_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a63ecca012d71e576483b2ee1977554e9">bodypart::get_damage_disinfected</a> );</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;}</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160; </div>
<div class="line"><a name="l02297"></a><span class="lineno"><a class="line" href="classCreature.html#a7a7ef967ebe5be44a5d4c5ea8158d3cb"> 2297</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a7a7ef967ebe5be44a5d4c5ea8158d3cb">Creature::get_part_damage_bandaged</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="creature_8cpp.html#a47b086a3e5090e7b708e8726a34d742c">get_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a6823cb6ee68e1083496f349e7999da74">bodypart::get_damage_bandaged</a> );</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;}</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160; </div>
<div class="line"><a name="l02302"></a><span class="lineno"><a class="line" href="classCreature.html#a00892cd6e73ac9ecf7c6eb2a043158fc"> 2302</a></span>&#160;<span class="keyword">const</span> <a class="code" href="structencumbrance__data.html">encumbrance_data</a> &amp;<a class="code" href="classCreature.html#a00892cd6e73ac9ecf7c6eb2a043158fc">Creature::get_part_encumbrance_data</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="creature_8cpp.html#a47b086a3e5090e7b708e8726a34d742c">get_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a318486ab8c31b34a07d64bfb851ff327">bodypart::get_encumbrance_data</a> );</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;}</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160; </div>
<div class="line"><a name="l02307"></a><span class="lineno"><a class="line" href="classCreature.html#ae751e29e56563f0aed6fbb462cdca9c4"> 2307</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#ae751e29e56563f0aed6fbb462cdca9c4">Creature::get_part_drench_capacity</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="creature_8cpp.html#a47b086a3e5090e7b708e8726a34d742c">get_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#ad30f4f9e9bcc3308fd1d3f1e51dcf8eb">bodypart::get_drench_capacity</a> );</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;}</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160; </div>
<div class="line"><a name="l02312"></a><span class="lineno"><a class="line" href="classCreature.html#a8e646d4365acc80cd729c95588974267"> 2312</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a8e646d4365acc80cd729c95588974267">Creature::get_part_wetness</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="creature_8cpp.html#a47b086a3e5090e7b708e8726a34d742c">get_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a731b16fa6030bdfb3e19e2d61eb93e21">bodypart::get_wetness</a> );</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;}</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160; </div>
<div class="line"><a name="l02317"></a><span class="lineno"><a class="line" href="classCreature.html#acb022e34c016f883fb785ab8af715bd0"> 2317</a></span>&#160;<a class="code" href="classunits_1_1quantity.html">units::temperature</a> <a class="code" href="classCreature.html#acb022e34c016f883fb785ab8af715bd0">Creature::get_part_temp_cur</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="creature_8cpp.html#a47b086a3e5090e7b708e8726a34d742c">get_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a4c9da5093c72b471b2693db76b3c47fd">bodypart::get_temp_cur</a> );</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;}</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160; </div>
<div class="line"><a name="l02322"></a><span class="lineno"><a class="line" href="classCreature.html#a5619a04558f7cf1ea1fb24bcbca84cab"> 2322</a></span>&#160;<a class="code" href="classunits_1_1quantity.html">units::temperature</a> <a class="code" href="classCreature.html#a5619a04558f7cf1ea1fb24bcbca84cab">Creature::get_part_temp_conv</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="creature_8cpp.html#a47b086a3e5090e7b708e8726a34d742c">get_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#ad0823abdb21bdfe33bb46d65dbbe8665">bodypart::get_temp_conv</a> );</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;}</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160; </div>
<div class="line"><a name="l02327"></a><span class="lineno"><a class="line" href="classCreature.html#a617d9f695722c4865c7d60ef30438711"> 2327</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a617d9f695722c4865c7d60ef30438711">Creature::get_part_frostbite_timer</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="creature_8cpp.html#a47b086a3e5090e7b708e8726a34d742c">get_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a2737feef38491a814afe87ac5a611b33">bodypart::get_frostbite_timer</a> );</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;}</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160; </div>
<div class="line"><a name="l02332"></a><span class="lineno"><a class="line" href="classCreature.html#a37491f0687142da6a1f9fcce9a84b240"> 2332</a></span>&#160;std::array&lt;int, NUM_WATER_TOLERANCE&gt; <a class="code" href="classCreature.html#a37491f0687142da6a1f9fcce9a84b240">Creature::get_part_mut_drench</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="creature_8cpp.html#a47b086a3e5090e7b708e8726a34d742c">get_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a336ad7baa67575d25ef5ddcfbb027faa">bodypart::get_mut_drench</a> );</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;}</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160; </div>
<div class="line"><a name="l02337"></a><span class="lineno"><a class="line" href="classCreature.html#a4b42a11004d8092e0453f9122632de99"> 2337</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classCreature.html#a4b42a11004d8092e0453f9122632de99">Creature::get_part_wetness_percentage</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="creature_8cpp.html#a47b086a3e5090e7b708e8726a34d742c">get_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a0b9be45bcc50e066766e76450248da84">bodypart::get_wetness_percentage</a> );</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;}</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160; </div>
<div class="line"><a name="l02342"></a><span class="lineno"><a class="line" href="classCreature.html#a226d6b1000b12edac3e5adecae7b8928"> 2342</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a226d6b1000b12edac3e5adecae7b8928">Creature::set_part_hp_cur</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> set )</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;{</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;    <span class="keywordtype">bool</span> was_broken = <a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() &amp;&amp; <a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>()-&gt;<a class="code" href="classCharacter.html#ac2245aed6c7279986f42ef9208e816c0">is_limb_broken</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#ae88ff0fc462258a02b00a69aa789b7c5">bodypart::set_hp_cur</a>, set );</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    <span class="keywordflow">if</span>( !was_broken &amp;&amp; <a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() &amp;&amp; <a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>()-&gt;is_limb_broken( <span class="keywordtype">id</span> ) ) {</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;        <a class="code" href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a>().<a class="code" href="classevent__bus.html#ab753616a3a663185377ac52560068194">send</a>&lt;<a class="code" href="event_8h.html#a333a7721472705fe444b24f107f9a731acc32a87e2dd991fe811463d96913f2d2">event_type::broken_bone</a>&gt;( <a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>()-&gt;<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>(), <a class="code" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a> );</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    }</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;}</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160; </div>
<div class="line"><a name="l02351"></a><span class="lineno"><a class="line" href="classCreature.html#a6ee8599df32920db133b4d40281fe61e"> 2351</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a6ee8599df32920db133b4d40281fe61e">Creature::set_part_hp_max</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> set )</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;{</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#acb7258a8e81bf912411924022d5e190e">bodypart::set_hp_max</a>, set );</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;}</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160; </div>
<div class="line"><a name="l02356"></a><span class="lineno"><a class="line" href="classCreature.html#a92182fbfd56229f1d8d23b929955b6a4"> 2356</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a92182fbfd56229f1d8d23b929955b6a4">Creature::set_part_healed_total</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> set )</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;{</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a6e0c176c23e7925aff8da7dbab93049e">bodypart::set_healed_total</a>, set );</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;}</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160; </div>
<div class="line"><a name="l02361"></a><span class="lineno"><a class="line" href="classCreature.html#a3d7ce3e004b7ae5b226b95ed615a674a"> 2361</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a3d7ce3e004b7ae5b226b95ed615a674a">Creature::set_part_damage_disinfected</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> set )</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;{</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a7435e87d8efc1eab96746d7732d916d7">bodypart::set_damage_disinfected</a>, set );</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;}</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160; </div>
<div class="line"><a name="l02366"></a><span class="lineno"><a class="line" href="classCreature.html#aaaf5a839711997aff5199ad5285c3204"> 2366</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#aaaf5a839711997aff5199ad5285c3204">Creature::set_part_damage_bandaged</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> set )</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;{</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a7afb8e7da7ca3c8b9cf6a9054c28e1b5">bodypart::set_damage_bandaged</a>, set );</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;}</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160; </div>
<div class="line"><a name="l02371"></a><span class="lineno"><a class="line" href="classCreature.html#ab25b40c4683f6554f45f76ddb06a089d"> 2371</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#ab25b40c4683f6554f45f76ddb06a089d">Creature::set_part_encumbrance_data</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="structencumbrance__data.html">encumbrance_data</a> &amp;set )</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;{</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a5b5203fd99b2446d7431bbae43ba9b33">bodypart::set_encumbrance_data</a>, set );</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;}</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160; </div>
<div class="line"><a name="l02376"></a><span class="lineno"><a class="line" href="classCreature.html#a4a302365853bfdd5351a384c4cc823e1"> 2376</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a4a302365853bfdd5351a384c4cc823e1">Creature::set_part_wetness</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> set )</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;{</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a022fd6e9d44414c3c0d01f02952f1b2a">bodypart::set_wetness</a>, set );</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;}</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160; </div>
<div class="line"><a name="l02381"></a><span class="lineno"><a class="line" href="classCreature.html#a50eb7b6f001c10c9ee253ad8b85f57a9"> 2381</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a50eb7b6f001c10c9ee253ad8b85f57a9">Creature::set_part_temp_cur</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <a class="code" href="classunits_1_1quantity.html">units::temperature</a> set )</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;{</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#ae1d1baeedd11ededae95de9bae5f121d">bodypart::set_temp_cur</a>, set );</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;}</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160; </div>
<div class="line"><a name="l02386"></a><span class="lineno"><a class="line" href="classCreature.html#ad698149db2e025cddd1e774770fc7de8"> 2386</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#ad698149db2e025cddd1e774770fc7de8">Creature::set_part_temp_conv</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <a class="code" href="classunits_1_1quantity.html">units::temperature</a> set )</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;{</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a6dea1a7ac0d9a6cb595ff8edaa17071b">bodypart::set_temp_conv</a>, set );</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;}</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160; </div>
<div class="line"><a name="l02391"></a><span class="lineno"><a class="line" href="classCreature.html#a371a35ce9173bd2c444cb08c64726560"> 2391</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a371a35ce9173bd2c444cb08c64726560">Creature::set_part_frostbite_timer</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> set )</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;{</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a4baef9d3358ceb7f0f721cc5ddd30ef2">bodypart::set_frostbite_timer</a>, set );</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;}</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160; </div>
<div class="line"><a name="l02396"></a><span class="lineno"><a class="line" href="classCreature.html#ae74ff4a6c6e50b71374895f72246a667"> 2396</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#ae74ff4a6c6e50b71374895f72246a667">Creature::set_part_mut_drench</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, std::pair&lt;water_tolerance, int&gt; set )</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;{</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#ab8df193998ca0779f153eec70f16f861">bodypart::set_mut_drench</a>, set );</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;}</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160; </div>
<div class="line"><a name="l02401"></a><span class="lineno"><a class="line" href="classCreature.html#a29006b1d624e44def0208134e7f0ac3f"> 2401</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a29006b1d624e44def0208134e7f0ac3f">Creature::mod_part_hp_cur</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> )</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;{</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    <span class="keywordtype">bool</span> was_broken = <a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() &amp;&amp; <a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>()-&gt;<a class="code" href="classCharacter.html#ac2245aed6c7279986f42ef9208e816c0">is_limb_broken</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a0ea0f17ff89b6c44b1c9609a34bdf608">bodypart::mod_hp_cur</a>, <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <span class="keywordflow">if</span>( !was_broken &amp;&amp; <a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() &amp;&amp; <a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>()-&gt;is_limb_broken( <span class="keywordtype">id</span> ) ) {</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;        <a class="code" href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a>().<a class="code" href="classevent__bus.html#ab753616a3a663185377ac52560068194">send</a>&lt;<a class="code" href="event_8h.html#a333a7721472705fe444b24f107f9a731acc32a87e2dd991fe811463d96913f2d2">event_type::broken_bone</a>&gt;( <a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>()-&gt;<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>(), <a class="code" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a> );</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    }</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;}</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160; </div>
<div class="line"><a name="l02410"></a><span class="lineno"><a class="line" href="classCreature.html#a29b7481562f5db150aa48141a0994ed2"> 2410</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a29b7481562f5db150aa48141a0994ed2">Creature::mod_part_hp_max</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> )</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;{</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a24002476e28e50b4ad9122caec149e15">bodypart::mod_hp_max</a>, <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;}</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160; </div>
<div class="line"><a name="l02415"></a><span class="lineno"><a class="line" href="classCreature.html#a55954967387e535b1e52f16946a85a47"> 2415</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a55954967387e535b1e52f16946a85a47">Creature::mod_part_healed_total</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> )</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;{</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#adf6b6eeaa4113a29750b2c952506643a">bodypart::mod_healed_total</a>, <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;}</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160; </div>
<div class="line"><a name="l02420"></a><span class="lineno"><a class="line" href="classCreature.html#ad0bd61214218ff0dcd676b0b72fed8e5"> 2420</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#ad0bd61214218ff0dcd676b0b72fed8e5">Creature::mod_part_damage_disinfected</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> )</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;{</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a7c165d7eb1a5aaa996e2439b5a7044e5">bodypart::mod_damage_disinfected</a>, <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;}</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160; </div>
<div class="line"><a name="l02425"></a><span class="lineno"><a class="line" href="classCreature.html#a1efc19e2d431a3be98f0d651c97e7cf0"> 2425</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a1efc19e2d431a3be98f0d651c97e7cf0">Creature::mod_part_damage_bandaged</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> )</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;{</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a7fc14377bac33f54e751ac24d3400a96">bodypart::mod_damage_bandaged</a>, <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;}</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160; </div>
<div class="line"><a name="l02430"></a><span class="lineno"><a class="line" href="classCreature.html#a2d8cf3a723e8cc8df3666fc49540ce94"> 2430</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a2d8cf3a723e8cc8df3666fc49540ce94">Creature::mod_part_wetness</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> )</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;{</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a824f30cc27e5d2d87b2fa80c5c3741af">bodypart::mod_wetness</a>, <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;}</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160; </div>
<div class="line"><a name="l02435"></a><span class="lineno"><a class="line" href="classCreature.html#a1a3c6e764ace1edd0dadf641bacd1bec"> 2435</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a1a3c6e764ace1edd0dadf641bacd1bec">Creature::mod_part_temp_cur</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <a class="code" href="classunits_1_1quantity.html">units::temperature_delta</a> <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> )</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;{</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#af12c9b94df23377d54496961d4a8d72c">bodypart::mod_temp_cur</a>, <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;}</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160; </div>
<div class="line"><a name="l02440"></a><span class="lineno"><a class="line" href="classCreature.html#ae8f80dc1205c60890a41fb5d34ea97a6"> 2440</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#ae8f80dc1205c60890a41fb5d34ea97a6">Creature::mod_part_temp_conv</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <a class="code" href="classunits_1_1quantity.html">units::temperature_delta</a> <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> )</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;{</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a0b7d9d1007225e33ef6e829f63627846">bodypart::mod_temp_conv</a>, <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;}</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160; </div>
<div class="line"><a name="l02445"></a><span class="lineno"><a class="line" href="classCreature.html#a8d6c44f7a224dca20bd27befb6133db3"> 2445</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a8d6c44f7a224dca20bd27befb6133db3">Creature::mod_part_frostbite_timer</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> )</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;{</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;    <a class="code" href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a3fe45452441a7599e4cd004f3d8831e8">bodypart::mod_frostbite_timer</a>, <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;}</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160; </div>
<div class="line"><a name="l02450"></a><span class="lineno"><a class="line" href="classCreature.html#a6d140fa65e8f80987add3259db6cc170"> 2450</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a6d140fa65e8f80987add3259db6cc170">Creature::set_all_parts_temp_cur</a>( <a class="code" href="classunits_1_1quantity.html">units::temperature</a> set )</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;{</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    <span class="keywordflow">for</span>( std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;elem : <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a> ) {</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;        <span class="keywordflow">if</span>( elem.first-&gt;has_flag( <a class="code" href="creature_8cpp.html#a18cca0d60af04a241e2561584946cf56">json_flag_IGNORE_TEMP</a> ) ) {</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;        }</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;        elem.second.set_temp_cur( set );</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;    }</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;}</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160; </div>
<div class="line"><a name="l02460"></a><span class="lineno"><a class="line" href="classCreature.html#ad783dabe159958ef84fda098adc655fe"> 2460</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#ad783dabe159958ef84fda098adc655fe">Creature::set_all_parts_temp_conv</a>( <a class="code" href="classunits_1_1quantity.html">units::temperature</a> set )</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;{</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;    <span class="keywordflow">for</span>( std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;elem : <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a> ) {</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;        <span class="keywordflow">if</span>( elem.first-&gt;has_flag( <a class="code" href="creature_8cpp.html#a18cca0d60af04a241e2561584946cf56">json_flag_IGNORE_TEMP</a> ) ) {</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;        }</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;        elem.second.set_temp_conv( set );</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;    }</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;}</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160; </div>
<div class="line"><a name="l02470"></a><span class="lineno"><a class="line" href="classCreature.html#a1f888e61e9f5fb97cbf3a816a1e9c3f1"> 2470</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a1f888e61e9f5fb97cbf3a816a1e9c3f1">Creature::set_all_parts_wetness</a>( <span class="keywordtype">int</span> set )</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;{</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    <span class="keywordflow">for</span>( std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;elem : <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a> ) {</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;        elem.second.set_wetness( set );</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    }</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;}</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160; </div>
<div class="line"><a name="l02477"></a><span class="lineno"><a class="line" href="classCreature.html#a6ebcf1d6c0af9f4223695752a5ae3632"> 2477</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a6ebcf1d6c0af9f4223695752a5ae3632">Creature::set_all_parts_hp_cur</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> set )</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;{</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    <span class="keywordflow">for</span>( std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;elem : <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a> ) {</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;        elem.second.set_hp_cur( set );</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    }</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;}</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160; </div>
<div class="line"><a name="l02484"></a><span class="lineno"><a class="line" href="classCreature.html#a6af61264a3d5ac62a64df4899e87d2c1"> 2484</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a6af61264a3d5ac62a64df4899e87d2c1">Creature::set_all_parts_hp_to_max</a>()</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;{</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;    <span class="keywordflow">for</span>( std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;elem : <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a> ) {</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;        elem.second.set_hp_to_max();</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    }</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;}</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160; </div>
<div class="line"><a name="l02491"></a><span class="lineno"><a class="line" href="classCreature.html#adfe71cd74e297421f79b6b8f3f31f418"> 2491</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#adfe71cd74e297421f79b6b8f3f31f418">Creature::has_atleast_one_wet_part</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;elem : <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a> ) {</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;        <span class="keywordflow">if</span>( elem.second.get_wetness() &gt; 0 ) {</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;        }</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    }</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;}</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160; </div>
<div class="line"><a name="l02501"></a><span class="lineno"><a class="line" href="classCreature.html#a681ce099a21add56451f87e4b35dd0b6"> 2501</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a681ce099a21add56451f87e4b35dd0b6">Creature::is_part_at_max_hp</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="creature_8cpp.html#a47b086a3e5090e7b708e8726a34d742c">get_part_helper</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, &amp;<a class="code" href="classbodypart.html#a20016367193bcdc5e623f98fef007803">bodypart::is_at_max_hp</a> );</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;}</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160; </div>
<div class="line"><a name="l02506"></a><span class="lineno"><a class="line" href="classCreature.html#a51c96c81ae1ea766b5eead4a265c1492"> 2506</a></span>&#160;<a class="code" href="classint__id.html">bodypart_id</a> <a class="code" href="classCreature.html#a51c96c81ae1ea766b5eead4a265c1492">Creature::get_random_body_part</a>( <span class="keywordtype">bool</span> <a class="code" href="main_8cpp.html#ac0f2228420376f4db7e1274f2b41667c">main</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <span class="comment">// TODO: Refuse broken limbs, adjust for mutations</span></div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;    <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;part = <a class="code" href="classCreature.html#a59d8ead2387b3b99cb2e88c5f1858e17">get_anatomy</a>()-&gt;<a class="code" href="classanatomy.html#abae9f237437b7f56f5efbd6983706324">random_body_part</a>();</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="main_8cpp.html#ac0f2228420376f4db7e1274f2b41667c">main</a> ? part-&gt;<a class="code" href="structbody__part__type.html#ab88f4c72186cad27609e877dd46d2c33">main_part</a>.<a class="code" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>() : part;</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;}</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160; </div>
<div class="line"><a name="l02513"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a5658826e216b7114fce66a84841deeb2"> 2513</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="creature_8cpp.html#a5658826e216b7114fce66a84841deeb2">sort_body_parts</a>( std::vector&lt;bodypart_id&gt; &amp;bps, <span class="keyword">const</span> <a class="code" href="classCreature.html">Creature</a> *<a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> )</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;{</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    <span class="comment">// We want to dynamically sort the parts based on their connections as</span></div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    <span class="comment">// defined in json.</span></div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;    <span class="comment">// The goal is to performa a pre-order depth-first traversal starting</span></div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;    <span class="comment">// with the root part (the head) and prioritising children with fewest</span></div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    <span class="comment">// descendants.</span></div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160; </div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    <span class="comment">// First build a map with the reverse connections</span></div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;    std::unordered_map&lt;bodypart_id, cata::flat_set&lt;bodypart_id&gt;&gt; parts_connected_to;</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;    <a class="code" href="classint__id.html">bodypart_id</a> root_part;</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> : bps ) {</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;        <a class="code" href="classint__id.html">bodypart_id</a> conn = <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>-&gt;get_part_id( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>-&gt;<a class="code" href="structbody__part__type.html#ab2d8ca27584109b9d36424f1f4dd92fe">connected_to</a> );</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;        <span class="keywordflow">if</span>( conn == <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> ) {</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;            root_part = <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>;</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;            parts_connected_to[conn].insert( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;        }</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;    }</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160; </div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    <span class="keywordflow">if</span>( root_part == <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>() ) {</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;No root part in body&quot;</span> );</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    }</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160; </div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;    <span class="comment">// Topo-sort the parts from the extremities towards the head</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    std::unordered_map&lt;bodypart_id, cata::flat_set&lt;bodypart_id&gt;&gt; unaccounted_parts =</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;                parts_connected_to;</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;    <a class="code" href="classcata_1_1flat__set.html">cata::flat_set&lt;bodypart_id&gt;</a> parts_with_no_connections;</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160; </div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> : bps ) {</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;        <span class="keywordflow">if</span>( unaccounted_parts[<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>].empty() ) {</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;            parts_with_no_connections.<a class="code" href="classcata_1_1flat__set.html#ab427ae6af6b4cd328c0000bc197f881b">insert</a>( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;        }</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;    }</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160; </div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;    std::vector&lt;bodypart_id&gt; topo_sorted_parts;</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    <span class="keywordflow">while</span>( !parts_with_no_connections.empty() ) {</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;        <span class="keyword">auto</span> <a class="code" href="weather__type_8h.html#a72d839b22172d982273f161206458e25aa1a074a72eb46dfdde53e589d946ab98">last</a> = parts_with_no_connections.<a class="code" href="classcata_1_1flat__set.html#ac2cc2580a6f1501d51da9e51a8de2e8c">end</a>();</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;        --<a class="code" href="weather__type_8h.html#a72d839b22172d982273f161206458e25aa1a074a72eb46dfdde53e589d946ab98">last</a>;</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160; </div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;        <a class="code" href="classint__id.html">bodypart_id</a> <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> = *<a class="code" href="weather__type_8h.html#a72d839b22172d982273f161206458e25aa1a074a72eb46dfdde53e589d946ab98">last</a>;</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;        parts_with_no_connections.<a class="code" href="classcata_1_1flat__set.html#a3d7ed3af629c15825cafc9b5a48bda3b">erase</a>( <a class="code" href="weather__type_8h.html#a72d839b22172d982273f161206458e25aa1a074a72eb46dfdde53e589d946ab98">last</a> );</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;        unaccounted_parts.erase( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;        topo_sorted_parts.push_back( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;        <a class="code" href="classint__id.html">bodypart_id</a> conn = <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>-&gt;get_part_id( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>-&gt;<a class="code" href="structbody__part__type.html#ab2d8ca27584109b9d36424f1f4dd92fe">connected_to</a> );</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;        <span class="keywordflow">if</span>( conn == <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> ) {</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;        }</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;        <span class="keyword">auto</span> conn_it = unaccounted_parts.find( conn );</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;        <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( conn_it != unaccounted_parts.end() );</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;        conn_it-&gt;second.erase( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;        <span class="keywordflow">if</span>( conn_it-&gt;second.empty() ) {</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;            parts_with_no_connections.<a class="code" href="classcata_1_1flat__set.html#ab427ae6af6b4cd328c0000bc197f881b">insert</a>( conn );</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;        }</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    }</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160; </div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    <span class="keywordflow">if</span>( !unaccounted_parts.empty() || !parts_with_no_connections.empty() ) {</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Error in topo-sorting bodyparts: unaccounted_parts.size() == %d; &quot;</span></div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;                  <span class="stringliteral">&quot;parts_with_no_connections.size() == %d&quot;</span>, unaccounted_parts.size(),</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;                  parts_with_no_connections.size() );</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    }</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160; </div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;    <span class="comment">// Using the topo-sorted parts, we can count the descendants of each</span></div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;    <span class="comment">// part</span></div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    std::unordered_map&lt;bodypart_id, int&gt; num_descendants;</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> : topo_sorted_parts ) {</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;        <span class="keywordtype">int</span> this_num_descendants = 1;</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;child : parts_connected_to[<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>] ) {</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;            this_num_descendants += num_descendants[child];</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;        }</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;        num_descendants[<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>] = this_num_descendants;</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;    }</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160; </div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    <span class="comment">// Finally, we can do the depth-first traversal:</span></div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    std::vector&lt;bodypart_id&gt; result;</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;    std::stack&lt;bodypart_id&gt; <a class="code" href="achievement_8h.html#afb747e43758989c48fc9dd0e550d3641a7c6c2e5d48ab37a007cbf70d3ea25fa4">pending</a>;</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;    <a class="code" href="achievement_8h.html#afb747e43758989c48fc9dd0e550d3641a7c6c2e5d48ab37a007cbf70d3ea25fa4">pending</a>.push( root_part );</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160; </div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> compare_children = [&amp;]( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp; l, <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp; r ) {</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;        std::string l_name = l-&gt;<a class="code" href="structbody__part__type.html#abe22ff7c5563ccdd6a2066485ca418fe">name</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;        std::string r_name = r-&gt;name.translated();</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;        <a class="code" href="classint__id.html">bodypart_id</a> l_opp = l-&gt;<a class="code" href="structbody__part__type.html#ab85a8e141926f14849bf6fbbc9e7474f">opposite_part</a>;</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;        <a class="code" href="classint__id.html">bodypart_id</a> r_opp = r-&gt;<a class="code" href="structbody__part__type.html#ab85a8e141926f14849bf6fbbc9e7474f">opposite_part</a>;</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;        <span class="comment">// Sorting first on the min of the name and opposite&#39;s name ensures</span></div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;        <span class="comment">// that we put pairs together in the list.</span></div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;        std::string l_min_name = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( l_name, l_opp-&gt;<a class="code" href="structbody__part__type.html#abe22ff7c5563ccdd6a2066485ca418fe">name</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>(), <a class="code" href="localized__comparator_8h.html#aa323a1324b9ad3f0c7dc65690aed09c6">localized_compare</a> );</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;        std::string r_min_name = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( r_name, r_opp-&gt;<a class="code" href="structbody__part__type.html#abe22ff7c5563ccdd6a2066485ca418fe">name</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>(), <a class="code" href="localized__comparator_8h.html#aa323a1324b9ad3f0c7dc65690aed09c6">localized_compare</a> );</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;        <span class="comment">// We delibarately reverse the comparison because the elements get</span></div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;        <span class="comment">// reversed below when they are transferred from the vector to the</span></div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;        <span class="comment">// stack.</span></div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="localized__comparator_8h.html#aa323a1324b9ad3f0c7dc65690aed09c6">localized_compare</a>(</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;                   std::make_tuple( num_descendants[r], r_min_name, r_name ),</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;                   std::make_tuple( num_descendants[l], l_min_name, l_name ) );</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    };</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160; </div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;    <span class="keywordflow">while</span>( !<a class="code" href="achievement_8h.html#afb747e43758989c48fc9dd0e550d3641a7c6c2e5d48ab37a007cbf70d3ea25fa4">pending</a>.empty() ) {</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;        <a class="code" href="classint__id.html">bodypart_id</a> next = <a class="code" href="achievement_8h.html#afb747e43758989c48fc9dd0e550d3641a7c6c2e5d48ab37a007cbf70d3ea25fa4">pending</a>.top();</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;        <a class="code" href="achievement_8h.html#afb747e43758989c48fc9dd0e550d3641a7c6c2e5d48ab37a007cbf70d3ea25fa4">pending</a>.pop();</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;        result.push_back( next );</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160; </div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;        <span class="keyword">const</span> <a class="code" href="classcata_1_1flat__set.html">cata::flat_set&lt;bodypart_id&gt;</a> children_set = parts_connected_to.at( next );</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;        std::vector&lt;bodypart_id&gt; children( children_set.<a class="code" href="classcata_1_1flat__set.html#a038c2f807983027c730259560308285c">begin</a>(), children_set.<a class="code" href="classcata_1_1flat__set.html#ac2cc2580a6f1501d51da9e51a8de2e8c">end</a>() );</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;        std::sort( children.begin(), children.end(), compare_children );</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;child : children ) {</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;            <a class="code" href="achievement_8h.html#afb747e43758989c48fc9dd0e550d3641a7c6c2e5d48ab37a007cbf70d3ea25fa4">pending</a>.push( child );</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;        }</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;    }</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160; </div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( bps.size() == result.size() );</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    bps = result;</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;}</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160; </div>
<div class="line"><a name="l02627"></a><span class="lineno"><a class="line" href="classCreature.html#a4537397ede1aea8ecec28183252aabe3"> 2627</a></span>&#160;std::vector&lt;bodypart_id&gt; <a class="code" href="classCreature.html#a4537397ede1aea8ecec28183252aabe3">Creature::get_all_body_parts</a>( <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfae">get_body_part_flags</a> flags )<span class="keyword"> const</span></div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea5d7454274f566bb1a128ed016e6bc787">only_main</a>( flags &amp; <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea5d7454274f566bb1a128ed016e6bc787">get_body_part_flags::only_main</a> );</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea8bb95dd0b782d7bdb4ab64b21ded8c0e">only_minor</a>( flags &amp; <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea8bb95dd0b782d7bdb4ab64b21ded8c0e">get_body_part_flags::only_minor</a> );</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    std::vector&lt;bodypart_id&gt; all_bps;</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    all_bps.reserve( <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a>.size() );</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;elem : <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a> ) {</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;        <span class="keywordflow">if</span>( ( <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea5d7454274f566bb1a128ed016e6bc787">only_main</a> &amp;&amp; elem.first-&gt;main_part != elem.first ) || ( <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea8bb95dd0b782d7bdb4ab64b21ded8c0e">only_minor</a> &amp;&amp;</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;                elem.first-&gt;main_part == elem.first ) ) {</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;        }</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;        all_bps.emplace_back( elem.first );</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    }</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160; </div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    <span class="keywordflow">if</span>( flags &amp; <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea26decc94d83c358f67f11c3cbd99b126">get_body_part_flags::sorted</a> ) {</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;        <a class="code" href="creature_8cpp.html#a5658826e216b7114fce66a84841deeb2">sort_body_parts</a>( all_bps, <span class="keyword">this</span> );</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    }</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160; </div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    <span class="keywordflow">return</span>  all_bps;</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;}</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160; </div>
<div class="line"><a name="l02648"></a><span class="lineno"><a class="line" href="classCreature.html#a289cc7e1514ccecc5f1d065c629c8aa2"> 2648</a></span>&#160;<a class="code" href="classint__id.html">bodypart_id</a> <a class="code" href="classCreature.html#a289cc7e1514ccecc5f1d065c629c8aa2">Creature::get_root_body_part</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;part : <a class="code" href="classCreature.html#a4537397ede1aea8ecec28183252aabe3">get_all_body_parts</a>() ) {</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;        <span class="keywordflow">if</span>( part-&gt;connected_to == part-&gt;id ) {</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;            <span class="keywordflow">return</span> part;</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;        }</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;    }</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;    <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;ERROR: character has no root part&quot;</span> );</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="bodypart_8cpp.html#ade2e301ed150ac0191c87e8fb19420c1">body_part_head</a>;</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;}</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160; </div>
<div class="line"><a name="l02659"></a><span class="lineno"><a class="line" href="classCreature.html#aa957c7087f200c7b37f8ed06f891cac6"> 2659</a></span>&#160;std::vector&lt;bodypart_id&gt; <a class="code" href="classCreature.html#aa957c7087f200c7b37f8ed06f891cac6">Creature::get_all_body_parts_of_type</a>(</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;    <a class="code" href="structbody__part__type.html#a5c9ac1217c128e0f487b2f460dd3fad1">body_part_type::type</a> part_type, <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfae">get_body_part_flags</a> flags )<span class="keyword"> const</span></div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea5d7454274f566bb1a128ed016e6bc787">only_main</a>( flags &amp; <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea5d7454274f566bb1a128ed016e6bc787">get_body_part_flags::only_main</a> );</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> primary( flags &amp; <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea2cde9c30e7e2be952d5f08dba1b9a0d5">get_body_part_flags::primary_type</a> );</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160; </div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    std::vector&lt;bodypart_id&gt; bodyparts;</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;elem : <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a> ) {</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea5d7454274f566bb1a128ed016e6bc787">only_main</a> &amp;&amp; elem.first-&gt;main_part != elem.first ) {</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;        }</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;        <span class="keywordflow">if</span>( primary ) {</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;            <span class="keywordflow">if</span>( elem.first-&gt;primary_limb_type() == part_type ) {</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;                bodyparts.emplace_back( elem.first );</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;            }</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( elem.first-&gt;has_type( part_type ) ) {</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;            bodyparts.emplace_back( elem.first );</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;        }</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    }</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160; </div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    <span class="keywordflow">if</span>( flags &amp; <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea26decc94d83c358f67f11c3cbd99b126">get_body_part_flags::sorted</a> ) {</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;        <a class="code" href="creature_8cpp.html#a5658826e216b7114fce66a84841deeb2">sort_body_parts</a>( bodyparts, <span class="keyword">this</span> );</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    }</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160; </div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;    <span class="keywordflow">return</span> bodyparts;</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;}</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160; </div>
<div class="line"><a name="l02686"></a><span class="lineno"><a class="line" href="classCreature.html#a936001bd5f590f20d5463f861b032840"> 2686</a></span>&#160;<a class="code" href="classint__id.html">bodypart_id</a> <a class="code" href="classCreature.html#a936001bd5f590f20d5463f861b032840">Creature::get_random_body_part_of_type</a>( <a class="code" href="structbody__part__type.html#a5c9ac1217c128e0f487b2f460dd3fad1">body_part_type::type</a> part_type )<span class="keyword"> const</span></div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( <a class="code" href="classCreature.html#aa957c7087f200c7b37f8ed06f891cac6">get_all_body_parts_of_type</a>( part_type ) );</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;}</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160; </div>
<div class="line"><a name="l02691"></a><span class="lineno"><a class="line" href="classCreature.html#a5f38a3e25013f09f73c69206201553d1"> 2691</a></span>&#160;std::vector&lt;bodypart_id&gt; <a class="code" href="classCreature.html#a5f38a3e25013f09f73c69206201553d1">Creature::get_all_body_parts_with_flag</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">json_character_flag</a> &amp;flag )<span class="keyword"></span></div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;<span class="keyword">const</span></div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    std::vector&lt;bodypart_id&gt; bodyparts;</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160; </div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;elem : <a class="code" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a> ) {</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;        <span class="keywordflow">if</span>( elem.first-&gt;has_flag( flag ) ) {</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;            bodyparts.emplace_back( elem.first );</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;        }</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    }</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    <span class="keywordflow">return</span> bodyparts;</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;}</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160; </div>
<div class="line"><a name="l02704"></a><span class="lineno"><a class="line" href="classCreature.html#ac380c4fbe0ac80511f51477a4ea52846"> 2704</a></span>&#160;<a class="code" href="classbody__part__set.html">body_part_set</a> <a class="code" href="classCreature.html#ac380c4fbe0ac80511f51477a4ea52846">Creature::get_drenching_body_parts</a>( <span class="keywordtype">bool</span> upper, <span class="keywordtype">bool</span> mid, <span class="keywordtype">bool</span> lower )<span class="keyword"> const</span></div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    <a class="code" href="classbody__part__set.html">body_part_set</a> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;    <span class="comment">// Need to exclude stuff - start full and reduce?</span></div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;    <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.fill( <a class="code" href="classCreature.html#a4537397ede1aea8ecec28183252aabe3">get_all_body_parts</a>() );</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;    <span class="comment">// Diving</span></div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;    <span class="keywordflow">if</span>( upper &amp;&amp; mid &amp;&amp; lower ) {</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;    }</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;    <a class="code" href="classbody__part__set.html">body_part_set</a> upper_limbs;</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    <a class="code" href="classbody__part__set.html">body_part_set</a> lower_limbs;</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    upper_limbs.<a class="code" href="classbody__part__set.html#afe9ad0949dc3ee2b24dd009295fe9460">fill</a>( <a class="code" href="classCreature.html#a5f38a3e25013f09f73c69206201553d1">get_all_body_parts_with_flag</a>( <a class="code" href="creature_8cpp.html#a76049efadb04062924a687ab0a16a0e6">json_flag_LIMB_UPPER</a> ) );</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    lower_limbs.<a class="code" href="classbody__part__set.html#afe9ad0949dc3ee2b24dd009295fe9460">fill</a>( <a class="code" href="classCreature.html#a5f38a3e25013f09f73c69206201553d1">get_all_body_parts_with_flag</a>( <a class="code" href="creature_8cpp.html#a37e9489598e65e89dc71e28cb45c30f5">json_flag_LIMB_LOWER</a> ) );</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    <span class="comment">// Rain?</span></div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;    <span class="keywordflow">if</span>( upper &amp;&amp; mid ) {</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.substract_set( lower_limbs );</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;    }</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <span class="comment">// Swimming with your head out</span></div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;    <span class="keywordflow">if</span>( !upper ) {</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.substract_set( upper_limbs );</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    }</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;    <span class="comment">// Wading in water</span></div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    <span class="keywordflow">if</span>( !upper &amp;&amp; !mid &amp;&amp; lower ) {</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = lower_limbs;</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;    }</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;}</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160; </div>
<div class="line"><a name="l02732"></a><span class="lineno"><a class="line" href="classCreature.html#ac3003f3854c9f0e439092c44dffb30af"> 2732</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#ac3003f3854c9f0e439092c44dffb30af">Creature::get_num_body_parts_of_type</a>( <a class="code" href="structbody__part__type.html#a5c9ac1217c128e0f487b2f460dd3fad1">body_part_type::type</a> part_type )<span class="keyword"> const</span></div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classCreature.html#aa957c7087f200c7b37f8ed06f891cac6">get_all_body_parts_of_type</a>( part_type ).size() );</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;}</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160; </div>
<div class="line"><a name="l02737"></a><span class="lineno"><a class="line" href="classCreature.html#a16903f8a1c2df84a4c2c09e40750c347"> 2737</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a16903f8a1c2df84a4c2c09e40750c347">Creature::get_num_broken_body_parts_of_type</a>( <a class="code" href="structbody__part__type.html#a5c9ac1217c128e0f487b2f460dd3fad1">body_part_type::type</a> part_type )<span class="keyword"> const</span></div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = 0;</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> : <a class="code" href="classCreature.html#aa957c7087f200c7b37f8ed06f891cac6">get_all_body_parts_of_type</a>( part_type ) ) {</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#ab901ee8b150fdad01ff2028ec8dba84c">get_part_hp_cur</a>( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> ) == 0 ) {</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;            <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>++;</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;        }</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;    }</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;}</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160; </div>
<div class="line"><a name="l02748"></a><span class="lineno"><a class="line" href="classCreature.html#a94737d93f30cee269b2df71478ee29fd"> 2748</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#ab1bef04dffb96ab1ad30472fd2895a08">Creature::get_hp</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> != <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>() ) {</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classCreature.html#ab901ee8b150fdad01ff2028ec8dba84c">get_part_hp_cur</a>( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    }</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    <span class="keywordtype">int</span> hp_total = 0;</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;elem : <a class="code" href="classCreature.html#ac4dbde454c86b3296f53681c60612974">get_body</a>() ) {</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;        hp_total += elem.second.get_hp_cur();</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;    }</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;    <span class="keywordflow">return</span> hp_total;</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;}</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160; </div>
<div class="line"><a name="l02760"></a><span class="lineno"><a class="line" href="classCreature.html#ab1bef04dffb96ab1ad30472fd2895a08"> 2760</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#ab1bef04dffb96ab1ad30472fd2895a08">Creature::get_hp</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#ab1bef04dffb96ab1ad30472fd2895a08">get_hp</a>( <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>() );</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;}</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160; </div>
<div class="line"><a name="l02765"></a><span class="lineno"><a class="line" href="classCreature.html#a6e1819fd37a50af66566c6d1b896572a"> 2765</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561">Creature::get_hp_max</a>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> != <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>() ) {</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classCreature.html#aad6dc5532f233030d367ed67e0ea6613">get_part_hp_max</a>( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    }</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;    <span class="keywordtype">int</span> hp_total = 0;</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;elem : <a class="code" href="classCreature.html#ac4dbde454c86b3296f53681c60612974">get_body</a>() ) {</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;        hp_total += elem.second.get_hp_max();</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;    }</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;    <span class="keywordflow">return</span> hp_total;</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;}</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160; </div>
<div class="line"><a name="l02777"></a><span class="lineno"><a class="line" href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561"> 2777</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561">Creature::get_hp_max</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561">get_hp_max</a>( <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>() );</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;}</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160; </div>
<div class="line"><a name="l02782"></a><span class="lineno"><a class="line" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b"> 2782</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">Creature::get_speed_base</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a4d6cd41ef532de75cb9bb2aadcc68f06">speed_base</a>;</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;}</div>
<div class="line"><a name="l02786"></a><span class="lineno"><a class="line" href="classCreature.html#a35bbfb9c042ed3cf7e0ae9b7280384c4"> 2786</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a35bbfb9c042ed3cf7e0ae9b7280384c4">Creature::get_speed_bonus</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#ae668a71c7a468fe4753374d3d51481bb">speed_bonus</a>;</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;}</div>
<div class="line"><a name="l02790"></a><span class="lineno"><a class="line" href="classCreature.html#ab7f9ca1f62f41d70a2615dfeb17b7cbc"> 2790</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classCreature.html#ab7f9ca1f62f41d70a2615dfeb17b7cbc">Creature::get_dodge_bonus</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#adbb994679f77dfa6b446c0d36961c6a2">dodge_bonus</a>;</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;}</div>
<div class="line"><a name="l02794"></a><span class="lineno"><a class="line" href="classCreature.html#a282e131a72c19f24c7f0a56323b47ecb"> 2794</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a282e131a72c19f24c7f0a56323b47ecb">Creature::get_block_bonus</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#ab0206ab4bdb7c990e917cb5240d2a470">block_bonus</a>; <span class="comment">//base is 0</span></div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;}</div>
<div class="line"><a name="l02798"></a><span class="lineno"><a class="line" href="classCreature.html#a06ca4f66498062afc881d76b82946bac"> 2798</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classCreature.html#a06ca4f66498062afc881d76b82946bac">Creature::get_hit_bonus</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a7bb35215732acc025692d329fb3e2e13">hit_bonus</a>; <span class="comment">//base is 0</span></div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;}</div>
<div class="line"><a name="l02802"></a><span class="lineno"><a class="line" href="classCreature.html#a165ad6f73178b7840a12775951638aaa"> 2802</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a165ad6f73178b7840a12775951638aaa">Creature::get_bash_bonus</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#af545ccf591070589820935240837e2f1">bash_bonus</a>;</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;}</div>
<div class="line"><a name="l02806"></a><span class="lineno"><a class="line" href="classCreature.html#a3fa1e5c6f9129b59d4938a9505b5e5ce"> 2806</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a3fa1e5c6f9129b59d4938a9505b5e5ce">Creature::get_cut_bonus</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a6d2e7dffa9969ce9a65582cdfec7b0a6">cut_bonus</a>;</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;}</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160; </div>
<div class="line"><a name="l02811"></a><span class="lineno"><a class="line" href="classCreature.html#a3e13eef080dac3d3ba5bfc5e38b501df"> 2811</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classCreature.html#a3e13eef080dac3d3ba5bfc5e38b501df">Creature::get_bash_mult</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a47f1514886a2391eef7544a6aa2032b8">bash_mult</a>;</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;}</div>
<div class="line"><a name="l02815"></a><span class="lineno"><a class="line" href="classCreature.html#a97123d70cd215ca43735d5516df5806b"> 2815</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classCreature.html#a97123d70cd215ca43735d5516df5806b">Creature::get_cut_mult</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#afa9fd9bde984c1885a01f1c9b5bb9768">cut_mult</a>;</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;}</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160; </div>
<div class="line"><a name="l02820"></a><span class="lineno"><a class="line" href="classCreature.html#a9815c564e7ff4db1ccd4b58c94bbcf61"> 2820</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a9815c564e7ff4db1ccd4b58c94bbcf61">Creature::get_melee_quiet</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a9c689698d40571b61622e3bec6cf36a7">melee_quiet</a>;</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;}</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160; </div>
<div class="line"><a name="l02825"></a><span class="lineno"><a class="line" href="classCreature.html#a79480b5d63f82bec8d923844e2095bd2"> 2825</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classCreature.html#a79480b5d63f82bec8d923844e2095bd2">Creature::get_throw_resist</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#ad13bdca3773955224f3bac4591fb5ecd">throw_resist</a>;</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;}</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160; </div>
<div class="line"><a name="l02830"></a><span class="lineno"><a class="line" href="classCreature.html#aafc0c68bbbca5efcf8d82a321b657588"> 2830</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#aafc0c68bbbca5efcf8d82a321b657588">Creature::mod_stat</a>( <span class="keyword">const</span> std::string &amp;stat, <span class="keywordtype">float</span> modifier )</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;{</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;    <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;speed&quot;</span> ) {</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;        <a class="code" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">mod_speed_bonus</a>( modifier );</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;dodge&quot;</span> ) {</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;        <a class="code" href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048">mod_dodge_bonus</a>( modifier );</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;block&quot;</span> ) {</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;        <a class="code" href="classCreature.html#a73dcd9331c055a2cd05d05be0337257d">mod_block_bonus</a>( modifier );</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;hit&quot;</span> ) {</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;        <a class="code" href="classCreature.html#a089a7123da50e5ffa294e86e0d8dacd6">mod_hit_bonus</a>( modifier );</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;bash&quot;</span> ) {</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;        <a class="code" href="classCreature.html#a23eee2ee9fde4c48750f12ab70fe45c5">mod_bash_bonus</a>( modifier );</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;cut&quot;</span> ) {</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;        <a class="code" href="classCreature.html#af537fe5ecb67408c498ee4517b4ab603">mod_cut_bonus</a>( modifier );</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;pain&quot;</span> ) {</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;        <a class="code" href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54">mod_pain</a>( modifier );</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;moves&quot;</span> ) {</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;        <a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( modifier );</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to modify a nonexistent stat %s.&quot;</span>, stat.c_str() );</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;    }</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;}</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160; </div>
<div class="line"><a name="l02853"></a><span class="lineno"><a class="line" href="classCreature.html#aaed992e8acaf0e9dc182ea8ce1d15423"> 2853</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#aaed992e8acaf0e9dc182ea8ce1d15423">Creature::set_num_blocks_bonus</a>( <span class="keywordtype">int</span> nblocks )</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;{</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;    <a class="code" href="classCreature.html#ad773414b7104cae9ac1df7404528a956">num_blocks_bonus</a> = nblocks;</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;}</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160; </div>
<div class="line"><a name="l02858"></a><span class="lineno"><a class="line" href="classCreature.html#a5dfa3bcb8b83066e4de203238274276d"> 2858</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a5dfa3bcb8b83066e4de203238274276d">Creature::mod_num_blocks_bonus</a>( <span class="keywordtype">int</span> nblocks )</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;{</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;    <a class="code" href="classCreature.html#ad773414b7104cae9ac1df7404528a956">num_blocks_bonus</a> += nblocks;</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;}</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160; </div>
<div class="line"><a name="l02863"></a><span class="lineno"><a class="line" href="classCreature.html#adffc2b92625bf6103e3e2f95c3a404c3"> 2863</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#adffc2b92625bf6103e3e2f95c3a404c3">Creature::mod_num_dodges_bonus</a>( <span class="keywordtype">int</span> ndodges )</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;{</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;    <a class="code" href="classCreature.html#a4945480df006184bdaf4b5b41ba976ea">num_dodges_bonus</a> += ndodges;</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;}</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160; </div>
<div class="line"><a name="l02868"></a><span class="lineno"><a class="line" href="classCreature.html#aa54d9cad484861b5ead6aed8c1abfa0e"> 2868</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#aa54d9cad484861b5ead6aed8c1abfa0e">Creature::set_armor_res_bonus</a>( <span class="keywordtype">int</span> narm, <span class="keyword">const</span> <a class="code" href="classstring__id.html">damage_type_id</a> &amp;dt )</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;{</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;    <a class="code" href="classCreature.html#a85906b1aaa87603a52024d4dd68a075a">armor_bonus</a>[dt] = narm;</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;}</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160; </div>
<div class="line"><a name="l02873"></a><span class="lineno"><a class="line" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa"> 2873</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">Creature::set_speed_base</a>( <span class="keywordtype">int</span> nspeed )</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;{</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;    <a class="code" href="classCreature.html#a4d6cd41ef532de75cb9bb2aadcc68f06">speed_base</a> = nspeed;</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;}</div>
<div class="line"><a name="l02877"></a><span class="lineno"><a class="line" href="classCreature.html#a81fd71e521e09908425fc63a64458f59"> 2877</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a81fd71e521e09908425fc63a64458f59">Creature::set_speed_bonus</a>( <span class="keywordtype">int</span> nspeed )</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;{</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;    <a class="code" href="classCreature.html#ae668a71c7a468fe4753374d3d51481bb">speed_bonus</a> = nspeed;</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;}</div>
<div class="line"><a name="l02881"></a><span class="lineno"><a class="line" href="classCreature.html#a7e9c58c5ee7f2c5780abe8f90bdd6608"> 2881</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a7e9c58c5ee7f2c5780abe8f90bdd6608">Creature::set_dodge_bonus</a>( <span class="keywordtype">float</span> ndodge )</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;{</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    <a class="code" href="classCreature.html#adbb994679f77dfa6b446c0d36961c6a2">dodge_bonus</a> = ndodge;</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;}</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160; </div>
<div class="line"><a name="l02886"></a><span class="lineno"><a class="line" href="classCreature.html#a9993b4cb7492f25fb6eb70568009d90a"> 2886</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a9993b4cb7492f25fb6eb70568009d90a">Creature::set_block_bonus</a>( <span class="keywordtype">int</span> nblock )</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;{</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    <a class="code" href="classCreature.html#ab0206ab4bdb7c990e917cb5240d2a470">block_bonus</a> = nblock;</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;}</div>
<div class="line"><a name="l02890"></a><span class="lineno"><a class="line" href="classCreature.html#a1258aef238c0dbd5dd72427a73ab0714"> 2890</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a1258aef238c0dbd5dd72427a73ab0714">Creature::set_hit_bonus</a>( <span class="keywordtype">float</span> nhit )</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;{</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;    <a class="code" href="classCreature.html#a7bb35215732acc025692d329fb3e2e13">hit_bonus</a> = nhit;</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;}</div>
<div class="line"><a name="l02894"></a><span class="lineno"><a class="line" href="classCreature.html#aa00c327b305717936ecf94eda194e3cc"> 2894</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#aa00c327b305717936ecf94eda194e3cc">Creature::set_bash_bonus</a>( <span class="keywordtype">int</span> nbash )</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;{</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    <a class="code" href="classCreature.html#af545ccf591070589820935240837e2f1">bash_bonus</a> = nbash;</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;}</div>
<div class="line"><a name="l02898"></a><span class="lineno"><a class="line" href="classCreature.html#a9332a74096bf822b7f9438e0098c4c1f"> 2898</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a9332a74096bf822b7f9438e0098c4c1f">Creature::set_cut_bonus</a>( <span class="keywordtype">int</span> ncut )</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;{</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    <a class="code" href="classCreature.html#a6d2e7dffa9969ce9a65582cdfec7b0a6">cut_bonus</a> = ncut;</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;}</div>
<div class="line"><a name="l02902"></a><span class="lineno"><a class="line" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682"> 2902</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">Creature::mod_speed_bonus</a>( <span class="keywordtype">int</span> nspeed )</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;{</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    <a class="code" href="classCreature.html#ae668a71c7a468fe4753374d3d51481bb">speed_bonus</a> += nspeed;</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;}</div>
<div class="line"><a name="l02906"></a><span class="lineno"><a class="line" href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048"> 2906</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048">Creature::mod_dodge_bonus</a>( <span class="keywordtype">float</span> ndodge )</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;{</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <a class="code" href="classCreature.html#adbb994679f77dfa6b446c0d36961c6a2">dodge_bonus</a> += ndodge;</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;}</div>
<div class="line"><a name="l02910"></a><span class="lineno"><a class="line" href="classCreature.html#a73dcd9331c055a2cd05d05be0337257d"> 2910</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a73dcd9331c055a2cd05d05be0337257d">Creature::mod_block_bonus</a>( <span class="keywordtype">int</span> nblock )</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;{</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;    <a class="code" href="classCreature.html#ab0206ab4bdb7c990e917cb5240d2a470">block_bonus</a> += nblock;</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;}</div>
<div class="line"><a name="l02914"></a><span class="lineno"><a class="line" href="classCreature.html#a089a7123da50e5ffa294e86e0d8dacd6"> 2914</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a089a7123da50e5ffa294e86e0d8dacd6">Creature::mod_hit_bonus</a>( <span class="keywordtype">float</span> nhit )</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;{</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;    <a class="code" href="classCreature.html#a7bb35215732acc025692d329fb3e2e13">hit_bonus</a> += nhit;</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;}</div>
<div class="line"><a name="l02918"></a><span class="lineno"><a class="line" href="classCreature.html#a23eee2ee9fde4c48750f12ab70fe45c5"> 2918</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a23eee2ee9fde4c48750f12ab70fe45c5">Creature::mod_bash_bonus</a>( <span class="keywordtype">int</span> nbash )</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;{</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;    <a class="code" href="classCreature.html#af545ccf591070589820935240837e2f1">bash_bonus</a> += nbash;</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;}</div>
<div class="line"><a name="l02922"></a><span class="lineno"><a class="line" href="classCreature.html#af537fe5ecb67408c498ee4517b4ab603"> 2922</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#af537fe5ecb67408c498ee4517b4ab603">Creature::mod_cut_bonus</a>( <span class="keywordtype">int</span> ncut )</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;{</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;    <a class="code" href="classCreature.html#a6d2e7dffa9969ce9a65582cdfec7b0a6">cut_bonus</a> += ncut;</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;}</div>
<div class="line"><a name="l02926"></a><span class="lineno"><a class="line" href="classCreature.html#a3f6ab734f2a1291f27a2b0b206f3b5c1"> 2926</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a3f6ab734f2a1291f27a2b0b206f3b5c1">Creature::mod_size_bonus</a>( <span class="keywordtype">int</span> nsize )</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;{</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;    nsize = <a class="code" href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a>( nsize, <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a> - <a class="code" href="classCreature.html#ac9fd76782cca4157eda2afcb7d66f02e">get_size</a>(), <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a> - <a class="code" href="classCreature.html#ac9fd76782cca4157eda2afcb7d66f02e">get_size</a>() );</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;    <a class="code" href="classCreature.html#a09d744e753389b85555df87d01f19bf0">size_bonus</a> += nsize;</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;}</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160; </div>
<div class="line"><a name="l02932"></a><span class="lineno"><a class="line" href="classCreature.html#a3cb13c880d433e508e6101eae249ee92"> 2932</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a3cb13c880d433e508e6101eae249ee92">Creature::set_bash_mult</a>( <span class="keywordtype">float</span> nbashmult )</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;{</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    <a class="code" href="classCreature.html#a47f1514886a2391eef7544a6aa2032b8">bash_mult</a> = nbashmult;</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;}</div>
<div class="line"><a name="l02936"></a><span class="lineno"><a class="line" href="classCreature.html#abf59bb0bd44c13a69222fb9d9f7796ab"> 2936</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#abf59bb0bd44c13a69222fb9d9f7796ab">Creature::set_cut_mult</a>( <span class="keywordtype">float</span> ncutmult )</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;{</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;    <a class="code" href="classCreature.html#afa9fd9bde984c1885a01f1c9b5bb9768">cut_mult</a> = ncutmult;</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;}</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160; </div>
<div class="line"><a name="l02941"></a><span class="lineno"><a class="line" href="classCreature.html#a6fa8727907a0dc765764ad5edf320ab7"> 2941</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a6fa8727907a0dc765764ad5edf320ab7">Creature::set_melee_quiet</a>( <span class="keywordtype">bool</span> nquiet )</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;{</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;    <a class="code" href="classCreature.html#a9c689698d40571b61622e3bec6cf36a7">melee_quiet</a> = nquiet;</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;}</div>
<div class="line"><a name="l02945"></a><span class="lineno"><a class="line" href="classCreature.html#a4d1bca3e7997343b8bbffd7d7257edad"> 2945</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a4d1bca3e7997343b8bbffd7d7257edad">Creature::set_throw_resist</a>( <span class="keywordtype">int</span> nthrowres )</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;{</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;    <a class="code" href="classCreature.html#ad13bdca3773955224f3bac4591fb5ecd">throw_resist</a> = nthrowres;</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;}</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160; </div>
<div class="line"><a name="l02950"></a><span class="lineno"><a class="line" href="classCreature.html#a3abf87ed21086c0a4ea2c6da9aef08cd"> 2950</a></span>&#160;<a class="code" href="classunits_1_1quantity.html">units::mass</a> <a class="code" href="classCreature.html#a3abf87ed21086c0a4ea2c6da9aef08cd">Creature::weight_capacity</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::mass</a> base_carry = 13_kilogram;</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;    <span class="keywordflow">switch</span>( <a class="code" href="classCreature.html#ac9fd76782cca4157eda2afcb7d66f02e">get_size</a>() ) {</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a>:</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;            base_carry /= 4;</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">creature_size::small</a>:</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;            base_carry /= 2;</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a>:</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a>:</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;            base_carry *= 2;</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a>:</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;            base_carry *= 4;</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;    }</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160; </div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;    <span class="keywordflow">return</span> base_carry;</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;}</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160; </div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;<span class="comment"> * Drawing-related functions</span></div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02977"></a><span class="lineno"><a class="line" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316"> 2977</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">Creature::draw</a>( <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> &amp;<a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, <span class="keywordtype">bool</span> inverted )<span class="keyword"> const</span></div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;    <a class="code" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">draw</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>( <a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() ), inverted );</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;}</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160; </div>
<div class="line"><a name="l02982"></a><span class="lineno"><a class="line" href="classCreature.html#ac9bcfd9fd983268a76a178dc61869d52"> 2982</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">Creature::draw</a>( <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;<a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, <span class="keywordtype">bool</span> inverted )<span class="keyword"> const</span></div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#a734462f5e51e4a40374f3e301f0b847c">is_draw_tiles_mode</a>() ) {</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;    }</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160; </div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;    <a class="code" href="structpoint.html">point</a> <a class="code" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">draw</a>( -<a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>.xy() + <a class="code" href="structpoint.html">point</a>( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) / 2 + <a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>(), <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w ) / 2 + <a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>() ) );</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;    <span class="keywordflow">if</span>( inverted ) {</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;        <a class="code" href="output_8cpp.html#a8032083aedcd06543ba48b487844ca4b">mvwputch_inv</a>( w, <a class="code" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">draw</a>, <a class="code" href="classCreature.html#ae5454f0e4db71d31ab3c1331e5103a4b">basic_symbol_color</a>(), <a class="code" href="classCreature.html#af159bc6bc0d82e5eec0cf7beca25b795">symbol</a>() );</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a9eea7f2ab169160c6d6fc2a7d93c96f1">is_symbol_highlighted</a>() ) {</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;        <a class="code" href="output_8cpp.html#ae5dd6b0452233905e03a18f54b721f99">mvwputch_hi</a>( w, <a class="code" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">draw</a>, <a class="code" href="classCreature.html#ae5454f0e4db71d31ab3c1331e5103a4b">basic_symbol_color</a>(), <a class="code" href="classCreature.html#af159bc6bc0d82e5eec0cf7beca25b795">symbol</a>() );</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">draw</a>, <a class="code" href="classCreature.html#ac05b5c462926b4f5b329e7b2826f8ce7">symbol_color</a>(), <a class="code" href="classCreature.html#af159bc6bc0d82e5eec0cf7beca25b795">symbol</a>() );</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;    }</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;}</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160; </div>
<div class="line"><a name="l02998"></a><span class="lineno"><a class="line" href="classCreature.html#a9eea7f2ab169160c6d6fc2a7d93c96f1"> 2998</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classCreature.html#a9eea7f2ab169160c6d6fc2a7d93c96f1">Creature::is_symbol_highlighted</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;}</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160; </div>
<div class="line"><a name="l03003"></a><span class="lineno"><a class="line" href="classCreature.html#add5b4e52817f260a96ddcfdea6d4585e"> 3003</a></span>&#160;std::unordered_map&lt;std::string, std::string&gt; &amp;<a class="code" href="classCreature.html#add5b4e52817f260a96ddcfdea6d4585e">Creature::get_values</a>()</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;{</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a69d20ce599ed8aa0780a4677c14228f9">values</a>;</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;}</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160; </div>
<div class="line"><a name="l03008"></a><span class="lineno"><a class="line" href="classCreature.html#a02bfe7dfc1d4636ba78e427102c24810"> 3008</a></span>&#160;<a class="code" href="classint__id.html">bodypart_id</a> <a class="code" href="classCreature.html#a02bfe7dfc1d4636ba78e427102c24810">Creature::get_max_hitsize_bodypart</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classanatomy.html">anatomy</a>( <a class="code" href="classCreature.html#a4537397ede1aea8ecec28183252aabe3">get_all_body_parts</a>() ).<a class="code" href="classanatomy.html#a301594550819820194422e6941f80b89">get_max_hitsize_bodypart</a>();</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;}</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160; </div>
<div class="line"><a name="l03013"></a><span class="lineno"><a class="line" href="classCreature.html#afa48ff59c517a5e07e7dfc702b16007c"> 3013</a></span>&#160;<a class="code" href="classint__id.html">bodypart_id</a> <a class="code" href="classCreature.html#afa48ff59c517a5e07e7dfc702b16007c">Creature::select_body_part</a>( <span class="keywordtype">int</span> min_hit, <span class="keywordtype">int</span> max_hit, <span class="keywordtype">bool</span> can_attack_high,</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;                                        <span class="keywordtype">int</span> hit_roll )<span class="keyword"> const</span></div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2abfaaa89a847b37d4136e73a0f868c55a">debugmode::DF_CREATURE</a>, <span class="stringliteral">&quot;hit roll = %d&quot;</span>, <a class="code" href="classCreature.html#ae92d2444aa89afae41c107cf6fcf6851">hit_roll</a> );</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classCreature.html#a07012d6d1998068bef112510c7424374">is_monster</a>() &amp;&amp; !<a class="code" href="classCreature.html#a286e7a58c2eb60f8fdc15b4d0d2e7888">can_attack_high</a> ) {</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;        <a class="code" href="classCreature.html#a286e7a58c2eb60f8fdc15b4d0d2e7888">can_attack_high</a> = <a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>()-&gt;<a class="code" href="classCharacter.html#a3f82f3257619099e3b2e3103777a703a">is_on_ground</a>();</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;    }</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160; </div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classanatomy.html">anatomy</a>( <a class="code" href="classCreature.html#a4537397ede1aea8ecec28183252aabe3">get_all_body_parts</a>() ).<a class="code" href="classanatomy.html#ad1a4c1588b5c49ca3d6ba67ea5f72d2c">select_body_part</a>( min_hit, max_hit, <a class="code" href="classCreature.html#a286e7a58c2eb60f8fdc15b4d0d2e7888">can_attack_high</a>,</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;            <a class="code" href="classCreature.html#ae92d2444aa89afae41c107cf6fcf6851">hit_roll</a> );</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;}</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160; </div>
<div class="line"><a name="l03025"></a><span class="lineno"><a class="line" href="classCreature.html#aeddcbc266445b335911f12f216f56cbb"> 3025</a></span>&#160;<a class="code" href="classint__id.html">bodypart_id</a> <a class="code" href="classCreature.html#aeddcbc266445b335911f12f216f56cbb">Creature::select_blocking_part</a>( <span class="keywordtype">bool</span> arm, <span class="keywordtype">bool</span> leg, <span class="keywordtype">bool</span> nonstandard )<span class="keyword"> const</span></div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classanatomy.html">anatomy</a>( <a class="code" href="classCreature.html#a4537397ede1aea8ecec28183252aabe3">get_all_body_parts</a>() ).<a class="code" href="classanatomy.html#a9abee0359e7a698fef47a132564829ee">select_blocking_part</a>( <span class="keyword">this</span>, arm, leg, nonstandard );</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;}</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160; </div>
<div class="line"><a name="l03030"></a><span class="lineno"><a class="line" href="classCreature.html#a393c7e306d5a59d54da4224bf183f447"> 3030</a></span>&#160;<a class="code" href="classint__id.html">bodypart_id</a> <a class="code" href="classCreature.html#a393c7e306d5a59d54da4224bf183f447">Creature::random_body_part</a>( <span class="keywordtype">bool</span> main_parts_only )<span class="keyword"> const</span></div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;    <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> = <a class="code" href="classCreature.html#a59d8ead2387b3b99cb2e88c5f1858e17">get_anatomy</a>()-&gt;<a class="code" href="classanatomy.html#abae9f237437b7f56f5efbd6983706324">random_body_part</a>();</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;    <span class="keywordflow">return</span>  main_parts_only ? <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>-&gt;<a class="code" href="structbody__part__type.html#ab88f4c72186cad27609e877dd46d2c33">main_part</a> : <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> ;</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;}</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160; </div>
<div class="line"><a name="l03036"></a><span class="lineno"><a class="line" href="classCreature.html#a9df0a066b29a8eedfa048fde96a19a1f"> 3036</a></span>&#160;std::vector&lt;bodypart_id&gt; <a class="code" href="classCreature.html#a9df0a066b29a8eedfa048fde96a19a1f">Creature::get_all_eligable_parts</a>( <span class="keywordtype">int</span> min_hit, <span class="keywordtype">int</span> max_hit,</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;        <span class="keywordtype">bool</span> can_attack_high )<span class="keyword"> const</span></div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classanatomy.html">anatomy</a>( <a class="code" href="classCreature.html#a4537397ede1aea8ecec28183252aabe3">get_all_body_parts</a>() ).<a class="code" href="classanatomy.html#af43b349aca8f1e44b6a244ee80ae1286">get_all_eligable_parts</a>( min_hit, max_hit, <a class="code" href="classCreature.html#a286e7a58c2eb60f8fdc15b4d0d2e7888">can_attack_high</a> );</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;}</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160; </div>
<div class="line"><a name="l03042"></a><span class="lineno"><a class="line" href="classCreature.html#a85f7bb2576d6f38d117b3714c1e94dee"> 3042</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a85f7bb2576d6f38d117b3714c1e94dee">Creature::add_damage_over_time</a>( <span class="keyword">const</span> <a class="code" href="classdamage__over__time__data.html">damage_over_time_data</a> &amp;DoT )</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;{</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    <a class="code" href="classCreature.html#a4b567c966e178753b792c7ce91c3be26">damage_over_time_map</a>.emplace_back( DoT );</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;}</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160; </div>
<div class="line"><a name="l03047"></a><span class="lineno"><a class="line" href="classCreature.html#a6012e6dfc9a77e5771ad4b070b52f313"> 3047</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a6012e6dfc9a77e5771ad4b070b52f313">Creature::process_damage_over_time</a>()</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;{</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> DoT = <a class="code" href="classCreature.html#a4b567c966e178753b792c7ce91c3be26">damage_over_time_map</a>.begin(); DoT != <a class="code" href="classCreature.html#a4b567c966e178753b792c7ce91c3be26">damage_over_time_map</a>.end(); ) {</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;        <span class="keywordflow">if</span>( DoT-&gt;duration &gt; 0_turns ) {</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">bodypart_str_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> : DoT-&gt;bps ) {</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> dmg_amount = DoT-&gt;amount;</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;                <span class="keywordflow">if</span>( dmg_amount &lt; 0 ) {</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;                    <a class="code" href="classCreature.html#a4c2579763d3f6f47255fbe1068443b75">heal_bp</a>( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>(), -dmg_amount );</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( dmg_amount &gt; 0 ) {</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;                    <a class="code" href="classCreature.html#af1f141f381984e2d0f119dc94429f1d3">deal_damage</a>( <span class="keyword">nullptr</span>, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>(), <a class="code" href="structdamage__instance.html">damage_instance</a>( DoT-&gt;type, dmg_amount ) );</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;                }</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;            }</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;            DoT-&gt;duration -= 1_turns;</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;            ++DoT;</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;            DoT = <a class="code" href="classCreature.html#a4b567c966e178753b792c7ce91c3be26">damage_over_time_map</a>.erase( DoT );</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;        }</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;    }</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;}</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160; </div>
<div class="line"><a name="l03067"></a><span class="lineno"><a class="line" href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158"> 3067</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158">Creature::check_dead_state</a>()</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;{</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#ab4c318885f6b9947a7c85d3328d25ffe">is_dead_state</a>() ) {</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;        <a class="code" href="classCreature.html#a330dad28f732a1cf3af695eedb54877d">die</a>( <a class="code" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a> );</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;    }</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;}</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160; </div>
<div class="line"><a name="l03074"></a><span class="lineno"><a class="line" href="classCreature.html#ad628fd3820652dc675e2165d3252e6dc"> 3074</a></span>&#160;std::string <a class="code" href="classCreature.html#ad628fd3820652dc675e2165d3252e6dc">Creature::attitude_raw_string</a>( <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217">Attitude</a> att )</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;{</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;    <span class="keywordflow">switch</span>( att ) {</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Attitude::HOSTILE</a>:</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;hostile&quot;</span>;</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217a31ba17aa58cdb681423f07ca21a6efc7">Attitude::NEUTRAL</a>:</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;neutral&quot;</span>;</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Attitude::FRIENDLY</a>:</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;friendly&quot;</span>;</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;other&quot;</span>;</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;    }</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;}</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160; </div>
<div class="line"><a name="l03088"></a><span class="lineno"><a class="line" href="classCreature.html#a025b4f9c24e557111c1501d2d7aaccef"> 3088</a></span>&#160;<span class="keyword">const</span> std::pair&lt;translation, nc_color&gt; &amp;<a class="code" href="classCreature.html#a025b4f9c24e557111c1501d2d7aaccef">Creature::get_attitude_ui_data</a>( <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217">Attitude</a> att )</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;{</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    <span class="keyword">using</span> pair_t = std::pair&lt;translation, nc_color&gt;;</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> std::array&lt;pair_t, 5&gt; strings {</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;        {</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;            pair_t {<a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Hostile&quot;</span> ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>},</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;            pair_t {<a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Neutral&quot;</span> ), <a class="code" href="color_8h.html#a995c6d4982f304048812605b34fb31cb">h_white</a>},</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;            pair_t {<a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Friendly&quot;</span> ), <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a>},</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;            pair_t {<a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Any&quot;</span> ), <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>},</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;            pair_t {<a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;BUG: Behavior unnamed.  (Creature::get_attitude_ui_data)&quot;</span> ), <a class="code" href="color_8h.html#a59eb996497e69c762e67c0636fac348f">h_red</a>}</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;        }</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    };</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160; </div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;    <span class="keywordflow">if</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( att ) &lt; 0 || <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( att ) &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( strings.size() ) ) {</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;        <span class="keywordflow">return</span> strings.back();</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;    }</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160; </div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;    <span class="keywordflow">return</span> strings[<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( att )];</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;}</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160; </div>
<div class="line"><a name="l03108"></a><span class="lineno"><a class="line" href="classCreature.html#aabed1ac65b7fbd67cfb8a3252b16e67d"> 3108</a></span>&#160;std::string <a class="code" href="classCreature.html#aabed1ac65b7fbd67cfb8a3252b16e67d">Creature::replace_with_npc_name</a>( std::string input )<span class="keyword"> const</span></div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;    <a class="code" href="output_8cpp.html#a766210473cb3946ae371d21efe0ad279">replace_substring</a>( input, <span class="stringliteral">&quot;&lt;npcname&gt;&quot;</span>, <a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>(), <span class="keyword">true</span> );</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;    <span class="keywordflow">return</span> input;</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;}</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160; </div>
<div class="line"><a name="l03114"></a><span class="lineno"><a class="line" href="classCreature.html#aa39af83d946765e7e652fd66d50e807c"> 3114</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#aa39af83d946765e7e652fd66d50e807c">Creature::knock_back_from</a>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p )</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;{</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;    <span class="keywordflow">if</span>( p == <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) {</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// No effect</span></div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    }</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">is_hallucination</a>() ) {</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;        <a class="code" href="classCreature.html#a330dad28f732a1cf3af695eedb54877d">die</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    }</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> to = <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>();</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    <span class="keywordflow">if</span>( p.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> &lt; <a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>() ) {</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;        to.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a>++;</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;    }</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;    <span class="keywordflow">if</span>( p.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> &gt; <a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>() ) {</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;        to.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a>--;</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;    }</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;    <span class="keywordflow">if</span>( p.<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> &lt; <a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>() ) {</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;        to.<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>++;</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;    }</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;    <span class="keywordflow">if</span>( p.<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> &gt; <a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>() ) {</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;        to.<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>--;</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    }</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160; </div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;    <a class="code" href="classCreature.html#af79c1e1ef891477157860a3e31db8492">knock_back_to</a>( to );</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;}</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160; </div>
<div class="line"><a name="l03140"></a><span class="lineno"><a class="line" href="classCreature.html#a362ab9bed1655e6a8d89500c0a918151"> 3140</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">Creature::add_msg_if_player</a>( <span class="keyword">const</span> <a class="code" href="classtranslation.html">translation</a> &amp;msg )<span class="keyword"> const</span></div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( msg.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>() );</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;}</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160; </div>
<div class="line"><a name="l03145"></a><span class="lineno"><a class="line" href="classCreature.html#a9f53ca8ced4f6083f02d47ceef2aeb8b"> 3145</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">Creature::add_msg_if_player</a>( <span class="keyword">const</span> <a class="code" href="structgame__message__params.html">game_message_params</a> &amp;params, <span class="keyword">const</span> <a class="code" href="classtranslation.html">translation</a> &amp;msg )<span class="keyword"> const</span></div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( params, msg.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>() );</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;}</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160; </div>
<div class="line"><a name="l03150"></a><span class="lineno"><a class="line" href="classCreature.html#af3b0f9beac863a48f4e7b1b375ecc7cf"> 3150</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">Creature::add_msg_if_npc</a>( <span class="keyword">const</span> <a class="code" href="classtranslation.html">translation</a> &amp;msg )<span class="keyword"> const</span></div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a>( msg.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>() );</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;}</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160; </div>
<div class="line"><a name="l03155"></a><span class="lineno"><a class="line" href="classCreature.html#aff08a0fd32630c9d3ea6dd7320048028"> 3155</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">Creature::add_msg_if_npc</a>( <span class="keyword">const</span> <a class="code" href="structgame__message__params.html">game_message_params</a> &amp;params, <span class="keyword">const</span> <a class="code" href="classtranslation.html">translation</a> &amp;msg )<span class="keyword"> const</span></div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a>( params, msg.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>() );</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;}</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160; </div>
<div class="line"><a name="l03160"></a><span class="lineno"><a class="line" href="classCreature.html#a7b6938eb560ebd8f5d2518632c0d21ea"> 3160</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">Creature::add_msg_player_or_npc</a>( <span class="keyword">const</span> <a class="code" href="classtranslation.html">translation</a> &amp;pc, <span class="keyword">const</span> <a class="code" href="classtranslation.html">translation</a> &amp;<a class="code" href="classnpc.html">npc</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( pc.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>(), <a class="code" href="classnpc.html">npc</a>.translated() );</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;}</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160; </div>
<div class="line"><a name="l03165"></a><span class="lineno"><a class="line" href="classCreature.html#aba59f7f156a1a85ed266b0458fd6be2e"> 3165</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">Creature::add_msg_player_or_npc</a>( <span class="keyword">const</span> <a class="code" href="structgame__message__params.html">game_message_params</a> &amp;params, <span class="keyword">const</span> <a class="code" href="classtranslation.html">translation</a> &amp;pc,</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classtranslation.html">translation</a> &amp;<a class="code" href="classnpc.html">npc</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( params, pc.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>(), <a class="code" href="classnpc.html">npc</a>.translated() );</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;}</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160; </div>
<div class="line"><a name="l03171"></a><span class="lineno"><a class="line" href="classCreature.html#a44a4fc37b385760d28c9d1ef786ed7c9"> 3171</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a915f59d2cd13a723af0b26fba3703926">Creature::add_msg_player_or_say</a>( <span class="keyword">const</span> <a class="code" href="classtranslation.html">translation</a> &amp;pc, <span class="keyword">const</span> <a class="code" href="classtranslation.html">translation</a> &amp;<a class="code" href="classnpc.html">npc</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a915f59d2cd13a723af0b26fba3703926">add_msg_player_or_say</a>( pc.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>(), <a class="code" href="classnpc.html">npc</a>.translated() );</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;}</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160; </div>
<div class="line"><a name="l03176"></a><span class="lineno"><a class="line" href="classCreature.html#a5a71f490d521680c54e485b811129ca2"> 3176</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a915f59d2cd13a723af0b26fba3703926">Creature::add_msg_player_or_say</a>( <span class="keyword">const</span> <a class="code" href="structgame__message__params.html">game_message_params</a> &amp;params, <span class="keyword">const</span> <a class="code" href="classtranslation.html">translation</a> &amp;pc,</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classtranslation.html">translation</a> &amp;<a class="code" href="classnpc.html">npc</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a915f59d2cd13a723af0b26fba3703926">add_msg_player_or_say</a>( params, pc.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>(), <a class="code" href="classnpc.html">npc</a>.translated() );</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;}</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160; </div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;std::vector &lt;int&gt; <a class="code" href="classCreature.html#a73b9cb6320e4447addaec375887e7861">Creature::dispersion_for_even_chance_of_good_hit</a> = { {</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;        1731, 859, 573, 421, 341, 286, 245, 214, 191, 175,</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;        151, 143, 129, 118, 114, 107, 101, 94, 90, 78,</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;        78, 78, 74, 71, 68, 66, 62, 61, 59, 57,</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;        46, 46, 46, 46, 46, 46, 45, 45, 44, 42,</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;        41, 41, 39, 39, 38, 37, 36, 35, 34, 34,</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;        33, 33, 32, 30, 30, 30, 30, 29, 28</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    }</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;};</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160; </div>
<div class="line"><a name="l03192"></a><span class="lineno"><a class="line" href="classCreature.html#a1d0965e36bf4e849645d2d24c87cd5f0"> 3192</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a1d0965e36bf4e849645d2d24c87cd5f0">Creature::load_hit_range</a>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp;jo )</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;{</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">has_array</a>( <span class="stringliteral">&quot;even_good&quot;</span> ) ) {</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;        jo.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;even_good&quot;</span>, <a class="code" href="classCreature.html#a73b9cb6320e4447addaec375887e7861">dispersion_for_even_chance_of_good_hit</a> );</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;    }</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;}</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160; </div>
<div class="line"><a name="l03199"></a><span class="lineno"><a class="line" href="classCreature.html#a1eadbc3e5891d1ff578ac49291e12b66"> 3199</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a1eadbc3e5891d1ff578ac49291e12b66">Creature::describe_infrared</a>( std::vector&lt;std::string&gt; &amp;buf )<span class="keyword"> const</span></div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;    std::string size_str;</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;    <span class="keywordflow">switch</span>( <a class="code" href="classCreature.html#ac9fd76782cca4157eda2afcb7d66f02e">get_size</a>() ) {</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a>:</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;            size_str = <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;infrared size&quot;</span>, <span class="stringliteral">&quot;tiny&quot;</span> );</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">creature_size::small</a>:</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;            size_str = <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;infrared size&quot;</span>, <span class="stringliteral">&quot;small&quot;</span> );</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a>:</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;            size_str = <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;infrared size&quot;</span>, <span class="stringliteral">&quot;medium&quot;</span> );</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a>:</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;            size_str = <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;infrared size&quot;</span>, <span class="stringliteral">&quot;large&quot;</span> );</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a>:</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;            size_str = <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;infrared size&quot;</span>, <span class="stringliteral">&quot;huge&quot;</span> );</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aac651433a999fb14f71f6754f0199781">creature_size::num_sizes</a>:</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Creature has invalid size class.&quot;</span> );</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;            size_str = <span class="stringliteral">&quot;invalid&quot;</span>;</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    }</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;    buf.emplace_back( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You see a figure radiating heat.&quot;</span> ) );</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;    buf.push_back( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;It is %s in size.&quot;</span> ), size_str ) );</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;}</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160; </div>
<div class="line"><a name="l03227"></a><span class="lineno"><a class="line" href="classCreature.html#a6293c17885ef44d613618b4953a1be17"> 3227</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCreature.html#a6293c17885ef44d613618b4953a1be17">Creature::describe_specials</a>( std::vector&lt;std::string&gt; &amp;buf )<span class="keyword"> const</span></div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;    buf.emplace_back( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You sense a creature here.&quot;</span> ) );</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;}</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160; </div>
<div class="line"><a name="l03232"></a><span class="lineno"><a class="line" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b"> 3232</a></span>&#160;<a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">Creature::get_location</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a681e27e1004c58fcdf25adfdac5e9136">location</a>;</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;}</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160; </div>
<div class="line"><a name="l03237"></a><span class="lineno"><a class="line" href="classCreature.html#ac211737fb0fabb73b28d9aee3922ae50"> 3237</a></span>&#160;<a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_sm</a> <a class="code" href="classCreature.html#ac211737fb0fabb73b28d9aee3922ae50">Creature::global_sm_location</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;    <span class="keywordflow">return</span> project_to&lt;coords::sm&gt;( <a class="code" href="classCreature.html#a681e27e1004c58fcdf25adfdac5e9136">location</a> );</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;}</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160; </div>
<div class="line"><a name="l03242"></a><span class="lineno"><a class="line" href="classCreature.html#a14ecbd8f044628463354090421a805b4"> 3242</a></span>&#160;<a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">Creature::global_omt_location</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;    <span class="keywordflow">return</span> project_to&lt;coords::omt&gt;( <a class="code" href="classCreature.html#a681e27e1004c58fcdf25adfdac5e9136">location</a> );</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;}</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160; </div>
<div class="line"><a name="l03247"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a8fc9c5b7115599a8fc80e51204e37f84"> 3247</a></span>&#160;std::unique_ptr&lt;talker&gt; <a class="code" href="creature_8cpp.html#a8fc9c5b7115599a8fc80e51204e37f84">get_talker_for</a>( <a class="code" href="classCreature.html">Creature</a> &amp;me )</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;{</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;    <span class="keywordflow">if</span>( me.<a class="code" href="classCreature.html#a07012d6d1998068bef112510c7424374">is_monster</a>() ) {</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;        <span class="keywordflow">return</span> std::make_unique&lt;talker_monster&gt;( me.<a class="code" href="classCreature.html#a90636bbf110025587c181fad389d616c">as_monster</a>() );</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( me.<a class="code" href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">is_npc</a>() ) {</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;        <span class="keywordflow">return</span> std::make_unique&lt;talker_npc&gt;( me.<a class="code" href="classCreature.html#a5de5f5e0d08deb03b68749608eb360b2">as_npc</a>() );</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( me.<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;        <span class="keywordflow">return</span> std::make_unique&lt;talker_avatar&gt;( me.<a class="code" href="classCreature.html#a3efb920d8e3d22ee766b62012ad0f9cd">as_avatar</a>() );</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid creature type %s.&quot;</span>, me.<a class="code" href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">get_name</a>() );</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;        <span class="keywordflow">return</span> std::make_unique&lt;talker&gt;();</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;    }</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;}</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160; </div>
<div class="line"><a name="l03261"></a><span class="lineno"><a class="line" href="creature_8cpp.html#aa83906da73bb4b9cb416d3e3f4523440"> 3261</a></span>&#160;std::unique_ptr&lt;talker&gt; <a class="code" href="creature_8cpp.html#a8fc9c5b7115599a8fc80e51204e37f84">get_talker_for</a>( <span class="keyword">const</span> <a class="code" href="classCreature.html">Creature</a> &amp;me )</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;{</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;    <span class="keywordflow">if</span>( !me.<a class="code" href="classCreature.html#a07012d6d1998068bef112510c7424374">is_monster</a>() ) {</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;        <span class="keywordflow">return</span> std::make_unique&lt;talker_character_const&gt;( me.<a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>() );</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( me.<a class="code" href="classCreature.html#a07012d6d1998068bef112510c7424374">is_monster</a>() ) {</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;        <span class="keywordflow">return</span> std::make_unique&lt;talker_monster_const&gt;( me.<a class="code" href="classCreature.html#a90636bbf110025587c181fad389d616c">as_monster</a>() );</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid creature type %s.&quot;</span>, me.<a class="code" href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">get_name</a>() );</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;        <span class="keywordflow">return</span> std::make_unique&lt;talker&gt;();</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;    }</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;}</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160; </div>
<div class="line"><a name="l03273"></a><span class="lineno"><a class="line" href="creature_8cpp.html#aa94719e3211925581c8f49913d904126"> 3273</a></span>&#160;std::unique_ptr&lt;talker&gt; <a class="code" href="creature_8cpp.html#a8fc9c5b7115599a8fc80e51204e37f84">get_talker_for</a>( <a class="code" href="classCreature.html">Creature</a> *me )</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;{</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;    <span class="keywordflow">if</span>( !me ) {</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Null creature type.&quot;</span> );</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;        <span class="keywordflow">return</span> std::make_unique&lt;talker&gt;();</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( me-&gt;<a class="code" href="classCreature.html#a07012d6d1998068bef112510c7424374">is_monster</a>() ) {</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;        <span class="keywordflow">return</span> std::make_unique&lt;talker_monster&gt;( me-&gt;<a class="code" href="classCreature.html#a90636bbf110025587c181fad389d616c">as_monster</a>() );</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( me-&gt;<a class="code" href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">is_npc</a>() ) {</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;        <span class="keywordflow">return</span> std::make_unique&lt;talker_npc&gt;( me-&gt;<a class="code" href="classCreature.html#a5de5f5e0d08deb03b68749608eb360b2">as_npc</a>() );</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( me-&gt;<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;        <span class="keywordflow">return</span> std::make_unique&lt;talker_avatar&gt;( me-&gt;<a class="code" href="classCreature.html#a3efb920d8e3d22ee766b62012ad0f9cd">as_avatar</a>() );</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid creature type %s.&quot;</span>, me-&gt;<a class="code" href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">get_name</a>() );</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;        <span class="keywordflow">return</span> std::make_unique&lt;talker&gt;();</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;    }</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;}</div>
<div class="ttc" id="aachievement_8h_html_afb747e43758989c48fc9dd0e550d3641a7c6c2e5d48ab37a007cbf70d3ea25fa4"><div class="ttname"><a href="achievement_8h.html#afb747e43758989c48fc9dd0e550d3641a7c6c2e5d48ab37a007cbf70d3ea25fa4">achievement_completion::pending</a></div><div class="ttdeci">@ pending</div></div>
<div class="ttc" id="aanatomy_8h_html"><div class="ttname"><a href="anatomy_8h.html">anatomy.h</a></div></div>
<div class="ttc" id="abody__part__set_8h_html"><div class="ttname"><a href="body__part__set_8h.html">body_part_set.h</a></div></div>
<div class="ttc" id="abodypart_8cpp_html_a35f96c6059923716c42eb40f76a6a885"><div class="ttname"><a href="bodypart_8cpp.html#a35f96c6059923716c42eb40f76a6a885">body_part_bp_null</a></div><div class="ttdeci">const bodypart_str_id body_part_bp_null(&quot;bp_null&quot;)</div></div>
<div class="ttc" id="abodypart_8cpp_html_aa097cb26e12eaa87b56e93c3568a5a74"><div class="ttname"><a href="bodypart_8cpp.html#aa097cb26e12eaa87b56e93c3568a5a74">body_part_name_accusative</a></div><div class="ttdeci">std::string body_part_name_accusative(const bodypart_id &amp;bp, int number)</div><div class="ttdoc">Returns the matching accusative name of the body_part token, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00798">bodypart.cpp:798</a></div></div>
<div class="ttc" id="abodypart_8cpp_html_ade2e301ed150ac0191c87e8fb19420c1"><div class="ttname"><a href="bodypart_8cpp.html#ade2e301ed150ac0191c87e8fb19420c1">body_part_head</a></div><div class="ttdeci">const bodypart_str_id body_part_head(&quot;head&quot;)</div></div>
<div class="ttc" id="abodypart_8h_html_a426444e2d486ce1ee315d8b8acc86b40"><div class="ttname"><a href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a></div><div class="ttdeci">int_id&lt; body_part_type &gt; bodypart_id</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00032">bodypart.h:32</a></div></div>
<div class="ttc" id="acached__options_8cpp_html_a0cb65464a3fa34c1ed5474f5d2d853a7"><div class="ttname"><a href="cached__options_8cpp.html#a0cb65464a3fa34c1ed5474f5d2d853a7">fov_3d_z_range</a></div><div class="ttdeci">int fov_3d_z_range</div><div class="ttdef"><b>Definition:</b> <a href="cached__options_8cpp_source.html#l00003">cached_options.cpp:3</a></div></div>
<div class="ttc" id="acached__options_8h_html"><div class="ttname"><a href="cached__options_8h.html">cached_options.h</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_a18db382f9462474fe6c1caae45cec587"><div class="ttname"><a href="calendar_8cpp.html#a18db382f9462474fe6c1caae45cec587">default_daylight_level</a></div><div class="ttdeci">float default_daylight_level()</div><div class="ttdoc">How much light is provided in full daylight.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00047">calendar.cpp:47</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_a359120c15f92d54a49fec9de7bcb571f"><div class="ttname"><a href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a></div><div class="ttdeci">bool x_in_y(const time_duration &amp;a, const time_duration &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00784">calendar.cpp:784</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_a4249b6f1d0842211bfe53e5f9e206a10"><div class="ttname"><a href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a></div><div class="ttdeci">time_duration rng(time_duration lo, time_duration hi)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00779">calendar.cpp:779</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_a6fe65b9e39049b6d361709241a23d1b6"><div class="ttname"><a href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a></div><div class="ttdeci">static lat_long location</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00034">calendar.cpp:34</a></div></div>
<div class="ttc" id="acalendar_8h_html"><div class="ttname"><a href="calendar_8h.html">calendar.h</a></div></div>
<div class="ttc" id="acata__assert_8h_html"><div class="ttname"><a href="cata__assert_8h.html">cata_assert.h</a></div></div>
<div class="ttc" id="acata__assert_8h_html_abb2ca9fce6a171932c05748ecc5df5bb"><div class="ttname"><a href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a></div><div class="ttdeci">#define cata_assert(expression)</div><div class="ttdef"><b>Definition:</b> <a href="cata__assert_8h_source.html#l00036">cata_assert.h:36</a></div></div>
<div class="ttc" id="acata__utility_8h_html"><div class="ttname"><a href="cata__utility_8h.html">cata_utility.h</a></div></div>
<div class="ttc" id="acata__utility_8h_html_ad22b4a043b6eb4c2c06f87f83b720b15"><div class="ttname"><a href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a></div><div class="ttdeci">constexpr T clamp(const T &amp;val, const T &amp;min, const T &amp;max)</div><div class="ttdoc">Clamp first argument so that it is no lower than second and no higher than third.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8h_source.html#l00221">cata_utility.h:221</a></div></div>
<div class="ttc" id="acata__variant_8h_html"><div class="ttname"><a href="cata__variant_8h.html">cata_variant.h</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">cata_variant_type::tripoint</a></div><div class="ttdeci">@ tripoint</div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">cata_variant_type::point</a></div><div class="ttdeci">@ point</div></div>
<div class="ttc" id="acharacter_8h_html"><div class="ttname"><a href="character_8h.html">character.h</a></div></div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="acharacter__attire_8h_html"><div class="ttname"><a href="character__attire_8h.html">character_attire.h</a></div></div>
<div class="ttc" id="acharacter__id_8h_html"><div class="ttname"><a href="character__id_8h.html">character_id.h</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclassCharacter_html_a18ff0119f4fe89b2234275f1fc019106"><div class="ttname"><a href="classCharacter.html#a18ff0119f4fe89b2234275f1fc019106">Character::is_crouching</a></div><div class="ttdeci">bool is_crouching() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02179">character.cpp:2179</a></div></div>
<div class="ttc" id="aclassCharacter_html_a2725bcbfa9e92e0590930e6a8e35764c"><div class="ttname"><a href="classCharacter.html#a2725bcbfa9e92e0590930e6a8e35764c">Character::rem_morale</a></div><div class="ttdeci">void rem_morale(const morale_type &amp;type, const itype *item_type=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="character__morale_8cpp_source.html#l00154">character_morale.cpp:154</a></div></div>
<div class="ttc" id="aclassCharacter_html_a3f82f3257619099e3b2e3103777a703a"><div class="ttname"><a href="classCharacter.html#a3f82f3257619099e3b2e3103777a703a">Character::is_on_ground</a></div><div class="ttdeci">bool is_on_ground() const override</div><div class="ttdoc">Returns true if the player is knocked over, has broken legs or is lying down.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01488">character.cpp:1488</a></div></div>
<div class="ttc" id="aclassCharacter_html_a40e47094669fd1448b975358051f9f98"><div class="ttname"><a href="classCharacter.html#a40e47094669fd1448b975358051f9f98">Character::visibility</a></div><div class="ttdeci">int visibility(bool check_color=false, int stillness=0) const</div><div class="ttdoc">Checks is_invisible() as well as other factors.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06009">character.cpp:6009</a></div></div>
<div class="ttc" id="aclassCharacter_html_a46302dc71cfc84856e8af85ddb61c7e1"><div class="ttname"><a href="classCharacter.html#a46302dc71cfc84856e8af85ddb61c7e1">Character::worn</a></div><div class="ttdeci">outfit worn</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02690">character.h:2690</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5aba683ccf77cb560a0a932308289bd9"><div class="ttname"><a href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">Character::get_str</a></div><div class="ttdeci">int get_str() const</div><div class="ttdoc">Getters for stats exclusive to characters.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04127">character.cpp:4127</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5f7078fd5aa2cb335228c0d205497ed6"><div class="ttname"><a href="classCharacter.html#a5f7078fd5aa2cb335228c0d205497ed6">Character::attack_speed</a></div><div class="ttdeci">int attack_speed(const item &amp;weap) const</div><div class="ttdoc">Returns cost (in moves) of attacking with given item (no modifiers, like stuck)</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l02735">melee.cpp:2735</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6ab1a86cb826d5faa1244cb7a4674700"><div class="ttname"><a href="classCharacter.html#a6ab1a86cb826d5faa1244cb7a4674700">Character::get_size</a></div><div class="ttdeci">creature_size get_size() const override</div><div class="ttdoc">Get size class of character.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00824">character.cpp:824</a></div></div>
<div class="ttc" id="aclassCharacter_html_a74cf2e51a768e3d2e2114aeaddb5fda4"><div class="ttname"><a href="classCharacter.html#a74cf2e51a768e3d2e2114aeaddb5fda4">Character::has_morale</a></div><div class="ttdeci">int has_morale(const morale_type &amp;type) const</div><div class="ttdef"><b>Definition:</b> <a href="character__morale_8cpp_source.html#l00149">character_morale.cpp:149</a></div></div>
<div class="ttc" id="aclassCharacter_html_a85a591640ed5dec800bd4e6e42241fbf"><div class="ttname"><a href="classCharacter.html#a85a591640ed5dec800bd4e6e42241fbf">Character::forced_dismount</a></div><div class="ttdeci">void forced_dismount()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01737">character.cpp:1737</a></div></div>
<div class="ttc" id="aclassCharacter_html_a906192bd3a5f29a61ee12695e18d2eb5"><div class="ttname"><a href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">Character::sees</a></div><div class="ttdeci">bool sees(const tripoint &amp;t, bool is_avatar=false, int range_mod=0) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l11397">character.cpp:11397</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9e2e3afd692adc3761bd6a0f334e8b75"><div class="ttname"><a href="classCharacter.html#a9e2e3afd692adc3761bd6a0f334e8b75">Character::exertion_adjusted_move_multiplier</a></div><div class="ttdeci">float exertion_adjusted_move_multiplier(float level=-1.0f) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04951">character.cpp:4951</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab3d8299f1b4a007da7becfca6330f3b8"><div class="ttname"><a href="classCharacter.html#ab3d8299f1b4a007da7becfca6330f3b8">Character::used_weapon</a></div><div class="ttdeci">item_location used_weapon() const</div><div class="ttdoc">Returns a reference to the item which will be used to make attacks.</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l00182">melee.cpp:182</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab6b6b317ae10bfb8f358fe289d645c96"><div class="ttname"><a href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">Character::add_morale</a></div><div class="ttdeci">void add_morale(const morale_type &amp;type, int bonus, int max_bonus=0, const time_duration &amp;duration=1_hours, const time_duration &amp;decay_start=30_minutes, bool capped=false, const itype *item_type=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="character__morale_8cpp_source.html#l00142">character_morale.cpp:142</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac2245aed6c7279986f42ef9208e816c0"><div class="ttname"><a href="classCharacter.html#ac2245aed6c7279986f42ef9208e816c0">Character::is_limb_broken</a></div><div class="ttdeci">bool is_limb_broken(const bodypart_id &amp;limb) const</div><div class="ttdoc">Returns true if the limb is broken.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02149">character.cpp:2149</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac6f590f28f979103633d198e32524c06"><div class="ttname"><a href="classCharacter.html#ac6f590f28f979103633d198e32524c06">Character::is_prone</a></div><div class="ttdeci">bool is_prone() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02184">character.cpp:2184</a></div></div>
<div class="ttc" id="aclassCharacter_html_adb54bdcb284abb66b6be99c8ae225065"><div class="ttname"><a href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">Character::getID</a></div><div class="ttdeci">character_id getID() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00652">character.cpp:652</a></div></div>
<div class="ttc" id="aclassCharacter_html_af0503012f1ff927cbb5ad126e39cb103"><div class="ttname"><a href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">Character::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00856">character.cpp:856</a></div></div>
<div class="ttc" id="aclassCharacter_html_af06dd97724f4f05df782e7a4b4f9cfe1"><div class="ttname"><a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">Character::has_trait</a></div><div class="ttdeci">bool has_trait(const trait_id &amp;b) const override</div><div class="ttdoc">Returns true if the player has the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00111">mutation.cpp:111</a></div></div>
<div class="ttc" id="aclassCreature_html"><div class="ttname"><a href="classCreature.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00250">creature.h:251</a></div></div>
<div class="ttc" id="aclassCreature_html_a00892cd6e73ac9ecf7c6eb2a043158fc"><div class="ttname"><a href="classCreature.html#a00892cd6e73ac9ecf7c6eb2a043158fc">Creature::get_part_encumbrance_data</a></div><div class="ttdeci">const encumbrance_data &amp; get_part_encumbrance_data(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02302">creature.cpp:2302</a></div></div>
<div class="ttc" id="aclassCreature_html_a01a77a34521240d0691e0f390b2b392f"><div class="ttname"><a href="classCreature.html#a01a77a34521240d0691e0f390b2b392f">Creature::absorb_hit</a></div><div class="ttdeci">virtual const weakpoint * absorb_hit(const weakpoint_attack &amp;attack, const bodypart_id &amp;bp, damage_instance &amp;dam)=0</div></div>
<div class="ttc" id="aclassCreature_html_a025b4f9c24e557111c1501d2d7aaccef"><div class="ttname"><a href="classCreature.html#a025b4f9c24e557111c1501d2d7aaccef">Creature::get_attitude_ui_data</a></div><div class="ttdeci">static const std::pair&lt; translation, nc_color &gt; &amp; get_attitude_ui_data(Attitude att)</div><div class="ttdoc">Creature Attitude as String and color.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03088">creature.cpp:3088</a></div></div>
<div class="ttc" id="aclassCreature_html_a02bfe7dfc1d4636ba78e427102c24810"><div class="ttname"><a href="classCreature.html#a02bfe7dfc1d4636ba78e427102c24810">Creature::get_max_hitsize_bodypart</a></div><div class="ttdeci">bodypart_id get_max_hitsize_bodypart() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03008">creature.cpp:3008</a></div></div>
<div class="ttc" id="aclassCreature_html_a04c1983abeefbf67db1e3f2b2a9b58ab"><div class="ttname"><a href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab">Creature::set_value</a></div><div class="ttdeci">void set_value(const std::string &amp;key, const std::string &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01949">creature.cpp:1949</a></div></div>
<div class="ttc" id="aclassCreature_html_a0547ea1ba1d4fcc157db6a73b877f5d6"><div class="ttname"><a href="classCreature.html#a0547ea1ba1d4fcc157db6a73b877f5d6">Creature::apply_damage</a></div><div class="ttdeci">virtual void apply_damage(Creature *source, bodypart_id bp, int amount, bool bypass_med=false)=0</div></div>
<div class="ttc" id="aclassCreature_html_a05c0a55efc15391e4b9680f1da212683"><div class="ttname"><a href="classCreature.html#a05c0a55efc15391e4b9680f1da212683">Creature::accuracy_projectile_attack</a></div><div class="ttdeci">double accuracy_projectile_attack(dealt_projectile_attack &amp;attack) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00835">creature.cpp:835</a></div></div>
<div class="ttc" id="aclassCreature_html_a06ca4f66498062afc881d76b82946bac"><div class="ttname"><a href="classCreature.html#a06ca4f66498062afc881d76b82946bac">Creature::get_hit_bonus</a></div><div class="ttdeci">virtual float get_hit_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02798">creature.cpp:2798</a></div></div>
<div class="ttc" id="aclassCreature_html_a07012d6d1998068bef112510c7424374"><div class="ttname"><a href="classCreature.html#a07012d6d1998068bef112510c7424374">Creature::is_monster</a></div><div class="ttdeci">virtual bool is_monster() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00271">creature.h:271</a></div></div>
<div class="ttc" id="aclassCreature_html_a08520d85381520ff27dc274d5718a989"><div class="ttname"><a href="classCreature.html#a08520d85381520ff27dc274d5718a989">Creature::set_body</a></div><div class="ttdeci">void set_body()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02172">creature.cpp:2172</a></div></div>
<div class="ttc" id="aclassCreature_html_a089a7123da50e5ffa294e86e0d8dacd6"><div class="ttname"><a href="classCreature.html#a089a7123da50e5ffa294e86e0d8dacd6">Creature::mod_hit_bonus</a></div><div class="ttdeci">virtual void mod_hit_bonus(float nhit)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02914">creature.cpp:2914</a></div></div>
<div class="ttc" id="aclassCreature_html_a090f59402eea6b1605cbfa5c2b2ac77c"><div class="ttname"><a href="classCreature.html#a090f59402eea6b1605cbfa5c2b2ac77c">Creature::is_immune_field</a></div><div class="ttdeci">virtual bool is_immune_field(const field_type_id &amp;) const</div><div class="ttdoc">Returns true if we are immune to the field type with the given fid.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00573">creature.h:573</a></div></div>
<div class="ttc" id="aclassCreature_html_a09c1996bf16947fa6f5a6cb971d3274e"><div class="ttname"><a href="classCreature.html#a09c1996bf16947fa6f5a6cb971d3274e">Creature::on_damage_of_type</a></div><div class="ttdeci">virtual void on_damage_of_type(const effect_source &amp;, int, const damage_type_id &amp;, const bodypart_id &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01249">creature.h:1249</a></div></div>
<div class="ttc" id="aclassCreature_html_a09d744e753389b85555df87d01f19bf0"><div class="ttname"><a href="classCreature.html#a09d744e753389b85555df87d01f19bf0">Creature::size_bonus</a></div><div class="ttdeci">int size_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01230">creature.h:1230</a></div></div>
<div class="ttc" id="aclassCreature_html_a0a19a19318a38c3192f42e903e692bf0"><div class="ttname"><a href="classCreature.html#a0a19a19318a38c3192f42e903e692bf0">Creature::get_crit_factor</a></div><div class="ttdeci">float get_crit_factor(const bodypart_id &amp;bp) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00754">creature.cpp:754</a></div></div>
<div class="ttc" id="aclassCreature_html_a0a561860988a2692df47476d9a15511e"><div class="ttname"><a href="classCreature.html#a0a561860988a2692df47476d9a15511e">Creature::underwater</a></div><div class="ttdeci">bool underwater</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00941">creature.h:941</a></div></div>
<div class="ttc" id="aclassCreature_html_a0b6bacc623f2a7cbb7c8f8dbdb6edd51"><div class="ttname"><a href="classCreature.html#a0b6bacc623f2a7cbb7c8f8dbdb6edd51">Creature::terminating_effects</a></div><div class="ttdeci">std::queue&lt; terminating_effect, std::list&lt; terminating_effect &gt; &gt; terminating_effects</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01206">creature.h:1206</a></div></div>
<div class="ttc" id="aclassCreature_html_a0c2a2ea33a8193bb0779e87f4f67617b"><div class="ttname"><a href="classCreature.html#a0c2a2ea33a8193bb0779e87f4f67617b">Creature::set_pain</a></div><div class="ttdeci">virtual void set_pain(int npain)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01985">creature.cpp:1985</a></div></div>
<div class="ttc" id="aclassCreature_html_a0c2ef38bf9bcedcb014daefe3571e37c"><div class="ttname"><a href="classCreature.html#a0c2ef38bf9bcedcb014daefe3571e37c">Creature::get_hit_base</a></div><div class="ttdeci">virtual float get_hit_base() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a1258aef238c0dbd5dd72427a73ab0714"><div class="ttname"><a href="classCreature.html#a1258aef238c0dbd5dd72427a73ab0714">Creature::set_hit_bonus</a></div><div class="ttdeci">virtual void set_hit_bonus(float nhit)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02890">creature.cpp:2890</a></div></div>
<div class="ttc" id="aclassCreature_html_a14ecbd8f044628463354090421a805b4"><div class="ttname"><a href="classCreature.html#a14ecbd8f044628463354090421a805b4">Creature::global_omt_location</a></div><div class="ttdeci">tripoint_abs_omt global_omt_location() const</div><div class="ttdoc">Returns the location of the creature in global overmap terrain coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03242">creature.cpp:3242</a></div></div>
<div class="ttc" id="aclassCreature_html_a165ad6f73178b7840a12775951638aaa"><div class="ttname"><a href="classCreature.html#a165ad6f73178b7840a12775951638aaa">Creature::get_bash_bonus</a></div><div class="ttdeci">virtual int get_bash_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02802">creature.cpp:2802</a></div></div>
<div class="ttc" id="aclassCreature_html_a16903f8a1c2df84a4c2c09e40750c347"><div class="ttname"><a href="classCreature.html#a16903f8a1c2df84a4c2c09e40750c347">Creature::get_num_broken_body_parts_of_type</a></div><div class="ttdeci">int get_num_broken_body_parts_of_type(body_part_type::type part_type) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02737">creature.cpp:2737</a></div></div>
<div class="ttc" id="aclassCreature_html_a16fbfd5268fd73935e5211bc1fa08617"><div class="ttname"><a href="classCreature.html#a16fbfd5268fd73935e5211bc1fa08617">Creature::deal_projectile_attack</a></div><div class="ttdeci">virtual void deal_projectile_attack(Creature *source, dealt_projectile_attack &amp;attack, bool print_messages=true, const weakpoint_attack &amp;wp_attack=weakpoint_attack())</div><div class="ttdoc">Attempts to harm a creature with a projectile.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01121">creature.cpp:1121</a></div></div>
<div class="ttc" id="aclassCreature_html_a1707dc490c8a090f13e4728a9de4aed2"><div class="ttname"><a href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">Creature::pain</a></div><div class="ttdeci">int pain</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01324">creature.h:1324</a></div></div>
<div class="ttc" id="aclassCreature_html_a17d04695b45ce48064d39ba9f4118f55"><div class="ttname"><a href="classCreature.html#a17d04695b45ce48064d39ba9f4118f55">Creature::deal_damage_handle_type</a></div><div class="ttdeci">virtual void deal_damage_handle_type(const effect_source &amp;source, const damage_unit &amp;du, bodypart_id bp, int &amp;damage, int &amp;pain)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01270">creature.cpp:1270</a></div></div>
<div class="ttc" id="aclassCreature_html_a1a3c6e764ace1edd0dadf641bacd1bec"><div class="ttname"><a href="classCreature.html#a1a3c6e764ace1edd0dadf641bacd1bec">Creature::mod_part_temp_cur</a></div><div class="ttdeci">void mod_part_temp_cur(const bodypart_id &amp;id, units::temperature_delta mod)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02435">creature.cpp:2435</a></div></div>
<div class="ttc" id="aclassCreature_html_a1a65722d07102550f16d17ebd79e2743"><div class="ttname"><a href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">Creature::pos</a></div><div class="ttdeci">tripoint pos() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00178">creature.cpp:178</a></div></div>
<div class="ttc" id="aclassCreature_html_a1ba25d990e8532dd2b0331bfc6cc694c"><div class="ttname"><a href="classCreature.html#a1ba25d990e8532dd2b0331bfc6cc694c">Creature::get_effect_dur</a></div><div class="ttdeci">time_duration get_effect_dur(const efftype_id &amp;eff_id, const bodypart_id &amp;bp=bodypart_str_id::NULL_ID()) const</div><div class="ttdoc">Returns the duration of the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01863">creature.cpp:1863</a></div></div>
<div class="ttc" id="aclassCreature_html_a1c6d98c5a339561c989ba3e1ca34eeb8"><div class="ttname"><a href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">Creature::remove_effect</a></div><div class="ttdeci">bool remove_effect(const efftype_id &amp;eff_id, const bodypart_id &amp;bp)</div><div class="ttdoc">Removes a listed effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01722">creature.cpp:1722</a></div></div>
<div class="ttc" id="aclassCreature_html_a1d0965e36bf4e849645d2d24c87cd5f0"><div class="ttname"><a href="classCreature.html#a1d0965e36bf4e849645d2d24c87cd5f0">Creature::load_hit_range</a></div><div class="ttdeci">static void load_hit_range(const JsonObject &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03192">creature.cpp:3192</a></div></div>
<div class="ttc" id="aclassCreature_html_a1eadbc3e5891d1ff578ac49291e12b66"><div class="ttname"><a href="classCreature.html#a1eadbc3e5891d1ff578ac49291e12b66">Creature::describe_infrared</a></div><div class="ttdeci">void describe_infrared(std::vector&lt; std::string &gt; &amp;buf) const</div><div class="ttdoc">Describe this creature as seen by the avatar via infrared vision.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03199">creature.cpp:3199</a></div></div>
<div class="ttc" id="aclassCreature_html_a1efc19e2d431a3be98f0d651c97e7cf0"><div class="ttname"><a href="classCreature.html#a1efc19e2d431a3be98f0d651c97e7cf0">Creature::mod_part_damage_bandaged</a></div><div class="ttdeci">void mod_part_damage_bandaged(const bodypart_id &amp;id, int mod)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02425">creature.cpp:2425</a></div></div>
<div class="ttc" id="aclassCreature_html_a1f39711701b63d9ae4e74b624c326316"><div class="ttname"><a href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">Creature::draw</a></div><div class="ttdeci">void draw(const catacurses::window &amp;w, const point &amp;origin, bool inverted) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02977">creature.cpp:2977</a></div></div>
<div class="ttc" id="aclassCreature_html_a1f888e61e9f5fb97cbf3a816a1e9c3f1"><div class="ttname"><a href="classCreature.html#a1f888e61e9f5fb97cbf3a816a1e9c3f1">Creature::set_all_parts_wetness</a></div><div class="ttdeci">void set_all_parts_wetness(int set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02470">creature.cpp:2470</a></div></div>
<div class="ttc" id="aclassCreature_html_a2023c106ee9103c630f054f748018218"><div class="ttname"><a href="classCreature.html#a2023c106ee9103c630f054f748018218">Creature::add_env_effect</a></div><div class="ttdeci">bool add_env_effect(const efftype_id &amp;eff_id, const bodypart_id &amp;vector, int strength, const time_duration &amp;dur, const bodypart_id &amp;bp, bool permanent=false, int intensity=1, bool force=false)</div><div class="ttdoc">Gives chance to save via environmental resist, returns false if resistance was successful.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01689">creature.cpp:1689</a></div></div>
<div class="ttc" id="aclassCreature_html_a2063f610253576d98ab6a69e911c0d9f"><div class="ttname"><a href="classCreature.html#a2063f610253576d98ab6a69e911c0d9f">Creature::scheduled_effects</a></div><div class="ttdeci">std::queue&lt; scheduled_effect, std::list&lt; scheduled_effect &gt; &gt; scheduled_effects</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01205">creature.h:1205</a></div></div>
<div class="ttc" id="aclassCreature_html_a226d6b1000b12edac3e5adecae7b8928"><div class="ttname"><a href="classCreature.html#a226d6b1000b12edac3e5adecae7b8928">Creature::set_part_hp_cur</a></div><div class="ttdeci">virtual void set_part_hp_cur(const bodypart_id &amp;id, int set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02342">creature.cpp:2342</a></div></div>
<div class="ttc" id="aclassCreature_html_a23eee2ee9fde4c48750f12ab70fe45c5"><div class="ttname"><a href="classCreature.html#a23eee2ee9fde4c48750f12ab70fe45c5">Creature::mod_bash_bonus</a></div><div class="ttdeci">virtual void mod_bash_bonus(int nbash)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02918">creature.cpp:2918</a></div></div>
<div class="ttc" id="aclassCreature_html_a24d762d37cd6bfbf98cda9b278f5ccf2"><div class="ttname"><a href="classCreature.html#a24d762d37cd6bfbf98cda9b278f5ccf2">Creature::normalize</a></div><div class="ttdeci">virtual void normalize()</div><div class="ttdoc">Recreates the Creature from scratch.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00220">creature.cpp:220</a></div></div>
<div class="ttc" id="aclassCreature_html_a25d21c9537d90ecb5648dd27721e7d2d"><div class="ttname"><a href="classCreature.html#a25d21c9537d90ecb5648dd27721e7d2d">Creature::dodge_check</a></div><div class="ttdeci">bool dodge_check(float hit_roll, bool force_try=false, float training_level=0.0f)</div><div class="ttdoc">If training_level is anything but 0, the check will only train target's skill to that level.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01447">creature.cpp:1447</a></div></div>
<div class="ttc" id="aclassCreature_html_a261dff3caa6aabe255ae9d3eaa94d3de"><div class="ttname"><a href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">Creature::get_speed</a></div><div class="ttdeci">virtual int get_speed() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02138">creature.cpp:2138</a></div></div>
<div class="ttc" id="aclassCreature_html_a26b7c431f85f0b99b888db69318ebdc5"><div class="ttname"><a href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">Creature::disp_name</a></div><div class="ttdeci">virtual std::string disp_name(bool possessive=false, bool capitalize_first=false) const =0</div></div>
<div class="ttc" id="aclassCreature_html_a270368871cfa3557eaed0492367fa187"><div class="ttname"><a href="classCreature.html#a270368871cfa3557eaed0492367fa187">Creature::get_env_resist</a></div><div class="ttdeci">virtual int get_env_resist(bodypart_id bp) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02114">creature.cpp:2114</a></div></div>
<div class="ttc" id="aclassCreature_html_a282e131a72c19f24c7f0a56323b47ecb"><div class="ttname"><a href="classCreature.html#a282e131a72c19f24c7f0a56323b47ecb">Creature::get_block_bonus</a></div><div class="ttdeci">virtual int get_block_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02794">creature.cpp:2794</a></div></div>
<div class="ttc" id="aclassCreature_html_a286e7a58c2eb60f8fdc15b4d0d2e7888"><div class="ttname"><a href="classCreature.html#a286e7a58c2eb60f8fdc15b4d0d2e7888">Creature::can_attack_high</a></div><div class="ttdeci">virtual bool can_attack_high() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a289cc7e1514ccecc5f1d065c629c8aa2"><div class="ttname"><a href="classCreature.html#a289cc7e1514ccecc5f1d065c629c8aa2">Creature::get_root_body_part</a></div><div class="ttdeci">bodypart_id get_root_body_part() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02648">creature.cpp:2648</a></div></div>
<div class="ttc" id="aclassCreature_html_a28d410ab38e30292e266188c1b95cae5"><div class="ttname"><a href="classCreature.html#a28d410ab38e30292e266188c1b95cae5">Creature::process_turn</a></div><div class="ttdeci">virtual void process_turn()</div><div class="ttdoc">Processes effects and bonuses and allocates move points based on speed.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00259">creature.cpp:259</a></div></div>
<div class="ttc" id="aclassCreature_html_a29006b1d624e44def0208134e7f0ac3f"><div class="ttname"><a href="classCreature.html#a29006b1d624e44def0208134e7f0ac3f">Creature::mod_part_hp_cur</a></div><div class="ttdeci">virtual void mod_part_hp_cur(const bodypart_id &amp;id, int mod)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02401">creature.cpp:2401</a></div></div>
<div class="ttc" id="aclassCreature_html_a2946d574c3339cf1d3baf7b48802fb42"><div class="ttname"><a href="classCreature.html#a2946d574c3339cf1d3baf7b48802fb42">Creature::has_trait</a></div><div class="ttdeci">virtual bool has_trait(const trait_id &amp;flag) const</div><div class="ttdoc">Returns true if the player has the entered trait, returns false for non-humans.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01943">creature.cpp:1943</a></div></div>
<div class="ttc" id="aclassCreature_html_a29989737d8bdd693384ee1c193ce7270"><div class="ttname"><a href="classCreature.html#a29989737d8bdd693384ee1c193ce7270">Creature::on_hit</a></div><div class="ttdeci">virtual void on_hit(Creature *source, bodypart_id bp_hit, float difficulty=INT_MIN, dealt_projectile_attack const *proj=nullptr)=0</div><div class="ttdoc">This creature just got hit by an attack - possibly special/ranged attack - from source.</div></div>
<div class="ttc" id="aclassCreature_html_a29b7481562f5db150aa48141a0994ed2"><div class="ttname"><a href="classCreature.html#a29b7481562f5db150aa48141a0994ed2">Creature::mod_part_hp_max</a></div><div class="ttdeci">void mod_part_hp_max(const bodypart_id &amp;id, int mod)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02410">creature.cpp:2410</a></div></div>
<div class="ttc" id="aclassCreature_html_a2acb6e1e19bcb775748403d07d8dc3f0"><div class="ttname"><a href="classCreature.html#a2acb6e1e19bcb775748403d07d8dc3f0">Creature::get_value</a></div><div class="ttdeci">std::string get_value(const std::string &amp;key) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01959">creature.cpp:1959</a></div></div>
<div class="ttc" id="aclassCreature_html_a2d8cf3a723e8cc8df3666fc49540ce94"><div class="ttname"><a href="classCreature.html#a2d8cf3a723e8cc8df3666fc49540ce94">Creature::mod_part_wetness</a></div><div class="ttdeci">void mod_part_wetness(const bodypart_id &amp;id, int mod)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02430">creature.cpp:2430</a></div></div>
<div class="ttc" id="aclassCreature_html_a2d8f0e96ad41fd5d962c4fdbbed9a32b"><div class="ttname"><a href="classCreature.html#a2d8f0e96ad41fd5d962c4fdbbed9a32b">Creature::reset</a></div><div class="ttdeci">virtual void reset()</div><div class="ttdoc">Handles stat and bonus reset.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00224">creature.cpp:224</a></div></div>
<div class="ttc" id="aclassCreature_html_a2db9c4d31aa12577ae0f560314cde84e"><div class="ttname"><a href="classCreature.html#a2db9c4d31aa12577ae0f560314cde84e">Creature::get_spell_resist</a></div><div class="ttdeci">virtual int get_spell_resist() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02132">creature.cpp:2132</a></div></div>
<div class="ttc" id="aclassCreature_html_a2ed7b87167039b2cf0ecb2464d62f802"><div class="ttname"><a href="classCreature.html#a2ed7b87167039b2cf0ecb2464d62f802">Creature::deal_melee_attack</a></div><div class="ttdeci">virtual int deal_melee_attack(Creature *source, int hitroll)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00767">creature.cpp:767</a></div></div>
<div class="ttc" id="aclassCreature_html_a303fcc58869f10f44be1d598ed1aa26f"><div class="ttname"><a href="classCreature.html#a303fcc58869f10f44be1d598ed1aa26f">Creature::bleed</a></div><div class="ttdeci">virtual void bleed() const</div><div class="ttdoc">Adds an appropriate blood splatter.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00230">creature.cpp:230</a></div></div>
<div class="ttc" id="aclassCreature_html_a3175e1b479b42298f197f5a41de45f50"><div class="ttname"><a href="classCreature.html#a3175e1b479b42298f197f5a41de45f50">Creature::get_killer</a></div><div class="ttdeci">virtual Creature * get_killer() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02026">creature.cpp:2026</a></div></div>
<div class="ttc" id="aclassCreature_html_a3261de1530798f5b934a71b9a4e17f5b"><div class="ttname"><a href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">Creature::get_location</a></div><div class="ttdeci">tripoint_abs_ms get_location() const</div><div class="ttdoc">Returns the location of the creature in map square coordinates (the most detailed coordinate system),...</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03232">creature.cpp:3232</a></div></div>
<div class="ttc" id="aclassCreature_html_a330dad28f732a1cf3af695eedb54877d"><div class="ttname"><a href="classCreature.html#a330dad28f732a1cf3af695eedb54877d">Creature::die</a></div><div class="ttdeci">virtual void die(Creature *killer)=0</div><div class="ttdoc">Empty function.</div></div>
<div class="ttc" id="aclassCreature_html_a33f2223d3fa61c5a6cad98914f3895fa"><div class="ttname"><a href="classCreature.html#a33f2223d3fa61c5a6cad98914f3895fa">Creature::get_dodge_base</a></div><div class="ttdeci">virtual float get_dodge_base() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a35bbfb9c042ed3cf7e0ae9b7280384c4"><div class="ttname"><a href="classCreature.html#a35bbfb9c042ed3cf7e0ae9b7280384c4">Creature::get_speed_bonus</a></div><div class="ttdeci">virtual int get_speed_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02786">creature.cpp:2786</a></div></div>
<div class="ttc" id="aclassCreature_html_a360b7ab7279423ee61b38d433ba338fd"><div class="ttname"><a href="classCreature.html#a360b7ab7279423ee61b38d433ba338fd">Creature::num_dodges</a></div><div class="ttdeci">int num_dodges</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01217">creature.h:1217</a></div></div>
<div class="ttc" id="aclassCreature_html_a36478eccbdd3eab446c0534fbca13644"><div class="ttname"><a href="classCreature.html#a36478eccbdd3eab446c0534fbca13644">Creature::set_summon_time</a></div><div class="ttdeci">void set_summon_time(const time_duration &amp;length)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02045">creature.cpp:2045</a></div></div>
<div class="ttc" id="aclassCreature_html_a36dcf5a04ddc0cf9fa29c08b7b099158"><div class="ttname"><a href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158">Creature::check_dead_state</a></div><div class="ttdeci">void check_dead_state()</div><div class="ttdoc">This function checks the creatures is_dead_state and (if true) calls die.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03067">creature.cpp:3067</a></div></div>
<div class="ttc" id="aclassCreature_html_a371a35ce9173bd2c444cb08c64726560"><div class="ttname"><a href="classCreature.html#a371a35ce9173bd2c444cb08c64726560">Creature::set_part_frostbite_timer</a></div><div class="ttdeci">void set_part_frostbite_timer(const bodypart_id &amp;id, int set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02391">creature.cpp:2391</a></div></div>
<div class="ttc" id="aclassCreature_html_a37491f0687142da6a1f9fcce9a84b240"><div class="ttname"><a href="classCreature.html#a37491f0687142da6a1f9fcce9a84b240">Creature::get_part_mut_drench</a></div><div class="ttdeci">std::array&lt; int, NUM_WATER_TOLERANCE &gt; get_part_mut_drench(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02332">creature.cpp:2332</a></div></div>
<div class="ttc" id="aclassCreature_html_a38ba5d107fb8b7b5e198e66f489c58e9"><div class="ttname"><a href="classCreature.html#a38ba5d107fb8b7b5e198e66f489c58e9">Creature::get_effects</a></div><div class="ttdeci">std::vector&lt; std::reference_wrapper&lt; const effect &gt; &gt; get_effects() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01823">creature.cpp:1823</a></div></div>
<div class="ttc" id="aclassCreature_html_a393c7e306d5a59d54da4224bf183f447"><div class="ttname"><a href="classCreature.html#a393c7e306d5a59d54da4224bf183f447">Creature::random_body_part</a></div><div class="ttdeci">bodypart_id random_body_part(bool main_parts_only=false) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03030">creature.cpp:3030</a></div></div>
<div class="ttc" id="aclassCreature_html_a3abf87ed21086c0a4ea2c6da9aef08cd"><div class="ttname"><a href="classCreature.html#a3abf87ed21086c0a4ea2c6da9aef08cd">Creature::weight_capacity</a></div><div class="ttdeci">virtual units::mass weight_capacity() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02950">creature.cpp:2950</a></div></div>
<div class="ttc" id="aclassCreature_html_a3b487a587c0367c588db6d9df8135612"><div class="ttname"><a href="classCreature.html#a3b487a587c0367c588db6d9df8135612">Creature::made_of</a></div><div class="ttdeci">virtual bool made_of(const material_id &amp;m) const =0</div></div>
<div class="ttc" id="aclassCreature_html_a3cb13c880d433e508e6101eae249ee92"><div class="ttname"><a href="classCreature.html#a3cb13c880d433e508e6101eae249ee92">Creature::set_bash_mult</a></div><div class="ttdeci">virtual void set_bash_mult(float nbashmult)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02932">creature.cpp:2932</a></div></div>
<div class="ttc" id="aclassCreature_html_a3cb42eea32fd7e172dca0e902d1184ed"><div class="ttname"><a href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">Creature::is_hallucination</a></div><div class="ttdeci">virtual bool is_hallucination() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a3d7ce3e004b7ae5b226b95ed615a674a"><div class="ttname"><a href="classCreature.html#a3d7ce3e004b7ae5b226b95ed615a674a">Creature::set_part_damage_disinfected</a></div><div class="ttdeci">void set_part_damage_disinfected(const bodypart_id &amp;id, int set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02361">creature.cpp:2361</a></div></div>
<div class="ttc" id="aclassCreature_html_a3e13eef080dac3d3ba5bfc5e38b501df"><div class="ttname"><a href="classCreature.html#a3e13eef080dac3d3ba5bfc5e38b501df">Creature::get_bash_mult</a></div><div class="ttdeci">virtual float get_bash_mult() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02811">creature.cpp:2811</a></div></div>
<div class="ttc" id="aclassCreature_html_a3e322a5b9e8f42f840ddffa01ec2787f"><div class="ttname"><a href="classCreature.html#a3e322a5b9e8f42f840ddffa01ec2787f">Creature::attack_air</a></div><div class="ttdeci">bool attack_air(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01415">creature.cpp:1415</a></div></div>
<div class="ttc" id="aclassCreature_html_a3efb920d8e3d22ee766b62012ad0f9cd"><div class="ttname"><a href="classCreature.html#a3efb920d8e3d22ee766b62012ad0f9cd">Creature::as_avatar</a></div><div class="ttdeci">virtual avatar * as_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00280">creature.h:280</a></div></div>
<div class="ttc" id="aclassCreature_html_a3f6ab734f2a1291f27a2b0b206f3b5c1"><div class="ttname"><a href="classCreature.html#a3f6ab734f2a1291f27a2b0b206f3b5c1">Creature::mod_size_bonus</a></div><div class="ttdeci">virtual void mod_size_bonus(int nsize)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02926">creature.cpp:2926</a></div></div>
<div class="ttc" id="aclassCreature_html_a3fa1e5c6f9129b59d4938a9505b5e5ce"><div class="ttname"><a href="classCreature.html#a3fa1e5c6f9129b59d4938a9505b5e5ce">Creature::get_cut_bonus</a></div><div class="ttdeci">virtual int get_cut_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02806">creature.cpp:2806</a></div></div>
<div class="ttc" id="aclassCreature_html_a402025ac07eb74792b0885446b912cac"><div class="ttname"><a href="classCreature.html#a402025ac07eb74792b0885446b912cac">Creature::get_perceived_pain</a></div><div class="ttdeci">virtual int get_perceived_pain() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01999">creature.cpp:1999</a></div></div>
<div class="ttc" id="aclassCreature_html_a4034e895cd10ecf87f56916af8341014"><div class="ttname"><a href="classCreature.html#a4034e895cd10ecf87f56916af8341014">Creature::has_part</a></div><div class="ttdeci">bool has_part(const bodypart_id &amp;id, body_part_filter filter=body_part_filter::strict) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02180">creature.cpp:2180</a></div></div>
<div class="ttc" id="aclassCreature_html_a43b83bb780138cf2186b24cd40322756"><div class="ttname"><a href="classCreature.html#a43b83bb780138cf2186b24cd40322756">Creature::in_species</a></div><div class="ttdeci">virtual bool in_species(const species_id &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01513">creature.cpp:1513</a></div></div>
<div class="ttc" id="aclassCreature_html_a4537397ede1aea8ecec28183252aabe3"><div class="ttname"><a href="classCreature.html#a4537397ede1aea8ecec28183252aabe3">Creature::get_all_body_parts</a></div><div class="ttdeci">std::vector&lt; bodypart_id &gt; get_all_body_parts(get_body_part_flags=get_body_part_flags::none) const</div><div class="ttdoc">Returns body parts this creature have.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02627">creature.cpp:2627</a></div></div>
<div class="ttc" id="aclassCreature_html_a46453b8a14e33b41caa0bf4a682db9bc"><div class="ttname"><a href="classCreature.html#a46453b8a14e33b41caa0bf4a682db9bc">Creature::has_mind</a></div><div class="ttdeci">virtual bool has_mind() const =0</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00304">creature.cpp:304</a></div></div>
<div class="ttc" id="aclassCreature_html_a47f1514886a2391eef7544a6aa2032b8"><div class="ttname"><a href="classCreature.html#a47f1514886a2391eef7544a6aa2032b8">Creature::bash_mult</a></div><div class="ttdeci">float bash_mult</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01232">creature.h:1232</a></div></div>
<div class="ttc" id="aclassCreature_html_a47f25d00d7403a9b318a6e54847169bd"><div class="ttname"><a href="classCreature.html#a47f25d00d7403a9b318a6e54847169bd">Creature::is_ranged_attacker</a></div><div class="ttdeci">virtual bool is_ranged_attacker() const</div><div class="ttdoc">Returns true if this monster has a gun-type attack or the RANGED_ATTACKER flag.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00309">creature.cpp:309</a></div></div>
<div class="ttc" id="aclassCreature_html_a4887c928d768b8e4a7cb177ab52c6eab"><div class="ttname"><a href="classCreature.html#a4887c928d768b8e4a7cb177ab52c6eab">Creature::modify_damage_dealt_with_enchantments</a></div><div class="ttdeci">virtual damage_instance modify_damage_dealt_with_enchantments(const damage_instance &amp;dam) const</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l00497">melee.cpp:497</a></div></div>
<div class="ttc" id="aclassCreature_html_a48bb40fe4132a49d95f26611d7c622a6"><div class="ttname"><a href="classCreature.html#a48bb40fe4132a49d95f26611d7c622a6">Creature::cmat_flammable</a></div><div class="ttdeci">static const std::set&lt; material_id &gt; cmat_flammable</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00747">creature.h:747</a></div></div>
<div class="ttc" id="aclassCreature_html_a490503cd007e206dcd23fd8457017793"><div class="ttname"><a href="classCreature.html#a490503cd007e206dcd23fd8457017793">Creature::skin_name</a></div><div class="ttdeci">virtual std::string skin_name() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a4945480df006184bdaf4b5b41ba976ea"><div class="ttname"><a href="classCreature.html#a4945480df006184bdaf4b5b41ba976ea">Creature::num_dodges_bonus</a></div><div class="ttdeci">int num_dodges_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01219">creature.h:1219</a></div></div>
<div class="ttc" id="aclassCreature_html_a49d7da8735fb7944fb1ba9f9abb2e7d3"><div class="ttname"><a href="classCreature.html#a49d7da8735fb7944fb1ba9f9abb2e7d3">Creature::get_part_id</a></div><div class="ttdeci">bodypart_id get_part_id(const bodypart_id &amp;id, body_part_filter filter=body_part_filter::next_best, bool suppress_debugmsg=false) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02240">creature.cpp:2240</a></div></div>
<div class="ttc" id="aclassCreature_html_a4a302365853bfdd5351a384c4cc823e1"><div class="ttname"><a href="classCreature.html#a4a302365853bfdd5351a384c4cc823e1">Creature::set_part_wetness</a></div><div class="ttdeci">void set_part_wetness(const bodypart_id &amp;id, int set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02376">creature.cpp:2376</a></div></div>
<div class="ttc" id="aclassCreature_html_a4b42a11004d8092e0453f9122632de99"><div class="ttname"><a href="classCreature.html#a4b42a11004d8092e0453f9122632de99">Creature::get_part_wetness_percentage</a></div><div class="ttdeci">float get_part_wetness_percentage(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02337">creature.cpp:2337</a></div></div>
<div class="ttc" id="aclassCreature_html_a4b567c966e178753b792c7ce91c3be26"><div class="ttname"><a href="classCreature.html#a4b567c966e178753b792c7ce91c3be26">Creature::damage_over_time_map</a></div><div class="ttdeci">std::vector&lt; damage_over_time_data &gt; damage_over_time_map</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01208">creature.h:1208</a></div></div>
<div class="ttc" id="aclassCreature_html_a4c2579763d3f6f47255fbe1068443b75"><div class="ttname"><a href="classCreature.html#a4c2579763d3f6f47255fbe1068443b75">Creature::heal_bp</a></div><div class="ttdeci">virtual void heal_bp(bodypart_id bp, int dam)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01335">creature.cpp:1335</a></div></div>
<div class="ttc" id="aclassCreature_html_a4d0a16875a988b2662b4115038a3dbfb"><div class="ttname"><a href="classCreature.html#a4d0a16875a988b2662b4115038a3dbfb">Creature::lifespan_end</a></div><div class="ttdeci">std::optional&lt; time_point &gt; lifespan_end</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01196">creature.h:1196</a></div></div>
<div class="ttc" id="aclassCreature_html_a4d1bca3e7997343b8bbffd7d7257edad"><div class="ttname"><a href="classCreature.html#a4d1bca3e7997343b8bbffd7d7257edad">Creature::set_throw_resist</a></div><div class="ttdeci">virtual void set_throw_resist(int nthrowres)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02945">creature.cpp:2945</a></div></div>
<div class="ttc" id="aclassCreature_html_a4d6cd41ef532de75cb9bb2aadcc68f06"><div class="ttname"><a href="classCreature.html#a4d6cd41ef532de75cb9bb2aadcc68f06">Creature::speed_base</a></div><div class="ttdeci">int speed_base</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01222">creature.h:1222</a></div></div>
<div class="ttc" id="aclassCreature_html_a4e137a55dbbe37b9656e64f2547cf8da"><div class="ttname"><a href="classCreature.html#a4e137a55dbbe37b9656e64f2547cf8da">Creature::digging</a></div><div class="ttdeci">virtual bool digging() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00329">creature.cpp:329</a></div></div>
<div class="ttc" id="aclassCreature_html_a50742ba2b2e90cf50327ea90c8d636dd"><div class="ttname"><a href="classCreature.html#a50742ba2b2e90cf50327ea90c8d636dd">Creature::is_adjacent</a></div><div class="ttdeci">bool is_adjacent(const Creature *target, bool allow_z_levels) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00722">creature.cpp:722</a></div></div>
<div class="ttc" id="aclassCreature_html_a50eb7b6f001c10c9ee253ad8b85f57a9"><div class="ttname"><a href="classCreature.html#a50eb7b6f001c10c9ee253ad8b85f57a9">Creature::set_part_temp_cur</a></div><div class="ttdeci">void set_part_temp_cur(const bodypart_id &amp;id, units::temperature set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02381">creature.cpp:2381</a></div></div>
<div class="ttc" id="aclassCreature_html_a51c96c81ae1ea766b5eead4a265c1492"><div class="ttname"><a href="classCreature.html#a51c96c81ae1ea766b5eead4a265c1492">Creature::get_random_body_part</a></div><div class="ttdeci">bodypart_id get_random_body_part(bool main=false) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02506">creature.cpp:2506</a></div></div>
<div class="ttc" id="aclassCreature_html_a5391e672390a2e5f28f0d5e6742c0b54"><div class="ttname"><a href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54">Creature::mod_pain</a></div><div class="ttdeci">virtual void mod_pain(int npain)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01975">creature.cpp:1975</a></div></div>
<div class="ttc" id="aclassCreature_html_a55954967387e535b1e52f16946a85a47"><div class="ttname"><a href="classCreature.html#a55954967387e535b1e52f16946a85a47">Creature::mod_part_healed_total</a></div><div class="ttdeci">void mod_part_healed_total(const bodypart_id &amp;id, int mod)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02415">creature.cpp:2415</a></div></div>
<div class="ttc" id="aclassCreature_html_a55d12f92d62a7c89c44b466d7e7cb00d"><div class="ttname"><a href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">Creature::as_character</a></div><div class="ttdeci">virtual Character * as_character()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00274">creature.h:274</a></div></div>
<div class="ttc" id="aclassCreature_html_a5619a04558f7cf1ea1fb24bcbca84cab"><div class="ttname"><a href="classCreature.html#a5619a04558f7cf1ea1fb24bcbca84cab">Creature::get_part_temp_conv</a></div><div class="ttdeci">units::temperature get_part_temp_conv(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02322">creature.cpp:2322</a></div></div>
<div class="ttc" id="aclassCreature_html_a5881c150a3ed435f757e0b34b0d1009e"><div class="ttname"><a href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">Creature::get_name</a></div><div class="ttdeci">virtual std::string get_name() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a597cc3b08ee17de46c3e7ec3cf0d9b58"><div class="ttname"><a href="classCreature.html#a597cc3b08ee17de46c3e7ec3cf0d9b58">Creature::Creature</a></div><div class="ttdeci">Creature()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00157">creature.cpp:157</a></div></div>
<div class="ttc" id="aclassCreature_html_a59d8ead2387b3b99cb2e88c5f1858e17"><div class="ttname"><a href="classCreature.html#a59d8ead2387b3b99cb2e88c5f1858e17">Creature::get_anatomy</a></div><div class="ttdeci">anatomy_id get_anatomy() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02157">creature.cpp:2157</a></div></div>
<div class="ttc" id="aclassCreature_html_a5a2346f549de9c87e8f2afeec1e71366"><div class="ttname"><a href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">Creature::is_underwater</a></div><div class="ttdeci">virtual bool is_underwater() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00292">creature.cpp:292</a></div></div>
<div class="ttc" id="aclassCreature_html_a5c6d320a21d767c65c807fe563c4b2c9"><div class="ttname"><a href="classCreature.html#a5c6d320a21d767c65c807fe563c4b2c9">Creature::bloodType</a></div><div class="ttdeci">virtual field_type_id bloodType() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a5c7b3266e9605dd8251569aa7810ac3d"><div class="ttname"><a href="classCreature.html#a5c7b3266e9605dd8251569aa7810ac3d">Creature::get_armor_res</a></div><div class="ttdeci">virtual int get_armor_res(const damage_type_id &amp;dt, bodypart_id bp) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02118">creature.cpp:2118</a></div></div>
<div class="ttc" id="aclassCreature_html_a5de5f5e0d08deb03b68749608eb360b2"><div class="ttname"><a href="classCreature.html#a5de5f5e0d08deb03b68749608eb360b2">Creature::as_npc</a></div><div class="ttdeci">virtual npc * as_npc()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00286">creature.h:286</a></div></div>
<div class="ttc" id="aclassCreature_html_a5dfa3bcb8b83066e4de203238274276d"><div class="ttname"><a href="classCreature.html#a5dfa3bcb8b83066e4de203238274276d">Creature::mod_num_blocks_bonus</a></div><div class="ttdeci">virtual void mod_num_blocks_bonus(int nblocks)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02858">creature.cpp:2858</a></div></div>
<div class="ttc" id="aclassCreature_html_a5e2f65bf9e0412193ebaaf60d02cc0cc"><div class="ttname"><a href="classCreature.html#a5e2f65bf9e0412193ebaaf60d02cc0cc">Creature::move_to</a></div><div class="ttdeci">void move_to(const tripoint_abs_ms &amp;loc)</div><div class="ttdoc">Moves the creature to the given location and calls the on_move() handler.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00195">creature.cpp:195</a></div></div>
<div class="ttc" id="aclassCreature_html_a5e5459c1b7ff6fee815a1f15643a972c"><div class="ttname"><a href="classCreature.html#a5e5459c1b7ff6fee815a1f15643a972c">Creature::get_num_blocks_bonus</a></div><div class="ttdeci">virtual int get_num_blocks_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02093">creature.cpp:2093</a></div></div>
<div class="ttc" id="aclassCreature_html_a5f0f94b1cc3a6759e79c7ffc07c3b0b8"><div class="ttname"><a href="classCreature.html#a5f0f94b1cc3a6759e79c7ffc07c3b0b8">Creature::fake</a></div><div class="ttdeci">bool fake</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01240">creature.h:1240</a></div></div>
<div class="ttc" id="aclassCreature_html_a5f38a3e25013f09f73c69206201553d1"><div class="ttname"><a href="classCreature.html#a5f38a3e25013f09f73c69206201553d1">Creature::get_all_body_parts_with_flag</a></div><div class="ttdeci">std::vector&lt; bodypart_id &gt; get_all_body_parts_with_flag(const json_character_flag &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02691">creature.cpp:2691</a></div></div>
<div class="ttc" id="aclassCreature_html_a5f818f1aa899ba2e2765f327a020a878"><div class="ttname"><a href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">Creature::sees</a></div><div class="ttdeci">bool sees(const Creature &amp;critter) const override</div><div class="ttdoc">The functions check whether this creature can see the target.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00358">creature.cpp:358</a></div></div>
<div class="ttc" id="aclassCreature_html_a6012e6dfc9a77e5771ad4b070b52f313"><div class="ttname"><a href="classCreature.html#a6012e6dfc9a77e5771ad4b070b52f313">Creature::process_damage_over_time</a></div><div class="ttdeci">void process_damage_over_time()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03047">creature.cpp:3047</a></div></div>
<div class="ttc" id="aclassCreature_html_a60ca228583adf18b2e56e1c96ff8b048"><div class="ttname"><a href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048">Creature::mod_dodge_bonus</a></div><div class="ttdeci">virtual void mod_dodge_bonus(float ndodge)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02906">creature.cpp:2906</a></div></div>
<div class="ttc" id="aclassCreature_html_a617d9f695722c4865c7d60ef30438711"><div class="ttname"><a href="classCreature.html#a617d9f695722c4865c7d60ef30438711">Creature::get_part_frostbite_timer</a></div><div class="ttdeci">int get_part_frostbite_timer(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02327">creature.cpp:2327</a></div></div>
<div class="ttc" id="aclassCreature_html_a619416cdcb47243507f1295a3d901ada"><div class="ttname"><a href="classCreature.html#a619416cdcb47243507f1295a3d901ada">Creature::get_part_damage_disinfected</a></div><div class="ttdeci">int get_part_damage_disinfected(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02292">creature.cpp:2292</a></div></div>
<div class="ttc" id="aclassCreature_html_a6293c17885ef44d613618b4953a1be17"><div class="ttname"><a href="classCreature.html#a6293c17885ef44d613618b4953a1be17">Creature::describe_specials</a></div><div class="ttdeci">void describe_specials(std::vector&lt; std::string &gt; &amp;buf) const</div><div class="ttdoc">Describe this creature as detected by the avatar's special senses.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03227">creature.cpp:3227</a></div></div>
<div class="ttc" id="aclassCreature_html_a6410520bceb652ba361502f404fc1005"><div class="ttname"><a href="classCreature.html#a6410520bceb652ba361502f404fc1005">Creature::stumble_invis</a></div><div class="ttdeci">bool stumble_invis(const Creature &amp;player, bool stumblemsg=true)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01389">creature.cpp:1389</a></div></div>
<div class="ttc" id="aclassCreature_html_a655af12aa145ee7fe2340c24a3b4b856"><div class="ttname"><a href="classCreature.html#a655af12aa145ee7fe2340c24a3b4b856">Creature::get_num_dodges</a></div><div class="ttdeci">virtual int get_num_dodges() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02088">creature.cpp:2088</a></div></div>
<div class="ttc" id="aclassCreature_html_a656cee63b39cd5205193de655185859b"><div class="ttname"><a href="classCreature.html#a656cee63b39cd5205193de655185859b">Creature::clear_killer</a></div><div class="ttdeci">void clear_killer()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02040">creature.cpp:2040</a></div></div>
<div class="ttc" id="aclassCreature_html_a6596f10b3ecc70bf4ece4a13eac31cb9"><div class="ttname"><a href="classCreature.html#a6596f10b3ecc70bf4ece4a13eac31cb9">Creature::get_num_dodges_base</a></div><div class="ttdeci">virtual int get_num_dodges_base() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02108">creature.cpp:2108</a></div></div>
<div class="ttc" id="aclassCreature_html_a666022fd3ed772fa109d273c20e8de55"><div class="ttname"><a href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a></div><div class="ttdeci">void add_effect(const effect &amp;eff, bool force=false, bool deferred=false)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00604">creature.h:604</a></div></div>
<div class="ttc" id="aclassCreature_html_a6748055fb3a5922e1fa55c4214aff48f"><div class="ttname"><a href="classCreature.html#a6748055fb3a5922e1fa55c4214aff48f">Creature::size_melee_penalty</a></div><div class="ttdeci">int size_melee_penalty() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00700">creature.cpp:700</a></div></div>
<div class="ttc" id="aclassCreature_html_a681ce099a21add56451f87e4b35dd0b6"><div class="ttname"><a href="classCreature.html#a681ce099a21add56451f87e4b35dd0b6">Creature::is_part_at_max_hp</a></div><div class="ttdeci">bool is_part_at_max_hp(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02501">creature.cpp:2501</a></div></div>
<div class="ttc" id="aclassCreature_html_a681e27e1004c58fcdf25adfdac5e9136"><div class="ttname"><a href="classCreature.html#a681e27e1004c58fcdf25adfdac5e9136">Creature::location</a></div><div class="ttdeci">tripoint_abs_ms location</div><div class="ttdoc">The creature's position in absolute coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00776">creature.h:776</a></div></div>
<div class="ttc" id="aclassCreature_html_a69d20ce599ed8aa0780a4677c14228f9"><div class="ttname"><a href="classCreature.html#a69d20ce599ed8aa0780a4677c14228f9">Creature::values</a></div><div class="ttdeci">std::unordered_map&lt; std::string, std::string &gt; values</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01211">creature.h:1211</a></div></div>
<div class="ttc" id="aclassCreature_html_a69db025e34e82c34b56df73f56965350"><div class="ttname"><a href="classCreature.html#a69db025e34e82c34b56df73f56965350">Creature::num_blocks</a></div><div class="ttdeci">int num_blocks</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01216">creature.h:1216</a></div></div>
<div class="ttc" id="aclassCreature_html_a6a4c43d66f5a8b50a879d78682b00976"><div class="ttname"><a href="classCreature.html#a6a4c43d66f5a8b50a879d78682b00976">Creature::is_dangerous_fields</a></div><div class="ttdeci">bool is_dangerous_fields(const field &amp;fld) const</div><div class="ttdoc">Returns true if there is a field in the field set that is dangerous to us.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00334">creature.cpp:334</a></div></div>
<div class="ttc" id="aclassCreature_html_a6ad06869ed97eb2701f5f74b7d36281e"><div class="ttname"><a href="classCreature.html#a6ad06869ed97eb2701f5f74b7d36281e">Creature::remove_value</a></div><div class="ttdeci">void remove_value(const std::string &amp;key)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01954">creature.cpp:1954</a></div></div>
<div class="ttc" id="aclassCreature_html_a6af61264a3d5ac62a64df4899e87d2c1"><div class="ttname"><a href="classCreature.html#a6af61264a3d5ac62a64df4899e87d2c1">Creature::set_all_parts_hp_to_max</a></div><div class="ttdeci">void set_all_parts_hp_to_max()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02484">creature.cpp:2484</a></div></div>
<div class="ttc" id="aclassCreature_html_a6b40041c12e2c414170aad5511878446"><div class="ttname"><a href="classCreature.html#a6b40041c12e2c414170aad5511878446">Creature::resists_effect</a></div><div class="ttdeci">bool resists_effect(const effect &amp;e) const</div><div class="ttdoc">Returns true if the creature resists an effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01928">creature.cpp:1928</a></div></div>
<div class="ttc" id="aclassCreature_html_a6d140fa65e8f80987add3259db6cc170"><div class="ttname"><a href="classCreature.html#a6d140fa65e8f80987add3259db6cc170">Creature::set_all_parts_temp_cur</a></div><div class="ttdeci">void set_all_parts_temp_cur(units::temperature set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02450">creature.cpp:2450</a></div></div>
<div class="ttc" id="aclassCreature_html_a6d2e7dffa9969ce9a65582cdfec7b0a6"><div class="ttname"><a href="classCreature.html#a6d2e7dffa9969ce9a65582cdfec7b0a6">Creature::cut_bonus</a></div><div class="ttdeci">int cut_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01229">creature.h:1229</a></div></div>
<div class="ttc" id="aclassCreature_html_a6ebcf1d6c0af9f4223695752a5ae3632"><div class="ttname"><a href="classCreature.html#a6ebcf1d6c0af9f4223695752a5ae3632">Creature::set_all_parts_hp_cur</a></div><div class="ttdeci">void set_all_parts_hp_cur(int set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02477">creature.cpp:2477</a></div></div>
<div class="ttc" id="aclassCreature_html_a6ee8599df32920db133b4d40281fe61e"><div class="ttname"><a href="classCreature.html#a6ee8599df32920db133b4d40281fe61e">Creature::set_part_hp_max</a></div><div class="ttdeci">void set_part_hp_max(const bodypart_id &amp;id, int set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02351">creature.cpp:2351</a></div></div>
<div class="ttc" id="aclassCreature_html_a6f36b7308f6193dd46224b951e74f96e"><div class="ttname"><a href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">Creature::body</a></div><div class="ttdeci">std::map&lt; bodypart_str_id, bodypart &gt; body</div><div class="ttdoc">this is the actual body of the creature</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00787">creature.h:787</a></div></div>
<div class="ttc" id="aclassCreature_html_a6fa8727907a0dc765764ad5edf320ab7"><div class="ttname"><a href="classCreature.html#a6fa8727907a0dc765764ad5edf320ab7">Creature::set_melee_quiet</a></div><div class="ttdeci">virtual void set_melee_quiet(bool nquiet)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02941">creature.cpp:2941</a></div></div>
<div class="ttc" id="aclassCreature_html_a6fb586176b4fe263956c2f2d9a26aa9b"><div class="ttname"><a href="classCreature.html#a6fb586176b4fe263956c2f2d9a26aa9b">Creature::get_armor_res_base</a></div><div class="ttdeci">virtual int get_armor_res_base(const damage_type_id &amp;dt, bodypart_id bp) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02122">creature.cpp:2122</a></div></div>
<div class="ttc" id="aclassCreature_html_a71e8440dfb96a7a870c29e0472b7b85d"><div class="ttname"><a href="classCreature.html#a71e8440dfb96a7a870c29e0472b7b85d">Creature::get_pain</a></div><div class="ttdeci">virtual int get_pain() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01994">creature.cpp:1994</a></div></div>
<div class="ttc" id="aclassCreature_html_a73a4ee44970f1fdaa34c5c4bc97932d8"><div class="ttname"><a href="classCreature.html#a73a4ee44970f1fdaa34c5c4bc97932d8">Creature::schedule_effect_removal</a></div><div class="ttdeci">void schedule_effect_removal(const efftype_id &amp;eff_id, const bodypart_id &amp;bp)</div><div class="ttdoc">Schedule effect removal.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01761">creature.cpp:1761</a></div></div>
<div class="ttc" id="aclassCreature_html_a73b9cb6320e4447addaec375887e7861"><div class="ttname"><a href="classCreature.html#a73b9cb6320e4447addaec375887e7861">Creature::dispersion_for_even_chance_of_good_hit</a></div><div class="ttdeci">static std::vector&lt; int &gt; dispersion_for_even_chance_of_good_hit</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01271">creature.h:1271</a></div></div>
<div class="ttc" id="aclassCreature_html_a73dcd9331c055a2cd05d05be0337257d"><div class="ttname"><a href="classCreature.html#a73dcd9331c055a2cd05d05be0337257d">Creature::mod_block_bonus</a></div><div class="ttdeci">virtual void mod_block_bonus(int nblock)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02910">creature.cpp:2910</a></div></div>
<div class="ttc" id="aclassCreature_html_a74f17106e37657f528e42b3fd706766a"><div class="ttname"><a href="classCreature.html#a74f17106e37657f528e42b3fd706766a">Creature::mod_pain_noresist</a></div><div class="ttdeci">virtual void mod_pain_noresist(int npain)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01980">creature.cpp:1980</a></div></div>
<div class="ttc" id="aclassCreature_html_a79480b5d63f82bec8d923844e2095bd2"><div class="ttname"><a href="classCreature.html#a79480b5d63f82bec8d923844e2095bd2">Creature::get_throw_resist</a></div><div class="ttdeci">virtual int get_throw_resist() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02825">creature.cpp:2825</a></div></div>
<div class="ttc" id="aclassCreature_html_a7a7ef967ebe5be44a5d4c5ea8158d3cb"><div class="ttname"><a href="classCreature.html#a7a7ef967ebe5be44a5d4c5ea8158d3cb">Creature::get_part_damage_bandaged</a></div><div class="ttdeci">int get_part_damage_bandaged(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02297">creature.cpp:2297</a></div></div>
<div class="ttc" id="aclassCreature_html_a7b94528e3a599dfc8647117bc6741243"><div class="ttname"><a href="classCreature.html#a7b94528e3a599dfc8647117bc6741243">Creature::set_pos_only</a></div><div class="ttdeci">void set_pos_only(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00202">creature.cpp:202</a></div></div>
<div class="ttc" id="aclassCreature_html_a7bb35215732acc025692d329fb3e2e13"><div class="ttname"><a href="classCreature.html#a7bb35215732acc025692d329fb3e2e13">Creature::hit_bonus</a></div><div class="ttdeci">float hit_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01227">creature.h:1227</a></div></div>
<div class="ttc" id="aclassCreature_html_a7bf62f4f36b0475f1f39ea27f3beebb0"><div class="ttname"><a href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">Creature::has_effect</a></div><div class="ttdeci">bool has_effect(const efftype_id &amp;eff_id, const bodypart_id &amp;bp) const</div><div class="ttdoc">Check if creature has the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01770">creature.cpp:1770</a></div></div>
<div class="ttc" id="aclassCreature_html_a7c4224e3e3ce5b7bf6af5da26c622af6"><div class="ttname"><a href="classCreature.html#a7c4224e3e3ce5b7bf6af5da26c622af6">Creature::process_effects</a></div><div class="ttdeci">virtual void process_effects()</div><div class="ttdoc">Processes through all the effects on the Creature.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01881">creature.cpp:1881</a></div></div>
<div class="ttc" id="aclassCreature_html_a7cf71d2bd6c350f2ceda3f1d64046e63"><div class="ttname"><a href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">Creature::add_msg_player_or_npc</a></div><div class="ttdeci">virtual void add_msg_player_or_npc(const std::string &amp;, const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01060">creature.h:1060</a></div></div>
<div class="ttc" id="aclassCreature_html_a7e9c58c5ee7f2c5780abe8f90bdd6608"><div class="ttname"><a href="classCreature.html#a7e9c58c5ee7f2c5780abe8f90bdd6608">Creature::set_dodge_bonus</a></div><div class="ttdeci">virtual void set_dodge_bonus(float ndodge)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02881">creature.cpp:2881</a></div></div>
<div class="ttc" id="aclassCreature_html_a805a8d90db2178529997b355e8898d70"><div class="ttname"><a href="classCreature.html#a805a8d90db2178529997b355e8898d70">Creature::get_num_blocks</a></div><div class="ttdeci">virtual int get_num_blocks() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02083">creature.cpp:2083</a></div></div>
<div class="ttc" id="aclassCreature_html_a80f8d134c689097b8137f973e7401c84"><div class="ttname"><a href="classCreature.html#a80f8d134c689097b8137f973e7401c84">Creature::reset_stats</a></div><div class="ttdeci">virtual void reset_stats()=0</div><div class="ttdoc">Resets stats, and applies effects in an idempotent manner.</div></div>
<div class="ttc" id="aclassCreature_html_a81c28d7d1cb83a47794dbf879dede400"><div class="ttname"><a href="classCreature.html#a81c28d7d1cb83a47794dbf879dede400">Creature::cmat_flesh</a></div><div class="ttdeci">static const std::set&lt; material_id &gt; cmat_flesh</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00745">creature.h:745</a></div></div>
<div class="ttc" id="aclassCreature_html_a81fd71e521e09908425fc63a64458f59"><div class="ttname"><a href="classCreature.html#a81fd71e521e09908425fc63a64458f59">Creature::set_speed_bonus</a></div><div class="ttdeci">virtual void set_speed_bonus(int nspeed)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02877">creature.cpp:2877</a></div></div>
<div class="ttc" id="aclassCreature_html_a85906b1aaa87603a52024d4dd68a075a"><div class="ttname"><a href="classCreature.html#a85906b1aaa87603a52024d4dd68a075a">Creature::armor_bonus</a></div><div class="ttdeci">std::map&lt; damage_type_id, float &gt; armor_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01221">creature.h:1221</a></div></div>
<div class="ttc" id="aclassCreature_html_a85f7bb2576d6f38d117b3714c1e94dee"><div class="ttname"><a href="classCreature.html#a85f7bb2576d6f38d117b3714c1e94dee">Creature::add_damage_over_time</a></div><div class="ttdeci">void add_damage_over_time(const damage_over_time_data &amp;DoT)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03042">creature.cpp:3042</a></div></div>
<div class="ttc" id="aclassCreature_html_a87e6ed9d2389c292240debc899ab9aec"><div class="ttname"><a href="classCreature.html#a87e6ed9d2389c292240debc899ab9aec">Creature::is_immune_damage</a></div><div class="ttdeci">virtual bool is_immune_damage(const damage_type_id &amp;type) const =0</div></div>
<div class="ttc" id="aclassCreature_html_a88b81d1ff0359794554e81c7ae16f370"><div class="ttname"><a href="classCreature.html#a88b81d1ff0359794554e81c7ae16f370">Creature::get_hit</a></div><div class="ttdeci">virtual float get_hit() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02152">creature.cpp:2152</a></div></div>
<div class="ttc" id="aclassCreature_html_a88c28bc08aa3e0d6fa1b187cee97d1c4"><div class="ttname"><a href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">Creature::posz</a></div><div class="ttdeci">int posz() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00317">creature.h:317</a></div></div>
<div class="ttc" id="aclassCreature_html_a891bc2d0c564449cb462178317819254"><div class="ttname"><a href="classCreature.html#a891bc2d0c564449cb462178317819254">Creature::mod_moves</a></div><div class="ttdeci">void mod_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02008">creature.cpp:2008</a></div></div>
<div class="ttc" id="aclassCreature_html_a8a32c3f76a077285e8f0420a2dea4542"><div class="ttname"><a href="classCreature.html#a8a32c3f76a077285e8f0420a2dea4542">Creature::schedule_effect</a></div><div class="ttdeci">void schedule_effect(const effect &amp;eff, bool force=false, bool deferred=false)</div><div class="ttdoc">Schedules a new effect to be applied.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01668">creature.cpp:1668</a></div></div>
<div class="ttc" id="aclassCreature_html_a8a475630b3289c468bd06cf114008217"><div class="ttname"><a href="classCreature.html#a8a475630b3289c468bd06cf114008217">Creature::Attitude</a></div><div class="ttdeci">Attitude</div><div class="ttdoc">Simplified attitude towards any creature: hostile - hate, want to kill, etc.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00352">creature.h:352</a></div></div>
<div class="ttc" id="aclassCreature_html_a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747"><div class="ttname"><a href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Creature::Attitude::HOSTILE</a></div><div class="ttdeci">@ HOSTILE</div></div>
<div class="ttc" id="aclassCreature_html_a8a475630b3289c468bd06cf114008217a31ba17aa58cdb681423f07ca21a6efc7"><div class="ttname"><a href="classCreature.html#a8a475630b3289c468bd06cf114008217a31ba17aa58cdb681423f07ca21a6efc7">Creature::Attitude::NEUTRAL</a></div><div class="ttdeci">@ NEUTRAL</div></div>
<div class="ttc" id="aclassCreature_html_a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0"><div class="ttname"><a href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Creature::Attitude::FRIENDLY</a></div><div class="ttdeci">@ FRIENDLY</div></div>
<div class="ttc" id="aclassCreature_html_a8b36a61a0abd4731f9bc0806583eea65"><div class="ttname"><a href="classCreature.html#a8b36a61a0abd4731f9bc0806583eea65">Creature::maybe_get_value</a></div><div class="ttdeci">std::optional&lt; std::string &gt; maybe_get_value(const std::string &amp;key) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01964">creature.cpp:1964</a></div></div>
<div class="ttc" id="aclassCreature_html_a8b6571b163899884df43067ab146ab83"><div class="ttname"><a href="classCreature.html#a8b6571b163899884df43067ab146ab83">Creature::process_one_effect</a></div><div class="ttdeci">virtual void process_one_effect(effect &amp;e, bool is_new)=0</div><div class="ttdoc">Processes one effect on the Creature.</div></div>
<div class="ttc" id="aclassCreature_html_a8c5a392caa213bee9581b47e9f0e2052"><div class="ttname"><a href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">Creature::moves</a></div><div class="ttdeci">int moves</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01193">creature.h:1193</a></div></div>
<div class="ttc" id="aclassCreature_html_a8d6c44f7a224dca20bd27befb6133db3"><div class="ttname"><a href="classCreature.html#a8d6c44f7a224dca20bd27befb6133db3">Creature::mod_part_frostbite_timer</a></div><div class="ttdeci">void mod_part_frostbite_timer(const bodypart_id &amp;id, int mod)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02445">creature.cpp:2445</a></div></div>
<div class="ttc" id="aclassCreature_html_a8e5fa5a8918563efe031ed0fe41c4dc6"><div class="ttname"><a href="classCreature.html#a8e5fa5a8918563efe031ed0fe41c4dc6">Creature::on_move</a></div><div class="ttdeci">virtual void on_move(const tripoint_abs_ms &amp;old_pos)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00212">creature.cpp:212</a></div></div>
<div class="ttc" id="aclassCreature_html_a8e646d4365acc80cd729c95588974267"><div class="ttname"><a href="classCreature.html#a8e646d4365acc80cd729c95588974267">Creature::get_part_wetness</a></div><div class="ttdeci">int get_part_wetness(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02312">creature.cpp:2312</a></div></div>
<div class="ttc" id="aclassCreature_html_a90636bbf110025587c181fad389d616c"><div class="ttname"><a href="classCreature.html#a90636bbf110025587c181fad389d616c">Creature::as_monster</a></div><div class="ttdeci">virtual monster * as_monster()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00292">creature.h:292</a></div></div>
<div class="ttc" id="aclassCreature_html_a915f59d2cd13a723af0b26fba3703926"><div class="ttname"><a href="classCreature.html#a915f59d2cd13a723af0b26fba3703926">Creature::add_msg_player_or_say</a></div><div class="ttdeci">virtual void add_msg_player_or_say(const std::string &amp;, const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01116">creature.h:1116</a></div></div>
<div class="ttc" id="aclassCreature_html_a91dc4715c36eef7d116f944be9a4d435"><div class="ttname"><a href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">Creature::add_msg_if_player</a></div><div class="ttdeci">virtual void add_msg_if_player(const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00976">creature.h:976</a></div></div>
<div class="ttc" id="aclassCreature_html_a92182fbfd56229f1d8d23b929955b6a4"><div class="ttname"><a href="classCreature.html#a92182fbfd56229f1d8d23b929955b6a4">Creature::set_part_healed_total</a></div><div class="ttdeci">void set_part_healed_total(const bodypart_id &amp;id, int set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02356">creature.cpp:2356</a></div></div>
<div class="ttc" id="aclassCreature_html_a9332a74096bf822b7f9438e0098c4c1f"><div class="ttname"><a href="classCreature.html#a9332a74096bf822b7f9438e0098c4c1f">Creature::set_cut_bonus</a></div><div class="ttdeci">virtual void set_cut_bonus(int ncut)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02898">creature.cpp:2898</a></div></div>
<div class="ttc" id="aclassCreature_html_a936001bd5f590f20d5463f861b032840"><div class="ttname"><a href="classCreature.html#a936001bd5f590f20d5463f861b032840">Creature::get_random_body_part_of_type</a></div><div class="ttdeci">bodypart_id get_random_body_part_of_type(body_part_type::type part_type) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02686">creature.cpp:2686</a></div></div>
<div class="ttc" id="aclassCreature_html_a948c33f5a992a7f1b8e4be94688d3dd2"><div class="ttname"><a href="classCreature.html#a948c33f5a992a7f1b8e4be94688d3dd2">Creature::dodge_roll</a></div><div class="ttdeci">virtual float dodge_roll() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a952f5a3103775159e193c6ee4e60979b"><div class="ttname"><a href="classCreature.html#a952f5a3103775159e193c6ee4e60979b">Creature::get_effects_with_flag</a></div><div class="ttdeci">std::vector&lt; std::reference_wrapper&lt; const effect &gt; &gt; get_effects_with_flag(const flag_id &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01808">creature.cpp:1808</a></div></div>
<div class="ttc" id="aclassCreature_html_a9689d4816bc2d1204c53c114190fde50"><div class="ttname"><a href="classCreature.html#a9689d4816bc2d1204c53c114190fde50">Creature::get_effect_int</a></div><div class="ttdeci">int get_effect_int(const efftype_id &amp;eff_id, const bodypart_id &amp;bp=bodypart_str_id::NULL_ID()) const</div><div class="ttdoc">Returns the intensity of the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01872">creature.cpp:1872</a></div></div>
<div class="ttc" id="aclassCreature_html_a97123d70cd215ca43735d5516df5806b"><div class="ttname"><a href="classCreature.html#a97123d70cd215ca43735d5516df5806b">Creature::get_cut_mult</a></div><div class="ttdeci">virtual float get_cut_mult() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02815">creature.cpp:2815</a></div></div>
<div class="ttc" id="aclassCreature_html_a9815c564e7ff4db1ccd4b58c94bbcf61"><div class="ttname"><a href="classCreature.html#a9815c564e7ff4db1ccd4b58c94bbcf61">Creature::get_melee_quiet</a></div><div class="ttdeci">virtual bool get_melee_quiet() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02820">creature.cpp:2820</a></div></div>
<div class="ttc" id="aclassCreature_html_a98ef8437aca8647165ccbe2ebb2e1f2c"><div class="ttname"><a href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">Creature::is_fake</a></div><div class="ttdeci">virtual bool is_fake() const</div><div class="ttdoc">Returns true for non-real Creatures used temporarily; i.e.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01518">creature.cpp:1518</a></div></div>
<div class="ttc" id="aclassCreature_html_a9993b4cb7492f25fb6eb70568009d90a"><div class="ttname"><a href="classCreature.html#a9993b4cb7492f25fb6eb70568009d90a">Creature::set_block_bonus</a></div><div class="ttdeci">virtual void set_block_bonus(int nblock)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02886">creature.cpp:2886</a></div></div>
<div class="ttc" id="aclassCreature_html_a9b4c795f3f49a9cddb0d7259f70e4a02"><div class="ttname"><a href="classCreature.html#a9b4c795f3f49a9cddb0d7259f70e4a02">Creature::get_eff_per</a></div><div class="ttdeci">virtual int get_eff_per() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02143">creature.cpp:2143</a></div></div>
<div class="ttc" id="aclassCreature_html_a9c689698d40571b61622e3bec6cf36a7"><div class="ttname"><a href="classCreature.html#a9c689698d40571b61622e3bec6cf36a7">Creature::melee_quiet</a></div><div class="ttdeci">bool melee_quiet</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01234">creature.h:1234</a></div></div>
<div class="ttc" id="aclassCreature_html_a9df0a066b29a8eedfa048fde96a19a1f"><div class="ttname"><a href="classCreature.html#a9df0a066b29a8eedfa048fde96a19a1f">Creature::get_all_eligable_parts</a></div><div class="ttdeci">std::vector&lt; bodypart_id &gt; get_all_eligable_parts(int min_hit, int max_hit, bool can_attack_high) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03036">creature.cpp:3036</a></div></div>
<div class="ttc" id="aclassCreature_html_a9eea7f2ab169160c6d6fc2a7d93c96f1"><div class="ttname"><a href="classCreature.html#a9eea7f2ab169160c6d6fc2a7d93c96f1">Creature::is_symbol_highlighted</a></div><div class="ttdeci">virtual bool is_symbol_highlighted() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02998">creature.cpp:2998</a></div></div>
<div class="ttc" id="aclassCreature_html_a9f0365208b65ab1c45d23f03f402f491"><div class="ttname"><a href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">Creature::posy</a></div><div class="ttdeci">int posy() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00314">creature.h:314</a></div></div>
<div class="ttc" id="aclassCreature_html_aa00c327b305717936ecf94eda194e3cc"><div class="ttname"><a href="classCreature.html#aa00c327b305717936ecf94eda194e3cc">Creature::set_bash_bonus</a></div><div class="ttdeci">virtual void set_bash_bonus(int nbash)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02894">creature.cpp:2894</a></div></div>
<div class="ttc" id="aclassCreature_html_aa39af83d946765e7e652fd66d50e807c"><div class="ttname"><a href="classCreature.html#aa39af83d946765e7e652fd66d50e807c">Creature::knock_back_from</a></div><div class="ttdeci">void knock_back_from(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03114">creature.cpp:3114</a></div></div>
<div class="ttc" id="aclassCreature_html_aa4f09ff71f1aa8562798d47cb4ef0682"><div class="ttname"><a href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">Creature::mod_speed_bonus</a></div><div class="ttdeci">virtual void mod_speed_bonus(int nspeed)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02902">creature.cpp:2902</a></div></div>
<div class="ttc" id="aclassCreature_html_aa54d9cad484861b5ead6aed8c1abfa0e"><div class="ttname"><a href="classCreature.html#aa54d9cad484861b5ead6aed8c1abfa0e">Creature::set_armor_res_bonus</a></div><div class="ttdeci">virtual void set_armor_res_bonus(int narm, const damage_type_id &amp;dt)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02868">creature.cpp:2868</a></div></div>
<div class="ttc" id="aclassCreature_html_aa5da3a2470cbe9db76174216826307c1"><div class="ttname"><a href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">Creature::add_msg_if_npc</a></div><div class="ttdeci">virtual void add_msg_if_npc(const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01018">creature.h:1018</a></div></div>
<div class="ttc" id="aclassCreature_html_aa80c16d08f583214085a919a921ab179"><div class="ttname"><a href="classCreature.html#aa80c16d08f583214085a919a921ab179">Creature::on_try_dodge</a></div><div class="ttdeci">virtual void on_try_dodge()=0</div><div class="ttdoc">Invoked when the creature attempts to dodge, regardless of success or failure.</div></div>
<div class="ttc" id="aclassCreature_html_aa8d3d8f5a3260c5b54e4973e957f356d"><div class="ttname"><a href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">Creature::get_effect</a></div><div class="ttdeci">const effect &amp; get_effect(const efftype_id &amp;eff_id, const bodypart_id &amp;bp=bodypart_str_id::NULL_ID()) const</div><div class="ttdoc">Return the effect that matches the given arguments exactly.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01852">creature.cpp:1852</a></div></div>
<div class="ttc" id="aclassCreature_html_aa957c7087f200c7b37f8ed06f891cac6"><div class="ttname"><a href="classCreature.html#aa957c7087f200c7b37f8ed06f891cac6">Creature::get_all_body_parts_of_type</a></div><div class="ttdeci">std::vector&lt; bodypart_id &gt; get_all_body_parts_of_type(body_part_type::type part_type, get_body_part_flags flags=get_body_part_flags::none) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02659">creature.cpp:2659</a></div></div>
<div class="ttc" id="aclassCreature_html_aaa501dbe3d1e90d47da43fb9ea57b3be"><div class="ttname"><a href="classCreature.html#aaa501dbe3d1e90d47da43fb9ea57b3be">Creature::get_dodge</a></div><div class="ttdeci">virtual float get_dodge() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02148">creature.cpp:2148</a></div></div>
<div class="ttc" id="aclassCreature_html_aaaf5a839711997aff5199ad5285c3204"><div class="ttname"><a href="classCreature.html#aaaf5a839711997aff5199ad5285c3204">Creature::set_part_damage_bandaged</a></div><div class="ttdeci">void set_part_damage_bandaged(const bodypart_id &amp;id, int set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02366">creature.cpp:2366</a></div></div>
<div class="ttc" id="aclassCreature_html_aab3ed00f0b1635fcb5efaa93cf3f8336"><div class="ttname"><a href="classCreature.html#aab3ed00f0b1635fcb5efaa93cf3f8336">Creature::cmat_fleshnveg</a></div><div class="ttdeci">static const std::set&lt; material_id &gt; cmat_fleshnveg</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00746">creature.h:746</a></div></div>
<div class="ttc" id="aclassCreature_html_aabed1ac65b7fbd67cfb8a3252b16e67d"><div class="ttname"><a href="classCreature.html#aabed1ac65b7fbd67cfb8a3252b16e67d">Creature::replace_with_npc_name</a></div><div class="ttdeci">std::string replace_with_npc_name(std::string input) const</div><div class="ttdoc">This function replaces the &quot;&lt;npcname&gt;&quot; substring with the disp_name of this creature.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03108">creature.cpp:3108</a></div></div>
<div class="ttc" id="aclassCreature_html_aad6dc5532f233030d367ed67e0ea6613"><div class="ttname"><a href="classCreature.html#aad6dc5532f233030d367ed67e0ea6613">Creature::get_part_hp_max</a></div><div class="ttdeci">int get_part_hp_max(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02282">creature.cpp:2282</a></div></div>
<div class="ttc" id="aclassCreature_html_aaed992e8acaf0e9dc182ea8ce1d15423"><div class="ttname"><a href="classCreature.html#aaed992e8acaf0e9dc182ea8ce1d15423">Creature::set_num_blocks_bonus</a></div><div class="ttdeci">virtual void set_num_blocks_bonus(int nblocks)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02853">creature.cpp:2853</a></div></div>
<div class="ttc" id="aclassCreature_html_aafc0c68bbbca5efcf8d82a321b657588"><div class="ttname"><a href="classCreature.html#aafc0c68bbbca5efcf8d82a321b657588">Creature::mod_stat</a></div><div class="ttdeci">virtual void mod_stat(const std::string &amp;stat, float modifier)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02830">creature.cpp:2830</a></div></div>
<div class="ttc" id="aclassCreature_html_ab0206ab4bdb7c990e917cb5240d2a470"><div class="ttname"><a href="classCreature.html#ab0206ab4bdb7c990e917cb5240d2a470">Creature::block_bonus</a></div><div class="ttdeci">int block_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01226">creature.h:1226</a></div></div>
<div class="ttc" id="aclassCreature_html_ab1bef04dffb96ab1ad30472fd2895a08"><div class="ttname"><a href="classCreature.html#ab1bef04dffb96ab1ad30472fd2895a08">Creature::get_hp</a></div><div class="ttdeci">virtual int get_hp() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02760">creature.cpp:2760</a></div></div>
<div class="ttc" id="aclassCreature_html_ab25b40c4683f6554f45f76ddb06a089d"><div class="ttname"><a href="classCreature.html#ab25b40c4683f6554f45f76ddb06a089d">Creature::set_part_encumbrance_data</a></div><div class="ttdeci">void set_part_encumbrance_data(const bodypart_id &amp;id, const encumbrance_data &amp;set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02371">creature.cpp:2371</a></div></div>
<div class="ttc" id="aclassCreature_html_ab26785c7f4313d601074016eaec2b938"><div class="ttname"><a href="classCreature.html#ab26785c7f4313d601074016eaec2b938">Creature::summoner</a></div><div class="ttdeci">std::optional&lt; character_id &gt; summoner</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01197">creature.h:1197</a></div></div>
<div class="ttc" id="aclassCreature_html_ab4095a32d376ed62d2dec7dbff95f214"><div class="ttname"><a href="classCreature.html#ab4095a32d376ed62d2dec7dbff95f214">Creature::set_summoner</a></div><div class="ttdeci">void set_summoner(Creature *summoner)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02071">creature.cpp:2071</a></div></div>
<div class="ttc" id="aclassCreature_html_ab4c318885f6b9947a7c85d3328d25ffe"><div class="ttname"><a href="classCreature.html#ab4c318885f6b9947a7c85d3328d25ffe">Creature::is_dead_state</a></div><div class="ttdeci">virtual bool is_dead_state() const =0</div></div>
<div class="ttc" id="aclassCreature_html_ab7f9ca1f62f41d70a2615dfeb17b7cbc"><div class="ttname"><a href="classCreature.html#ab7f9ca1f62f41d70a2615dfeb17b7cbc">Creature::get_dodge_bonus</a></div><div class="ttdeci">virtual float get_dodge_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02790">creature.cpp:2790</a></div></div>
<div class="ttc" id="aclassCreature_html_ab901ee8b150fdad01ff2028ec8dba84c"><div class="ttname"><a href="classCreature.html#ab901ee8b150fdad01ff2028ec8dba84c">Creature::get_part_hp_cur</a></div><div class="ttdeci">int get_part_hp_cur(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02277">creature.cpp:2277</a></div></div>
<div class="ttc" id="aclassCreature_html_abb91e1cd5610658124d40623e7e4d698"><div class="ttname"><a href="classCreature.html#abb91e1cd5610658124d40623e7e4d698">Creature::auto_find_hostile_target</a></div><div class="ttdeci">Creature * auto_find_hostile_target(int range, int &amp;boo_hoo, int area=0)</div><div class="ttdoc">For fake-players (turrets, mounted turrets) this functions chooses a target.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00554">creature.cpp:554</a></div></div>
<div class="ttc" id="aclassCreature_html_abbfb6067cd74b31799fe312fbe0fd1cf"><div class="ttname"><a href="classCreature.html#abbfb6067cd74b31799fe312fbe0fd1cf">Creature::deal_melee_hit</a></div><div class="ttdeci">virtual void deal_melee_hit(Creature *source, int hit_spread, bool critical_hit, damage_instance dam, dealt_damage_instance &amp;dealt_dam, const weakpoint_attack &amp;attack=weakpoint_attack(), const bodypart_id *bp=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00797">creature.cpp:797</a></div></div>
<div class="ttc" id="aclassCreature_html_abd9af93b322d04729ae5e81c826cbc4f"><div class="ttname"><a href="classCreature.html#abd9af93b322d04729ae5e81c826cbc4f">Creature::get_grammatical_genders</a></div><div class="ttdeci">virtual std::vector&lt; std::string &gt; get_grammatical_genders() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00214">creature.cpp:214</a></div></div>
<div class="ttc" id="aclassCreature_html_abe6022b1e8465afa8f672d77cbbe5680"><div class="ttname"><a href="classCreature.html#abe6022b1e8465afa8f672d77cbbe5680">Creature::longpull</a></div><div class="ttdeci">void longpull(const std::string &amp;name, const tripoint &amp;p)</div><div class="ttdoc">Attempts to pull the target at point p towards this creature.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01339">creature.cpp:1339</a></div></div>
<div class="ttc" id="aclassCreature_html_abf59bb0bd44c13a69222fb9d9f7796ab"><div class="ttname"><a href="classCreature.html#abf59bb0bd44c13a69222fb9d9f7796ab">Creature::set_cut_mult</a></div><div class="ttdeci">virtual void set_cut_mult(float ncutmult)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02936">creature.cpp:2936</a></div></div>
<div class="ttc" id="aclassCreature_html_ac05b5c462926b4f5b329e7b2826f8ce7"><div class="ttname"><a href="classCreature.html#ac05b5c462926b4f5b329e7b2826f8ce7">Creature::symbol_color</a></div><div class="ttdeci">virtual nc_color symbol_color() const =0</div><div class="ttdoc">Creature symbol background color.</div></div>
<div class="ttc" id="aclassCreature_html_ac16dcdb688f6f47c594c98c83528a670"><div class="ttname"><a href="classCreature.html#ac16dcdb688f6f47c594c98c83528a670">Creature::setpos</a></div><div class="ttdeci">void setpos(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00188">creature.cpp:188</a></div></div>
<div class="ttc" id="aclassCreature_html_ac17b598158d47e40713408e8c88b20b4"><div class="ttname"><a href="classCreature.html#ac17b598158d47e40713408e8c88b20b4">Creature::reset_bonuses</a></div><div class="ttdeci">virtual void reset_bonuses()</div><div class="ttdoc">Resets the value of all bonus fields to 0.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00235">creature.cpp:235</a></div></div>
<div class="ttc" id="aclassCreature_html_ac209d32cbfd3774af3d5c0500e2fae52"><div class="ttname"><a href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">Creature::is_avatar</a></div><div class="ttdeci">virtual bool is_avatar() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00265">creature.h:265</a></div></div>
<div class="ttc" id="aclassCreature_html_ac211737fb0fabb73b28d9aee3922ae50"><div class="ttname"><a href="classCreature.html#ac211737fb0fabb73b28d9aee3922ae50">Creature::global_sm_location</a></div><div class="ttdeci">tripoint_abs_sm global_sm_location() const</div><div class="ttdoc">Returns the location of the creature in global submap coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03237">creature.cpp:3237</a></div></div>
<div class="ttc" id="aclassCreature_html_ac2a4228cdac0e116a7f9238e2d1b5561"><div class="ttname"><a href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561">Creature::get_hp_max</a></div><div class="ttdeci">virtual int get_hp_max() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02777">creature.cpp:2777</a></div></div>
<div class="ttc" id="aclassCreature_html_ac3003f3854c9f0e439092c44dffb30af"><div class="ttname"><a href="classCreature.html#ac3003f3854c9f0e439092c44dffb30af">Creature::get_num_body_parts_of_type</a></div><div class="ttdeci">int get_num_body_parts_of_type(body_part_type::type part_type) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02732">creature.cpp:2732</a></div></div>
<div class="ttc" id="aclassCreature_html_ac339c87d92ebb3cc1092d12e78886184"><div class="ttname"><a href="classCreature.html#ac339c87d92ebb3cc1092d12e78886184">Creature::creature_anatomy</a></div><div class="ttdeci">anatomy_id creature_anatomy</div><div class="ttdoc">anatomy is the plan of the creature's body</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00785">creature.h:785</a></div></div>
<div class="ttc" id="aclassCreature_html_ac380c4fbe0ac80511f51477a4ea52846"><div class="ttname"><a href="classCreature.html#ac380c4fbe0ac80511f51477a4ea52846">Creature::get_drenching_body_parts</a></div><div class="ttdeci">body_part_set get_drenching_body_parts(bool upper=true, bool mid=true, bool lower=true) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02704">creature.cpp:2704</a></div></div>
<div class="ttc" id="aclassCreature_html_ac38f528b62575754ce16027ae50ae8da"><div class="ttname"><a href="classCreature.html#ac38f528b62575754ce16027ae50ae8da">Creature::sight_range</a></div><div class="ttdeci">virtual int sight_range(float light_level) const =0</div><div class="ttdoc">How far the creature sees under the given light.</div></div>
<div class="ttc" id="aclassCreature_html_ac4dbde454c86b3296f53681c60612974"><div class="ttname"><a href="classCreature.html#ac4dbde454c86b3296f53681c60612974">Creature::get_body</a></div><div class="ttdeci">const std::map&lt; bodypart_str_id, bodypart &gt; &amp; get_body() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02167">creature.cpp:2167</a></div></div>
<div class="ttc" id="aclassCreature_html_ac5fa405fe6d75e0298051ab413cdfac1"><div class="ttname"><a href="classCreature.html#ac5fa405fe6d75e0298051ab413cdfac1">Creature::cmat_flameres</a></div><div class="ttdeci">static const std::set&lt; material_id &gt; cmat_flameres</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00748">creature.h:748</a></div></div>
<div class="ttc" id="aclassCreature_html_ac7516d970e4db80cfcf8c0c8d345a2fa"><div class="ttname"><a href="classCreature.html#ac7516d970e4db80cfcf8c0c8d345a2fa">Creature::in_sleep_state</a></div><div class="ttdeci">virtual bool in_sleep_state() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02017">creature.cpp:2017</a></div></div>
<div class="ttc" id="aclassCreature_html_ac8f38377afed03dc95b4036819f893f1"><div class="ttname"><a href="classCreature.html#ac8f38377afed03dc95b4036819f893f1">Creature::messaging_projectile_attack</a></div><div class="ttdeci">void messaging_projectile_attack(const Creature *source, const projectile_attack_results &amp;hit_selection, int total_damage) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01044">creature.cpp:1044</a></div></div>
<div class="ttc" id="aclassCreature_html_ac93f4ccc1bff76ada002c7e886c941ef"><div class="ttname"><a href="classCreature.html#ac93f4ccc1bff76ada002c7e886c941ef">Creature::set_location</a></div><div class="ttdeci">void set_location(const tripoint_abs_ms &amp;loc)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00207">creature.cpp:207</a></div></div>
<div class="ttc" id="aclassCreature_html_ac9fd76782cca4157eda2afcb7d66f02e"><div class="ttname"><a href="classCreature.html#ac9fd76782cca4157eda2afcb7d66f02e">Creature::get_size</a></div><div class="ttdeci">virtual creature_size get_size() const =0</div></div>
<div class="ttc" id="aclassCreature_html_acade0ea13817c0eb182bc139f9479e96"><div class="ttname"><a href="classCreature.html#acade0ea13817c0eb182bc139f9479e96">Creature::on_effect_int_change</a></div><div class="ttdeci">virtual void on_effect_int_change(const efftype_id &amp;, int, const bodypart_id &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01248">creature.h:1248</a></div></div>
<div class="ttc" id="aclassCreature_html_acb022e34c016f883fb785ab8af715bd0"><div class="ttname"><a href="classCreature.html#acb022e34c016f883fb785ab8af715bd0">Creature::get_part_temp_cur</a></div><div class="ttdeci">units::temperature get_part_temp_cur(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02317">creature.cpp:2317</a></div></div>
<div class="ttc" id="aclassCreature_html_acbef2e3b6be66df5dd9a7bf587d116bf"><div class="ttname"><a href="classCreature.html#acbef2e3b6be66df5dd9a7bf587d116bf">Creature::impact</a></div><div class="ttdeci">virtual int impact(int force, const tripoint &amp;pos)=0</div><div class="ttdoc">Deals falling/collision damage with terrain/creature at pos.</div></div>
<div class="ttc" id="aclassCreature_html_acd04500c61e64cf199ea86f37e95c4a6"><div class="ttname"><a href="classCreature.html#acd04500c61e64cf199ea86f37e95c4a6">Creature::is_warm</a></div><div class="ttdeci">virtual bool is_warm() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01508">creature.cpp:1508</a></div></div>
<div class="ttc" id="aclassCreature_html_acfac03f5782f8ea53e1efcb5321ead1b"><div class="ttname"><a href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">Creature::get_speed_base</a></div><div class="ttdeci">virtual int get_speed_base() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02782">creature.cpp:2782</a></div></div>
<div class="ttc" id="aclassCreature_html_acfe4b827ccc042c7933e709fbca6476e"><div class="ttname"><a href="classCreature.html#acfe4b827ccc042c7933e709fbca6476e">Creature::is_immune_effect</a></div><div class="ttdeci">virtual bool is_immune_effect(const efftype_id &amp;type) const =0</div></div>
<div class="ttc" id="aclassCreature_html_ad0bd61214218ff0dcd676b0b72fed8e5"><div class="ttname"><a href="classCreature.html#ad0bd61214218ff0dcd676b0b72fed8e5">Creature::mod_part_damage_disinfected</a></div><div class="ttdeci">void mod_part_damage_disinfected(const bodypart_id &amp;id, int mod)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02420">creature.cpp:2420</a></div></div>
<div class="ttc" id="aclassCreature_html_ad0d456dd94dedc99904380699582135b"><div class="ttname"><a href="classCreature.html#ad0d456dd94dedc99904380699582135b">Creature::made_of_any</a></div><div class="ttdeci">virtual bool made_of_any(const std::set&lt; material_id &gt; &amp;ms) const =0</div></div>
<div class="ttc" id="aclassCreature_html_ad13bdca3773955224f3bac4591fb5ecd"><div class="ttname"><a href="classCreature.html#ad13bdca3773955224f3bac4591fb5ecd">Creature::throw_resist</a></div><div class="ttdeci">int throw_resist</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01236">creature.h:1236</a></div></div>
<div class="ttc" id="aclassCreature_html_ad41cb6f136d40eec49e9d1679fbacc6d"><div class="ttname"><a href="classCreature.html#ad41cb6f136d40eec49e9d1679fbacc6d">Creature::get_effects_from_bp</a></div><div class="ttdeci">std::vector&lt; std::reference_wrapper&lt; const effect &gt; &gt; get_effects_from_bp(const bodypart_id &amp;bp) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01834">creature.cpp:1834</a></div></div>
<div class="ttc" id="aclassCreature_html_ad628fd3820652dc675e2165d3252e6dc"><div class="ttname"><a href="classCreature.html#ad628fd3820652dc675e2165d3252e6dc">Creature::attitude_raw_string</a></div><div class="ttdeci">static std::string attitude_raw_string(Attitude att)</div><div class="ttdoc">Simplified attitude string for unlocalized needs.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03074">creature.cpp:3074</a></div></div>
<div class="ttc" id="aclassCreature_html_ad698149db2e025cddd1e774770fc7de8"><div class="ttname"><a href="classCreature.html#ad698149db2e025cddd1e774770fc7de8">Creature::set_part_temp_conv</a></div><div class="ttdeci">void set_part_temp_conv(const bodypart_id &amp;id, units::temperature set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02386">creature.cpp:2386</a></div></div>
<div class="ttc" id="aclassCreature_html_ad76a5de4e1a09c774c1fea1c3405075b"><div class="ttname"><a href="classCreature.html#ad76a5de4e1a09c774c1fea1c3405075b">Creature::set_fake</a></div><div class="ttdeci">virtual void set_fake(bool fake_value)</div><div class="ttdoc">Sets a Creature's fake boolean.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01523">creature.cpp:1523</a></div></div>
<div class="ttc" id="aclassCreature_html_ad773414b7104cae9ac1df7404528a956"><div class="ttname"><a href="classCreature.html#ad773414b7104cae9ac1df7404528a956">Creature::num_blocks_bonus</a></div><div class="ttdeci">int num_blocks_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01218">creature.h:1218</a></div></div>
<div class="ttc" id="aclassCreature_html_ad783dabe159958ef84fda098adc655fe"><div class="ttname"><a href="classCreature.html#ad783dabe159958ef84fda098adc655fe">Creature::set_all_parts_temp_conv</a></div><div class="ttdeci">void set_all_parts_temp_conv(units::temperature set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02460">creature.cpp:2460</a></div></div>
<div class="ttc" id="aclassCreature_html_ad8810c3abed9b6a4f0705fd9be466e33"><div class="ttname"><a href="classCreature.html#ad8810c3abed9b6a4f0705fd9be466e33">Creature::get_melee</a></div><div class="ttdeci">virtual float get_melee() const =0</div></div>
<div class="ttc" id="aclassCreature_html_ad88ff594784edeceaef456d2a08180bc"><div class="ttname"><a href="classCreature.html#ad88ff594784edeceaef456d2a08180bc">Creature::set_killer</a></div><div class="ttdeci">void set_killer(Creature *killer)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02031">creature.cpp:2031</a></div></div>
<div class="ttc" id="aclassCreature_html_ada7a49ad443c0522cdd7422d53bef2c1"><div class="ttname"><a href="classCreature.html#ada7a49ad443c0522cdd7422d53bef2c1">Creature::cant_do_underwater</a></div><div class="ttdeci">bool cant_do_underwater(bool msg=true) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00280">creature.cpp:280</a></div></div>
<div class="ttc" id="aclassCreature_html_adb780bf253606fd68aee32c4e34eccd4"><div class="ttname"><a href="classCreature.html#adb780bf253606fd68aee32c4e34eccd4">Creature::get_num_blocks_base</a></div><div class="ttdeci">virtual int get_num_blocks_base() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02103">creature.cpp:2103</a></div></div>
<div class="ttc" id="aclassCreature_html_adbb994679f77dfa6b446c0d36961c6a2"><div class="ttname"><a href="classCreature.html#adbb994679f77dfa6b446c0d36961c6a2">Creature::dodge_bonus</a></div><div class="ttdeci">float dodge_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01225">creature.h:1225</a></div></div>
<div class="ttc" id="aclassCreature_html_adced27b4b5a49657101ce649e8a761a6"><div class="ttname"><a href="classCreature.html#adced27b4b5a49657101ce649e8a761a6">Creature::set_anatomy</a></div><div class="ttdeci">void set_anatomy(const anatomy_id &amp;anat)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02162">creature.cpp:2162</a></div></div>
<div class="ttc" id="aclassCreature_html_add5b4e52817f260a96ddcfdea6d4585e"><div class="ttname"><a href="classCreature.html#add5b4e52817f260a96ddcfdea6d4585e">Creature::get_values</a></div><div class="ttdeci">std::unordered_map&lt; std::string, std::string &gt; &amp; get_values()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03003">creature.cpp:3003</a></div></div>
<div class="ttc" id="aclassCreature_html_addeddc9bebcf52539dd21b4a767d7f11"><div class="ttname"><a href="classCreature.html#addeddc9bebcf52539dd21b4a767d7f11">Creature::on_dodge</a></div><div class="ttdeci">virtual void on_dodge(Creature *source, float difficulty, float training_level=0.0f)=0</div><div class="ttdoc">This creature just dodged an attack - possibly special/ranged attack - from source.</div></div>
<div class="ttc" id="aclassCreature_html_ade25d295e89504f92aff453b05cd2bbe"><div class="ttname"><a href="classCreature.html#ade25d295e89504f92aff453b05cd2bbe">Creature::clear_effects</a></div><div class="ttdeci">void clear_effects()</div><div class="ttdoc">Remove all effects.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01712">creature.cpp:1712</a></div></div>
<div class="ttc" id="aclassCreature_html_adfe71cd74e297421f79b6b8f3f31f418"><div class="ttname"><a href="classCreature.html#adfe71cd74e297421f79b6b8f3f31f418">Creature::has_atleast_one_wet_part</a></div><div class="ttdeci">bool has_atleast_one_wet_part() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02491">creature.cpp:2491</a></div></div>
<div class="ttc" id="aclassCreature_html_adff4c04a6da90d65a811388f0df65742"><div class="ttname"><a href="classCreature.html#adff4c04a6da90d65a811388f0df65742">Creature::select_body_part_projectile_attack</a></div><div class="ttdeci">projectile_attack_results select_body_part_projectile_attack(const projectile &amp;proj, double goodhit, double missed_by) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00994">creature.cpp:994</a></div></div>
<div class="ttc" id="aclassCreature_html_adffc2b92625bf6103e3e2f95c3a404c3"><div class="ttname"><a href="classCreature.html#adffc2b92625bf6103e3e2f95c3a404c3">Creature::mod_num_dodges_bonus</a></div><div class="ttdeci">virtual void mod_num_dodges_bonus(int ndodges)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02863">creature.cpp:2863</a></div></div>
<div class="ttc" id="aclassCreature_html_ae14e3b3ab4a876a17538cfe38818356c"><div class="ttname"><a href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">Creature::effects</a></div><div class="ttdeci">pimpl&lt; effects_map &gt; effects</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01204">creature.h:1204</a></div></div>
<div class="ttc" id="aclassCreature_html_ae1db7a9a0aac4a2279436eac442bd4e0"><div class="ttname"><a href="classCreature.html#ae1db7a9a0aac4a2279436eac442bd4e0">Creature::clear_values</a></div><div class="ttdeci">void clear_values()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01970">creature.cpp:1970</a></div></div>
<div class="ttc" id="aclassCreature_html_ae25a137e18ca7d92a4ba6c18c0eab97c"><div class="ttname"><a href="classCreature.html#ae25a137e18ca7d92a4ba6c18c0eab97c">Creature::is_likely_underwater</a></div><div class="ttdeci">bool is_likely_underwater() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00297">creature.cpp:297</a></div></div>
<div class="ttc" id="aclassCreature_html_ae26f38c57c1d967a803a80cb3a3703bf"><div class="ttname"><a href="classCreature.html#ae26f38c57c1d967a803a80cb3a3703bf">Creature::get_summoner</a></div><div class="ttdeci">Creature * get_summoner() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02060">creature.cpp:2060</a></div></div>
<div class="ttc" id="aclassCreature_html_ae498ac0177ab95ad88e80a454e67f721"><div class="ttname"><a href="classCreature.html#ae498ac0177ab95ad88e80a454e67f721">Creature::get_num_dodges_bonus</a></div><div class="ttdeci">virtual int get_num_dodges_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02098">creature.cpp:2098</a></div></div>
<div class="ttc" id="aclassCreature_html_ae5454f0e4db71d31ab3c1331e5103a4b"><div class="ttname"><a href="classCreature.html#ae5454f0e4db71d31ab3c1331e5103a4b">Creature::basic_symbol_color</a></div><div class="ttdeci">virtual nc_color basic_symbol_color() const =0</div><div class="ttdoc">Creature symbol color.</div></div>
<div class="ttc" id="aclassCreature_html_ae668a71c7a468fe4753374d3d51481bb"><div class="ttname"><a href="classCreature.html#ae668a71c7a468fe4753374d3d51481bb">Creature::speed_bonus</a></div><div class="ttdeci">int speed_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01224">creature.h:1224</a></div></div>
<div class="ttc" id="aclassCreature_html_ae6e5e8cb1fcf3243807a15fe65e47057"><div class="ttname"><a href="classCreature.html#ae6e5e8cb1fcf3243807a15fe65e47057">Creature::get_armor_res_bonus</a></div><div class="ttdeci">virtual int get_armor_res_bonus(const damage_type_id &amp;dt) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02126">creature.cpp:2126</a></div></div>
<div class="ttc" id="aclassCreature_html_ae74ff4a6c6e50b71374895f72246a667"><div class="ttname"><a href="classCreature.html#ae74ff4a6c6e50b71374895f72246a667">Creature::set_part_mut_drench</a></div><div class="ttdeci">void set_part_mut_drench(const bodypart_id &amp;id, std::pair&lt; water_tolerance, int &gt; set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02396">creature.cpp:2396</a></div></div>
<div class="ttc" id="aclassCreature_html_ae751e29e56563f0aed6fbb462cdca9c4"><div class="ttname"><a href="classCreature.html#ae751e29e56563f0aed6fbb462cdca9c4">Creature::get_part_drench_capacity</a></div><div class="ttdeci">int get_part_drench_capacity(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02307">creature.cpp:2307</a></div></div>
<div class="ttc" id="aclassCreature_html_ae8f80dc1205c60890a41fb5d34ea97a6"><div class="ttname"><a href="classCreature.html#ae8f80dc1205c60890a41fb5d34ea97a6">Creature::mod_part_temp_conv</a></div><div class="ttdeci">void mod_part_temp_conv(const bodypart_id &amp;id, units::temperature_delta mod)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02440">creature.cpp:2440</a></div></div>
<div class="ttc" id="aclassCreature_html_ae92d2444aa89afae41c107cf6fcf6851"><div class="ttname"><a href="classCreature.html#ae92d2444aa89afae41c107cf6fcf6851">Creature::hit_roll</a></div><div class="ttdeci">virtual float hit_roll() const =0</div><div class="ttdoc">Should always be overwritten by the appropriate player/NPC/monster version.</div></div>
<div class="ttc" id="aclassCreature_html_aec78049b0ee4401d3a4c073663735aad"><div class="ttname"><a href="classCreature.html#aec78049b0ee4401d3a4c073663735aad">Creature::has_flag</a></div><div class="ttdeci">virtual bool has_flag(const mon_flag_id &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00752">creature.h:752</a></div></div>
<div class="ttc" id="aclassCreature_html_aecea7d852ffba499ec12350c95340b9d"><div class="ttname"><a href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">Creature::posx</a></div><div class="ttdeci">int posx() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00311">creature.h:311</a></div></div>
<div class="ttc" id="aclassCreature_html_aed2af9ad3e8abd06b3c3c4f1adaf607e"><div class="ttname"><a href="classCreature.html#aed2af9ad3e8abd06b3c3c4f1adaf607e">Creature::has_effect_with_flag</a></div><div class="ttdeci">bool has_effect_with_flag(const flag_id &amp;flag, const bodypart_id &amp;bp) const</div><div class="ttdoc">Check if creature has any effect with the given flag.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01792">creature.cpp:1792</a></div></div>
<div class="ttc" id="aclassCreature_html_aed84fe52e1335d48d53f482f8a278c87"><div class="ttname"><a href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">Creature::is_npc</a></div><div class="ttdeci">virtual bool is_npc() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00268">creature.h:268</a></div></div>
<div class="ttc" id="aclassCreature_html_aeddcbc266445b335911f12f216f56cbb"><div class="ttname"><a href="classCreature.html#aeddcbc266445b335911f12f216f56cbb">Creature::select_blocking_part</a></div><div class="ttdeci">bodypart_id select_blocking_part(bool arm, bool leg, bool nonstandard) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03025">creature.cpp:3025</a></div></div>
<div class="ttc" id="aclassCreature_html_aeff660cc0df3f660c46142e5362f8ffe"><div class="ttname"><a href="classCreature.html#aeff660cc0df3f660c46142e5362f8ffe">Creature::get_part_healed_total</a></div><div class="ttdeci">int get_part_healed_total(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02287">creature.cpp:2287</a></div></div>
<div class="ttc" id="aclassCreature_html_af159bc6bc0d82e5eec0cf7beca25b795"><div class="ttname"><a href="classCreature.html#af159bc6bc0d82e5eec0cf7beca25b795">Creature::symbol</a></div><div class="ttdeci">virtual const std::string &amp; symbol() const =0</div><div class="ttdoc">Creature symbol.</div></div>
<div class="ttc" id="aclassCreature_html_af1f141f381984e2d0f119dc94429f1d3"><div class="ttname"><a href="classCreature.html#af1f141f381984e2d0f119dc94429f1d3">Creature::deal_damage</a></div><div class="ttdeci">virtual dealt_damage_instance deal_damage(Creature *source, bodypart_id bp, const damage_instance &amp;dam, const weakpoint_attack &amp;attack=weakpoint_attack())</div><div class="ttdoc">Deals the damage via an attack.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01221">creature.cpp:1221</a></div></div>
<div class="ttc" id="aclassCreature_html_af376b238bc80631e8873908f465fe7b2"><div class="ttname"><a href="classCreature.html#af376b238bc80631e8873908f465fe7b2">Creature::get_part</a></div><div class="ttdeci">bodypart * get_part(const bodypart_id &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02185">creature.cpp:2185</a></div></div>
<div class="ttc" id="aclassCreature_html_af3d3fb7cfb98cf3c36f0f0681414274a"><div class="ttname"><a href="classCreature.html#af3d3fb7cfb98cf3c36f0f0681414274a">Creature::get_moves</a></div><div class="ttdeci">int get_moves() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02004">creature.cpp:2004</a></div></div>
<div class="ttc" id="aclassCreature_html_af4d6d569180f457e7d2294946eaf7563"><div class="ttname"><a href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">Creature::killer</a></div><div class="ttdeci">Creature * killer</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01194">creature.h:1194</a></div></div>
<div class="ttc" id="aclassCreature_html_af537fe5ecb67408c498ee4517b4ab603"><div class="ttname"><a href="classCreature.html#af537fe5ecb67408c498ee4517b4ab603">Creature::mod_cut_bonus</a></div><div class="ttdeci">virtual void mod_cut_bonus(int ncut)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02922">creature.cpp:2922</a></div></div>
<div class="ttc" id="aclassCreature_html_af545ccf591070589820935240837e2f1"><div class="ttname"><a href="classCreature.html#af545ccf591070589820935240837e2f1">Creature::bash_bonus</a></div><div class="ttdeci">int bash_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01228">creature.h:1228</a></div></div>
<div class="ttc" id="aclassCreature_html_af5c36ca5b43c92f6cb02afb52a448372"><div class="ttname"><a href="classCreature.html#af5c36ca5b43c92f6cb02afb52a448372">Creature::is_dangerous_field</a></div><div class="ttdeci">bool is_dangerous_field(const field_entry &amp;entry) const</div><div class="ttdoc">Returns true if the given field entry is dangerous to us.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00346">creature.cpp:346</a></div></div>
<div class="ttc" id="aclassCreature_html_af7172e571c5c69240d9f71a01fddf035"><div class="ttname"><a href="classCreature.html#af7172e571c5c69240d9f71a01fddf035">Creature::pos_bub</a></div><div class="ttdeci">tripoint_bub_ms pos_bub() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00183">creature.cpp:183</a></div></div>
<div class="ttc" id="aclassCreature_html_af79c1e1ef891477157860a3e31db8492"><div class="ttname"><a href="classCreature.html#af79c1e1ef891477157860a3e31db8492">Creature::knock_back_to</a></div><div class="ttdeci">virtual void knock_back_to(const tripoint &amp;to)=0</div></div>
<div class="ttc" id="aclassCreature_html_af7c8ef39a61456810a5581a61d297b80"><div class="ttname"><a href="classCreature.html#af7c8ef39a61456810a5581a61d297b80">Creature::block_hit</a></div><div class="ttdeci">virtual bool block_hit(Creature *source, bodypart_id &amp;bp_hit, damage_instance &amp;dam)=0</div></div>
<div class="ttc" id="aclassCreature_html_af826bfbdc9d7f81a8b9e53775f43d080"><div class="ttname"><a href="classCreature.html#af826bfbdc9d7f81a8b9e53775f43d080">Creature::set_moves</a></div><div class="ttdeci">void set_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02012">creature.cpp:2012</a></div></div>
<div class="ttc" id="aclassCreature_html_afa48ff59c517a5e07e7dfc702b16007c"><div class="ttname"><a href="classCreature.html#afa48ff59c517a5e07e7dfc702b16007c">Creature::select_body_part</a></div><div class="ttdeci">bodypart_id select_body_part(int min_hit, int max_hit, bool can_attack_high, int hit_roll) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03013">creature.cpp:3013</a></div></div>
<div class="ttc" id="aclassCreature_html_afa9fd9bde984c1885a01f1c9b5bb9768"><div class="ttname"><a href="classCreature.html#afa9fd9bde984c1885a01f1c9b5bb9768">Creature::cut_mult</a></div><div class="ttdeci">float cut_mult</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01233">creature.h:1233</a></div></div>
<div class="ttc" id="aclassCreature_html_aface2aa918ea59decfc3f71fd891396c"><div class="ttname"><a href="classCreature.html#aface2aa918ea59decfc3f71fd891396c">Creature::size_map</a></div><div class="ttdeci">static const std::map&lt; std::string, creature_size &gt; size_map</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00255">creature.h:255</a></div></div>
<div class="ttc" id="aclassCreature_html_afbfbda1c9112c0551c654337b6176915"><div class="ttname"><a href="classCreature.html#afbfbda1c9112c0551c654337b6176915">Creature::on_stat_change</a></div><div class="ttdeci">virtual void on_stat_change(const std::string &amp;, int)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01247">creature.h:1247</a></div></div>
<div class="ttc" id="aclassCreature_html_afc608b798e2e44df25ea0fe26423c9b8"><div class="ttname"><a href="classCreature.html#afc608b798e2e44df25ea0fe26423c9b8">Creature::decrement_summon_timer</a></div><div class="ttdeci">void decrement_summon_timer()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02050">creature.cpp:2050</a></div></div>
<div class="ttc" id="aclassCreature_html_afd2f1b1e5bafdef20afddbb704b1d5a5"><div class="ttname"><a href="classCreature.html#afd2f1b1e5bafdef20afddbb704b1d5a5">Creature::uncanny_dodge</a></div><div class="ttdeci">virtual bool uncanny_dodge()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00755">creature.h:755</a></div></div>
<div class="ttc" id="aclassCreature_html_afedb5874d4d3438d3c82cb2104ec49fa"><div class="ttname"><a href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">Creature::set_speed_base</a></div><div class="ttdeci">virtual void set_speed_base(int nspeed)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02873">creature.cpp:2873</a></div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00526">flexbuffer_json.h:527</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a4d917fcb285203f91b74002565375dce"><div class="ttname"><a href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00984">flexbuffer_json-inl.h:984</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a8517ac783372bd0bf149ab8e5f7aae18"><div class="ttname"><a href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">JsonObject::read</a></div><div class="ttdeci">bool read(std::string_view name, T &amp;t, bool throw_on_error=true) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l01059">flexbuffer_json-inl.h:1059</a></div></div>
<div class="ttc" id="aclassanatomy_html"><div class="ttname"><a href="classanatomy.html">anatomy</a></div><div class="ttdoc">A structure that contains body parts.</div><div class="ttdef"><b>Definition:</b> <a href="anatomy_8h_source.html#l00023">anatomy.h:24</a></div></div>
<div class="ttc" id="aclassanatomy_html_a301594550819820194422e6941f80b89"><div class="ttname"><a href="classanatomy.html#a301594550819820194422e6941f80b89">anatomy::get_max_hitsize_bodypart</a></div><div class="ttdeci">bodypart_id get_max_hitsize_bodypart() const</div><div class="ttdef"><b>Definition:</b> <a href="anatomy_8cpp_source.html#l00344">anatomy.cpp:344</a></div></div>
<div class="ttc" id="aclassanatomy_html_a455fc1fdb6ccfefee3f1f95e8663cb6d"><div class="ttname"><a href="classanatomy.html#a455fc1fdb6ccfefee3f1f95e8663cb6d">anatomy::select_body_part_projectile_attack</a></div><div class="ttdeci">bodypart_id select_body_part_projectile_attack(double range_min, double range_max, double value) const</div><div class="ttdef"><b>Definition:</b> <a href="anatomy_8cpp_source.html#l00352">anatomy.cpp:352</a></div></div>
<div class="ttc" id="aclassanatomy_html_a9abee0359e7a698fef47a132564829ee"><div class="ttname"><a href="classanatomy.html#a9abee0359e7a698fef47a132564829ee">anatomy::select_blocking_part</a></div><div class="ttdeci">bodypart_id select_blocking_part(const Creature *blocker, bool arm, bool leg, bool nonstandard) const</div><div class="ttdef"><b>Definition:</b> <a href="anatomy_8cpp_source.html#l00264">anatomy.cpp:264</a></div></div>
<div class="ttc" id="aclassanatomy_html_abae9f237437b7f56f5efbd6983706324"><div class="ttname"><a href="classanatomy.html#abae9f237437b7f56f5efbd6983706324">anatomy::random_body_part</a></div><div class="ttdeci">bodypart_id random_body_part() const</div><div class="ttdoc">Returns a random body_part token.</div><div class="ttdef"><b>Definition:</b> <a href="anatomy_8cpp_source.html#l00209">anatomy.cpp:209</a></div></div>
<div class="ttc" id="aclassanatomy_html_ad1a4c1588b5c49ca3d6ba67ea5f72d2c"><div class="ttname"><a href="classanatomy.html#ad1a4c1588b5c49ca3d6ba67ea5f72d2c">anatomy::select_body_part</a></div><div class="ttdeci">bodypart_id select_body_part(int min_hit, int max_hit, bool can_attack_high, int hit_roll) const</div><div class="ttdef"><b>Definition:</b> <a href="anatomy_8cpp_source.html#l00214">anatomy.cpp:214</a></div></div>
<div class="ttc" id="aclassanatomy_html_af43b349aca8f1e44b6a244ee80ae1286"><div class="ttname"><a href="classanatomy.html#af43b349aca8f1e44b6a244ee80ae1286">anatomy::get_all_eligable_parts</a></div><div class="ttdeci">std::vector&lt; bodypart_id &gt; get_all_eligable_parts(int min_hit, int max_hit, bool can_attack_high) const</div><div class="ttdef"><b>Definition:</b> <a href="anatomy_8cpp_source.html#l00330">anatomy.cpp:330</a></div></div>
<div class="ttc" id="aclassanonymous__namespace_02creature_8cpp_03_1_1type__identity_html"><div class="ttname"><a href="classanonymous__namespace_02creature_8cpp_03_1_1type__identity.html">anonymous_namespace{creature.cpp}::type_identity</a></div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02223">creature.cpp:2224</a></div></div>
<div class="ttc" id="aclassanonymous__namespace_02creature_8cpp_03_1_1type__identity_html_ad0535e9c0aca089fd498cc88b37214bf"><div class="ttname"><a href="classanonymous__namespace_02creature_8cpp_03_1_1type__identity.html#ad0535e9c0aca089fd498cc88b37214bf">anonymous_namespace{creature.cpp}::type_identity::type</a></div><div class="ttdeci">T type</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02226">creature.cpp:2226</a></div></div>
<div class="ttc" id="aclassbody__part__set_html"><div class="ttname"><a href="classbody__part__set.html">body_part_set</a></div><div class="ttdef"><b>Definition:</b> <a href="body__part__set_8h_source.html#l00011">body_part_set.h:12</a></div></div>
<div class="ttc" id="aclassbody__part__set_html_afe9ad0949dc3ee2b24dd009295fe9460"><div class="ttname"><a href="classbody__part__set.html#afe9ad0949dc3ee2b24dd009295fe9460">body_part_set::fill</a></div><div class="ttdeci">void fill(const std::vector&lt; bodypart_id &gt; &amp;bps)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00862">bodypart.cpp:862</a></div></div>
<div class="ttc" id="aclassbodypart_html"><div class="ttname"><a href="classbodypart.html">bodypart</a></div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00439">bodypart.h:440</a></div></div>
<div class="ttc" id="aclassbodypart_html_a01e15a79b1fb4a5197486c91860b9a82"><div class="ttname"><a href="classbodypart.html#a01e15a79b1fb4a5197486c91860b9a82">bodypart::get_healed_total</a></div><div class="ttdeci">int get_healed_total() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01012">bodypart.cpp:1012</a></div></div>
<div class="ttc" id="aclassbodypart_html_a022fd6e9d44414c3c0d01f02952f1b2a"><div class="ttname"><a href="classbodypart.html#a022fd6e9d44414c3c0d01f02952f1b2a">bodypart::set_wetness</a></div><div class="ttdeci">void set_wetness(int set)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01120">bodypart.cpp:1120</a></div></div>
<div class="ttc" id="aclassbodypart_html_a0b7d9d1007225e33ef6e829f63627846"><div class="ttname"><a href="classbodypart.html#a0b7d9d1007225e33ef6e829f63627846">bodypart::mod_temp_conv</a></div><div class="ttdeci">void mod_temp_conv(units::temperature_delta mod)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01175">bodypart.cpp:1175</a></div></div>
<div class="ttc" id="aclassbodypart_html_a0b9be45bcc50e066766e76450248da84"><div class="ttname"><a href="classbodypart.html#a0b9be45bcc50e066766e76450248da84">bodypart::get_wetness_percentage</a></div><div class="ttdeci">float get_wetness_percentage() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00894">bodypart.cpp:894</a></div></div>
<div class="ttc" id="aclassbodypart_html_a0ea0f17ff89b6c44b1c9609a34bdf608"><div class="ttname"><a href="classbodypart.html#a0ea0f17ff89b6c44b1c9609a34bdf608">bodypart::mod_hp_cur</a></div><div class="ttdeci">void mod_hp_cur(int mod)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01140">bodypart.cpp:1140</a></div></div>
<div class="ttc" id="aclassbodypart_html_a20016367193bcdc5e623f98fef007803"><div class="ttname"><a href="classbodypart.html#a20016367193bcdc5e623f98fef007803">bodypart::is_at_max_hp</a></div><div class="ttdeci">bool is_at_max_hp() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00889">bodypart.cpp:889</a></div></div>
<div class="ttc" id="aclassbodypart_html_a24002476e28e50b4ad9122caec149e15"><div class="ttname"><a href="classbodypart.html#a24002476e28e50b4ad9122caec149e15">bodypart::mod_hp_max</a></div><div class="ttdeci">void mod_hp_max(int mod)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01145">bodypart.cpp:1145</a></div></div>
<div class="ttc" id="aclassbodypart_html_a2737feef38491a814afe87ac5a611b33"><div class="ttname"><a href="classbodypart.html#a2737feef38491a814afe87ac5a611b33">bodypart::get_frostbite_timer</a></div><div class="ttdeci">int get_frostbite_timer() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01042">bodypart.cpp:1042</a></div></div>
<div class="ttc" id="aclassbodypart_html_a318486ab8c31b34a07d64bfb851ff327"><div class="ttname"><a href="classbodypart.html#a318486ab8c31b34a07d64bfb851ff327">bodypart::get_encumbrance_data</a></div><div class="ttdeci">const encumbrance_data &amp; get_encumbrance_data() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01027">bodypart.cpp:1027</a></div></div>
<div class="ttc" id="aclassbodypart_html_a336ad7baa67575d25ef5ddcfbb027faa"><div class="ttname"><a href="classbodypart.html#a336ad7baa67575d25ef5ddcfbb027faa">bodypart::get_mut_drench</a></div><div class="ttdeci">std::array&lt; int, NUM_WATER_TOLERANCE &gt; get_mut_drench() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01067">bodypart.cpp:1067</a></div></div>
<div class="ttc" id="aclassbodypart_html_a3fe45452441a7599e4cd004f3d8831e8"><div class="ttname"><a href="classbodypart.html#a3fe45452441a7599e4cd004f3d8831e8">bodypart::mod_frostbite_timer</a></div><div class="ttdeci">void mod_frostbite_timer(int mod)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01180">bodypart.cpp:1180</a></div></div>
<div class="ttc" id="aclassbodypart_html_a4baef9d3358ceb7f0f721cc5ddd30ef2"><div class="ttname"><a href="classbodypart.html#a4baef9d3358ceb7f0f721cc5ddd30ef2">bodypart::set_frostbite_timer</a></div><div class="ttdeci">void set_frostbite_timer(int set)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01135">bodypart.cpp:1135</a></div></div>
<div class="ttc" id="aclassbodypart_html_a4c9da5093c72b471b2693db76b3c47fd"><div class="ttname"><a href="classbodypart.html#a4c9da5093c72b471b2693db76b3c47fd">bodypart::get_temp_cur</a></div><div class="ttdeci">units::temperature get_temp_cur() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01047">bodypart.cpp:1047</a></div></div>
<div class="ttc" id="aclassbodypart_html_a5b5203fd99b2446d7431bbae43ba9b33"><div class="ttname"><a href="classbodypart.html#a5b5203fd99b2446d7431bbae43ba9b33">bodypart::set_encumbrance_data</a></div><div class="ttdeci">void set_encumbrance_data(const encumbrance_data &amp;set)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01107">bodypart.cpp:1107</a></div></div>
<div class="ttc" id="aclassbodypart_html_a63ecca012d71e576483b2ee1977554e9"><div class="ttname"><a href="classbodypart.html#a63ecca012d71e576483b2ee1977554e9">bodypart::get_damage_disinfected</a></div><div class="ttdeci">int get_damage_disinfected() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01022">bodypart.cpp:1022</a></div></div>
<div class="ttc" id="aclassbodypart_html_a6823cb6ee68e1083496f349e7999da74"><div class="ttname"><a href="classbodypart.html#a6823cb6ee68e1083496f349e7999da74">bodypart::get_damage_bandaged</a></div><div class="ttdeci">int get_damage_bandaged() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01017">bodypart.cpp:1017</a></div></div>
<div class="ttc" id="aclassbodypart_html_a6ada80f0743249902457366cbe91f9a3"><div class="ttname"><a href="classbodypart.html#a6ada80f0743249902457366cbe91f9a3">bodypart::get_hp_max</a></div><div class="ttdeci">int get_hp_max() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01007">bodypart.cpp:1007</a></div></div>
<div class="ttc" id="aclassbodypart_html_a6dea1a7ac0d9a6cb595ff8edaa17071b"><div class="ttname"><a href="classbodypart.html#a6dea1a7ac0d9a6cb595ff8edaa17071b">bodypart::set_temp_conv</a></div><div class="ttdeci">void set_temp_conv(units::temperature set)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01130">bodypart.cpp:1130</a></div></div>
<div class="ttc" id="aclassbodypart_html_a6e0c176c23e7925aff8da7dbab93049e"><div class="ttname"><a href="classbodypart.html#a6e0c176c23e7925aff8da7dbab93049e">bodypart::set_healed_total</a></div><div class="ttdeci">void set_healed_total(int set)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01092">bodypart.cpp:1092</a></div></div>
<div class="ttc" id="aclassbodypart_html_a731b16fa6030bdfb3e19e2d61eb93e21"><div class="ttname"><a href="classbodypart.html#a731b16fa6030bdfb3e19e2d61eb93e21">bodypart::get_wetness</a></div><div class="ttdeci">int get_wetness() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01037">bodypart.cpp:1037</a></div></div>
<div class="ttc" id="aclassbodypart_html_a7435e87d8efc1eab96746d7732d916d7"><div class="ttname"><a href="classbodypart.html#a7435e87d8efc1eab96746d7732d916d7">bodypart::set_damage_disinfected</a></div><div class="ttdeci">void set_damage_disinfected(int set)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01102">bodypart.cpp:1102</a></div></div>
<div class="ttc" id="aclassbodypart_html_a7afb8e7da7ca3c8b9cf6a9054c28e1b5"><div class="ttname"><a href="classbodypart.html#a7afb8e7da7ca3c8b9cf6a9054c28e1b5">bodypart::set_damage_bandaged</a></div><div class="ttdeci">void set_damage_bandaged(int set)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01097">bodypart.cpp:1097</a></div></div>
<div class="ttc" id="aclassbodypart_html_a7c165d7eb1a5aaa996e2439b5a7044e5"><div class="ttname"><a href="classbodypart.html#a7c165d7eb1a5aaa996e2439b5a7044e5">bodypart::mod_damage_disinfected</a></div><div class="ttdeci">void mod_damage_disinfected(int mod)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01160">bodypart.cpp:1160</a></div></div>
<div class="ttc" id="aclassbodypart_html_a7fc14377bac33f54e751ac24d3400a96"><div class="ttname"><a href="classbodypart.html#a7fc14377bac33f54e751ac24d3400a96">bodypart::mod_damage_bandaged</a></div><div class="ttdeci">void mod_damage_bandaged(int mod)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01155">bodypart.cpp:1155</a></div></div>
<div class="ttc" id="aclassbodypart_html_a824f30cc27e5d2d87b2fa80c5c3741af"><div class="ttname"><a href="classbodypart.html#a824f30cc27e5d2d87b2fa80c5c3741af">bodypart::mod_wetness</a></div><div class="ttdeci">void mod_wetness(int mod)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01165">bodypart.cpp:1165</a></div></div>
<div class="ttc" id="aclassbodypart_html_a9427d18e8394124cbea692220e565338"><div class="ttname"><a href="classbodypart.html#a9427d18e8394124cbea692220e565338">bodypart::get_hp_cur</a></div><div class="ttdeci">int get_hp_cur() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01002">bodypart.cpp:1002</a></div></div>
<div class="ttc" id="aclassbodypart_html_ab8df193998ca0779f153eec70f16f861"><div class="ttname"><a href="classbodypart.html#ab8df193998ca0779f153eec70f16f861">bodypart::set_mut_drench</a></div><div class="ttdeci">void set_mut_drench(const std::pair&lt; water_tolerance, int &gt; &amp;set)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01112">bodypart.cpp:1112</a></div></div>
<div class="ttc" id="aclassbodypart_html_acb7258a8e81bf912411924022d5e190e"><div class="ttname"><a href="classbodypart.html#acb7258a8e81bf912411924022d5e190e">bodypart::set_hp_max</a></div><div class="ttdeci">void set_hp_max(int set)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01087">bodypart.cpp:1087</a></div></div>
<div class="ttc" id="aclassbodypart_html_ad0823abdb21bdfe33bb46d65dbbe8665"><div class="ttname"><a href="classbodypart.html#ad0823abdb21bdfe33bb46d65dbbe8665">bodypart::get_temp_conv</a></div><div class="ttdeci">units::temperature get_temp_conv() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01052">bodypart.cpp:1052</a></div></div>
<div class="ttc" id="aclassbodypart_html_ad30f4f9e9bcc3308fd1d3f1e51dcf8eb"><div class="ttname"><a href="classbodypart.html#ad30f4f9e9bcc3308fd1d3f1e51dcf8eb">bodypart::get_drench_capacity</a></div><div class="ttdeci">int get_drench_capacity() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01032">bodypart.cpp:1032</a></div></div>
<div class="ttc" id="aclassbodypart_html_adf6b6eeaa4113a29750b2c952506643a"><div class="ttname"><a href="classbodypart.html#adf6b6eeaa4113a29750b2c952506643a">bodypart::mod_healed_total</a></div><div class="ttdeci">void mod_healed_total(int mod)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01150">bodypart.cpp:1150</a></div></div>
<div class="ttc" id="aclassbodypart_html_ae1d1baeedd11ededae95de9bae5f121d"><div class="ttname"><a href="classbodypart.html#ae1d1baeedd11ededae95de9bae5f121d">bodypart::set_temp_cur</a></div><div class="ttdeci">void set_temp_cur(units::temperature set)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01125">bodypart.cpp:1125</a></div></div>
<div class="ttc" id="aclassbodypart_html_ae88ff0fc462258a02b00a69aa789b7c5"><div class="ttname"><a href="classbodypart.html#ae88ff0fc462258a02b00a69aa789b7c5">bodypart::set_hp_cur</a></div><div class="ttdeci">void set_hp_cur(int set)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01082">bodypart.cpp:1082</a></div></div>
<div class="ttc" id="aclassbodypart_html_af12c9b94df23377d54496961d4a8d72c"><div class="ttname"><a href="classbodypart.html#af12c9b94df23377d54496961d4a8d72c">bodypart::mod_temp_cur</a></div><div class="ttdeci">void mod_temp_cur(units::temperature_delta mod)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l01170">bodypart.cpp:1170</a></div></div>
<div class="ttc" id="aclasscata_1_1event_html"><div class="ttname"><a href="classcata_1_1event.html">cata::event</a></div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00923">event.h:924</a></div></div>
<div class="ttc" id="aclasscata_1_1flat__set_html"><div class="ttname"><a href="classcata_1_1flat__set.html">cata::flat_set</a></div><div class="ttdoc">A SimpleAssociativeContainer implemented as a sorted vector.</div><div class="ttdef"><b>Definition:</b> <a href="flat__set_8h_source.html#l00029">flat_set.h:30</a></div></div>
<div class="ttc" id="aclasscata_1_1flat__set_html_a038c2f807983027c730259560308285c"><div class="ttname"><a href="classcata_1_1flat__set.html#a038c2f807983027c730259560308285c">cata::flat_set::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="flat__set_8h_source.html#l00083">flat_set.h:83</a></div></div>
<div class="ttc" id="aclasscata_1_1flat__set_html_a3d7ed3af629c15825cafc9b5a48bda3b"><div class="ttname"><a href="classcata_1_1flat__set.html#a3d7ed3af629c15825cafc9b5a48bda3b">cata::flat_set::erase</a></div><div class="ttdeci">size_type erase(const value_type &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="flat__set_8h_source.html#l00183">flat_set.h:183</a></div></div>
<div class="ttc" id="aclasscata_1_1flat__set_html_ab427ae6af6b4cd328c0000bc197f881b"><div class="ttname"><a href="classcata_1_1flat__set.html#ab427ae6af6b4cd328c0000bc197f881b">cata::flat_set::insert</a></div><div class="ttdeci">iterator insert(iterator, const value_type &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="flat__set_8h_source.html#l00151">flat_set.h:151</a></div></div>
<div class="ttc" id="aclasscata_1_1flat__set_html_ac2cc2580a6f1501d51da9e51a8de2e8c"><div class="ttname"><a href="classcata_1_1flat__set.html#ac2cc2580a6f1501d51da9e51a8de2e8c">cata::flat_set::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="flat__set_8h_source.html#l00086">flat_set.h:86</a></div></div>
<div class="ttc" id="aclasscatacurses_1_1window_html"><div class="ttname"><a href="classcatacurses_1_1window.html">catacurses::window</a></div><div class="ttdoc">A wrapper over a pointer to a curses window.</div><div class="ttdef"><b>Definition:</b> <a href="cursesdef_8h_source.html#l00054">cursesdef.h:55</a></div></div>
<div class="ttc" id="aclasscharacter__id_html"><div class="ttname"><a href="classcharacter__id.html">character_id</a></div><div class="ttdef"><b>Definition:</b> <a href="character__id_8h_source.html#l00009">character_id.h:10</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__mut_html_a5a5454f4ce144b5b3a84c2698a54ab8c"><div class="ttname"><a href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">coords::coord_point_mut::raw</a></div><div class="ttdeci">constexpr const Point &amp; raw() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00157">coordinates.h:157</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::reality_bubble, coords::ms &gt;</a></div></div>
<div class="ttc" id="aclasscreature__tracker_html_aba3c6663688bcd1806ea685d6961cb72"><div class="ttname"><a href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_tracker::creature_at</a></div><div class="ttdeci">T * creature_at(const tripoint &amp;p, bool allow_hallucination=false)</div><div class="ttdoc">Returns the Creature at the given location.</div><div class="ttdef"><b>Definition:</b> <a href="creature__tracker_8cpp_source.html#l00303">creature_tracker.cpp:303</a></div></div>
<div class="ttc" id="aclassdamage__over__time__data_html"><div class="ttname"><a href="classdamage__over__time__data.html">damage_over_time_data</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00177">damage.h:178</a></div></div>
<div class="ttc" id="aclasseffect__source_html"><div class="ttname"><a href="classeffect__source.html">effect_source</a></div><div class="ttdef"><b>Definition:</b> <a href="effect__source_8h_source.html#l00020">effect_source.h:21</a></div></div>
<div class="ttc" id="aclasseffect__source_html_a19c0d8651913cae8698425a2ea3a6c18"><div class="ttname"><a href="classeffect__source.html#a19c0d8651913cae8698425a2ea3a6c18">effect_source::resolve_creature</a></div><div class="ttdeci">Creature * resolve_creature() const</div><div class="ttdef"><b>Definition:</b> <a href="effect__source_8cpp_source.html#l00089">effect_source.cpp:89</a></div></div>
<div class="ttc" id="aclasseffect__source_html_ab2b651053f5ad648e694e35d00b9bca1"><div class="ttname"><a href="classeffect__source.html#ab2b651053f5ad648e694e35d00b9bca1">effect_source::empty</a></div><div class="ttdeci">static effect_source empty()</div><div class="ttdef"><b>Definition:</b> <a href="effect__source_8cpp_source.html#l00069">effect_source.cpp:69</a></div></div>
<div class="ttc" id="aclasseffect__type_html"><div class="ttname"><a href="classeffect__type.html">effect_type</a></div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00104">effect.h:105</a></div></div>
<div class="ttc" id="aclasseffect__type_html_ac826d0f7014525f5589581c0e8249216"><div class="ttname"><a href="classeffect__type.html#ac826d0f7014525f5589581c0e8249216">effect_type::immune_bp_flags</a></div><div class="ttdeci">cata::flat_set&lt; json_character_flag &gt; immune_bp_flags</div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00173">effect.h:173</a></div></div>
<div class="ttc" id="aclasseffect__type_html_af8bd7d84321b5cf7633d1884e8c076cd"><div class="ttname"><a href="classeffect__type.html#af8bd7d84321b5cf7633d1884e8c076cd">effect_type::add_apply_msg</a></div><div class="ttdeci">void add_apply_msg(int intensity) const</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00645">effect.cpp:645</a></div></div>
<div class="ttc" id="aclasseffect_html"><div class="ttname"><a href="classeffect.html">effect</a></div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00260">effect.h:261</a></div></div>
<div class="ttc" id="aclasseffect_html_a066af1ed3e05451d34a43a79a1997e1d"><div class="ttname"><a href="classeffect.html#a066af1ed3e05451d34a43a79a1997e1d">effect::get_int_add_val</a></div><div class="ttdeci">int get_int_add_val() const</div><div class="ttdoc">Returns the amount an already existing effect intensity is modified by further applications of the sa...</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01418">effect.cpp:1418</a></div></div>
<div class="ttc" id="aclasseffect_html_a0761861661abb287a4ea8c92d9e7b463"><div class="ttname"><a href="classeffect.html#a0761861661abb287a4ea8c92d9e7b463">effect::get_resist_traits</a></div><div class="ttdeci">const std::vector&lt; trait_id &gt; &amp; get_resist_traits() const</div><div class="ttdoc">Returns the string id of the resist trait to be used in has_trait(&quot;id&quot;).</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01246">effect.cpp:1246</a></div></div>
<div class="ttc" id="aclasseffect_html_a11575c0577bad5c89b5400ca7eac6084"><div class="ttname"><a href="classeffect.html#a11575c0577bad5c89b5400ca7eac6084">effect::get_source</a></div><div class="ttdeci">const effect_source &amp; get_source() const</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01676">effect.cpp:1676</a></div></div>
<div class="ttc" id="aclasseffect_html_a118dd88810785bfbb8243af97a37d2ab"><div class="ttname"><a href="classeffect.html#a118dd88810785bfbb8243af97a37d2ab">effect::mod_duration</a></div><div class="ttdeci">void mod_duration(const time_duration &amp;dur, bool alert=false)</div><div class="ttdoc">Mods the duration, capping at max_duration.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01093">effect.cpp:1093</a></div></div>
<div class="ttc" id="aclasseffect_html_a11dfe5a38fa2a63bf309b491f64051e0"><div class="ttname"><a href="classeffect.html#a11dfe5a38fa2a63bf309b491f64051e0">effect::get_max_intensity</a></div><div class="ttdeci">int get_max_intensity() const</div><div class="ttdoc">Returns the maximum intensity of an effect.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01192">effect.cpp:1192</a></div></div>
<div class="ttc" id="aclasseffect_html_a1d0ae05baa88994df52e08ed927a788b"><div class="ttname"><a href="classeffect.html#a1d0ae05baa88994df52e08ed927a788b">effect::get_bp</a></div><div class="ttdeci">bodypart_id get_bp() const</div><div class="ttdoc">Returns the targeted body_part of the effect.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01166">effect.cpp:1166</a></div></div>
<div class="ttc" id="aclasseffect_html_a23adf51cb199f3b2ee464211e43064e3"><div class="ttname"><a href="classeffect.html#a23adf51cb199f3b2ee464211e43064e3">effect::get_id</a></div><div class="ttdeci">const efftype_id &amp; get_id() const</div><div class="ttdoc">Returns the effect's matching effect_type id.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00427">effect.h:427</a></div></div>
<div class="ttc" id="aclasseffect_html_a34c766f51dc0f89ebdab09c344bb506b"><div class="ttname"><a href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">effect::get_duration</a></div><div class="ttdeci">time_duration get_duration() const</div><div class="ttdoc">Returns the remaining duration of an effect.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01068">effect.cpp:1068</a></div></div>
<div class="ttc" id="aclasseffect_html_a3562276416ffa58ce420934ff75306ff"><div class="ttname"><a href="classeffect.html#a3562276416ffa58ce420934ff75306ff">effect::get_resist_effects</a></div><div class="ttdeci">const std::vector&lt; efftype_id &gt; &amp; get_resist_effects() const</div><div class="ttdoc">Returns the string id of the resist effect to be used in has_effect(&quot;id&quot;).</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01250">effect.cpp:1250</a></div></div>
<div class="ttc" id="aclasseffect_html_a39ebd2ec5b2faacde7483e0c07240baa"><div class="ttname"><a href="classeffect.html#a39ebd2ec5b2faacde7483e0c07240baa">effect::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Returns true if the effect is the result of effect(), ie.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00767">effect.cpp:767</a></div></div>
<div class="ttc" id="aclasseffect_html_a40265c904a684396b45a347239e38782"><div class="ttname"><a href="classeffect.html#a40265c904a684396b45a347239e38782">effect::set_duration</a></div><div class="ttdeci">void set_duration(const time_duration &amp;dur, bool alert=false)</div><div class="ttdoc">Sets the duration, capping at max duration.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01076">effect.cpp:1076</a></div></div>
<div class="ttc" id="aclasseffect_html_a5201a58434d343a00ce457ce6602905c"><div class="ttname"><a href="classeffect.html#a5201a58434d343a00ce457ce6602905c">effect::get_max_duration</a></div><div class="ttdeci">time_duration get_max_duration() const</div><div class="ttdoc">Returns the maximum duration of an effect.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01072">effect.cpp:1072</a></div></div>
<div class="ttc" id="aclasseffect_html_a68192c5a91cf7ad4618263ba3de8b802"><div class="ttname"><a href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">effect::get_intensity</a></div><div class="ttdeci">int get_intensity() const</div><div class="ttdoc">Returns the intensity of an effect.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01188">effect.cpp:1188</a></div></div>
<div class="ttc" id="aclasseffect_html_a78df933887cbfd826a31bd12e0fd4d65"><div class="ttname"><a href="classeffect.html#a78df933887cbfd826a31bd12e0fd4d65">effect::null_effect</a></div><div class="ttdeci">static effect null_effect</div><div class="ttdoc">Dummy used for &quot;reference to effect()&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00285">effect.h:285</a></div></div>
<div class="ttc" id="aclasseffect_html_a8754bec3fbc3ac14160d2e4f185741e0"><div class="ttname"><a href="classeffect.html#a8754bec3fbc3ac14160d2e4f185741e0">effect::set_intensity</a></div><div class="ttdeci">int set_intensity(int val, bool alert=false)</div><div class="ttdoc">Sets intensity of effect capped by range [1..max_intensity].</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01209">effect.cpp:1209</a></div></div>
<div class="ttc" id="aclasseffect_html_a9d077e99e5e4a0d16c8b00fd32a473fc"><div class="ttname"><a href="classeffect.html#a9d077e99e5e4a0d16c8b00fd32a473fc">effect::death_event</a></div><div class="ttdeci">event_type death_event() const</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01646">effect.cpp:1646</a></div></div>
<div class="ttc" id="aclasseffect_html_a9ff54009330263daa8e02b30e86c854c"><div class="ttname"><a href="classeffect.html#a9ff54009330263daa8e02b30e86c854c">effect::mod_intensity</a></div><div class="ttdeci">int mod_intensity(int mod, bool alert=false)</div><div class="ttdoc">Modify intensity of effect capped by range [1..max_intensity].</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01241">effect.cpp:1241</a></div></div>
<div class="ttc" id="aclasseffect_html_aae46cb63cdb1a4ca3e612d464f20446a"><div class="ttname"><a href="classeffect.html#aae46cb63cdb1a4ca3e612d464f20446a">effect::get_int_dur_factor</a></div><div class="ttdeci">time_duration get_int_dur_factor() const</div><div class="ttdoc">Returns the number of turns it takes for the intensity to fall by 1 or 0 if intensity isn't based on ...</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01414">effect.cpp:1414</a></div></div>
<div class="ttc" id="aclasseffect_html_ab0aadd6d843660333cb68199455a8393"><div class="ttname"><a href="classeffect.html#ab0aadd6d843660333cb68199455a8393">effect::get_dur_add_perc</a></div><div class="ttdeci">int get_dur_add_perc() const</div><div class="ttdoc">Returns the percentage value by further applications of existing effects' duration is multiplied by.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01410">effect.cpp:1410</a></div></div>
<div class="ttc" id="aclasseffect_html_ac3402b480670b9609620cf96f3feb58a"><div class="ttname"><a href="classeffect.html#ac3402b480670b9609620cf96f3feb58a">effect::kill_roll</a></div><div class="ttdeci">bool kill_roll(bool reduced) const</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01628">effect.cpp:1628</a></div></div>
<div class="ttc" id="aclasseffect_html_ac3bcb75515405f55bdcbe53d49ddf8dd"><div class="ttname"><a href="classeffect.html#ac3bcb75515405f55bdcbe53d49ddf8dd">effect::pause_effect</a></div><div class="ttdeci">void pause_effect()</div><div class="ttdoc">Makes an effect permanent.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01179">effect.cpp:1179</a></div></div>
<div class="ttc" id="aclasseffect_html_ac9a84154b400c9144915d9ed3e2d7a4e"><div class="ttname"><a href="classeffect.html#ac9a84154b400c9144915d9ed3e2d7a4e">effect::decay</a></div><div class="ttdeci">void decay(std::vector&lt; efftype_id &gt; &amp;rem_ids, std::vector&lt; bodypart_id &gt; &amp;rem_bps, const time_point &amp;time, bool player, const effects_map &amp;eff_map=effects_map())</div><div class="ttdoc">Decays effect durations, pushing their id and bp's back to rem_ids and rem_bps for removal later if t...</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01037">effect.cpp:1037</a></div></div>
<div class="ttc" id="aclasseffect_html_acc01e73227f765c23e2dc685db5bac5f"><div class="ttname"><a href="classeffect.html#acc01e73227f765c23e2dc685db5bac5f">effect::is_permanent</a></div><div class="ttdeci">bool is_permanent() const</div><div class="ttdoc">Returns true if an effect is permanent, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01175">effect.cpp:1175</a></div></div>
<div class="ttc" id="aclasseffect_html_ade1ee159176b6b8f4ee339b8a76e3384"><div class="ttname"><a href="classeffect.html#ade1ee159176b6b8f4ee339b8a76e3384">effect::get_death_message</a></div><div class="ttdeci">std::string get_death_message() const</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01641">effect.cpp:1641</a></div></div>
<div class="ttc" id="aclassevent__bus_html_ab753616a3a663185377ac52560068194"><div class="ttname"><a href="classevent__bus.html#ab753616a3a663185377ac52560068194">event_bus::send</a></div><div class="ttdeci">void send(const cata::event &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="event__bus_8cpp_source.html#l00072">event_bus.cpp:72</a></div></div>
<div class="ttc" id="aclassfield__entry_html"><div class="ttname"><a href="classfield__entry.html">field_entry</a></div><div class="ttdoc">An active or passive effect existing on a tile.</div><div class="ttdef"><b>Definition:</b> <a href="field_8h_source.html#l00020">field.h:21</a></div></div>
<div class="ttc" id="aclassfield__entry_html_a40f3c28e4f11b4f4e0eb0414f0fbd73b"><div class="ttname"><a href="classfield__entry.html#a40f3c28e4f11b4f4e0eb0414f0fbd73b">field_entry::is_dangerous</a></div><div class="ttdeci">bool is_dangerous() const</div><div class="ttdef"><b>Definition:</b> <a href="field_8cpp_source.html#l00027">field.cpp:27</a></div></div>
<div class="ttc" id="aclassfield__entry_html_af76e247514edaeed4bdc58638bfa0ae1"><div class="ttname"><a href="classfield__entry.html#af76e247514edaeed4bdc58638bfa0ae1">field_entry::get_field_type</a></div><div class="ttdeci">field_type_id get_field_type() const</div><div class="ttdef"><b>Definition:</b> <a href="field_8cpp_source.html#l00037">field.cpp:37</a></div></div>
<div class="ttc" id="aclassfield_html"><div class="ttname"><a href="classfield.html">field</a></div><div class="ttdoc">A variable sized collection of field entries on a given map square.</div><div class="ttdef"><b>Definition:</b> <a href="field_8h_source.html#l00106">field.h:107</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; body_part_type &gt;</a></div></div>
<div class="ttc" id="aclassint__id_html_a88b1e0c550f4d6f36cac7a73feca7f01"><div class="ttname"><a href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">int_id::id</a></div><div class="ttdeci">const string_id&lt; T &gt; &amp; id() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00033">ammo_effect.cpp:33</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00028">item_location.h:29</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassitem_html_a46801ba44575f795bcdba419de521ccba84ee98e722384cf558d13bb5191a0df8"><div class="ttname"><a href="classitem.html#a46801ba44575f795bcdba419de521ccba84ee98e722384cf558d13bb5191a0df8">item::cover_type::COVER_VITALS</a></div><div class="ttdeci">@ COVER_VITALS</div></div>
<div class="ttc" id="aclassitem_html_a4d5555082454b3cb192f59a70838c891"><div class="ttname"><a href="classitem.html#a4d5555082454b3cb192f59a70838c891">item::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00931">item.cpp:931</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="aclassmap_html_a0ae241c4167c39e8fd776778451b4f8e"><div class="ttname"><a href="classmap.html#a0ae241c4167c39e8fd776778451b4f8e">map::set_field_age</a></div><div class="ttdeci">time_duration set_field_age(const tripoint &amp;p, const field_type_id &amp;type, const time_duration &amp;age, bool isoffset=false)</div><div class="ttdoc">Set age of field entry at point.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06434">map.cpp:6434</a></div></div>
<div class="ttc" id="aclassmap_html_a1cc29653b8305e7192311c05a0bd4c99"><div class="ttname"><a href="classmap.html#a1cc29653b8305e7192311c05a0bd4c99">map::bub_from_abs</a></div><div class="ttdeci">tripoint_bub_ms bub_from_abs(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09647">map.cpp:9647</a></div></div>
<div class="ttc" id="aclassmap_html_a27e22f0999ea03eff18babc48643c568"><div class="ttname"><a href="classmap.html#a27e22f0999ea03eff18babc48643c568">map::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03077">map.cpp:3077</a></div></div>
<div class="ttc" id="aclassmap_html_a2f68bd10c5c8670061f9da7576d45879"><div class="ttname"><a href="classmap.html#a2f68bd10c5c8670061f9da7576d45879">map::obstacle_coverage</a></div><div class="ttdeci">int obstacle_coverage(const tripoint &amp;loc1, const tripoint &amp;loc2) const</div><div class="ttdoc">Returns coverage of target in relation to the observer.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07470">map.cpp:7470</a></div></div>
<div class="ttc" id="aclassmap_html_a32a9de57ddea3145ca42e6acfde7f3d6"><div class="ttname"><a href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">map::add_field</a></div><div class="ttdeci">bool add_field(const tripoint &amp;p, const field_type_id &amp;type_id, int intensity=INT_MAX, const time_duration &amp;age=0_turns, bool hit_player=true)</div><div class="ttdoc">Add field entry at point, or set intensity if present.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06563">map.cpp:6563</a></div></div>
<div class="ttc" id="aclassmap_html_a3d22e002568dbeee5e7366191a337f87"><div class="ttname"><a href="classmap.html#a3d22e002568dbeee5e7366191a337f87">map::set_field_intensity</a></div><div class="ttdeci">int set_field_intensity(const tripoint &amp;p, const field_type_id &amp;type, int new_intensity, bool isoffset=false)</div><div class="ttdoc">Set intensity of field entry at point, creating if not present, removing if intensity becomes 0.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06447">map.cpp:6447</a></div></div>
<div class="ttc" id="aclassmap_html_a3d4af2242375b08a1511fc67eac232b7"><div class="ttname"><a href="classmap.html#a3d4af2242375b08a1511fc67eac232b7">map::ledge_coverage</a></div><div class="ttdeci">int ledge_coverage(const Creature &amp;viewer, const tripoint &amp;target_p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07498">map.cpp:7498</a></div></div>
<div class="ttc" id="aclassmap_html_a3db1c5b5784298e514069b170b60845f"><div class="ttname"><a href="classmap.html#a3db1c5b5784298e514069b170b60845f">map::get_cache_ref</a></div><div class="ttdeci">const level_cache &amp; get_cache_ref(int zlev) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02335">map.h:2335</a></div></div>
<div class="ttc" id="aclassmap_html_a40876da830d622a5ff5ed547bb320e1b"><div class="ttname"><a href="classmap.html#a40876da830d622a5ff5ed547bb320e1b">map::light_at</a></div><div class="ttdeci">lit_level light_at(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00615">lightmap.cpp:615</a></div></div>
<div class="ttc" id="aclassmap_html_a426c21f7244ff80a61685a89e9146fec"><div class="ttname"><a href="classmap.html#a426c21f7244ff80a61685a89e9146fec">map::getlocal</a></div><div class="ttdeci">tripoint getlocal(const tripoint &amp;p) const</div><div class="ttdoc">Inverse of getabs.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09635">map.cpp:9635</a></div></div>
<div class="ttc" id="aclassmap_html_a47284179cd831f04aaa7ff3242a5fb7b"><div class="ttname"><a href="classmap.html#a47284179cd831f04aaa7ff3242a5fb7b">map::ambient_light_at</a></div><div class="ttdeci">float ambient_light_at(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00640">lightmap.cpp:640</a></div></div>
<div class="ttc" id="aclassmap_html_a516c0764134cc86b57297811520395f7"><div class="ttname"><a href="classmap.html#a516c0764134cc86b57297811520395f7">map::has_flag_ter_or_furn</a></div><div class="ttdeci">bool has_flag_ter_or_furn(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03122">map.cpp:3122</a></div></div>
<div class="ttc" id="aclassmap_html_a78a575384ef025ebc3bc5f29bdfb0bb1"><div class="ttname"><a href="classmap.html#a78a575384ef025ebc3bc5f29bdfb0bb1">map::add_splatter</a></div><div class="ttdeci">void add_splatter(const field_type_id &amp;type, const tripoint &amp;where, int intensity=1)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06694">map.cpp:6694</a></div></div>
<div class="ttc" id="aclassmap_html_aa487d96256c3d35db7a1bf273156b64a"><div class="ttname"><a href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">map::veh_at</a></div><div class="ttdeci">optional_vpart_position veh_at(const tripoint &amp;p) const</div><div class="ttdoc">Checks if tile is occupied by vehicle and by which part.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01316">map.cpp:1316</a></div></div>
<div class="ttc" id="aclassmap_html_aa69021d452dbc555723d55d7c9fe98ef"><div class="ttname"><a href="classmap.html#aa69021d452dbc555723d55d7c9fe98ef">map::has_field_at</a></div><div class="ttdeci">bool has_field_at(const tripoint &amp;p, bool check_bounds=true) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06487">map.cpp:6487</a></div></div>
<div class="ttc" id="aclassmap_html_aa8a67baac3cc72b2f5fbd669894587a0"><div class="ttname"><a href="classmap.html#aa8a67baac3cc72b2f5fbd669894587a0">map::sees</a></div><div class="ttdeci">bool sees(const tripoint &amp;F, const tripoint &amp;T, int range, bool with_fields=true) const</div><div class="ttdoc">Returns whether F sees T with a view range of range.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07377">map.cpp:7377</a></div></div>
<div class="ttc" id="aclassmap_html_aba8f330c2cc25be0652489b42d8dd530"><div class="ttname"><a href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">map::ter</a></div><div class="ttdeci">ter_id ter(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01922">map.cpp:1922</a></div></div>
<div class="ttc" id="aclassmap_html_ac868b594b36b6b9bbcb130650fd4f61f"><div class="ttname"><a href="classmap.html#ac868b594b36b6b9bbcb130650fd4f61f">map::getglobal</a></div><div class="ttdeci">tripoint_abs_ms getglobal(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09625">map.cpp:9625</a></div></div>
<div class="ttc" id="aclassmap_html_ad11eaa007e285dcfe4c6ffb6f1ce46d3"><div class="ttname"><a href="classmap.html#ad11eaa007e285dcfe4c6ffb6f1ce46d3">map::has_floor</a></div><div class="ttdeci">bool has_floor(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02691">map.cpp:2691</a></div></div>
<div class="ttc" id="aclassmonster_html"><div class="ttname"><a href="classmonster.html">monster</a></div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00085">monster.h:86</a></div></div>
<div class="ttc" id="aclassmonster_html_a1d58ee8d254387dacfd4a497957e4afa"><div class="ttname"><a href="classmonster.html#a1d58ee8d254387dacfd4a497957e4afa">monster::get_grab_strength</a></div><div class="ttdeci">int get_grab_strength() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02500">monster.cpp:2500</a></div></div>
<div class="ttc" id="aclassmonster_html_a2881507933646bca97ef83c7112595ac"><div class="ttname"><a href="classmonster.html#a2881507933646bca97ef83c7112595ac">monster::tied_item</a></div><div class="ttdeci">cata::value_ptr&lt; item &gt; tied_item</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00529">monster.h:529</a></div></div>
<div class="ttc" id="aclassmonster_html_a43202b3e829143741862e0f5f1e826a7"><div class="ttname"><a href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">monster::has_flag</a></div><div class="ttdeci">bool has_flag(const mon_flag_id &amp;f) const final</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01202">monster.cpp:1202</a></div></div>
<div class="ttc" id="aclassmonster_html_aa07ebef40819868b9f7a86383d6cd8c3"><div class="ttname"><a href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">monster::mounted_player</a></div><div class="ttdeci">Character * mounted_player</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00526">monster.h:526</a></div></div>
<div class="ttc" id="aclassmonster_html_aa30f973bf524ba275ada847f6118b048"><div class="ttname"><a href="classmonster.html#aa30f973bf524ba275ada847f6118b048">monster::type</a></div><div class="ttdeci">const mtype * type</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00550">monster.h:550</a></div></div>
<div class="ttc" id="aclassmonster_html_ab92cac0ecb2b2062fd4f821b671f86ac"><div class="ttname"><a href="classmonster.html#ab92cac0ecb2b2062fd4f821b671f86ac">monster::get_size</a></div><div class="ttdeci">creature_size get_size() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03503">monster.cpp:3503</a></div></div>
<div class="ttc" id="aclassnpc_html"><div class="ttname"><a href="classnpc.html">npc</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00791">npc.h:792</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html"><div class="ttname"><a href="classoptional__vpart__position.html">optional_vpart_position</a></div><div class="ttdoc">Simple wrapper to forward functions that may return a std::optional to vpart_position.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00124">vpart_position.h:125</a></div></div>
<div class="ttc" id="aclassoutfit_html_af9ae6d82b016fd225cc1aa3de14ae1e8"><div class="ttname"><a href="classoutfit.html#af9ae6d82b016fd225cc1aa3de14ae1e8">outfit::damage_resist</a></div><div class="ttdeci">float damage_resist(const damage_type_id &amp;dt, const bodypart_id &amp;bp, bool to_self=false) const</div><div class="ttdef"><b>Definition:</b> <a href="character__attire_8cpp_source.html#l01967">character_attire.cpp:1967</a></div></div>
<div class="ttc" id="aclassscrollingcombattext_html_a10f4b620dcf4c99fe55d267fc2323723"><div class="ttname"><a href="classscrollingcombattext.html#a10f4b620dcf4c99fe55d267fc2323723">scrollingcombattext::add</a></div><div class="ttdeci">void add(const point &amp;pos, direction p_oDir, const std::string &amp;p_sText, game_message_type p_gmt, const std::string &amp;p_sText2=&quot;&quot;, game_message_type p_gmt2=m_neutral, const std::string &amp;p_sType=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l02923">output.cpp:2923</a></div></div>
<div class="ttc" id="aclassscrollingcombattext_html_a94b652fa370f1b1a946c726c93abb9bd"><div class="ttname"><a href="classscrollingcombattext.html#a94b652fa370f1b1a946c726c93abb9bd">scrollingcombattext::removeCreatureHP</a></div><div class="ttdeci">void removeCreatureHP()</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03103">output.cpp:3103</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; anatomy &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_a1b2100ed077789ba45aaf5081791b36c"><div class="ttname"><a href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">string_id&lt; body_part_type &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; body_part_type &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="aclassstring__id_html_a2c0e3a434bcb9e3c353b337053ff22d8"><div class="ttname"><a href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">string_id::c_str</a></div><div class="ttdeci">const char * c_str() const</div><div class="ttdoc">Interface to the plain C-string of the id.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00252">string_id.h:252</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00071">achievement.cpp:71</a></div></div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00078">achievement.cpp:78</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa3cde2bfb58efa9621289c0a70d24c5a"><div class="ttname"><a href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">string_id::id</a></div><div class="ttdeci">int_id&lt; T &gt; id() const</div><div class="ttdoc">Translate the string based it to the matching integer based id.</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00054">ammo_effect.cpp:54</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00196">calendar.h:197</a></div></div>
<div class="ttc" id="aclasstranslation_html"><div class="ttname"><a href="classtranslation.html">translation</a></div><div class="ttdoc">Class for storing translation context and raw string for deferred translation.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8h_source.html#l00017">translation.h:18</a></div></div>
<div class="ttc" id="aclasstranslation_html_a30b5b9d586c786942c2321701a53e572"><div class="ttname"><a href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translation::translated</a></div><div class="ttdeci">std::string translated(int num=1) const</div><div class="ttdoc">Returns raw string if no translation is needed, otherwise returns the translated string.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8cpp_source.html#l00294">translation.cpp:294</a></div></div>
<div class="ttc" id="aclasstripoint__range_html"><div class="ttname"><a href="classtripoint__range.html">tripoint_range</a></div><div class="ttdef"><b>Definition:</b> <a href="map__iterator_8h_source.html#l00012">map_iterator.h:13</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00028">units.h:29</a></div></div>
<div class="ttc" id="aclassvehicle_html"><div class="ttname"><a href="classvehicle.html">vehicle</a></div><div class="ttdoc">A vehicle as a whole with all its components.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00801">vehicle.h:802</a></div></div>
<div class="ttc" id="aclassvehicle_html_ae6df00db578931d74d20de595736b190"><div class="ttname"><a href="classvehicle.html#ae6df00db578931d74d20de595736b190">vehicle::get_points</a></div><div class="ttdeci">const std::set&lt; tripoint &gt; &amp; get_points(bool force_refresh=false, bool no_fake=false) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l07725">vehicle.cpp:7725</a></div></div>
<div class="ttc" id="aclassviewer_html"><div class="ttname"><a href="classviewer.html">viewer</a></div><div class="ttdef"><b>Definition:</b> <a href="viewer_8h_source.html#l00010">viewer.h:11</a></div></div>
<div class="ttc" id="aclassviewer_html_a204fe140cdc73d2452fa9a390a32ba29"><div class="ttname"><a href="classviewer.html#a204fe140cdc73d2452fa9a390a32ba29">viewer::sees</a></div><div class="ttdeci">virtual bool sees(const tripoint &amp;target, bool is_avatar=false, int range_mod=0) const =0</div></div>
<div class="ttc" id="acolor_8h_html"><div class="ttname"><a href="color_8h.html">color.h</a></div></div>
<div class="ttc" id="acolor_8h_html_a1cb87e74156596960610fd0a9ace766d"><div class="ttname"><a href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a></div><div class="ttdeci">#define c_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00020">color.h:20</a></div></div>
<div class="ttc" id="acolor_8h_html_a2d8f37367a34632745626276dd4c9da6"><div class="ttname"><a href="color_8h.html#a2d8f37367a34632745626276dd4c9da6">c_black</a></div><div class="ttdeci">#define c_black</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00015">color.h:15</a></div></div>
<div class="ttc" id="acolor_8h_html_a59eb996497e69c762e67c0636fac348f"><div class="ttname"><a href="color_8h.html#a59eb996497e69c762e67c0636fac348f">h_red</a></div><div class="ttdeci">#define h_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00036">color.h:36</a></div></div>
<div class="ttc" id="acolor_8h_html_a81e80ab9142609903b4788a6bb31ae45"><div class="ttname"><a href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a></div><div class="ttdeci">#define c_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00030">color.h:30</a></div></div>
<div class="ttc" id="acolor_8h_html_a995c6d4982f304048812605b34fb31cb"><div class="ttname"><a href="color_8h.html#a995c6d4982f304048812605b34fb31cb">h_white</a></div><div class="ttdeci">#define h_white</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00033">color.h:33</a></div></div>
<div class="ttc" id="acolor_8h_html_af0a87eaef36305269f4506dfa34d94c0"><div class="ttname"><a href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a></div><div class="ttdeci">#define c_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00019">color.h:19</a></div></div>
<div class="ttc" id="acompatibility_8h_html_a7d2d6538db629ada5554da88c83bcdd1"><div class="ttname"><a href="compatibility_8h.html#a7d2d6538db629ada5554da88c83bcdd1">map_is_noexcept</a></div><div class="ttdeci">constexpr bool map_is_noexcept</div><div class="ttdef"><b>Definition:</b> <a href="compatibility_8h_source.html#l00023">compatibility.h:23</a></div></div>
<div class="ttc" id="acompatibility_8h_html_ae629e5f09b170c5b7e4eca1e1765b7f3"><div class="ttname"><a href="compatibility_8h.html#ae629e5f09b170c5b7e4eca1e1765b7f3">list_is_noexcept</a></div><div class="ttdeci">constexpr bool list_is_noexcept</div><div class="ttdef"><b>Definition:</b> <a href="compatibility_8h_source.html#l00017">compatibility.h:17</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a25195af12949fae51d496c1fbd549871"><div class="ttname"><a href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a></div><div class="ttdeci">coords::coord_point&lt; tripoint, coords::origin::abs, coords::ms &gt; tripoint_abs_ms</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00712">coordinates.h:712</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a31847b31c6ef002e9d16afd7fd0005e3"><div class="ttname"><a href="coordinates_8h.html#a31847b31c6ef002e9d16afd7fd0005e3">line_to</a></div><div class="ttdeci">std::vector&lt; coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &amp;&amp;RhsInBounds &gt; &gt; line_to(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00798">coordinates.h:798</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a70d5706d5a84c7c1953498fa0c651b3e"><div class="ttname"><a href="coordinates_8h.html#a70d5706d5a84c7c1953498fa0c651b3e">direction_from</a></div><div class="ttdeci">direction direction_from(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00790">coordinates.h:790</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a8e2cbab6dac12095f06b4cff66857fbb"><div class="ttname"><a href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00769">coordinates.h:769</a></div></div>
<div class="ttc" id="acraft__command_8h_html_a78e9fef1fc6aaee4239b8fa5cc3cd21fa912af0dff974604f1321254ca8ff38b6"><div class="ttname"><a href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa912af0dff974604f1321254ca8ff38b6">usage_from::player</a></div><div class="ttdeci">@ player</div></div>
<div class="ttc" id="acreature_8cpp_html_a04a9c5a38c56dac485cb30d93ee38658"><div class="ttname"><a href="creature_8cpp.html#a04a9c5a38c56dac485cb30d93ee38658">effect_paralyzepoison</a></div><div class="ttdeci">static const efftype_id effect_paralyzepoison(&quot;paralyzepoison&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a08481f62adb6937636ea44b855311037"><div class="ttname"><a href="creature_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a></div><div class="ttdeci">static const efftype_id effect_downed(&quot;downed&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a09c667a72022d7e0ee0b851560831e04"><div class="ttname"><a href="creature_8cpp.html#a09c667a72022d7e0ee0b851560831e04">effect_tied</a></div><div class="ttdeci">static const efftype_id effect_tied(&quot;tied&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a09e952ef4d27618e2f60ec737a8d1bae"><div class="ttname"><a href="creature_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a></div><div class="ttdeci">static const efftype_id effect_blind(&quot;blind&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a0a39cc22ef74abe8a18077fa8625138b"><div class="ttname"><a href="creature_8cpp.html#a0a39cc22ef74abe8a18077fa8625138b">effect_sensor_stun</a></div><div class="ttdeci">static const efftype_id effect_sensor_stun(&quot;sensor_stun&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a0a50e3fbf57e70bfac50331092ff8ad1"><div class="ttname"><a href="creature_8cpp.html#a0a50e3fbf57e70bfac50331092ff8ad1">effect_riding</a></div><div class="ttdeci">static const efftype_id effect_riding(&quot;riding&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a157369b3ee1f3f5a889eb1d42ed97638"><div class="ttname"><a href="creature_8cpp.html#a157369b3ee1f3f5a889eb1d42ed97638">damage_bash</a></div><div class="ttdeci">static const damage_type_id damage_bash(&quot;bash&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a18cca0d60af04a241e2561584946cf56"><div class="ttname"><a href="creature_8cpp.html#a18cca0d60af04a241e2561584946cf56">json_flag_IGNORE_TEMP</a></div><div class="ttdeci">static const json_character_flag json_flag_IGNORE_TEMP(&quot;IGNORE_TEMP&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a1eb5ed5bc6f81def0b8b5640c08e2a69"><div class="ttname"><a href="creature_8cpp.html#a1eb5ed5bc6f81def0b8b5640c08e2a69">material_cotton</a></div><div class="ttdeci">static const material_id material_cotton(&quot;cotton&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a20136c47b45ab5d735760a8a5853f1b3"><div class="ttname"><a href="creature_8cpp.html#a20136c47b45ab5d735760a8a5853f1b3">material_flesh</a></div><div class="ttdeci">static const material_id material_flesh(&quot;flesh&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a25b6d693cb6e46a85ff5c3acce50fd8e"><div class="ttname"><a href="creature_8cpp.html#a25b6d693cb6e46a85ff5c3acce50fd8e">effect_telepathic_ignorance</a></div><div class="ttdeci">static const efftype_id effect_telepathic_ignorance(&quot;telepathic_ignorance&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a30d34b241ef54963c18a6af3b2ff3962"><div class="ttname"><a href="creature_8cpp.html#a30d34b241ef54963c18a6af3b2ff3962">effect_zapped</a></div><div class="ttdeci">static const efftype_id effect_zapped(&quot;zapped&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a31e2ef0b23e31f445746b9eaabbeb600"><div class="ttname"><a href="creature_8cpp.html#a31e2ef0b23e31f445746b9eaabbeb600">field_fd_last_known</a></div><div class="ttdeci">static const field_type_str_id field_fd_last_known(&quot;fd_last_known&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a37e9489598e65e89dc71e28cb45c30f5"><div class="ttname"><a href="creature_8cpp.html#a37e9489598e65e89dc71e28cb45c30f5">json_flag_LIMB_LOWER</a></div><div class="ttdeci">static const json_character_flag json_flag_LIMB_LOWER(&quot;LIMB_LOWER&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a41caf06da75f7686c5b5f41308c9232a"><div class="ttname"><a href="creature_8cpp.html#a41caf06da75f7686c5b5f41308c9232a">set_part_helper</a></div><div class="ttdeci">static void set_part_helper(Creature &amp;c, const bodypart_id &amp;id, void(bodypart::*set)(T), typename type_identity&lt; T &gt;::type val)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02231">creature.cpp:2231</a></div></div>
<div class="ttc" id="acreature_8cpp_html_a45fe17320739b38daf72f34792dbd657"><div class="ttname"><a href="creature_8cpp.html#a45fe17320739b38daf72f34792dbd657">trait_DEBUG_CLOAK</a></div><div class="ttdeci">static const trait_id trait_DEBUG_CLOAK(&quot;DEBUG_CLOAK&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a478c9c699e4248bf7d25ae31156bf0b7"><div class="ttname"><a href="creature_8cpp.html#a478c9c699e4248bf7d25ae31156bf0b7">species_ROBOT</a></div><div class="ttdeci">static const species_id species_ROBOT(&quot;ROBOT&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a47b086a3e5090e7b708e8726a34d742c"><div class="ttname"><a href="creature_8cpp.html#a47b086a3e5090e7b708e8726a34d742c">get_part_helper</a></div><div class="ttdeci">static T get_part_helper(const Creature &amp;c, const bodypart_id &amp;id, T(bodypart::*get)() const)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02206">creature.cpp:2206</a></div></div>
<div class="ttc" id="acreature_8cpp_html_a512959ad2b35ea057f2fed5445fc23c4"><div class="ttname"><a href="creature_8cpp.html#a512959ad2b35ea057f2fed5445fc23c4">trait_PYROMANIA</a></div><div class="ttdeci">static const trait_id trait_PYROMANIA(&quot;PYROMANIA&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a544ab8b6f47337b654de83c3cf255eaa"><div class="ttname"><a href="creature_8cpp.html#a544ab8b6f47337b654de83c3cf255eaa">effect_invisibility</a></div><div class="ttdeci">static const efftype_id effect_invisibility(&quot;invisibility&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a5658826e216b7114fce66a84841deeb2"><div class="ttname"><a href="creature_8cpp.html#a5658826e216b7114fce66a84841deeb2">sort_body_parts</a></div><div class="ttdeci">static void sort_body_parts(std::vector&lt; bodypart_id &gt; &amp;bps, const Creature *c)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02513">creature.cpp:2513</a></div></div>
<div class="ttc" id="acreature_8cpp_html_a6580b9e471dd5e597effaaeee8bf19a2"><div class="ttname"><a href="creature_8cpp.html#a6580b9e471dd5e597effaaeee8bf19a2">majority_rule</a></div><div class="ttdeci">static bool majority_rule(const bool a_vote, const bool b_vote, const bool c_vote)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00352">creature.cpp:352</a></div></div>
<div class="ttc" id="acreature_8cpp_html_a6cda9e7cd9c37d3822410cf6280babdf"><div class="ttname"><a href="creature_8cpp.html#a6cda9e7cd9c37d3822410cf6280babdf">material_steel</a></div><div class="ttdeci">static const material_id material_steel(&quot;steel&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a6e56b547b0bb0021343a7bb60f9fdce9"><div class="ttname"><a href="creature_8cpp.html#a6e56b547b0bb0021343a7bb60f9fdce9">effect_telepathic_ignorance_self</a></div><div class="ttdeci">static const efftype_id effect_telepathic_ignorance_self(&quot;telepathic_ignorance_self&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a74abddcaf98d4f59d99c051a421bee67"><div class="ttname"><a href="creature_8cpp.html#a74abddcaf98d4f59d99c051a421bee67">effect_npc_suspend</a></div><div class="ttdeci">static const efftype_id effect_npc_suspend(&quot;npc_suspend&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a76049efadb04062924a687ab0a16a0e6"><div class="ttname"><a href="creature_8cpp.html#a76049efadb04062924a687ab0a16a0e6">json_flag_LIMB_UPPER</a></div><div class="ttdeci">static const json_character_flag json_flag_LIMB_UPPER(&quot;LIMB_UPPER&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a7926a4cddea2b56ea5b2264f464d1b15"><div class="ttname"><a href="creature_8cpp.html#a7926a4cddea2b56ea5b2264f464d1b15">damage_electric</a></div><div class="ttdeci">static const damage_type_id damage_electric(&quot;electric&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a7a66d8a18b4c357a9ec56e2c6aca1d80"><div class="ttname"><a href="creature_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a></div><div class="ttdeci">static const material_id material_iflesh(&quot;iflesh&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a7c7651a289cc19a34456c213eeb46edc"><div class="ttname"><a href="creature_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a></div><div class="ttdeci">static const efftype_id effect_ridden(&quot;ridden&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a8fc9c5b7115599a8fc80e51204e37f84"><div class="ttname"><a href="creature_8cpp.html#a8fc9c5b7115599a8fc80e51204e37f84">get_talker_for</a></div><div class="ttdeci">std::unique_ptr&lt; talker &gt; get_talker_for(Creature &amp;me)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03247">creature.cpp:3247</a></div></div>
<div class="ttc" id="acreature_8cpp_html_a9c2a387ddc2ddef836666f92773a8293"><div class="ttname"><a href="creature_8cpp.html#a9c2a387ddc2ddef836666f92773a8293">anatomy_human_anatomy</a></div><div class="ttdeci">static const anatomy_id anatomy_human_anatomy(&quot;human_anatomy&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a9eddc2be83e564a13192ab3fbcff6b78"><div class="ttname"><a href="creature_8cpp.html#a9eddc2be83e564a13192ab3fbcff6b78">effect_all_fours</a></div><div class="ttdeci">static const efftype_id effect_all_fours(&quot;all_fours&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_aa3f7307ad230ecea38f95a4ff0b8ee05"><div class="ttname"><a href="creature_8cpp.html#aa3f7307ad230ecea38f95a4ff0b8ee05">effect_bounced</a></div><div class="ttdeci">static const efftype_id effect_bounced(&quot;bounced&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_aaafb2b8608b5451879424ff739fedd41"><div class="ttname"><a href="creature_8cpp.html#aaafb2b8608b5451879424ff739fedd41">effect_sap</a></div><div class="ttdeci">static const efftype_id effect_sap(&quot;sap&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_ab102ed4e697d5646e520ff97720b069c"><div class="ttname"><a href="creature_8cpp.html#ab102ed4e697d5646e520ff97720b069c">effect_knockdown</a></div><div class="ttdeci">static const efftype_id effect_knockdown(&quot;knockdown&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_ab16f8be4be2050986e76d2cb0cff7609"><div class="ttname"><a href="creature_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a></div><div class="ttdeci">static const efftype_id effect_sleep(&quot;sleep&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_ab7ebadf66a175d343f5db02afda22bf4"><div class="ttname"><a href="creature_8cpp.html#ab7ebadf66a175d343f5db02afda22bf4">material_stone</a></div><div class="ttdeci">static const material_id material_stone(&quot;stone&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_abd1d72989d0ae4f431b5267137061bb6"><div class="ttname"><a href="creature_8cpp.html#abd1d72989d0ae4f431b5267137061bb6">effect_foamcrete_slow</a></div><div class="ttdeci">static const efftype_id effect_foamcrete_slow(&quot;foamcrete_slow&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_abd89de553ae0776f564d1c30092fe5b3"><div class="ttname"><a href="creature_8cpp.html#abd89de553ae0776f564d1c30092fe5b3">material_kevlar</a></div><div class="ttdeci">static const material_id material_kevlar(&quot;kevlar&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_ac95fd54d69ea350ea463a719fa7f3550"><div class="ttname"><a href="creature_8cpp.html#ac95fd54d69ea350ea463a719fa7f3550">effect_lying_down</a></div><div class="ttdeci">static const efftype_id effect_lying_down(&quot;lying_down&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_acc343fa0f8e04fd5007e8abc6105f8a8"><div class="ttname"><a href="creature_8cpp.html#acc343fa0f8e04fd5007e8abc6105f8a8">damage_acid</a></div><div class="ttdeci">static const damage_type_id damage_acid(&quot;acid&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_ad1df0ca2944a94c3ad796e8baada33ae"><div class="ttname"><a href="creature_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a></div><div class="ttdeci">static const efftype_id effect_stunned(&quot;stunned&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_ad6fd62a9ed571c6bf17d577118be3c5a"><div class="ttname"><a href="creature_8cpp.html#ad6fd62a9ed571c6bf17d577118be3c5a">effect_stumbled_into_invisible</a></div><div class="ttdeci">static const efftype_id effect_stumbled_into_invisible(&quot;stumbled_into_invisible&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_adaa52641aaea718721dc2fd611ed5831"><div class="ttname"><a href="creature_8cpp.html#adaa52641aaea718721dc2fd611ed5831">material_veggy</a></div><div class="ttdeci">static const material_id material_veggy(&quot;veggy&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_add935ef55b63a9bd124cf2410ab40749"><div class="ttname"><a href="creature_8cpp.html#add935ef55b63a9bd124cf2410ab40749">overlaps_vehicle</a></div><div class="ttdeci">static bool overlaps_vehicle(const std::set&lt; tripoint &gt; &amp;veh_area, const tripoint &amp;pos, const int area)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00541">creature.cpp:541</a></div></div>
<div class="ttc" id="acreature_8cpp_html_ae01ac1ba15b1a58809aef8bc1f735b5b"><div class="ttname"><a href="creature_8cpp.html#ae01ac1ba15b1a58809aef8bc1f735b5b">damage_heat</a></div><div class="ttdeci">static const damage_type_id damage_heat(&quot;heat&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_ae6215a43a33cca56f0c2476678f4a035"><div class="ttname"><a href="creature_8cpp.html#ae6215a43a33cca56f0c2476678f4a035">material_paper</a></div><div class="ttdeci">static const material_id material_paper(&quot;paper&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_ae654fe1131eeb6f3e0fe9021a79a3f74"><div class="ttname"><a href="creature_8cpp.html#ae654fe1131eeb6f3e0fe9021a79a3f74">material_wood</a></div><div class="ttdeci">static const material_id material_wood(&quot;wood&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_af079f6d5681dabcbc1c4ee804c0ba556"><div class="ttname"><a href="creature_8cpp.html#af079f6d5681dabcbc1c4ee804c0ba556">effect_no_sight</a></div><div class="ttdeci">static const efftype_id effect_no_sight(&quot;no_sight&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_af1062f0849ca05ce9086270bf9e7f406"><div class="ttname"><a href="creature_8cpp.html#af1062f0849ca05ce9086270bf9e7f406">material_wool</a></div><div class="ttdeci">static const material_id material_wool(&quot;wool&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_af4debc398bbc5bb7d8470096f0aea30a"><div class="ttname"><a href="creature_8cpp.html#af4debc398bbc5bb7d8470096f0aea30a">material_powder</a></div><div class="ttdeci">static const material_id material_powder(&quot;powder&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_afc3daf7e1664f8141571db43dcb86676"><div class="ttname"><a href="creature_8cpp.html#afc3daf7e1664f8141571db43dcb86676">json_flag_BIONIC_LIMB</a></div><div class="ttdeci">static const json_character_flag json_flag_BIONIC_LIMB(&quot;BIONIC_LIMB&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_afcfa82c36c0dc2d76cd19d622c2b6ab4"><div class="ttname"><a href="creature_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a></div><div class="ttdeci">static const efftype_id effect_onfire(&quot;onfire&quot;)</div></div>
<div class="ttc" id="acreature_8h_html"><div class="ttname"><a href="creature_8h.html">creature.h</a></div></div>
<div class="ttc" id="acreature_8h_html_a1302c86e4bb5a9bd567d05fbe31d48f2"><div class="ttname"><a href="creature_8h.html#a1302c86e4bb5a9bd567d05fbe31d48f2">terminating_effect</a></div><div class="ttdeci">struct terminating_effect_t { efftype_id eff_id terminating_effect</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00245">creature.h:246</a></div></div>
<div class="ttc" id="acreature_8h_html_a299ec0c42ccc5a2d79d1739428ac3210"><div class="ttname"><a href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a></div><div class="ttdeci">int intensity</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00240">creature.h:240</a></div></div>
<div class="ttc" id="acreature_8h_html_a2aebcf7b73f6f381d2c107ce01e14cc8"><div class="ttname"><a href="creature_8h.html#a2aebcf7b73f6f381d2c107ce01e14cc8">deferred</a></div><div class="ttdeci">bool deferred</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00242">creature.h:242</a></div></div>
<div class="ttc" id="acreature_8h_html_a4b73e33b57ae387dc418906492d5f998"><div class="ttname"><a href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a></div><div class="ttdeci">bool force</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00241">creature.h:241</a></div></div>
<div class="ttc" id="acreature_8h_html_a6be8a0e37bcadda359d05a12fe025361"><div class="ttname"><a href="creature_8h.html#a6be8a0e37bcadda359d05a12fe025361">scheduled_effect</a></div><div class="ttdeci">struct scheduled_effect_t { efftype_id eff_id scheduled_effect</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00235">creature.h:236</a></div></div>
<div class="ttc" id="acreature_8h_html_a725ad3ab8ebc8c0de4689369a15e1380"><div class="ttname"><a href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a></div><div class="ttdeci">bool permanent</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00239">creature.h:239</a></div></div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a></div><div class="ttdeci">@ medium</div></div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2aac651433a999fb14f71f6754f0199781"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aac651433a999fb14f71f6754f0199781">creature_size::num_sizes</a></div><div class="ttdeci">@ num_sizes</div></div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a></div><div class="ttdeci">@ large</div></div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a></div><div class="ttdeci">@ huge</div></div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a></div><div class="ttdeci">@ tiny</div></div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">creature_size::small</a></div><div class="ttdeci">@ small</div></div>
<div class="ttc" id="acreature_8h_html_a94b62ae7453fbe81377022bf1cdacd47"><div class="ttname"><a href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47">body_part_filter</a></div><div class="ttdeci">body_part_filter</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00229">creature.h:229</a></div></div>
<div class="ttc" id="acreature_8h_html_a94b62ae7453fbe81377022bf1cdacd47a101312d8768b5d6a1b56115fb68efffb"><div class="ttname"><a href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a101312d8768b5d6a1b56115fb68efffb">body_part_filter::next_best</a></div><div class="ttdeci">@ next_best</div></div>
<div class="ttc" id="acreature_8h_html_a94b62ae7453fbe81377022bf1cdacd47aa219d952c828c6dfd3c9e7465f0d29c4"><div class="ttname"><a href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47aa219d952c828c6dfd3c9e7465f0d29c4">body_part_filter::equivalent</a></div><div class="ttdeci">@ equivalent</div></div>
<div class="ttc" id="acreature_8h_html_ac54f8023b2f6c4c85f60252cf47cc28d"><div class="ttname"><a href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a></div><div class="ttdeci">bodypart_id bp</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00238">creature.h:238</a></div></div>
<div class="ttc" id="acreature_8h_html_aeb8b361a289bc1747bf10888c18fbfae"><div class="ttname"><a href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfae">get_body_part_flags</a></div><div class="ttdeci">get_body_part_flags</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00216">creature.h:216</a></div></div>
<div class="ttc" id="acreature_8h_html_aeb8b361a289bc1747bf10888c18fbfaea26decc94d83c358f67f11c3cbd99b126"><div class="ttname"><a href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea26decc94d83c358f67f11c3cbd99b126">get_body_part_flags::sorted</a></div><div class="ttdeci">@ sorted</div></div>
<div class="ttc" id="acreature_8h_html_aeb8b361a289bc1747bf10888c18fbfaea2cde9c30e7e2be952d5f08dba1b9a0d5"><div class="ttname"><a href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea2cde9c30e7e2be952d5f08dba1b9a0d5">get_body_part_flags::primary_type</a></div><div class="ttdeci">@ primary_type</div></div>
<div class="ttc" id="acreature_8h_html_aeb8b361a289bc1747bf10888c18fbfaea5d7454274f566bb1a128ed016e6bc787"><div class="ttname"><a href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea5d7454274f566bb1a128ed016e6bc787">get_body_part_flags::only_main</a></div><div class="ttdeci">@ only_main</div></div>
<div class="ttc" id="acreature_8h_html_aeb8b361a289bc1747bf10888c18fbfaea8bb95dd0b782d7bdb4ab64b21ded8c0e"><div class="ttname"><a href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea8bb95dd0b782d7bdb4ab64b21ded8c0e">get_body_part_flags::only_minor</a></div><div class="ttdeci">@ only_minor</div></div>
<div class="ttc" id="acreature_8h_html_afb9a39a835be84327a86693636f5fc49"><div class="ttname"><a href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a></div><div class="ttdeci">time_duration dur</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00237">creature.h:237</a></div></div>
<div class="ttc" id="acreature__tracker_8h_html"><div class="ttname"><a href="creature__tracker_8h.html">creature_tracker.h</a></div></div>
<div class="ttc" id="acreature__tracker_8h_html_a16f631f70e72b53e590770670fb301fb"><div class="ttname"><a href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a></div><div class="ttdeci">creature_tracker &amp; get_creature_tracker()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13827">game.cpp:13827</a></div></div>
<div class="ttc" id="acube__direction_8h_html_aea62013051f3c8842efa174037dfb5bca55a9d6aa251e3c334db4ab4055a4a004"><div class="ttname"><a href="cube__direction_8h.html#aea62013051f3c8842efa174037dfb5bca55a9d6aa251e3c334db4ab4055a4a004">cube_direction::above</a></div><div class="ttdeci">@ above</div></div>
<div class="ttc" id="acursesdef_8h_html"><div class="ttname"><a href="cursesdef_8h.html">cursesdef.h</a></div></div>
<div class="ttc" id="adamage_8h_html"><div class="ttname"><a href="damage_8h.html">damage.h</a></div></div>
<div class="ttc" id="adebug_8h_html"><div class="ttname"><a href="debug_8h.html">debug.h</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="aeffect_8h_html"><div class="ttname"><a href="effect_8h.html">effect.h</a></div></div>
<div class="ttc" id="aenum__traits_8h_html"><div class="ttname"><a href="enum__traits_8h.html">enum_traits.h</a></div></div>
<div class="ttc" id="aenums_8h_html"><div class="ttname"><a href="enums_8h.html">enums.h</a></div></div>
<div class="ttc" id="aenums_8h_html_a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a"><div class="ttname"><a href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">ot_match_type::type</a></div><div class="ttdeci">@ type</div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096e"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096e">game_message_type</a></div><div class="ttdeci">game_message_type</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00346">enums.h:346</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a></div><div class="ttdeci">@ m_good</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00347">enums.h:347</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea379f06a1968886ca7a96b103d5a628fc"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea379f06a1968886ca7a96b103d5a628fc">m_grazing</a></div><div class="ttdeci">@ m_grazing</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00362">enums.h:362</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a></div><div class="ttdeci">@ m_neutral</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00354">enums.h:354</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a></div><div class="ttdeci">@ m_info</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00352">enums.h:352</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a></div><div class="ttdeci">@ m_bad</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00348">enums.h:348</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea8663170a60ff438f4ba2ab98a1e6d6b5"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea8663170a60ff438f4ba2ab98a1e6d6b5">m_critical</a></div><div class="ttdeci">@ m_critical</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00361">enums.h:361</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea917308a5da5a853b7ac25b683922ef96"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea917308a5da5a853b7ac25b683922ef96">m_headshot</a></div><div class="ttdeci">@ m_headshot</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00360">enums.h:360</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a></div><div class="ttdeci">@ m_warning</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00351">enums.h:351</a></div></div>
<div class="ttc" id="aevent_8h_html"><div class="ttname"><a href="event_8h.html">event.h</a></div></div>
<div class="ttc" id="aevent_8h_html_a333a7721472705fe444b24f107f9a731a907475eea8d7c21da2c3c3fb3172c731"><div class="ttname"><a href="event_8h.html#a333a7721472705fe444b24f107f9a731a907475eea8d7c21da2c3c3fb3172c731">event_type::character_loses_effect</a></div><div class="ttdeci">@ character_loses_effect</div></div>
<div class="ttc" id="aevent_8h_html_a333a7721472705fe444b24f107f9a731aaf300b7d334ca5ec15e23a4567f4c46c"><div class="ttname"><a href="event_8h.html#a333a7721472705fe444b24f107f9a731aaf300b7d334ca5ec15e23a4567f4c46c">event_type::character_gains_effect</a></div><div class="ttdeci">@ character_gains_effect</div></div>
<div class="ttc" id="aevent_8h_html_a333a7721472705fe444b24f107f9a731acc32a87e2dd991fe811463d96913f2d2"><div class="ttname"><a href="event_8h.html#a333a7721472705fe444b24f107f9a731acc32a87e2dd991fe811463d96913f2d2">event_type::broken_bone</a></div><div class="ttdeci">@ broken_bone</div></div>
<div class="ttc" id="aevent__bus_8h_html"><div class="ttname"><a href="event__bus_8h.html">event_bus.h</a></div></div>
<div class="ttc" id="aevent__bus_8h_html_a4f760194b9225ccf92a1419748def636"><div class="ttname"><a href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a></div><div class="ttdeci">event_bus &amp; get_event_bus()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13832">game.cpp:13832</a></div></div>
<div class="ttc" id="aexplosion_8h_html"><div class="ttname"><a href="explosion_8h.html">explosion.h</a></div></div>
<div class="ttc" id="afield_8h_html"><div class="ttname"><a href="field_8h.html">field.h</a></div></div>
<div class="ttc" id="aflat__set_8h_html"><div class="ttname"><a href="flat__set_8h.html">flat_set.h</a></div></div>
<div class="ttc" id="aflexbuffer__json-inl_8h_html"><div class="ttname"><a href="flexbuffer__json-inl_8h.html">flexbuffer_json-inl.h</a></div></div>
<div class="ttc" id="aflexbuffer__json_8h_html"><div class="ttname"><a href="flexbuffer__json_8h.html">flexbuffer_json.h</a></div></div>
<div class="ttc" id="agame_8cpp_html_ab5c977b7e81348725fb7bf09fc64ed95"><div class="ttname"><a href="game_8cpp.html#ab5c977b7e81348725fb7bf09fc64ed95">get_player_view</a></div><div class="ttdeci">viewer &amp; get_player_view()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13812">game.cpp:13812</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00382">game.cpp:382</a></div></div>
<div class="ttc" id="agame_8cpp_html_afa1063326b0c16b43c6f3dc8c3df403d"><div class="ttname"><a href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13822">game.cpp:13822</a></div></div>
<div class="ttc" id="agame_8h_html"><div class="ttname"><a href="game_8h.html">game.h</a></div></div>
<div class="ttc" id="agame__constants_8h_html"><div class="ttname"><a href="game__constants_8h.html">game_constants.h</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a28bc26eb7169a2ca7040c7b6a915c63f"><div class="ttname"><a href="game__constants_8h.html#a28bc26eb7169a2ca7040c7b6a915c63f">accuracy_headshot</a></div><div class="ttdeci">constexpr double accuracy_headshot</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00129">game_constants.h:129</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a32b6b0daa47aeb1caa71bc0585e24684"><div class="ttname"><a href="game__constants_8h.html#a32b6b0daa47aeb1caa71bc0585e24684">accuracy_critical</a></div><div class="ttdeci">constexpr double accuracy_critical</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00130">game_constants.h:130</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a3609286768209b2349721b737aa02f96"><div class="ttname"><a href="game__constants_8h.html#a3609286768209b2349721b737aa02f96">accuracy_goodhit</a></div><div class="ttdeci">constexpr double accuracy_goodhit</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00131">game_constants.h:131</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a45b6e116f09ae6af4ef31f1495cf48a1"><div class="ttname"><a href="game__constants_8h.html#a45b6e116f09ae6af4ef31f1495cf48a1">accuracy_grazing</a></div><div class="ttdeci">constexpr double accuracy_grazing</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00133">game_constants.h:133</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a745392436b19cce3012d4d8dc0fe422c"><div class="ttname"><a href="game__constants_8h.html#a745392436b19cce3012d4d8dc0fe422c">MAX_VIEW_DISTANCE</a></div><div class="ttdeci">constexpr int MAX_VIEW_DISTANCE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00051">game_constants.h:51</a></div></div>
<div class="ttc" id="agame__constants_8h_html_acb2d9f7a196b657e32a4e71733a89e5c"><div class="ttname"><a href="game__constants_8h.html#acb2d9f7a196b657e32a4e71733a89e5c">EXTRA_EXERCISE</a></div><div class="ttdeci">constexpr float EXTRA_EXERCISE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00186">game_constants.h:186</a></div></div>
<div class="ttc" id="agame__constants_8h_html_ae5e219227693b7de2d1bb823567b01c7"><div class="ttname"><a href="game__constants_8h.html#ae5e219227693b7de2d1bb823567b01c7">accuracy_standard</a></div><div class="ttdeci">constexpr double accuracy_standard</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00132">game_constants.h:132</a></div></div>
<div class="ttc" id="ainput__context_8cpp_html_a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a"><div class="ttname"><a href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">kb_menu_status::filter</a></div><div class="ttdeci">@ filter</div></div>
<div class="ttc" id="aitem_8cpp_html_a69e37326c7c5f142d13f8ac8e070b728"><div class="ttname"><a href="item_8cpp.html#a69e37326c7c5f142d13f8ac8e070b728">null_item_reference</a></div><div class="ttdeci">item &amp; null_item_reference()</div><div class="ttdoc">Returns a reference to a null item (see item::is_null).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00248">item.cpp:248</a></div></div>
<div class="ttc" id="aitem_8h_html"><div class="ttname"><a href="item_8h.html">item.h</a></div></div>
<div class="ttc" id="aitem__location_8h_html"><div class="ttname"><a href="item__location_8h.html">item_location.h</a></div></div>
<div class="ttc" id="ajson__error_8h_html"><div class="ttname"><a href="json__error_8h.html">json_error.h</a></div></div>
<div class="ttc" id="alevel__cache_8h_html"><div class="ttname"><a href="level__cache_8h.html">level_cache.h</a></div></div>
<div class="ttc" id="alightmap_8h_html"><div class="ttname"><a href="lightmap_8h.html">lightmap.h</a></div></div>
<div class="ttc" id="alightmap_8h_html_aeb9bbbd65db85e3561729666fb6c7b38a41bc94cbd8eebea13ce0491b2ac11b88"><div class="ttname"><a href="lightmap_8h.html#aeb9bbbd65db85e3561729666fb6c7b38a41bc94cbd8eebea13ce0491b2ac11b88">lit_level::LOW</a></div><div class="ttdeci">@ LOW</div></div>
<div class="ttc" id="alightmap_8h_html_af20a076fb00e8f5ee28db8f5c302914e"><div class="ttname"><a href="lightmap_8h.html#af20a076fb00e8f5ee28db8f5c302914e">LIGHT_TRANSPARENCY_SOLID</a></div><div class="ttdeci">constexpr float LIGHT_TRANSPARENCY_SOLID</div><div class="ttdoc">Transparency 101: Transparency usually ranges between 0.038 (open air) and 0.38 (regular smoke).</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8h_source.html#l00032">lightmap.h:32</a></div></div>
<div class="ttc" id="aline_8cpp_html_a22f984836636053038f43340f9c50149"><div class="ttname"><a href="line_8cpp.html#a22f984836636053038f43340f9c50149">coord_to_angle</a></div><div class="ttdeci">units::angle coord_to_angle(const tripoint &amp;a, const tripoint &amp;b)</div><div class="ttdoc">Calculates the horizontal angle between the lines from (0,0,0) to a and the line from (0,...</div><div class="ttdef"><b>Definition:</b> <a href="line_8cpp_source.html#l00940">line.cpp:940</a></div></div>
<div class="ttc" id="aline_8h_html"><div class="ttname"><a href="line_8h.html">line.h</a></div></div>
<div class="ttc" id="alocalized__comparator_8h_html"><div class="ttname"><a href="localized__comparator_8h.html">localized_comparator.h</a></div></div>
<div class="ttc" id="alocalized__comparator_8h_html_aa323a1324b9ad3f0c7dc65690aed09c6"><div class="ttname"><a href="localized__comparator_8h.html#aa323a1324b9ad3f0c7dc65690aed09c6">localized_compare</a></div><div class="ttdeci">constexpr localized_comparator localized_compare</div><div class="ttdef"><b>Definition:</b> <a href="localized__comparator_8h_source.html#l00054">localized_comparator.h:54</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a6753ecfe87da659675b18c2f81d6ec12"><div class="ttname"><a href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a></div><div class="ttdeci">static constexpr double c</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01568">magic.cpp:1568</a></div></div>
<div class="ttc" id="amagic__enchantment_8h_html"><div class="ttname"><a href="magic__enchantment_8h.html">magic_enchantment.h</a></div></div>
<div class="ttc" id="amain_8cpp_html_ac0f2228420376f4db7e1274f2b41667c"><div class="ttname"><a href="main_8cpp.html#ac0f2228420376f4db7e1274f2b41667c">main</a></div><div class="ttdeci">int main(int argc, const char *argv[])</div><div class="ttdef"><b>Definition:</b> <a href="main_8cpp_source.html#l00636">main.cpp:636</a></div></div>
<div class="ttc" id="amap_8h_html"><div class="ttname"><a href="map_8h.html">map.h</a></div></div>
<div class="ttc" id="amap__iterator_8h_html"><div class="ttname"><a href="map__iterator_8h.html">map_iterator.h</a></div></div>
<div class="ttc" id="amapdata_8h_html"><div class="ttname"><a href="mapdata_8h.html">mapdata.h</a></div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">ter_furn_flag::TFLAG_SWIMMABLE</a></div><div class="ttdeci">@ TFLAG_SWIMMABLE</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a7de97a0bb289f6e3177be7916d329c93"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a7de97a0bb289f6e3177be7916d329c93">ter_furn_flag::TFLAG_SHALLOW_WATER</a></div><div class="ttdeci">@ TFLAG_SHALLOW_WATER</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a92dc880dc978c8144a7913654529c5ae"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a92dc880dc978c8144a7913654529c5ae">ter_furn_flag::TFLAG_SMALL_HIDE</a></div><div class="ttdeci">@ TFLAG_SMALL_HIDE</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a9cf0cb2538a6fa2ce69aba2a1d8bf22f"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a9cf0cb2538a6fa2ce69aba2a1d8bf22f">ter_furn_flag::TFLAG_HIDE_PLACE</a></div><div class="ttdeci">@ TFLAG_HIDE_PLACE</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054aaebe86ebda0571101f8d02ab5f2a888c"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aaebe86ebda0571101f8d02ab5f2a888c">ter_furn_flag::TFLAG_DIGGABLE</a></div><div class="ttdeci">@ TFLAG_DIGGABLE</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054ab09f2463f4ce060d051439b5535a47e6"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ab09f2463f4ce060d051439b5535a47e6">ter_furn_flag::TFLAG_GOES_DOWN</a></div><div class="ttdeci">@ TFLAG_GOES_DOWN</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054ac6e19e1c41724be67b2bff2870539ca1"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac6e19e1c41724be67b2bff2870539ca1">ter_furn_flag::TFLAG_DEEP_WATER</a></div><div class="ttdeci">@ TFLAG_DEEP_WATER</div></div>
<div class="ttc" id="amath__parser__func_8h_html_a204ca52ef1b97d079c45e1cb6407f73b"><div class="ttname"><a href="math__parser__func_8h.html#a204ca52ef1b97d079c45e1cb6407f73b">floor</a></div><div class="ttdeci">double floor(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00095">math_parser_func.h:95</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a24f6ac6e06720c7cdf972a6083847132"><div class="ttname"><a href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">abs</a></div><div class="ttdeci">double abs(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00030">math_parser_func.h:30</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a5834219bcffc7118c95b395b8cdeec20"><div class="ttname"><a href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">round</a></div><div class="ttdeci">double round(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00110">math_parser_func.h:110</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a993dede52d23a9a3d15b01a342391ef4"><div class="ttname"><a href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">min</a></div><div class="ttdeci">double min(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00043">math_parser_func.h:43</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_aeb3bbc4ec861ea58cbfca028920e4cc6"><div class="ttname"><a href="math__parser__func_8h.html#aeb3bbc4ec861ea58cbfca028920e4cc6">sqrt</a></div><div class="ttdeci">double sqrt(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00061">math_parser_func.h:61</a></div></div>
<div class="ttc" id="amattack__common_8h_html"><div class="ttname"><a href="mattack__common_8h.html">mattack_common.h</a></div></div>
<div class="ttc" id="amdarray_8h_html"><div class="ttname"><a href="mdarray_8h.html">mdarray.h</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a3ea1aed1d11cd410cce07fb5be7aa34f"><div class="ttname"><a href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a></div><div class="ttdeci">void add_msg_if_player_sees(const tripoint &amp;target, std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l01007">messages.cpp:1007</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00997">messages.cpp:997</a></div></div>
<div class="ttc" id="amessages_8h_html"><div class="ttname"><a href="messages_8h.html">messages.h</a></div></div>
<div class="ttc" id="amessages_8h_html_ab6590bda29b082a7282bcc1a9cc8f02a"><div class="ttname"><a href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a></div><div class="ttdeci">#define add_msg_debug(type,...)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8h_source.html#l00177">messages.h:177</a></div></div>
<div class="ttc" id="amonster_8h_html"><div class="ttname"><a href="monster_8h.html">monster.h</a></div></div>
<div class="ttc" id="amorale__types_8cpp_html_a7a7fa39cff1d7efe58e013c63b7f0ee6"><div class="ttname"><a href="morale__types_8cpp.html#a7a7fa39cff1d7efe58e013c63b7f0ee6">MORALE_PYROMANIA_STARTFIRE</a></div><div class="ttdeci">const morale_type MORALE_PYROMANIA_STARTFIRE(&quot;morale_pyromania_startfire&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_ae932ffaaef9c3a4092fc8727141405bf"><div class="ttname"><a href="morale__types_8cpp.html#ae932ffaaef9c3a4092fc8727141405bf">MORALE_PYROMANIA_NOFIRE</a></div><div class="ttdeci">const morale_type MORALE_PYROMANIA_NOFIRE(&quot;morale_pyromania_nofire&quot;)</div></div>
<div class="ttc" id="amorale__types_8h_html"><div class="ttname"><a href="morale__types_8h.html">morale_types.h</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a0170802dff38a9711cf97c353826eeb7"><div class="ttname"><a href="mtype_8cpp.html#a0170802dff38a9711cf97c353826eeb7">mon_flag_SMALL_HIDER</a></div><div class="ttdeci">mon_flag_id mon_flag_SMALL_HIDER</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00150">mtype.cpp:150</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a10899530fa212da51fd92b98b0cacdb5"><div class="ttname"><a href="mtype_8cpp.html#a10899530fa212da51fd92b98b0cacdb5">mon_flag_AQUATIC</a></div><div class="ttdeci">mon_flag_id mon_flag_AQUATIC</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00048">mtype.cpp:48</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a39d11af5d82c250e8a057647257a08ae"><div class="ttname"><a href="mtype_8cpp.html#a39d11af5d82c250e8a057647257a08ae">mon_flag_NIGHT_INVISIBILITY</a></div><div class="ttdeci">mon_flag_id mon_flag_NIGHT_INVISIBILITY</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00112">mtype.cpp:112</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a734ead27f4903aaf85f1426c2dfe22db"><div class="ttname"><a href="mtype_8cpp.html#a734ead27f4903aaf85f1426c2dfe22db">mon_flag_ALWAYS_SEES_YOU</a></div><div class="ttdeci">mon_flag_id mon_flag_ALWAYS_SEES_YOU</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00045">mtype.cpp:45</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a7c712d13e8ab0186ac1c1082228b4892"><div class="ttname"><a href="mtype_8cpp.html#a7c712d13e8ab0186ac1c1082228b4892">mon_flag_RANGED_ATTACKER</a></div><div class="ttdeci">mon_flag_id mon_flag_RANGED_ATTACKER</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00139">mtype.cpp:139</a></div></div>
<div class="ttc" id="amtype_8cpp_html_aac69946bbcb6c23cbbede3616f943a32"><div class="ttname"><a href="mtype_8cpp.html#aac69946bbcb6c23cbbede3616f943a32">mon_flag_MECH_DEFENSIVE</a></div><div class="ttdeci">mon_flag_id mon_flag_MECH_DEFENSIVE</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00107">mtype.cpp:107</a></div></div>
<div class="ttc" id="amtype_8cpp_html_acc03233e053eb1e761f81eab7c05d871"><div class="ttname"><a href="mtype_8cpp.html#acc03233e053eb1e761f81eab7c05d871">mon_flag_ALWAYS_VISIBLE</a></div><div class="ttdeci">mon_flag_id mon_flag_ALWAYS_VISIBLE</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00046">mtype.cpp:46</a></div></div>
<div class="ttc" id="amtype_8cpp_html_acf472fc11b3d1be60651bb9d63cb4a78"><div class="ttname"><a href="mtype_8cpp.html#acf472fc11b3d1be60651bb9d63cb4a78">mon_flag_CAMOUFLAGE</a></div><div class="ttdeci">mon_flag_id mon_flag_CAMOUFLAGE</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00057">mtype.cpp:57</a></div></div>
<div class="ttc" id="amtype_8cpp_html_af2531aab22dc43e86301626f703a12be"><div class="ttname"><a href="mtype_8cpp.html#af2531aab22dc43e86301626f703a12be">mon_flag_WATER_CAMOUFLAGE</a></div><div class="ttdeci">mon_flag_id mon_flag_WATER_CAMOUFLAGE</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00161">mtype.cpp:161</a></div></div>
<div class="ttc" id="amtype_8cpp_html_af8eb4198f7564379a407e89c13cdd1b7"><div class="ttname"><a href="mtype_8cpp.html#af8eb4198f7564379a407e89c13cdd1b7">mon_flag_IMMOBILE</a></div><div class="ttdeci">mon_flag_id mon_flag_IMMOBILE</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00101">mtype.cpp:101</a></div></div>
<div class="ttc" id="amtype_8cpp_html_affc9dfe28f0a4007019afe73fb874a76"><div class="ttname"><a href="mtype_8cpp.html#affc9dfe28f0a4007019afe73fb874a76">mon_flag_ALL_SEEING</a></div><div class="ttdeci">mon_flag_id mon_flag_ALL_SEEING</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00044">mtype.cpp:44</a></div></div>
<div class="ttc" id="amtype_8h_html"><div class="ttname"><a href="mtype_8h.html">mtype.h</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_a04fa69b1c0952a34dc4a7d26b3f9f786"><div class="ttname"><a href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">base_camps::id</a></div><div class="ttdeci">const std::string id</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00105">basecamp.h:105</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00038">calendar.cpp:38</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a929fe85d472028f52d8a5cdfc0d35017"><div class="ttname"><a href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">catacurses::getmaxx</a></div><div class="ttdeci">int getmaxx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00091">ncurses_def.cpp:91</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_adc81ca40445dc062af12fb6d7a4793d0"><div class="ttname"><a href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">catacurses::getmaxy</a></div><div class="ttdeci">int getmaxy(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00099">ncurses_def.cpp:99</a></div></div>
<div class="ttc" id="anamespacecoords_html_ad99808a305ad40299e592d1266bed4a7"><div class="ttname"><a href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">coords::origin</a></div><div class="ttdeci">origin</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00065">coordinates.h:65</a></div></div>
<div class="ttc" id="anamespacedebugmode_html_ac654a55a1b56b11554103f87859968f2abfaaa89a847b37d4136e73a0f868c55a"><div class="ttname"><a href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2abfaaa89a847b37d4136e73a0f868c55a">debugmode::DF_CREATURE</a></div><div class="ttdeci">@ DF_CREATURE</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00254">debug.h:254</a></div></div>
<div class="ttc" id="anamespaceenchant__vals_html_acd6a6ebb27f9ecb82b3bce1d3aef2998"><div class="ttname"><a href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">enchant_vals::mod</a></div><div class="ttdeci">mod</div><div class="ttdef"><b>Definition:</b> <a href="magic__enchantment_8h_source.html#l00031">magic_enchantment.h:31</a></div></div>
<div class="ttc" id="anamespaceenchant__vals_html_acd6a6ebb27f9ecb82b3bce1d3aef2998ae6a1ca4de87670a138714781753a82a6"><div class="ttname"><a href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998ae6a1ca4de87670a138714781753a82a6">enchant_vals::mod::EXTRA_ELEC_PAIN</a></div><div class="ttdeci">@ EXTRA_ELEC_PAIN</div></div>
<div class="ttc" id="anamespaceexplosion__handler_html_ab3dd96996f54d94d9e231cec45a65210"><div class="ttname"><a href="namespaceexplosion__handler.html#ab3dd96996f54d94d9e231cec45a65210">explosion_handler::draw_custom_explosion</a></div><div class="ttdeci">void draw_custom_explosion(const tripoint &amp;p, const std::map&lt; tripoint, nc_color &gt; &amp;area, const std::optional&lt; std::string &gt; &amp;tile_id=std::nullopt)</div><div class="ttdef"><b>Definition:</b> <a href="animation_8cpp_source.html#l00309">animation.cpp:309</a></div></div>
<div class="ttc" id="anamespacekeycode_html_a16ca776f0df120afb4f1b16a92e2d7f7a27f7537397c6aaabaac683563658a066"><div class="ttname"><a href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a27f7537397c6aaabaac683563658a066">keycode::up</a></div><div class="ttdeci">@ up</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00100">input.h:100</a></div></div>
<div class="ttc" id="anamespacekeycode_html_a16ca776f0df120afb4f1b16a92e2d7f7a324c3b7a1136cdb243b39859e2bd0904"><div class="ttname"><a href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a324c3b7a1136cdb243b39859e2bd0904">keycode::down</a></div><div class="ttdeci">@ down</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00099">input.h:99</a></div></div>
<div class="ttc" id="anamespacemath__opers_html_a23fff2e10d1c6eec78481f24fb5d9de3"><div class="ttname"><a href="namespacemath__opers.html#a23fff2e10d1c6eec78481f24fb5d9de3">math_opers::div</a></div><div class="ttdeci">constexpr double div(double l, double r)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__impl_8h_source.html#l00223">math_parser_impl.h:223</a></div></div>
<div class="ttc" id="anamespacemath__opers_html_a2f0118617735cc810b9d76d62bd182f6"><div class="ttname"><a href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">math_opers::pos</a></div><div class="ttdeci">constexpr double pos(double, double r)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__impl_8h_source.html#l00203">math_parser_impl.h:203</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a8ba958ccfad28c0a5572a04dd1428f32"><div class="ttname"><a href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">om_direction::name</a></div><div class="ttdeci">std::string name(type dir)</div><div class="ttdoc">Get Human readable name of a direction.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l06412">overmap.cpp:6412</a></div></div>
<div class="ttc" id="anamespacerotatable__symbols_html_a7d2f855a39674de736a7829423a577f4"><div class="ttname"><a href="namespacerotatable__symbols.html#a7d2f855a39674de736a7829423a577f4">rotatable_symbols::get</a></div><div class="ttdeci">uint32_t get(const uint32_t &amp;symbol, int n)</div><div class="ttdef"><b>Definition:</b> <a href="rotatable__symbols_8cpp_source.html#l00091">rotatable_symbols.cpp:91</a></div></div>
<div class="ttc" id="anamespacesounds_html_a6bb79ae1c9c3dcd8c8e0b28c66b0398d"><div class="ttname"><a href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a></div><div class="ttdeci">void sound(const tripoint &amp;p, int vol, sound_t category, const std::string &amp;description, bool ambient=false, const std::string &amp;id=&quot;&quot;, const std::string &amp;variant=&quot;default&quot;)</div><div class="ttdoc">Sound at (p) of intensity (vol)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00318">sounds.cpp:318</a></div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a></div><div class="ttdeci">@ combat</div></div>
<div class="ttc" id="anamespacespell__effect_html_acfe36e6436b9cc2e3060fc5541bded22"><div class="ttname"><a href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">spell_effect::attack</a></div><div class="ttdeci">void attack(const spell &amp;sp, Creature &amp;caster, const tripoint &amp;epicenter)</div><div class="ttdef"><b>Definition:</b> <a href="magic__spell__effect_8cpp_source.html#l00581">magic_spell_effect.cpp:581</a></div></div>
<div class="ttc" id="anamespaceunits_html_a2fa3e5208be6bf02ff8d1a8c4eca1de9"><div class="ttname"><a href="namespaceunits.html#a2fa3e5208be6bf02ff8d1a8c4eca1de9">units::from_degrees</a></div><div class="ttdeci">constexpr quantity&lt; double, angle_in_radians_tag &gt; from_degrees(const value_type v)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00752">units.h:752</a></div></div>
<div class="ttc" id="anamespaceunits_html_a86330975eec4fe39c48b40e85afe151b"><div class="ttname"><a href="namespaceunits.html#a86330975eec4fe39c48b40e85afe151b">units::fabs</a></div><div class="ttdeci">quantity&lt; V, U &gt; fabs(quantity&lt; V, U &gt; q)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00147">units.h:147</a></div></div>
<div class="ttc" id="anamespaceunits_html_aaa69e639de1239a30b679b5f6ae755ca"><div class="ttname"><a href="namespaceunits.html#aaa69e639de1239a30b679b5f6ae755ca">units::to_kilogram</a></div><div class="ttdeci">constexpr double to_kilogram(const mass &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00369">units.h:369</a></div></div>
<div class="ttc" id="anpc_8h_html"><div class="ttname"><a href="npc_8h.html">npc.h</a></div></div>
<div class="ttc" id="aomdata_8h_html_a34fa26d94d253aff79aacd4ffbc1505daf5e7a346d6681f66585d00619d9e1d65"><div class="ttname"><a href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf5e7a346d6681f66585d00619d9e1d65">oter_travel_cost_type::impassable</a></div><div class="ttdeci">@ impassable</div></div>
<div class="ttc" id="aoptions_8h_html"><div class="ttname"><a href="options_8h.html">options.h</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a734462f5e51e4a40374f3e301f0b847c"><div class="ttname"><a href="output_8cpp.html#a734462f5e51e4a40374f3e301f0b847c">is_draw_tiles_mode</a></div><div class="ttdeci">bool is_draw_tiles_mode()</div><div class="ttdoc">Check whether we're in tile drawing mode.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03284">output.cpp:3284</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a766210473cb3946ae371d21efe0ad279"><div class="ttname"><a href="output_8cpp.html#a766210473cb3946ae371d21efe0ad279">replace_substring</a></div><div class="ttdeci">void replace_substring(std::string &amp;input, const std::string &amp;substring, const std::string &amp;replacement, bool all)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l02542">output.cpp:2542</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a8032083aedcd06543ba48b487844ca4b"><div class="ttname"><a href="output_8cpp.html#a8032083aedcd06543ba48b487844ca4b">mvwputch_inv</a></div><div class="ttdeci">void mvwputch_inv(const catacurses::window &amp;w, const point &amp;p, nc_color FG, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00604">output.cpp:604</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aafdcbf1eb3398c6e92cf3b71f6c8ad03"><div class="ttname"><a href="output_8cpp.html#aafdcbf1eb3398c6e92cf3b71f6c8ad03">get_hp_bar</a></div><div class="ttdeci">std::pair&lt; std::string, nc_color &gt; get_hp_bar(const int cur_hp, const int max_hp, const bool is_mon)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l02657">output.cpp:2657</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ac8f1d6275ee49732d8988e5e671b1776"><div class="ttname"><a href="output_8cpp.html#ac8f1d6275ee49732d8988e5e671b1776">SCT</a></div><div class="ttdeci">scrollingcombattext SCT</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00067">output.cpp:67</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ae5dd6b0452233905e03a18f54b721f99"><div class="ttname"><a href="output_8cpp.html#ae5dd6b0452233905e03a18f54b721f99">mvwputch_hi</a></div><div class="ttdeci">void mvwputch_hi(const catacurses::window &amp;w, const point &amp;p, nc_color FG, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00621">output.cpp:621</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afb5597c87a5847c7d64b878ab3a77d5b"><div class="ttname"><a href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a></div><div class="ttdeci">void mvwputch(const catacurses::window &amp;w, const point &amp;p, nc_color FG, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00590">output.cpp:590</a></div></div>
<div class="ttc" id="aoutput_8h_html"><div class="ttname"><a href="output_8h.html">output.h</a></div></div>
<div class="ttc" id="apoint_8h_html"><div class="ttname"><a href="point_8h.html">point.h</a></div></div>
<div class="ttc" id="apoint_8h_html_a0ee2195dcb488ae55fbf4316f5011172"><div class="ttname"><a href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></div><div class="ttdeci">constexpr point point_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00251">point.h:251</a></div></div>
<div class="ttc" id="aproficiency_8h_html_a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c"><div class="ttname"><a href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">proficiency_bonus_type::strength</a></div><div class="ttdeci">@ strength</div></div>
<div class="ttc" id="aprojectile_8h_html"><div class="ttname"><a href="projectile_8h.html">projectile.h</a></div></div>
<div class="ttc" id="arng_8cpp_html_a074df23c91b5843596dcb25fd9a9d4dc"><div class="ttname"><a href="rng_8cpp.html#a074df23c91b5843596dcb25fd9a9d4dc">rng_normal</a></div><div class="ttdeci">double rng_normal(double lo, double hi)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00178">rng.cpp:178</a></div></div>
<div class="ttc" id="arng_8cpp_html_a0c88381d6334a2fbaa726c53f5cf9bb9"><div class="ttname"><a href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a></div><div class="ttdeci">double rng_float(double lo, double hi)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00027">rng.cpp:27</a></div></div>
<div class="ttc" id="arng_8cpp_html_a7ba03e7147e43d808dc29c54bce9e57f"><div class="ttname"><a href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a></div><div class="ttdeci">int dice(int number, int sides)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00123">rng.cpp:123</a></div></div>
<div class="ttc" id="arng_8cpp_html_a844f245cb3a154611e5309e808d95600"><div class="ttname"><a href="rng_8cpp.html#a844f245cb3a154611e5309e808d95600">normal_roll_chance</a></div><div class="ttdeci">float normal_roll_chance(float center, float stddev, float difficulty)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00048">rng.cpp:48</a></div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00108">rng.cpp:108</a></div></div>
<div class="ttc" id="arng_8cpp_html_acd19ae79e3590a99c9eaf0389318b686"><div class="ttname"><a href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a></div><div class="ttdeci">int roll_remainder(double value)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00134">rng.cpp:134</a></div></div>
<div class="ttc" id="arng_8h_html"><div class="ttname"><a href="rng_8h.html">rng.h</a></div></div>
<div class="ttc" id="arng_8h_html_a12244355ee77108f1b08618e9962e4d1"><div class="ttname"><a href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a></div><div class="ttdeci">V random_entry(const C &amp;container, D default_value)</div><div class="ttdoc">Returns a random entry in the container.</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00104">rng.h:104</a></div></div>
<div class="ttc" id="asmart__controller__ui_8h_html_a70311dd7f8c88e8727c2a7567aa555caaa7970bb5f1149f16a82922773632ebe3"><div class="ttname"><a href="smart__controller__ui_8h.html#a70311dd7f8c88e8727c2a7567aa555caaa7970bb5f1149f16a82922773632ebe3">length</a></div><div class="ttdeci">@ length</div><div class="ttdef"><b>Definition:</b> <a href="smart__controller__ui_8h_source.html#l00026">smart_controller_ui.h:26</a></div></div>
<div class="ttc" id="asounds_8h_html"><div class="ttname"><a href="sounds_8h.html">sounds.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
<div class="ttc" id="astructbody__part__type_html_a10db02ab49963764a48f84dafd39aa2a"><div class="ttname"><a href="structbody__part__type.html#a10db02ab49963764a48f84dafd39aa2a">body_part_type::part_side</a></div><div class="ttdeci">side part_side</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00270">bodypart.h:270</a></div></div>
<div class="ttc" id="astructbody__part__type_html_a5c9ac1217c128e0f487b2f460dd3fad1"><div class="ttname"><a href="structbody__part__type.html#a5c9ac1217c128e0f487b2f460dd3fad1">body_part_type::type</a></div><div class="ttdeci">type</div><div class="ttdoc">the different types of body parts there are.</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00179">bodypart.h:179</a></div></div>
<div class="ttc" id="astructbody__part__type_html_a5c9ac1217c128e0f487b2f460dd3fad1a96e89a298e0a9f469b9ae458d6afae9f"><div class="ttname"><a href="structbody__part__type.html#a5c9ac1217c128e0f487b2f460dd3fad1a96e89a298e0a9f469b9ae458d6afae9f">body_part_type::type::head</a></div><div class="ttdeci">@ head</div></div>
<div class="ttc" id="astructbody__part__type_html_a5c9ac1217c128e0f487b2f460dd3fad1aa5fe26d5d09b736a77f4345e9f80b951"><div class="ttname"><a href="structbody__part__type.html#a5c9ac1217c128e0f487b2f460dd3fad1aa5fe26d5d09b736a77f4345e9f80b951">body_part_type::type::sensor</a></div><div class="ttdeci">@ sensor</div></div>
<div class="ttc" id="astructbody__part__type_html_a715cead782be623dc68bb24dbb6a5074"><div class="ttname"><a href="structbody__part__type.html#a715cead782be623dc68bb24dbb6a5074">body_part_type::has_type</a></div><div class="ttdeci">bool has_type(const body_part_type::type &amp;type) const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00252">bodypart.cpp:252</a></div></div>
<div class="ttc" id="astructbody__part__type_html_ab2d8ca27584109b9d36424f1f4dd92fe"><div class="ttname"><a href="structbody__part__type.html#ab2d8ca27584109b9d36424f1f4dd92fe">body_part_type::connected_to</a></div><div class="ttdeci">bodypart_str_id connected_to</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00229">bodypart.h:229</a></div></div>
<div class="ttc" id="astructbody__part__type_html_ab6382e58e37dbcb2062b1a2b9d8bec29"><div class="ttname"><a href="structbody__part__type.html#ab6382e58e37dbcb2062b1a2b9d8bec29">body_part_type::limbtypes</a></div><div class="ttdeci">std::map&lt; body_part_type::type, float &gt; limbtypes</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00234">bodypart.h:234</a></div></div>
<div class="ttc" id="astructbody__part__type_html_ab85a8e141926f14849bf6fbbc9e7474f"><div class="ttname"><a href="structbody__part__type.html#ab85a8e141926f14849bf6fbbc9e7474f">body_part_type::opposite_part</a></div><div class="ttdeci">bodypart_str_id opposite_part</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00231">bodypart.h:231</a></div></div>
<div class="ttc" id="astructbody__part__type_html_ab88f4c72186cad27609e877dd46d2c33"><div class="ttname"><a href="structbody__part__type.html#ab88f4c72186cad27609e877dd46d2c33">body_part_type::main_part</a></div><div class="ttdeci">bodypart_str_id main_part</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00226">bodypart.h:226</a></div></div>
<div class="ttc" id="astructbody__part__type_html_abe22ff7c5563ccdd6a2066485ca418fe"><div class="ttname"><a href="structbody__part__type.html#abe22ff7c5563ccdd6a2066485ca418fe">body_part_type::name</a></div><div class="ttdeci">translation name</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00248">bodypart.h:248</a></div></div>
<div class="ttc" id="astructbody__part__type_html_ac897947cba425635e7a0846a07a65754"><div class="ttname"><a href="structbody__part__type.html#ac897947cba425635e7a0846a07a65754">body_part_type::primary_limb_type</a></div><div class="ttdeci">body_part_type::type primary_limb_type() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00247">bodypart.cpp:247</a></div></div>
<div class="ttc" id="astructbody__part__type_html_afd43ba79d412b38476f718534904fce7"><div class="ttname"><a href="structbody__part__type.html#afd43ba79d412b38476f718534904fce7">body_part_type::has_flag</a></div><div class="ttdeci">bool has_flag(const json_character_flag &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00257">bodypart.cpp:257</a></div></div>
<div class="ttc" id="astructdamage__instance_html"><div class="ttname"><a href="structdamage__instance.html">damage_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00132">damage.h:132</a></div></div>
<div class="ttc" id="astructdamage__instance_html_a2cc3ee4ff8f77ab6cd74168b1999246a"><div class="ttname"><a href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_instance::damage_units</a></div><div class="ttdeci">std::vector&lt; damage_unit &gt; damage_units</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00133">damage.h:133</a></div></div>
<div class="ttc" id="astructdamage__instance_html_a96f6f6d008ed8744ce549cefcfec3951"><div class="ttname"><a href="structdamage__instance.html#a96f6f6d008ed8744ce549cefcfec3951">damage_instance::total_damage</a></div><div class="ttdeci">float total_damage() const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00372">damage.cpp:372</a></div></div>
<div class="ttc" id="astructdamage__instance_html_aa27d30fcf97ab64d00597c316583b3c9"><div class="ttname"><a href="structdamage__instance.html#aa27d30fcf97ab64d00597c316583b3c9">damage_instance::onhit_effects</a></div><div class="ttdeci">void onhit_effects(Creature *source, Creature *target) const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00381">damage.cpp:381</a></div></div>
<div class="ttc" id="astructdamage__instance_html_ad33a9d107b66853c7aa07876f5e6e1c9"><div class="ttname"><a href="structdamage__instance.html#ad33a9d107b66853c7aa07876f5e6e1c9">damage_instance::ondamage_effects</a></div><div class="ttdeci">void ondamage_effects(Creature *source, Creature *target, const damage_instance &amp;premitigated, bodypart_str_id bp) const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00407">damage.cpp:407</a></div></div>
<div class="ttc" id="astructdamage__unit_html"><div class="ttname"><a href="structdamage__unit.html">damage_unit</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00110">damage.h:110</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a5937d5d78a6db9efaefb0bf9517377d3"><div class="ttname"><a href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">damage_unit::amount</a></div><div class="ttdeci">float amount</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00112">damage.h:112</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a80a647d679545a588270b289a6a13dd3"><div class="ttname"><a href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">damage_unit::type</a></div><div class="ttdeci">damage_type_id type</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00111">damage.h:111</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a86471803f7e56a7064bedd8da78672ee"><div class="ttname"><a href="structdamage__unit.html#a86471803f7e56a7064bedd8da78672ee">damage_unit::unconditional_damage_mult</a></div><div class="ttdeci">float unconditional_damage_mult</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00118">damage.h:118</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a8c5cf76dd074bd5dac9b76aaece0ecf4"><div class="ttname"><a href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_unit::damage_multiplier</a></div><div class="ttdeci">float damage_multiplier</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00115">damage.h:115</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html"><div class="ttname"><a href="structdealt__damage__instance.html">dealt_damage_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00193">damage.h:193</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html_a2e105b0204c9295376296ffb405d5c34"><div class="ttname"><a href="structdealt__damage__instance.html#a2e105b0204c9295376296ffb405d5c34">dealt_damage_instance::dealt_dams</a></div><div class="ttdeci">std::map&lt; damage_type_id, int &gt; dealt_dams</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00194">damage.h:194</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html_a75af7053edce8f709daab1958325996e"><div class="ttname"><a href="structdealt__damage__instance.html#a75af7053edce8f709daab1958325996e">dealt_damage_instance::wp_hit</a></div><div class="ttdeci">std::string wp_hit</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00196">damage.h:196</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html_a86b702070a1c313624abc78ff34eff48"><div class="ttname"><a href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">dealt_damage_instance::total_damage</a></div><div class="ttdeci">int total_damage() const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00586">damage.cpp:586</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html_aa58f59c4bf4b6a78983c5df4887098b7"><div class="ttname"><a href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">dealt_damage_instance::bp_hit</a></div><div class="ttdeci">bodypart_id bp_hit</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00195">damage.h:195</a></div></div>
<div class="ttc" id="astructdealt__projectile__attack_html"><div class="ttname"><a href="structdealt__projectile__attack.html">dealt_projectile_attack</a></div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00069">projectile.h:69</a></div></div>
<div class="ttc" id="astructencumbrance__data_html"><div class="ttname"><a href="structencumbrance__data.html">encumbrance_data</a></div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00411">bodypart.h:411</a></div></div>
<div class="ttc" id="astructgame__message__params_html"><div class="ttname"><a href="structgame__message__params.html">game_message_params</a></div><div class="ttdoc">Structure allowing a combination of game_message_type and game_message_flags.</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00380">enums.h:380</a></div></div>
<div class="ttc" id="astructlevel__cache_html_a4f8614684f50298ed9948ba2d916aa80"><div class="ttname"><a href="structlevel__cache.html#a4f8614684f50298ed9948ba2d916aa80">level_cache::natural_light_level_cache</a></div><div class="ttdeci">float natural_light_level_cache</div><div class="ttdef"><b>Definition:</b> <a href="level__cache_8h_source.html#l00039">level_cache.h:39</a></div></div>
<div class="ttc" id="astructlevel__cache_html_ab0deaeedc31eadd9e85d2f11654e9878"><div class="ttname"><a href="structlevel__cache.html#ab0deaeedc31eadd9e85d2f11654e9878">level_cache::seen_cache</a></div><div class="ttdeci">cata::mdarray&lt; float, point_bub_ms &gt; seen_cache</div><div class="ttdef"><b>Definition:</b> <a href="level__cache_8h_source.html#l00068">level_cache.h:68</a></div></div>
<div class="ttc" id="astructmap__data__common__t_html_a630778707744fb147436b9aa0c370a7e"><div class="ttname"><a href="structmap__data__common__t.html#a630778707744fb147436b9aa0c370a7e">map_data_common_t::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00534">mapdata.h:534</a></div></div>
<div class="ttc" id="astructmtype_html_a254844fd8a59016dd36034d160879026"><div class="ttname"><a href="structmtype.html#a254844fd8a59016dd36034d160879026">mtype::attack_cost</a></div><div class="ttdeci">int attack_cost</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00428">mtype.h:428</a></div></div>
<div class="ttc" id="astructmtype_html_a3e1904385c3aeb343021eea90b466b19"><div class="ttname"><a href="structmtype.html#a3e1904385c3aeb343021eea90b466b19">mtype::vision_day</a></div><div class="ttdeci">int vision_day</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00458">mtype.h:458</a></div></div>
<div class="ttc" id="astructmtype_html_ad3d8be7cacb7cd0a19b2c187c9e1ac26"><div class="ttname"><a href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">mtype::special_attacks</a></div><div class="ttdeci">std::map&lt; std::string, mtype_special_attack &gt; special_attacks</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00378">mtype.h:378</a></div></div>
<div class="ttc" id="astructmtype_html_af37c4d88f49584515720ebd0d9542114"><div class="ttname"><a href="structmtype.html#af37c4d88f49584515720ebd0d9542114">mtype::vision_night</a></div><div class="ttdeci">int vision_night</div><div class="ttdoc">vision range in bright light</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00459">mtype.h:459</a></div></div>
<div class="ttc" id="astructmutation__branch_html"><div class="ttname"><a href="structmutation__branch.html">mutation_branch</a></div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00172">mutation.h:172</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
<div class="ttc" id="astructprojectile__attack__results_html"><div class="ttname"><a href="structprojectile__attack__results.html">projectile_attack_results</a></div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00980">creature.cpp:980</a></div></div>
<div class="ttc" id="astructprojectile__attack__results_html_a051eb96fe04890a33ce9842ddeff3601"><div class="ttname"><a href="structprojectile__attack__results.html#a051eb96fe04890a33ce9842ddeff3601">projectile_attack_results::message</a></div><div class="ttdeci">std::string message</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00982">creature.cpp:982</a></div></div>
<div class="ttc" id="astructprojectile__attack__results_html_a0776dbb938300f5459f593546787a55b"><div class="ttname"><a href="structprojectile__attack__results.html#a0776dbb938300f5459f593546787a55b">projectile_attack_results::bp_hit</a></div><div class="ttdeci">bodypart_id bp_hit</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00985">creature.cpp:985</a></div></div>
<div class="ttc" id="astructprojectile__attack__results_html_a2886fd217cd86fdfc25f53ad536a1cc5"><div class="ttname"><a href="structprojectile__attack__results.html#a2886fd217cd86fdfc25f53ad536a1cc5">projectile_attack_results::damage_mult</a></div><div class="ttdeci">double damage_mult</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00984">creature.cpp:984</a></div></div>
<div class="ttc" id="astructprojectile__attack__results_html_a2a299996377712285822290cc68ff181"><div class="ttname"><a href="structprojectile__attack__results.html#a2a299996377712285822290cc68ff181">projectile_attack_results::max_damage</a></div><div class="ttdeci">int max_damage</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00981">creature.cpp:981</a></div></div>
<div class="ttc" id="astructprojectile__attack__results_html_a4601b4740bd985d1a4a69439d742f7ef"><div class="ttname"><a href="structprojectile__attack__results.html#a4601b4740bd985d1a4a69439d742f7ef">projectile_attack_results::projectile_attack_results</a></div><div class="ttdeci">projectile_attack_results(const projectile &amp;proj)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00989">creature.cpp:989</a></div></div>
<div class="ttc" id="astructprojectile__attack__results_html_a5268e2447c5f219767aed41e6a39ff9a"><div class="ttname"><a href="structprojectile__attack__results.html#a5268e2447c5f219767aed41e6a39ff9a">projectile_attack_results::is_crit</a></div><div class="ttdeci">bool is_crit</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00987">creature.cpp:987</a></div></div>
<div class="ttc" id="astructprojectile__attack__results_html_a686358c77b6ab948f1b94b0b006e67d9"><div class="ttname"><a href="structprojectile__attack__results.html#a686358c77b6ab948f1b94b0b006e67d9">projectile_attack_results::wp_hit</a></div><div class="ttdeci">std::string wp_hit</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00986">creature.cpp:986</a></div></div>
<div class="ttc" id="astructprojectile__attack__results_html_ac0b889c2073462f7a5ae6cbc0b6b3463"><div class="ttname"><a href="structprojectile__attack__results.html#ac0b889c2073462f7a5ae6cbc0b6b3463">projectile_attack_results::gmtSCTcolor</a></div><div class="ttdeci">game_message_type gmtSCTcolor</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00983">creature.cpp:983</a></div></div>
<div class="ttc" id="astructprojectile_html"><div class="ttname"><a href="structprojectile.html">projectile</a></div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00017">projectile.h:17</a></div></div>
<div class="ttc" id="astructprojectile_html_a0ba785643d8b33604199a4c9bf2ef985"><div class="ttname"><a href="structprojectile.html#a0ba785643d8b33604199a4c9bf2ef985">projectile::apply_effects_nodamage</a></div><div class="ttdeci">void apply_effects_nodamage(Creature &amp;target, Creature *source) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00847">creature.cpp:847</a></div></div>
<div class="ttc" id="astructprojectile_html_a370f9c2a4b37c7ed526f9d2fd1442328"><div class="ttname"><a href="structprojectile.html#a370f9c2a4b37c7ed526f9d2fd1442328">projectile::get_drop</a></div><div class="ttdeci">const item &amp; get_drop() const</div><div class="ttdoc">Returns an item that should be dropped or an item for which is_null() is true when item to drop is un...</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8cpp_source.html#l00062">projectile.cpp:62</a></div></div>
<div class="ttc" id="astructprojectile_html_a415ddce53d5f213e157c168bf0ba7042"><div class="ttname"><a href="structprojectile.html#a415ddce53d5f213e157c168bf0ba7042">projectile::apply_effects_damage</a></div><div class="ttdeci">void apply_effects_damage(Creature &amp;target, Creature *source, const dealt_damage_instance &amp;dealt_dam, bool critical) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00854">creature.cpp:854</a></div></div>
<div class="ttc" id="astructprojectile_html_a4536010a51aee3302d749f2eb4dcaf35"><div class="ttname"><a href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">projectile::proj_effects</a></div><div class="ttdeci">std::set&lt; std::string &gt; proj_effects</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00033">projectile.h:33</a></div></div>
<div class="ttc" id="astructprojectile_html_a82d8f657f8cfc4e180c15bfab8ca8a6e"><div class="ttname"><a href="structprojectile.html#a82d8f657f8cfc4e180c15bfab8ca8a6e">projectile::impact</a></div><div class="ttdeci">damage_instance impact</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00018">projectile.h:18</a></div></div>
<div class="ttc" id="astructprojectile_html_a8f7965237723889c4066c90c05220523"><div class="ttname"><a href="structprojectile.html#a8f7965237723889c4066c90c05220523">projectile::critical_multiplier</a></div><div class="ttdeci">float critical_multiplier</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00031">projectile.h:31</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
<div class="ttc" id="astructtripoint_html_a89f6c0a16e2bfd7ce4f1f1d20404c4d7"><div class="ttname"><a href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">tripoint::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00133">point.h:133</a></div></div>
<div class="ttc" id="astructtripoint_html_ac944c0e329b5eba2602f7a52f66bbbb9"><div class="ttname"><a href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">tripoint::z</a></div><div class="ttdeci">int z</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00134">point.h:134</a></div></div>
<div class="ttc" id="astructtripoint_html_affdc0d5b75024cbfacd208a495def3dc"><div class="ttname"><a href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">tripoint::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00132">point.h:132</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html"><div class="ttname"><a href="structweakpoint__attack.html">weakpoint_attack</a></div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00024">weakpoint.h:24</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_a0391e9e0c5d21059e9b96a1873f80f3b"><div class="ttname"><a href="structweakpoint__attack.html#a0391e9e0c5d21059e9b96a1873f80f3b">weakpoint_attack::type_of_melee_attack</a></div><div class="ttdeci">static attack_type type_of_melee_attack(const damage_instance &amp;damage)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00334">weakpoint.cpp:334</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_a73f2128a971517b26afb00190a311cec"><div class="ttname"><a href="structweakpoint__attack.html#a73f2128a971517b26afb00190a311cec">weakpoint_attack::is_crit</a></div><div class="ttdeci">bool is_crit</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00046">weakpoint.h:46</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_a78f688fd78edda2cd70eafb7763d8a2d"><div class="ttname"><a href="structweakpoint__attack.html#a78f688fd78edda2cd70eafb7763d8a2d">weakpoint_attack::compute_wp_skill</a></div><div class="ttdeci">void compute_wp_skill()</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00355">weakpoint.cpp:355</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_a85754f75a50124902f33c1a18caee4bd"><div class="ttname"><a href="structweakpoint__attack.html#a85754f75a50124902f33c1a18caee4bd">weakpoint_attack::source</a></div><div class="ttdeci">const Creature * source</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00036">weakpoint.h:36</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_ad525af63dcff515fffe3c6a4a54b8378"><div class="ttname"><a href="structweakpoint__attack.html#ad525af63dcff515fffe3c6a4a54b8378">weakpoint_attack::type</a></div><div class="ttdeci">attack_type type</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00042">weakpoint.h:42</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_adc814f7f7abf2ebb62c6f1725cce9d38"><div class="ttname"><a href="structweakpoint__attack.html#adc814f7f7abf2ebb62c6f1725cce9d38">weakpoint_attack::target</a></div><div class="ttdeci">const Creature * target</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00038">weakpoint.h:38</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_af7769df3afa75bd4447aa60150f2c0f7a46dccab75ce652352e52086601fdc294"><div class="ttname"><a href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7a46dccab75ce652352e52086601fdc294">weakpoint_attack::attack_type::PROJECTILE</a></div><div class="ttdeci">@ PROJECTILE</div></div>
<div class="ttc" id="astructweakpoint_html"><div class="ttname"><a href="structweakpoint.html">weakpoint</a></div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00120">weakpoint.h:120</a></div></div>
<div class="ttc" id="astructweakpoint_html_a166af54eaddb3df736a703780f4905df"><div class="ttname"><a href="structweakpoint.html#a166af54eaddb3df736a703780f4905df">weakpoint::get_name</a></div><div class="ttdeci">std::string get_name() const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00467">weakpoint.cpp:467</a></div></div>
<div class="ttc" id="astructweakpoint_html_aee166c8fbb6fce26c20ad947379cd744"><div class="ttname"><a href="structweakpoint.html#aee166c8fbb6fce26c20ad947379cd744">weakpoint::apply_effects</a></div><div class="ttdeci">void apply_effects(Creature &amp;target, int total_damage, const weakpoint_attack &amp;attack) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00500">weakpoint.cpp:500</a></div></div>
<div class="ttc" id="atalker_8h_html"><div class="ttname"><a href="talker_8h.html">talker.h</a></div></div>
<div class="ttc" id="atalker__avatar_8h_html"><div class="ttname"><a href="talker__avatar_8h.html">talker_avatar.h</a></div></div>
<div class="ttc" id="atalker__character_8h_html"><div class="ttname"><a href="talker__character_8h.html">talker_character.h</a></div></div>
<div class="ttc" id="atalker__monster_8h_html"><div class="ttname"><a href="talker__monster_8h.html">talker_monster.h</a></div></div>
<div class="ttc" id="atalker__npc_8h_html"><div class="ttname"><a href="talker__npc_8h.html">talker_npc.h</a></div></div>
<div class="ttc" id="atranslation_8cpp_html_a176e288c640c6506a86330cb10fbe13a"><div class="ttname"><a href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a></div><div class="ttdeci">translation to_translation(const std::string &amp;raw)</div><div class="ttdoc">Shorthands for translation::to_translation.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8cpp_source.html#l00420">translation.cpp:420</a></div></div>
<div class="ttc" id="atranslation_8h_html"><div class="ttname"><a href="translation_8h.html">translation.h</a></div></div>
<div class="ttc" id="atranslations_8h_html"><div class="ttname"><a href="translations_8h.html">translations.h</a></div></div>
<div class="ttc" id="atranslations_8h_html_a46bdf4dff9d320938561cade1c9a5f7e"><div class="ttname"><a href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a></div><div class="ttdeci">#define pgettext(STRING1, STRING2)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00092">translations.h:92</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
<div class="ttc" id="aunits_8h_html"><div class="ttname"><a href="units_8h.html">units.h</a></div></div>
<div class="ttc" id="avalue__ptr_8h_html"><div class="ttname"><a href="value__ptr_8h.html">value_ptr.h</a></div></div>
<div class="ttc" id="avehicle_8h_html"><div class="ttname"><a href="vehicle_8h.html">vehicle.h</a></div></div>
<div class="ttc" id="avpart__position_8h_html"><div class="ttname"><a href="vpart__position_8h.html">vpart_position.h</a></div></div>
<div class="ttc" id="avpart__position_8h_html_a8da46e924794d004c9899494ecd600c5"><div class="ttname"><a href="vpart__position_8h.html#a8da46e924794d004c9899494ecd600c5">veh_pointer_or_null</a></div><div class="ttdeci">vehicle * veh_pointer_or_null(const optional_vpart_position &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00185">vpart_position.h:185</a></div></div>
<div class="ttc" id="aweather__type_8h_html_a72d839b22172d982273f161206458e25aa1a074a72eb46dfdde53e589d946ab98"><div class="ttname"><a href="weather__type_8h.html#a72d839b22172d982273f161206458e25aa1a074a72eb46dfdde53e589d946ab98">last</a></div><div class="ttdeci">@ last</div><div class="ttdef"><b>Definition:</b> <a href="weather__type_8h_source.html#l00055">weather_type.h:54</a></div></div>
<div class="ttc" id="awidget_8h_html_ac9c40e0d5ffae2a9e10019da79b7983fa71cb762591159613cc1eb3e2df9edd61"><div class="ttname"><a href="widget_8h.html#ac9c40e0d5ffae2a9e10019da79b7983fa71cb762591159613cc1eb3e2df9edd61">widget_var::move_cost</a></div><div class="ttdeci">@ move_cost</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:26 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
