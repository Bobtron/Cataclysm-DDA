<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: anonymous_namespace{animation.cpp} Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">anonymous_namespace{animation.cpp} Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanonymous__namespace_02animation_8cpp_03_1_1basic__animation.html">basic_animation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanonymous__namespace_02animation_8cpp_03_1_1explosion__animation.html">explosion_animation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanonymous__namespace_02animation_8cpp_03_1_1bullet__animation.html">bullet_animation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9d3fbd2d49b9955d5e302a03994eaacd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a9d3fbd2d49b9955d5e302a03994eaacd">is_point_visible</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p, int margin=0)</td></tr>
<tr class="separator:a9d3fbd2d49b9955d5e302a03994eaacd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac82c57522200ee34145b4d5598d87157"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#ac82c57522200ee34145b4d5598d87157">is_radius_visible</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;center, int radius)</td></tr>
<tr class="separator:ac82c57522200ee34145b4d5598d87157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f06b673f9eaa2ed24738e4de3855981"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a7f06b673f9eaa2ed24738e4de3855981">is_layer_visible</a> (const std::map&lt; <a class="el" href="structtripoint.html">tripoint</a>, <a class="el" href="structexplosion__tile.html">explosion_tile</a> &gt; &amp;layer)</td></tr>
<tr class="separator:a7f06b673f9eaa2ed24738e4de3855981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c9fac1a3c6553914ca17c5dda58d816"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a2c9fac1a3c6553914ca17c5dda58d816">relative_view_pos</a> (const <a class="el" href="classavatar.html">avatar</a> &amp;u, const <a class="el" href="structtripoint.html">tripoint</a> &amp;p) noexcept</td></tr>
<tr class="memdesc:a2c9fac1a3c6553914ca17c5dda58d816"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get p relative to u's current position and view.  <a href="namespaceanonymous__namespace_02animation_8cpp_03.html#a2c9fac1a3c6553914ca17c5dda58d816">More...</a><br /></td></tr>
<tr class="separator:a2c9fac1a3c6553914ca17c5dda58d816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a969b3608caea7d2243aaae720383cbf1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a969b3608caea7d2243aaae720383cbf1">relative_view_pos</a> (const <a class="el" href="classgame.html">game</a> &amp;<a class="el" href="mapbuffer_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>, const <a class="el" href="structtripoint.html">tripoint</a> &amp;p) noexcept</td></tr>
<tr class="separator:a969b3608caea7d2243aaae720383cbf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b0efafac10ab3e71a3cc1bca498c240"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a9b0efafac10ab3e71a3cc1bca498c240">draw_explosion_curses</a> (<a class="el" href="classgame.html">game</a> &amp;<a class="el" href="mapbuffer_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>, const <a class="el" href="structtripoint.html">tripoint</a> &amp;center, const int r, const <a class="el" href="classnc__color.html">nc_color</a> &amp;col)</td></tr>
<tr class="separator:a9b0efafac10ab3e71a3cc1bca498c240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98dee93c997ae0c4a02d0f35206866e1"><td class="memItemLeft" align="right" valign="top">constexpr <a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a98dee93c997ae0c4a02d0f35206866e1">operator|</a> (<a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a> lhs, <a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a> rhs)</td></tr>
<tr class="separator:a98dee93c997ae0c4a02d0f35206866e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c245e53b1d717bd30afc1629532bd05"><td class="memItemLeft" align="right" valign="top">constexpr <a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a2c245e53b1d717bd30afc1629532bd05">operator^</a> (<a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a> lhs, <a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a> rhs)</td></tr>
<tr class="separator:a2c245e53b1d717bd30afc1629532bd05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac782629e3afab2499c6128a603239820"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#ac782629e3afab2499c6128a603239820">draw_custom_explosion_curses</a> (<a class="el" href="classgame.html">game</a> &amp;<a class="el" href="mapbuffer_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>, const std::list&lt; std::map&lt; <a class="el" href="structtripoint.html">tripoint</a>, <a class="el" href="structexplosion__tile.html">explosion_tile</a> &gt; &gt; &amp;layers)</td></tr>
<tr class="separator:ac782629e3afab2499c6128a603239820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac07d7350591e9095b0d65a4229b46d2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#ac07d7350591e9095b0d65a4229b46d2b">draw_bullet_curses</a> (<a class="el" href="classmap.html">map</a> &amp;m, const <a class="el" href="structtripoint.html">tripoint</a> &amp;t, const char bullet, const <a class="el" href="structtripoint.html">tripoint</a> *const p)</td></tr>
<tr class="separator:ac07d7350591e9095b0d65a4229b46d2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04d3c3f9300b09eba6bcd25ad842a53f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a04d3c3f9300b09eba6bcd25ad842a53f">hit_animation</a> (const <a class="el" href="classavatar.html">avatar</a> &amp;u, const <a class="el" href="structtripoint.html">tripoint</a> &amp;center, <a class="el" href="classnc__color.html">nc_color</a> cColor, const std::string &amp;cTile)</td></tr>
<tr class="separator:a04d3c3f9300b09eba6bcd25ad842a53f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a511c668d7b07b261f1776f83015604a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a511c668d7b07b261f1776f83015604a1">draw_hit_mon_curses</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;center, const <a class="el" href="classmonster.html">monster</a> &amp;m, const <a class="el" href="classavatar.html">avatar</a> &amp;u, const bool dead)</td></tr>
<tr class="separator:a511c668d7b07b261f1776f83015604a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e985070afbe3f3c469d20d16a3c210a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a9e985070afbe3f3c469d20d16a3c210a">draw_hit_player_curses</a> (const <a class="el" href="classgame.html">game</a> &amp;, const <a class="el" href="classCharacter.html">Character</a> &amp;p, const int dam)</td></tr>
<tr class="separator:a9e985070afbe3f3c469d20d16a3c210a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29da75b2e4c59316b658df853b6dc446"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a29da75b2e4c59316b658df853b6dc446">draw_line_curses</a> (<a class="el" href="classgame.html">game</a> &amp;<a class="el" href="mapbuffer_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>, const <a class="el" href="structtripoint.html">tripoint</a> &amp;center, const std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;ret, bool noreveal)</td></tr>
<tr class="separator:a29da75b2e4c59316b658df853b6dc446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f369a30d468e3610be549a2020c90eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a1f369a30d468e3610be549a2020c90eb">draw_line_curses</a> (<a class="el" href="classgame.html">game</a> &amp;<a class="el" href="mapbuffer_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>, const std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;points)</td></tr>
<tr class="separator:a1f369a30d468e3610be549a2020c90eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54bd42df50120a0f2d37b8e104db87d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a54bd42df50120a0f2d37b8e104db87d4">draw_weather_curses</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;win, const <a class="el" href="structweather__printable.html">weather_printable</a> &amp;w)</td></tr>
<tr class="separator:a54bd42df50120a0f2d37b8e104db87d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a271a2d2b71ba0e37131ddeee69aee517"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a271a2d2b71ba0e37131ddeee69aee517">draw_sct_curses</a> (const <a class="el" href="classgame.html">game</a> &amp;<a class="el" href="mapbuffer_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>)</td></tr>
<tr class="separator:a271a2d2b71ba0e37131ddeee69aee517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87af8ceec56e11835b1772a19ee7cf6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a87af8ceec56e11835b1772a19ee7cf6c">draw_zones_curses</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, const <a class="el" href="structtripoint.html">tripoint</a> &amp;start, const <a class="el" href="structtripoint.html">tripoint</a> &amp;end, const <a class="el" href="structtripoint.html">tripoint</a> &amp;offset)</td></tr>
<tr class="separator:a87af8ceec56e11835b1772a19ee7cf6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac07d7350591e9095b0d65a4229b46d2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac07d7350591e9095b0d65a4229b46d2b">&#9670;&nbsp;</a></span>draw_bullet_curses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_bullet_curses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char&#160;</td>
          <td class="paramname"><em>bullet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> *const&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00456">456</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;{</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a9d3fbd2d49b9955d5e302a03994eaacd">is_point_visible</a>( t ) ) {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> vp = player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() + player_character.<a class="code" href="classCharacter.html#ad142b103f316b95f28681bd5502e79ef">view_offset</a>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">if</span>( vp.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> != t.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;game::draw_callback_t&gt;</a> bullet_cb = make_shared_fast&lt;game::draw_callback_t&gt;( [&amp;]() {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="keywordflow">if</span>( p != <span class="keyword">nullptr</span> &amp;&amp; p-&gt;<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> == vp.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            m.drawsq( g-&gt;w_terrain, *p, drawsq_params().center( vp ) );</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;w_terrain, t.<a class="code" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() - vp.<a class="code" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code" href="structpoint.html">point</a>( <a class="code" href="output_8cpp.html#a852bcaf15ef9b08c80dfa899078baa3d">POSX</a>, <a class="code" href="output_8cpp.html#ab911c8aec787739bcd40d1d3d620ad44">POSY</a> ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, bullet );</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    } );</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;add_draw_callback( bullet_cb );</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    bullet_animation().progress();</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;}</div>
<div class="ttc" id="aavatar_8h_html_a7fe2c1a3376948380f856732d4f34c5c"><div class="ttname"><a href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a></div><div class="ttdeci">avatar &amp; get_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13817">game.cpp:13817</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad142b103f316b95f28681bd5502e79ef"><div class="ttname"><a href="classCharacter.html#ad142b103f316b95f28681bd5502e79ef">Character::view_offset</a></div><div class="ttdeci">tripoint view_offset</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02705">character.h:2705</a></div></div>
<div class="ttc" id="aclassCreature_html_a1a65722d07102550f16d17ebd79e2743"><div class="ttname"><a href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">Creature::pos</a></div><div class="ttdeci">tripoint pos() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00178">creature.cpp:178</a></div></div>
<div class="ttc" id="aclassavatar_html"><div class="ttname"><a href="classavatar.html">avatar</a></div><div class="ttdef"><b>Definition:</b> <a href="avatar_8h_source.html#l00083">avatar.h:84</a></div></div>
<div class="ttc" id="acolor_8h_html_af0a87eaef36305269f4506dfa34d94c0"><div class="ttname"><a href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a></div><div class="ttdeci">#define c_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00019">color.h:19</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00382">game.cpp:382</a></div></div>
<div class="ttc" id="amemory__fast_8h_html_ada897699f31fc8b37c5af09d95d45840"><div class="ttname"><a href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast</a></div><div class="ttdeci">std::shared_ptr&lt; T &gt; shared_ptr_fast</div><div class="ttdef"><b>Definition:</b> <a href="memory__fast_8h_source.html#l00016">memory_fast.h:16</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02animation_8cpp_03_html_a9d3fbd2d49b9955d5e302a03994eaacd"><div class="ttname"><a href="namespaceanonymous__namespace_02animation_8cpp_03.html#a9d3fbd2d49b9955d5e302a03994eaacd">anonymous_namespace{animation.cpp}::is_point_visible</a></div><div class="ttdeci">bool is_point_visible(const tripoint &amp;p, int margin=0)</div><div class="ttdef"><b>Definition:</b> <a href="animation_8cpp_source.html#l00103">animation.cpp:103</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a852bcaf15ef9b08c80dfa899078baa3d"><div class="ttname"><a href="output_8cpp.html#a852bcaf15ef9b08c80dfa899078baa3d">POSX</a></div><div class="ttdeci">int POSX</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00051">output.cpp:51</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab911c8aec787739bcd40d1d3d620ad44"><div class="ttname"><a href="output_8cpp.html#ab911c8aec787739bcd40d1d3d620ad44">POSY</a></div><div class="ttdeci">int POSY</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00052">output.cpp:52</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afb5597c87a5847c7d64b878ab3a77d5b"><div class="ttname"><a href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a></div><div class="ttdeci">void mvwputch(const catacurses::window &amp;w, const point &amp;p, nc_color FG, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00590">output.cpp:590</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
<div class="ttc" id="astructtripoint_html_ac944c0e329b5eba2602f7a52f66bbbb9"><div class="ttname"><a href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">tripoint::z</a></div><div class="ttdeci">int z</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00134">point.h:134</a></div></div>
<div class="ttc" id="astructtripoint_html_accc0725c936dbebb2486f969f39e2e5f"><div class="ttname"><a href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">tripoint::xy</a></div><div class="ttdeci">constexpr point xy() const</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00202">point.h:202</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="animation_8cpp_source.html#l00103">is_point_visible()</a>, <a class="el" href="output_8cpp_source.html#l00590">mvwputch()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="output_8cpp_source.html#l00051">POSX</a>, <a class="el" href="output_8cpp_source.html#l00052">POSY</a>, <a class="el" href="animation_8cpp_source.html#l00067">anonymous_namespace{animation.cpp}::basic_animation::progress()</a>, <a class="el" href="character_8h_source.html#l02705">Character::view_offset</a>, <a class="el" href="point_8h_source.html#l00202">tripoint::xy()</a>, and <a class="el" href="point_8h_source.html#l00134">tripoint::z</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00520">game::draw_bullet()</a>.</p>

</div>
</div>
<a id="ac782629e3afab2499c6128a603239820"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac782629e3afab2499c6128a603239820">&#9670;&nbsp;</a></span>draw_custom_explosion_curses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_custom_explosion_curses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgame.html">game</a> &amp;&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::list&lt; std::map&lt; <a class="el" href="structtripoint.html">tripoint</a>, <a class="el" href="structexplosion__tile.html">explosion_tile</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>layers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00189">189</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;{</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">// calculate screen offset relative to player + view offset position</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> = player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() + player_character.<a class="code" href="classCharacter.html#ad142b103f316b95f28681bd5502e79ef">view_offset</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> topleft( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.x - <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain ) / 2,</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                            <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.y - <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain ) / 2, 0 );</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    explosion_animation anim;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keyword">auto</span> last_layer_it = layers.begin();</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;game::draw_callback_t&gt;</a> explosion_cb =</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    make_shared_fast&lt;game::draw_callback_t&gt;( [&amp;]() {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = layers.begin(); it != std::next( last_layer_it ); ++it ) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            for( const auto &amp;pr : *it ) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <span class="comment">// update tripoint in relation to top left corner of curses window</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                <span class="comment">// mvwputch already filters out of bounds coordinates</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                const tripoint p = pr.first - topleft;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                const explosion_neighbors ngh = pr.second.neighborhood;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                const nc_color col = pr.second.color;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                switch( ngh ) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                    <span class="comment">// &#39;^&#39;, &#39;v&#39;, &#39;&lt;&#39;, &#39;&gt;&#39;</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                    case N_NORTH:</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;^&#39;</span> );</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                        break;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    case N_SOUTH:</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;v&#39;</span> );</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                        break;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                    case N_WEST:</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;&lt;&#39;</span> );</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                        break;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                    case N_EAST:</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;&gt;&#39;</span> );</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                        break;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    <span class="comment">// &#39;|&#39; and &#39;-&#39;</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                    case N_NORTH | N_SOUTH:</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                    case N_NORTH | N_SOUTH | N_WEST:</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                    case N_NORTH | N_SOUTH | N_EAST:</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;|&#39;</span> );</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                        break;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                    case N_WEST | N_EAST:</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                    case N_WEST | N_EAST | N_NORTH:</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                    case N_WEST | N_EAST | N_SOUTH:</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;-&#39;</span> );</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                        break;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                    <span class="comment">// &#39;/&#39; and &#39;\&#39;</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                    case N_NORTH | N_WEST:</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                    case N_SOUTH | N_EAST:</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;/&#39;</span> );</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                        break;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    case N_SOUTH | N_WEST:</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                    case N_NORTH | N_EAST:</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;\\&#39;</span> );</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                        break;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                    case N_NO_NEIGHBORS:</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;*&#39;</span> );</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                        break;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                    case N_WEST | N_EAST | N_NORTH | N_SOUTH:</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                        break;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    } );</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.add_draw_callback( explosion_cb );</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">for</span>( last_layer_it = layers.begin(); last_layer_it != layers.end(); ++last_layer_it ) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a7f06b673f9eaa2ed24738e4de3855981">is_layer_visible</a>( *last_layer_it ) ) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            anim.progress();</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div>
<div class="ttc" id="aenums_8h_html_a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b"><div class="ttname"><a href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a></div><div class="ttdeci">@ center</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00410">enums.h:410</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02animation_8cpp_03_html_a7f06b673f9eaa2ed24738e4de3855981"><div class="ttname"><a href="namespaceanonymous__namespace_02animation_8cpp_03.html#a7f06b673f9eaa2ed24738e4de3855981">anonymous_namespace{animation.cpp}::is_layer_visible</a></div><div class="ttdeci">bool is_layer_visible(const std::map&lt; tripoint, explosion_tile &gt; &amp;layer)</div><div class="ttdef"><b>Definition:</b> <a href="animation_8cpp_source.html#l00113">animation.cpp:113</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a929fe85d472028f52d8a5cdfc0d35017"><div class="ttname"><a href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">catacurses::getmaxx</a></div><div class="ttdeci">int getmaxx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00091">ncurses_def.cpp:91</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_adc81ca40445dc062af12fb6d7a4793d0"><div class="ttname"><a href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">catacurses::getmaxy</a></div><div class="ttdeci">int getmaxy(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00099">ncurses_def.cpp:99</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enums_8h_source.html#l00410">center</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00099">catacurses::getmaxy()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, and <a class="el" href="character_8h_source.html#l02705">Character::view_offset</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00309">explosion_handler::draw_custom_explosion()</a>.</p>

</div>
</div>
<a id="a9b0efafac10ab3e71a3cc1bca498c240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b0efafac10ab3e71a3cc1bca498c240">&#9670;&nbsp;</a></span>draw_explosion_curses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_explosion_curses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgame.html">game</a> &amp;&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>center</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnc__color.html">nc_color</a> &amp;&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00133">133</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;{</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="namespaceanonymous__namespace_02animation_8cpp_03.html#ac82c57522200ee34145b4d5598d87157">is_radius_visible</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>, r ) ) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// TODO: Make it look different from above/below</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> p = <a class="code" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a969b3608caea7d2243aaae720383cbf1">relative_view_pos</a>( <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>(), <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    explosion_animation anim;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordtype">int</span> frame = 0;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;game::draw_callback_t&gt;</a> explosion_cb =</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    make_shared_fast&lt;game::draw_callback_t&gt;( [&amp;]() {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">if</span>( r == 0 ) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, <a class="code" href="structpoint.html">point</a>( p.<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>, p.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> ), col, <span class="charliteral">&#39;*&#39;</span> );</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 1; i &lt;= frame; ++i ) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="comment">// corner: top left</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code" href="structpoint.html">point</a>( -i, -i ), col, <span class="charliteral">&#39;/&#39;</span> );</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="comment">// corner: top right</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code" href="structpoint.html">point</a>( i, -i ), col, <span class="charliteral">&#39;\\&#39;</span> );</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="comment">// corner: bottom left</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code" href="structpoint.html">point</a>( -i, i ), col, <span class="charliteral">&#39;\\&#39;</span> );</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="comment">// corner: bottom right</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code" href="structpoint.html">point</a>( i, i ), col, <span class="charliteral">&#39;/&#39;</span> );</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 1 - i; j &lt; 0 + i; j++ ) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <span class="comment">// edge: top</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code" href="structpoint.html">point</a>( j, -i ), col, <span class="charliteral">&#39;-&#39;</span> );</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <span class="comment">// edge: bottom</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code" href="structpoint.html">point</a>( j, i ), col, <span class="charliteral">&#39;-&#39;</span> );</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                <span class="comment">// edge: left</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code" href="structpoint.html">point</a>( -i, j ), col, <span class="charliteral">&#39;|&#39;</span> );</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="comment">// edge: right</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code" href="structpoint.html">point</a>( i, j ), col, <span class="charliteral">&#39;|&#39;</span> );</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    } );</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.add_draw_callback( explosion_cb );</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">for</span>( frame = 1; frame &lt;= r; ++frame ) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        anim.progress();</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="ttc" id="anamespaceanonymous__namespace_02animation_8cpp_03_html_a969b3608caea7d2243aaae720383cbf1"><div class="ttname"><a href="namespaceanonymous__namespace_02animation_8cpp_03.html#a969b3608caea7d2243aaae720383cbf1">anonymous_namespace{animation.cpp}::relative_view_pos</a></div><div class="ttdeci">tripoint relative_view_pos(const game &amp;g, const tripoint &amp;p) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="animation_8cpp_source.html#l00128">animation.cpp:128</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02animation_8cpp_03_html_ac82c57522200ee34145b4d5598d87157"><div class="ttname"><a href="namespaceanonymous__namespace_02animation_8cpp_03.html#ac82c57522200ee34145b4d5598d87157">anonymous_namespace{animation.cpp}::is_radius_visible</a></div><div class="ttdeci">bool is_radius_visible(const tripoint &amp;center, int radius)</div><div class="ttdef"><b>Definition:</b> <a href="animation_8cpp_source.html#l00108">animation.cpp:108</a></div></div>
<div class="ttc" id="astructtripoint_html_a89f6c0a16e2bfd7ce4f1f1d20404c4d7"><div class="ttname"><a href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">tripoint::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00133">point.h:133</a></div></div>
<div class="ttc" id="astructtripoint_html_affdc0d5b75024cbfacd208a495def3dc"><div class="ttname"><a href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">tripoint::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00132">point.h:132</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enums_8h_source.html#l00410">center</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="animation_8cpp_source.html#l00108">is_radius_visible()</a>, <a class="el" href="output_8cpp_source.html#l00590">mvwputch()</a>, <a class="el" href="animation_8cpp_source.html#l00067">anonymous_namespace{animation.cpp}::basic_animation::progress()</a>, <a class="el" href="animation_8cpp_source.html#l00128">relative_view_pos()</a>, <a class="el" href="point_8h_source.html#l00132">tripoint::x</a>, <a class="el" href="point_8h_source.html#l00202">tripoint::xy()</a>, and <a class="el" href="point_8h_source.html#l00133">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00303">explosion_handler::draw_explosion()</a>.</p>

</div>
</div>
<a id="a511c668d7b07b261f1776f83015604a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a511c668d7b07b261f1776f83015604a1">&#9670;&nbsp;</a></span>draw_hit_mon_curses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_hit_mon_curses </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>center</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmonster.html">monster</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classavatar.html">avatar</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>dead</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00554">554</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;{</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a04d3c3f9300b09eba6bcd25ad842a53f">hit_animation</a>( u, <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>, <a class="code" href="color_8cpp.html#a8c9d398d812c546baae9a55dbfd22d21">red_background</a>( m.<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a6ad4c76593c4cd6423492169733885a1">color</a> ), dead ? <span class="stringliteral">&quot;%&quot;</span> : m.<a class="code" href="classmonster.html#a75545ec99050815b0c30d93a2152319b">symbol</a>() );</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a75545ec99050815b0c30d93a2152319b"><div class="ttname"><a href="classmonster.html#a75545ec99050815b0c30d93a2152319b">monster::symbol</a></div><div class="ttdeci">const std::string &amp; symbol() const override</div><div class="ttdoc">Creature symbol.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01148">monster.cpp:1148</a></div></div>
<div class="ttc" id="aclassmonster_html_aa30f973bf524ba275ada847f6118b048"><div class="ttname"><a href="classmonster.html#aa30f973bf524ba275ada847f6118b048">monster::type</a></div><div class="ttdeci">const mtype * type</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00550">monster.h:550</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a8c9d398d812c546baae9a55dbfd22d21"><div class="ttname"><a href="color_8cpp.html#a8c9d398d812c546baae9a55dbfd22d21">red_background</a></div><div class="ttdeci">nc_color red_background(const nc_color &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00552">color.cpp:552</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02animation_8cpp_03_html_a04d3c3f9300b09eba6bcd25ad842a53f"><div class="ttname"><a href="namespaceanonymous__namespace_02animation_8cpp_03.html#a04d3c3f9300b09eba6bcd25ad842a53f">anonymous_namespace{animation.cpp}::hit_animation</a></div><div class="ttdeci">void hit_animation(const avatar &amp;u, const tripoint &amp;center, nc_color cColor, const std::string &amp;cTile)</div><div class="ttdef"><b>Definition:</b> <a href="animation_8cpp_source.html#l00531">animation.cpp:531</a></div></div>
<div class="ttc" id="astructmtype_html_a6ad4c76593c4cd6423492169733885a1"><div class="ttname"><a href="structmtype.html#a6ad4c76593c4cd6423492169733885a1">mtype::color</a></div><div class="ttdeci">nc_color color</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00480">mtype.h:480</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enums_8h_source.html#l00410">center</a>, <a class="el" href="mtype_8h_source.html#l00480">mtype::color</a>, <a class="el" href="animation_8cpp_source.html#l00531">hit_animation()</a>, <a class="el" href="color_8cpp_source.html#l00552">red_background()</a>, <a class="el" href="monster_8cpp_source.html#l01148">monster::symbol()</a>, <a class="el" href="monster_8h_source.html#l00550">monster::type</a>, and <a class="el" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00583">game::draw_hit_mon()</a>.</p>

</div>
</div>
<a id="a9e985070afbe3f3c469d20d16a3c210a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e985070afbe3f3c469d20d16a3c210a">&#9670;&nbsp;</a></span>draw_hit_player_curses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_hit_player_curses </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgame.html">game</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>dam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00591">591</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;{</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <a class="code" href="classnc__color.html">nc_color</a> <span class="keyword">const</span> col = !dam ? <a class="code" href="color_8cpp.html#ae0ee2377027b6a971db8f3341ab8be76">yellow_background</a>( p.<a class="code" href="classCharacter.html#ad00f56641a33efb961a32f1651b83541">symbol_color</a>() ) : <a class="code" href="color_8cpp.html#a8c9d398d812c546baae9a55dbfd22d21">red_background</a>(</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                             p.symbol_color() );</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a04d3c3f9300b09eba6bcd25ad842a53f">hit_animation</a>( <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>(), p.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), col, p.<a class="code" href="classCharacter.html#ad19243d81ad7ecca4e08055128f11f70">symbol</a>() );</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_ad00f56641a33efb961a32f1651b83541"><div class="ttname"><a href="classCharacter.html#ad00f56641a33efb961a32f1651b83541">Character::symbol_color</a></div><div class="ttdeci">nc_color symbol_color() const override</div><div class="ttdoc">Creature symbol background color.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l05745">character.cpp:5745</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad19243d81ad7ecca4e08055128f11f70"><div class="ttname"><a href="classCharacter.html#ad19243d81ad7ecca4e08055128f11f70">Character::symbol</a></div><div class="ttdeci">const std::string &amp; symbol() const override</div><div class="ttdoc">Creature symbol.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00784">character.cpp:784</a></div></div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00347">color.h:348</a></div></div>
<div class="ttc" id="acolor_8cpp_html_ae0ee2377027b6a971db8f3341ab8be76"><div class="ttname"><a href="color_8cpp.html#ae0ee2377027b6a971db8f3341ab8be76">yellow_background</a></div><div class="ttdeci">nc_color yellow_background(const nc_color &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00570">color.cpp:570</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="animation_8cpp_source.html#l00531">hit_animation()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="color_8cpp_source.html#l00552">red_background()</a>, <a class="el" href="character_8cpp_source.html#l00784">Character::symbol()</a>, <a class="el" href="character_8cpp_source.html#l05745">Character::symbol_color()</a>, and <a class="el" href="color_8cpp_source.html#l00570">yellow_background()</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00628">game::draw_hit_player()</a>.</p>

</div>
</div>
<a id="a1f369a30d468e3610be549a2020c90eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f369a30d468e3610be549a2020c90eb">&#9670;&nbsp;</a></span>draw_line_curses() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_line_curses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgame.html">game</a> &amp;&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>points</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00707">707</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;{</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : points ) {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        here.<a class="code" href="classmap.html#ad189f4216a9eaacbf9c5aa0ceedaea18">drawsq</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p, <a class="code" href="structdrawsq__params.html">drawsq_params</a>().highlight( <span class="keyword">true</span> ) );</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160; </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> p = points.empty() ? <a class="code" href="structtripoint.html">tripoint</a> {<a class="code" href="output_8cpp.html#a852bcaf15ef9b08c80dfa899078baa3d">POSX</a>, <a class="code" href="output_8cpp.html#ab911c8aec787739bcd40d1d3d620ad44">POSY</a>, 0} :</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                       <a class="code" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a969b3608caea7d2243aaae720383cbf1">relative_view_pos</a>( player_character, points.back() );</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>(), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <span class="charliteral">&#39;X&#39;</span> );</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;}</div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="aclassmap_html_ad189f4216a9eaacbf9c5aa0ceedaea18"><div class="ttname"><a href="classmap.html#ad189f4216a9eaacbf9c5aa0ceedaea18">map::drawsq</a></div><div class="ttdeci">void drawsq(const catacurses::window &amp;w, const tripoint &amp;p, const drawsq_params &amp;params) const</div><div class="ttdoc">Draw the map tile at the given coordinate.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07059">map.cpp:7059</a></div></div>
<div class="ttc" id="acolor_8h_html_a0d06dc49b9761bbc54607397213728bb"><div class="ttname"><a href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a></div><div class="ttdeci">#define c_white</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00016">color.h:16</a></div></div>
<div class="ttc" id="agame_8cpp_html_afa1063326b0c16b43c6f3dc8c3df403d"><div class="ttname"><a href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13822">game.cpp:13822</a></div></div>
<div class="ttc" id="astructdrawsq__params_html"><div class="ttname"><a href="structdrawsq__params.html">drawsq_params</a></div><div class="ttdoc">Draw parameters used by map::drawsq() and similar methods.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00168">map.h:168</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="map_8cpp_source.html#l07059">map::drawsq()</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="output_8cpp_source.html#l00590">mvwputch()</a>, <a class="el" href="output_8cpp_source.html#l00051">POSX</a>, <a class="el" href="output_8cpp_source.html#l00052">POSY</a>, <a class="el" href="animation_8cpp_source.html#l00128">relative_view_pos()</a>, and <a class="el" href="point_8h_source.html#l00202">tripoint::xy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00683">game::draw_line()</a>.</p>

</div>
</div>
<a id="a29da75b2e4c59316b658df853b6dc446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29da75b2e4c59316b658df853b6dc446">&#9670;&nbsp;</a></span>draw_line_curses() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_line_curses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgame.html">game</a> &amp;&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>center</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>noreveal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00637">637</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;{</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <a class="code" href="structdrawsq__params.html">drawsq_params</a> params = <a class="code" href="structdrawsq__params.html">drawsq_params</a>().<a class="code" href="structdrawsq__params.html#ae80016e06fb7c6696a44fcf775374e3d">highlight</a>( <span class="keyword">true</span> ).<a class="code" href="structdrawsq__params.html#a85d5bbbff2bde51a2fdb0ac52036b1d1">center</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <a class="code" href="classcreature__tracker.html">creature_tracker</a> &amp;creatures = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>();</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> ) {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="keyword">const</span> <a class="code" href="classCreature.html">Creature</a> *critter = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( p, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="comment">// NPCs and monsters get drawn with inverted colors</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="keywordflow">if</span>( critter &amp;&amp; player_character.<a class="code" href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">sees</a>( *critter ) ) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            critter-&gt;<a class="code" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">draw</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( noreveal &amp;&amp; !player_character.<a class="code" href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">sees</a>( p ) ) {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            <span class="comment">// Draw a meaningless symbol. Avoids revealing tile, but keeps feedback</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> sym = <span class="charliteral">&#39;?&#39;</span>;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <span class="keyword">const</span> <a class="code" href="classnc__color.html">nc_color</a> col = <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> k = p.x + <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) / 2 - <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.x;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> j = p.y + <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w ) / 2 - <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.y;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( k, j ), col, sym );</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <span class="comment">// This function reveals tile at p and writes it to the player&#39;s memory</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            here.<a class="code" href="classmap.html#ad189f4216a9eaacbf9c5aa0ceedaea18">drawsq</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p, params );</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a906192bd3a5f29a61ee12695e18d2eb5"><div class="ttname"><a href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">Character::sees</a></div><div class="ttdeci">bool sees(const tripoint &amp;t, bool is_avatar=false, int range_mod=0) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l11397">character.cpp:11397</a></div></div>
<div class="ttc" id="aclassCreature_html"><div class="ttname"><a href="classCreature.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00250">creature.h:251</a></div></div>
<div class="ttc" id="aclassCreature_html_a1f39711701b63d9ae4e74b624c326316"><div class="ttname"><a href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">Creature::draw</a></div><div class="ttdeci">void draw(const catacurses::window &amp;w, const point &amp;origin, bool inverted) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02977">creature.cpp:2977</a></div></div>
<div class="ttc" id="aclasscatacurses_1_1window_html"><div class="ttname"><a href="classcatacurses_1_1window.html">catacurses::window</a></div><div class="ttdoc">A wrapper over a pointer to a curses window.</div><div class="ttdef"><b>Definition:</b> <a href="cursesdef_8h_source.html#l00054">cursesdef.h:55</a></div></div>
<div class="ttc" id="aclasscreature__tracker_html"><div class="ttname"><a href="classcreature__tracker.html">creature_tracker</a></div><div class="ttdef"><b>Definition:</b> <a href="creature__tracker_8h_source.html#l00024">creature_tracker.h:25</a></div></div>
<div class="ttc" id="aclasscreature__tracker_html_aba3c6663688bcd1806ea685d6961cb72"><div class="ttname"><a href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_tracker::creature_at</a></div><div class="ttdeci">T * creature_at(const tripoint &amp;p, bool allow_hallucination=false)</div><div class="ttdoc">Returns the Creature at the given location.</div><div class="ttdef"><b>Definition:</b> <a href="creature__tracker_8cpp_source.html#l00303">creature_tracker.cpp:303</a></div></div>
<div class="ttc" id="acolor_8h_html_a5738d18ff9e165cca088a623cb1883ae"><div class="ttname"><a href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a></div><div class="ttdeci">#define c_dark_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00018">color.h:18</a></div></div>
<div class="ttc" id="acreature__tracker_8h_html_a16f631f70e72b53e590770670fb301fb"><div class="ttname"><a href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a></div><div class="ttdeci">creature_tracker &amp; get_creature_tracker()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13827">game.cpp:13827</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_a85d5bbbff2bde51a2fdb0ac52036b1d1"><div class="ttname"><a href="structdrawsq__params.html#a85d5bbbff2bde51a2fdb0ac52036b1d1">drawsq_params::center</a></div><div class="ttdeci">constexpr drawsq_params &amp; center(const tripoint &amp;p)</div><div class="ttdoc">Set view center.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00271">map.h:271</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_ae80016e06fb7c6696a44fcf775374e3d"><div class="ttname"><a href="structdrawsq__params.html#ae80016e06fb7c6696a44fcf775374e3d">drawsq_params::highlight</a></div><div class="ttdeci">constexpr drawsq_params &amp; highlight(bool v)</div><div class="ttdoc">Highlight the tile.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00186">map.h:186</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="color_8h_source.html#l00018">c_dark_gray</a>, <a class="el" href="enums_8h_source.html#l00410">center</a>, <a class="el" href="map_8h_source.html#l00271">drawsq_params::center()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="creature_8cpp_source.html#l02977">Creature::draw()</a>, <a class="el" href="map_8cpp_source.html#l07059">map::drawsq()</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00099">catacurses::getmaxy()</a>, <a class="el" href="map_8h_source.html#l00186">drawsq_params::highlight()</a>, <a class="el" href="output_8cpp_source.html#l00590">mvwputch()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="character_8cpp_source.html#l11397">Character::sees()</a>.</p>

</div>
</div>
<a id="a271a2d2b71ba0e37131ddeee69aee517"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a271a2d2b71ba0e37131ddeee69aee517">&#9670;&nbsp;</a></span>draw_sct_curses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_sct_curses </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgame.html">game</a> &amp;&#160;</td>
          <td class="paramname"><em>g</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00790">790</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;{</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> off = <a class="code" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a969b3608caea7d2243aaae720383cbf1">relative_view_pos</a>( player_character, <a class="code" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a> );</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classscrollingcombattext_1_1cSCT.html">scrollingcombattext::cSCT</a> &amp;text : <a class="code" href="output_8cpp.html#ac8f1d6275ee49732d8988e5e671b1776">SCT</a>.<a class="code" href="classscrollingcombattext.html#a01ace3538aa0d57253df538dd7723343">vSCT</a> ) {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> dy = off.<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> + text.<a class="code" href="classscrollingcombattext_1_1cSCT.html#a431b5149d42e287e668889c9728b989f">getPosY</a>();</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> dx = off.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> + text.<a class="code" href="classscrollingcombattext_1_1cSCT.html#a6d9f2e2247547de10c9a3b8d1d3c21a3">getPosX</a>();</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="game_8cpp.html#a541d90b15c3e7b433927c44e01e5a48f">is_valid_in_w_terrain</a>( <a class="code" href="structpoint.html">point</a>( dx, dy ) ) ) {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160; </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_old = text.<a class="code" href="classscrollingcombattext_1_1cSCT.html#a399c8be22c29bfa755a6983f238c8168">getStep</a>() &gt;= <a class="code" href="classscrollingcombattext.html#a216d979c0986240c92c7baecd91ce853">scrollingcombattext::iMaxSteps</a> / 2;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <a class="code" href="classnc__color.html">nc_color</a> <span class="keyword">const</span> col1 = <a class="code" href="output_8cpp.html#afd01233212502346122ff9651f80e970">msgtype_to_color</a>( text.<a class="code" href="classscrollingcombattext_1_1cSCT.html#ab5b52af8e3116e40c39902460834dff9">getMsgType</a>( <span class="stringliteral">&quot;first&quot;</span> ),  is_old );</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        <a class="code" href="classnc__color.html">nc_color</a> <span class="keyword">const</span> col2 = <a class="code" href="output_8cpp.html#afd01233212502346122ff9651f80e970">msgtype_to_color</a>( text.<a class="code" href="classscrollingcombattext_1_1cSCT.html#ab5b52af8e3116e40c39902460834dff9">getMsgType</a>( <span class="stringliteral">&quot;second&quot;</span> ), is_old );</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, <a class="code" href="structpoint.html">point</a>( dx, dy ), col1, text.<a class="code" href="classscrollingcombattext_1_1cSCT.html#a1614ba32b175906a78b216e6ff076ab0">getText</a>( <span class="stringliteral">&quot;first&quot;</span> ) );</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <a class="code" href="output_8cpp.html#aedec608a42edd33ec812f7769a9ed0c9">wprintz</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, col2, text.<a class="code" href="classscrollingcombattext_1_1cSCT.html#a1614ba32b175906a78b216e6ff076ab0">getText</a>( <span class="stringliteral">&quot;second&quot;</span> ) );</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;}</div>
<div class="ttc" id="aclassscrollingcombattext_1_1cSCT_html"><div class="ttname"><a href="classscrollingcombattext_1_1cSCT.html">scrollingcombattext::cSCT</a></div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l01061">output.h:1062</a></div></div>
<div class="ttc" id="aclassscrollingcombattext_1_1cSCT_html_a1614ba32b175906a78b216e6ff076ab0"><div class="ttname"><a href="classscrollingcombattext_1_1cSCT.html#a1614ba32b175906a78b216e6ff076ab0">scrollingcombattext::cSCT::getText</a></div><div class="ttdeci">std::string getText(const std::string &amp;type=&quot;full&quot;) const</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l02995">output.cpp:2995</a></div></div>
<div class="ttc" id="aclassscrollingcombattext_1_1cSCT_html_a399c8be22c29bfa755a6983f238c8168"><div class="ttname"><a href="classscrollingcombattext_1_1cSCT.html#a399c8be22c29bfa755a6983f238c8168">scrollingcombattext::cSCT::getStep</a></div><div class="ttdeci">int getStep() const</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l01090">output.h:1090</a></div></div>
<div class="ttc" id="aclassscrollingcombattext_1_1cSCT_html_a431b5149d42e287e668889c9728b989f"><div class="ttname"><a href="classscrollingcombattext_1_1cSCT.html#a431b5149d42e287e668889c9728b989f">scrollingcombattext::cSCT::getPosY</a></div><div class="ttdeci">int getPosY() const</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03062">output.cpp:3062</a></div></div>
<div class="ttc" id="aclassscrollingcombattext_1_1cSCT_html_a6d9f2e2247547de10c9a3b8d1d3c21a3"><div class="ttname"><a href="classscrollingcombattext_1_1cSCT.html#a6d9f2e2247547de10c9a3b8d1d3c21a3">scrollingcombattext::cSCT::getPosX</a></div><div class="ttdeci">int getPosX() const</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03036">output.cpp:3036</a></div></div>
<div class="ttc" id="aclassscrollingcombattext_1_1cSCT_html_ab5b52af8e3116e40c39902460834dff9"><div class="ttname"><a href="classscrollingcombattext_1_1cSCT.html#ab5b52af8e3116e40c39902460834dff9">scrollingcombattext::cSCT::getMsgType</a></div><div class="ttdeci">game_message_type getMsgType(const std::string &amp;type=&quot;first&quot;) const</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03019">output.cpp:3019</a></div></div>
<div class="ttc" id="aclassscrollingcombattext_html_a01ace3538aa0d57253df538dd7723343"><div class="ttname"><a href="classscrollingcombattext.html#a01ace3538aa0d57253df538dd7723343">scrollingcombattext::vSCT</a></div><div class="ttdeci">std::vector&lt; cSCT &gt; vSCT</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l01120">output.h:1120</a></div></div>
<div class="ttc" id="aclassscrollingcombattext_html_a216d979c0986240c92c7baecd91ce853"><div class="ttname"><a href="classscrollingcombattext.html#a216d979c0986240c92c7baecd91ce853">scrollingcombattext::iMaxSteps</a></div><div class="ttdeci">static constexpr int iMaxSteps</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l01057">output.h:1057</a></div></div>
<div class="ttc" id="agame_8cpp_html_a541d90b15c3e7b433927c44e01e5a48f"><div class="ttname"><a href="game_8cpp.html#a541d90b15c3e7b433927c44e01e5a48f">is_valid_in_w_terrain</a></div><div class="ttdeci">bool is_valid_in_w_terrain(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00387">game.cpp:387</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1184e3eda011b110d09bf2dcf08228f5"><div class="ttname"><a href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a></div><div class="ttdeci">void mvwprintz(const catacurses::window &amp;w, const point &amp;p, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03290">output.cpp:3290</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ac8f1d6275ee49732d8988e5e671b1776"><div class="ttname"><a href="output_8cpp.html#ac8f1d6275ee49732d8988e5e671b1776">SCT</a></div><div class="ttdeci">scrollingcombattext SCT</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00067">output.cpp:67</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aedec608a42edd33ec812f7769a9ed0c9"><div class="ttname"><a href="output_8cpp.html#aedec608a42edd33ec812f7769a9ed0c9">wprintz</a></div><div class="ttdeci">void wprintz(const catacurses::window &amp;w, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03298">output.cpp:3298</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afd01233212502346122ff9651f80e970"><div class="ttname"><a href="output_8cpp.html#afd01233212502346122ff9651f80e970">msgtype_to_color</a></div><div class="ttdeci">nc_color msgtype_to_color(const game_message_type type, const bool bOldMsg)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03114">output.cpp:3114</a></div></div>
<div class="ttc" id="apoint_8h_html_a4b1a6bcaa42d2c06ecc3afc63305bfdf"><div class="ttname"><a href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></div><div class="ttdeci">constexpr tripoint tripoint_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00250">point.h:250</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="output_8cpp_source.html#l03019">scrollingcombattext::cSCT::getMsgType()</a>, <a class="el" href="output_8cpp_source.html#l03036">scrollingcombattext::cSCT::getPosX()</a>, <a class="el" href="output_8cpp_source.html#l03062">scrollingcombattext::cSCT::getPosY()</a>, <a class="el" href="output_8h_source.html#l01090">scrollingcombattext::cSCT::getStep()</a>, <a class="el" href="output_8cpp_source.html#l02995">scrollingcombattext::cSCT::getText()</a>, <a class="el" href="output_8h_source.html#l01057">scrollingcombattext::iMaxSteps</a>, <a class="el" href="game_8cpp_source.html#l00387">is_valid_in_w_terrain()</a>, <a class="el" href="output_8cpp_source.html#l03114">msgtype_to_color()</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="animation_8cpp_source.html#l00128">relative_view_pos()</a>, <a class="el" href="output_8cpp_source.html#l00067">SCT</a>, <a class="el" href="point_8h_source.html#l00250">tripoint_zero</a>, <a class="el" href="output_8h_source.html#l01120">scrollingcombattext::vSCT</a>, <a class="el" href="output_8cpp_source.html#l03298">wprintz()</a>, <a class="el" href="point_8h_source.html#l00132">tripoint::x</a>, and <a class="el" href="point_8h_source.html#l00133">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00824">game::draw_sct()</a>.</p>

</div>
</div>
<a id="a54bd42df50120a0f2d37b8e104db87d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54bd42df50120a0f2d37b8e104db87d4">&#9670;&nbsp;</a></span>draw_weather_curses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_weather_curses </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>win</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structweather__printable.html">weather_printable</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00763">763</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;{</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;drop : w.<a class="code" href="structweather__printable.html#a16fe5f5120468c33aba9440a99d7aa04">vdrops</a> ) {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( win, <a class="code" href="structpoint.html">point</a>( drop.first, drop.second ), w.<a class="code" href="structweather__printable.html#a14f0e28a253a88e076cb316a037c5165">colGlyph</a>, w.<a class="code" href="structweather__printable.html#a29ee80f4c7fa13eca0cf70b0685474d0">get_symbol</a>() );</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;}</div>
<div class="ttc" id="astructweather__printable_html_a14f0e28a253a88e076cb316a037c5165"><div class="ttname"><a href="structweather__printable.html#a14f0e28a253a88e076cb316a037c5165">weather_printable::colGlyph</a></div><div class="ttdeci">nc_color colGlyph</div><div class="ttdoc">Glyph to draw this animation frame.</div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00104">weather.h:104</a></div></div>
<div class="ttc" id="astructweather__printable_html_a16fe5f5120468c33aba9440a99d7aa04"><div class="ttname"><a href="structweather__printable.html#a16fe5f5120468c33aba9440a99d7aa04">weather_printable::vdrops</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; int, int &gt; &gt; vdrops</div><div class="ttdoc">Color to draw glyph this animation frame.</div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00102">weather.h:102</a></div></div>
<div class="ttc" id="astructweather__printable_html_a29ee80f4c7fa13eca0cf70b0685474d0"><div class="ttname"><a href="structweather__printable.html#a29ee80f4c7fa13eca0cf70b0685474d0">weather_printable::get_symbol</a></div><div class="ttdeci">std::string get_symbol() const</div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00107">weather.h:107</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="weather_8h_source.html#l00104">weather_printable::colGlyph</a>, <a class="el" href="weather_8h_source.html#l00107">weather_printable::get_symbol()</a>, <a class="el" href="output_8cpp_source.html#l00590">mvwputch()</a>, and <a class="el" href="weather_8h_source.html#l00102">weather_printable::vdrops</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00782">game::draw_weather()</a>.</p>

</div>
</div>
<a id="a87af8ceec56e11835b1772a19ee7cf6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87af8ceec56e11835b1772a19ee7cf6c">&#9670;&nbsp;</a></span>draw_zones_curses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_zones_curses </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00832">832</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;{</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a>.x &lt; start.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> || <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a>.y &lt; start.<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> || <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a>.z &lt; start.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <a class="code" href="classnc__color.html">nc_color</a>    <span class="keyword">const</span> col = <a class="code" href="color_8cpp.html#a4306eceb07389bb063f39894f4af0503">invert_color</a>( <a class="code" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a> );</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keyword">const</span> std::string <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>( <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a>.x - start.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> + 1, <span class="charliteral">&#39;~&#39;</span> );</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordtype">int</span>         <span class="keyword">const</span> x = start.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> - offset.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a>;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160; </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> y = start.<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>; y &lt;= <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a>.y; ++y ) {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w, <a class="code" href="structpoint.html">point</a>( x, y - offset.<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> ), col, <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> );</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;}</div>
<div class="ttc" id="acolor_8cpp_html_a4306eceb07389bb063f39894f4af0503"><div class="ttname"><a href="color_8cpp.html#a4306eceb07389bb063f39894f4af0503">invert_color</a></div><div class="ttdeci">nc_color invert_color(const nc_color &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00540">color.cpp:540</a></div></div>
<div class="ttc" id="acolor_8h_html_a2236aa1fe66b707a104f19ad45c23230"><div class="ttname"><a href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a></div><div class="ttdeci">#define c_light_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00026">color.h:26</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_a4f3a5fd278254d867d914ad5953679e2"><div class="ttname"><a href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a></div><div class="ttdeci">void line(map *m, const ter_id &amp;type, const point &amp;p1, const point &amp;p2, int z)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l07721">mapgen.cpp:7721</a></div></div>
<div class="ttc" id="anamespacekeycode_html_a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac"><div class="ttname"><a href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">keycode::end</a></div><div class="ttdeci">@ end</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00095">input.h:95</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="color_8h_source.html#l00026">c_light_green</a>, <a class="el" href="input_8h_source.html#l00095">keycode::end</a>, <a class="el" href="color_8cpp_source.html#l00540">invert_color()</a>, <a class="el" href="mapgen_8cpp_source.html#l07721">line()</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="point_8h_source.html#l00132">tripoint::x</a>, <a class="el" href="point_8h_source.html#l00133">tripoint::y</a>, and <a class="el" href="point_8h_source.html#l00134">tripoint::z</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00859">game::draw_zones()</a>.</p>

</div>
</div>
<a id="a04d3c3f9300b09eba6bcd25ad842a53f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04d3c3f9300b09eba6bcd25ad842a53f">&#9670;&nbsp;</a></span>hit_animation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::hit_animation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classavatar.html">avatar</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>center</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td>
          <td class="paramname"><em>cColor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>cTile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00531">531</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;{</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> init_pos = <a class="code" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a969b3608caea7d2243aaae720383cbf1">relative_view_pos</a>( u, <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">// Only show animation if initially visible</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">if</span>( init_pos.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> == 0 &amp;&amp; <a class="code" href="game_8cpp.html#a541d90b15c3e7b433927c44e01e5a48f">is_valid_in_w_terrain</a>( init_pos.<a class="code" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() ) ) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <a class="code" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;game::draw_callback_t&gt;</a> hit_cb = make_shared_fast&lt;game::draw_callback_t&gt;( [&amp;]() {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <span class="comment">// In case the window is resized during waiting, we always re-calculate the animation position</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = <a class="code" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a969b3608caea7d2243aaae720383cbf1">relative_view_pos</a>( u, <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>.z == 0 &amp;&amp; <a class="code" href="game_8cpp.html#a541d90b15c3e7b433927c44e01e5a48f">is_valid_in_w_terrain</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>.xy() ) ) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;w_terrain, <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>.xy(), cColor, cTile );</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        } );</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;add_draw_callback( hit_cb );</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <a class="code" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <a class="code" href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a>.<a class="code" href="classinput__manager.html#a47edeed3a56a7b0233f1e3a8380fa70e">set_timeout</a>( get_option&lt;int&gt;( <span class="stringliteral">&quot;ANIMATION_DELAY&quot;</span> ) );</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="comment">// Skip input (if any), because holding down a key with sleep_for can get yourself killed</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <a class="code" href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a>.<a class="code" href="classinput__manager.html#a60495dd78a014aba993af605580fbe56">get_input_event</a>();</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <a class="code" href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a>.<a class="code" href="classinput__manager.html#a50b6cecac4efcad8792187f159c953f9">reset_timeout</a>();</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;}</div>
<div class="ttc" id="aclassinput__manager_html_a47edeed3a56a7b0233f1e3a8380fa70e"><div class="ttname"><a href="classinput__manager.html#a47edeed3a56a7b0233f1e3a8380fa70e">input_manager::set_timeout</a></div><div class="ttdeci">void set_timeout(int delay)</div><div class="ttdoc">Sets global input polling timeout in milliseconds as appropriate for the current interface system.</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00496">ncurses_def.cpp:496</a></div></div>
<div class="ttc" id="aclassinput__manager_html_a50b6cecac4efcad8792187f159c953f9"><div class="ttname"><a href="classinput__manager.html#a50b6cecac4efcad8792187f159c953f9">input_manager::reset_timeout</a></div><div class="ttdeci">void reset_timeout()</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00279">input.h:279</a></div></div>
<div class="ttc" id="aclassinput__manager_html_a60495dd78a014aba993af605580fbe56"><div class="ttname"><a href="classinput__manager.html#a60495dd78a014aba993af605580fbe56">input_manager::get_input_event</a></div><div class="ttdeci">input_event get_input_event(keyboard_mode preferred_keyboard_mode=keyboard_mode::keycode)</div><div class="ttdoc">curses getch() replacement.</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00383">ncurses_def.cpp:383</a></div></div>
<div class="ttc" id="ainput_8cpp_html_af16c50890fa8503efa899fc3b6de56d7"><div class="ttname"><a href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a></div><div class="ttdeci">input_manager inp_mngr</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00161">input.cpp:161</a></div></div>
<div class="ttc" id="anamespacemath__opers_html_a2f0118617735cc810b9d76d62bd182f6"><div class="ttname"><a href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">math_opers::pos</a></div><div class="ttdeci">constexpr double pos(double, double r)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__impl_8h_source.html#l00203">math_parser_impl.h:203</a></div></div>
<div class="ttc" id="anamespaceui__manager_html_ae38f3a918052ef286ee60daac47f52d4"><div class="ttname"><a href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a></div><div class="ttdeci">void redraw()</div><div class="ttdoc">Invalidate the top window and redraw all invalidated windows.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00504">ui_manager.cpp:504</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enums_8h_source.html#l00410">center</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00383">input_manager::get_input_event()</a>, <a class="el" href="input_8cpp_source.html#l00161">inp_mngr</a>, <a class="el" href="game_8cpp_source.html#l00387">is_valid_in_w_terrain()</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00504">ui_manager::redraw()</a>, <a class="el" href="animation_8cpp_source.html#l00128">relative_view_pos()</a>, <a class="el" href="input_8h_source.html#l00279">input_manager::reset_timeout()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00496">input_manager::set_timeout()</a>, <a class="el" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>, <a class="el" href="point_8h_source.html#l00202">tripoint::xy()</a>, and <a class="el" href="point_8h_source.html#l00134">tripoint::z</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00554">draw_hit_mon_curses()</a>, and <a class="el" href="animation_8cpp_source.html#l00591">draw_hit_player_curses()</a>.</p>

</div>
</div>
<a id="a7f06b673f9eaa2ed24738e4de3855981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f06b673f9eaa2ed24738e4de3855981">&#9670;&nbsp;</a></span>is_layer_visible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool anonymous_namespace{animation.cpp}::is_layer_visible </td>
          <td>(</td>
          <td class="paramtype">const std::map&lt; <a class="el" href="structtripoint.html">tripoint</a>, <a class="el" href="structexplosion__tile.html">explosion_tile</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>layer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00113">113</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;{</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">return</span> std::any_of( layer.begin(), layer.end(),</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    []( <span class="keyword">const</span> std::pair&lt;tripoint, explosion_tile&gt; &amp;element ) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        return is_point_visible( element.first );</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    } );</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00309">explosion_handler::draw_custom_explosion()</a>.</p>

</div>
</div>
<a id="a9d3fbd2d49b9955d5e302a03994eaacd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d3fbd2d49b9955d5e302a03994eaacd">&#9670;&nbsp;</a></span>is_point_visible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool anonymous_namespace{animation.cpp}::is_point_visible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>margin</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00103">103</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_in_viewport( p, margin ) &amp;&amp; <a class="code" href="game_8cpp.html#ab5c977b7e81348725fb7bf09fc64ed95">get_player_view</a>().<a class="code" href="classviewer.html#a204fe140cdc73d2452fa9a390a32ba29">sees</a>( p );</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div>
<div class="ttc" id="aclassviewer_html_a204fe140cdc73d2452fa9a390a32ba29"><div class="ttname"><a href="classviewer.html#a204fe140cdc73d2452fa9a390a32ba29">viewer::sees</a></div><div class="ttdeci">virtual bool sees(const tripoint &amp;target, bool is_avatar=false, int range_mod=0) const =0</div></div>
<div class="ttc" id="agame_8cpp_html_ab5c977b7e81348725fb7bf09fc64ed95"><div class="ttname"><a href="game_8cpp.html#ab5c977b7e81348725fb7bf09fc64ed95">get_player_view</a></div><div class="ttdeci">viewer &amp; get_player_view()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13812">game.cpp:13812</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13812">get_player_view()</a>, and <a class="el" href="classviewer.html#a204fe140cdc73d2452fa9a390a32ba29">viewer::sees()</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00456">draw_bullet_curses()</a>, and <a class="el" href="animation_8cpp_source.html#l00108">is_radius_visible()</a>.</p>

</div>
</div>
<a id="ac82c57522200ee34145b4d5598d87157"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac82c57522200ee34145b4d5598d87157">&#9670;&nbsp;</a></span>is_radius_visible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool anonymous_namespace{animation.cpp}::is_radius_visible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>center</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>radius</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00108">108</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;{</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a9d3fbd2d49b9955d5e302a03994eaacd">is_point_visible</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>, -radius );</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enums_8h_source.html#l00410">center</a>, and <a class="el" href="animation_8cpp_source.html#l00103">is_point_visible()</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00133">draw_explosion_curses()</a>.</p>

</div>
</div>
<a id="a2c245e53b1d717bd30afc1629532bd05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c245e53b1d717bd30afc1629532bd05">&#9670;&nbsp;</a></span>operator^()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a> anonymous_namespace{animation.cpp}::operator^ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a>&#160;</td>
          <td class="paramname"><em>lhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a>&#160;</td>
          <td class="paramname"><em>rhs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00184">184</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;{</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a><span class="keyword">&gt;</span>( <span class="keyword">static_cast&lt;</span> <span class="keywordtype">int</span> <span class="keyword">&gt;</span>( lhs ) ^ <span class="keyword">static_cast&lt;</span> <span class="keywordtype">int</span> <span class="keyword">&gt;</span>( rhs ) );</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
<div class="ttc" id="aanimation_8h_html_a45cb12f33098d8a53ed80ed4db49e340"><div class="ttname"><a href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a></div><div class="ttdeci">explosion_neighbors</div><div class="ttdef"><b>Definition:</b> <a href="animation_8h_source.html#l00010">animation.h:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a98dee93c997ae0c4a02d0f35206866e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98dee93c997ae0c4a02d0f35206866e1">&#9670;&nbsp;</a></span>operator|()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a> anonymous_namespace{animation.cpp}::operator| </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a>&#160;</td>
          <td class="paramname"><em>lhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a>&#160;</td>
          <td class="paramname"><em>rhs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00179">179</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;{</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a><span class="keyword">&gt;</span>( <span class="keyword">static_cast&lt;</span> <span class="keywordtype">int</span> <span class="keyword">&gt;</span>( lhs ) | <span class="keyword">static_cast&lt;</span> <span class="keywordtype">int</span> <span class="keyword">&gt;</span>( rhs ) );</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c9fac1a3c6553914ca17c5dda58d816"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c9fac1a3c6553914ca17c5dda58d816">&#9670;&nbsp;</a></span>relative_view_pos() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtripoint.html">tripoint</a> anonymous_namespace{animation.cpp}::relative_view_pos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classavatar.html">avatar</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get p relative to u's current position and view. </p>

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00122">122</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">return</span> p - <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>.view_offset + <a class="code" href="structtripoint.html">tripoint</a>( <a class="code" href="output_8cpp.html#a852bcaf15ef9b08c80dfa899078baa3d">POSX</a> - <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>.posx(), <a class="code" href="output_8cpp.html#ab911c8aec787739bcd40d1d3d620ad44">POSY</a> - <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>.posy(), -<a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>.posz() );</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
<div class="ttc" id="aglobal__vars_8h_html_a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c"><div class="ttname"><a href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">var_type::u</a></div><div class="ttdeci">@ u</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="output_8cpp_source.html#l00051">POSX</a>, <a class="el" href="output_8cpp_source.html#l00052">POSY</a>, and <a class="el" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>.</p>

</div>
</div>
<a id="a969b3608caea7d2243aaae720383cbf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a969b3608caea7d2243aaae720383cbf1">&#9670;&nbsp;</a></span>relative_view_pos() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtripoint.html">tripoint</a> anonymous_namespace{animation.cpp}::relative_view_pos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgame.html">game</a> &amp;&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00128">128</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">return</span> p - <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.ter_view_p + <a class="code" href="structpoint.html">point</a>( <a class="code" href="output_8cpp.html#a852bcaf15ef9b08c80dfa899078baa3d">POSX</a>, <a class="code" href="output_8cpp.html#ab911c8aec787739bcd40d1d3d620ad44">POSY</a> );</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="output_8cpp_source.html#l00051">POSX</a>, and <a class="el" href="output_8cpp_source.html#l00052">POSY</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00742">game::draw_cursor()</a>, <a class="el" href="animation_8cpp_source.html#l00309">explosion_handler::draw_custom_explosion()</a>, <a class="el" href="animation_8cpp_source.html#l00133">draw_explosion_curses()</a>, <a class="el" href="animation_8cpp_source.html#l00707">draw_line_curses()</a>, <a class="el" href="animation_8cpp_source.html#l00790">draw_sct_curses()</a>, and <a class="el" href="animation_8cpp_source.html#l00531">hit_animation()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:46 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
