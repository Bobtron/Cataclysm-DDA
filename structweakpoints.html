<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: weakpoints Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structweakpoints-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">weakpoints Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="weakpoint_8h_source.html">weakpoint.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1610db674cc403a7a2f57fdae3b59942"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structweakpoint.html">weakpoint</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#a1610db674cc403a7a2f57fdae3b59942">select_weakpoint</a> (const <a class="el" href="structweakpoint__attack.html">weakpoint_attack</a> &amp;attack) const</td></tr>
<tr class="separator:a1610db674cc403a7a2f57fdae3b59942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f0544a76b952006cd5c9e44e252b93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#a92f0544a76b952006cd5c9e44e252b93">clear</a> ()</td></tr>
<tr class="separator:a92f0544a76b952006cd5c9e44e252b93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5192d1872db4f443476e27ad816beec8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#a5192d1872db4f443476e27ad816beec8">load</a> (const <a class="el" href="classJsonArray.html">JsonArray</a> &amp;ja)</td></tr>
<tr class="separator:a5192d1872db4f443476e27ad816beec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ff669978d52ce5c31645743118360d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#a5ff669978d52ce5c31645743118360d5">remove</a> (const <a class="el" href="classJsonArray.html">JsonArray</a> &amp;ja)</td></tr>
<tr class="separator:a5ff669978d52ce5c31645743118360d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2abc0a123f7515a59ee1a06585d9640"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#ac2abc0a123f7515a59ee1a06585d9640">finalize</a> ()</td></tr>
<tr class="separator:ac2abc0a123f7515a59ee1a06585d9640"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bc5d3fc21547e408d23b41437cdd0ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#a0bc5d3fc21547e408d23b41437cdd0ad">check</a> () const</td></tr>
<tr class="separator:a0bc5d3fc21547e408d23b41437cdd0ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f249b70774782ffae61d41da341a29c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#a7f249b70774782ffae61d41da341a29c">load</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jo, std::string_view <a class="el" href="structweakpoints.html#ad42e0999d725ff7294d1b1865d6840a9">src</a>)</td></tr>
<tr class="separator:a7f249b70774782ffae61d41da341a29c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dfdb6adaf4ae425028d52ab82af089d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#a5dfdb6adaf4ae425028d52ab82af089d">add_from_set</a> (const <a class="el" href="type__id_8h.html#aef9896160adf3c53fd4a88b45560d215">weakpoints_id</a> &amp;set_id, bool replace_id)</td></tr>
<tr class="separator:a5dfdb6adaf4ae425028d52ab82af089d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae35b15c8a82a8654ad8a3c7872b44c0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#ae35b15c8a82a8654ad8a3c7872b44c0e">add_from_set</a> (const <a class="el" href="structweakpoints.html">weakpoints</a> &amp;set, bool replace_id)</td></tr>
<tr class="separator:ae35b15c8a82a8654ad8a3c7872b44c0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa16d0ec2c1afd08ded6e3952c5dd7e61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#aa16d0ec2c1afd08ded6e3952c5dd7e61">del_from_set</a> (const <a class="el" href="type__id_8h.html#aef9896160adf3c53fd4a88b45560d215">weakpoints_id</a> &amp;set_id)</td></tr>
<tr class="separator:aa16d0ec2c1afd08ded6e3952c5dd7e61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8773a411f177d4e128dcd12f156dd8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#aa8773a411f177d4e128dcd12f156dd8f">del_from_set</a> (const <a class="el" href="structweakpoints.html">weakpoints</a> &amp;set)</td></tr>
<tr class="separator:aa8773a411f177d4e128dcd12f156dd8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ae76832f4340ea4148eb51d8c561bb9ce"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#ae76832f4340ea4148eb51d8c561bb9ce">load_weakpoint_sets</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jo, const std::string &amp;<a class="el" href="structweakpoints.html#ad42e0999d725ff7294d1b1865d6840a9">src</a>)</td></tr>
<tr class="separator:ae76832f4340ea4148eb51d8c561bb9ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29332f7eb9249d3ed7e9ac4227d95b65"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#a29332f7eb9249d3ed7e9ac4227d95b65">reset</a> ()</td></tr>
<tr class="separator:a29332f7eb9249d3ed7e9ac4227d95b65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6737da7d1b2406699bd1b252f8820919"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#a6737da7d1b2406699bd1b252f8820919">finalize_all</a> ()</td></tr>
<tr class="separator:a6737da7d1b2406699bd1b252f8820919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad625dc04e5c3cebdaf1f75209ff47b0c"><td class="memItemLeft" align="right" valign="top">static const std::vector&lt; <a class="el" href="structweakpoints.html">weakpoints</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#ad625dc04e5c3cebdaf1f75209ff47b0c">get_all</a> ()</td></tr>
<tr class="separator:ad625dc04e5c3cebdaf1f75209ff47b0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:acb34f21578ee8c75c8a40baadeb5b521"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#aef9896160adf3c53fd4a88b45560d215">weakpoints_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#acb34f21578ee8c75c8a40baadeb5b521">id</a></td></tr>
<tr class="separator:acb34f21578ee8c75c8a40baadeb5b521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad42e0999d725ff7294d1b1865d6840a9"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; <a class="el" href="type__id_8h.html#aef9896160adf3c53fd4a88b45560d215">weakpoints_id</a>, <a class="el" href="type__id_8h.html#aabcbcb9fb77661ba75c47b6287318e03">mod_id</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#ad42e0999d725ff7294d1b1865d6840a9">src</a></td></tr>
<tr class="separator:ad42e0999d725ff7294d1b1865d6840a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3493baca7aa2a42642c0e104cc75f7d7"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structweakpoint.html">weakpoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a></td></tr>
<tr class="separator:a3493baca7aa2a42642c0e104cc75f7d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8262dcdbefb65305bf0d18b2ae7cbacf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structweakpoint.html">weakpoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#a8262dcdbefb65305bf0d18b2ae7cbacf">default_weakpoint</a></td></tr>
<tr class="separator:a8262dcdbefb65305bf0d18b2ae7cbacf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb739ea994e5920731c80d30a08397f2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structweakpoints.html#acb739ea994e5920731c80d30a08397f2">was_loaded</a> = false</td></tr>
<tr class="separator:acb739ea994e5920731c80d30a08397f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="weakpoint_8h_source.html#l00158">158</a> of file <a class="el" href="weakpoint_8h_source.html">weakpoint.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ae35b15c8a82a8654ad8a3c7872b44c0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae35b15c8a82a8654ad8a3c7872b44c0e">&#9670;&nbsp;</a></span>add_from_set() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void weakpoints::add_from_set </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structweakpoints.html">weakpoints</a> &amp;&#160;</td>
          <td class="paramname"><em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>replace_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8cpp_source.html#l00661">661</a> of file <a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;{</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp;wp : set.<a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a> ) {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keyword">auto</span> iter = std::find_if( <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.begin(),</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end(), [&amp;wp]( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp; w ) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            return w.id == wp.id &amp;&amp; !w.id.empty();</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        } );</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <span class="keywordflow">if</span>( replace_id &amp;&amp; iter != <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end() ) {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>[iter - <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.begin()] = wp;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.emplace_back( wp );</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    }</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;}</div>
<div class="ttc" id="astructweakpoint_html"><div class="ttname"><a href="structweakpoint.html">weakpoint</a></div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00120">weakpoint.h:120</a></div></div>
<div class="ttc" id="astructweakpoints_html_a3493baca7aa2a42642c0e104cc75f7d7"><div class="ttname"><a href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoints::weakpoint_list</a></div><div class="ttdeci">std::vector&lt; weakpoint &gt; weakpoint_list</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00163">weakpoint.h:163</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="weakpoint_8h_source.html#l00163">weakpoint_list</a>.</p>

</div>
</div>
<a id="a5dfdb6adaf4ae425028d52ab82af089d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dfdb6adaf4ae425028d52ab82af089d">&#9670;&nbsp;</a></span>add_from_set() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void weakpoints::add_from_set </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#aef9896160adf3c53fd4a88b45560d215">weakpoints_id</a> &amp;&#160;</td>
          <td class="paramname"><em>set_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>replace_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8cpp_source.html#l00652">652</a> of file <a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;{</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="keywordflow">if</span>( !set_id.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;invalid weakpoint_set id \&quot;%s\&quot;&quot;</span>, set_id.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() );</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="structweakpoints.html#a5dfdb6adaf4ae425028d52ab82af089d">add_from_set</a>( set_id.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>(), replace_id );</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;}</div>
<div class="ttc" id="aclassstring__id_html_a2c0e3a434bcb9e3c353b337053ff22d8"><div class="ttname"><a href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">string_id::c_str</a></div><div class="ttdeci">const char * c_str() const</div><div class="ttdoc">Interface to the plain C-string of the id.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00252">string_id.h:252</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00071">achievement.cpp:71</a></div></div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00078">achievement.cpp:78</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="astructweakpoints_html_a5dfdb6adaf4ae425028d52ab82af089d"><div class="ttname"><a href="structweakpoints.html#a5dfdb6adaf4ae425028d52ab82af089d">weakpoints::add_from_set</a></div><div class="ttdeci">void add_from_set(const weakpoints_id &amp;set_id, bool replace_id)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00652">weakpoint.cpp:652</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="string__id_8h_source.html#l00252">string_id&lt; T &gt;::c_str()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="achievement_8cpp_source.html#l00078">string_id&lt; T &gt;::is_valid()</a>, and <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monstergenerator_8cpp_source.html#l00319">MonsterGenerator::finalize_mtypes()</a>, and <a class="el" href="monstergenerator_8cpp_source.html#l00741">mtype::load()</a>.</p>

</div>
</div>
<a id="a0bc5d3fc21547e408d23b41437cdd0ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bc5d3fc21547e408d23b41437cdd0ad">&#9670;&nbsp;</a></span>check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void weakpoints::check </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8cpp_source.html#l00604">604</a> of file <a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;{</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp;w : <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a> ) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        w.check();</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="weakpoint_8h_source.html#l00163">weakpoint_list</a>.</p>

</div>
</div>
<a id="a92f0544a76b952006cd5c9e44e252b93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92f0544a76b952006cd5c9e44e252b93">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void weakpoints::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8cpp_source.html#l00570">570</a> of file <a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;{</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.clear();</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="weakpoint_8h_source.html#l00163">weakpoint_list</a>.</p>

<p class="reference">Referenced by <a class="el" href="monstergenerator_8cpp_source.html#l00319">MonsterGenerator::finalize_mtypes()</a>, and <a class="el" href="monstergenerator_8cpp_source.html#l00741">mtype::load()</a>.</p>

</div>
</div>
<a id="aa8773a411f177d4e128dcd12f156dd8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8773a411f177d4e128dcd12f156dd8f">&#9670;&nbsp;</a></span>del_from_set() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void weakpoints::del_from_set </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structweakpoints.html">weakpoints</a> &amp;&#160;</td>
          <td class="paramname"><em>set</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8cpp_source.html#l00685">685</a> of file <a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;{</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp;wp : set.<a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a> ) {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keyword">auto</span> iter = std::find_if( <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.begin(),</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end(), [&amp;wp]( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp; w ) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            return w.id == wp.id &amp;&amp; !w.id.empty();</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        } );</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordflow">if</span>( iter != <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end() ) {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.erase( iter );</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="weakpoint_8h_source.html#l00163">weakpoint_list</a>.</p>

</div>
</div>
<a id="aa16d0ec2c1afd08ded6e3952c5dd7e61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa16d0ec2c1afd08ded6e3952c5dd7e61">&#9670;&nbsp;</a></span>del_from_set() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void weakpoints::del_from_set </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#aef9896160adf3c53fd4a88b45560d215">weakpoints_id</a> &amp;&#160;</td>
          <td class="paramname"><em>set_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8cpp_source.html#l00676">676</a> of file <a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;{</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">if</span>( !set_id.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;invalid weakpoint_set id \&quot;%s\&quot;&quot;</span>, set_id.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() );</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <a class="code" href="structweakpoints.html#aa16d0ec2c1afd08ded6e3952c5dd7e61">del_from_set</a>( set_id.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>() );</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;}</div>
<div class="ttc" id="astructweakpoints_html_aa16d0ec2c1afd08ded6e3952c5dd7e61"><div class="ttname"><a href="structweakpoints.html#aa16d0ec2c1afd08ded6e3952c5dd7e61">weakpoints::del_from_set</a></div><div class="ttdeci">void del_from_set(const weakpoints_id &amp;set_id)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00676">weakpoint.cpp:676</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="string__id_8h_source.html#l00252">string_id&lt; T &gt;::c_str()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="achievement_8cpp_source.html#l00078">string_id&lt; T &gt;::is_valid()</a>, and <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monstergenerator_8cpp_source.html#l00741">mtype::load()</a>.</p>

</div>
</div>
<a id="ac2abc0a123f7515a59ee1a06585d9640"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2abc0a123f7515a59ee1a06585d9640">&#9670;&nbsp;</a></span>finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void weakpoints::finalize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8cpp_source.html#l00611">611</a> of file <a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;{</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structweakpoint.html">weakpoint</a> &amp;w : <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a> ) {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <a class="code" href="damage_8cpp.html#af8824edc46ec813a219b406a87271f69">finalize_damage_map</a>( w.armor_mult, <span class="keyword">false</span>, 1.0f );</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <a class="code" href="damage_8cpp.html#af8824edc46ec813a219b406a87271f69">finalize_damage_map</a>( w.armor_penalty, <span class="keyword">false</span>, 0.0f );</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <a class="code" href="damage_8cpp.html#af8824edc46ec813a219b406a87271f69">finalize_damage_map</a>( w.damage_mult, <span class="keyword">false</span>, 1.0f );</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <a class="code" href="damage_8cpp.html#af8824edc46ec813a219b406a87271f69">finalize_damage_map</a>( w.crit_mult, <span class="keyword">false</span>, 1.0f );</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;}</div>
<div class="ttc" id="adamage_8cpp_html_af8824edc46ec813a219b406a87271f69"><div class="ttname"><a href="damage_8cpp.html#af8824edc46ec813a219b406a87271f69">finalize_damage_map</a></div><div class="ttdeci">void finalize_damage_map(std::unordered_map&lt; damage_type_id, float &gt; &amp;damage_map, bool force_derive, float default_value)</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00781">damage.cpp:781</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="damage_8cpp_source.html#l00781">finalize_damage_map()</a>, and <a class="el" href="weakpoint_8h_source.html#l00163">weakpoint_list</a>.</p>

<p class="reference">Referenced by <a class="el" href="monstergenerator_8cpp_source.html#l00319">MonsterGenerator::finalize_mtypes()</a>.</p>

</div>
</div>
<a id="a6737da7d1b2406699bd1b252f8820919"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6737da7d1b2406699bd1b252f8820919">&#9670;&nbsp;</a></span>finalize_all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void weakpoints::finalize_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8cpp_source.html#l00647">647</a> of file <a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;{</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">weakpoints_factory</a>.finalize();</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;}</div>
<div class="ttc" id="anamespaceanonymous__namespace_02weakpoint_8cpp_03_html_ad3e0afcacd561618f989e5cb1bf23447"><div class="ttname"><a href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">anonymous_namespace{weakpoint.cpp}::weakpoints_factory</a></div><div class="ttdeci">generic_factory&lt; weakpoints &gt; weakpoints_factory(&quot;weakpoint sets&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">anonymous_namespace{weakpoint.cpp}::weakpoints_factory</a>.</p>

</div>
</div>
<a id="ad625dc04e5c3cebdaf1f75209ff47b0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad625dc04e5c3cebdaf1f75209ff47b0c">&#9670;&nbsp;</a></span>get_all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; <a class="el" href="structweakpoints.html">weakpoints</a> &gt; &amp; weakpoints::get_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8cpp_source.html#l00067">67</a> of file <a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;{</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">weakpoints_factory</a>.get_all();</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">anonymous_namespace{weakpoint.cpp}::weakpoints_factory</a>.</p>

</div>
</div>
<a id="a5192d1872db4f443476e27ad816beec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5192d1872db4f443476e27ad816beec8">&#9670;&nbsp;</a></span>load() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void weakpoints::load </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonArray.html">JsonArray</a> &amp;&#160;</td>
          <td class="paramname"><em>ja</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8cpp_source.html#l00575">575</a> of file <a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;{</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> jo : ja ) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <a class="code" href="structweakpoint.html">weakpoint</a> tmp;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        tmp.<a class="code" href="structweakpoint.html#a5c5a61a04d1b4f0e87d648aa26b0372a">load</a>( jo );</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordflow">if</span>( tmp.<a class="code" href="structweakpoint.html#a69d6ba455a2a68526931c61fc7c990e7">id</a>.empty() ) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <a class="code" href="structweakpoints.html#a8262dcdbefb65305bf0d18b2ae7cbacf">default_weakpoint</a> = tmp;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="comment">// Ensure that every weakpoint has a unique ID</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keyword">auto</span> it = std::find_if( <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.begin(), <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end(),</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        [&amp;]( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp; wp ) {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            return wp.id == tmp.id;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        } );</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordflow">if</span>( it != <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end() ) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.erase( it );</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.push_back( std::move( tmp ) );</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="comment">// Prioritizes weakpoints based on their coverage.</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    std::sort( <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.begin(), <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end(),</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    []( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp; <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>, <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp; <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        return a.coverage &lt; b.coverage;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    } );</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;}</div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00526">flexbuffer_json.h:527</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a188caae18b60b66f9f44214c7e28ac1f"><div class="ttname"><a href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a></div><div class="ttdeci">static constexpr double a</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01566">magic.cpp:1566</a></div></div>
<div class="ttc" id="amagic_8cpp_html_aa93a189fb7bbbf87be54bcc7bd11bb6f"><div class="ttname"><a href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a></div><div class="ttdeci">static constexpr double b</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01567">magic.cpp:1567</a></div></div>
<div class="ttc" id="astructweakpoint_html_a5c5a61a04d1b4f0e87d648aa26b0372a"><div class="ttname"><a href="structweakpoint.html#a5c5a61a04d1b4f0e87d648aa26b0372a">weakpoint::load</a></div><div class="ttdeci">void load(const JsonObject &amp;jo)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00400">weakpoint.cpp:400</a></div></div>
<div class="ttc" id="astructweakpoint_html_a69d6ba455a2a68526931c61fc7c990e7"><div class="ttname"><a href="structweakpoint.html#a69d6ba455a2a68526931c61fc7c990e7">weakpoint::id</a></div><div class="ttdeci">std::string id</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00122">weakpoint.h:122</a></div></div>
<div class="ttc" id="astructweakpoints_html_a8262dcdbefb65305bf0d18b2ae7cbacf"><div class="ttname"><a href="structweakpoints.html#a8262dcdbefb65305bf0d18b2ae7cbacf">weakpoints::default_weakpoint</a></div><div class="ttdeci">weakpoint default_weakpoint</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00165">weakpoint.h:165</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01566">a</a>, <a class="el" href="magic_8cpp_source.html#l01567">b</a>, <a class="el" href="weakpoint_8h_source.html#l00165">default_weakpoint</a>, <a class="el" href="weakpoint_8h_source.html#l00122">weakpoint::id</a>, <a class="el" href="weakpoint_8cpp_source.html#l00400">weakpoint::load()</a>, and <a class="el" href="weakpoint_8h_source.html#l00163">weakpoint_list</a>.</p>

<p class="reference">Referenced by <a class="el" href="monstergenerator_8cpp_source.html#l00741">mtype::load()</a>, and <a class="el" href="weakpoint_8cpp_source.html#l00642">load()</a>.</p>

</div>
</div>
<a id="a7f249b70774782ffae61d41da341a29c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f249b70774782ffae61d41da341a29c">&#9670;&nbsp;</a></span>load() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void weakpoints::load </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8cpp_source.html#l00642">642</a> of file <a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;{</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <a class="code" href="structweakpoints.html#a5192d1872db4f443476e27ad816beec8">load</a>( jo.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;weakpoints&quot;</span> ) );</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;}</div>
<div class="ttc" id="aclassJsonObject_html_a88142edb1dd9ea1e7a96c7a99cd70896"><div class="ttname"><a href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00855">flexbuffer_json-inl.h:855</a></div></div>
<div class="ttc" id="astructweakpoints_html_a5192d1872db4f443476e27ad816beec8"><div class="ttname"><a href="structweakpoints.html#a5192d1872db4f443476e27ad816beec8">weakpoints::load</a></div><div class="ttdeci">void load(const JsonArray &amp;ja)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00575">weakpoint.cpp:575</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="flexbuffer__json-inl_8h_source.html#l00855">JsonObject::get_array()</a>, and <a class="el" href="weakpoint_8cpp_source.html#l00575">load()</a>.</p>

</div>
</div>
<a id="ae76832f4340ea4148eb51d8c561bb9ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae76832f4340ea4148eb51d8c561bb9ce">&#9670;&nbsp;</a></span>load_weakpoint_sets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void weakpoints::load_weakpoint_sets </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8cpp_source.html#l00057">57</a> of file <a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">weakpoints_factory</a>.load( jo, <a class="code" href="structweakpoints.html#ad42e0999d725ff7294d1b1865d6840a9">src</a> );</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div>
<div class="ttc" id="astructweakpoints_html_ad42e0999d725ff7294d1b1865d6840a9"><div class="ttname"><a href="structweakpoints.html#ad42e0999d725ff7294d1b1865d6840a9">weakpoints::src</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; weakpoints_id, mod_id &gt; &gt; src</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00161">weakpoint.h:161</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="weakpoint_8h_source.html#l00161">src</a>, and <a class="el" href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">anonymous_namespace{weakpoint.cpp}::weakpoints_factory</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8cpp_source.html#l00237">DynamicDataLoader::initialize()</a>.</p>

</div>
</div>
<a id="a5ff669978d52ce5c31645743118360d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ff669978d52ce5c31645743118360d5">&#9670;&nbsp;</a></span>remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void weakpoints::remove </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonArray.html">JsonArray</a> &amp;&#160;</td>
          <td class="paramname"><em>ja</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8cpp_source.html#l00621">621</a> of file <a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;{</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> jo : ja ) {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <a class="code" href="structweakpoint.html">weakpoint</a> tmp;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        tmp.<a class="code" href="structweakpoint.html#a5c5a61a04d1b4f0e87d648aa26b0372a">load</a>( jo );</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordflow">if</span>( tmp.<a class="code" href="structweakpoint.html#a69d6ba455a2a68526931c61fc7c990e7">id</a>.empty() ) {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            <a class="code" href="structweakpoints.html#a8262dcdbefb65305bf0d18b2ae7cbacf">default_weakpoint</a> = <a class="code" href="structweakpoint.html">weakpoint</a>();</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="keyword">auto</span> it = std::find_if( <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.begin(), <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end(),</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        [&amp;]( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp; wp ) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            return wp.id == tmp.id;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        } );</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordflow">if</span>( it != <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end() ) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.erase( it );</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="weakpoint_8h_source.html#l00165">default_weakpoint</a>, <a class="el" href="weakpoint_8h_source.html#l00122">weakpoint::id</a>, <a class="el" href="weakpoint_8cpp_source.html#l00400">weakpoint::load()</a>, and <a class="el" href="weakpoint_8h_source.html#l00163">weakpoint_list</a>.</p>

</div>
</div>
<a id="a29332f7eb9249d3ed7e9ac4227d95b65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29332f7eb9249d3ed7e9ac4227d95b65">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void weakpoints::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8cpp_source.html#l00062">62</a> of file <a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">weakpoints_factory</a>.reset();</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">anonymous_namespace{weakpoint.cpp}::weakpoints_factory</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8cpp_source.html#l00548">DynamicDataLoader::unload_data()</a>.</p>

</div>
</div>
<a id="a1610db674cc403a7a2f57fdae3b59942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1610db674cc403a7a2f57fdae3b59942">&#9670;&nbsp;</a></span>select_weakpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structweakpoint.html">weakpoint</a> * weakpoints::select_weakpoint </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structweakpoint__attack.html">weakpoint_attack</a> &amp;&#160;</td>
          <td class="paramname"><em>attack</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8cpp_source.html#l00540">540</a> of file <a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;{</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>,</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                   <span class="stringliteral">&quot;Weakpoint Selection: Source: %s, Weapon %s, Skill %.3f&quot;</span>,</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                   <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.source == <span class="keyword">nullptr</span> ? <span class="stringliteral">&quot;nullptr&quot;</span> : <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.source-&gt;get_name(),</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                   <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.weapon == <span class="keyword">nullptr</span> ? <span class="stringliteral">&quot;nullptr&quot;</span> : <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.weapon-&gt;type_name(),</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                   <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.wp_skill );</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordtype">float</span> rolls = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 1.0f, 1.0f + <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.wp_skill / 2.5f );</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="comment">// The base probability of hitting a more preferable weak point.</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordtype">float</span> base = 0.0f;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="comment">// The reweighed probability of hitting a more preferable weak point.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordtype">float</span> reweighed = 0.0f;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordtype">float</span> idx = <a class="code" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( 0.0f, 100.0f );</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp;<a class="code" href="structweakpoint.html">weakpoint</a> : <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a> ) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordtype">float</span> new_base = base + <a class="code" href="structweakpoint.html">weakpoint</a>.<a class="code" href="structweakpoint.html#adea060feb8a1755f953a598ceef387d3">hit_chance</a>( <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> );</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordtype">float</span> new_reweighed = 100.0f * <a class="code" href="weakpoint_8cpp.html#ae2378618c4e066896d2873cdaf641c5c">reweigh</a>( new_base / 100.0f, rolls );</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordtype">float</span> hit_chance = new_reweighed - reweighed;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>,</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                       <span class="stringliteral">&quot;Weakpoint Selection: weakpoint %s, hit_chance %.4f&quot;</span>,</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                       <a class="code" href="structweakpoint.html">weakpoint</a>.<a class="code" href="structweakpoint.html#a69d6ba455a2a68526931c61fc7c990e7">id</a>, hit_chance );</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">if</span>( idx &lt; hit_chance ) {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="keywordflow">return</span> &amp;<a class="code" href="structweakpoint.html">weakpoint</a>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        base = new_base;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        reweighed = new_reweighed;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        idx -= hit_chance;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="structweakpoints.html#a8262dcdbefb65305bf0d18b2ae7cbacf">default_weakpoint</a>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;}</div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
<div class="ttc" id="amessages_8h_html_ab6590bda29b082a7282bcc1a9cc8f02a"><div class="ttname"><a href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a></div><div class="ttdeci">#define add_msg_debug(type,...)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8h_source.html#l00177">messages.h:177</a></div></div>
<div class="ttc" id="anamespacedebugmode_html_ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06"><div class="ttname"><a href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a></div><div class="ttdeci">@ DF_MONSTER</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00265">debug.h:265</a></div></div>
<div class="ttc" id="anamespacespell__effect_html_acfe36e6436b9cc2e3060fc5541bded22"><div class="ttname"><a href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">spell_effect::attack</a></div><div class="ttdeci">void attack(const spell &amp;sp, Creature &amp;caster, const tripoint &amp;epicenter)</div><div class="ttdef"><b>Definition:</b> <a href="magic__spell__effect_8cpp_source.html#l00581">magic_spell_effect.cpp:581</a></div></div>
<div class="ttc" id="arng_8cpp_html_a0c88381d6334a2fbaa726c53f5cf9bb9"><div class="ttname"><a href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a></div><div class="ttdeci">double rng_float(double lo, double hi)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00027">rng.cpp:27</a></div></div>
<div class="ttc" id="astructweakpoint_html_adea060feb8a1755f953a598ceef387d3"><div class="ttname"><a href="structweakpoint.html#adea060feb8a1755f953a598ceef387d3">weakpoint::hit_chance</a></div><div class="ttdeci">float hit_chance(const weakpoint_attack &amp;attack) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00508">weakpoint.cpp:508</a></div></div>
<div class="ttc" id="aweakpoint_8cpp_html_ae2378618c4e066896d2873cdaf641c5c"><div class="ttname"><a href="weakpoint_8cpp.html#ae2378618c4e066896d2873cdaf641c5c">reweigh</a></div><div class="ttdeci">static float reweigh(float base, float rolls)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00535">weakpoint.cpp:535</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00581">spell_effect::attack()</a>, <a class="el" href="weakpoint_8h_source.html#l00165">default_weakpoint</a>, <a class="el" href="debug_8h_source.html#l00265">debugmode::DF_MONSTER</a>, <a class="el" href="weakpoint_8cpp_source.html#l00508">weakpoint::hit_chance()</a>, <a class="el" href="weakpoint_8h_source.html#l00122">weakpoint::id</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="weakpoint_8cpp_source.html#l00535">reweigh()</a>, <a class="el" href="rng_8cpp_source.html#l00027">rng_float()</a>, and <a class="el" href="weakpoint_8h_source.html#l00163">weakpoint_list</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01875">monster::absorb_hit()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8262dcdbefb65305bf0d18b2ae7cbacf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8262dcdbefb65305bf0d18b2ae7cbacf">&#9670;&nbsp;</a></span>default_weakpoint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structweakpoint.html">weakpoint</a> weakpoints::default_weakpoint</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8h_source.html#l00165">165</a> of file <a class="el" href="weakpoint_8h_source.html">weakpoint.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="weakpoint_8cpp_source.html#l00575">load()</a>, <a class="el" href="weakpoint_8cpp_source.html#l00621">remove()</a>, and <a class="el" href="weakpoint_8cpp_source.html#l00540">select_weakpoint()</a>.</p>

</div>
</div>
<a id="acb34f21578ee8c75c8a40baadeb5b521"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb34f21578ee8c75c8a40baadeb5b521">&#9670;&nbsp;</a></span>id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#aef9896160adf3c53fd4a88b45560d215">weakpoints_id</a> weakpoints::id</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8h_source.html#l00160">160</a> of file <a class="el" href="weakpoint_8h_source.html">weakpoint.h</a>.</p>

</div>
</div>
<a id="ad42e0999d725ff7294d1b1865d6840a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad42e0999d725ff7294d1b1865d6840a9">&#9670;&nbsp;</a></span>src</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::pair&lt;<a class="el" href="type__id_8h.html#aef9896160adf3c53fd4a88b45560d215">weakpoints_id</a>, <a class="el" href="type__id_8h.html#aabcbcb9fb77661ba75c47b6287318e03">mod_id</a>&gt; &gt; weakpoints::src</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8h_source.html#l00161">161</a> of file <a class="el" href="weakpoint_8h_source.html">weakpoint.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="weakpoint_8cpp_source.html#l00057">load_weakpoint_sets()</a>.</p>

</div>
</div>
<a id="acb739ea994e5920731c80d30a08397f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb739ea994e5920731c80d30a08397f2">&#9670;&nbsp;</a></span>was_loaded</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool weakpoints::was_loaded = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8h_source.html#l00167">167</a> of file <a class="el" href="weakpoint_8h_source.html">weakpoint.h</a>.</p>

</div>
</div>
<a id="a3493baca7aa2a42642c0e104cc75f7d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3493baca7aa2a42642c0e104cc75f7d7">&#9670;&nbsp;</a></span>weakpoint_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structweakpoint.html">weakpoint</a>&gt; weakpoints::weakpoint_list</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8h_source.html#l00163">163</a> of file <a class="el" href="weakpoint_8h_source.html">weakpoint.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="weakpoint_8cpp_source.html#l00661">add_from_set()</a>, <a class="el" href="weakpoint_8cpp_source.html#l00604">check()</a>, <a class="el" href="weakpoint_8cpp_source.html#l00570">clear()</a>, <a class="el" href="weakpoint_8cpp_source.html#l00685">del_from_set()</a>, <a class="el" href="weakpoint_8cpp_source.html#l00611">finalize()</a>, <a class="el" href="monstergenerator_8cpp_source.html#l00319">MonsterGenerator::finalize_mtypes()</a>, <a class="el" href="weakpoint_8cpp_source.html#l00575">load()</a>, <a class="el" href="monstergenerator_8cpp_source.html#l00741">mtype::load()</a>, <a class="el" href="weakpoint_8cpp_source.html#l00621">remove()</a>, and <a class="el" href="weakpoint_8cpp_source.html#l00540">select_weakpoint()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>src/<a class="el" href="weakpoint_8h_source.html">weakpoint.h</a></li>
<li>src/<a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:45 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
