<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: veh_interact Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classveh__interact-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">veh_interact Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structveh__interact_1_1install__info__t.html">install_info_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structveh__interact_1_1part__option.html">part_option</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structveh__interact_1_1remove__info__t.html">remove_info_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a467b4cefe6fbeeaae2591652555b0aa2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classplayer__activity.html">player_activity</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a467b4cefe6fbeeaae2591652555b0aa2">run</a> (<a class="el" href="classvehicle.html">vehicle</a> &amp;<a class="el" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>, const <a class="el" href="structpoint.html">point</a> &amp;p)</td></tr>
<tr class="separator:a467b4cefe6fbeeaae2591652555b0aa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa95d3528435647c137700c708d840f12"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="classvpart__reference.html">vpart_reference</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#aa95d3528435647c137700c708d840f12">select_part</a> (const <a class="el" href="classvehicle.html">vehicle</a> &amp;<a class="el" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>, const <a class="el" href="classveh__interact.html#a8955480261c3f606fe093f8085506ac2">part_selector</a> &amp;sel, const std::string &amp;<a class="el" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a>=std::string())</td></tr>
<tr class="memdesc:aa95d3528435647c137700c708d840f12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prompt for a part matching the selector function.  <a href="classveh__interact.html#aa95d3528435647c137700c708d840f12">More...</a><br /></td></tr>
<tr class="separator:aa95d3528435647c137700c708d840f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a851b10158923af6c18855b87c0cfcc18"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a851b10158923af6c18855b87c0cfcc18">complete_vehicle</a> (<a class="el" href="classCharacter.html">Character</a> &amp;you)</td></tr>
<tr class="memdesc:a851b10158923af6c18855b87c0cfcc18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the activity timer for installing parts, repairing, etc times out and the action is complete.  <a href="classveh__interact.html#a851b10158923af6c18855b87c0cfcc18">More...</a><br /></td></tr>
<tr class="separator:a851b10158923af6c18855b87c0cfcc18"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a8955480261c3f606fe093f8085506ac2"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a8955480261c3f606fe093f8085506ac2">part_selector</a> = std::function&lt; bool(const <a class="el" href="structvehicle__part.html">vehicle_part</a> &amp;pt)&gt;</td></tr>
<tr class="separator:a8955480261c3f606fe093f8085506ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a43343e2e5cb3d0ed615056982524d7f0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a43343e2e5cb3d0ed615056982524d7f0">veh_interact</a> (<a class="el" href="classvehicle.html">vehicle</a> &amp;<a class="el" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>, const <a class="el" href="structpoint.html">point</a> &amp;p=<a class="el" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>)</td></tr>
<tr class="memdesc:a43343e2e5cb3d0ed615056982524d7f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a blank <a class="el" href="classveh__interact.html">veh_interact</a> window.  <a href="classveh__interact.html#a43343e2e5cb3d0ed615056982524d7f0">More...</a><br /></td></tr>
<tr class="separator:a43343e2e5cb3d0ed615056982524d7f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa1be1ae61149889dae334c86380a552"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#afa1be1ae61149889dae334c86380a552">~veh_interact</a> ()</td></tr>
<tr class="separator:afa1be1ae61149889dae334c86380a552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2601f5a5bd9a75a0505b488a45dc0c3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast</a>&lt; <a class="el" href="classui__adaptor.html">ui_adaptor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a2601f5a5bd9a75a0505b488a45dc0c3b">create_or_get_ui_adaptor</a> ()</td></tr>
<tr class="separator:a2601f5a5bd9a75a0505b488a45dc0c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a161886d9759a718a907f034e459623c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a161886d9759a718a907f034e459623c2">hide_ui</a> (bool hide)</td></tr>
<tr class="separator:a161886d9759a718a907f034e459623c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10def8db5c02c923a279f219b085ea06"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classplayer__activity.html">player_activity</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a10def8db5c02c923a279f219b085ea06">serialize_activity</a> ()</td></tr>
<tr class="separator:a10def8db5c02c923a279f219b085ea06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab66721e4f0b0bc585aa64a578e94155b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#ab66721e4f0b0bc585aa64a578e94155b">format_reqs</a> (std::string &amp;<a class="el" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a>, const <a class="el" href="structrequirement__data.html">requirement_data</a> &amp;reqs, const std::map&lt; <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>, int &gt; &amp;skills, <a class="el" href="classtime__duration.html">time_duration</a> time) const</td></tr>
<tr class="memdesc:ab66721e4f0b0bc585aa64a578e94155b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format list of requirements returning true if all are met.  <a href="classveh__interact.html#ab66721e4f0b0bc585aa64a578e94155b">More...</a><br /></td></tr>
<tr class="separator:ab66721e4f0b0bc585aa64a578e94155b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a006209008890ad3dbf152d19c8d565ee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a006209008890ad3dbf152d19c8d565ee">part_at</a> (const <a class="el" href="structpoint.html">point</a> &amp;d)</td></tr>
<tr class="memdesc:a006209008890ad3dbf152d19c8d565ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the first part on the vehicle at the given position.  <a href="classveh__interact.html#a006209008890ad3dbf152d19c8d565ee">More...</a><br /></td></tr>
<tr class="separator:a006209008890ad3dbf152d19c8d565ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45c56ae23ae2b250f0facb9b1b8ab311"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a45c56ae23ae2b250f0facb9b1b8ab311">move_cursor</a> (const <a class="el" href="structpoint.html">point</a> &amp;d, int dstart_at=0)</td></tr>
<tr class="memdesc:a45c56ae23ae2b250f0facb9b1b8ab311"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves the cursor on the vehicle editing window.  <a href="classveh__interact.html#a45c56ae23ae2b250f0facb9b1b8ab311">More...</a><br /></td></tr>
<tr class="separator:a45c56ae23ae2b250f0facb9b1b8ab311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a7040abf1b0a4586a878f853ef242fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8">task_reason</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a> (char mode)</td></tr>
<tr class="memdesc:a1a7040abf1b0a4586a878f853ef242fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the player is able to perform some command, and returns a nonzero error code if they are unable to perform it.  <a href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">More...</a><br /></td></tr>
<tr class="separator:a1a7040abf1b0a4586a878f853ef242fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3daff1624c04c6820a207d8c69dccbef"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a3daff1624c04c6820a207d8c69dccbef">can_potentially_install</a> (const <a class="el" href="classvpart__info.html">vpart_info</a> &amp;vpart)</td></tr>
<tr class="memdesc:a3daff1624c04c6820a207d8c69dccbef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks to see if you can potentially install this part at current position.  <a href="classveh__interact.html#a3daff1624c04c6820a207d8c69dccbef">More...</a><br /></td></tr>
<tr class="separator:a3daff1624c04c6820a207d8c69dccbef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bec3200f6e3aab33053e759b9101099"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a5bec3200f6e3aab33053e759b9101099">move_in_list</a> (int &amp;pos, const std::string &amp;<a class="el" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>, int size, int header=0) const</td></tr>
<tr class="memdesc:a5bec3200f6e3aab33053e759b9101099"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move index (parameter pos) according to input action: (up or down, single step or whole page).  <a href="classveh__interact.html#a5bec3200f6e3aab33053e759b9101099">More...</a><br /></td></tr>
<tr class="separator:a5bec3200f6e3aab33053e759b9101099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a208141a299865f7cc2c188d424a38cc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a208141a299865f7cc2c188d424a38cc2">move_fuel_cursor</a> (int delta)</td></tr>
<tr class="memdesc:a208141a299865f7cc2c188d424a38cc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves list of fuels up or down.  <a href="classveh__interact.html#a208141a299865f7cc2c188d424a38cc2">More...</a><br /></td></tr>
<tr class="separator:a208141a299865f7cc2c188d424a38cc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a1ec707f9ae68882e9688e57155468600"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpoint.html">point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">dd</a> = <a class="el" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></td></tr>
<tr class="separator:a1ec707f9ae68882e9688e57155468600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a270a6a09e9de42e209aeda0048783cfe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a270a6a09e9de42e209aeda0048783cfe">start_at</a> = 0</td></tr>
<tr class="separator:a270a6a09e9de42e209aeda0048783cfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ed6231f344816729371a0e24890bb73"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a6ed6231f344816729371a0e24890bb73">start_limit</a> = 0</td></tr>
<tr class="separator:a6ed6231f344816729371a0e24890bb73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca3ccd6cf1a45f04067d112452fdf1ea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#aca3ccd6cf1a45f04067d112452fdf1ea">overview_offset</a> = 0</td></tr>
<tr class="separator:aca3ccd6cf1a45f04067d112452fdf1ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c90be80882a99ab49e2e989f2da9fbe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a7c90be80882a99ab49e2e989f2da9fbe">overview_limit</a> = 0</td></tr>
<tr class="separator:a7c90be80882a99ab49e2e989f2da9fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1268db6f312a6823b039175b19562801"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a1268db6f312a6823b039175b19562801">w_msg_scroll_offset</a> = 0</td></tr>
<tr class="separator:a1268db6f312a6823b039175b19562801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bbd873cd45cfcb2213352f933edef2e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a2bbd873cd45cfcb2213352f933edef2e">fuel_index</a> = 0</td></tr>
<tr class="separator:a2bbd873cd45cfcb2213352f933edef2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c6ef56a5edb1ec8ebaa4a9768cf194"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem__location.html">item_location</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#ab6c6ef56a5edb1ec8ebaa4a9768cf194">refill_target</a></td></tr>
<tr class="separator:ab6c6ef56a5edb1ec8ebaa4a9768cf194"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8d1717957cc0fe8d50c402e9e625796"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structvehicle__part.html">vehicle_part</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#ab8d1717957cc0fe8d50c402e9e625796">sel_vehicle_part</a> = nullptr</td></tr>
<tr class="separator:ab8d1717957cc0fe8d50c402e9e625796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98660a90d6974c5368c6c0384b40f81d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classvpart__info.html">vpart_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a> = nullptr</td></tr>
<tr class="separator:a98660a90d6974c5368c6c0384b40f81d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8171487d174b74e188e38980e2005a74"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a8171487d174b74e188e38980e2005a74">sel_cmd</a> = ' '</td></tr>
<tr class="separator:a8171487d174b74e188e38980e2005a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354e576739b8ec01d1327e31b17ca64c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a354e576739b8ec01d1327e31b17ca64c">cpart</a> = -1</td></tr>
<tr class="separator:a354e576739b8ec01d1327e31b17ca64c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace346bf535ccfaddc200fb8f7e2447a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#ace346bf535ccfaddc200fb8f7e2447a7">page_size</a> = 0</td></tr>
<tr class="separator:ace346bf535ccfaddc200fb8f7e2447a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaa0dd858996de1ec7a8921104e61f84"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#abaa0dd858996de1ec7a8921104e61f84">stats_h</a> = 8</td></tr>
<tr class="separator:abaa0dd858996de1ec7a8921104e61f84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acac641f10cc29387f67c2ebd512b8c29"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#acac641f10cc29387f67c2ebd512b8c29">disp_w</a> = 26</td></tr>
<tr class="separator:acac641f10cc29387f67c2ebd512b8c29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a7c2fb26f0100192740e6e8a9bf6a2b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a5a7c2fb26f0100192740e6e8a9bf6a2b">pane_w</a> = 25</td></tr>
<tr class="separator:a5a7c2fb26f0100192740e6e8a9bf6a2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93520a1801e07c7083603be674cf258a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">w_border</a></td></tr>
<tr class="separator:a93520a1801e07c7083603be674cf258a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f033acb4b193f4dc6ee88e09746c04"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#af4f033acb4b193f4dc6ee88e09746c04">w_mode</a></td></tr>
<tr class="separator:af4f033acb4b193f4dc6ee88e09746c04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fbae1471a0f80d1618c704a880d133b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a8fbae1471a0f80d1618c704a880d133b">w_msg</a></td></tr>
<tr class="separator:a8fbae1471a0f80d1618c704a880d133b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67f78a658170755c89d5a686e932e3e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a></td></tr>
<tr class="separator:a67f78a658170755c89d5a686e932e3e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b4868e02f25d3cc10097be1de62ae4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a0b4868e02f25d3cc10097be1de62ae4a">w_parts</a></td></tr>
<tr class="separator:a0b4868e02f25d3cc10097be1de62ae4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a723c7799b5cb355e6ed2e97018076f2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a723c7799b5cb355e6ed2e97018076f2b">w_stats</a></td></tr>
<tr class="separator:a723c7799b5cb355e6ed2e97018076f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5027af776658270efa83b421541ebab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#ae5027af776658270efa83b421541ebab">w_stats_1</a></td></tr>
<tr class="separator:ae5027af776658270efa83b421541ebab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaa8073f96207ea55f0979599f61280a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#abaa8073f96207ea55f0979599f61280a">w_stats_2</a></td></tr>
<tr class="separator:abaa8073f96207ea55f0979599f61280a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93651c54d57b6fd6cae5b560785d8758"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a93651c54d57b6fd6cae5b560785d8758">w_stats_3</a></td></tr>
<tr class="separator:a93651c54d57b6fd6cae5b560785d8758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07420a654a890593b5aabe0789849945"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a></td></tr>
<tr class="separator:a07420a654a890593b5aabe0789849945"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa541d9c4e4ef8d4c4e6cdf6b182c336e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a></td></tr>
<tr class="separator:aa541d9c4e4ef8d4c4e6cdf6b182c336e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34aa384e0dde32705549a0e208567b19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a34aa384e0dde32705549a0e208567b19">w_name</a></td></tr>
<tr class="separator:a34aa384e0dde32705549a0e208567b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff18b392b1216d867baa91a7945a4446"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory__fast_8h.html#ab8afe5baa726add2054cce385cad8855">weak_ptr_fast</a>&lt; <a class="el" href="classui__adaptor.html">ui_adaptor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#aff18b392b1216d867baa91a7945a4446">ui</a></td></tr>
<tr class="separator:aff18b392b1216d867baa91a7945a4446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0806529417fd75516442a4823bb0c680"><td class="memItemLeft" align="right" valign="top"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a></td></tr>
<tr class="separator:a0806529417fd75516442a4823bb0c680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56de25bfcc79d0844d77b672d3d6c2b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a></td></tr>
<tr class="separator:a56de25bfcc79d0844d77b672d3d6c2b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d30c9db141fd24b43ab54dead1f1e22"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a8d30c9db141fd24b43ab54dead1f1e22">ui_hidden</a> = false</td></tr>
<tr class="separator:a8d30c9db141fd24b43ab54dead1f1e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74a0478ce397fde8ce2667075c631c81"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a74a0478ce397fde8ce2667075c631c81">highlight_part</a> = -1</td></tr>
<tr class="separator:a74a0478ce397fde8ce2667075c631c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b647086ed7b509540392fc1414092c5"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="structveh__interact_1_1install__info__t.html">install_info_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a3b647086ed7b509540392fc1414092c5">install_info</a></td></tr>
<tr class="separator:a3b647086ed7b509540392fc1414092c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af22b1f91bd0b407255981a14a8978367"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="structveh__interact_1_1remove__info__t.html">remove_info_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#af22b1f91bd0b407255981a14a8978367">remove_info</a></td></tr>
<tr class="separator:af22b1f91bd0b407255981a14a8978367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac53076ecd6582a1cf61b08d0a7d7ab49"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classvehicle.html">vehicle</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a></td></tr>
<tr class="separator:ac53076ecd6582a1cf61b08d0a7d7ab49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bd0a67379700415011dd6d0a3097126"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classinventory.html">inventory</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a9bd0a67379700415011dd6d0a3097126">crafting_inv</a></td></tr>
<tr class="separator:a9bd0a67379700415011dd6d0a3097126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7346a429253cd995e687fd337a238f69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinput__context.html">input_context</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a></td></tr>
<tr class="separator:a7346a429253cd995e687fd337a238f69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb71b2c5af4561741015d02ff6085927"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#afb71b2c5af4561741015d02ff6085927">max_lift</a></td></tr>
<tr class="separator:afb71b2c5af4561741015d02ff6085927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadbbe0782d6a2ca1d38211d14c051ffb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#aadbbe0782d6a2ca1d38211d14c051ffb">max_jack</a></td></tr>
<tr class="separator:aadbbe0782d6a2ca1d38211d14c051ffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Task handlers</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp4e25187e0a928a7b3775c5216ca1a509"></a>One function for each specific task</p>
<dl class="section warning"><dt>Warning</dt><dd>presently functions may mutate local state </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>failure message to display (if any) </td></tr>
  </table>
  </dd>
</dl>
</td></tr>
<tr class="memitem:a95dd253e3bc5d71a879834aa7a8d8349"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a95dd253e3bc5d71a879834aa7a8d8349">overview_enable_t</a> = std::function&lt; bool(const <a class="el" href="structvehicle__part.html">vehicle_part</a> &amp;pt)&gt;</td></tr>
<tr class="separator:a95dd253e3bc5d71a879834aa7a8d8349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab31ab8da689e61c59879570e904ea564"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#ab31ab8da689e61c59879570e904ea564">overview_action_t</a> = std::function&lt; void(<a class="el" href="structvehicle__part.html">vehicle_part</a> &amp;pt)&gt;</td></tr>
<tr class="separator:ab31ab8da689e61c59879570e904ea564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a277a829c8f97e47af764dfbcfeb5b4e4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structveh__interact_1_1part__option.html">part_option</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a></td></tr>
<tr class="separator:a277a829c8f97e47af764dfbcfeb5b4e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae06489e9a8eaf9a95bc8a98130040d5"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, std::function&lt; void(const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;, int)&gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#aae06489e9a8eaf9a95bc8a98130040d5">overview_headers</a></td></tr>
<tr class="separator:aae06489e9a8eaf9a95bc8a98130040d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1930d9fe311bf79742cf84d387bdf71"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classveh__interact.html#a95dd253e3bc5d71a879834aa7a8d8349">overview_enable_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#ac1930d9fe311bf79742cf84d387bdf71">overview_enable</a></td></tr>
<tr class="separator:ac1930d9fe311bf79742cf84d387bdf71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23784de3a9b78d9e9d3238595e50c6c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classveh__interact.html#ab31ab8da689e61c59879570e904ea564">overview_action_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a23784de3a9b78d9e9d3238595e50c6c8">overview_action</a></td></tr>
<tr class="separator:a23784de3a9b78d9e9d3238595e50c6c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b3e0851670ba7da185a35805e30ab83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a> = -1</td></tr>
<tr class="separator:a4b3e0851670ba7da185a35805e30ab83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67ce404023ff4d483e245ff6ebc6885"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#aa67ce404023ff4d483e245ff6ebc6885">total_durability_color</a></td></tr>
<tr class="separator:aa67ce404023ff4d483e245ff6ebc6885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94cea8131bdc9142ce448c9e340734ad"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a94cea8131bdc9142ce448c9e340734ad">total_durability_text</a></td></tr>
<tr class="separator:a94cea8131bdc9142ce448c9e340734ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a946c417657ac527bc9e02c6553ae6234"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classvpart__info.html">vpart_info</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a946c417657ac527bc9e02c6553ae6234">can_mount</a></td></tr>
<tr class="separator:a946c417657ac527bc9e02c6553ae6234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b02b8684bf980c01fa581d7f10d837d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a5b02b8684bf980c01fa581d7f10d837d">need_repair</a></td></tr>
<tr class="separator:a5b02b8684bf980c01fa581d7f10d837d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a237e08c882285f5afe00e543de6ba918"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a></td></tr>
<tr class="separator:a237e08c882285f5afe00e543de6ba918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e840d3c49e8337195811b23db13d508"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structter__t.html">ter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a5e840d3c49e8337195811b23db13d508">terrain_here</a></td></tr>
<tr class="separator:a5e840d3c49e8337195811b23db13d508"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44f0dc7ca517acb88f954925f36ef082"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a44f0dc7ca517acb88f954925f36ef082">do_install</a> ()</td></tr>
<tr class="separator:a44f0dc7ca517acb88f954925f36ef082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2cf4aec2396755dd413276e69bbf21a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#ab2cf4aec2396755dd413276e69bbf21a">do_repair</a> ()</td></tr>
<tr class="separator:ab2cf4aec2396755dd413276e69bbf21a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d7c0375ecfed2bb961f4bf4cc95cb98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a4d7c0375ecfed2bb961f4bf4cc95cb98">do_mend</a> ()</td></tr>
<tr class="separator:a4d7c0375ecfed2bb961f4bf4cc95cb98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2021bf4ecc63be09944c9e337306798a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a2021bf4ecc63be09944c9e337306798a">do_refill</a> ()</td></tr>
<tr class="separator:a2021bf4ecc63be09944c9e337306798a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa88357e4727b42fb34ef0c9c3c6ab2cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#aa88357e4727b42fb34ef0c9c3c6ab2cf">do_remove</a> ()</td></tr>
<tr class="separator:aa88357e4727b42fb34ef0c9c3c6ab2cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb9bf106983bc032fd65980b79c5360e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#acb9bf106983bc032fd65980b79c5360e">do_rename</a> ()</td></tr>
<tr class="separator:acb9bf106983bc032fd65980b79c5360e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac84bab1bf6c0fb0d2ca51cace5290aec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#ac84bab1bf6c0fb0d2ca51cace5290aec">do_siphon</a> ()</td></tr>
<tr class="separator:ac84bab1bf6c0fb0d2ca51cace5290aec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb47fd0e84452654b1bb815ae1e578de"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#aeb47fd0e84452654b1bb815ae1e578de">do_unload</a> ()</td></tr>
<tr class="separator:aeb47fd0e84452654b1bb815ae1e578de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a858ee8819340da7e56fd4c48092b559b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a858ee8819340da7e56fd4c48092b559b">do_change_shape</a> ()</td></tr>
<tr class="separator:a858ee8819340da7e56fd4c48092b559b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20d2c545d1f25607b717324ff2d9ebe3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a20d2c545d1f25607b717324ff2d9ebe3">do_assign_crew</a> ()</td></tr>
<tr class="separator:a20d2c545d1f25607b717324ff2d9ebe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029c25cb40618562ef2950339c704b44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a029c25cb40618562ef2950339c704b44">do_relabel</a> ()</td></tr>
<tr class="separator:a029c25cb40618562ef2950339c704b44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefc4c42ac9773cc065fb7d3999d81b85"><td class="memItemLeft" align="right" valign="top">std::pair&lt; bool, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#aefc4c42ac9773cc065fb7d3999d81b85">calc_lift_requirements</a> (const <a class="el" href="classvpart__info.html">vpart_info</a> &amp;<a class="el" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>)</td></tr>
<tr class="memdesc:aefc4c42ac9773cc065fb7d3999d81b85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the lift requirements for a given <a class="el" href="structvehicle__part.html" title="Structure, describing vehicle part (i.e., wheel, seat)">vehicle_part</a>.  <a href="classveh__interact.html#aefc4c42ac9773cc065fb7d3999d81b85">More...</a><br /></td></tr>
<tr class="separator:aefc4c42ac9773cc065fb7d3999d81b85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7afbb5c8501d7272a8d052a83f83ec9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#ad7afbb5c8501d7272a8d052a83f83ec9">display_grid</a> ()</td></tr>
<tr class="separator:ad7afbb5c8501d7272a8d052a83f83ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4de3e3140d5eb8b374932338b56fd8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#ae4de3e3140d5eb8b374932338b56fd8a">display_veh</a> ()</td></tr>
<tr class="memdesc:ae4de3e3140d5eb8b374932338b56fd8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the viewport with the vehicle.  <a href="classveh__interact.html#ae4de3e3140d5eb8b374932338b56fd8a">More...</a><br /></td></tr>
<tr class="separator:ae4de3e3140d5eb8b374932338b56fd8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afef55d6de6d58b0cdaae3051c6fe0ccb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#afef55d6de6d58b0cdaae3051c6fe0ccb">display_stats</a> () const</td></tr>
<tr class="memdesc:afef55d6de6d58b0cdaae3051c6fe0ccb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays the vehicle's stats at the bottom of the window.  <a href="classveh__interact.html#afef55d6de6d58b0cdaae3051c6fe0ccb">More...</a><br /></td></tr>
<tr class="separator:afef55d6de6d58b0cdaae3051c6fe0ccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1cf4eb2be5146f475006b8515a12642"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#ab1cf4eb2be5146f475006b8515a12642">display_name</a> ()</td></tr>
<tr class="separator:ab1cf4eb2be5146f475006b8515a12642"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a306c2801c87b1331e313e3f0fbc12a4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a306c2801c87b1331e313e3f0fbc12a4e">display_mode</a> ()</td></tr>
<tr class="memdesc:a306c2801c87b1331e313e3f0fbc12a4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the list of usable commands, and highlights the hotkeys used to activate them.  <a href="classveh__interact.html#a306c2801c87b1331e313e3f0fbc12a4e">More...</a><br /></td></tr>
<tr class="separator:a306c2801c87b1331e313e3f0fbc12a4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e342fdc47463b25bf1681b9d72b8f05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a1e342fdc47463b25bf1681b9d72b8f05">display_list</a> (size_t pos, const std::vector&lt; const <a class="el" href="classvpart__info.html">vpart_info</a> * &gt; &amp;list, int header=0)</td></tr>
<tr class="memdesc:a1e342fdc47463b25bf1681b9d72b8f05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the list of parts that can be mounted in the selected square.  <a href="classveh__interact.html#a1e342fdc47463b25bf1681b9d72b8f05">More...</a><br /></td></tr>
<tr class="separator:a1e342fdc47463b25bf1681b9d72b8f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7411183e66616579c4f73ba63f54fd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#af7411183e66616579c4f73ba63f54fd9">display_details</a> (const <a class="el" href="classvpart__info.html">vpart_info</a> *part)</td></tr>
<tr class="memdesc:af7411183e66616579c4f73ba63f54fd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used when installing parts.  <a href="classveh__interact.html#af7411183e66616579c4f73ba63f54fd9">More...</a><br /></td></tr>
<tr class="separator:af7411183e66616579c4f73ba63f54fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ae13a6bce2460dd830c9d00fd5dbb62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a3ae13a6bce2460dd830c9d00fd5dbb62">calc_overview</a> ()</td></tr>
<tr class="separator:a3ae13a6bce2460dd830c9d00fd5dbb62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb3ea2143be2e40fd18eca8c1fc44152"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#abb3ea2143be2e40fd18eca8c1fc44152">display_overview</a> ()</td></tr>
<tr class="separator:abb3ea2143be2e40fd18eca8c1fc44152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7672d41be97b6fc8511a48f8d0b73b4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a7672d41be97b6fc8511a48f8d0b73b4b">overview</a> (const <a class="el" href="classveh__interact.html#a95dd253e3bc5d71a879834aa7a8d8349">overview_enable_t</a> &amp;enable={}, const <a class="el" href="classveh__interact.html#ab31ab8da689e61c59879570e904ea564">overview_action_t</a> &amp;<a class="el" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>={})</td></tr>
<tr class="memdesc:a7672d41be97b6fc8511a48f8d0b73b4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display overview of parts, optionally with interactive selection of one part.  <a href="classveh__interact.html#a7672d41be97b6fc8511a48f8d0b73b4b">More...</a><br /></td></tr>
<tr class="separator:a7672d41be97b6fc8511a48f8d0b73b4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfa3a898243b2fe0c3fdd9b34afd2603"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#adfa3a898243b2fe0c3fdd9b34afd2603">move_overview_line</a> (int)</td></tr>
<tr class="separator:adfa3a898243b2fe0c3fdd9b34afd2603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e7763834f74c4ee8beb929182638ca0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a3e7763834f74c4ee8beb929182638ca0">count_durability</a> ()</td></tr>
<tr class="separator:a3e7763834f74c4ee8beb929182638ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab047755601bd3e29145ac43ce2d32433"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvehicle__part.html">vehicle_part</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#ab047755601bd3e29145ac43ce2d32433">get_most_damaged_part</a> () const</td></tr>
<tr class="memdesc:ab047755601bd3e29145ac43ce2d32433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the most damaged part's index, or -1 if they're all healthy.  <a href="classveh__interact.html#ab047755601bd3e29145ac43ce2d32433">More...</a><br /></td></tr>
<tr class="separator:ab047755601bd3e29145ac43ce2d32433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2bc0b32f2133107dd7063a62354f88d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvehicle__part.html">vehicle_part</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#af2bc0b32f2133107dd7063a62354f88d">get_most_repairable_part</a> () const</td></tr>
<tr class="memdesc:af2bc0b32f2133107dd7063a62354f88d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the index of the part that needs repair the most.  <a href="classveh__interact.html#af2bc0b32f2133107dd7063a62354f88d">More...</a><br /></td></tr>
<tr class="separator:af2bc0b32f2133107dd7063a62354f88d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a904216cd38acab4433a6f7cf5855e143"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a904216cd38acab4433a6f7cf5855e143">can_remove_part</a> (int idx, const <a class="el" href="classCharacter.html">Character</a> &amp;you)</td></tr>
<tr class="separator:a904216cd38acab4433a6f7cf5855e143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b7ea84841ff8ca9e7cd74552f7da13f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a6b7ea84841ff8ca9e7cd74552f7da13f">update_part_requirements</a> ()</td></tr>
<tr class="separator:a6b7ea84841ff8ca9e7cd74552f7da13f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b5daf23868c397523b5f2b9cb0558b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a2b5daf23868c397523b5f2b9cb0558b9">cache_tool_availability</a> ()</td></tr>
<tr class="separator:a2b5daf23868c397523b5f2b9cb0558b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2c4bbc7d6137b4e842e4f3559361cb3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#ac2c4bbc7d6137b4e842e4f3559361cb3">allocate_windows</a> ()</td></tr>
<tr class="separator:ac2c4bbc7d6137b4e842e4f3559361cb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a002640225f8a3d7a2f949a51118eb758"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a002640225f8a3d7a2f949a51118eb758">do_main_loop</a> ()</td></tr>
<tr class="separator:a002640225f8a3d7a2f949a51118eb758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61531d0425777f3c809cbbab51309876"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a61531d0425777f3c809cbbab51309876">cache_tool_availability_update_lifting</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;world_cursor_pos)</td></tr>
<tr class="separator:a61531d0425777f3c809cbbab51309876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22775e5e632812226afd1b1f1314be6a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classveh__interact.html#a22775e5e632812226afd1b1f1314be6a">can_self_jack</a> ()</td></tr>
<tr class="memdesc:a22775e5e632812226afd1b1f1314be6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the vehicle has a jack powerful enough to lift itself installed.  <a href="classveh__interact.html#a22775e5e632812226afd1b1f1314be6a">More...</a><br /></td></tr>
<tr class="separator:a22775e5e632812226afd1b1f1314be6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00049">49</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ab31ab8da689e61c59879570e904ea564"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab31ab8da689e61c59879570e904ea564">&#9670;&nbsp;</a></span>overview_action_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classveh__interact.html#ab31ab8da689e61c59879570e904ea564">veh_interact::overview_action_t</a> =  std::function&lt;void( <a class="el" href="structvehicle__part.html">vehicle_part</a> &amp;pt )&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00226">226</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

</div>
</div>
<a id="a95dd253e3bc5d71a879834aa7a8d8349"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95dd253e3bc5d71a879834aa7a8d8349">&#9670;&nbsp;</a></span>overview_enable_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classveh__interact.html#a95dd253e3bc5d71a879834aa7a8d8349">veh_interact::overview_enable_t</a> =  std::function&lt;bool( const <a class="el" href="structvehicle__part.html">vehicle_part</a> &amp;pt )&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00225">225</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

</div>
</div>
<a id="a8955480261c3f606fe093f8085506ac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8955480261c3f606fe093f8085506ac2">&#9670;&nbsp;</a></span>part_selector</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classveh__interact.html#a8955480261c3f606fe093f8085506ac2">veh_interact::part_selector</a> =  std::function&lt;bool( const <a class="el" href="structvehicle__part.html">vehicle_part</a> &amp;pt )&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00051">51</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a43343e2e5cb3d0ed615056982524d7f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43343e2e5cb3d0ed615056982524d7f0">&#9670;&nbsp;</a></span>veh_interact()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">veh_interact::veh_interact </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classvehicle.html">vehicle</a> &amp;&#160;</td>
          <td class="paramname"><em>veh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em> = <code><a class="el" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a blank <a class="el" href="classveh__interact.html">veh_interact</a> window. </p>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l00261">261</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    : <a class="code" href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">dd</a>( p ), <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>( &amp;<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a> ), <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>( <span class="stringliteral">&quot;VEH_INTERACT&quot;</span>, <a class="code" href="input__enums_8h.html#a427553e505f5e242305906ce8a1ca8b5a1a54c1036ccb10069e9c06281d52007a">keyboard_mode::keycode</a> )</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;{</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#a26d796fbe876b21a2d8b85eb5d59195f">register_directions</a>();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;INSTALL&quot;</span> );</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;REPAIR&quot;</span> );</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;MEND&quot;</span> );</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;REFILL&quot;</span> );</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;REMOVE&quot;</span> );</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;RENAME&quot;</span> );</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;SIPHON&quot;</span> );</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;UNLOAD&quot;</span> );</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;CHANGE_SHAPE&quot;</span> );</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;ASSIGN_CREW&quot;</span> );</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;RELABEL&quot;</span> );</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;PREV_TAB&quot;</span> );</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;NEXT_TAB&quot;</span> );</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;OVERVIEW_DOWN&quot;</span> );</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;OVERVIEW_UP&quot;</span> );</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;FUEL_LIST_DOWN&quot;</span> );</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;FUEL_LIST_UP&quot;</span> );</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;DESC_LIST_DOWN&quot;</span> );</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;DESC_LIST_UP&quot;</span> );</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;PAGE_DOWN&quot;</span> );</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;PAGE_UP&quot;</span> );</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;CONFIRM&quot;</span> );</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> );</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;FILTER&quot;</span> );</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;ANY_INPUT&quot;</span> );</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="classveh__interact.html#a3e7763834f74c4ee8beb929182638ca0">count_durability</a>();</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="classveh__interact.html#a2b5daf23868c397523b5f2b9cb0558b9">cache_tool_availability</a>();</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">// Initialize info of selected parts</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="classveh__interact.html#a45c56ae23ae2b250f0facb9b1b8ab311">move_cursor</a>( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> );</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;}</div>
<div class="ttc" id="aclassinput__context_html_a26d796fbe876b21a2d8b85eb5d59195f"><div class="ttname"><a href="classinput__context.html#a26d796fbe876b21a2d8b85eb5d59195f">input_context::register_directions</a></div><div class="ttdeci">void register_directions()</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l00492">input_context.cpp:492</a></div></div>
<div class="ttc" id="aclassinput__context_html_ac66ac124d5c0ac5637b5806f124d428f"><div class="ttname"><a href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">input_context::register_action</a></div><div class="ttdeci">void register_action(const std::string &amp;action_descriptor)</div><div class="ttdoc">Register an action with this input context.</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l00180">input_context.cpp:180</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a1ec707f9ae68882e9688e57155468600"><div class="ttname"><a href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">veh_interact::dd</a></div><div class="ttdeci">point dd</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00066">veh_interact.h:66</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a2b5daf23868c397523b5f2b9cb0558b9"><div class="ttname"><a href="classveh__interact.html#a2b5daf23868c397523b5f2b9cb0558b9">veh_interact::cache_tool_availability</a></div><div class="ttdeci">void cache_tool_availability()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l00595">veh_interact.cpp:595</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a3e7763834f74c4ee8beb929182638ca0"><div class="ttname"><a href="classveh__interact.html#a3e7763834f74c4ee8beb929182638ca0">veh_interact::count_durability</a></div><div class="ttdeci">void count_durability()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02962">veh_interact.cpp:2962</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a45c56ae23ae2b250f0facb9b1b8ab311"><div class="ttname"><a href="classveh__interact.html#a45c56ae23ae2b250f0facb9b1b8ab311">veh_interact::move_cursor</a></div><div class="ttdeci">void move_cursor(const point &amp;d, int dstart_at=0)</div><div class="ttdoc">Moves the cursor on the vehicle editing window.</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02220">veh_interact.cpp:2220</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a7346a429253cd995e687fd337a238f69"><div class="ttname"><a href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">veh_interact::main_context</a></div><div class="ttdeci">input_context main_context</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00126">veh_interact.h:126</a></div></div>
<div class="ttc" id="aclassveh__interact_html_ac53076ecd6582a1cf61b08d0a7d7ab49"><div class="ttname"><a href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh_interact::veh</a></div><div class="ttdeci">vehicle * veh</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00124">veh_interact.h:124</a></div></div>
<div class="ttc" id="ainput__enums_8h_html_a427553e505f5e242305906ce8a1ca8b5a1a54c1036ccb10069e9c06281d52007a"><div class="ttname"><a href="input__enums_8h.html#a427553e505f5e242305906ce8a1ca8b5a1a54c1036ccb10069e9c06281d52007a">keyboard_mode::keycode</a></div><div class="ttdeci">@ keycode</div></div>
<div class="ttc" id="apoint_8h_html_a0ee2195dcb488ae55fbf4316f5011172"><div class="ttname"><a href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></div><div class="ttdeci">constexpr point point_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00251">point.h:251</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="veh__interact_8cpp_source.html#l00595">cache_tool_availability()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02962">count_durability()</a>, <a class="el" href="veh__interact_8h_source.html#l00126">main_context</a>, <a class="el" href="veh__interact_8cpp_source.html#l02220">move_cursor()</a>, <a class="el" href="point_8h_source.html#l00251">point_zero</a>, <a class="el" href="input__context_8cpp_source.html#l00180">input_context::register_action()</a>, and <a class="el" href="input__context_8cpp_source.html#l00492">input_context::register_directions()</a>.</p>

</div>
</div>
<a id="afa1be1ae61149889dae334c86380a552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa1be1ae61149889dae334c86380a552">&#9670;&nbsp;</a></span>~veh_interact()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">veh_interact::~veh_interact </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac2c4bbc7d6137b4e842e4f3559361cb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2c4bbc7d6137b4e842e4f3559361cb3">&#9670;&nbsp;</a></span>allocate_windows()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::allocate_windows </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l00300">300</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;{</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="comment">// grid window</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> grid( <a class="code" href="point_8h.html#a5c8645fbdd39f3862d10d1521f3d0254">point_south_east</a> );</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> grid_w = <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - 2; <span class="comment">// exterior borders take 2</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> grid_h = <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> - 2; <span class="comment">// exterior borders take 2</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> mode_h  = 1;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> name_h  = 1;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="classveh__interact.html#ace346bf535ccfaddc200fb8f7e2447a7">page_size</a> = grid_h - ( mode_h + <a class="code" href="classveh__interact.html#abaa0dd858996de1ec7a8921104e61f84">stats_h</a> + name_h ) - 2;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> pane_y = grid.y + mode_h + 1;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="classveh__interact.html#a5a7c2fb26f0100192740e6e8a9bf6a2b">pane_w</a> = ( grid_w / 3 ) - 1;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <a class="code" href="classveh__interact.html#acac641f10cc29387f67c2ebd512b8c29">disp_w</a> = grid_w - ( <a class="code" href="classveh__interact.html#a5a7c2fb26f0100192740e6e8a9bf6a2b">pane_w</a> * 2 ) - 2;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> disp_h = <a class="code" href="classveh__interact.html#ace346bf535ccfaddc200fb8f7e2447a7">page_size</a> * 0.45;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> parts_h = <a class="code" href="classveh__interact.html#ace346bf535ccfaddc200fb8f7e2447a7">page_size</a> - disp_h;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> parts_y = pane_y + disp_h;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> name_y = pane_y + <a class="code" href="classveh__interact.html#ace346bf535ccfaddc200fb8f7e2447a7">page_size</a> + 1;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> stats_y = name_y + name_h;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> list_x = grid.x + <a class="code" href="classveh__interact.html#acac641f10cc29387f67c2ebd512b8c29">disp_w</a> + 1;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> msg_x  = list_x + <a class="code" href="classveh__interact.html#a5a7c2fb26f0100192740e6e8a9bf6a2b">pane_w</a> + 1;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> details_y = name_y;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> details_x = list_x;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> details_h = 7;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> details_w = grid.x + grid_w - details_x;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="comment">// make the windows</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">w_border</a> = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a>, <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a>, <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> );</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="classveh__interact.html#af4f033acb4b193f4dc6ee88e09746c04">w_mode</a>  = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( mode_h,    grid_w, grid );</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <a class="code" href="classveh__interact.html#a8fbae1471a0f80d1618c704a880d133b">w_msg</a>   = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="classveh__interact.html#ace346bf535ccfaddc200fb8f7e2447a7">page_size</a>, <a class="code" href="classveh__interact.html#a5a7c2fb26f0100192740e6e8a9bf6a2b">pane_w</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( msg_x, pane_y ) );</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a>  = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( disp_h,    <a class="code" href="classveh__interact.html#acac641f10cc29387f67c2ebd512b8c29">disp_w</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( grid.x, pane_y ) );</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="code" href="classveh__interact.html#a0b4868e02f25d3cc10097be1de62ae4a">w_parts</a> = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( parts_h,   <a class="code" href="classveh__interact.html#acac641f10cc29387f67c2ebd512b8c29">disp_w</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( grid.x, parts_y ) );</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a>  = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="classveh__interact.html#ace346bf535ccfaddc200fb8f7e2447a7">page_size</a>, <a class="code" href="classveh__interact.html#a5a7c2fb26f0100192740e6e8a9bf6a2b">pane_w</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( list_x, pane_y ) );</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="classveh__interact.html#a34aa384e0dde32705549a0e208567b19">w_name</a>  = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( name_h,    grid_w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( grid.x, name_y ) );</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a> = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( details_h, details_w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( details_x, details_y ) );</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="classveh__interact.html#ae5027af776658270efa83b421541ebab">w_stats_1</a> = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="classveh__interact.html#abaa0dd858996de1ec7a8921104e61f84">stats_h</a>, <a class="code" href="classveh__interact.html#acac641f10cc29387f67c2ebd512b8c29">disp_w</a> - 2, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( grid.x + 1, stats_y ) );</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="classveh__interact.html#abaa8073f96207ea55f0979599f61280a">w_stats_2</a> = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="classveh__interact.html#abaa0dd858996de1ec7a8921104e61f84">stats_h</a>, <a class="code" href="classveh__interact.html#a5a7c2fb26f0100192740e6e8a9bf6a2b">pane_w</a> - 2, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( grid.x + <a class="code" href="classveh__interact.html#acac641f10cc29387f67c2ebd512b8c29">disp_w</a> + 2, stats_y ) );</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="classveh__interact.html#a93651c54d57b6fd6cae5b560785d8758">w_stats_3</a> = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="classveh__interact.html#abaa0dd858996de1ec7a8921104e61f84">stats_h</a>, <a class="code" href="classveh__interact.html#a5a7c2fb26f0100192740e6e8a9bf6a2b">pane_w</a> - 2, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( grid.x + <a class="code" href="classveh__interact.html#acac641f10cc29387f67c2ebd512b8c29">disp_w</a> + <a class="code" href="classveh__interact.html#a5a7c2fb26f0100192740e6e8a9bf6a2b">pane_w</a> + 3,</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                                    stats_y ) );</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">cata_variant_type::point</a></div><div class="ttdeci">@ point</div></div>
<div class="ttc" id="aclassveh__interact_html_a07420a654a890593b5aabe0789849945"><div class="ttname"><a href="classveh__interact.html#a07420a654a890593b5aabe0789849945">veh_interact::w_list</a></div><div class="ttdeci">catacurses::window w_list</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00103">veh_interact.h:103</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a0b4868e02f25d3cc10097be1de62ae4a"><div class="ttname"><a href="classveh__interact.html#a0b4868e02f25d3cc10097be1de62ae4a">veh_interact::w_parts</a></div><div class="ttdeci">catacurses::window w_parts</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00098">veh_interact.h:98</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a34aa384e0dde32705549a0e208567b19"><div class="ttname"><a href="classveh__interact.html#a34aa384e0dde32705549a0e208567b19">veh_interact::w_name</a></div><div class="ttdeci">catacurses::window w_name</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00105">veh_interact.h:105</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a5a7c2fb26f0100192740e6e8a9bf6a2b"><div class="ttname"><a href="classveh__interact.html#a5a7c2fb26f0100192740e6e8a9bf6a2b">veh_interact::pane_w</a></div><div class="ttdeci">int pane_w</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00093">veh_interact.h:93</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a67f78a658170755c89d5a686e932e3e5"><div class="ttname"><a href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">veh_interact::w_disp</a></div><div class="ttdeci">catacurses::window w_disp</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00097">veh_interact.h:97</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a8fbae1471a0f80d1618c704a880d133b"><div class="ttname"><a href="classveh__interact.html#a8fbae1471a0f80d1618c704a880d133b">veh_interact::w_msg</a></div><div class="ttdeci">catacurses::window w_msg</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00096">veh_interact.h:96</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a93520a1801e07c7083603be674cf258a"><div class="ttname"><a href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">veh_interact::w_border</a></div><div class="ttdeci">catacurses::window w_border</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00094">veh_interact.h:94</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a93651c54d57b6fd6cae5b560785d8758"><div class="ttname"><a href="classveh__interact.html#a93651c54d57b6fd6cae5b560785d8758">veh_interact::w_stats_3</a></div><div class="ttdeci">catacurses::window w_stats_3</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00102">veh_interact.h:102</a></div></div>
<div class="ttc" id="aclassveh__interact_html_aa541d9c4e4ef8d4c4e6cdf6b182c336e"><div class="ttname"><a href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">veh_interact::w_details</a></div><div class="ttdeci">catacurses::window w_details</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00104">veh_interact.h:104</a></div></div>
<div class="ttc" id="aclassveh__interact_html_abaa0dd858996de1ec7a8921104e61f84"><div class="ttname"><a href="classveh__interact.html#abaa0dd858996de1ec7a8921104e61f84">veh_interact::stats_h</a></div><div class="ttdeci">const int stats_h</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00090">veh_interact.h:90</a></div></div>
<div class="ttc" id="aclassveh__interact_html_abaa8073f96207ea55f0979599f61280a"><div class="ttname"><a href="classveh__interact.html#abaa8073f96207ea55f0979599f61280a">veh_interact::w_stats_2</a></div><div class="ttdeci">catacurses::window w_stats_2</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00101">veh_interact.h:101</a></div></div>
<div class="ttc" id="aclassveh__interact_html_acac641f10cc29387f67c2ebd512b8c29"><div class="ttname"><a href="classveh__interact.html#acac641f10cc29387f67c2ebd512b8c29">veh_interact::disp_w</a></div><div class="ttdeci">int disp_w</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00092">veh_interact.h:92</a></div></div>
<div class="ttc" id="aclassveh__interact_html_ace346bf535ccfaddc200fb8f7e2447a7"><div class="ttname"><a href="classveh__interact.html#ace346bf535ccfaddc200fb8f7e2447a7">veh_interact::page_size</a></div><div class="ttdeci">int page_size</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00088">veh_interact.h:88</a></div></div>
<div class="ttc" id="aclassveh__interact_html_ae5027af776658270efa83b421541ebab"><div class="ttname"><a href="classveh__interact.html#ae5027af776658270efa83b421541ebab">veh_interact::w_stats_1</a></div><div class="ttdeci">catacurses::window w_stats_1</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00100">veh_interact.h:100</a></div></div>
<div class="ttc" id="aclassveh__interact_html_af4f033acb4b193f4dc6ee88e09746c04"><div class="ttname"><a href="classveh__interact.html#af4f033acb4b193f4dc6ee88e09746c04">veh_interact::w_mode</a></div><div class="ttdeci">catacurses::window w_mode</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00095">veh_interact.h:95</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a576fd20080b8f49e27acf97af45b374b"><div class="ttname"><a href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a></div><div class="ttdeci">window newwin(int nlines, int ncols, const point &amp;begin)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00058">ncurses_def.cpp:58</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a000abea6447dfafd5f9b787aa6753609"><div class="ttname"><a href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a></div><div class="ttdeci">int TERMX</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00049">output.cpp:49</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a567a63be8cb70cc3eb47bf8affced8e5"><div class="ttname"><a href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a></div><div class="ttdeci">int TERMY</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00050">output.cpp:50</a></div></div>
<div class="ttc" id="apoint_8h_html_a5c8645fbdd39f3862d10d1521f3d0254"><div class="ttname"><a href="point_8h.html#a5c8645fbdd39f3862d10d1521f3d0254">point_south_east</a></div><div class="ttdeci">constexpr point point_south_east</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00256">point.h:256</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="veh__interact_8h_source.html#l00092">disp_w</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00058">catacurses::newwin()</a>, <a class="el" href="veh__interact_8h_source.html#l00088">page_size</a>, <a class="el" href="veh__interact_8h_source.html#l00093">pane_w</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="point_8h_source.html#l00256">point_south_east</a>, <a class="el" href="point_8h_source.html#l00251">point_zero</a>, <a class="el" href="veh__interact_8h_source.html#l00090">stats_h</a>, <a class="el" href="output_8cpp_source.html#l00049">TERMX</a>, <a class="el" href="output_8cpp_source.html#l00050">TERMY</a>, <a class="el" href="veh__interact_8h_source.html#l00094">w_border</a>, <a class="el" href="veh__interact_8h_source.html#l00104">w_details</a>, <a class="el" href="veh__interact_8h_source.html#l00097">w_disp</a>, <a class="el" href="veh__interact_8h_source.html#l00103">w_list</a>, <a class="el" href="veh__interact_8h_source.html#l00095">w_mode</a>, <a class="el" href="veh__interact_8h_source.html#l00096">w_msg</a>, <a class="el" href="veh__interact_8h_source.html#l00105">w_name</a>, <a class="el" href="veh__interact_8h_source.html#l00098">w_parts</a>, <a class="el" href="veh__interact_8h_source.html#l00100">w_stats_1</a>, <a class="el" href="veh__interact_8h_source.html#l00101">w_stats_2</a>, <a class="el" href="veh__interact_8h_source.html#l00102">w_stats_3</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>.</p>

</div>
</div>
<a id="a2b5daf23868c397523b5f2b9cb0558b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b5daf23868c397523b5f2b9cb0558b9">&#9670;&nbsp;</a></span>cache_tool_availability()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::cache_tool_availability </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l00595">595</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;{</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="classveh__interact.html#a9bd0a67379700415011dd6d0a3097126">crafting_inv</a> = &amp;player_character.<a class="code" href="classCharacter.html#ace218285f4fbc7c7a9feac8378bc632e">crafting_inventory</a>();</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <a class="code" href="classveh__interact.html#a61531d0425777f3c809cbbab51309876">cache_tool_availability_update_lifting</a>( player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordtype">int</span> mech_jack = 0;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        mech_jack = player_character.<a class="code" href="classCharacter.html#ac3d46549b7cdaac1f98991167ad5f1b3">mounted_creature</a>-&gt;mech_str_addition() + 10;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordtype">int</span> max_quality = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( { player_character.<a class="code" href="classCharacter.html#a7e7d7abe0c0968dc880ce005e82bb225">max_quality</a>( <a class="code" href="veh__interact_8cpp.html#a3648d0ee246d4a66df0dcd8f2be595e8">qual_JACK</a> ), mech_jack,</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                                  <a class="code" href="classmap__selector.html">map_selector</a>( player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="game__constants_8h.html#afec5544a31d4183805cff025dd84b5f4">PICKUP_RANGE</a> ).<a class="code" href="classvisitable.html#a2d2cb1acccff210289e90eb29ca02db8">max_quality</a>( <a class="code" href="veh__interact_8cpp.html#a3648d0ee246d4a66df0dcd8f2be595e8">qual_JACK</a> ),</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                                  <a class="code" href="classvehicle__selector.html">vehicle_selector</a>( player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 2, <span class="keyword">true</span>, *<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a> ).<a class="code" href="classvehicle__selector.html#ab7f9614989514e9bdaea9971de932ca7">max_quality</a>( <a class="code" href="veh__interact_8cpp.html#a3648d0ee246d4a66df0dcd8f2be595e8">qual_JACK</a> )</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                                } );</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <a class="code" href="classveh__interact.html#aadbbe0782d6a2ca1d38211d14c051ffb">max_jack</a> = <a class="code" href="item_8h.html#a6f5cb4c44e3212e41e7736890eacbbba">lifting_quality_to_mass</a>( max_quality );</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;}</div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclassCharacter_html_a67b51491c2529df09755e07bc633cc55"><div class="ttname"><a href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">Character::is_mounted</a></div><div class="ttdeci">bool is_mounted() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01732">character.cpp:1732</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7e7d7abe0c0968dc880ce005e82bb225"><div class="ttname"><a href="classCharacter.html#a7e7d7abe0c0968dc880ce005e82bb225">Character::max_quality</a></div><div class="ttdeci">int max_quality(const quality_id &amp;qual) const override</div><div class="ttdoc">Return maximum tool quality level provided by instance or INT_MIN if not found.</div></div>
<div class="ttc" id="aclassCharacter_html_ac3d46549b7cdaac1f98991167ad5f1b3"><div class="ttname"><a href="classCharacter.html#ac3d46549b7cdaac1f98991167ad5f1b3">Character::mounted_creature</a></div><div class="ttdeci">shared_ptr_fast&lt; monster &gt; mounted_creature</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02800">character.h:2800</a></div></div>
<div class="ttc" id="aclassCharacter_html_ace218285f4fbc7c7a9feac8378bc632e"><div class="ttname"><a href="classCharacter.html#ace218285f4fbc7c7a9feac8378bc632e">Character::crafting_inventory</a></div><div class="ttdeci">const inventory &amp; crafting_inventory(bool clear_path) const</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00629">crafting.cpp:629</a></div></div>
<div class="ttc" id="aclassCreature_html_a1a65722d07102550f16d17ebd79e2743"><div class="ttname"><a href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">Creature::pos</a></div><div class="ttdeci">tripoint pos() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00178">creature.cpp:178</a></div></div>
<div class="ttc" id="aclassmap__selector_html"><div class="ttname"><a href="classmap__selector.html">map_selector</a></div><div class="ttdef"><b>Definition:</b> <a href="map__selector_8h_source.html#l00031">map_selector.h:32</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a61531d0425777f3c809cbbab51309876"><div class="ttname"><a href="classveh__interact.html#a61531d0425777f3c809cbbab51309876">veh_interact::cache_tool_availability_update_lifting</a></div><div class="ttdeci">void cache_tool_availability_update_lifting(const tripoint &amp;world_cursor_pos)</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l00612">veh_interact.cpp:612</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a9bd0a67379700415011dd6d0a3097126"><div class="ttname"><a href="classveh__interact.html#a9bd0a67379700415011dd6d0a3097126">veh_interact::crafting_inv</a></div><div class="ttdeci">const inventory * crafting_inv</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00125">veh_interact.h:125</a></div></div>
<div class="ttc" id="aclassveh__interact_html_aadbbe0782d6a2ca1d38211d14c051ffb"><div class="ttname"><a href="classveh__interact.html#aadbbe0782d6a2ca1d38211d14c051ffb">veh_interact::max_jack</a></div><div class="ttdeci">units::mass max_jack</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00131">veh_interact.h:131</a></div></div>
<div class="ttc" id="aclassvehicle__selector_html"><div class="ttname"><a href="classvehicle__selector.html">vehicle_selector</a></div><div class="ttdef"><b>Definition:</b> <a href="vehicle__selector_8h_source.html#l00036">vehicle_selector.h:37</a></div></div>
<div class="ttc" id="aclassvehicle__selector_html_ab7f9614989514e9bdaea9971de932ca7"><div class="ttname"><a href="classvehicle__selector.html#ab7f9614989514e9bdaea9971de932ca7">vehicle_selector::max_quality</a></div><div class="ttdeci">int max_quality(const quality_id &amp;qual) const override</div><div class="ttdoc">Return maximum tool quality level provided by instance or INT_MIN if not found.</div></div>
<div class="ttc" id="aclassvisitable_html_a2d2cb1acccff210289e90eb29ca02db8"><div class="ttname"><a href="classvisitable.html#a2d2cb1acccff210289e90eb29ca02db8">visitable::max_quality</a></div><div class="ttdeci">int max_quality(const quality_id &amp;qual) const</div><div class="ttdoc">Return maximum tool quality level provided by instance or INT_MIN if not found.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00268">visitable.cpp:268</a></div></div>
<div class="ttc" id="agame__constants_8h_html_afec5544a31d4183805cff025dd84b5f4"><div class="ttname"><a href="game__constants_8h.html#afec5544a31d4183805cff025dd84b5f4">PICKUP_RANGE</a></div><div class="ttdeci">constexpr int PICKUP_RANGE</div><div class="ttdoc">Items on the map with at most this distance to the player are considered available for crafting,...</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00070">game_constants.h:70</a></div></div>
<div class="ttc" id="aitem_8h_html_a6f5cb4c44e3212e41e7736890eacbbba"><div class="ttname"><a href="item_8h.html#a6f5cb4c44e3212e41e7736890eacbbba">lifting_quality_to_mass</a></div><div class="ttdeci">units::mass lifting_quality_to_mass(int quality_level)</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03253">item.h:3253</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
<div class="ttc" id="aveh__interact_8cpp_html_a3648d0ee246d4a66df0dcd8f2be595e8"><div class="ttname"><a href="veh__interact_8cpp.html#a3648d0ee246d4a66df0dcd8f2be595e8">qual_JACK</a></div><div class="ttdeci">static const quality_id qual_JACK(&quot;JACK&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="veh__interact_8cpp_source.html#l00612">cache_tool_availability_update_lifting()</a>, <a class="el" href="veh__interact_8h_source.html#l00125">crafting_inv</a>, <a class="el" href="crafting_8cpp_source.html#l00629">Character::crafting_inventory()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="character_8cpp_source.html#l01732">Character::is_mounted()</a>, <a class="el" href="item_8h_source.html#l03253">lifting_quality_to_mass()</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="veh__interact_8h_source.html#l00131">max_jack</a>, <a class="el" href="visitable_8cpp_source.html#l00268">visitable::max_quality()</a>, <a class="el" href="classCharacter.html#a7e7d7abe0c0968dc880ce005e82bb225">Character::max_quality()</a>, <a class="el" href="classvehicle__selector.html#ab7f9614989514e9bdaea9971de932ca7">vehicle_selector::max_quality()</a>, <a class="el" href="character_8h_source.html#l02800">Character::mounted_creature</a>, <a class="el" href="game__constants_8h_source.html#l00070">PICKUP_RANGE</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="veh__interact_8cpp.html#a3648d0ee246d4a66df0dcd8f2be595e8">qual_JACK</a>, and <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00261">veh_interact()</a>.</p>

</div>
</div>
<a id="a61531d0425777f3c809cbbab51309876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61531d0425777f3c809cbbab51309876">&#9670;&nbsp;</a></span>cache_tool_availability_update_lifting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::cache_tool_availability_update_lifting </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>world_cursor_pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l00612">612</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;{</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="classveh__interact.html#afb71b2c5af4561741015d02ff6085927">max_lift</a> = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCharacter.html#a2d700debc90085e4084e987f5151cea0">best_nearby_lifting_assist</a>( world_cursor_pos );</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a2d700debc90085e4084e987f5151cea0"><div class="ttname"><a href="classCharacter.html#a2d700debc90085e4084e987f5151cea0">Character::best_nearby_lifting_assist</a></div><div class="ttdeci">units::mass best_nearby_lifting_assist() const</div><div class="ttdoc">Checks for items, tools, and vehicles with the Lifting quality near the character returning the large...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03102">character.cpp:3102</a></div></div>
<div class="ttc" id="aclassveh__interact_html_afb71b2c5af4561741015d02ff6085927"><div class="ttname"><a href="classveh__interact.html#afb71b2c5af4561741015d02ff6085927">veh_interact::max_lift</a></div><div class="ttdeci">units::mass max_lift</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00129">veh_interact.h:129</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l03102">Character::best_nearby_lifting_assist()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, and <a class="el" href="veh__interact_8h_source.html#l00129">max_lift</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00595">cache_tool_availability()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02220">move_cursor()</a>.</p>

</div>
</div>
<a id="aefc4c42ac9773cc065fb7d3999d81b85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefc4c42ac9773cc065fb7d3999d81b85">&#9670;&nbsp;</a></span>calc_lift_requirements()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; bool, std::string &gt; veh_interact::calc_lift_requirements </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classvpart__info.html">vpart_info</a> &amp;&#160;</td>
          <td class="paramname"><em>sel_vpart_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates the lift requirements for a given <a class="el" href="structvehicle__part.html" title="Structure, describing vehicle part (i.e., wheel, seat)">vehicle_part</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>bool true if lift requirements are fulfilled </dd>
<dd>
string msg for the ui to show the lift requirements </dd></dl>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l02096">2096</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;{</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <span class="keywordtype">int</span> lvl = 0;</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    <span class="keywordtype">int</span> str = 0;</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <a class="code" href="classstring__id.html">quality_id</a> qual;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <span class="keywordtype">bool</span> use_aid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    <span class="keywordtype">bool</span> use_str = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    std::string nmsg;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160; </div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>.<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;NEEDS_JACKING&quot;</span> ) ) {</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a5e840d3c49e8337195811b23db13d508">terrain_here</a>.<a class="code" href="structmap__data__common__t.html#a630778707744fb147436b9aa0c370a7e">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a7518f40a34b4cbfbc922c4888af267cc">ter_furn_flag::TFLAG_LIQUID</a> ) ) {</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> wrap_badter = <a class="code" href="output_8cpp.html#aea67d56cef07017be061e1ceefee80df">foldstring</a>(</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;                                         <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_red&gt;Unsuitable terrain&lt;/color&gt; for working on part that requires jacking.&quot;</span> ),</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;                                         <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a8fbae1471a0f80d1618c704a880d133b">w_msg</a> ) - 4 );</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;            nmsg += <span class="stringliteral">&quot;&gt; &quot;</span> + wrap_badter[0] + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 1; i &lt; wrap_badter.size(); i++ ) {</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;                nmsg += <span class="stringliteral">&quot;  &quot;</span> + wrap_badter[i] + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;            }</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;            <span class="keywordflow">return</span> std::pair&lt;bool, std::string&gt; ( <span class="keyword">false</span>, nmsg );</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;        }</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;        qual = <a class="code" href="veh__interact_8cpp.html#a3648d0ee246d4a66df0dcd8f2be595e8">qual_JACK</a>;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;        lvl = <a class="code" href="veh__interact_8cpp.html#a16b51dc391ef4c2c4d881f16fa297f1c">jack_quality</a>( *<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a> );</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;        str = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#aa436025a9aedf758df007b1c132b3f7d">lift_strength</a>();</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;        use_aid = ( <a class="code" href="classveh__interact.html#aadbbe0782d6a2ca1d38211d14c051ffb">max_jack</a> &gt;= <a class="code" href="item_8h.html#a6f5cb4c44e3212e41e7736890eacbbba">lifting_quality_to_mass</a>( lvl ) ) || <a class="code" href="classveh__interact.html#a22775e5e632812226afd1b1f1314be6a">can_self_jack</a>();</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;        use_str = player_character.<a class="code" href="classCharacter.html#a5818bd55c746c40f296a8cac77b7c2f9">can_lift</a>( *<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a> );</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;        <a class="code" href="classitem.html">item</a> base( <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>.<a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a> );</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;        qual = <a class="code" href="veh__interact_8cpp.html#a5ffeadef52daa921bcfd6024526f8feb">qual_LIFT</a>;</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        lvl = <a class="code" href="math__parser__func_8h.html#ac9196b0cf8d9dd209db9fc00a69a55f6">std::ceil</a>( <a class="code" href="classunits_1_1quantity.html">units::quantity&lt;double, units::mass::unit_type&gt;</a>( base.weight() ) /</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;                         <a class="code" href="item_8h.html#a6f5cb4c44e3212e41e7736890eacbbba">lifting_quality_to_mass</a>( 1 ) );</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        str = base.lift_strength();</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;        use_aid = <a class="code" href="classveh__interact.html#afb71b2c5af4561741015d02ff6085927">max_lift</a> &gt;= base.weight();</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;        use_str = player_character.<a class="code" href="classCharacter.html#a5818bd55c746c40f296a8cac77b7c2f9">can_lift</a>( base );</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    }</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160; </div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    <span class="keywordflow">if</span>( !( use_aid || use_str ) ) {</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;        <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    }</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160; </div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    std::string str_suffix;</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    <span class="keywordtype">int</span> lift_strength = player_character.<a class="code" href="classCharacter.html#a3d614bc834d5172c8b9e022728df1ffd">get_lift_str</a>();</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    <span class="keywordtype">int</span> total_lift_strength = lift_strength + player_character.<a class="code" href="classCharacter.html#a84fc4ad519e86bf97f98cd0d0030493c">get_lift_assist</a>();</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    <span class="keywordtype">int</span> total_base_strength = player_character.<a class="code" href="classCharacter.html#af707ac7d1e7995274f21a9f0ac740c9a">get_arm_str</a>() + player_character.<a class="code" href="classCharacter.html#a84fc4ad519e86bf97f98cd0d0030493c">get_lift_assist</a>();</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160; </div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="veh__interact_8cpp.html#a43d0000ecfea04c5ba1a7f8f0ce3a9c7">trait_STRONGBACK</a> ) &amp;&amp; total_lift_strength &gt;= str &amp;&amp;</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;        total_base_strength &lt; str ) {</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;        str_suffix = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;(Strong Back helped, giving +%d strength)&quot;</span> ),</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;                                    lift_strength - player_character.<a class="code" href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">get_str</a>() );</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="veh__interact_8cpp.html#aac9d4371c01814dd00f362496829a7f9">trait_BADBACK</a> ) &amp;&amp; total_base_strength &gt;= str &amp;&amp;</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;               total_lift_strength &lt; str ) {</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;        str_suffix = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;(Bad Back reduced usable strength by %d)&quot;</span> ),</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;                                    lift_strength - player_character.<a class="code" href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">get_str</a>() );</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    }</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">get_str</a>() &gt; lift_strength ) {</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;        str_suffix += str_suffix.empty() ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;  &quot;</span>;</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;        str_suffix += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;(Effective lifting strength is %d)&quot;</span> ), lift_strength );</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    }</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160; </div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    <a class="code" href="classnc__color.html">nc_color</a> aid_color = use_aid ? <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a> : ( use_str ? <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a> : <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> );</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    <a class="code" href="classnc__color.html">nc_color</a> str_color = use_str ? <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a> : ( use_aid ? <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a> : <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> );</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <span class="keyword">const</span> std::vector&lt;Character *&gt; helpers = player_character.<a class="code" href="classCharacter.html#a6c34c8584d08676678b5001a74de77dc">get_crafting_helpers</a>();</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    <span class="comment">//~ %1$s is quality name, %2$d is quality level</span></div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    std::string aid_string = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;1 tool with %1$s %2$d&quot;</span> ),</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;                                            qual.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="structquality.html#ada68ce89e3e548a8bd2e7ea8a02c26b4">name</a>, lvl );</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160; </div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    std::string str_string;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    <span class="keywordflow">if</span>( !helpers.empty() ) {</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;        str_string = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;strength ( assisted ) %d %s&quot;</span> ), str, str_suffix );</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;        str_string = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;strength %d %s&quot;</span> ), str, str_suffix );</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    }</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160; </div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    nmsg += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&gt; %1$s &lt;color_white&gt;OR&lt;/color&gt; %2$s&quot;</span> ),</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;                           <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( aid_string, aid_color ),</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;                           <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( str_string, str_color ) ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160; </div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    std::pair&lt;bool, std::string&gt; result( <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a>, nmsg );</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;}</div>
<div class="ttc" id="aavatar_8h_html_a7fe2c1a3376948380f856732d4f34c5c"><div class="ttname"><a href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a></div><div class="ttdeci">avatar &amp; get_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13817">game.cpp:13817</a></div></div>
<div class="ttc" id="aclassCharacter_html_a3d614bc834d5172c8b9e022728df1ffd"><div class="ttname"><a href="classCharacter.html#a3d614bc834d5172c8b9e022728df1ffd">Character::get_lift_str</a></div><div class="ttdeci">int get_lift_str() const</div><div class="ttdoc">returns players strength adjusted by any traits that affect strength during lifting jobs</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l12449">character.cpp:12449</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5818bd55c746c40f296a8cac77b7c2f9"><div class="ttname"><a href="classCharacter.html#a5818bd55c746c40f296a8cac77b7c2f9">Character::can_lift</a></div><div class="ttdeci">bool can_lift(const T &amp;obj) const</div><div class="ttdoc">Check player strong enough to lift an object unaided by equipment (jacks, levers etc)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l13336">character.cpp:13336</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5aba683ccf77cb560a0a932308289bd9"><div class="ttname"><a href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">Character::get_str</a></div><div class="ttdeci">int get_str() const</div><div class="ttdoc">Getters for stats exclusive to characters.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04127">character.cpp:4127</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6c34c8584d08676678b5001a74de77dc"><div class="ttname"><a href="classCharacter.html#a6c34c8584d08676678b5001a74de77dc">Character::get_crafting_helpers</a></div><div class="ttdeci">std::vector&lt; Character * &gt; get_crafting_helpers() const</div><div class="ttdoc">Return nearby Characters ready and willing to help with crafting.</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l03051">crafting.cpp:3051</a></div></div>
<div class="ttc" id="aclassCharacter_html_a84fc4ad519e86bf97f98cd0d0030493c"><div class="ttname"><a href="classCharacter.html#a84fc4ad519e86bf97f98cd0d0030493c">Character::get_lift_assist</a></div><div class="ttdeci">int get_lift_assist() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l12460">character.cpp:12460</a></div></div>
<div class="ttc" id="aclassCharacter_html_af06dd97724f4f05df782e7a4b4f9cfe1"><div class="ttname"><a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">Character::has_trait</a></div><div class="ttdeci">bool has_trait(const trait_id &amp;b) const override</div><div class="ttdoc">Returns true if the player has the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00111">mutation.cpp:111</a></div></div>
<div class="ttc" id="aclassCharacter_html_af707ac7d1e7995274f21a9f0ac740c9a"><div class="ttname"><a href="classCharacter.html#af707ac7d1e7995274f21a9f0ac740c9a">Character::get_arm_str</a></div><div class="ttdeci">int get_arm_str() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04200">character.cpp:4200</a></div></div>
<div class="ttc" id="aclassavatar_html"><div class="ttname"><a href="classavatar.html">avatar</a></div><div class="ttdef"><b>Definition:</b> <a href="avatar_8h_source.html#l00083">avatar.h:84</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00347">color.h:348</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; quality &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00071">achievement.cpp:71</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00028">units.h:29</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a22775e5e632812226afd1b1f1314be6a"><div class="ttname"><a href="classveh__interact.html#a22775e5e632812226afd1b1f1314be6a">veh_interact::can_self_jack</a></div><div class="ttdeci">bool can_self_jack()</div><div class="ttdoc">Returns true if the vehicle has a jack powerful enough to lift itself installed.</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l00768">veh_interact.cpp:768</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a5e840d3c49e8337195811b23db13d508"><div class="ttname"><a href="classveh__interact.html#a5e840d3c49e8337195811b23db13d508">veh_interact::terrain_here</a></div><div class="ttdeci">ter_t terrain_here</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00282">veh_interact.h:282</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a98660a90d6974c5368c6c0384b40f81d"><div class="ttname"><a href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">veh_interact::sel_vpart_info</a></div><div class="ttdeci">const vpart_info * sel_vpart_info</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00082">veh_interact.h:82</a></div></div>
<div class="ttc" id="aclassvehicle_html_aa436025a9aedf758df007b1c132b3f7d"><div class="ttname"><a href="classvehicle.html#aa436025a9aedf758df007b1c132b3f7d">vehicle::lift_strength</a></div><div class="ttdeci">int lift_strength() const</div><div class="ttdoc">Required strength to be able to successfully lift the vehicle unaided by equipment.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l00946">vehicle.cpp:946</a></div></div>
<div class="ttc" id="aclassvpart__info_html_ab9e299387c96ed9cea5a99ba46f58c3e"><div class="ttname"><a href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">vpart_info::base_item</a></div><div class="ttdeci">itype_id base_item</div><div class="ttdoc">base item for this part</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00400">veh_type.h:400</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aea0fdb1ef9041e28d7856afae97dcc87"><div class="ttname"><a href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">vpart_info::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00256">veh_type.h:256</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a0f25678be1fc95cb81381a004493a4cc"><div class="ttname"><a href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a></div><div class="ttdeci">std::string colorize(const std::string &amp;text, const nc_color &amp;color)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00742">color.cpp:742</a></div></div>
<div class="ttc" id="acolor_8h_html_a1cb87e74156596960610fd0a9ace766d"><div class="ttname"><a href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a></div><div class="ttdeci">#define c_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00020">color.h:20</a></div></div>
<div class="ttc" id="acolor_8h_html_a5738d18ff9e165cca088a623cb1883ae"><div class="ttname"><a href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a></div><div class="ttdeci">#define c_dark_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00018">color.h:18</a></div></div>
<div class="ttc" id="acolor_8h_html_af0a87eaef36305269f4506dfa34d94c0"><div class="ttname"><a href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a></div><div class="ttdeci">#define c_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00019">color.h:19</a></div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a7518f40a34b4cbfbc922c4888af267cc"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a7518f40a34b4cbfbc922c4888af267cc">ter_furn_flag::TFLAG_LIQUID</a></div><div class="ttdeci">@ TFLAG_LIQUID</div></div>
<div class="ttc" id="amath__parser__func_8h_html_ac9196b0cf8d9dd209db9fc00a69a55f6"><div class="ttname"><a href="math__parser__func_8h.html#ac9196b0cf8d9dd209db9fc00a69a55f6">ceil</a></div><div class="ttdeci">double ceil(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00100">math_parser_func.h:100</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a929fe85d472028f52d8a5cdfc0d35017"><div class="ttname"><a href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">catacurses::getmaxx</a></div><div class="ttdeci">int getmaxx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00091">ncurses_def.cpp:91</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aea67d56cef07017be061e1ceefee80df"><div class="ttname"><a href="output_8cpp.html#aea67d56cef07017be061e1ceefee80df">foldstring</a></div><div class="ttdeci">std::vector&lt; std::string &gt; foldstring(const std::string &amp;str, int width, const char split)</div><div class="ttdoc">Split the input text into separate lines and wrap long lines.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00123">output.cpp:123</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
<div class="ttc" id="astructmap__data__common__t_html_a630778707744fb147436b9aa0c370a7e"><div class="ttname"><a href="structmap__data__common__t.html#a630778707744fb147436b9aa0c370a7e">map_data_common_t::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00534">mapdata.h:534</a></div></div>
<div class="ttc" id="astructquality_html_ada68ce89e3e548a8bd2e7ea8a02c26b4"><div class="ttname"><a href="structquality.html#ada68ce89e3e548a8bd2e7ea8a02c26b4">quality::name</a></div><div class="ttdeci">translation name</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00048">requirements.h:48</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
<div class="ttc" id="aveh__interact_8cpp_html_a16b51dc391ef4c2c4d881f16fa297f1c"><div class="ttname"><a href="veh__interact_8cpp.html#a16b51dc391ef4c2c4d881f16fa297f1c">jack_quality</a></div><div class="ttdeci">static double jack_quality(const vehicle &amp;veh)</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l00115">veh_interact.cpp:115</a></div></div>
<div class="ttc" id="aveh__interact_8cpp_html_a43d0000ecfea04c5ba1a7f8f0ce3a9c7"><div class="ttname"><a href="veh__interact_8cpp.html#a43d0000ecfea04c5ba1a7f8f0ce3a9c7">trait_STRONGBACK</a></div><div class="ttdeci">static const trait_id trait_STRONGBACK(&quot;STRONGBACK&quot;)</div></div>
<div class="ttc" id="aveh__interact_8cpp_html_a5ffeadef52daa921bcfd6024526f8feb"><div class="ttname"><a href="veh__interact_8cpp.html#a5ffeadef52daa921bcfd6024526f8feb">qual_LIFT</a></div><div class="ttdeci">static const quality_id qual_LIFT(&quot;LIFT&quot;)</div></div>
<div class="ttc" id="aveh__interact_8cpp_html_aac9d4371c01814dd00f362496829a7f9"><div class="ttname"><a href="veh__interact_8cpp.html#aac9d4371c01814dd00f362496829a7f9">trait_BADBACK</a></div><div class="ttdeci">static const trait_id trait_BADBACK(&quot;BADBACK&quot;)</div></div>
<div class="ttc" id="avehicle_8h_html_a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6"><div class="ttname"><a href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">autodrive_result::ok</a></div><div class="ttdeci">@ ok</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="veh__type_8h_source.html#l00400">vpart_info::base_item</a>, <a class="el" href="color_8h_source.html#l00018">c_dark_gray</a>, <a class="el" href="color_8h_source.html#l00020">c_green</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="character_8cpp_source.html#l13336">Character::can_lift()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00768">can_self_jack()</a>, <a class="el" href="math__parser__func_8h_source.html#l00100">ceil()</a>, <a class="el" href="color_8cpp_source.html#l00742">colorize()</a>, <a class="el" href="output_8cpp_source.html#l00123">foldstring()</a>, <a class="el" href="character_8cpp_source.html#l04200">Character::get_arm_str()</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="crafting_8cpp_source.html#l03051">Character::get_crafting_helpers()</a>, <a class="el" href="character_8cpp_source.html#l12460">Character::get_lift_assist()</a>, <a class="el" href="character_8cpp_source.html#l12449">Character::get_lift_str()</a>, <a class="el" href="character_8cpp_source.html#l04127">Character::get_str()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="mapdata_8h_source.html#l00534">map_data_common_t::has_flag()</a>, <a class="el" href="veh__type_8h_source.html#l00256">vpart_info::has_flag()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00115">jack_quality()</a>, <a class="el" href="item_8cpp_source.html#l07438">item::lift_strength()</a>, <a class="el" href="vehicle_8cpp_source.html#l00946">vehicle::lift_strength()</a>, <a class="el" href="item_8h_source.html#l03253">lifting_quality_to_mass()</a>, <a class="el" href="veh__interact_8h_source.html#l00131">max_jack</a>, <a class="el" href="veh__interact_8h_source.html#l00129">max_lift</a>, <a class="el" href="requirements_8h_source.html#l00048">quality::name</a>, <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>, <a class="el" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a>, <a class="el" href="veh__interact_8cpp.html#a3648d0ee246d4a66df0dcd8f2be595e8">qual_JACK</a>, <a class="el" href="veh__interact_8cpp.html#a5ffeadef52daa921bcfd6024526f8feb">qual_LIFT</a>, <a class="el" href="veh__interact_8h_source.html#l00082">sel_vpart_info</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="veh__interact_8h_source.html#l00282">terrain_here</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a7518f40a34b4cbfbc922c4888af267cc">TFLAG_LIQUID</a>, <a class="el" href="veh__interact_8cpp.html#aac9d4371c01814dd00f362496829a7f9">trait_BADBACK</a>, <a class="el" href="veh__interact_8cpp.html#a43d0000ecfea04c5ba1a7f8f0ce3a9c7">trait_STRONGBACK</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, <a class="el" href="veh__interact_8h_source.html#l00096">w_msg</a>, and <a class="el" href="item_8cpp_source.html#l07081">item::weight()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01734">can_remove_part()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00780">update_part_requirements()</a>.</p>

</div>
</div>
<a id="a3ae13a6bce2460dd830c9d00fd5dbb62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ae13a6bce2460dd830c9d00fd5dbb62">&#9670;&nbsp;</a></span>calc_overview()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::calc_overview </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l01337">1337</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;{</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keyword">const</span> <a class="code" href="classhotkey__queue.html">hotkey_queue</a> &amp;hotkeys = <a class="code" href="classhotkey__queue.html#aadef3624ec1ea2dffb1476c241e1778b">hotkey_queue::alphabets</a>();</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160; </div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> next_hotkey = [&amp;]( <a class="code" href="structinput__event.html">input_event</a> &amp; evt ) {</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        <a class="code" href="structinput__event.html">input_event</a> prev = evt;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        evt = <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#a0ae640478b7d55fe739c9df0a1aaa203">next_unassigned_hotkey</a>( hotkeys, evt );</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;        <span class="keywordflow">return</span> prev;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    };</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keyword">auto</span> is_selectable = [&amp;]( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt ) {</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classveh__interact.html#a23784de3a9b78d9e9d3238595e50c6c8">overview_action</a> &amp;&amp; <a class="code" href="classveh__interact.html#ac1930d9fe311bf79742cf84d387bdf71">overview_enable</a> &amp;&amp; <a class="code" href="classveh__interact.html#ac1930d9fe311bf79742cf84d387bdf71">overview_enable</a>( pt );</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    };</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160; </div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.clear();</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <a class="code" href="classveh__interact.html#aae06489e9a8eaf9a95bc8a98130040d5">overview_headers</a>.clear();</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::power</a> epower = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#af5921951f344c47c605f8406501b41ea">net_battery_charge_rate</a>( <span class="comment">/* include_reactors = */</span> <span class="keyword">true</span> );</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <a class="code" href="classveh__interact.html#aae06489e9a8eaf9a95bc8a98130040d5">overview_headers</a>[<span class="stringliteral">&quot;1_ENGINE&quot;</span>] = [<span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp; w, <span class="keywordtype">int</span> y ) {</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        <a class="code" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, y ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) - 2, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                        <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Engines: %sSafe %4d kW&lt;/color&gt; %sMax %4d kW&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                                       <a class="code" href="veh__interact_8cpp.html#ac36048805dfb9355812e81d1db8377e5">health_color</a>( <span class="keyword">true</span> ), <a class="code" href="namespaceunits.html#a087bd10745d16c81bbce09c6cc3f177e">units::to_kilowatt</a>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a2db34d06c73c9adf5c39174ed615beed">total_power</a>( <span class="keyword">true</span>, <span class="keyword">true</span> ) ),</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                                       <a class="code" href="veh__interact_8cpp.html#ac36048805dfb9355812e81d1db8377e5">health_color</a>( <span class="keyword">false</span> ), <a class="code" href="namespaceunits.html#a087bd10745d16c81bbce09c6cc3f177e">units::to_kilowatt</a>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a2db34d06c73c9adf5c39174ed615beed">total_power</a>() ) ) );</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, y, 1, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Fuel     Use&quot;</span> ) );</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    };</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <a class="code" href="classveh__interact.html#aae06489e9a8eaf9a95bc8a98130040d5">overview_headers</a>[<span class="stringliteral">&quot;2_TANK&quot;</span>] = []( <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp; w, <span class="keywordtype">int</span> y ) {</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        <a class="code" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, y ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) - 2, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Tanks&quot;</span> ) );</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, y, 1, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Contents     Qty&quot;</span> ) );</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    };</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <a class="code" href="classveh__interact.html#aae06489e9a8eaf9a95bc8a98130040d5">overview_headers</a>[<span class="stringliteral">&quot;3_BATTERY&quot;</span>] = [epower]( <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp; w, <span class="keywordtype">int</span> y ) {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        std::string batt;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        <span class="keywordflow">if</span>( epower &lt; 10_kW || epower &gt; 10_kW ) {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;            batt = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Batteries: %s%+4d W&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;                                  <a class="code" href="veh__interact_8cpp.html#ac36048805dfb9355812e81d1db8377e5">health_color</a>( epower &gt;= 0_W ), <a class="code" href="namespaceunits.html#a76c965afaad76c83c6caa338d1eb6777">units::to_watt</a>( epower ) );</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;            batt = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Batteries: %s%+4.1f kW&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                                  <a class="code" href="veh__interact_8cpp.html#ac36048805dfb9355812e81d1db8377e5">health_color</a>( epower &gt;= 0_W ), <a class="code" href="namespaceunits.html#a76c965afaad76c83c6caa338d1eb6777">units::to_watt</a>( epower ) / 1000.0 );</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        }</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        <a class="code" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, y ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) - 2, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, batt );</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, y, 1, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Capacity  Status&quot;</span> ) );</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    };</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <a class="code" href="classveh__interact.html#aae06489e9a8eaf9a95bc8a98130040d5">overview_headers</a>[<span class="stringliteral">&quot;4_REACTOR&quot;</span>] = [<span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp; w, <span class="keywordtype">int</span> y ) {</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        <a class="code" href="classunits_1_1quantity.html">units::power</a> reactor_epower = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a875ba170f911085dc78c6f6f2ca0fbb7">max_reactor_epower</a>();</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        std::string reactor;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        <span class="keywordflow">if</span>( reactor_epower == 0_W ) {</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;            reactor = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Reactors&quot;</span> );</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( reactor_epower &lt; 10_kW ) {</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;            reactor = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Reactors: Up to %s%+4d W&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                                     <a class="code" href="veh__interact_8cpp.html#ac36048805dfb9355812e81d1db8377e5">health_color</a>( reactor_epower &gt; 0_W ), <a class="code" href="namespaceunits.html#a76c965afaad76c83c6caa338d1eb6777">units::to_watt</a>( reactor_epower ) );</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            reactor = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Reactors: Up to %s%+4.1f kW&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                                     <a class="code" href="veh__interact_8cpp.html#ac36048805dfb9355812e81d1db8377e5">health_color</a>( reactor_epower &gt; 0_W ), <a class="code" href="namespaceunits.html#a76c965afaad76c83c6caa338d1eb6777">units::to_watt</a>( reactor_epower ) / 1000.0 );</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        }</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        <a class="code" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, y ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) - 2, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, reactor );</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, y, 1, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Contents     Qty&quot;</span> ) );</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    };</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <a class="code" href="classveh__interact.html#aae06489e9a8eaf9a95bc8a98130040d5">overview_headers</a>[<span class="stringliteral">&quot;5_TURRET&quot;</span>] = []( <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp; w, <span class="keywordtype">int</span> y ) {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        <a class="code" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, y ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) - 2, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Turrets&quot;</span> ) );</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, y, 1, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Ammo     Qty&quot;</span> ) );</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    };</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <a class="code" href="classveh__interact.html#aae06489e9a8eaf9a95bc8a98130040d5">overview_headers</a>[<span class="stringliteral">&quot;6_SEAT&quot;</span>] = []( <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp; w, <span class="keywordtype">int</span> y ) {</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        <a class="code" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, y ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) - 2, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Seats&quot;</span> ) );</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, y, 1, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Who&quot;</span> ) );</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    };</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160; </div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <a class="code" href="structinput__event.html">input_event</a> hotkey = <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#aaeae390c415e4061b7c7b8f962cb0224">first_unassigned_hotkey</a>( hotkeys );</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="keywordtype">bool</span> selectable;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp;vpr : <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a397b40aa92dd1fd09ee592aa279bc656">get_all_parts</a>() ) {</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <span class="keywordflow">if</span>( !vpr.part().is_available() ) {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        }</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160; </div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <span class="keywordflow">if</span>( vpr.part().is_engine() ) {</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;            <span class="comment">// if tank contains something then display the contents in milliliters</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;            <span class="keyword">auto</span> <a class="code" href="namespacedetails.html">details</a> = []( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt, <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp; w, <span class="keywordtype">int</span> y ) {</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>(</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                    w, y, 1, <a class="code" href="classitem.html#a11cf8d500b6d8106302470dce5ca9177">item::find_type</a>( pt.<a class="code" href="structvehicle__part.html#ad8e149b4d200656c134e3f90f82f3fe4">ammo_current</a>() )-&gt;<a class="code" href="structitype.html#af4d6fc9396d1e09f23d2008f974ac757">color</a>,</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                    <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                        <span class="stringliteral">&quot;%s     &lt;color_light_gray&gt;%s&lt;/color&gt;&quot;</span>,</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                        !pt.<a class="code" href="structvehicle__part.html#ad32ebfa9316b0c3baaddea4efa9b7d96">fuel_current</a>().<a class="code" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ? <a class="code" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( pt.<a class="code" href="structvehicle__part.html#ad32ebfa9316b0c3baaddea4efa9b7d96">fuel_current</a>() ) : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                        <span class="comment">//~ translation should not exceed 3 console cells</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                        <a class="code" href="catacharset_8cpp.html#a30ed8653708f4ee2a1ac7c850a35639d">right_justify</a>( pt.<a class="code" href="structvehicle__part.html#a27a7cba7268cb7d3550ed2b7c9adc323">enabled</a> ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Yes&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;No&quot;</span> ), 3 ) ) );</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;            };</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160; </div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;            <span class="comment">// display engine faults (if any)</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;            <span class="keyword">auto</span> msg_cb = [&amp;]( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt ) {</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = std::string();</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : pt.<a class="code" href="structvehicle__part.html#af3f36462b727fe082320a4f75bf6597a">faults</a>() ) {</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                    <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a>.value() + <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s\n  %s\n\n&quot;</span>, <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( e-&gt;name(), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> ),</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                                                       <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( e-&gt;description(), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ) );</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                }</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;            };</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;            selectable = is_selectable( vpr.part() );</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;            <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.emplace_back( <span class="stringliteral">&quot;1_ENGINE&quot;</span>, &amp;vpr.part(), selectable,</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                                        selectable ? next_hotkey( hotkey ) : <a class="code" href="structinput__event.html">input_event</a>(),</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                                        <a class="code" href="namespacedetails.html">details</a>,</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                                        msg_cb );</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        }</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160; </div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        <span class="keywordflow">if</span>( vpr.part().is_tank() || ( vpr.part().is_fuel_store() &amp;&amp;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                                      !( vpr.part().is_turret() || vpr.part().is_battery() || vpr.part().is_reactor() ) ) ) {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;            <span class="keyword">auto</span> tank_details = []( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt, <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp; w, <span class="keywordtype">int</span> y ) {</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                <span class="keywordflow">if</span>( !pt.<a class="code" href="structvehicle__part.html#ad8e149b4d200656c134e3f90f82f3fe4">ammo_current</a>().<a class="code" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                    std::string <a class="code" href="namespaceanonymous__namespace_02overmap_8cpp_03.html#aaecb8214baec0f85fd5a4129133d9435">specials</a>;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                    <span class="comment">// vehicle parts can only have one pocket, and we are showing a liquid,</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                    <span class="comment">// which can only be one.</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it = pt.<a class="code" href="structvehicle__part.html#a5122e284fbcf0f14f0e6022e01b5b574">base</a>.<a class="code" href="classitem.html#a58a1ae0c5310bb998fb9a1d0261e9858">legacy_front</a>();</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                    <span class="comment">// a space isn&#39;t actually needed in front of the tags here,</span></div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                    <span class="comment">// but item::display_name tags use a space so this prevents</span></div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                    <span class="comment">// needing *second* translation for the same thing with a</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;                    <span class="comment">// space in front of it</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                    <span class="keywordflow">if</span>( it.<a class="code" href="classitem.html#a7a87dfe9c9c30a0ee04da41ecc48a3e7">has_own_flag</a>( <a class="code" href="flag_8cpp.html#a617ff8737418db1b70ad7c05f3044b7a">flag_FROZEN</a> ) ) {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                        <a class="code" href="namespaceanonymous__namespace_02overmap_8cpp_03.html#aaecb8214baec0f85fd5a4129133d9435">specials</a> += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; (frozen)&quot;</span> );</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it.<a class="code" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>() ) {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                        <a class="code" href="namespaceanonymous__namespace_02overmap_8cpp_03.html#aaecb8214baec0f85fd5a4129133d9435">specials</a> += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; (rotten)&quot;</span> );</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                    }</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                    <span class="keyword">const</span> <a class="code" href="structitype.html">itype</a> *pt_ammo_cur = <a class="code" href="classitem.html#a11cf8d500b6d8106302470dce5ca9177">item::find_type</a>( pt.<a class="code" href="structvehicle__part.html#ad8e149b4d200656c134e3f90f82f3fe4">ammo_current</a>() );</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                    <span class="keywordtype">int</span> offset = 1;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                    std::string fmtstring = <span class="stringliteral">&quot;%s %s  %5.1fL&quot;</span>;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                    <span class="keywordflow">if</span>( pt.<a class="code" href="structvehicle__part.html#a0dc6c6a45b4f808954621730ed357b36">is_leaking</a>() ) {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                        fmtstring = <a class="code" href="cata__utility_8h.html#a9739926e3b8f62356233563beb9542b2">str_cat</a>( <span class="stringliteral">&quot;%s %s &quot;</span>, <a class="code" href="veh__interact_8h.html#a0cd1cb16e97c99f8fde8bbbd1ce25856">leak_marker</a>, <span class="stringliteral">&quot;%5.1fL&quot;</span>, <a class="code" href="veh__interact_8h.html#a0cd1cb16e97c99f8fde8bbbd1ce25856">leak_marker</a> );</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                        offset = 0;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                    }</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                    <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, y, offset, pt_ammo_cur-&gt;<a class="code" href="structitype.html#af4d6fc9396d1e09f23d2008f974ac757">color</a>,</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                                 <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( fmtstring, <a class="code" href="namespaceanonymous__namespace_02overmap_8cpp_03.html#aaecb8214baec0f85fd5a4129133d9435">specials</a>, pt_ammo_cur-&gt;<a class="code" href="structitype.html#ad35fbe0013544c1c396944b20b264421">nname</a>( 1 ),</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;                                                <a class="code" href="cata__utility_8cpp.html#a9dbcecb703a6e1111a0552177b6bf9fc">round_up</a>( <a class="code" href="namespaceunits.html#a4e18c5472c3f55e110fb16c9e0fe8c45">units::to_liter</a>( it.<a class="code" href="classitem.html#a686df014e8aa8bc4637883802d05f935">volume</a>() ), 1 ) ) );</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                    <span class="keywordflow">if</span>( pt.<a class="code" href="structvehicle__part.html#a0dc6c6a45b4f808954621730ed357b36">is_leaking</a>() ) {</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;                        std::string outputstr = <a class="code" href="cata__utility_8h.html#a9739926e3b8f62356233563beb9542b2">str_cat</a>( <a class="code" href="veh__interact_8h.html#a0cd1cb16e97c99f8fde8bbbd1ce25856">leak_marker</a>, <span class="stringliteral">&quot;      &quot;</span>, <a class="code" href="veh__interact_8h.html#a0cd1cb16e97c99f8fde8bbbd1ce25856">leak_marker</a> );</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                        <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, y, 0, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, outputstr );</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;                    }</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;                }</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;            };</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;            <span class="keyword">auto</span> no_tank_details = []( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt, <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp; w, <span class="keywordtype">int</span> y ) {</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                <span class="keywordflow">if</span>( !pt.<a class="code" href="structvehicle__part.html#ad8e149b4d200656c134e3f90f82f3fe4">ammo_current</a>().<a class="code" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                    <span class="keyword">const</span> <a class="code" href="structitype.html">itype</a> *pt_ammo_cur = <a class="code" href="classitem.html#a11cf8d500b6d8106302470dce5ca9177">item::find_type</a>( pt.<a class="code" href="structvehicle__part.html#ad8e149b4d200656c134e3f90f82f3fe4">ammo_current</a>() );</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                    <span class="keywordtype">double</span> vol_L = <a class="code" href="namespaceunits.html#a4e18c5472c3f55e110fb16c9e0fe8c45">to_liter</a>( pt.<a class="code" href="structvehicle__part.html#a9c6bf106558c9ed00536e2d7cb0e862d">ammo_remaining</a>() * <a class="code" href="namespaceunits.html#a58e7d31fbaa28a1dd45fb598f8d1fba9">units::legacy_volume_factor</a> /</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                                             pt_ammo_cur-&gt;<a class="code" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a> );</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                    <span class="keywordtype">int</span> offset = 1;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                    std::string fmtstring = <span class="stringliteral">&quot;%s  %5.1fL&quot;</span>;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                    <span class="keywordflow">if</span>( pt.<a class="code" href="structvehicle__part.html#a0dc6c6a45b4f808954621730ed357b36">is_leaking</a>() ) {</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                        fmtstring = <a class="code" href="cata__utility_8h.html#a9739926e3b8f62356233563beb9542b2">str_cat</a>( <span class="stringliteral">&quot;%s  &quot;</span>, <a class="code" href="veh__interact_8h.html#a0cd1cb16e97c99f8fde8bbbd1ce25856">leak_marker</a>, <span class="stringliteral">&quot;%5.1fL&quot;</span>, <a class="code" href="veh__interact_8h.html#a0cd1cb16e97c99f8fde8bbbd1ce25856">leak_marker</a> );</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                        offset = 0;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                    }</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                    <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, y, offset, pt_ammo_cur-&gt;<a class="code" href="structitype.html#af4d6fc9396d1e09f23d2008f974ac757">color</a>,</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                                 <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( fmtstring, <a class="code" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( pt.<a class="code" href="structvehicle__part.html#ad8e149b4d200656c134e3f90f82f3fe4">ammo_current</a>() ),</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                                                <a class="code" href="cata__utility_8cpp.html#a9dbcecb703a6e1111a0552177b6bf9fc">round_up</a>( vol_L, 1 ) ) );</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                }</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;            };</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;            selectable = is_selectable( vpr.part() );</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;            <span class="keywordflow">if</span>( vpr.part().is_tank() ) {</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.emplace_back( <span class="stringliteral">&quot;2_TANK&quot;</span>, &amp;vpr.part(), selectable, selectable ? next_hotkey(</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;                                                hotkey ) : <a class="code" href="structinput__event.html">input_event</a>(),</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;                                            tank_details );</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( vpr.part().is_fuel_store() &amp;&amp; !( vpr.part().is_turret() ||</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                       vpr.part().is_battery() || vpr.part().is_reactor() ) ) {</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.emplace_back( <span class="stringliteral">&quot;2_TANK&quot;</span>, &amp;vpr.part(), selectable, selectable ? next_hotkey(</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                                                hotkey ) : <a class="code" href="structinput__event.html">input_event</a>(),</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                                            no_tank_details );</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;            }</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;        }</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        <span class="keywordflow">if</span>( vpr.part().is_battery() ) {</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;            <span class="comment">// always display total battery capacity and percentage charge</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;            <span class="keyword">auto</span> <a class="code" href="namespacedetails.html">details</a> = []( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt, <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp; w, <span class="keywordtype">int</span> y ) {</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;                <span class="keywordtype">int</span> pct = ( <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( pt.<a class="code" href="structvehicle__part.html#a9c6bf106558c9ed00536e2d7cb0e862d">ammo_remaining</a>() ) / pt.<a class="code" href="structvehicle__part.html#a30aa1cb6fff83820663b1b170139553b">ammo_capacity</a>(</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                                <a class="code" href="veh__interact_8cpp.html#a13798283d6d3fdd8f38838da9d52fd19">ammo_battery</a> ) ) * 100;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                <span class="keywordtype">int</span> offset = 1;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;                std::string fmtstring = <span class="stringliteral">&quot;%i    %3i%%&quot;</span>;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;                <span class="keywordflow">if</span>( pt.<a class="code" href="structvehicle__part.html#a0dc6c6a45b4f808954621730ed357b36">is_leaking</a>() ) {</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;                    fmtstring = <a class="code" href="cata__utility_8h.html#a9739926e3b8f62356233563beb9542b2">str_cat</a>( <span class="stringliteral">&quot;%i   &quot;</span>, <a class="code" href="veh__interact_8h.html#a0cd1cb16e97c99f8fde8bbbd1ce25856">leak_marker</a>, <span class="stringliteral">&quot;%3i%%&quot;</span>, <a class="code" href="veh__interact_8h.html#a0cd1cb16e97c99f8fde8bbbd1ce25856">leak_marker</a> );</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;                    offset = 0;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;                }</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, y, offset, <a class="code" href="classitem.html#a11cf8d500b6d8106302470dce5ca9177">item::find_type</a>( pt.<a class="code" href="structvehicle__part.html#ad8e149b4d200656c134e3f90f82f3fe4">ammo_current</a>() )-&gt;<a class="code" href="structitype.html#af4d6fc9396d1e09f23d2008f974ac757">color</a>,</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                             <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( fmtstring, pt.<a class="code" href="structvehicle__part.html#a30aa1cb6fff83820663b1b170139553b">ammo_capacity</a>( <a class="code" href="veh__interact_8cpp.html#a13798283d6d3fdd8f38838da9d52fd19">ammo_battery</a> ), pct ) );</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;            };</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;            selectable = is_selectable( vpr.part() );</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;            <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.emplace_back( <span class="stringliteral">&quot;3_BATTERY&quot;</span>, &amp;vpr.part(), selectable,</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                                        selectable ? next_hotkey( hotkey ) : <a class="code" href="structinput__event.html">input_event</a>(), <a class="code" href="namespacedetails.html">details</a> );</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        }</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160; </div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        <span class="keywordflow">if</span>( vpr.part().is_reactor() || vpr.part().is_turret() ) {</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;            <span class="keyword">auto</span> details_ammo = []( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt, <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp; w, <span class="keywordtype">int</span> y ) {</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                <span class="keywordflow">if</span>( pt.<a class="code" href="structvehicle__part.html#a9c6bf106558c9ed00536e2d7cb0e862d">ammo_remaining</a>() ) {</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                    <span class="keywordtype">int</span> offset = 1;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                    std::string fmtstring = <span class="stringliteral">&quot;%s   %5i&quot;</span>;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                    <span class="keywordflow">if</span>( pt.<a class="code" href="structvehicle__part.html#a0dc6c6a45b4f808954621730ed357b36">is_leaking</a>() ) {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                        fmtstring = <a class="code" href="cata__utility_8h.html#a9739926e3b8f62356233563beb9542b2">str_cat</a>( <span class="stringliteral">&quot;%s  &quot;</span>, <a class="code" href="veh__interact_8h.html#a0cd1cb16e97c99f8fde8bbbd1ce25856">leak_marker</a>, <span class="stringliteral">&quot;%5i&quot;</span>, <a class="code" href="veh__interact_8h.html#a0cd1cb16e97c99f8fde8bbbd1ce25856">leak_marker</a> );</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                        offset = 0;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                    }</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;                    <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, y, offset, <a class="code" href="classitem.html#a11cf8d500b6d8106302470dce5ca9177">item::find_type</a>( pt.<a class="code" href="structvehicle__part.html#ad8e149b4d200656c134e3f90f82f3fe4">ammo_current</a>() )-&gt;<a class="code" href="structitype.html#af4d6fc9396d1e09f23d2008f974ac757">color</a>,</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                                 <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( fmtstring, <a class="code" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( pt.<a class="code" href="structvehicle__part.html#ad8e149b4d200656c134e3f90f82f3fe4">ammo_current</a>() ), pt.<a class="code" href="structvehicle__part.html#a9c6bf106558c9ed00536e2d7cb0e862d">ammo_remaining</a>() ) );</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                }</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;            };</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;            selectable = is_selectable( vpr.part() );</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;            <span class="keywordflow">if</span>( vpr.part().is_reactor() ) {</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.emplace_back( <span class="stringliteral">&quot;4_REACTOR&quot;</span>, &amp;vpr.part(), selectable,</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                                            selectable ? next_hotkey( hotkey ) : <a class="code" href="structinput__event.html">input_event</a>(),</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;                                            details_ammo );</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;            }</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            <span class="keywordflow">if</span>( vpr.part().is_turret() ) {</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.emplace_back( <span class="stringliteral">&quot;5_TURRET&quot;</span>, &amp;vpr.part(), selectable,</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;                                            selectable ? next_hotkey( hotkey ) : <a class="code" href="structinput__event.html">input_event</a>(),</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;                                            details_ammo );</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;            }</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        }</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160; </div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <span class="keywordflow">if</span>( vpr.part().is_seat() ) {</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            <span class="keyword">auto</span> <a class="code" href="namespacedetails.html">details</a> = []( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt, <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp; w, <span class="keywordtype">int</span> y ) {</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                <span class="keyword">const</span> <a class="code" href="classnpc.html">npc</a> *who = pt.<a class="code" href="structvehicle__part.html#acb5dce028b917a59941ed0f4cb0a4491">crew</a>();</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;                <span class="keywordflow">if</span>( who ) {</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;                    <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, y, 1, pt.<a class="code" href="structvehicle__part.html#a292597a6fa905ab0f16e405c4ca0425a">passenger_id</a> == who-&gt;<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() ? <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a> : <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, who-&gt;<a class="code" href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">get_name</a>() );</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                }</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            };</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            selectable = is_selectable( vpr.part() );</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;            <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.emplace_back( <span class="stringliteral">&quot;6_SEAT&quot;</span>, &amp;vpr.part(), selectable, selectable ? next_hotkey(</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                                            hotkey ) : <a class="code" href="structinput__event.html">input_event</a>(), <a class="code" href="namespacedetails.html">details</a> );</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    }</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160; </div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacegame__menus_1_1inv.html#ac3a1cc6107728c90e65e9af775f7c279">compare</a> = []( <a class="code" href="structveh__interact_1_1part__option.html">veh_interact::part_option</a> &amp; s1,</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    <a class="code" href="structveh__interact_1_1part__option.html">veh_interact::part_option</a> &amp; s2 ) {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        <span class="comment">// NOLINTNEXTLINE cata-use-localized-sorting</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        <span class="keywordflow">return</span>  s1.<a class="code" href="structveh__interact_1_1part__option.html#acc4c92cc9fa9124d4e24fa819b5615e2">key</a> &lt;  s2.key;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    };</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    std::sort( <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.begin(), <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.end(), <a class="code" href="namespacegame__menus_1_1inv.html#ac3a1cc6107728c90e65e9af775f7c279">compare</a> );</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160; </div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;}</div>
<div class="ttc" id="acata__utility_8cpp_html_a9dbcecb703a6e1111a0552177b6bf9fc"><div class="ttname"><a href="cata__utility_8cpp.html#a9dbcecb703a6e1111a0552177b6bf9fc">round_up</a></div><div class="ttdeci">double round_up(double val, unsigned int dp)</div><div class="ttdoc">Round a value up at a given decimal place.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8cpp_source.html#l00054">cata_utility.cpp:54</a></div></div>
<div class="ttc" id="acata__utility_8h_html_a9739926e3b8f62356233563beb9542b2"><div class="ttname"><a href="cata__utility_8h.html#a9739926e3b8f62356233563beb9542b2">str_cat</a></div><div class="ttdeci">std::string str_cat(T0 &amp;&amp;a0, T &amp;&amp;...a)</div><div class="ttdoc">Concatenates a bunch of strings with append, to minimize unnecessary allocations.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8h_source.html#l00539">cata_utility.h:539</a></div></div>
<div class="ttc" id="acatacharset_8cpp_html_a30ed8653708f4ee2a1ac7c850a35639d"><div class="ttname"><a href="catacharset_8cpp.html#a30ed8653708f4ee2a1ac7c850a35639d">right_justify</a></div><div class="ttdeci">std::string right_justify(const std::string &amp;str, const int width, const bool ignore_tags)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00137">catacharset.cpp:137</a></div></div>
<div class="ttc" id="aclassCharacter_html_adb54bdcb284abb66b6be99c8ae225065"><div class="ttname"><a href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">Character::getID</a></div><div class="ttdeci">character_id getID() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00652">character.cpp:652</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae47514f140700c67ea21ccbadf66d106"><div class="ttname"><a href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">Character::get_name</a></div><div class="ttdeci">std::string get_name() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l05731">character.cpp:5731</a></div></div>
<div class="ttc" id="aclasscatacurses_1_1window_html"><div class="ttname"><a href="classcatacurses_1_1window.html">catacurses::window</a></div><div class="ttdoc">A wrapper over a pointer to a curses window.</div><div class="ttdef"><b>Definition:</b> <a href="cursesdef_8h_source.html#l00054">cursesdef.h:55</a></div></div>
<div class="ttc" id="aclasshotkey__queue_html"><div class="ttname"><a href="classhotkey__queue.html">hotkey_queue</a></div><div class="ttdef"><b>Definition:</b> <a href="input__context_8h_source.html#l00483">input_context.h:484</a></div></div>
<div class="ttc" id="aclasshotkey__queue_html_aadef3624ec1ea2dffb1476c241e1778b"><div class="ttname"><a href="classhotkey__queue.html#aadef3624ec1ea2dffb1476c241e1778b">hotkey_queue::alphabets</a></div><div class="ttdeci">static const hotkey_queue &amp; alphabets()</div><div class="ttdoc">In keychar mode: a-z, A-Z In keycode mode: a-z, shift a-z.</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l01413">input_context.cpp:1413</a></div></div>
<div class="ttc" id="aclassinput__context_html_a0ae640478b7d55fe739c9df0a1aaa203"><div class="ttname"><a href="classinput__context.html#a0ae640478b7d55fe739c9df0a1aaa203">input_context::next_unassigned_hotkey</a></div><div class="ttdeci">input_event next_unassigned_hotkey(const hotkey_queue &amp;queue, const input_event &amp;prev) const</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l01342">input_context.cpp:1342</a></div></div>
<div class="ttc" id="aclassinput__context_html_aaeae390c415e4061b7c7b8f962cb0224"><div class="ttname"><a href="classinput__context.html#aaeae390c415e4061b7c7b8f962cb0224">input_context::first_unassigned_hotkey</a></div><div class="ttdeci">input_event first_unassigned_hotkey(const hotkey_queue &amp;queue) const</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l01332">input_context.cpp:1332</a></div></div>
<div class="ttc" id="aclassitem_html_a11cf8d500b6d8106302470dce5ca9177"><div class="ttname"><a href="classitem.html#a11cf8d500b6d8106302470dce5ca9177">item::find_type</a></div><div class="ttdeci">static const itype * find_type(const itype_id &amp;type)</div><div class="ttdoc">Returns the item type of the given identifier.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14581">item.cpp:14581</a></div></div>
<div class="ttc" id="aclassitem_html_a34f7ae5deade2f4a8fed4f04e81797ce"><div class="ttname"><a href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">item::rotten</a></div><div class="ttdeci">bool rotten() const</div><div class="ttdoc">returns true if item is now rotten after all shelf life has elapsed</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l01124">item.h:1124</a></div></div>
<div class="ttc" id="aclassitem_html_a438855ffd52d33307e1dfba6d607535b"><div class="ttname"><a href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a></div><div class="ttdeci">static std::string nname(const itype_id &amp;id, unsigned int quantity=1)</div><div class="ttdoc">Returns the translated item name for the item with given id.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14557">item.cpp:14557</a></div></div>
<div class="ttc" id="aclassitem_html_a58a1ae0c5310bb998fb9a1d0261e9858"><div class="ttname"><a href="classitem.html#a58a1ae0c5310bb998fb9a1d0261e9858">item::legacy_front</a></div><div class="ttdeci">item &amp; legacy_front()</div><div class="ttdoc">This function is to aid migration to using nested containers.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l15170">item.cpp:15170</a></div></div>
<div class="ttc" id="aclassitem_html_a686df014e8aa8bc4637883802d05f935"><div class="ttname"><a href="classitem.html#a686df014e8aa8bc4637883802d05f935">item::volume</a></div><div class="ttdeci">units::volume volume(bool integral=false, bool ignore_contents=false, int charges_in_vol=-1) const</div><div class="ttdoc">Total volume of an item accounting for all contained/integrated items NOTE: Result is rounded up to n...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07360">item.cpp:7360</a></div></div>
<div class="ttc" id="aclassitem_html_a7a87dfe9c9c30a0ee04da41ecc48a3e7"><div class="ttname"><a href="classitem.html#a7a87dfe9c9c30a0ee04da41ecc48a3e7">item::has_own_flag</a></div><div class="ttdeci">bool has_own_flag(const flag_id &amp;f) const</div><div class="ttdoc">Checks whether item itself has given flag (doesn't check item type or gunmods).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07573">item.cpp:7573</a></div></div>
<div class="ttc" id="aclassnpc_html"><div class="ttname"><a href="classnpc.html">npc</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00791">npc.h:792</a></div></div>
<div class="ttc" id="aclassstring__id_html_a3ca78345025397b3d3ac22729ba1684b"><div class="ttname"><a href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">string_id::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Returns whether this represents the id of the null-object (in which case it's the null-id).</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00322">string_id.h:322</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a23784de3a9b78d9e9d3238595e50c6c8"><div class="ttname"><a href="classveh__interact.html#a23784de3a9b78d9e9d3238595e50c6c8">veh_interact::overview_action</a></div><div class="ttdeci">overview_action_t overview_action</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00228">veh_interact.h:228</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a277a829c8f97e47af764dfbcfeb5b4e4"><div class="ttname"><a href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">veh_interact::overview_opts</a></div><div class="ttdeci">std::vector&lt; part_option &gt; overview_opts</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00223">veh_interact.h:223</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a56de25bfcc79d0844d77b672d3d6c2b1"><div class="ttname"><a href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">veh_interact::msg</a></div><div class="ttdeci">std::optional&lt; std::string &gt; msg</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00110">veh_interact.h:110</a></div></div>
<div class="ttc" id="aclassveh__interact_html_aae06489e9a8eaf9a95bc8a98130040d5"><div class="ttname"><a href="classveh__interact.html#aae06489e9a8eaf9a95bc8a98130040d5">veh_interact::overview_headers</a></div><div class="ttdeci">std::map&lt; std::string, std::function&lt; void(const catacurses::window &amp;, int)&gt; &gt; overview_headers</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00224">veh_interact.h:224</a></div></div>
<div class="ttc" id="aclassveh__interact_html_ac1930d9fe311bf79742cf84d387bdf71"><div class="ttname"><a href="classveh__interact.html#ac1930d9fe311bf79742cf84d387bdf71">veh_interact::overview_enable</a></div><div class="ttdeci">overview_enable_t overview_enable</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00227">veh_interact.h:227</a></div></div>
<div class="ttc" id="aclassvehicle_html_a2db34d06c73c9adf5c39174ed615beed"><div class="ttname"><a href="classvehicle.html#a2db34d06c73c9adf5c39174ed615beed">vehicle::total_power</a></div><div class="ttdeci">units::power total_power(bool fueled=true, bool safe=false) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03697">vehicle.cpp:3697</a></div></div>
<div class="ttc" id="aclassvehicle_html_a397b40aa92dd1fd09ee592aa279bc656"><div class="ttname"><a href="classvehicle.html#a397b40aa92dd1fd09ee592aa279bc656">vehicle::get_all_parts</a></div><div class="ttdeci">vehicle_part_range get_all_parts() const</div><div class="ttdoc">Yields a range containing all parts (including broken ones) that can be iterated over.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l08119">vehicle.cpp:8119</a></div></div>
<div class="ttc" id="aclassvehicle_html_a875ba170f911085dc78c6f6f2ca0fbb7"><div class="ttname"><a href="classvehicle.html#a875ba170f911085dc78c6f6f2ca0fbb7">vehicle::max_reactor_epower</a></div><div class="ttdeci">units::power max_reactor_epower() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l05195">vehicle.cpp:5195</a></div></div>
<div class="ttc" id="aclassvehicle_html_af5921951f344c47c605f8406501b41ea"><div class="ttname"><a href="classvehicle.html#af5921951f344c47c605f8406501b41ea">vehicle::net_battery_charge_rate</a></div><div class="ttdeci">units::power net_battery_charge_rate(bool include_reactors) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l05157">vehicle.cpp:5157</a></div></div>
<div class="ttc" id="aclassvpart__reference_html"><div class="ttname"><a href="classvpart__reference.html">vpart_reference</a></div><div class="ttdoc">This is a wrapper over a vehicle pointer and a reference to a part of it.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00153">vpart_position.h:154</a></div></div>
<div class="ttc" id="acolor_8h_html_a1b1e3c0bef566a83c3535e38a93ad733"><div class="ttname"><a href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a></div><div class="ttdeci">#define c_light_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00017">color.h:17</a></div></div>
<div class="ttc" id="aflag_8cpp_html_a617ff8737418db1b70ad7c05f3044b7a"><div class="ttname"><a href="flag_8cpp.html#a617ff8737418db1b70ad7c05f3044b7a">flag_FROZEN</a></div><div class="ttdeci">const flag_id flag_FROZEN(&quot;FROZEN&quot;)</div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02overmap_8cpp_03_html_aaecb8214baec0f85fd5a4129133d9435"><div class="ttname"><a href="namespaceanonymous__namespace_02overmap_8cpp_03.html#aaecb8214baec0f85fd5a4129133d9435">anonymous_namespace{overmap.cpp}::specials</a></div><div class="ttdeci">generic_factory&lt; overmap_special &gt; specials(&quot;overmap special&quot;)</div></div>
<div class="ttc" id="anamespacedetails_html"><div class="ttname"><a href="namespacedetails.html">details</a></div><div class="ttdef"><b>Definition:</b> <a href="assign_8h_source.html#l00152">assign.h:153</a></div></div>
<div class="ttc" id="anamespacegame__menus_1_1inv_html_ac3a1cc6107728c90e65e9af775f7c279"><div class="ttname"><a href="namespacegame__menus_1_1inv.html#ac3a1cc6107728c90e65e9af775f7c279">game_menus::inv::compare</a></div><div class="ttdeci">void compare(avatar &amp;you, const std::optional&lt; tripoint &gt; &amp;offset)</div><div class="ttdef"><b>Definition:</b> <a href="game__inventory_8cpp_source.html#l02394">game_inventory.cpp:2394</a></div></div>
<div class="ttc" id="anamespaceunits_html_a087bd10745d16c81bbce09c6cc3f177e"><div class="ttname"><a href="namespaceunits.html#a087bd10745d16c81bbce09c6cc3f177e">units::to_kilowatt</a></div><div class="ttdeci">constexpr value_type to_kilowatt(const quantity&lt; value_type, power_in_milliwatt_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00632">units.h:632</a></div></div>
<div class="ttc" id="anamespaceunits_html_a4e18c5472c3f55e110fb16c9e0fe8c45"><div class="ttname"><a href="namespaceunits.html#a4e18c5472c3f55e110fb16c9e0fe8c45">units::to_liter</a></div><div class="ttdeci">constexpr double to_liter(const volume &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00321">units.h:321</a></div></div>
<div class="ttc" id="anamespaceunits_html_a58e7d31fbaa28a1dd45fb598f8d1fba9"><div class="ttname"><a href="namespaceunits.html#a58e7d31fbaa28a1dd45fb598f8d1fba9">units::legacy_volume_factor</a></div><div class="ttdeci">constexpr volume legacy_volume_factor</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00328">units.h:328</a></div></div>
<div class="ttc" id="anamespaceunits_html_a76c965afaad76c83c6caa338d1eb6777"><div class="ttname"><a href="namespaceunits.html#a76c965afaad76c83c6caa338d1eb6777">units::to_watt</a></div><div class="ttdeci">constexpr value_type to_watt(const quantity&lt; value_type, power_in_milliwatt_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00626">units.h:626</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aa6093ccb0ebc7f7ee1f11edd5cc2711c"><div class="ttname"><a href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a></div><div class="ttdeci">int right_print(const catacurses::window &amp;w, const int line, const int right_indent, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00574">output.cpp:574</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab7abbbd98907f496533db9bc2a02cf4a"><div class="ttname"><a href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a></div><div class="ttdeci">void trim_and_print(const catacurses::window &amp;w, const point &amp;begin, const int width, const nc_color &amp;base_color, const std::string &amp;text, const report_color_error color_error)</div><div class="ttdoc">Prints a single line of text.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00268">output.cpp:268</a></div></div>
<div class="ttc" id="astructinput__event_html"><div class="ttname"><a href="structinput__event.html">input_event</a></div><div class="ttdoc">An instance of an input, like a keypress etc.</div><div class="ttdef"><b>Definition:</b> <a href="input__enums_8h_source.html#l00063">input_enums.h:63</a></div></div>
<div class="ttc" id="astructitype_html"><div class="ttname"><a href="structitype.html">itype</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01186">itype.h:1186</a></div></div>
<div class="ttc" id="astructitype_html_a531f460f3ba31cb3e433f7e585e1d4e5"><div class="ttname"><a href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">itype::stack_size</a></div><div class="ttdeci">int stack_size</div><div class="ttdoc">Number of items per above volume for count_by_charges items.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01408">itype.h:1408</a></div></div>
<div class="ttc" id="astructitype_html_ad35fbe0013544c1c396944b20b264421"><div class="ttname"><a href="structitype.html#ad35fbe0013544c1c396944b20b264421">itype::nname</a></div><div class="ttdeci">std::string nname(unsigned int quantity) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00095">itype.cpp:95</a></div></div>
<div class="ttc" id="astructitype_html_af4d6fc9396d1e09f23d2008f974ac757"><div class="ttname"><a href="structitype.html#af4d6fc9396d1e09f23d2008f974ac757">itype::color</a></div><div class="ttdeci">nc_color color</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01420">itype.h:1420</a></div></div>
<div class="ttc" id="astructveh__interact_1_1part__option_html"><div class="ttname"><a href="structveh__interact_1_1part__option.html">veh_interact::part_option</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00195">veh_interact.h:195</a></div></div>
<div class="ttc" id="astructveh__interact_1_1part__option_html_acc4c92cc9fa9124d4e24fa819b5615e2"><div class="ttname"><a href="structveh__interact_1_1part__option.html#acc4c92cc9fa9124d4e24fa819b5615e2">veh_interact::part_option::key</a></div><div class="ttdeci">std::string key</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00208">veh_interact.h:208</a></div></div>
<div class="ttc" id="astructvehicle__part_html"><div class="ttname"><a href="structvehicle__part.html">vehicle_part</a></div><div class="ttdoc">Structure, describing vehicle part (i.e., wheel, seat)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00254">vehicle.h:254</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a0dc6c6a45b4f808954621730ed357b36"><div class="ttname"><a href="structvehicle__part.html#a0dc6c6a45b4f808954621730ed357b36">vehicle_part::is_leaking</a></div><div class="ttdeci">bool is_leaking() const</div><div class="ttdoc">is this part currently unable to retain to fluid/charge? this doesn't take into account whether or no...</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00608">vehicle_part.cpp:608</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a27a7cba7268cb7d3550ed2b7c9adc323"><div class="ttname"><a href="structvehicle__part.html#a27a7cba7268cb7d3550ed2b7c9adc323">vehicle_part::enabled</a></div><div class="ttdeci">bool enabled</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00507">vehicle.h:507</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a292597a6fa905ab0f16e405c4ca0425a"><div class="ttname"><a href="structvehicle__part.html#a292597a6fa905ab0f16e405c4ca0425a">vehicle_part::passenger_id</a></div><div class="ttdeci">character_id passenger_id</div><div class="ttdoc">ID of player passenger.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00510">vehicle.h:510</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a30aa1cb6fff83820663b1b170139553b"><div class="ttname"><a href="structvehicle__part.html#a30aa1cb6fff83820663b1b170139553b">vehicle_part::ammo_capacity</a></div><div class="ttdeci">int ammo_capacity(const ammotype &amp;ammo) const</div><div class="ttdoc">Maximum amount of fuel, charges or ammunition that can be contained by a part.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00261">vehicle_part.cpp:261</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a5122e284fbcf0f14f0e6022e01b5b574"><div class="ttname"><a href="structvehicle__part.html#a5122e284fbcf0f14f0e6022e01b5b574">vehicle_part::base</a></div><div class="ttdeci">item base</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00541">vehicle.h:541</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a9c6bf106558c9ed00536e2d7cb0e862d"><div class="ttname"><a href="structvehicle__part.html#a9c6bf106558c9ed00536e2d7cb0e862d">vehicle_part::ammo_remaining</a></div><div class="ttdeci">int ammo_remaining() const</div><div class="ttdoc">Amount of fuel, charges or ammunition currently contained by a part.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00298">vehicle_part.cpp:298</a></div></div>
<div class="ttc" id="astructvehicle__part_html_acb5dce028b917a59941ed0f4cb0a4491"><div class="ttname"><a href="structvehicle__part.html#acb5dce028b917a59941ed0f4cb0a4491">vehicle_part::crew</a></div><div class="ttdeci">npc * crew() const</div><div class="ttdoc">Get NPC currently assigned to this part (seat, turret etc)?</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00525">vehicle_part.cpp:525</a></div></div>
<div class="ttc" id="astructvehicle__part_html_ad32ebfa9316b0c3baaddea4efa9b7d96"><div class="ttname"><a href="structvehicle__part.html#ad32ebfa9316b0c3baaddea4efa9b7d96">vehicle_part::fuel_current</a></div><div class="ttdeci">itype_id fuel_current() const</div><div class="ttdoc">Type of fuel used by an engine.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00223">vehicle_part.cpp:223</a></div></div>
<div class="ttc" id="astructvehicle__part_html_ad8e149b4d200656c134e3f90f82f3fe4"><div class="ttname"><a href="structvehicle__part.html#ad8e149b4d200656c134e3f90f82f3fe4">vehicle_part::ammo_current</a></div><div class="ttdeci">itype_id ammo_current() const</div><div class="ttdoc">Specific type of fuel, charges or ammunition currently contained by a part.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00244">vehicle_part.cpp:244</a></div></div>
<div class="ttc" id="astructvehicle__part_html_af3f36462b727fe082320a4f75bf6597a"><div class="ttname"><a href="structvehicle__part.html#af3f36462b727fe082320a4f75bf6597a">vehicle_part::faults</a></div><div class="ttdeci">const std::set&lt; fault_id &gt; &amp; faults() const</div><div class="ttdoc">Current faults affecting this part (if any)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00501">vehicle_part.cpp:501</a></div></div>
<div class="ttc" id="aveh__interact_8cpp_html_a13798283d6d3fdd8f38838da9d52fd19"><div class="ttname"><a href="veh__interact_8cpp.html#a13798283d6d3fdd8f38838da9d52fd19">ammo_battery</a></div><div class="ttdeci">static const ammotype ammo_battery(&quot;battery&quot;)</div></div>
<div class="ttc" id="aveh__interact_8cpp_html_ac36048805dfb9355812e81d1db8377e5"><div class="ttname"><a href="veh__interact_8cpp.html#ac36048805dfb9355812e81d1db8377e5">health_color</a></div><div class="ttdeci">static std::string health_color(bool status)</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l00106">veh_interact.cpp:106</a></div></div>
<div class="ttc" id="aveh__interact_8h_html_a0cd1cb16e97c99f8fde8bbbd1ce25856"><div class="ttname"><a href="veh__interact_8h.html#a0cd1cb16e97c99f8fde8bbbd1ce25856">leak_marker</a></div><div class="ttdeci">const std::string leak_marker</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00047">veh_interact.h:47</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="input__context_8cpp_source.html#l01413">hotkey_queue::alphabets()</a>, <a class="el" href="veh__interact_8cpp.html#a13798283d6d3fdd8f38838da9d52fd19">ammo_battery</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00261">vehicle_part::ammo_capacity()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00244">vehicle_part::ammo_current()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00298">vehicle_part::ammo_remaining()</a>, <a class="el" href="vehicle_8h_source.html#l00541">vehicle_part::base</a>, <a class="el" href="color_8h_source.html#l00020">c_green</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="itype_8h_source.html#l01420">itype::color</a>, <a class="el" href="color_8cpp_source.html#l00742">colorize()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02394">game_menus::inv::compare()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00525">vehicle_part::crew()</a>, <a class="el" href="vehicle_8h_source.html#l00507">vehicle_part::enabled</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00501">vehicle_part::faults()</a>, <a class="el" href="item_8cpp_source.html#l14581">item::find_type()</a>, <a class="el" href="input__context_8cpp_source.html#l01332">input_context::first_unassigned_hotkey()</a>, <a class="el" href="flag_8cpp.html#a617ff8737418db1b70ad7c05f3044b7a">flag_FROZEN</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00223">vehicle_part::fuel_current()</a>, <a class="el" href="vehicle_8cpp_source.html#l08119">vehicle::get_all_parts()</a>, <a class="el" href="character_8cpp_source.html#l05731">Character::get_name()</a>, <a class="el" href="character_8cpp_source.html#l00652">Character::getID()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="item_8cpp_source.html#l07573">item::has_own_flag()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00106">health_color()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00608">vehicle_part::is_leaking()</a>, <a class="el" href="string__id_8h_source.html#l00322">string_id&lt; T &gt;::is_null()</a>, <a class="el" href="veh__interact_8h_source.html#l00208">veh_interact::part_option::key</a>, <a class="el" href="veh__interact_8h_source.html#l00047">leak_marker</a>, <a class="el" href="item_8cpp_source.html#l15170">item::legacy_front()</a>, <a class="el" href="units_8h_source.html#l00328">units::legacy_volume_factor</a>, <a class="el" href="veh__interact_8h_source.html#l00126">main_context</a>, <a class="el" href="vehicle_8cpp_source.html#l05195">vehicle::max_reactor_epower()</a>, <a class="el" href="veh__interact_8h_source.html#l00110">msg</a>, <a class="el" href="vehicle_8cpp_source.html#l05157">vehicle::net_battery_charge_rate()</a>, <a class="el" href="input__context_8cpp_source.html#l01342">input_context::next_unassigned_hotkey()</a>, <a class="el" href="item_8cpp_source.html#l14557">item::nname()</a>, <a class="el" href="itype_8cpp_source.html#l00095">itype::nname()</a>, <a class="el" href="veh__interact_8h_source.html#l00228">overview_action</a>, <a class="el" href="veh__interact_8h_source.html#l00227">overview_enable</a>, <a class="el" href="veh__interact_8h_source.html#l00224">overview_headers</a>, <a class="el" href="veh__interact_8h_source.html#l00223">overview_opts</a>, <a class="el" href="vehicle_8h_source.html#l00510">vehicle_part::passenger_id</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="catacharset_8cpp_source.html#l00137">right_justify()</a>, <a class="el" href="output_8cpp_source.html#l00574">right_print()</a>, <a class="el" href="item_8h_source.html#l01124">item::rotten()</a>, <a class="el" href="cata__utility_8cpp_source.html#l00054">round_up()</a>, <a class="el" href="namespaceanonymous__namespace_02overmap_8cpp_03.html#aaecb8214baec0f85fd5a4129133d9435">anonymous_namespace{overmap.cpp}::specials</a>, <a class="el" href="itype_8h_source.html#l01408">itype::stack_size</a>, <a class="el" href="cata__utility_8h_source.html#l00539">str_cat()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="units_8h_source.html#l00632">units::to_kilowatt()</a>, <a class="el" href="units_8h_source.html#l00321">units::to_liter()</a>, <a class="el" href="units_8h_source.html#l00626">units::to_watt()</a>, <a class="el" href="vehicle_8cpp_source.html#l03697">vehicle::total_power()</a>, <a class="el" href="output_8cpp_source.html#l00268">trim_and_print()</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, and <a class="el" href="item_8cpp_source.html#l07360">item::volume()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01796">do_remove()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l01619">overview()</a>.</p>

</div>
</div>
<a id="a3daff1624c04c6820a207d8c69dccbef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3daff1624c04c6820a207d8c69dccbef">&#9670;&nbsp;</a></span>can_potentially_install()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool veh_interact::can_potentially_install </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classvpart__info.html">vpart_info</a> &amp;&#160;</td>
          <td class="paramname"><em>vpart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks to see if you can potentially install this part at current position. </p>
<p>Affects coloring in <a class="el" href="classveh__interact.html#a1e342fdc47463b25bf1681b9d72b8f05" title="Draws the list of parts that can be mounted in the selected square.">display_list()</a> and is also used to sort can_mount so potentially installable parts come first. </p>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l02195">2195</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;{</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <span class="keywordtype">bool</span> engine_reqs_met = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    <span class="keywordtype">bool</span> can_make = vpart.<a class="code" href="classvpart__info.html#aace91a24e6194a874cb468bb237368ea">install_requirements</a>().<a class="code" href="structrequirement__data.html#a07c67f146358ed0de2aface7588c20d2">can_make_with_inventory</a>( *<a class="code" href="classveh__interact.html#a9bd0a67379700415011dd6d0a3097126">crafting_inv</a>,</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;                    <a class="code" href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a> );</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    <span class="keywordtype">bool</span> hammerspace = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="veh__interact_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> );</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160; </div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    <span class="keywordtype">int</span> engines = 0;</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    <span class="keywordflow">if</span>( vpart.<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea29303a852c248ddb989e3ea9b8e95354">VPFLAG_ENGINE</a> ) &amp;&amp; vpart.<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;E_HIGHER_SKILL&quot;</span> ) ) {</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp;vp : <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a1b64eabc86039e338bf054c96f5a26ff">get_avail_parts</a>( <span class="stringliteral">&quot;ENGINE&quot;</span> ) ) {</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;            <span class="keywordflow">if</span>( vp.has_feature( <span class="stringliteral">&quot;E_HIGHER_SKILL&quot;</span> ) ) {</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;                engines++;</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;            }</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;        }</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;        engine_reqs_met = engines &lt; 2;</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    }</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160; </div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    <span class="keywordflow">return</span> hammerspace || ( can_make &amp;&amp; engine_reqs_met &amp;&amp; !vpart.<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8f0159e32409b47888df99c01106fdb5">VPFLAG_APPLIANCE</a> ) );</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;}</div>
<div class="ttc" id="aclassvehicle_html_a1b64eabc86039e338bf054c96f5a26ff"><div class="ttname"><a href="classvehicle.html#a1b64eabc86039e338bf054c96f5a26ff">vehicle::get_avail_parts</a></div><div class="ttdeci">vehicle_part_with_feature_range&lt; std::string &gt; get_avail_parts(std::string feature) const</div><div class="ttdoc">Yields a range of parts of this vehicle that each have the given feature and are available: not broke...</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03007">vehicle.cpp:3007</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aace91a24e6194a874cb468bb237368ea"><div class="ttname"><a href="classvpart__info.html#aace91a24e6194a874cb468bb237368ea">vpart_info::install_requirements</a></div><div class="ttdeci">requirement_data install_requirements() const</div><div class="ttdoc">Installation requirements for this component.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01072">veh_type.cpp:1072</a></div></div>
<div class="ttc" id="aitem_8h_html_a64c6001518eb0b959300f427a0086eb0"><div class="ttname"><a href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a></div><div class="ttdeci">bool is_crafting_component(const item &amp;component)</div><div class="ttdoc">Default filter for crafting component searches.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03267">item.h:3267</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a07c67f146358ed0de2aface7588c20d2"><div class="ttname"><a href="structrequirement__data.html#a07c67f146358ed0de2aface7588c20d2">requirement_data::can_make_with_inventory</a></div><div class="ttdeci">bool can_make_with_inventory(const read_only_visitable &amp;crafting_inv, const std::function&lt; bool(const item &amp;)&gt; &amp;filter, int batch=1, craft_flags=craft_flags::none) const</div><div class="ttdoc">Returns true if the requirements are fulfilled by the filtered inventory.</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00840">requirements.cpp:840</a></div></div>
<div class="ttc" id="aveh__interact_8cpp_html_a2ba9e40123e7b42ccc2327d637311c5a"><div class="ttname"><a href="veh__interact_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a></div><div class="ttdeci">static const trait_id trait_DEBUG_HS(&quot;DEBUG_HS&quot;)</div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea29303a852c248ddb989e3ea9b8e95354"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea29303a852c248ddb989e3ea9b8e95354">VPFLAG_ENGINE</a></div><div class="ttdeci">@ VPFLAG_ENGINE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00088">veh_type.h:88</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea8f0159e32409b47888df99c01106fdb5"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8f0159e32409b47888df99c01106fdb5">VPFLAG_APPLIANCE</a></div><div class="ttdeci">@ VPFLAG_APPLIANCE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00059">veh_type.h:59</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="requirements_8cpp_source.html#l00840">requirement_data::can_make_with_inventory()</a>, <a class="el" href="veh__interact_8h_source.html#l00125">crafting_inv</a>, <a class="el" href="vehicle_8cpp_source.html#l03007">vehicle::get_avail_parts()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="veh__type_8h_source.html#l00256">vpart_info::has_flag()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="veh__type_8cpp_source.html#l01072">vpart_info::install_requirements()</a>, <a class="el" href="item_8h_source.html#l03267">is_crafting_component()</a>, <a class="el" href="veh__interact_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, <a class="el" href="veh__type_8h_source.html#l00059">VPFLAG_APPLIANCE</a>, and <a class="el" href="veh__type_8h_source.html#l00088">VPFLAG_ENGINE</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02781">display_list()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02220">move_cursor()</a>.</p>

</div>
</div>
<a id="a904216cd38acab4433a6f7cf5855e143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a904216cd38acab4433a6f7cf5855e143">&#9670;&nbsp;</a></span>can_remove_part()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool veh_interact::can_remove_part </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>you</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l01734">1734</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;{</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <a class="code" href="classveh__interact.html#ab8d1717957cc0fe8d50c402e9e625796">sel_vehicle_part</a> = &amp;<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( idx );</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a> = &amp;<a class="code" href="classveh__interact.html#ab8d1717957cc0fe8d50c402e9e625796">sel_vehicle_part</a>-&gt;<a class="code" href="structvehicle__part.html#a002a1023cd1a96d43556a1b912ebd27b">info</a>();</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    std::string nmsg;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="keywordtype">bool</span> smash_remove = <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;SMASH_REMOVE&quot;</span> );</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160; </div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#aca3ae013973cb492b14967e574189c1c">has_part</a>( <span class="stringliteral">&quot;NO_MODIFY_VEHICLE&quot;</span> ) &amp;&amp; !<a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;SIMPLE_PART&quot;</span> ) &amp;&amp;</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        !smash_remove ) {</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;This vehicle cannot be modified in this way.\n&quot;</span> );</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;NO_UNINSTALL&quot;</span> ) ) {</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;This part cannot be uninstalled.\n&quot;</span> );</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    }</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160; </div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ab8d1717957cc0fe8d50c402e9e625796">sel_vehicle_part</a>-&gt;<a class="code" href="structvehicle__part.html#aeee4fac34f34d6c9ff557fde6590439d">is_broken</a>() ) {</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        nmsg += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_white&gt;Removing the broken %1$s may yield some fragments.&lt;/color&gt;\n&quot;</span> ),</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                    <a class="code" href="classveh__interact.html#ab8d1717957cc0fe8d50c402e9e625796">sel_vehicle_part</a>-&gt;<a class="code" href="structvehicle__part.html#a1c555386664b5d61de6bac27572c5c4f">name</a>() );</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( smash_remove ) {</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;        std::set&lt;std::string&gt; removed_names;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it : <a class="code" href="classveh__interact.html#ab8d1717957cc0fe8d50c402e9e625796">sel_vehicle_part</a>-&gt;<a class="code" href="structvehicle__part.html#aec400b6cd298c1e889ad4698f1240ae9">pieces_for_broken_part</a>() ) {</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;            removed_names.insert( it.tname() );</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        }</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;        nmsg += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_white&gt;Removing the %1$s may yield:&lt;/color&gt;\n&gt; %2$s\n&quot;</span> ),</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                               <a class="code" href="classveh__interact.html#ab8d1717957cc0fe8d50c402e9e625796">sel_vehicle_part</a>-&gt;<a class="code" href="structvehicle__part.html#a1c555386664b5d61de6bac27572c5c4f">name</a>(), <a class="code" href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a>( removed_names ) );</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;        <a class="code" href="classitem.html">item</a> result_of_removal = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ab71b8900d65472420c6856803b216121">part_to_item</a>( *<a class="code" href="classveh__interact.html#ab8d1717957cc0fe8d50c402e9e625796">sel_vehicle_part</a> );</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        nmsg += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_white&gt;Removing the %1$s will yield:&lt;/color&gt;\n&gt; %2$s\n&quot;</span> ),</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                    <a class="code" href="classveh__interact.html#ab8d1717957cc0fe8d50c402e9e625796">sel_vehicle_part</a>-&gt;<a class="code" href="structvehicle__part.html#a1c555386664b5d61de6bac27572c5c4f">name</a>(), result_of_removal.<a class="code" href="classitem.html#a893525fea93fa0a45a51edeb64f1b973">display_name</a>() );</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it : <a class="code" href="classveh__interact.html#ab8d1717957cc0fe8d50c402e9e625796">sel_vehicle_part</a>-&gt;<a class="code" href="structvehicle__part.html#a0803af7d923884e7bf00973a8fb95b79">get_salvageable</a>() ) {</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;            nmsg += <span class="stringliteral">&quot;&gt; &quot;</span> + it.display_name() + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        }</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    }</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160; </div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keyword">const</span> <a class="code" href="structrequirement__data.html">requirement_data</a> reqs = <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#a80c8ca1cb460e5dc98ac2ea75aaf83b9">removal_requirements</a>();</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = <a class="code" href="classveh__interact.html#ab66721e4f0b0bc585aa64a578e94155b">format_reqs</a>( nmsg, reqs, <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#a269038d27c228c2175b1504c57b45ef9">removal_skills</a>,</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                           <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#adb605c37759929cf83dd75a78edc8c76">removal_time</a>( you ) );</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160; </div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    nmsg += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_white&gt;Additional requirements:&lt;/color&gt;\n&quot;</span> );</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160; </div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    std::pair&lt;bool, std::string&gt; res = <a class="code" href="classveh__interact.html#aefc4c42ac9773cc065fb7d3999d81b85">calc_lift_requirements</a>( *<a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a> );</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <span class="keywordflow">if</span>( !res.first ) {</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = res.first;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    }</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    nmsg += res.second;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160; </div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <span class="keyword">const</span> <a class="code" href="classret__val_3_01void_01_4.html">ret_val&lt;void&gt;</a> unmount = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a04214bab12b10efb4a6e47e82a3aad22">can_unmount</a>( *<a class="code" href="classveh__interact.html#ab8d1717957cc0fe8d50c402e9e625796">sel_vehicle_part</a> );</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <span class="keywordflow">if</span>( !unmount.<a class="code" href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">success</a>() ) {</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        <span class="comment">//~ %1$s represents the internal color name which shouldn&#39;t be translated, %2$s is pre-translated reason</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        nmsg += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&gt; %1$s%2$s&lt;/color&gt;&quot;</span> ), <a class="code" href="veh__interact_8cpp.html#a97001580d6d2cebd945222ba6fe1a56d">status_color</a>( <span class="keyword">false</span> ), unmount.<a class="code" href="classret__val__common.html#adf8af6e05bb9773c0b77b4299ba13c6c">str</a>() ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;        <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    }</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="keyword">const</span> <a class="code" href="classnc__color.html">nc_color</a> desc_color = <a class="code" href="classveh__interact.html#ab8d1717957cc0fe8d50c402e9e625796">sel_vehicle_part</a>-&gt;<a class="code" href="structvehicle__part.html#aeee4fac34f34d6c9ff557fde6590439d">is_broken</a>() ? <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a> : <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <a class="code" href="classveh__interact.html#ab8d1717957cc0fe8d50c402e9e625796">sel_vehicle_part</a>-&gt;<a class="code" href="structvehicle__part.html#a002a1023cd1a96d43556a1b912ebd27b">info</a>().<a class="code" href="classvpart__info.html#aedacbd352267de4aef1ca01183956df8">format_description</a>( nmsg, desc_color, <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a8fbae1471a0f80d1618c704a880d133b">w_msg</a> ) - 4 );</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160; </div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( nmsg, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> );</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> || <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>().<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="veh__interact_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> );</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;}</div>
<div class="ttc" id="aclassitem_html_a893525fea93fa0a45a51edeb64f1b973"><div class="ttname"><a href="classitem.html#a893525fea93fa0a45a51edeb64f1b973">item::display_name</a></div><div class="ttdeci">std::string display_name(unsigned int quantity=1) const</div><div class="ttdoc">Returns the item name and the charges or contained charges (if the item can have charges at all).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06855">item.cpp:6855</a></div></div>
<div class="ttc" id="aclassret__val_3_01void_01_4_html"><div class="ttname"><a href="classret__val_3_01void_01_4.html">ret_val&lt; void &gt;</a></div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00103">ret_val.h:104</a></div></div>
<div class="ttc" id="aclassret__val__common_html_a933807b816264e791e488ed5e7abb1c3"><div class="ttname"><a href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">ret_val_common::success</a></div><div class="ttdeci">bool success() const</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00013">ret_val.h:13</a></div></div>
<div class="ttc" id="aclassret__val__common_html_adf8af6e05bb9773c0b77b4299ba13c6c"><div class="ttname"><a href="classret__val__common.html#adf8af6e05bb9773c0b77b4299ba13c6c">ret_val_common::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00017">ret_val.h:17</a></div></div>
<div class="ttc" id="aclassveh__interact_html_ab66721e4f0b0bc585aa64a578e94155b"><div class="ttname"><a href="classveh__interact.html#ab66721e4f0b0bc585aa64a578e94155b">veh_interact::format_reqs</a></div><div class="ttdeci">bool format_reqs(std::string &amp;msg, const requirement_data &amp;reqs, const std::map&lt; skill_id, int &gt; &amp;skills, time_duration time) const</div><div class="ttdoc">Format list of requirements returning true if all are met.</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l00349">veh_interact.cpp:349</a></div></div>
<div class="ttc" id="aclassveh__interact_html_ab8d1717957cc0fe8d50c402e9e625796"><div class="ttname"><a href="classveh__interact.html#ab8d1717957cc0fe8d50c402e9e625796">veh_interact::sel_vehicle_part</a></div><div class="ttdeci">const vehicle_part * sel_vehicle_part</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00081">veh_interact.h:81</a></div></div>
<div class="ttc" id="aclassveh__interact_html_aefc4c42ac9773cc065fb7d3999d81b85"><div class="ttname"><a href="classveh__interact.html#aefc4c42ac9773cc065fb7d3999d81b85">veh_interact::calc_lift_requirements</a></div><div class="ttdeci">std::pair&lt; bool, std::string &gt; calc_lift_requirements(const vpart_info &amp;sel_vpart_info)</div><div class="ttdoc">Calculates the lift requirements for a given vehicle_part.</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02096">veh_interact.cpp:2096</a></div></div>
<div class="ttc" id="aclassvehicle_html_a04214bab12b10efb4a6e47e82a3aad22"><div class="ttname"><a href="classvehicle.html#a04214bab12b10efb4a6e47e82a3aad22">vehicle::can_unmount</a></div><div class="ttdeci">ret_val&lt; void &gt; can_unmount(const vehicle_part &amp;vp_to_remove, bool allow_splits=false) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l01296">vehicle.cpp:1296</a></div></div>
<div class="ttc" id="aclassvehicle_html_ab71b8900d65472420c6856803b216121"><div class="ttname"><a href="classvehicle.html#ab71b8900d65472420c6856803b216121">vehicle::part_to_item</a></div><div class="ttdeci">item part_to_item(const vehicle_part &amp;vp) const</div><div class="ttdoc">Generate the corresponding item from this vehicle part.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l08223">vehicle.cpp:8223</a></div></div>
<div class="ttc" id="aclassvehicle_html_aca3ae013973cb492b14967e574189c1c"><div class="ttname"><a href="classvehicle.html#aca3ae013973cb492b14967e574189c1c">vehicle::has_part</a></div><div class="ttdeci">bool has_part(const std::string &amp;flag, bool enabled=false) const</div><div class="ttdoc">Check if vehicle has at least one unbroken part with specified flag.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02827">vehicle.cpp:2827</a></div></div>
<div class="ttc" id="aclassvehicle_html_acdb2ebf673a32f657ac9e29b842ee7f5"><div class="ttname"><a href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">vehicle::part</a></div><div class="ttdeci">vehicle_part &amp; part(int part_num)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l08098">vehicle.cpp:8098</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a269038d27c228c2175b1504c57b45ef9"><div class="ttname"><a href="classvpart__info.html#a269038d27c228c2175b1504c57b45ef9">vpart_info::removal_skills</a></div><div class="ttdeci">std::map&lt; skill_id, int &gt; removal_skills</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00351">veh_type.h:351</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a80c8ca1cb460e5dc98ac2ea75aaf83b9"><div class="ttname"><a href="classvpart__info.html#a80c8ca1cb460e5dc98ac2ea75aaf83b9">vpart_info::removal_requirements</a></div><div class="ttdeci">requirement_data removal_requirements() const</div><div class="ttdoc">Requirements for removal of this component.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01077">veh_type.cpp:1077</a></div></div>
<div class="ttc" id="aclassvpart__info_html_adb605c37759929cf83dd75a78edc8c76"><div class="ttname"><a href="classvpart__info.html#adb605c37759929cf83dd75a78edc8c76">vpart_info::removal_time</a></div><div class="ttdeci">time_duration removal_time(const Character &amp;you) const</div><div class="ttdoc">Removal time (in moves) for this component accounting for player skills.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01116">veh_type.cpp:1116</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aedacbd352267de4aef1ca01183956df8"><div class="ttname"><a href="classvpart__info.html#aedacbd352267de4aef1ca01183956df8">vpart_info::format_description</a></div><div class="ttdeci">int format_description(std::string &amp;msg, const nc_color &amp;format_color, int width) const</div><div class="ttdoc">Format the description for display.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00977">veh_type.cpp:977</a></div></div>
<div class="ttc" id="aoutput_8h_html_a4be67498ee67b5186fcae5cf706f7512"><div class="ttname"><a href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a></div><div class="ttdeci">std::string enumerate_as_string(const Container &amp;values, enumeration_conjunction conj=enumeration_conjunction::and_)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00647">output.h:647</a></div></div>
<div class="ttc" id="astructrequirement__data_html"><div class="ttname"><a href="structrequirement__data.html">requirement_data</a></div><div class="ttdoc">The *_vector members represent list of alternatives requirements: alter_tool_comp_vector = { * { { a,...</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00209">requirements.h:209</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a002a1023cd1a96d43556a1b912ebd27b"><div class="ttname"><a href="structvehicle__part.html#a002a1023cd1a96d43556a1b912ebd27b">vehicle_part::info</a></div><div class="ttdeci">const vpart_info &amp; info() const</div><div class="ttdoc">Get part definition common to all parts of this type.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00623">vehicle_part.cpp:623</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a0803af7d923884e7bf00973a8fb95b79"><div class="ttname"><a href="structvehicle__part.html#a0803af7d923884e7bf00973a8fb95b79">vehicle_part::get_salvageable</a></div><div class="ttdeci">std::vector&lt; item &gt; get_salvageable() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00071">vehicle_part.cpp:71</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a1c555386664b5d61de6bac27572c5c4f"><div class="ttname"><a href="structvehicle__part.html#a1c555386664b5d61de6bac27572c5c4f">vehicle_part::name</a></div><div class="ttdeci">std::string name(bool with_prefix=true) const</div><div class="ttdoc">Translated name of a part inclusive of any current status effects with_prefix as true indicates the d...</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00113">vehicle_part.cpp:113</a></div></div>
<div class="ttc" id="astructvehicle__part_html_aec400b6cd298c1e889ad4698f1240ae9"><div class="ttname"><a href="structvehicle__part.html#aec400b6cd298c1e889ad4698f1240ae9">vehicle_part::pieces_for_broken_part</a></div><div class="ttdeci">item_group::ItemList pieces_for_broken_part() const</div><div class="ttdoc">Returns an ItemList of the pieces that should arise from breaking this part.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02558">vehicle.cpp:2558</a></div></div>
<div class="ttc" id="astructvehicle__part_html_aeee4fac34f34d6c9ff557fde6590439d"><div class="ttname"><a href="structvehicle__part.html#aeee4fac34f34d6c9ff557fde6590439d">vehicle_part::is_broken</a></div><div class="ttdeci">bool is_broken() const</div><div class="ttdoc">parts are considered broken at zero health</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00200">vehicle_part.cpp:200</a></div></div>
<div class="ttc" id="aveh__interact_8cpp_html_a97001580d6d2cebd945222ba6fe1a56d"><div class="ttname"><a href="veh__interact_8cpp.html#a97001580d6d2cebd945222ba6fe1a56d">status_color</a></div><div class="ttdeci">static std::string status_color(bool status)</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l00102">veh_interact.cpp:102</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="color_8h_source.html#l00018">c_dark_gray</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="veh__interact_8cpp_source.html#l02096">calc_lift_requirements()</a>, <a class="el" href="vehicle_8cpp_source.html#l01296">vehicle::can_unmount()</a>, <a class="el" href="color_8cpp_source.html#l00742">colorize()</a>, <a class="el" href="item_8cpp_source.html#l06855">item::display_name()</a>, <a class="el" href="output_8h_source.html#l00647">enumerate_as_string()</a>, <a class="el" href="veh__type_8cpp_source.html#l00977">vpart_info::format_description()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00349">format_reqs()</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00071">vehicle_part::get_salvageable()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="veh__type_8h_source.html#l00256">vpart_info::has_flag()</a>, <a class="el" href="vehicle_8cpp_source.html#l02827">vehicle::has_part()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00623">vehicle_part::info()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00200">vehicle_part::is_broken()</a>, <a class="el" href="veh__interact_8h_source.html#l00110">msg</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00113">vehicle_part::name()</a>, <a class="el" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a>, <a class="el" href="vehicle_8cpp_source.html#l08098">vehicle::part()</a>, <a class="el" href="vehicle_8cpp_source.html#l08223">vehicle::part_to_item()</a>, <a class="el" href="vehicle_8cpp_source.html#l02558">vehicle_part::pieces_for_broken_part()</a>, <a class="el" href="veh__type_8cpp_source.html#l01077">vpart_info::removal_requirements()</a>, <a class="el" href="veh__type_8h_source.html#l00351">vpart_info::removal_skills</a>, <a class="el" href="veh__type_8cpp_source.html#l01116">vpart_info::removal_time()</a>, <a class="el" href="veh__interact_8h_source.html#l00081">sel_vehicle_part</a>, <a class="el" href="veh__interact_8h_source.html#l00082">sel_vpart_info</a>, <a class="el" href="veh__interact_8cpp_source.html#l00102">status_color()</a>, <a class="el" href="ret__val_8h_source.html#l00017">ret_val_common::str()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="ret__val_8h_source.html#l00013">ret_val_common::success()</a>, <a class="el" href="veh__interact_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, and <a class="el" href="veh__interact_8h_source.html#l00096">w_msg</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01796">do_remove()</a>.</p>

</div>
</div>
<a id="a22775e5e632812226afd1b1f1314be6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22775e5e632812226afd1b1f1314be6a">&#9670;&nbsp;</a></span>can_self_jack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool veh_interact::can_self_jack </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the vehicle has a jack powerful enough to lift itself installed. </p>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l00768">768</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;{</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordtype">int</span> lvl = <a class="code" href="veh__interact_8cpp.html#a16b51dc391ef4c2c4d881f16fa297f1c">jack_quality</a>( *<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a> );</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp;vp : <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a1b64eabc86039e338bf054c96f5a26ff">get_avail_parts</a>( <span class="stringliteral">&quot;SELF_JACK&quot;</span> ) ) {</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <span class="keywordflow">if</span>( vp.part().base.has_quality( <a class="code" href="veh__interact_8cpp.html#a2be4354317271d232bf0f0d47b77f033">qual_SELF_JACK</a>, lvl ) ) {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;}</div>
<div class="ttc" id="aveh__interact_8cpp_html_a2be4354317271d232bf0f0d47b77f033"><div class="ttname"><a href="veh__interact_8cpp.html#a2be4354317271d232bf0f0d47b77f033">qual_SELF_JACK</a></div><div class="ttdeci">static const quality_id qual_SELF_JACK(&quot;SELF_JACK&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vehicle_8cpp_source.html#l03007">vehicle::get_avail_parts()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00115">jack_quality()</a>, <a class="el" href="veh__interact_8cpp.html#a2be4354317271d232bf0f0d47b77f033">qual_SELF_JACK</a>, and <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02096">calc_lift_requirements()</a>.</p>

</div>
</div>
<a id="a1a7040abf1b0a4586a878f853ef242fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a7040abf1b0a4586a878f853ef242fd">&#9670;&nbsp;</a></span>cant_do()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8">task_reason</a> veh_interact::cant_do </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the player is able to perform some command, and returns a nonzero error code if they are unable to perform it. </p>
<p>The return from this function should be passed into the various do_whatever functions further down. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>The command the player is trying to perform (i.e. 'r' for repair). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CAN_DO if the player has everything they need, INVALID_TARGET if the command can't target that square, LACK_TOOLS if the player lacks tools, NOT_FREE if something else obstructs the action, LACK_SKILL if the player's skill isn't high enough, LOW_MORALE if the player's morale is too low while trying to perform an action requiring a minimum morale, UNKNOWN_TASK if the requested operation is unrecognized. </dd></dl>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l00631">631</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;{</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordtype">bool</span> enough_morale = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordtype">bool</span> valid_target = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordtype">bool</span> has_tools = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordtype">bool</span> part_free = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordtype">bool</span> has_skill = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordtype">bool</span> enough_light = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keyword">const</span> <a class="code" href="classvehicle__part__range.html">vehicle_part_range</a> vpr = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a397b40aa92dd1fd09ee592aa279bc656">get_all_parts</a>();</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">switch</span>( mode ) {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <span class="comment">// install mode</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            enough_morale = player_character.<a class="code" href="classCharacter.html#a9ca7c0c3d959ba59a58203261e051acd">has_morale_to_craft</a>();</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            valid_target = !<a class="code" href="classveh__interact.html#a946c417657ac527bc9e02c6553ae6234">can_mount</a>.empty();</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <span class="comment">//tool checks processed later</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            enough_light = player_character.<a class="code" href="classCharacter.html#a2e48b53e07d4a302039de49cacec41f2">fine_detail_vision_mod</a>() &lt;= 4;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            has_tools = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>:</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            <span class="comment">// repair mode</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            enough_morale = player_character.<a class="code" href="classCharacter.html#a9ca7c0c3d959ba59a58203261e051acd">has_morale_to_craft</a>();</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            valid_target = !<a class="code" href="classveh__interact.html#a5b02b8684bf980c01fa581d7f10d837d">need_repair</a>.empty() &amp;&amp; <a class="code" href="classveh__interact.html#a354e576739b8ec01d1327e31b17ca64c">cpart</a> &gt;= 0;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <span class="comment">// checked later</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            has_tools = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            enough_light = player_character.<a class="code" href="classCharacter.html#a2e48b53e07d4a302039de49cacec41f2">fine_detail_vision_mod</a>() &lt;= 4;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>: {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <span class="comment">// mend mode</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            enough_morale = player_character.<a class="code" href="classCharacter.html#a9ca7c0c3d959ba59a58203261e051acd">has_morale_to_craft</a>();</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> toggling = player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="veh__interact_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> );</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            valid_target = std::any_of( vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a822ae177a963bb07078c871f92d7e10b">begin</a>(), vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a9b3573598b7bdd91fa3d789602799a1b">end</a>(), [toggling]( <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp; pt ) {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                if( toggling ) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                    return pt.part().is_available() &amp;&amp; !pt.part().faults_potential().empty();</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                    return pt.part().is_available() &amp;&amp; !pt.part().faults().empty();</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            } );</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            enough_light = player_character.<a class="code" href="classCharacter.html#a2e48b53e07d4a302039de49cacec41f2">fine_detail_vision_mod</a>() &lt;= 4;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            <span class="comment">// checked later</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            has_tools = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>:</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            valid_target = std::any_of( vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a822ae177a963bb07078c871f92d7e10b">begin</a>(), vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a9b3573598b7bdd91fa3d789602799a1b">end</a>(), []( <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp; pt ) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                return can_refill( pt.part() );</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            } );</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            has_tools = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;o&#39;</span>:</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <span class="comment">// remove mode</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            enough_morale = player_character.<a class="code" href="classCharacter.html#a9ca7c0c3d959ba59a58203261e051acd">has_morale_to_craft</a>();</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            valid_target = <a class="code" href="classveh__interact.html#a354e576739b8ec01d1327e31b17ca64c">cpart</a> &gt;= 0;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            part_free = <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a>.size() &gt; 1 ||</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                        ( <a class="code" href="classveh__interact.html#a354e576739b8ec01d1327e31b17ca64c">cpart</a> &gt;= 0 &amp;&amp; <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a04214bab12b10efb4a6e47e82a3aad22">can_unmount</a>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( <a class="code" href="classveh__interact.html#a354e576739b8ec01d1327e31b17ca64c">cpart</a> ) ).<a class="code" href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">success</a>() );</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            <span class="comment">//tool and skill checks processed later</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            has_tools = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            has_skill = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            enough_light = player_character.<a class="code" href="classCharacter.html#a2e48b53e07d4a302039de49cacec41f2">fine_detail_vision_mod</a>() &lt;= 4;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            <span class="comment">// siphon mode</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            valid_target = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp;vp : <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#adfbc0794c9bb9a5f1d75e1c52a2e561a">get_any_parts</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea48ec568cb559d3865b26e7b304bb559e">VPFLAG_FLUIDTANK</a> ) ) {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                <span class="keywordflow">if</span>( vp.part().base.has_item_with( []( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                <span class="keywordflow">return</span> it.<a class="code" href="classitem.html#a0795ac0d3e2ba958ab3a6ff4e282482b">made_of</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> );</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                } ) ) {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                    valid_target = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                }</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            has_tools = player_character.<a class="code" href="classCharacter.html#ace218285f4fbc7c7a9feac8378bc632e">crafting_inventory</a>( <span class="keyword">false</span> ).<a class="code" href="classinventory.html#a8646038685427ab8967fd8ea2ee36e92">has_quality</a>( <a class="code" href="veh__interact_8cpp.html#ab3cc18d6e0d2d1ee46bbb6b892ccdde4">qual_HOSE</a> );</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            <span class="comment">// unload mode</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            valid_target = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            has_tools = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;e : <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#af104b67f7b35e092414fd2efa9f2da05">fuels_left</a>() ) {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                <span class="keywordflow">if</span>( e.first != <a class="code" href="veh__interact_8cpp.html#a3f2436294a28dc686156c10abab2f994">fuel_type_battery</a> &amp;&amp; <a class="code" href="classitem.html#a11cf8d500b6d8106302470dce5ca9177">item::find_type</a>( e.first )-&gt;<a class="code" href="structitype.html#a3d7692cff108d3b8c59ca0847d25a45c">phase</a> == <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5ad0dea69649a83749aa6bdf176092e8c9">phase_id::SOLID</a> ) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                    valid_target = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;w&#39;</span>:</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            <span class="comment">// assign crew</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;allies().empty() ) {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">task_reason::INVALID_TARGET</a>;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            <span class="keywordflow">return</span> std::any_of( vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a822ae177a963bb07078c871f92d7e10b">begin</a>(), vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a9b3573598b7bdd91fa3d789602799a1b">end</a>(), []( <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp; e ) {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                return e.part().is_seat();</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            } ) ? <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8acff9bc654de7362ba8417e55c917a1c8">task_reason::CAN_DO</a> : <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">task_reason::INVALID_TARGET</a>;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160; </div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="comment">// change part shape</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="comment">// intentional fall-through</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <span class="comment">// relabel</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            valid_target = <a class="code" href="classveh__interact.html#a354e576739b8ec01d1327e31b17ca64c">cpart</a> &gt;= 0;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            has_tools = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a17f08acbbe05562312799fdb316b4730">task_reason::UNKNOWN_TASK</a>;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    }</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160; </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a4d83e86fe57ec6126893a68f68c3c304">velocity</a> ) &gt; 100 || player_character.<a class="code" href="classCharacter.html#a0701e6a3f1987d9fa3f76b450dd5624a">controlling_vehicle</a> ) {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8aa28aee4213e36855bcd2cc87a6cb780f">task_reason::MOVING_VEHICLE</a>;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    }</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">if</span>( !valid_target ) {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">task_reason::INVALID_TARGET</a>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    }</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">if</span>( !enough_morale ) {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a354f9f7371cd259a5bd11ef1f0404def">task_reason::LOW_MORALE</a>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">if</span>( !enough_light ) {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a387ed9ae8934c7ccb29f0ac78591ad13">task_reason::LOW_LIGHT</a>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">if</span>( !has_tools ) {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ae04bc3351bcc52f4202e8eb0332b6fef">task_reason::LACK_TOOLS</a>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    }</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">if</span>( !part_free ) {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a49e8dc1c17584b200ebeb4b1d0dede0e">task_reason::NOT_FREE</a>;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    }</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="comment">// TODO: that is always false!</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">if</span>( !has_skill ) {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a93fc5bc8d23b10edcf5fb58cb23e71c7">task_reason::LACK_SKILL</a>;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    }</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8acff9bc654de7362ba8417e55c917a1c8">task_reason::CAN_DO</a>;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a0701e6a3f1987d9fa3f76b450dd5624a"><div class="ttname"><a href="classCharacter.html#a0701e6a3f1987d9fa3f76b450dd5624a">Character::controlling_vehicle</a></div><div class="ttdeci">bool controlling_vehicle</div><div class="ttdoc">Is currently in control of a vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00559">character.h:559</a></div></div>
<div class="ttc" id="aclassCharacter_html_a2e48b53e07d4a302039de49cacec41f2"><div class="ttname"><a href="classCharacter.html#a2e48b53e07d4a302039de49cacec41f2">Character::fine_detail_vision_mod</a></div><div class="ttdeci">float fine_detail_vision_mod(const tripoint &amp;p=tripoint_min) const</div><div class="ttdoc">Returns a value from 1.0 to 11.0 that acts as a multiplier for the time taken to perform tasks that r...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02791">character.cpp:2791</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9ca7c0c3d959ba59a58203261e051acd"><div class="ttname"><a href="classCharacter.html#a9ca7c0c3d959ba59a58203261e051acd">Character::has_morale_to_craft</a></div><div class="ttdeci">bool has_morale_to_craft() const</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00389">crafting.cpp:389</a></div></div>
<div class="ttc" id="aclassgeneric__vehicle__part__range_html_a822ae177a963bb07078c871f92d7e10b"><div class="ttname"><a href="classgeneric__vehicle__part__range.html#a822ae177a963bb07078c871f92d7e10b">generic_vehicle_part_range::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="vpart__range_8h_source.html#l00123">vpart_range.h:123</a></div></div>
<div class="ttc" id="aclassgeneric__vehicle__part__range_html_a9b3573598b7bdd91fa3d789602799a1b"><div class="ttname"><a href="classgeneric__vehicle__part__range.html#a9b3573598b7bdd91fa3d789602799a1b">generic_vehicle_part_range::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="vpart__range_8h_source.html#l00126">vpart_range.h:126</a></div></div>
<div class="ttc" id="aclassinventory_html_a8646038685427ab8967fd8ea2ee36e92"><div class="ttname"><a href="classinventory.html#a8646038685427ab8967fd8ea2ee36e92">inventory::has_quality</a></div><div class="ttdeci">bool has_quality(const quality_id &amp;qual, int level=1, int qty=1) const override</div><div class="ttdoc">Returns true if instance has amount (or more) items of at least quality level.</div></div>
<div class="ttc" id="aclassitem_html_a0795ac0d3e2ba958ab3a6ff4e282482b"><div class="ttname"><a href="classitem.html#a0795ac0d3e2ba958ab3a6ff4e282482b">item::made_of</a></div><div class="ttdeci">const std::map&lt; material_id, int &gt; &amp; made_of() const</div><div class="ttdoc">The ids of all the materials this is made of.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09146">item.cpp:9146</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a237e08c882285f5afe00e543de6ba918"><div class="ttname"><a href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">veh_interact::parts_here</a></div><div class="ttdeci">std::vector&lt; int &gt; parts_here</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00278">veh_interact.h:278</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a354e576739b8ec01d1327e31b17ca64c"><div class="ttname"><a href="classveh__interact.html#a354e576739b8ec01d1327e31b17ca64c">veh_interact::cpart</a></div><div class="ttdeci">int cpart</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00087">veh_interact.h:87</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a5b02b8684bf980c01fa581d7f10d837d"><div class="ttname"><a href="classveh__interact.html#a5b02b8684bf980c01fa581d7f10d837d">veh_interact::need_repair</a></div><div class="ttdeci">std::vector&lt; int &gt; need_repair</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00273">veh_interact.h:273</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a946c417657ac527bc9e02c6553ae6234"><div class="ttname"><a href="classveh__interact.html#a946c417657ac527bc9e02c6553ae6234">veh_interact::can_mount</a></div><div class="ttdeci">std::vector&lt; const vpart_info * &gt; can_mount</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00266">veh_interact.h:266</a></div></div>
<div class="ttc" id="aclassvehicle__part__range_html"><div class="ttname"><a href="classvehicle__part__range.html">vehicle_part_range</a></div><div class="ttdoc">A range that contains all parts of the vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__range_8h_source.html#l00150">vpart_range.h:151</a></div></div>
<div class="ttc" id="aclassvehicle_html_a4d83e86fe57ec6126893a68f68c3c304"><div class="ttname"><a href="classvehicle.html#a4d83e86fe57ec6126893a68f68c3c304">vehicle::velocity</a></div><div class="ttdeci">int velocity</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02276">vehicle.h:2276</a></div></div>
<div class="ttc" id="aclassvehicle_html_adfbc0794c9bb9a5f1d75e1c52a2e561a"><div class="ttname"><a href="classvehicle.html#adfbc0794c9bb9a5f1d75e1c52a2e561a">vehicle::get_any_parts</a></div><div class="ttdeci">vehicle_part_with_feature_range&lt; std::string &gt; get_any_parts(std::string feature) const</div><div class="ttdoc">Yields a range of parts of this vehicle that each have the given feature and not removed.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03037">vehicle.cpp:3037</a></div></div>
<div class="ttc" id="aclassvehicle_html_af104b67f7b35e092414fd2efa9f2da05"><div class="ttname"><a href="classvehicle.html#af104b67f7b35e092414fd2efa9f2da05">vehicle::fuels_left</a></div><div class="ttdeci">std::map&lt; itype_id, int &gt; fuels_left() const</div><div class="ttdoc">All the fuels that are in all the tanks in the vehicle, nicely summed up.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l07572">vehicle.cpp:7572</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a></div><div class="ttdeci">@ LIQUID</div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5ad0dea69649a83749aa6bdf176092e8c9"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5ad0dea69649a83749aa6bdf176092e8c9">phase_id::SOLID</a></div><div class="ttdeci">@ SOLID</div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00382">game.cpp:382</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a24f6ac6e06720c7cdf972a6083847132"><div class="ttname"><a href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">abs</a></div><div class="ttdeci">double abs(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00030">math_parser_func.h:30</a></div></div>
<div class="ttc" id="astructitype_html_a3d7692cff108d3b8c59ca0847d25a45c"><div class="ttname"><a href="structitype.html#a3d7692cff108d3b8c59ca0847d25a45c">itype::phase</a></div><div class="ttdeci">phase_id phase</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01373">itype.h:1373</a></div></div>
<div class="ttc" id="aveh__interact_8cpp_html_a3f2436294a28dc686156c10abab2f994"><div class="ttname"><a href="veh__interact_8cpp.html#a3f2436294a28dc686156c10abab2f994">fuel_type_battery</a></div><div class="ttdeci">static const itype_id fuel_type_battery(&quot;battery&quot;)</div></div>
<div class="ttc" id="aveh__interact_8cpp_html_ab3cc18d6e0d2d1ee46bbb6b892ccdde4"><div class="ttname"><a href="veh__interact_8cpp.html#ab3cc18d6e0d2d1ee46bbb6b892ccdde4">qual_HOSE</a></div><div class="ttdeci">static const quality_id qual_HOSE(&quot;HOSE&quot;)</div></div>
<div class="ttc" id="aveh__interact_8h_html_ab7bc1352655b72d653e42e97a93cd5b8a17f08acbbe05562312799fdb316b4730"><div class="ttname"><a href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a17f08acbbe05562312799fdb316b4730">task_reason::UNKNOWN_TASK</a></div><div class="ttdeci">@ UNKNOWN_TASK</div></div>
<div class="ttc" id="aveh__interact_8h_html_ab7bc1352655b72d653e42e97a93cd5b8a354f9f7371cd259a5bd11ef1f0404def"><div class="ttname"><a href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a354f9f7371cd259a5bd11ef1f0404def">task_reason::LOW_MORALE</a></div><div class="ttdeci">@ LOW_MORALE</div></div>
<div class="ttc" id="aveh__interact_8h_html_ab7bc1352655b72d653e42e97a93cd5b8a387ed9ae8934c7ccb29f0ac78591ad13"><div class="ttname"><a href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a387ed9ae8934c7ccb29f0ac78591ad13">task_reason::LOW_LIGHT</a></div><div class="ttdeci">@ LOW_LIGHT</div></div>
<div class="ttc" id="aveh__interact_8h_html_ab7bc1352655b72d653e42e97a93cd5b8a49e8dc1c17584b200ebeb4b1d0dede0e"><div class="ttname"><a href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a49e8dc1c17584b200ebeb4b1d0dede0e">task_reason::NOT_FREE</a></div><div class="ttdeci">@ NOT_FREE</div></div>
<div class="ttc" id="aveh__interact_8h_html_ab7bc1352655b72d653e42e97a93cd5b8a93fc5bc8d23b10edcf5fb58cb23e71c7"><div class="ttname"><a href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a93fc5bc8d23b10edcf5fb58cb23e71c7">task_reason::LACK_SKILL</a></div><div class="ttdeci">@ LACK_SKILL</div></div>
<div class="ttc" id="aveh__interact_8h_html_ab7bc1352655b72d653e42e97a93cd5b8aa28aee4213e36855bcd2cc87a6cb780f"><div class="ttname"><a href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8aa28aee4213e36855bcd2cc87a6cb780f">task_reason::MOVING_VEHICLE</a></div><div class="ttdeci">@ MOVING_VEHICLE</div></div>
<div class="ttc" id="aveh__interact_8h_html_ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14"><div class="ttname"><a href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">task_reason::INVALID_TARGET</a></div><div class="ttdeci">@ INVALID_TARGET</div></div>
<div class="ttc" id="aveh__interact_8h_html_ab7bc1352655b72d653e42e97a93cd5b8acff9bc654de7362ba8417e55c917a1c8"><div class="ttname"><a href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8acff9bc654de7362ba8417e55c917a1c8">task_reason::CAN_DO</a></div><div class="ttdeci">@ CAN_DO</div></div>
<div class="ttc" id="aveh__interact_8h_html_ab7bc1352655b72d653e42e97a93cd5b8ae04bc3351bcc52f4202e8eb0332b6fef"><div class="ttname"><a href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ae04bc3351bcc52f4202e8eb0332b6fef">task_reason::LACK_TOOLS</a></div><div class="ttdeci">@ LACK_TOOLS</div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea48ec568cb559d3865b26e7b304bb559e"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea48ec568cb559d3865b26e7b304bb559e">VPFLAG_FLUIDTANK</a></div><div class="ttdeci">@ VPFLAG_FLUIDTANK</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00106">veh_type.h:106</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vpart__range_8h_source.html#l00123">generic_vehicle_part_range&lt; range_type &gt;::begin()</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8acff9bc654de7362ba8417e55c917a1c8">CAN_DO</a>, <a class="el" href="veh__interact_8h_source.html#l00266">can_mount</a>, <a class="el" href="vehicle_8cpp_source.html#l01296">vehicle::can_unmount()</a>, <a class="el" href="veh__interact_8h_source.html#l00087">cpart</a>, <a class="el" href="crafting_8cpp_source.html#l00629">Character::crafting_inventory()</a>, <a class="el" href="vpart__range_8h_source.html#l00126">generic_vehicle_part_range&lt; range_type &gt;::end()</a>, <a class="el" href="item_8cpp_source.html#l14581">item::find_type()</a>, <a class="el" href="character_8cpp_source.html#l02791">Character::fine_detail_vision_mod()</a>, <a class="el" href="veh__interact_8cpp.html#a3f2436294a28dc686156c10abab2f994">fuel_type_battery</a>, <a class="el" href="vehicle_8cpp_source.html#l07572">vehicle::fuels_left()</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="vehicle_8cpp_source.html#l08119">vehicle::get_all_parts()</a>, <a class="el" href="vehicle_8cpp_source.html#l03037">vehicle::get_any_parts()</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="crafting_8cpp_source.html#l00389">Character::has_morale_to_craft()</a>, <a class="el" href="classinventory.html#a8646038685427ab8967fd8ea2ee36e92">inventory::has_quality()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">INVALID_TARGET</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l09146">item::made_of()</a>, <a class="el" href="veh__interact_8h_source.html#l00273">need_repair</a>, <a class="el" href="vehicle_8cpp_source.html#l08098">vehicle::part()</a>, <a class="el" href="veh__interact_8h_source.html#l00278">parts_here</a>, <a class="el" href="itype_8h_source.html#l01373">itype::phase</a>, <a class="el" href="veh__interact_8cpp.html#ab3cc18d6e0d2d1ee46bbb6b892ccdde4">qual_HOSE</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5ad0dea69649a83749aa6bdf176092e8c9">SOLID</a>, <a class="el" href="ret__val_8h_source.html#l00013">ret_val_common::success()</a>, <a class="el" href="veh__interact_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a17f08acbbe05562312799fdb316b4730">UNKNOWN_TASK</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, and <a class="el" href="veh__type_8h_source.html#l00106">VPFLAG_FLUIDTANK</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02709">display_mode()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02023">do_assign_crew()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01987">do_change_shape()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00957">do_install()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01250">do_mend()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01290">do_refill()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02077">do_relabel()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01796">do_remove()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01886">do_siphon()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l01930">do_unload()</a>.</p>

</div>
</div>
<a id="a851b10158923af6c18855b87c0cfcc18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a851b10158923af6c18855b87c0cfcc18">&#9670;&nbsp;</a></span>complete_vehicle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::complete_vehicle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>you</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when the activity timer for installing parts, repairing, etc times out and the action is complete. </p>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l03087">3087</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;{</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;    <span class="keywordflow">if</span>( you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.size() &lt; 7 ) {</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;ACT_VEHICLE values.size() is %d&quot;</span>, you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.size() );</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;    }</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;    <span class="keywordflow">if</span>( you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a>.empty() ) {</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;ACT_VEHICLE str_values is empty&quot;</span> );</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;    }</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> act_pos( you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>[0], you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>[1], you.<a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() );</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    <a class="code" href="classoptional__vpart__position.html">optional_vpart_position</a> ovp = here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( act_pos );</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;    <span class="keywordflow">if</span>( !ovp ) {</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;        <span class="comment">// so the vehicle could have lost some of its parts from other NPCS works</span></div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;        <span class="comment">// during this player/NPCs activity.</span></div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;        <span class="comment">// check the vehicle points that were stored at beginning of activity.</span></div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;pt : you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#adb6198e1b33fc9dfa2d7ef2003a0ea54">coord_set</a> ) {</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;            ovp = here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( here.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( pt ) );</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;            <span class="keywordflow">if</span>( ovp ) {</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;            }</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;        }</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;        <span class="comment">// check again, to see if it really is a case of vehicle gone missing.</span></div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;        <span class="keywordflow">if</span>( !ovp ) {</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Activity ACT_VEHICLE: vehicle not found&quot;</span> );</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;        }</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;    }</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160; </div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    <a class="code" href="classvehicle.html">vehicle</a> &amp;<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a> = ovp-&gt;vehicle();</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> d( you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>[4], you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>[5] );</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    <span class="keyword">const</span> <a class="code" href="classstring__id.html">vpart_id</a> part_id( you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a>[0] );</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> &amp;vpinfo = part_id.obj();</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160; </div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    <span class="comment">// cmd = Install Repair reFill remOve Siphon Unload reName relAbel</span></div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    <span class="keywordflow">switch</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>( you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a> ) ) {</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>: {</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;            <span class="keyword">const</span> <a class="code" href="classinventory.html">inventory</a> &amp;inv = you.<a class="code" href="classCharacter.html#ace218285f4fbc7c7a9feac8378bc632e">crafting_inventory</a>();</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;            <span class="keyword">const</span> <a class="code" href="structrequirement__data.html">requirement_data</a> reqs = vpinfo.<a class="code" href="classvpart__info.html#aace91a24e6194a874cb468bb237368ea">install_requirements</a>();</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;            <span class="keywordflow">if</span>( !reqs.<a class="code" href="structrequirement__data.html#a07c67f146358ed0de2aface7588c20d2">can_make_with_inventory</a>( inv, <a class="code" href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a> ) ) {</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;                you.<a class="code" href="classCharacter.html#ac81e06f5fbbb42c673f235a6f37d9d4b">add_msg_player_or_npc</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;                                           <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You don&#39;t meet the requirements to install the %s.&quot;</span> ),</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;                                           <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; doesn&#39;t meet the requirements to install the %s.&quot;</span> ),</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;                                           vpinfo.<a class="code" href="classvpart__info.html#adfe04850347ddec99a639e19d432f9c8">name</a>() );</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;            }</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160; </div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;            <span class="comment">// consume items extracting a match for the parts base item</span></div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;            <a class="code" href="classitem.html">item</a> base;</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;            std::vector&lt;item&gt; installed_with;</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::vector&lt;item_comp&gt; &amp;e : reqs.<a class="code" href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">get_components</a>() ) {</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;                <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;obj : you.<a class="code" href="classCharacter.html#a5d161e8df8122b5f3d74a081ee8d12cf">consume_items</a>( e, 1, <a class="code" href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a>, [&amp;vpinfo]( <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> &amp; itm ) {</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;                return itm == vpinfo.base_item;</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;            } ) ) {</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;                    <span class="keywordflow">if</span>( obj.typeId() == vpinfo.<a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a> ) {</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;                        base = obj;</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;                        installed_with.push_back( obj );</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;                    }</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;                }</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;            }</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;            <span class="keywordflow">if</span>( base.<a class="code" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;                <span class="keywordflow">if</span>( !you.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="veh__interact_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> ) ) {</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Could not find base part in requirements for %s.&quot;</span> ), vpinfo.<a class="code" href="classvpart__info.html#adfe04850347ddec99a639e19d432f9c8">name</a>() );</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;                    base = <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( vpinfo.<a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a> );</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;                }</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;            }</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160; </div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : reqs.<a class="code" href="structrequirement__data.html#a175d46943600149603b7a915cb48092b">get_tools</a>() ) {</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;                you.<a class="code" href="classCharacter.html#a33d0aa99b607cfbe38b910d4dd6b0b1b">consume_tools</a>( e );</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;            }</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160; </div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;            you.<a class="code" href="classCharacter.html#afe4c095c2e6510f07f351d7e091f5787">invalidate_crafting_inventory</a>();</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> partnum = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a030263e1db60c034caa9e6f24199cd33">install_part</a>( d, part_id, std::move( base ), installed_with );</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;            <span class="keywordflow">if</span>( partnum &lt; 0 ) {</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;complete_vehicle install part fails dx=%d dy=%d id=%s&quot;</span>,</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;                          d.x, d.y, part_id.c_str() );</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;            }</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;            <a class="code" href="structvehicle__part.html">::vehicle_part</a> &amp;vp_new = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( partnum );</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;            <span class="keywordflow">if</span>( vp_new.<a class="code" href="structvehicle__part.html#a002a1023cd1a96d43556a1b912ebd27b">info</a>().<a class="code" href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">variants</a>.size() &gt; 1 ) {</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;                <a class="code" href="veh__interact_8cpp.html#af68210f33dec93cf93be508e70e1ca87">do_change_shape_menu</a>( vp_new );</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;            }</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160; </div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;            <span class="comment">// Need map-relative coordinates to compare to output of look_around.</span></div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;            <span class="comment">// Need to call coord_translate() directly since it&#39;s a new part.</span></div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;            <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> q = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#ad45ae53f6326f7fde4d8e59848470457">coord_translate</a>( d );</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160; </div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;            <span class="keywordflow">if</span>( vpinfo.<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea0e5ba370df41b42336b154cd7fde38ec">VPFLAG_CONE_LIGHT</a> ) ||</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;                vpinfo.<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eac068ca47063a40941d3b0561a2f3be51">VPFLAG_WIDE_CONE_LIGHT</a> ) ||</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;                vpinfo.<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eaf0ce59d9e0d42526c7e45dd7ca9aa571">VPFLAG_HALF_CIRCLE_LIGHT</a> ) ) {</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;                <a class="code" href="veh__interact_8cpp.html#a9d5a3d1731b5cef76f6be0703634184f">orient_part</a>( &amp;<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>, vpinfo, partnum, q );</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;            }</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160; </div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;            <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> vehp = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a3900ee345be0453828a955a200154db1">global_pos3</a>() + <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>( q, 0 );</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;            <span class="comment">// TODO: allow boarding for non-players as well.</span></div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;            <a class="code" href="classCharacter.html">Character</a> *<span class="keyword">const</span> pl = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>().<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>&lt;<a class="code" href="classCharacter.html">Character</a>&gt;( vehp );</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;            <span class="keywordflow">if</span>( vpinfo.<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eaebc2a9d9402e04973e4ee469daddeda5">VPFLAG_BOARDABLE</a> ) &amp;&amp; pl ) {</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;                here.<a class="code" href="classmap.html#ae9e52026d9d68ff5e7fe85c6f8963421">board_vehicle</a>( vehp, pl );</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;            }</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160; </div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;            you.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You install a %1$s into the %2$s.&quot;</span> ), vp_new.<a class="code" href="structvehicle__part.html#a1c555386664b5d61de6bac27572c5c4f">name</a>(), <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> );</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160; </div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;sk : vpinfo.<a class="code" href="classvpart__info.html#a9349b8416f91bb3029e9a8c9991d0a4a">install_skills</a> ) {</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;                you.<a class="code" href="classCharacter.html#a6535a02158a1d6b23b0a6bb623dfae19">practice</a>( sk.first, <a class="code" href="namespaceveh__utils.html#aa16e056061ec8316a456ac4fa520b7df">veh_utils::calc_xp_gain</a>( vpinfo, sk.first, you ) );</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;            }</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;            here.<a class="code" href="classmap.html#aa51d3d7bfa9acfbc62e9dbaac9450fc1">add_vehicle_to_cache</a>( &amp;<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a> );</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;        }</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160; </div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>: {</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;            <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp;vp = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>[6] );</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;            <a class="code" href="namespaceveh__utils.html#a65818d5c94661e4de10acebae281dc09">veh_utils::repair_part</a>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>, vp, you );</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;        }</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160; </div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>: {</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;            <span class="keywordflow">if</span>( you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.empty() || !you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.front() ) {</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Activity ACT_VEHICLE: missing refill source&quot;</span> );</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;            }</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160; </div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;            <a class="code" href="classitem__location.html">item_location</a> &amp;src = you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.front();</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;            <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp;vp = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>[6] );</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;            <span class="keywordflow">if</span>( vp.<a class="code" href="structvehicle__part.html#a1acf6a662e684e35e9ef4c26f02b4a42">is_tank</a>() &amp;&amp; src-&gt;<a class="code" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() &amp;&amp; !src-&gt;<a class="code" href="classitem.html#ae05d298b2cf91e4c12d5beca5f38c67f">empty</a>() ) {</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;                <a class="code" href="classitem__location.html">item_location</a> contained( src, &amp;src-&gt;<a class="code" href="classitem.html#af876b00a46cde846cf22f1f550bf37e2">only_item</a>() );</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;                contained-&gt;charges -= vp.<a class="code" href="structvehicle__part.html#a5122e284fbcf0f14f0e6022e01b5b574">base</a>.<a class="code" href="classitem.html#abfc3474737590a81c25c5c5d7154aaa2">fill_with</a>( *contained, contained-&gt;charges );</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160; </div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;                <a class="code" href="classcontents__change__handler.html">contents_change_handler</a> handler;</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;                handler.<a class="code" href="classcontents__change__handler.html#a327c4c2672f8e662338e72e6a8d1210c">unseal_pocket_containing</a>( contained );</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160; </div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;                <span class="comment">// if code goes here, we can assume &quot;vp&quot; has already refilled with &quot;contained&quot; something.</span></div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;                <span class="keywordtype">int</span> remaining_ammo_capacity = vp.<a class="code" href="structvehicle__part.html#a30aa1cb6fff83820663b1b170139553b">ammo_capacity</a>( contained-&gt;ammo_type() ) - vp.<a class="code" href="structvehicle__part.html#a9c6bf106558c9ed00536e2d7cb0e862d">ammo_remaining</a>();</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160; </div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;                <span class="keywordflow">if</span>( remaining_ammo_capacity ) {</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;                    <span class="comment">//~ 1$s vehicle name, 2$s tank name</span></div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;                    you.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You refill the %1$s&#39;s %2$s.&quot;</span> ), <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a>, vp.<a class="code" href="structvehicle__part.html#a1c555386664b5d61de6bac27572c5c4f">name</a>() );</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;                    <span class="comment">//~ 1$s vehicle name, 2$s tank name</span></div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;                    you.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You completely refill the %1$s&#39;s %2$s.&quot;</span> ), <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a>, vp.<a class="code" href="structvehicle__part.html#a1c555386664b5d61de6bac27572c5c4f">name</a>() );</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;                }</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160; </div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;                <span class="keywordflow">if</span>( contained-&gt;charges == 0 ) {</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;                    contained.remove_item();</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;                    you.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;There&#39;s some left over!&quot;</span> ) );</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;                }</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160; </div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;                handler.<a class="code" href="classcontents__change__handler.html#a9d974d798df1e6f9a00bfd01c78c0c3c">handle_by</a>( you );</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( vp.<a class="code" href="structvehicle__part.html#a212238a594301bf7ff4a1264421b6152">is_fuel_store</a>() ) {</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;                <a class="code" href="classcontents__change__handler.html">contents_change_handler</a> handler;</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;                handler.<a class="code" href="classcontents__change__handler.html#a327c4c2672f8e662338e72e6a8d1210c">unseal_pocket_containing</a>( src );</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160; </div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;                <span class="keywordtype">int</span> qty = src-&gt;<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;                vp.<a class="code" href="structvehicle__part.html#a5122e284fbcf0f14f0e6022e01b5b574">base</a>.<a class="code" href="classitem.html#a9b7de1507e4000d58e9d813354073188">reload</a>( you, std::move( src ), qty );</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160; </div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;                <span class="comment">//~ 1$s vehicle name, 2$s reactor name</span></div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;                you.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You refuel the %1$s&#39;s %2$s.&quot;</span> ), <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a>, vp.<a class="code" href="structvehicle__part.html#a1c555386664b5d61de6bac27572c5c4f">name</a>() );</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160; </div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;                handler.<a class="code" href="classcontents__change__handler.html#a9d974d798df1e6f9a00bfd01c78c0c3c">handle_by</a>( you );</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part is not reloadable&quot;</span> );</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;            }</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160; </div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;            <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a8e8079a6591b3104191c881509f16d61">invalidate_mass</a>();</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;        }</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160; </div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;O&#39;</span>: <span class="comment">// &#39;O&#39; = remove appliance</span></div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;o&#39;</span>: {</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;            <span class="keywordtype">int</span> vp_index = you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>[6];</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;            <span class="keywordflow">if</span>( vp_index &gt;= <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#aa10bbf2045f3581a65049d7b7b5071ae">part_count</a>() ) {</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;                vp_index = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a493ce28268a608da24ca250b22de1a3e">get_next_shifted_index</a>( vp_index, you );</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;                <span class="keywordflow">if</span>( vp_index == -1 ) {</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;                    you.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;                                           <span class="comment">//~ 1$s is the vehicle part name</span></div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;                                           <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %1$s has already been removed by someone else.&quot;</span> ),</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;                                           vpinfo.<a class="code" href="classvpart__info.html#adfe04850347ddec99a639e19d432f9c8">name</a>() );</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;                }</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;            }</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;            <a class="code" href="structvehicle__part.html">vehicle_part</a> *vp = &amp;<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( vp_index );</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;            <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> &amp;vpi = vp-&gt;<a class="code" href="structvehicle__part.html#a002a1023cd1a96d43556a1b912ebd27b">info</a>();</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> appliance_removal = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>( you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a> ) == <span class="charliteral">&#39;O&#39;</span>;</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> wall_wire_removal = appliance_removal &amp;&amp; vpi.<a class="code" href="classvpart__info.html#aba80d384b977306eb749c9c9958a62a7">id</a> == <a class="code" href="veh__interact_8cpp.html#a3bcc375ba8f86b1872bf486726c0551a">vpart_ap_wall_wiring</a>;</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9a1f85e94c05010d1308d67d1d918944e4">broken</a> = vp-&gt;<a class="code" href="structvehicle__part.html#aeee4fac34f34d6c9ff557fde6590439d">is_broken</a>();</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> smash_remove = vpi.<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;SMASH_REMOVE&quot;</span> );</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;            <span class="keyword">const</span> <a class="code" href="classinventory.html">inventory</a> &amp;inv = you.<a class="code" href="classCharacter.html#ace218285f4fbc7c7a9feac8378bc632e">crafting_inventory</a>();</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;            <span class="keyword">const</span> <a class="code" href="structrequirement__data.html">requirement_data</a> &amp;reqs = vpi.<a class="code" href="classvpart__info.html#a80c8ca1cb460e5dc98ac2ea75aaf83b9">removal_requirements</a>();</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;            <span class="keywordflow">if</span>( !reqs.<a class="code" href="structrequirement__data.html#a07c67f146358ed0de2aface7588c20d2">can_make_with_inventory</a>( inv, <a class="code" href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a> ) ) {</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;                <span class="comment">//~  1$s is the vehicle part name</span></div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You don&#39;t meet the requirements to remove the %1$s.&quot;</span> ), vpi.<a class="code" href="classvpart__info.html#adfe04850347ddec99a639e19d432f9c8">name</a>() );</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;            }</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : reqs.<a class="code" href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">get_components</a>() ) {</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;                you.<a class="code" href="classCharacter.html#a5d161e8df8122b5f3d74a081ee8d12cf">consume_items</a>( e, 1, <a class="code" href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a> );</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;            }</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : reqs.<a class="code" href="structrequirement__data.html#a175d46943600149603b7a915cb48092b">get_tools</a>() ) {</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;                you.<a class="code" href="classCharacter.html#a33d0aa99b607cfbe38b910d4dd6b0b1b">consume_tools</a>( e );</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;            }</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160; </div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;            you.<a class="code" href="classCharacter.html#afe4c095c2e6510f07f351d7e091f5787">invalidate_crafting_inventory</a>();</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160; </div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;            <span class="comment">// This will be a list of all the items which arise from this removal.</span></div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;            std::list&lt;item&gt; resulting_items;</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160; </div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;            <span class="comment">// First we get all the contents of the part</span></div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;            <a class="code" href="classvehicle__stack.html">vehicle_stack</a> <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a1ff93bf21a97272ada4556de4422fb80">contents</a> = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#abbc4051229bf116dfd03c53dcc4a0765">get_items</a>( *vp );</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;            resulting_items.<a class="code" href="classvehicle__stack.html#a4df2c9ed09e7ceda0ae2b7b488a97218">insert</a>( resulting_items.end(), <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a1ff93bf21a97272ada4556de4422fb80">contents</a>.begin(), <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a1ff93bf21a97272ada4556de4422fb80">contents</a>.end() );</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;            <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a1ff93bf21a97272ada4556de4422fb80">contents</a>.clear();</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160; </div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9a1f85e94c05010d1308d67d1d918944e4">broken</a> ) {</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;                you.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You remove the broken %1$s from the %2$s.&quot;</span> ), vp-&gt;<a class="code" href="structvehicle__part.html#a1c555386664b5d61de6bac27572c5c4f">name</a>(), <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> );</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( smash_remove ) {</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;                you.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You smash the %1$s to bits, removing it from the %2$s.&quot;</span> ),</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;                                       vp-&gt;<a class="code" href="structvehicle__part.html#a1c555386664b5d61de6bac27572c5c4f">name</a>(), <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> );</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;                you.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You remove the %1$s from the %2$s.&quot;</span> ), vp-&gt;<a class="code" href="structvehicle__part.html#a1c555386664b5d61de6bac27572c5c4f">name</a>(), <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> );</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;            }</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160; </div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;            <span class="keywordflow">if</span>( wall_wire_removal ) {</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;                <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#ab71b8900d65472420c6856803b216121">part_to_item</a>( *vp ); <span class="comment">// what&#39;s going on here? this line isn&#39;t doing anything...</span></div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( vpi.<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;TOW_CABLE&quot;</span> ) ) {</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;                <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a9e6e8c8297827dd47195ba732a35df44">invalidate_towing</a>( <span class="keyword">true</span>, &amp;you );</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9a1f85e94c05010d1308d67d1d918944e4">broken</a> ) {</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;                <a class="code" href="namespaceitem__group.html#a1756cb07c624c3169988316a8615ff69">item_group::ItemList</a> pieces = vp-&gt;<a class="code" href="structvehicle__part.html#aec400b6cd298c1e889ad4698f1240ae9">pieces_for_broken_part</a>();</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;                resulting_items.insert( resulting_items.end(), pieces.begin(), pieces.end() );</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;                <span class="keywordflow">if</span>( smash_remove ) {</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;                    <a class="code" href="namespaceitem__group.html#a1756cb07c624c3169988316a8615ff69">item_group::ItemList</a> pieces = vp-&gt;<a class="code" href="structvehicle__part.html#aec400b6cd298c1e889ad4698f1240ae9">pieces_for_broken_part</a>();</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;                    resulting_items.insert( resulting_items.end(), pieces.begin(), pieces.end() );</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;                    resulting_items.push_back( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a0c31e4a5e1fac92d9bafeab9c3bdb791">removed_part</a>( *vp ) );</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160; </div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;                    <span class="comment">// damage reduces chance of success (0.8^damage_level)</span></div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">double</span> component_success_chance = std::pow( 0.8, vp-&gt;<a class="code" href="structvehicle__part.html#aa124aaa399ff7a56dcf242ebda4572b5">damage_level</a>() );</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">double</span> charges_min = <a class="code" href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">std::clamp</a>( component_success_chance, 0.0, 1.0 );</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">double</span> charges_max = <a class="code" href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">std::clamp</a>( component_success_chance + 0.1, 0.0, 1.0 );</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;                    <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;it : vp-&gt;<a class="code" href="structvehicle__part.html#a0803af7d923884e7bf00973a8fb95b79">get_salvageable</a>() ) {</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;                        <span class="keywordflow">if</span>( it.count_by_charges() ) {</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">int</span> charges_befor = it.charges;</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;                            it.charges *= <a class="code" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( charges_min, charges_max );</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">int</span> charges_destroyed = charges_befor - it.charges;</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;                            <span class="keywordflow">if</span>( charges_destroyed &gt; 0 ) {</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;                                you.<a class="code" href="classCharacter.html#ac81e06f5fbbb42c673f235a6f37d9d4b">add_msg_player_or_npc</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;                                                           <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You fail to recover %1$d %2$s.&quot;</span> ),</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;                                                           <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; fails to recover %1$d %2$s.&quot;</span> ),</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;                                                           charges_destroyed,</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;                                                           it.type_name( charges_destroyed ) );</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;                            }</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;                            <span class="keywordflow">if</span>( it.charges &gt; 0 ) {</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;                                resulting_items.push_back( it );</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;                            }</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( component_success_chance &gt; <a class="code" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( 0, 1 ) ) {</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;                            resulting_items.push_back( it );</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;                            you.<a class="code" href="classCharacter.html#ac81e06f5fbbb42c673f235a6f37d9d4b">add_msg_player_or_npc</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;                                                       <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You fail to recover %1$s.&quot;</span> ),</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;                                                       <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; fails to recover %1$s.&quot;</span> ),</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;                                                       it.type_name() );</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;                        }</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;                    }</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;                }</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const skill_id, int&gt; &amp;sk : vpi.<a class="code" href="classvpart__info.html#a9349b8416f91bb3029e9a8c9991d0a4a">install_skills</a> ) {</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;                    <span class="comment">// removal is half as educational as installation</span></div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;                    you.<a class="code" href="classCharacter.html#a6535a02158a1d6b23b0a6bb623dfae19">practice</a>( sk.first, <a class="code" href="namespaceveh__utils.html#aa16e056061ec8316a456ac4fa520b7df">veh_utils::calc_xp_gain</a>( vpi, sk.first, you ) / 2 );</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;                }</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;            }</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160; </div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;            <span class="comment">// Power cables must remove parts from the target vehicle, too.</span></div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;            <span class="keywordflow">if</span>( vpi.<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea0c516f66a07d369c24681ba3308defb8">VPFLAG_POWER_TRANSFER</a> ) ) {</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;                <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#ac7a485bf93623e2081919a506e650f7d">remove_remote_part</a>( *vp );</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;            }</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160; </div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;            <span class="keywordflow">if</span>( appliance_removal &amp;&amp; <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#aa10bbf2045f3581a65049d7b7b5071ae">part_count</a>() &gt; 1 ) {</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;                <span class="comment">// Split up power grids</span></div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;                <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a40959114c15f1865e1ed695acfa33fd5">find_and_split_vehicles</a>( here, { vp_index } );</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;                <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a256bff136536ed8e38b84521c1450a6a">part_removal_cleanup</a>();</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;                <span class="comment">// Ensure the position, pivot, and precalc points are up-to-date</span></div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;                <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a12844862e123c12dc923ca390becf79e">pos</a> -= <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#afd4e8e8471b17450205d827dee8a41a5">pivot_anchor</a>[0];</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;                <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#ac2d28a00ecef8f1077752dfca73c15eb">precalc_mounts</a>( 0, <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#af366981a584e12d25133fb479d47de33">turn_dir</a>, <a class="code" href="structpoint.html">point</a>() );</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;                here.<a class="code" href="classmap.html#a1bf7be9d16b423fde0882be4bc3ecfc5">rebuild_vehicle_level_caches</a>();</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160; </div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;                <span class="keywordflow">if</span>( <span class="keyword">auto</span> newpart = here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( act_pos ).<a class="code" href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">part_with_feature</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8f0159e32409b47888df99c01106fdb5">VPFLAG_APPLIANCE</a>, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;                    vp = &amp;newpart-&gt;part();</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;                    <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;No appliance part left to remove after splitting vehicle!&quot;</span> );</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;                    vp = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;                }</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;                <span class="comment">//always stop after removing an appliance</span></div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;                you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">set_to_null</a>();</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;            }</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160; </div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;            <span class="comment">// Save these values now so they aren&#39;t lost when parts or vehicles are destroyed.</span></div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;            <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> part_mount = vp-&gt;<a class="code" href="structvehicle__part.html#ac6e2dfa7178b8bed91baea3543961a86">mount</a>;</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;            <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> part_pos = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#ae8132c34a1ea24866889e6e599796adc">global_part_pos3</a>( *vp );</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160; </div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;            <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#af54f1f29e7bed4134c59b4ab6fba3904">unlink_cables</a>( part_mount, you,</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;                               <span class="keyword">false</span>, <span class="comment">/* unneeded as items will be unlinked if the connected part is removed */</span></div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;                               appliance_removal || vpi.<a class="code" href="classvpart__info.html#a03cfe554b18beb9c32d9a86872a1748e">location</a> == <span class="stringliteral">&quot;structure&quot;</span>,</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;                               appliance_removal || vpi.<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea25845bed2168d8462142a573ecbb100d">VPFLAG_CABLE_PORTS</a> ) || vpi.<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea517103a03982a8a4d633ee17aad88f72">VPFLAG_BATTERY</a> ) );</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160; </div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#abb258f96391c0e73540767308e0b6db1">part_count_real</a>() &lt;= 1 ) {</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;                you.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You completely dismantle the %s.&quot;</span> ), <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> );</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;                you.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">set_to_null</a>();</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;                <span class="comment">// destroy vehicle clears the cache</span></div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;                here.<a class="code" href="classmap.html#ac7f59f4bc6fad84a8d8c0ddd4e023734">destroy_vehicle</a>( &amp;<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a> );</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( vp ) {</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;                <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#af5caceadd49cf1febcbb30c9567aa99d">remove_part</a>( *vp );</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;                <span class="comment">// part_removal_cleanup calls refresh, so parts_at_relative is valid</span></div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;                <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a256bff136536ed8e38b84521c1450a6a">part_removal_cleanup</a>();</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#ae9844787dd02657b4282b93f237c4987">parts_at_relative</a>( part_mount, <span class="keyword">true</span> ).empty() ) {</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;                    <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a5fdaa85d36d4c8b742ea050d4c07a7b3">clear_vehicle_point_from_cache</a>( &amp;<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>, part_pos );</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;                }</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;            }</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;            <span class="comment">// This will be part of an NPC &quot;job&quot; where they need to clean up the activity</span></div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;            <span class="comment">// items afterwards</span></div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;            <span class="keywordflow">if</span>( you.<a class="code" href="classCharacter.html#a8f914d66d3d996a1356a31caf1d44c13">is_npc</a>() ) {</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;                <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;it : resulting_items ) {</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;                    it.set_var( <span class="stringliteral">&quot;activity_var&quot;</span>, you.<a class="code" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a> );</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;                }</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;            }</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;            <span class="comment">// Finally, put all the results somewhere (we wanted to wait until this</span></div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;            <span class="comment">// point because we don&#39;t want to put them back into the vehicle part</span></div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;            <span class="comment">// that just got removed).</span></div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;            <a class="code" href="activity__handlers_8h.html#a678a9b1ab0a1e58f70b4d6456aa54586">put_into_vehicle_or_drop</a>( you, <a class="code" href="activity__handlers_8h.html#a0d84fb943914cecb4ecf3e469beeb42ca38dd6f2bec3ea3b3cde92db954842bdb">item_drop_reason::deliberate</a>, resulting_items );</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;        }</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;u&#39;</span>: {</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;            <span class="comment">// Unplug action just sheds loose connections,</span></div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;            <span class="comment">// assuming vehicle::shed_loose_parts was already called so that</span></div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;            <span class="comment">// the removed parts have had time to be processed</span></div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;            you.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You disconnect the %s&#39;s power connection.&quot;</span> ), <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> );</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;        }</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    }</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;    you.<a class="code" href="classCharacter.html#afe4c095c2e6510f07f351d7e091f5787">invalidate_crafting_inventory</a>();</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;    you.<a class="code" href="classCharacter.html#afcc7ba8e4203089cb86e515bc2b21a76">invalidate_weight_carried_cache</a>();</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;}</div>
<div class="ttc" id="aactivity__handlers_8h_html_a0d84fb943914cecb4ecf3e469beeb42ca38dd6f2bec3ea3b3cde92db954842bdb"><div class="ttname"><a href="activity__handlers_8h.html#a0d84fb943914cecb4ecf3e469beeb42ca38dd6f2bec3ea3b3cde92db954842bdb">item_drop_reason::deliberate</a></div><div class="ttdeci">@ deliberate</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a678a9b1ab0a1e58f70b4d6456aa54586"><div class="ttname"><a href="activity__handlers_8h.html#a678a9b1ab0a1e58f70b4d6456aa54586">put_into_vehicle_or_drop</a></div><div class="ttdeci">void put_into_vehicle_or_drop(Character &amp;you, item_drop_reason, const std::list&lt; item &gt; &amp;items)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00442">activity_item_handling.cpp:442</a></div></div>
<div class="ttc" id="acata__utility_8h_html_ad22b4a043b6eb4c2c06f87f83b720b15"><div class="ttname"><a href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a></div><div class="ttdeci">constexpr T clamp(const T &amp;val, const T &amp;min, const T &amp;max)</div><div class="ttdoc">Clamp first argument so that it is no lower than second and no higher than third.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8h_source.html#l00221">cata_utility.h:221</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">cata_variant_type::tripoint</a></div><div class="ttdeci">@ tripoint</div></div>
<div class="ttc" id="aclassCharacter_html_a20839520f569c4f05876a55e89f67361"><div class="ttname"><a href="classCharacter.html#a20839520f569c4f05876a55e89f67361">Character::activity</a></div><div class="ttdeci">player_activity activity</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02709">character.h:2709</a></div></div>
<div class="ttc" id="aclassCharacter_html_a33d0aa99b607cfbe38b910d4dd6b0b1b"><div class="ttname"><a href="classCharacter.html#a33d0aa99b607cfbe38b910d4dd6b0b1b">Character::consume_tools</a></div><div class="ttdeci">void consume_tools(const comp_selection&lt; tool_comp &gt; &amp;tool, int batch)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l02400">crafting.cpp:2400</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5d161e8df8122b5f3d74a081ee8d12cf"><div class="ttname"><a href="classCharacter.html#a5d161e8df8122b5f3d74a081ee8d12cf">Character::consume_items</a></div><div class="ttdeci">std::list&lt; item &gt; consume_items(const comp_selection&lt; item_comp &gt; &amp;is, int batch, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;, bool select_ind=false)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l02029">crafting.cpp:2029</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6535a02158a1d6b23b0a6bb623dfae19"><div class="ttname"><a href="classCharacter.html#a6535a02158a1d6b23b0a6bb623dfae19">Character::practice</a></div><div class="ttdeci">bool practice(const skill_id &amp;id, int amount, int cap=99, bool suppress_warning=false)</div><div class="ttdoc">This handles giving xp for a skill.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02683">character.cpp:2683</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6592c35167738421f3e04ca8808d37db"><div class="ttname"><a href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">Character::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02684">character.h:2684</a></div></div>
<div class="ttc" id="aclassCharacter_html_a8f914d66d3d996a1356a31caf1d44c13"><div class="ttname"><a href="classCharacter.html#a8f914d66d3d996a1356a31caf1d44c13">Character::is_npc</a></div><div class="ttdeci">bool is_npc() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00538">character.h:538</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac81e06f5fbbb42c673f235a6f37d9d4b"><div class="ttname"><a href="classCharacter.html#ac81e06f5fbbb42c673f235a6f37d9d4b">Character::add_msg_player_or_npc</a></div><div class="ttdeci">void add_msg_player_or_npc(const std::string &amp;player_msg, const std::string &amp;npc_str) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00861">character.cpp:861</a></div></div>
<div class="ttc" id="aclassCharacter_html_af0503012f1ff927cbb5ad126e39cb103"><div class="ttname"><a href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">Character::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00856">character.cpp:856</a></div></div>
<div class="ttc" id="aclassCharacter_html_afcc7ba8e4203089cb86e515bc2b21a76"><div class="ttname"><a href="classCharacter.html#afcc7ba8e4203089cb86e515bc2b21a76">Character::invalidate_weight_carried_cache</a></div><div class="ttdeci">void invalidate_weight_carried_cache()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03097">character.cpp:3097</a></div></div>
<div class="ttc" id="aclassCharacter_html_afe4c095c2e6510f07f351d7e091f5787"><div class="ttname"><a href="classCharacter.html#afe4c095c2e6510f07f351d7e091f5787">Character::invalidate_crafting_inventory</a></div><div class="ttdeci">void invalidate_crafting_inventory()</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00692">crafting.cpp:692</a></div></div>
<div class="ttc" id="aclassCreature_html_a88c28bc08aa3e0d6fa1b187cee97d1c4"><div class="ttname"><a href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">Creature::posz</a></div><div class="ttdeci">int posz() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00317">creature.h:317</a></div></div>
<div class="ttc" id="aclasscontents__change__handler_html"><div class="ttname"><a href="classcontents__change__handler.html">contents_change_handler</a></div><div class="ttdoc">Records a batch of unsealed containers and handles spilling at once.</div><div class="ttdef"><b>Definition:</b> <a href="contents__change__handler_8h_source.html#l00019">contents_change_handler.h:20</a></div></div>
<div class="ttc" id="aclasscontents__change__handler_html_a327c4c2672f8e662338e72e6a8d1210c"><div class="ttname"><a href="classcontents__change__handler.html#a327c4c2672f8e662338e72e6a8d1210c">contents_change_handler::unseal_pocket_containing</a></div><div class="ttdeci">void unseal_pocket_containing(const item_location &amp;loc)</div><div class="ttdoc">Unseal the pocket containing loc and add loc's parent to the list.</div><div class="ttdef"><b>Definition:</b> <a href="contents__change__handler_8cpp_source.html#l00020">contents_change_handler.cpp:20</a></div></div>
<div class="ttc" id="aclasscontents__change__handler_html_a9d974d798df1e6f9a00bfd01c78c0c3c"><div class="ttname"><a href="classcontents__change__handler.html#a9d974d798df1e6f9a00bfd01c78c0c3c">contents_change_handler::handle_by</a></div><div class="ttdeci">void handle_by(Character &amp;guy)</div><div class="ttdoc">Let the guy handle any container that needs spilling.</div><div class="ttdef"><b>Definition:</b> <a href="contents__change__handler_8cpp_source.html#l00037">contents_change_handler.cpp:37</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::abs, coords::ms &gt;</a></div></div>
<div class="ttc" id="aclasscreature__tracker_html_aba3c6663688bcd1806ea685d6961cb72"><div class="ttname"><a href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_tracker::creature_at</a></div><div class="ttdeci">T * creature_at(const tripoint &amp;p, bool allow_hallucination=false)</div><div class="ttdoc">Returns the Creature at the given location.</div><div class="ttdef"><b>Definition:</b> <a href="creature__tracker_8cpp_source.html#l00303">creature_tracker.cpp:303</a></div></div>
<div class="ttc" id="aclassinventory_html"><div class="ttname"><a href="classinventory.html">inventory</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00107">inventory.h:108</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00028">item_location.h:29</a></div></div>
<div class="ttc" id="aclassitem_html_a4d5555082454b3cb192f59a70838c891"><div class="ttname"><a href="classitem.html#a4d5555082454b3cb192f59a70838c891">item::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00931">item.cpp:931</a></div></div>
<div class="ttc" id="aclassitem_html_a6bfb92ab5d41e0eb3a1da160fac71b0e"><div class="ttname"><a href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">item::charges</a></div><div class="ttdeci">int charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03133">item.h:3133</a></div></div>
<div class="ttc" id="aclassitem_html_a723753bab4cc789e3ec186846c9916a3"><div class="ttname"><a href="classitem.html#a723753bab4cc789e3ec186846c9916a3">item::is_container</a></div><div class="ttdeci">bool is_container() const</div><div class="ttdoc">Whether this is container.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09667">item.cpp:9667</a></div></div>
<div class="ttc" id="aclassitem_html_a9b7de1507e4000d58e9d813354073188"><div class="ttname"><a href="classitem.html#a9b7de1507e4000d58e9d813354073188">item::reload</a></div><div class="ttdeci">bool reload(Character &amp;u, item_location ammo, int qty)</div><div class="ttdoc">Reload item using ammo from location returning true if successful.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l11612">item.cpp:11612</a></div></div>
<div class="ttc" id="aclassitem_html_abfc3474737590a81c25c5c5d7154aaa2"><div class="ttname"><a href="classitem.html#abfc3474737590a81c25c5c5d7154aaa2">item::fill_with</a></div><div class="ttdeci">int fill_with(const item &amp;contained, int amount=INFINITE_CHARGES, bool unseal_pockets=false, bool allow_sealed=false, bool ignore_settings=false, bool into_bottom=false, Character *carrier=nullptr)</div><div class="ttdoc">Fill item with an item up to @amount number of items.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l12177">item.cpp:12177</a></div></div>
<div class="ttc" id="aclassitem_html_ae05d298b2cf91e4c12d5beca5f38c67f"><div class="ttname"><a href="classitem.html#ae05d298b2cf91e4c12d5beca5f38c67f">item::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l15135">item.cpp:15135</a></div></div>
<div class="ttc" id="aclassitem_html_af876b00a46cde846cf22f1f550bf37e2"><div class="ttname"><a href="classitem.html#af876b00a46cde846cf22f1f550bf37e2">item::only_item</a></div><div class="ttdeci">item &amp; only_item()</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l15145">item.cpp:15145</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="aclassmap_html_a1bf7be9d16b423fde0882be4bc3ecfc5"><div class="ttname"><a href="classmap.html#a1bf7be9d16b423fde0882be4bc3ecfc5">map::rebuild_vehicle_level_caches</a></div><div class="ttdeci">void rebuild_vehicle_level_caches()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00443">map.cpp:443</a></div></div>
<div class="ttc" id="aclassmap_html_a426c21f7244ff80a61685a89e9146fec"><div class="ttname"><a href="classmap.html#a426c21f7244ff80a61685a89e9146fec">map::getlocal</a></div><div class="ttdeci">tripoint getlocal(const tripoint &amp;p) const</div><div class="ttdoc">Inverse of getabs.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09635">map.cpp:9635</a></div></div>
<div class="ttc" id="aclassmap_html_a5fdaa85d36d4c8b742ea050d4c07a7b3"><div class="ttname"><a href="classmap.html#a5fdaa85d36d4c8b742ea050d4c07a7b3">map::clear_vehicle_point_from_cache</a></div><div class="ttdeci">void clear_vehicle_point_from_cache(vehicle *veh, const tripoint &amp;pt)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00480">map.cpp:480</a></div></div>
<div class="ttc" id="aclassmap_html_aa487d96256c3d35db7a1bf273156b64a"><div class="ttname"><a href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">map::veh_at</a></div><div class="ttdeci">optional_vpart_position veh_at(const tripoint &amp;p) const</div><div class="ttdoc">Checks if tile is occupied by vehicle and by which part.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01316">map.cpp:1316</a></div></div>
<div class="ttc" id="aclassmap_html_aa51d3d7bfa9acfbc62e9dbaac9450fc1"><div class="ttname"><a href="classmap.html#aa51d3d7bfa9acfbc62e9dbaac9450fc1">map::add_vehicle_to_cache</a></div><div class="ttdeci">void add_vehicle_to_cache(vehicle *)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00459">map.cpp:459</a></div></div>
<div class="ttc" id="aclassmap_html_ac7f59f4bc6fad84a8d8c0ddd4e023734"><div class="ttname"><a href="classmap.html#ac7f59f4bc6fad84a8d8c0ddd4e023734">map::destroy_vehicle</a></div><div class="ttdeci">void destroy_vehicle(vehicle *veh)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00626">map.cpp:626</a></div></div>
<div class="ttc" id="aclassmap_html_ae9e52026d9d68ff5e7fe85c6f8963421"><div class="ttname"><a href="classmap.html#ae9e52026d9d68ff5e7fe85c6f8963421">map::board_vehicle</a></div><div class="ttdeci">void board_vehicle(const tripoint &amp;p, Character *pl)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01361">map.cpp:1361</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html"><div class="ttname"><a href="classoptional__vpart__position.html">optional_vpart_position</a></div><div class="ttdoc">Simple wrapper to forward functions that may return a std::optional to vpart_position.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00124">vpart_position.h:125</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html_a4c78451e42e97753079ecd2a54c7143d"><div class="ttname"><a href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">optional_vpart_position::part_with_feature</a></div><div class="ttdeci">std::optional&lt; vpart_reference &gt; part_with_feature(const std::string &amp;f, bool unbroken) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02698">vehicle.cpp:2698</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a1b2c5a44b184330e2384906fe0727210"><div class="ttname"><a href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">player_activity::str_values</a></div><div class="ttdeci">std::vector&lt; std::string &gt; str_values</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00063">player_activity.h:63</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a765ca7b3410253c05939a8c1f1999c4a"><div class="ttname"><a href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">player_activity::set_to_null</a></div><div class="ttdeci">void set_to_null()</div><div class="ttdoc">This replaces the former usage act.type = ACT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00091">player_activity.cpp:91</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a979cd5aca677ff30dcbb767d4a3980d2"><div class="ttname"><a href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">player_activity::targets</a></div><div class="ttdeci">std::vector&lt; item_location &gt; targets</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00061">player_activity.h:61</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_aca09f19b9a36866a33a46cf0c8ee484d"><div class="ttname"><a href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">player_activity::values</a></div><div class="ttdeci">std::vector&lt; int &gt; values</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00062">player_activity.h:62</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_adb6198e1b33fc9dfa2d7ef2003a0ea54"><div class="ttname"><a href="classplayer__activity.html#adb6198e1b33fc9dfa2d7ef2003a0ea54">player_activity::coord_set</a></div><div class="ttdeci">std::unordered_set&lt; tripoint &gt; coord_set</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00065">player_activity.h:65</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_af40e3a7e2719460248e8c7d4661b9fa8"><div class="ttname"><a href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">player_activity::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00054">player_activity.h:54</a></div></div>
<div class="ttc" id="aclassvehicle__stack_html"><div class="ttname"><a href="classvehicle__stack.html">vehicle_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00173">vehicle.h:174</a></div></div>
<div class="ttc" id="aclassvehicle__stack_html_a4df2c9ed09e7ceda0ae2b7b488a97218"><div class="ttname"><a href="classvehicle__stack.html#a4df2c9ed09e7ceda0ae2b7b488a97218">vehicle_stack::insert</a></div><div class="ttdeci">void insert(const item &amp;newitem) override</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l00192">vehicle.cpp:192</a></div></div>
<div class="ttc" id="aclassvehicle_html"><div class="ttname"><a href="classvehicle.html">vehicle</a></div><div class="ttdoc">A vehicle as a whole with all its components.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00801">vehicle.h:802</a></div></div>
<div class="ttc" id="aclassvehicle_html_a030263e1db60c034caa9e6f24199cd33"><div class="ttname"><a href="classvehicle.html#a030263e1db60c034caa9e6f24199cd33">vehicle::install_part</a></div><div class="ttdeci">int install_part(const point &amp;dp, const vpart_id &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l01450">vehicle.cpp:1450</a></div></div>
<div class="ttc" id="aclassvehicle_html_a0c31e4a5e1fac92d9bafeab9c3bdb791"><div class="ttname"><a href="classvehicle.html#a0c31e4a5e1fac92d9bafeab9c3bdb791">vehicle::removed_part</a></div><div class="ttdeci">item removed_part(const vehicle_part &amp;vp) const</div><div class="ttdoc">If the vehicle part has an item it is removed as, transform the item to the item it is removed_as.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l08249">vehicle.cpp:8249</a></div></div>
<div class="ttc" id="aclassvehicle_html_a12844862e123c12dc923ca390becf79e"><div class="ttname"><a href="classvehicle.html#a12844862e123c12dc923ca390becf79e">vehicle::pos</a></div><div class="ttdeci">point pos</div><div class="ttdoc">Position of the vehicle inside the submap that contains the vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02274">vehicle.h:2274</a></div></div>
<div class="ttc" id="aclassvehicle_html_a256bff136536ed8e38b84521c1450a6a"><div class="ttname"><a href="classvehicle.html#a256bff136536ed8e38b84521c1450a6a">vehicle::part_removal_cleanup</a></div><div class="ttdeci">void part_removal_cleanup()</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02133">vehicle.cpp:2133</a></div></div>
<div class="ttc" id="aclassvehicle_html_a3900ee345be0453828a955a200154db1"><div class="ttname"><a href="classvehicle.html#a3900ee345be0453828a955a200154db1">vehicle::global_pos3</a></div><div class="ttdeci">tripoint global_pos3() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03431">vehicle.cpp:3431</a></div></div>
<div class="ttc" id="aclassvehicle_html_a40959114c15f1865e1ed695acfa33fd5"><div class="ttname"><a href="classvehicle.html#a40959114c15f1865e1ed695acfa33fd5">vehicle::find_and_split_vehicles</a></div><div class="ttdeci">bool find_and_split_vehicles(map &amp;here, std::set&lt; int &gt; exclude)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02275">vehicle.cpp:2275</a></div></div>
<div class="ttc" id="aclassvehicle_html_a441fa41f264fb7bc45df81d71244a0d1"><div class="ttname"><a href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">vehicle::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02201">vehicle.h:2201</a></div></div>
<div class="ttc" id="aclassvehicle_html_a493ce28268a608da24ca250b22de1a3e"><div class="ttname"><a href="classvehicle.html#a493ce28268a608da24ca250b22de1a3e">vehicle::get_next_shifted_index</a></div><div class="ttdeci">int get_next_shifted_index(int original_index, Character &amp;you) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03091">vehicle.cpp:3091</a></div></div>
<div class="ttc" id="aclassvehicle_html_a8e8079a6591b3104191c881509f16d61"><div class="ttname"><a href="classvehicle.html#a8e8079a6591b3104191c881509f16d61">vehicle::invalidate_mass</a></div><div class="ttdeci">void invalidate_mass()</div><div class="ttdoc">Mark mass caches and pivot cache as dirty.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l07986">vehicle.cpp:7986</a></div></div>
<div class="ttc" id="aclassvehicle_html_a9e6e8c8297827dd47195ba732a35df44"><div class="ttname"><a href="classvehicle.html#a9e6e8c8297827dd47195ba732a35df44">vehicle::invalidate_towing</a></div><div class="ttdeci">void invalidate_towing(bool first_vehicle=false, Character *remover=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l06828">vehicle.cpp:6828</a></div></div>
<div class="ttc" id="aclassvehicle_html_aa10bbf2045f3581a65049d7b7b5071ae"><div class="ttname"><a href="classvehicle.html#aa10bbf2045f3581a65049d7b7b5071ae">vehicle::part_count</a></div><div class="ttdeci">int part_count() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l08124">vehicle.cpp:8124</a></div></div>
<div class="ttc" id="aclassvehicle_html_abb258f96391c0e73540767308e0b6db1"><div class="ttname"><a href="classvehicle.html#abb258f96391c0e73540767308e0b6db1">vehicle::part_count_real</a></div><div class="ttdeci">int part_count_real() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l08129">vehicle.cpp:8129</a></div></div>
<div class="ttc" id="aclassvehicle_html_abbc4051229bf116dfd03c53dcc4a0765"><div class="ttname"><a href="classvehicle.html#abbc4051229bf116dfd03c53dcc4a0765">vehicle::get_items</a></div><div class="ttdeci">vehicle_stack get_items(const vehicle_part &amp;vp) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l05922">vehicle.cpp:5922</a></div></div>
<div class="ttc" id="aclassvehicle_html_ac2d28a00ecef8f1077752dfca73c15eb"><div class="ttname"><a href="classvehicle.html#ac2d28a00ecef8f1077752dfca73c15eb">vehicle::precalc_mounts</a></div><div class="ttdeci">void precalc_mounts(int idir, const units::angle &amp;dir, const point &amp;pivot)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03338">vehicle.cpp:3338</a></div></div>
<div class="ttc" id="aclassvehicle_html_ac7a485bf93623e2081919a506e650f7d"><div class="ttname"><a href="classvehicle.html#ac7a485bf93623e2081919a506e650f7d">vehicle::remove_remote_part</a></div><div class="ttdeci">void remove_remote_part(const vehicle_part &amp;vp_local) const</div><div class="ttdoc">Remove the part on a targeted remote vehicle that a part is targeting.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l06966">vehicle.cpp:6966</a></div></div>
<div class="ttc" id="aclassvehicle_html_ad45ae53f6326f7fde4d8e59848470457"><div class="ttname"><a href="classvehicle.html#ad45ae53f6326f7fde4d8e59848470457">vehicle::coord_translate</a></div><div class="ttdeci">point coord_translate(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03301">vehicle.cpp:3301</a></div></div>
<div class="ttc" id="aclassvehicle_html_ae8132c34a1ea24866889e6e599796adc"><div class="ttname"><a href="classvehicle.html#ae8132c34a1ea24866889e6e599796adc">vehicle::global_part_pos3</a></div><div class="ttdeci">tripoint global_part_pos3(const int &amp;index) const</div><div class="ttdoc">Get the coordinates of the studied part of the vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03442">vehicle.cpp:3442</a></div></div>
<div class="ttc" id="aclassvehicle_html_ae9844787dd02657b4282b93f237c4987"><div class="ttname"><a href="classvehicle.html#ae9844787dd02657b4282b93f237c4987">vehicle::parts_at_relative</a></div><div class="ttdeci">std::vector&lt; int &gt; parts_at_relative(const point &amp;dp, bool use_cache, bool include_fake=false) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02569">vehicle.cpp:2569</a></div></div>
<div class="ttc" id="aclassvehicle_html_af366981a584e12d25133fb479d47de33"><div class="ttname"><a href="classvehicle.html#af366981a584e12d25133fb479d47de33">vehicle::turn_dir</a></div><div class="ttdeci">units::angle turn_dir</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02291">vehicle.h:2291</a></div></div>
<div class="ttc" id="aclassvehicle_html_af54f1f29e7bed4134c59b4ab6fba3904"><div class="ttname"><a href="classvehicle.html#af54f1f29e7bed4134c59b4ab6fba3904">vehicle::unlink_cables</a></div><div class="ttdeci">void unlink_cables(const point &amp;mount, Character &amp;remover, bool unlink_items=false, bool unlink_tow_cables=false, bool unlink_power_cords=false)</div><div class="ttdoc">Disconnect cables attached to the specified mount point.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l07025">vehicle.cpp:7025</a></div></div>
<div class="ttc" id="aclassvehicle_html_af5caceadd49cf1febcbb30c9567aa99d"><div class="ttname"><a href="classvehicle.html#af5caceadd49cf1febcbb30c9567aa99d">vehicle::remove_part</a></div><div class="ttdeci">bool remove_part(vehicle_part &amp;vp)</div><div class="ttdoc">Mark a part as removed from the vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l01966">vehicle.cpp:1966</a></div></div>
<div class="ttc" id="aclassvehicle_html_afd4e8e8471b17450205d827dee8a41a5"><div class="ttname"><a href="classvehicle.html#afd4e8e8471b17450205d827dee8a41a5">vehicle::pivot_anchor</a></div><div class="ttdeci">std::array&lt; point, 2 &gt; pivot_anchor</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02310">vehicle.h:2310</a></div></div>
<div class="ttc" id="aclassvpart__info_html"><div class="ttname"><a href="classvpart__info.html">vpart_info</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00239">veh_type.h:240</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a03cfe554b18beb9c32d9a86872a1748e"><div class="ttname"><a href="classvpart__info.html#a03cfe554b18beb9c32d9a86872a1748e">vpart_info::location</a></div><div class="ttdeci">std::string location</div><div class="ttdoc">What slot of the vehicle tile does this part occupy?</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00406">veh_type.h:406</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a9349b8416f91bb3029e9a8c9991d0a4a"><div class="ttname"><a href="classvpart__info.html#a9349b8416f91bb3029e9a8c9991d0a4a">vpart_info::install_skills</a></div><div class="ttdeci">std::map&lt; skill_id, int &gt; install_skills</div><div class="ttdoc">Required skills to install, repair, or remove this component.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00349">veh_type.h:349</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aba80d384b977306eb749c9c9958a62a7"><div class="ttname"><a href="classvpart__info.html#aba80d384b977306eb749c9c9958a62a7">vpart_info::id</a></div><div class="ttdeci">vpart_id id</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00242">veh_type.h:242</a></div></div>
<div class="ttc" id="aclassvpart__info_html_ac49f2d6f9a4b8e42a768dfb28dad69c3"><div class="ttname"><a href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">vpart_info::variants</a></div><div class="ttdeci">std::map&lt; std::string, vpart_variant &gt; variants</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00342">veh_type.h:342</a></div></div>
<div class="ttc" id="aclassvpart__info_html_adfe04850347ddec99a639e19d432f9c8"><div class="ttname"><a href="classvpart__info.html#adfe04850347ddec99a639e19d432f9c8">vpart_info::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdoc">Translated name of a part.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00965">veh_type.cpp:965</a></div></div>
<div class="ttc" id="acreature__tracker_8h_html_a16f631f70e72b53e590770670fb301fb"><div class="ttname"><a href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a></div><div class="ttdeci">creature_tracker &amp; get_creature_tracker()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13827">game.cpp:13827</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="aenums_8h_html_a00763863874f01b868849b27ceee73c9a1f85e94c05010d1308d67d1d918944e4"><div class="ttname"><a href="enums_8h.html#a00763863874f01b868849b27ceee73c9a1f85e94c05010d1308d67d1d918944e4">broken</a></div><div class="ttdeci">@ broken</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00417">enums.h:417</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a></div><div class="ttdeci">@ m_good</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00347">enums.h:347</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a></div><div class="ttdeci">@ m_info</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00352">enums.h:352</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a></div><div class="ttdeci">@ m_bad</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00348">enums.h:348</a></div></div>
<div class="ttc" id="agame_8cpp_html_afa1063326b0c16b43c6f3dc8c3df403d"><div class="ttname"><a href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13822">game.cpp:13822</a></div></div>
<div class="ttc" id="amagic_8h_html_a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc"><div class="ttname"><a href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">spell_target::item</a></div><div class="ttdeci">@ item</div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00997">messages.cpp:997</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02item__tname_8cpp_03_html_a1ff93bf21a97272ada4556de4422fb80"><div class="ttname"><a href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a1ff93bf21a97272ada4556de4422fb80">anonymous_namespace{item_tname.cpp}::contents</a></div><div class="ttdeci">std::string contents(item const &amp;it, unsigned int, segment_bitset const &amp;segments)</div><div class="ttdef"><b>Definition:</b> <a href="item__tname_8cpp_source.html#l00216">item_tname.cpp:216</a></div></div>
<div class="ttc" id="anamespaceitem__group_html_a1756cb07c624c3169988316a8615ff69"><div class="ttname"><a href="namespaceitem__group.html#a1756cb07c624c3169988316a8615ff69">item_group::ItemList</a></div><div class="ttdeci">std::vector&lt; item &gt; ItemList</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00050">item_group.h:50</a></div></div>
<div class="ttc" id="anamespaceveh__utils_html_a65818d5c94661e4de10acebae281dc09"><div class="ttname"><a href="namespaceveh__utils.html#a65818d5c94661e4de10acebae281dc09">veh_utils::repair_part</a></div><div class="ttdeci">bool repair_part(vehicle &amp;veh, vehicle_part &amp;pt, Character &amp;who)</div><div class="ttdoc">Repairs a given part on a given vehicle by given character.</div><div class="ttdef"><b>Definition:</b> <a href="veh__utils_8cpp_source.html#l00092">veh_utils.cpp:92</a></div></div>
<div class="ttc" id="anamespaceveh__utils_html_aa16e056061ec8316a456ac4fa520b7df"><div class="ttname"><a href="namespaceveh__utils.html#aa16e056061ec8316a456ac4fa520b7df">veh_utils::calc_xp_gain</a></div><div class="ttdeci">int calc_xp_gain(const vpart_info &amp;vp, const skill_id &amp;sk, const Character &amp;who)</div><div class="ttdoc">Calculates xp for interacting with given part.</div><div class="ttdef"><b>Definition:</b> <a href="veh__utils_8cpp_source.html#l00033">veh_utils.cpp:33</a></div></div>
<div class="ttc" id="arng_8cpp_html_a0c88381d6334a2fbaa726c53f5cf9bb9"><div class="ttname"><a href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a></div><div class="ttdeci">double rng_float(double lo, double hi)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00027">rng.cpp:27</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a175d46943600149603b7a915cb48092b"><div class="ttname"><a href="structrequirement__data.html#a175d46943600149603b7a915cb48092b">requirement_data::get_tools</a></div><div class="ttdeci">const alter_tool_comp_vector &amp; get_tools() const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l01152">requirements.cpp:1152</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a56dbf23ade6bced0dc6148b8e1a12d4c"><div class="ttname"><a href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">requirement_data::get_components</a></div><div class="ttdeci">const alter_item_comp_vector &amp; get_components() const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l01162">requirements.cpp:1162</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a1acf6a662e684e35e9ef4c26f02b4a42"><div class="ttname"><a href="structvehicle__part.html#a1acf6a662e684e35e9ef4c26f02b4a42">vehicle_part::is_tank</a></div><div class="ttdeci">bool is_tank() const</div><div class="ttdoc">Can this part contain liquid fuels?</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00586">vehicle_part.cpp:586</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a212238a594301bf7ff4a1264421b6152"><div class="ttname"><a href="structvehicle__part.html#a212238a594301bf7ff4a1264421b6152">vehicle_part::is_fuel_store</a></div><div class="ttdeci">bool is_fuel_store(bool skip_broke=true) const</div><div class="ttdoc">Can this part store fuel of any type @skip_broke exclude broken parts.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00578">vehicle_part.cpp:578</a></div></div>
<div class="ttc" id="astructvehicle__part_html_aa124aaa399ff7a56dcf242ebda4572b5"><div class="ttname"><a href="structvehicle__part.html#aa124aaa399ff7a56dcf242ebda4572b5">vehicle_part::damage_level</a></div><div class="ttdeci">int damage_level() const</div><div class="ttdoc">damage level of part base</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00174">vehicle_part.cpp:174</a></div></div>
<div class="ttc" id="astructvehicle__part_html_ac6e2dfa7178b8bed91baea3543961a86"><div class="ttname"><a href="structvehicle__part.html#ac6e2dfa7178b8bed91baea3543961a86">vehicle_part::mount</a></div><div class="ttdeci">point mount</div><div class="ttdoc">mount point: x is on the forward/backward axis, y is on the left/right axis</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00447">vehicle.h:447</a></div></div>
<div class="ttc" id="aveh__interact_8cpp_html_a3bcc375ba8f86b1872bf486726c0551a"><div class="ttname"><a href="veh__interact_8cpp.html#a3bcc375ba8f86b1872bf486726c0551a">vpart_ap_wall_wiring</a></div><div class="ttdeci">static const vpart_id vpart_ap_wall_wiring(&quot;ap_wall_wiring&quot;)</div></div>
<div class="ttc" id="aveh__interact_8cpp_html_a9d5a3d1731b5cef76f6be0703634184f"><div class="ttname"><a href="veh__interact_8cpp.html#a9d5a3d1731b5cef76f6be0703634184f">orient_part</a></div><div class="ttdeci">void orient_part(vehicle *veh, const vpart_info &amp;vpinfo, int partnum, const std::optional&lt; point &gt; &amp;part_placement)</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l00187">veh_interact.cpp:187</a></div></div>
<div class="ttc" id="aveh__interact_8cpp_html_af68210f33dec93cf93be508e70e1ca87"><div class="ttname"><a href="veh__interact_8cpp.html#af68210f33dec93cf93be508e70e1ca87">do_change_shape_menu</a></div><div class="ttdeci">static void do_change_shape_menu(vehicle_part &amp;vp)</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l01949">veh_interact.cpp:1949</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea0c516f66a07d369c24681ba3308defb8"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea0c516f66a07d369c24681ba3308defb8">VPFLAG_POWER_TRANSFER</a></div><div class="ttdeci">@ VPFLAG_POWER_TRANSFER</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00113">veh_type.h:113</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea0e5ba370df41b42336b154cd7fde38ec"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea0e5ba370df41b42336b154cd7fde38ec">VPFLAG_CONE_LIGHT</a></div><div class="ttdeci">@ VPFLAG_CONE_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00063">veh_type.h:63</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea25845bed2168d8462142a573ecbb100d"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea25845bed2168d8462142a573ecbb100d">VPFLAG_CABLE_PORTS</a></div><div class="ttdeci">@ VPFLAG_CABLE_PORTS</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00111">veh_type.h:111</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea517103a03982a8a4d633ee17aad88f72"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea517103a03982a8a4d633ee17aad88f72">VPFLAG_BATTERY</a></div><div class="ttdeci">@ VPFLAG_BATTERY</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00112">veh_type.h:112</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eac068ca47063a40941d3b0561a2f3be51"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eac068ca47063a40941d3b0561a2f3be51">VPFLAG_WIDE_CONE_LIGHT</a></div><div class="ttdeci">@ VPFLAG_WIDE_CONE_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00064">veh_type.h:64</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eaebc2a9d9402e04973e4ee469daddeda5"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eaebc2a9d9402e04973e4ee469daddeda5">VPFLAG_BOARDABLE</a></div><div class="ttdeci">@ VPFLAG_BOARDABLE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00067">veh_type.h:67</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eaf0ce59d9e0d42526c7e45dd7ca9aa571"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eaf0ce59d9e0d42526c7e45dd7ca9aa571">VPFLAG_HALF_CIRCLE_LIGHT</a></div><div class="ttdeci">@ VPFLAG_HALF_CIRCLE_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00065">veh_type.h:65</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="character_8h_source.html#l02709">Character::activity</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="character_8cpp_source.html#l00856">Character::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l00861">Character::add_msg_player_or_npc()</a>, <a class="el" href="map_8cpp_source.html#l00459">map::add_vehicle_to_cache()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00261">vehicle_part::ammo_capacity()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00298">vehicle_part::ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l11073">item::ammo_type()</a>, <a class="el" href="vehicle_8h_source.html#l00541">vehicle_part::base</a>, <a class="el" href="veh__type_8h_source.html#l00400">vpart_info::base_item</a>, <a class="el" href="map_8cpp_source.html#l01361">map::board_vehicle()</a>, <a class="el" href="enums_8h_source.html#l00417">broken</a>, <a class="el" href="string__id_8h_source.html#l00252">string_id&lt; T &gt;::c_str()</a>, <a class="el" href="veh__utils_8cpp_source.html#l00033">veh_utils::calc_xp_gain()</a>, <a class="el" href="requirements_8cpp_source.html#l00840">requirement_data::can_make_with_inventory()</a>, <a class="el" href="item_8h_source.html#l03133">item::charges</a>, <a class="el" href="cata__utility_8h_source.html#l00221">clamp()</a>, <a class="el" href="map_8cpp_source.html#l00480">map::clear_vehicle_point_from_cache()</a>, <a class="el" href="crafting_8cpp_source.html#l02029">Character::consume_items()</a>, <a class="el" href="crafting_8cpp_source.html#l02400">Character::consume_tools()</a>, <a class="el" href="item__tname_8cpp_source.html#l00216">anonymous_namespace{item_tname.cpp}::contents()</a>, <a class="el" href="player__activity_8h_source.html#l00065">player_activity::coord_set</a>, <a class="el" href="vehicle_8cpp_source.html#l03301">vehicle::coord_translate()</a>, <a class="el" href="crafting_8cpp_source.html#l00629">Character::crafting_inventory()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00174">vehicle_part::damage_level()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="activity__handlers_8h.html#a0d84fb943914cecb4ecf3e469beeb42ca38dd6f2bec3ea3b3cde92db954842bdb">deliberate</a>, <a class="el" href="map_8cpp_source.html#l00626">map::destroy_vehicle()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01949">do_change_shape_menu()</a>, <a class="el" href="item_8cpp_source.html#l15135">item::empty()</a>, <a class="el" href="item_8cpp_source.html#l12177">item::fill_with()</a>, <a class="el" href="vehicle_8cpp_source.html#l02275">vehicle::find_and_split_vehicles()</a>, <a class="el" href="requirements_8cpp_source.html#l01162">requirement_data::get_components()</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="vehicle_8cpp_source.html#l05922">vehicle::get_items()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="vehicle_8cpp_source.html#l03091">vehicle::get_next_shifted_index()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00071">vehicle_part::get_salvageable()</a>, <a class="el" href="requirements_8cpp_source.html#l01152">requirement_data::get_tools()</a>, <a class="el" href="map_8cpp_source.html#l09635">map::getlocal()</a>, <a class="el" href="vehicle_8cpp_source.html#l03442">vehicle::global_part_pos3()</a>, <a class="el" href="vehicle_8cpp_source.html#l03431">vehicle::global_pos3()</a>, <a class="el" href="contents__change__handler_8cpp_source.html#l00037">contents_change_handler::handle_by()</a>, <a class="el" href="veh__type_8h_source.html#l00256">vpart_info::has_flag()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="veh__type_8h_source.html#l00242">vpart_info::id</a>, <a class="el" href="player__activity_8h_source.html#l00054">player_activity::index</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00623">vehicle_part::info()</a>, <a class="el" href="vehicle_8cpp_source.html#l00192">vehicle_stack::insert()</a>, <a class="el" href="vehicle_8cpp_source.html#l01450">vehicle::install_part()</a>, <a class="el" href="veh__type_8cpp_source.html#l01072">vpart_info::install_requirements()</a>, <a class="el" href="veh__type_8h_source.html#l00349">vpart_info::install_skills</a>, <a class="el" href="crafting_8cpp_source.html#l00692">Character::invalidate_crafting_inventory()</a>, <a class="el" href="vehicle_8cpp_source.html#l07986">vehicle::invalidate_mass()</a>, <a class="el" href="vehicle_8cpp_source.html#l06828">vehicle::invalidate_towing()</a>, <a class="el" href="character_8cpp_source.html#l03097">Character::invalidate_weight_carried_cache()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00200">vehicle_part::is_broken()</a>, <a class="el" href="item_8cpp_source.html#l09667">item::is_container()</a>, <a class="el" href="item_8h_source.html#l03267">is_crafting_component()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00578">vehicle_part::is_fuel_store()</a>, <a class="el" href="character_8h_source.html#l00538">Character::is_npc()</a>, <a class="el" href="item_8cpp_source.html#l00931">item::is_null()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00586">vehicle_part::is_tank()</a>, <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>, <a class="el" href="veh__type_8h_source.html#l00406">vpart_info::location</a>, <a class="el" href="enums_8h_source.html#l00348">m_bad</a>, <a class="el" href="enums_8h_source.html#l00347">m_good</a>, <a class="el" href="enums_8h_source.html#l00352">m_info</a>, <a class="el" href="vehicle_8h_source.html#l00447">vehicle_part::mount</a>, <a class="el" href="character_8h_source.html#l02684">Character::name</a>, <a class="el" href="veh__type_8cpp_source.html#l00965">vpart_info::name()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00113">vehicle_part::name()</a>, <a class="el" href="vehicle_8h_source.html#l02201">vehicle::name</a>, <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>, <a class="el" href="item_8cpp_source.html#l15145">item::only_item()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00187">orient_part()</a>, <a class="el" href="vehicle_8cpp_source.html#l08098">vehicle::part()</a>, <a class="el" href="vehicle_8cpp_source.html#l08124">vehicle::part_count()</a>, <a class="el" href="vehicle_8cpp_source.html#l08129">vehicle::part_count_real()</a>, <a class="el" href="vehicle_8cpp_source.html#l02133">vehicle::part_removal_cleanup()</a>, <a class="el" href="vehicle_8cpp_source.html#l08223">vehicle::part_to_item()</a>, <a class="el" href="vehicle_8cpp_source.html#l02698">optional_vpart_position::part_with_feature()</a>, <a class="el" href="vehicle_8cpp_source.html#l02569">vehicle::parts_at_relative()</a>, <a class="el" href="vehicle_8cpp_source.html#l02558">vehicle_part::pieces_for_broken_part()</a>, <a class="el" href="vehicle_8h_source.html#l02310">vehicle::pivot_anchor</a>, <a class="el" href="vehicle_8h_source.html#l02274">vehicle::pos</a>, <a class="el" href="creature_8h_source.html#l00317">Creature::posz()</a>, <a class="el" href="character_8cpp_source.html#l02683">Character::practice()</a>, <a class="el" href="vehicle_8cpp_source.html#l03338">vehicle::precalc_mounts()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00442">put_into_vehicle_or_drop()</a>, <a class="el" href="map_8cpp_source.html#l00443">map::rebuild_vehicle_level_caches()</a>, <a class="el" href="item_8cpp_source.html#l11612">item::reload()</a>, <a class="el" href="veh__type_8cpp_source.html#l01077">vpart_info::removal_requirements()</a>, <a class="el" href="item__location_8cpp_source.html#l01041">item_location::remove_item()</a>, <a class="el" href="vehicle_8cpp_source.html#l01966">vehicle::remove_part()</a>, <a class="el" href="vehicle_8cpp_source.html#l06966">vehicle::remove_remote_part()</a>, <a class="el" href="vehicle_8cpp_source.html#l08249">vehicle::removed_part()</a>, <a class="el" href="veh__utils_8cpp_source.html#l00092">veh_utils::repair_part()</a>, <a class="el" href="rng_8cpp_source.html#l00027">rng_float()</a>, <a class="el" href="player__activity_8cpp_source.html#l00091">player_activity::set_to_null()</a>, <a class="el" href="player__activity_8h_source.html#l00063">player_activity::str_values</a>, <a class="el" href="player__activity_8h_source.html#l00061">player_activity::targets</a>, <a class="el" href="veh__interact_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>, <a class="el" href="vehicle_8h_source.html#l02291">vehicle::turn_dir</a>, <a class="el" href="vehicle_8cpp_source.html#l07025">vehicle::unlink_cables()</a>, <a class="el" href="contents__change__handler_8cpp_source.html#l00020">contents_change_handler::unseal_pocket_containing()</a>, <a class="el" href="player__activity_8h_source.html#l00062">player_activity::values</a>, <a class="el" href="veh__type_8h_source.html#l00342">vpart_info::variants</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>, <a class="el" href="veh__interact_8cpp.html#a3bcc375ba8f86b1872bf486726c0551a">vpart_ap_wall_wiring</a>, <a class="el" href="veh__type_8h_source.html#l00059">VPFLAG_APPLIANCE</a>, <a class="el" href="veh__type_8h_source.html#l00112">VPFLAG_BATTERY</a>, <a class="el" href="veh__type_8h_source.html#l00067">VPFLAG_BOARDABLE</a>, <a class="el" href="veh__type_8h_source.html#l00111">VPFLAG_CABLE_PORTS</a>, <a class="el" href="veh__type_8h_source.html#l00063">VPFLAG_CONE_LIGHT</a>, <a class="el" href="veh__type_8h_source.html#l00065">VPFLAG_HALF_CIRCLE_LIGHT</a>, <a class="el" href="veh__type_8h_source.html#l00113">VPFLAG_POWER_TRANSFER</a>, <a class="el" href="veh__type_8h_source.html#l00064">VPFLAG_WIDE_CONE_LIGHT</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__handlers_8cpp_source.html#l02071">activity_handlers::vehicle_finish()</a>.</p>

</div>
</div>
<a id="a3e7763834f74c4ee8beb929182638ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e7763834f74c4ee8beb929182638ca0">&#9670;&nbsp;</a></span>count_durability()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::count_durability </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l02962">2962</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;{</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;    <span class="keyword">const</span> <a class="code" href="classvehicle__part__range.html">vehicle_part_range</a> vpr = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a397b40aa92dd1fd09ee592aa279bc656">get_all_parts</a>();</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;    <span class="keywordtype">int</span> qty = std::accumulate( vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a822ae177a963bb07078c871f92d7e10b">begin</a>(), vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a9b3573598b7bdd91fa3d789602799a1b">end</a>(), 0,</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;    []( <span class="keywordtype">int</span> lhs, <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp; rhs ) {</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;        return lhs + std::max( rhs.part().base.damage(), rhs.part().base.degradation() );</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;    } );</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160; </div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;    <span class="keywordtype">int</span> total = std::accumulate( vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a822ae177a963bb07078c871f92d7e10b">begin</a>(), vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a9b3573598b7bdd91fa3d789602799a1b">end</a>(), 0,</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;    []( <span class="keywordtype">int</span> lhs, <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp; rhs ) {</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;        return lhs + rhs.part().base.max_damage();</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;    } );</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160; </div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;    <span class="keywordtype">int</span> pct = total ? 100 * qty / total : 0;</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160; </div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    <span class="keywordflow">if</span>( pct &lt; 5 ) {</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;        <a class="code" href="classveh__interact.html#a94cea8131bdc9142ce448c9e340734ad">total_durability_text</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;like new&quot;</span> );</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;        <a class="code" href="classveh__interact.html#aa67ce404023ff4d483e245ff6ebc6885">total_durability_color</a> = <a class="code" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a>;</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160; </div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( pct &lt; 33 ) {</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;        <a class="code" href="classveh__interact.html#a94cea8131bdc9142ce448c9e340734ad">total_durability_text</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;dented&quot;</span> );</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;        <a class="code" href="classveh__interact.html#aa67ce404023ff4d483e245ff6ebc6885">total_durability_color</a> = <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>;</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160; </div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( pct &lt; 66 ) {</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;        <a class="code" href="classveh__interact.html#a94cea8131bdc9142ce448c9e340734ad">total_durability_text</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;battered&quot;</span> );</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;        <a class="code" href="classveh__interact.html#aa67ce404023ff4d483e245ff6ebc6885">total_durability_color</a> = <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a>;</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160; </div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( pct &lt; 100 ) {</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;        <a class="code" href="classveh__interact.html#a94cea8131bdc9142ce448c9e340734ad">total_durability_text</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;wrecked&quot;</span> );</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;        <a class="code" href="classveh__interact.html#aa67ce404023ff4d483e245ff6ebc6885">total_durability_color</a> = <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160; </div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;        <a class="code" href="classveh__interact.html#a94cea8131bdc9142ce448c9e340734ad">total_durability_text</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;destroyed&quot;</span> );</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;        <a class="code" href="classveh__interact.html#aa67ce404023ff4d483e245ff6ebc6885">total_durability_color</a> = <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>;</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    }</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;}</div>
<div class="ttc" id="aclassveh__interact_html_a94cea8131bdc9142ce448c9e340734ad"><div class="ttname"><a href="classveh__interact.html#a94cea8131bdc9142ce448c9e340734ad">veh_interact::total_durability_text</a></div><div class="ttdeci">std::string total_durability_text</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00248">veh_interact.h:248</a></div></div>
<div class="ttc" id="aclassveh__interact_html_aa67ce404023ff4d483e245ff6ebc6885"><div class="ttname"><a href="classveh__interact.html#aa67ce404023ff4d483e245ff6ebc6885">veh_interact::total_durability_color</a></div><div class="ttdeci">nc_color total_durability_color</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00247">veh_interact.h:247</a></div></div>
<div class="ttc" id="acolor_8h_html_a2236aa1fe66b707a104f19ad45c23230"><div class="ttname"><a href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a></div><div class="ttdeci">#define c_light_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00026">color.h:26</a></div></div>
<div class="ttc" id="acolor_8h_html_a39fc218ef401d918701636583a85a168"><div class="ttname"><a href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a></div><div class="ttdeci">#define c_magenta</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00023">color.h:23</a></div></div>
<div class="ttc" id="acolor_8h_html_a81e80ab9142609903b4788a6bb31ae45"><div class="ttname"><a href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a></div><div class="ttdeci">#define c_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00030">color.h:30</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="vpart__range_8h_source.html#l00123">generic_vehicle_part_range&lt; range_type &gt;::begin()</a>, <a class="el" href="color_8h_source.html#l00018">c_dark_gray</a>, <a class="el" href="color_8h_source.html#l00026">c_light_green</a>, <a class="el" href="color_8h_source.html#l00023">c_magenta</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="color_8h_source.html#l00030">c_yellow</a>, <a class="el" href="vpart__range_8h_source.html#l00126">generic_vehicle_part_range&lt; range_type &gt;::end()</a>, <a class="el" href="vehicle_8cpp_source.html#l08119">vehicle::get_all_parts()</a>, <a class="el" href="veh__interact_8h_source.html#l00247">total_durability_color</a>, <a class="el" href="veh__interact_8h_source.html#l00248">total_durability_text</a>, and <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00261">veh_interact()</a>.</p>

</div>
</div>
<a id="a2601f5a5bd9a75a0505b488a45dc0c3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2601f5a5bd9a75a0505b488a45dc0c3b">&#9670;&nbsp;</a></span>create_or_get_ui_adaptor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast</a>&lt; <a class="el" href="classui__adaptor.html">ui_adaptor</a> &gt; veh_interact::create_or_get_ui_adaptor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l00399">399</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;{</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <a class="code" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;ui_adaptor&gt;</a> current_ui = <a class="code" href="namespaceui.html">ui</a>.lock();</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span>( !current_ui ) {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <a class="code" href="namespaceui.html">ui</a> = current_ui = make_shared_fast&lt;ui_adaptor&gt;();</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        current_ui-&gt;on_screen_resize( [<span class="keyword">this</span>]( <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; current_ui ) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a8d30c9db141fd24b43ab54dead1f1e22">ui_hidden</a> ) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                current_ui.<a class="code" href="classui__adaptor.html#af6aa8e52d6fe399f60da61e428f1f721">position</a>( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> );</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <a class="code" href="classveh__interact.html#ac2c4bbc7d6137b4e842e4f3559361cb3">allocate_windows</a>();</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            current_ui.<a class="code" href="classui__adaptor.html#aae52e80c928fa76affccc3b60d415982">position_from_window</a>( <a class="code" href="namespacecatacurses.html#a51707e12b1a95f6c69b1e128c4ba2601">catacurses::stdscr</a> );</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        } );</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        current_ui-&gt;<a class="code" href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">mark_resize</a>();</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        current_ui-&gt;<a class="code" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a>( [<span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a8d30c9db141fd24b43ab54dead1f1e22">ui_hidden</a> ) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <a class="code" href="classveh__interact.html#ad7afbb5c8501d7272a8d052a83f83ec9">display_grid</a>();</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <a class="code" href="classveh__interact.html#ab1cf4eb2be5146f475006b8515a12642">display_name</a>();</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <a class="code" href="classveh__interact.html#afef55d6de6d58b0cdaae3051c6fe0ccb">display_stats</a>();</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <a class="code" href="classveh__interact.html#ae4de3e3140d5eb8b374932338b56fd8a">display_veh</a>();</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( <a class="code" href="classveh__interact.html#a0b4868e02f25d3cc10097be1de62ae4a">w_parts</a> );</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a1ee2af04a082012d1f6b28fc325de069">print_part_list</a>( <a class="code" href="classveh__interact.html#a0b4868e02f25d3cc10097be1de62ae4a">w_parts</a>, 0, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classveh__interact.html#a0b4868e02f25d3cc10097be1de62ae4a">w_parts</a> ) - 1, <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a0b4868e02f25d3cc10097be1de62ae4a">w_parts</a> ), <a class="code" href="classveh__interact.html#a354e576739b8ec01d1327e31b17ca64c">cpart</a>, <a class="code" href="classveh__interact.html#a74a0478ce397fde8ce2667075c631c81">highlight_part</a>,</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                                  <span class="keyword">true</span>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classveh__interact.html#a0b4868e02f25d3cc10097be1de62ae4a">w_parts</a> );</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( <a class="code" href="classveh__interact.html#a8fbae1471a0f80d1618c704a880d133b">w_msg</a> );</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a>.has_value() ) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a98b1fa3f71287aad0de13e3166e8a6e7">print_vparts_descs</a>( <a class="code" href="classveh__interact.html#a8fbae1471a0f80d1618c704a880d133b">w_msg</a>, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classveh__interact.html#a8fbae1471a0f80d1618c704a880d133b">w_msg</a> ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a8fbae1471a0f80d1618c704a880d133b">w_msg</a> ), <a class="code" href="classveh__interact.html#a354e576739b8ec01d1327e31b17ca64c">cpart</a>, <a class="code" href="classveh__interact.html#a270a6a09e9de42e209aeda0048783cfe">start_at</a>, <a class="code" href="classveh__interact.html#a6ed6231f344816729371a0e24890bb73">start_limit</a> );</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> height = <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">catacurses::getmaxy</a>( <a class="code" href="classveh__interact.html#a8fbae1471a0f80d1618c704a880d133b">w_msg</a> );</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> width = <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">catacurses::getmaxx</a>( <a class="code" href="classveh__interact.html#a8fbae1471a0f80d1618c704a880d133b">w_msg</a> ) - 2;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                <span class="comment">// the following contraption is splitting buffer into separate lines for scrolling</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                <span class="comment">// since earlier code relies on msg already being folded</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                std::vector&lt;std::string&gt; buffer;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                std::istringstream msg_stream( <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a>.value() );</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                <span class="keywordflow">while</span>( !msg_stream.eof() ) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                    std::string <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                    getline( msg_stream, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> );</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> ) &lt;= width ) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                        buffer.emplace_back( <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> );</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                        std::vector&lt;std::string&gt; folded = <a class="code" href="output_8cpp.html#aea67d56cef07017be061e1ceefee80df">foldstring</a>( <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>, width );</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                        std::copy( folded.begin(), folded.end(), std::back_inserter( buffer ) );</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                    }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> pages = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( buffer.size() / ( height - 2 ) );</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                <a class="code" href="classveh__interact.html#a1268db6f312a6823b039175b19562801">w_msg_scroll_offset</a> = <a class="code" href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a>( <a class="code" href="classveh__interact.html#a1268db6f312a6823b039175b19562801">w_msg_scroll_offset</a>, 0, pages );</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> = 0; <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> &lt; height; ++<a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> ) {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> idx = <a class="code" href="classveh__interact.html#a1268db6f312a6823b039175b19562801">w_msg_scroll_offset</a> * ( height - 1 ) + <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                    <span class="keywordflow">if</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( idx ) &gt;= buffer.size() ) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                    }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                    <a class="code" href="classnc__color.html">nc_color</a> dummy = <a class="code" href="color_8h.html#a78fbe37cc34bf90b4ed6a67306d8b107">c_unset</a>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    <a class="code" href="output_8cpp.html#a64a769083b78bb93dbb99935b959f3f5">print_colored_text</a>( <a class="code" href="classveh__interact.html#a8fbae1471a0f80d1618c704a880d133b">w_msg</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> ), dummy, <a class="code" href="color_8h.html#a78fbe37cc34bf90b4ed6a67306d8b107">c_unset</a>, buffer[idx] );</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classveh__interact.html#a8fbae1471a0f80d1618c704a880d133b">w_msg</a> );</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a3b647086ed7b509540392fc1414092c5">install_info</a> ) {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                <a class="code" href="classveh__interact.html#a1e342fdc47463b25bf1681b9d72b8f05">display_list</a>( <a class="code" href="classveh__interact.html#a3b647086ed7b509540392fc1414092c5">install_info</a>-&gt;pos, <a class="code" href="classveh__interact.html#a3b647086ed7b509540392fc1414092c5">install_info</a>-&gt;tab_vparts, 2 );</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                <a class="code" href="classveh__interact.html#af7411183e66616579c4f73ba63f54fd9">display_details</a>( <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a> );</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#af22b1f91bd0b407255981a14a8978367">remove_info</a> ) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                <a class="code" href="classveh__interact.html#af7411183e66616579c4f73ba63f54fd9">display_details</a>( <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a> );</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                <a class="code" href="classveh__interact.html#abb3ea2143be2e40fd18eca8c1fc44152">display_overview</a>();</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                <a class="code" href="classveh__interact.html#abb3ea2143be2e40fd18eca8c1fc44152">display_overview</a>();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <a class="code" href="classveh__interact.html#a306c2801c87b1331e313e3f0fbc12a4e">display_mode</a>();</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        } );</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">return</span> current_ui;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;}</div>
<div class="ttc" id="acatacharset_8cpp_html_af20ee33da59ccceb9f4c14005c0bbe80"><div class="ttname"><a href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a></div><div class="ttdeci">int utf8_width(const std::string_view s, const bool ignore_tags)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00104">catacharset.cpp:104</a></div></div>
<div class="ttc" id="aclassui__adaptor_html"><div class="ttname"><a href="classui__adaptor.html">ui_adaptor</a></div><div class="ttdoc">Adaptor between UI code and the UI management system.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00074">ui_manager.h:75</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_a37e0f0811d9460640b86442a1facc87d"><div class="ttname"><a href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">ui_adaptor::on_redraw</a></div><div class="ttdeci">void on_redraw(const redraw_callback_t &amp;fun)</div><div class="ttdoc">Set redraw and resize callbacks.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00143">ui_manager.cpp:143</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_aae52e80c928fa76affccc3b60d415982"><div class="ttname"><a href="classui__adaptor.html#aae52e80c928fa76affccc3b60d415982">ui_adaptor::position_from_window</a></div><div class="ttdeci">void position_from_window(const catacurses::window &amp;win)</div><div class="ttdoc">Set the position and size of the UI to that of win.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00099">ui_manager.cpp:99</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_aca44063b3d85e97d97e2701ef3656433"><div class="ttname"><a href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">ui_adaptor::mark_resize</a></div><div class="ttdeci">void mark_resize() const</div><div class="ttdoc">Mark this ui_adaptor for resizing the next time it is redrawn.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00213">ui_manager.cpp:213</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_af6aa8e52d6fe399f60da61e428f1f721"><div class="ttname"><a href="classui__adaptor.html#af6aa8e52d6fe399f60da61e428f1f721">ui_adaptor::position</a></div><div class="ttdeci">void position(const point &amp;topleft, const point &amp;size)</div><div class="ttdoc">Set the position and size of the UI to that of an imaginary catacurses::window in normal font,...</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00119">ui_manager.cpp:119</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a1268db6f312a6823b039175b19562801"><div class="ttname"><a href="classveh__interact.html#a1268db6f312a6823b039175b19562801">veh_interact::w_msg_scroll_offset</a></div><div class="ttdeci">int w_msg_scroll_offset</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00074">veh_interact.h:74</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a1e342fdc47463b25bf1681b9d72b8f05"><div class="ttname"><a href="classveh__interact.html#a1e342fdc47463b25bf1681b9d72b8f05">veh_interact::display_list</a></div><div class="ttdeci">void display_list(size_t pos, const std::vector&lt; const vpart_info * &gt; &amp;list, int header=0)</div><div class="ttdoc">Draws the list of parts that can be mounted in the selected square.</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02781">veh_interact.cpp:2781</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a270a6a09e9de42e209aeda0048783cfe"><div class="ttname"><a href="classveh__interact.html#a270a6a09e9de42e209aeda0048783cfe">veh_interact::start_at</a></div><div class="ttdeci">int start_at</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00068">veh_interact.h:68</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a306c2801c87b1331e313e3f0fbc12a4e"><div class="ttname"><a href="classveh__interact.html#a306c2801c87b1331e313e3f0fbc12a4e">veh_interact::display_mode</a></div><div class="ttdeci">void display_mode()</div><div class="ttdoc">Prints the list of usable commands, and highlights the hotkeys used to activate them.</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02709">veh_interact.cpp:2709</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a3b647086ed7b509540392fc1414092c5"><div class="ttname"><a href="classveh__interact.html#a3b647086ed7b509540392fc1414092c5">veh_interact::install_info</a></div><div class="ttdeci">std::unique_ptr&lt; install_info_t &gt; install_info</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00118">veh_interact.h:116</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a6ed6231f344816729371a0e24890bb73"><div class="ttname"><a href="classveh__interact.html#a6ed6231f344816729371a0e24890bb73">veh_interact::start_limit</a></div><div class="ttdeci">int start_limit</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00069">veh_interact.h:69</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a74a0478ce397fde8ce2667075c631c81"><div class="ttname"><a href="classveh__interact.html#a74a0478ce397fde8ce2667075c631c81">veh_interact::highlight_part</a></div><div class="ttdeci">int highlight_part</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00114">veh_interact.h:114</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a8d30c9db141fd24b43ab54dead1f1e22"><div class="ttname"><a href="classveh__interact.html#a8d30c9db141fd24b43ab54dead1f1e22">veh_interact::ui_hidden</a></div><div class="ttdeci">bool ui_hidden</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00112">veh_interact.h:112</a></div></div>
<div class="ttc" id="aclassveh__interact_html_ab1cf4eb2be5146f475006b8515a12642"><div class="ttname"><a href="classveh__interact.html#ab1cf4eb2be5146f475006b8515a12642">veh_interact::display_name</a></div><div class="ttdeci">void display_name()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02674">veh_interact.cpp:2674</a></div></div>
<div class="ttc" id="aclassveh__interact_html_abb3ea2143be2e40fd18eca8c1fc44152"><div class="ttname"><a href="classveh__interact.html#abb3ea2143be2e40fd18eca8c1fc44152">veh_interact::display_overview</a></div><div class="ttdeci">void display_overview()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l01567">veh_interact.cpp:1567</a></div></div>
<div class="ttc" id="aclassveh__interact_html_ac2c4bbc7d6137b4e842e4f3559361cb3"><div class="ttname"><a href="classveh__interact.html#ac2c4bbc7d6137b4e842e4f3559361cb3">veh_interact::allocate_windows</a></div><div class="ttdeci">void allocate_windows()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l00300">veh_interact.cpp:300</a></div></div>
<div class="ttc" id="aclassveh__interact_html_ad7afbb5c8501d7272a8d052a83f83ec9"><div class="ttname"><a href="classveh__interact.html#ad7afbb5c8501d7272a8d052a83f83ec9">veh_interact::display_grid</a></div><div class="ttdeci">void display_grid()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02285">veh_interact.cpp:2285</a></div></div>
<div class="ttc" id="aclassveh__interact_html_ae4de3e3140d5eb8b374932338b56fd8a"><div class="ttname"><a href="classveh__interact.html#ae4de3e3140d5eb8b374932338b56fd8a">veh_interact::display_veh</a></div><div class="ttdeci">void display_veh()</div><div class="ttdoc">Draws the viewport with the vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02338">veh_interact.cpp:2338</a></div></div>
<div class="ttc" id="aclassveh__interact_html_af22b1f91bd0b407255981a14a8978367"><div class="ttname"><a href="classveh__interact.html#af22b1f91bd0b407255981a14a8978367">veh_interact::remove_info</a></div><div class="ttdeci">std::unique_ptr&lt; remove_info_t &gt; remove_info</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00122">veh_interact.h:120</a></div></div>
<div class="ttc" id="aclassveh__interact_html_af7411183e66616579c4f73ba63f54fd9"><div class="ttname"><a href="classveh__interact.html#af7411183e66616579c4f73ba63f54fd9">veh_interact::display_details</a></div><div class="ttdeci">void display_details(const vpart_info *part)</div><div class="ttdoc">Used when installing parts.</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02818">veh_interact.cpp:2818</a></div></div>
<div class="ttc" id="aclassveh__interact_html_afef55d6de6d58b0cdaae3051c6fe0ccb"><div class="ttname"><a href="classveh__interact.html#afef55d6de6d58b0cdaae3051c6fe0ccb">veh_interact::display_stats</a></div><div class="ttdeci">void display_stats() const</div><div class="ttdoc">Displays the vehicle's stats at the bottom of the window.</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02465">veh_interact.cpp:2465</a></div></div>
<div class="ttc" id="aclassvehicle_html_a1ee2af04a082012d1f6b28fc325de069"><div class="ttname"><a href="classvehicle.html#a1ee2af04a082012d1f6b28fc325de069">vehicle::print_part_list</a></div><div class="ttdeci">int print_part_list(const catacurses::window &amp;win, int y1, int max_y, int width, int p, int hl=-1, bool detail=false, bool include_fakes=true) const</div><div class="ttdoc">Prints a list of all parts to the screen inside of a boxed window, possibly highlighting a selected o...</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__display_8cpp_source.html#l00143">vehicle_display.cpp:143</a></div></div>
<div class="ttc" id="aclassvehicle_html_a98b1fa3f71287aad0de13e3166e8a6e7"><div class="ttname"><a href="classvehicle.html#a98b1fa3f71287aad0de13e3166e8a6e7">vehicle::print_vparts_descs</a></div><div class="ttdeci">void print_vparts_descs(const catacurses::window &amp;win, int max_y, int width, int p, int &amp;start_at, int &amp;start_limit) const</div><div class="ttdoc">Prints a list of descriptions for all parts to the screen inside of a boxed window.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__display_8cpp_source.html#l00241">vehicle_display.cpp:241</a></div></div>
<div class="ttc" id="acolor_8h_html_a78fbe37cc34bf90b4ed6a67306d8b107"><div class="ttname"><a href="color_8h.html#a78fbe37cc34bf90b4ed6a67306d8b107">c_unset</a></div><div class="ttdeci">#define c_unset</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00066">color.h:66</a></div></div>
<div class="ttc" id="amagic_8h_html_a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474"><div class="ttname"><a href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">spell_shape::line</a></div><div class="ttdeci">@ line</div></div>
<div class="ttc" id="amemory__fast_8h_html_ada897699f31fc8b37c5af09d95d45840"><div class="ttname"><a href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast</a></div><div class="ttdeci">std::shared_ptr&lt; T &gt; shared_ptr_fast</div><div class="ttdef"><b>Definition:</b> <a href="memory__fast_8h_source.html#l00016">memory_fast.h:16</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a51707e12b1a95f6c69b1e128c4ba2601"><div class="ttname"><a href="namespacecatacurses.html#a51707e12b1a95f6c69b1e128c4ba2601">catacurses::stdscr</a></div><div class="ttdeci">window stdscr</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00306">ncurses_def.cpp:306</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_aa9823d249c21fa50daf277957fabb175"><div class="ttname"><a href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">catacurses::wnoutrefresh</a></div><div class="ttdeci">void wnoutrefresh(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00067">ncurses_def.cpp:67</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_ace2ce3990cb812fb83adf6e4ea1f9e8e"><div class="ttname"><a href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">catacurses::werase</a></div><div class="ttdeci">void werase(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00083">ncurses_def.cpp:83</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_adc81ca40445dc062af12fb6d7a4793d0"><div class="ttname"><a href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">catacurses::getmaxy</a></div><div class="ttdeci">int getmaxy(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00099">ncurses_def.cpp:99</a></div></div>
<div class="ttc" id="anamespaceui_html"><div class="ttname"><a href="namespaceui.html">ui</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00024">overmap_ui.h:25</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a64a769083b78bb93dbb99935b959f3f5"><div class="ttname"><a href="output_8cpp.html#a64a769083b78bb93dbb99935b959f3f5">print_colored_text</a></div><div class="ttdeci">void print_colored_text(const catacurses::window &amp;w, const point &amp;p, nc_color &amp;color, const nc_color &amp;base_color, const std::string_view text, const report_color_error color_error)</div><div class="ttdoc">Print text with embedded color_tags, x, y are in curses system.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00239">output.cpp:239</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="veh__interact_8cpp_source.html#l00300">allocate_windows()</a>, <a class="el" href="color_8h_source.html#l00066">c_unset</a>, <a class="el" href="cata__utility_8h_source.html#l00221">clamp()</a>, <a class="el" href="veh__interact_8h_source.html#l00087">cpart</a>, <a class="el" href="veh__interact_8cpp_source.html#l02818">display_details()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02285">display_grid()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02781">display_list()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02709">display_mode()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02674">display_name()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01567">display_overview()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02465">display_stats()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02338">display_veh()</a>, <a class="el" href="output_8cpp_source.html#l00123">foldstring()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00099">catacurses::getmaxy()</a>, <a class="el" href="veh__interact_8h_source.html#l00114">highlight_part</a>, <a class="el" href="veh__interact_8h_source.html#l00116">install_info</a>, <a class="el" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>, <a class="el" href="ui__manager_8cpp_source.html#l00213">ui_adaptor::mark_resize()</a>, <a class="el" href="veh__interact_8h_source.html#l00110">msg</a>, <a class="el" href="ui__manager_8cpp_source.html#l00143">ui_adaptor::on_redraw()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="point_8h_source.html#l00251">point_zero</a>, <a class="el" href="ui__manager_8cpp_source.html#l00119">ui_adaptor::position()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00099">ui_adaptor::position_from_window()</a>, <a class="el" href="output_8cpp_source.html#l00239">print_colored_text()</a>, <a class="el" href="vehicle__display_8cpp_source.html#l00143">vehicle::print_part_list()</a>, <a class="el" href="vehicle__display_8cpp_source.html#l00241">vehicle::print_vparts_descs()</a>, <a class="el" href="veh__interact_8h_source.html#l00120">remove_info</a>, <a class="el" href="veh__interact_8h_source.html#l00082">sel_vpart_info</a>, <a class="el" href="veh__interact_8h_source.html#l00068">start_at</a>, <a class="el" href="veh__interact_8h_source.html#l00069">start_limit</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00306">catacurses::stdscr</a>, <a class="el" href="veh__interact_8h_source.html#l00112">ui_hidden</a>, <a class="el" href="catacharset_8cpp_source.html#l00104">utf8_width()</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, <a class="el" href="veh__interact_8h_source.html#l00096">w_msg</a>, <a class="el" href="veh__interact_8h_source.html#l00074">w_msg_scroll_offset</a>, <a class="el" href="veh__interact_8h_source.html#l00098">w_parts</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00083">catacurses::werase()</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01987">do_change_shape()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00957">do_install()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01796">do_remove()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00477">hide_ui()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l01619">overview()</a>.</p>

</div>
</div>
<a id="af7411183e66616579c4f73ba63f54fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7411183e66616579c4f73ba63f54fd9">&#9670;&nbsp;</a></span>display_details()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::display_details </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classvpart__info.html">vpart_info</a> *&#160;</td>
          <td class="paramname"><em>part</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used when installing parts. </p>
<p>Opens up w_details containing info for part currently selected in w_list. </p>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l02818">2818</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;{</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> details_w = <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a> );</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160; </div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a> );</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160; </div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;    <a class="code" href="namespacecatacurses.html#a4b4f58d631572c4763be9efe9af6c6bc">wborder</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a>, <a class="code" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a>, <a class="code" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a>, <a class="code" href="output_8h.html#a6405dcdb708433c3c3dde836aa8a15cc">LINE_OXXO</a>, <a class="code" href="output_8h.html#a479e8a9ad84c68ed5f8609d4b536a8bb">LINE_OOXX</a>, <a class="code" href="output_8h.html#af6d239f277e1b763f690b94efa469792">LINE_XXOO</a>,</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;             <a class="code" href="output_8h.html#ad3a54f998264087befce6de30cb787b0">LINE_XOOX</a> );</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160; </div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;    <span class="keywordflow">if</span>( part == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;        <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a> );</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;    }</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;    <span class="comment">// displays data in two columns</span></div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;    <span class="keywordtype">int</span> column_width = details_w / 2;</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;    <span class="keywordtype">int</span> col_1 = 2;</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    <span class="keywordtype">int</span> col_2 = col_1 + column_width;</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> = 0;</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    <span class="keywordtype">bool</span> small_mode = column_width &lt; 20;</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160; </div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    <span class="comment">// line 0: part name</span></div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;    <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( col_1, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> ), details_w, <a class="code" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a>, part-&gt;<a class="code" href="classvpart__info.html#adfe04850347ddec99a639e19d432f9c8">name</a>() );</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160; </div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;    <span class="comment">// line 1: (column 1) durability   (column 2) damage mod</span></div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;    <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( col_1, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> + 1 ), column_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;                    <span class="stringliteral">&quot;%s: &lt;color_light_gray&gt;%d&lt;/color&gt;&quot;</span>,</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;                    small_mode ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Dur&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Durability&quot;</span> ),</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;                    part-&gt;<a class="code" href="classvpart__info.html#aeb9e00627b8cb80d28fb1419e7f0928a">durability</a> );</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;    <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( col_2, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> + 1 ), column_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;                    <span class="stringliteral">&quot;%s: &lt;color_light_gray&gt;%d%%&lt;/color&gt;&quot;</span>,</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;                    small_mode ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Dmg&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Damage&quot;</span> ),</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;                    part-&gt;<a class="code" href="classvpart__info.html#a010d7002072c22b1029fdbfbf310cedc">dmg_mod</a> );</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160; </div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    <span class="comment">// line 2: (column 1) weight   (column 2) folded volume (if applicable)</span></div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;    <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( col_1, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> + 2 ), column_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;                    <span class="stringliteral">&quot;%s: &lt;color_light_gray&gt;%.1f%s&lt;/color&gt;&quot;</span>,</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;                    small_mode ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Wgt&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Weight&quot;</span> ),</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;                    <a class="code" href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a>( <a class="code" href="classitem.html#a11cf8d500b6d8106302470dce5ca9177">item::find_type</a>( part-&gt;<a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a> )-&gt;<a class="code" href="structitype.html#a4ecb806dae208ff275b4aa50ffcd3902">weight</a> ),</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;                    <a class="code" href="units__utility_8cpp.html#adb77a71aaad9051e5936082915961b2f">weight_units</a>() );</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    <span class="keywordflow">if</span>( part-&gt;<a class="code" href="classvpart__info.html#a2b7584e0ad10a1922caee915600e0381">folded_volume</a> ) {</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;        <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( col_2, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> + 2 ), column_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;                        <span class="stringliteral">&quot;%s: &lt;color_light_gray&gt;%s %s&lt;/color&gt;&quot;</span>,</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;                        small_mode ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;FoldVol&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Folded Volume&quot;</span> ),</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;                        <a class="code" href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a>( part-&gt;<a class="code" href="classvpart__info.html#a2b7584e0ad10a1922caee915600e0381">folded_volume</a>.value() ),</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;                        <a class="code" href="units__utility_8cpp.html#a5d1afc8428beadaac75fb68c5a2bfcd7">volume_units_abbr</a>() );</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;    }</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160; </div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;    <span class="comment">// line 3: (column 1) size, bonus, wheel diameter (if applicable)    (column 2) epower, wheel width (if applicable)</span></div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    <span class="keywordflow">if</span>( part-&gt;<a class="code" href="classvpart__info.html#aee4afe2c309516d6b91ff384fab6f2b2">size</a> &gt; 0_ml &amp;&amp; part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea563fb2626cff0acc6c8273fef3e3a8d0">VPFLAG_CARGO</a> ) ) {</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;        <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( col_1, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> + 3 ), column_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;                        <span class="stringliteral">&quot;%s: &lt;color_light_gray&gt;%s %s&lt;/color&gt;&quot;</span>,</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;                        small_mode ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Cap&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Capacity&quot;</span> ),</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;                        <a class="code" href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a>( part-&gt;<a class="code" href="classvpart__info.html#aee4afe2c309516d6b91ff384fab6f2b2">size</a> ), <a class="code" href="units__utility_8cpp.html#a5d1afc8428beadaac75fb68c5a2bfcd7">volume_units_abbr</a>() );</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;    }</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160; </div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;    <span class="keywordflow">if</span>( part-&gt;<a class="code" href="classvpart__info.html#a160cad4578895aa1f7006436dd57f5cd">bonus</a> &gt; 0 ) {</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;        std::string <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a0889397d959be6d4ddc65c9f196ae3e4">label</a>;</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;        <span class="keywordflow">if</span>( part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8a546069f510a6de416bf119fe037679">VPFLAG_SEATBELT</a> ) ) {</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;            <a class="code" href="structlabel.html">label</a> = small_mode ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Str&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Strength&quot;</span> );</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;HORN&quot;</span> ) ) {</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;            <a class="code" href="structlabel.html">label</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Noise&quot;</span> );</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;MUFFLER&quot;</span> ) ) {</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;            <a class="code" href="structlabel.html">label</a> = small_mode ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;NoisRed&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Noise Reduction&quot;</span> );</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea289e580d7d3dcc6988e5349c73d2b98c">VPFLAG_EXTENDS_VISION</a> ) ) {</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;            <a class="code" href="structlabel.html">label</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Range&quot;</span> );</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea28a397877229956df1c02f1c05afea75">VPFLAG_LIGHT</a> ) || part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea0e5ba370df41b42336b154cd7fde38ec">VPFLAG_CONE_LIGHT</a> ) ||</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;                   part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eac068ca47063a40941d3b0561a2f3be51">VPFLAG_WIDE_CONE_LIGHT</a> ) ||</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;                   part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea3140fae054e4ead8de3f3c96b13df546">VPFLAG_CIRCLE_LIGHT</a> ) || part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eaf3126248fc27b984c14efbdd7c6c5c1e">VPFLAG_DOME_LIGHT</a> ) ||</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;                   part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea720126c390476258c46f0a80304004c6">VPFLAG_AISLE_LIGHT</a> ) || part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eab1d67af167effd5d1afdeadb63a82ec7">VPFLAG_EVENTURN</a> ) ||</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;                   part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eae969d6c7993df32ff8bb263f6f680813">VPFLAG_ODDTURN</a> ) || part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea85a6cb3a255060849cba7b60f861c850">VPFLAG_ATOMIC_LIGHT</a> ) ) {</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;            <a class="code" href="structlabel.html">label</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Light&quot;</span> );</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;        }</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160; </div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="structlabel.html">label</a>.empty() ) {</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;            <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( col_1, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> + 3 ), column_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;                            <span class="stringliteral">&quot;%s: &lt;color_light_gray&gt;%d&lt;/color&gt;&quot;</span>, <a class="code" href="structlabel.html">label</a>,</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;                            part-&gt;<a class="code" href="classvpart__info.html#a160cad4578895aa1f7006436dd57f5cd">bonus</a> );</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;        }</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    }</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160; </div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;    <span class="keywordflow">if</span>( part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eae36e04cd704cf1a4a2ae645809e24e1b">VPFLAG_WHEEL</a> ) ) {</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;        <span class="comment">// Note: there is no guarantee that whl is non-empty!</span></div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;        <span class="keyword">const</span> <a class="code" href="classcata_1_1value__ptr.html">cata::value_ptr&lt;islot_wheel&gt;</a> &amp;whl = <a class="code" href="classitem.html#a11cf8d500b6d8106302470dce5ca9177">item::find_type</a>( part-&gt;<a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a> )-&gt;<a class="code" href="structitype.html#a5c286a821362f883c93b7d984ecae163">wheel</a>;</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;        <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( col_1, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> + 3 ), column_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;                        <span class="stringliteral">&quot;%s: &lt;color_light_gray&gt;%d\&quot;&lt;/color&gt;&quot;</span>,</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;                        small_mode ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Dia&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Wheel Diameter&quot;</span> ),</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;                        whl ? whl-&gt;diameter : 0 );</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;        <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( col_2, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> + 3 ), column_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;                        <span class="stringliteral">&quot;%s: &lt;color_light_gray&gt;%d\&quot;&lt;/color&gt;&quot;</span>,</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;                        small_mode ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Wdt&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Wheel Width&quot;</span> ),</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;                        whl ? whl-&gt;width : 0 );</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;    }</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160; </div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    <span class="keywordflow">if</span>( part-&gt;<a class="code" href="classvpart__info.html#a9e1425acfdd3616655ebfcf3f1c0215f">epower</a> != 0_W ) {</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;        <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( col_2, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> + 3 ), column_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;                        <span class="stringliteral">&quot;%s: &lt;color_light_gray&gt;%+4d&lt;/color&gt;&quot;</span>,</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;                        small_mode ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Epwr&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Electric Power&quot;</span> ),</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;                        <a class="code" href="namespaceunits.html#a76c965afaad76c83c6caa338d1eb6777">units::to_watt</a>( part-&gt;<a class="code" href="classvpart__info.html#a9e1425acfdd3616655ebfcf3f1c0215f">epower</a> ) );</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;    }</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160; </div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    <span class="comment">// line 4 [horizontal]: fuel_type (if applicable)</span></div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;    <span class="comment">// line 4 [vertical/hybrid]: (column 1) fuel_type (if applicable)    (column 2) power (if applicable)</span></div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;    <span class="comment">// line 5 [horizontal]: power (if applicable)</span></div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;    <span class="keywordflow">if</span>( !part-&gt;<a class="code" href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">fuel_type</a>.<a class="code" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;        <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( col_1, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> + 4 ), column_width,</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;                        <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Charge: &lt;color_light_gray&gt;%s&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;                        <a class="code" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( part-&gt;<a class="code" href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">fuel_type</a> ) );</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;    }</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;    <span class="keywordtype">int</span> part_consumption = <a class="code" href="namespaceunits.html#a76c965afaad76c83c6caa338d1eb6777">units::to_watt</a>( part-&gt;<a class="code" href="classvpart__info.html#a6b86d2889bc16cb31548f08b59cfec71">energy_consumption</a> );</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;    <span class="keywordflow">if</span>( part_consumption != 0 ) {</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;        <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( col_2, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> + 4 ), column_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Drain: &lt;color_light_gray&gt;%+8d&lt;/color&gt;&quot;</span> ), -part_consumption );</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    }</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160; </div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    <span class="comment">// line 5 [vertical/hybrid] flags</span></div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;    std::vector&lt;std::string&gt; flags = { { <span class="stringliteral">&quot;OPAQUE&quot;</span>, <span class="stringliteral">&quot;OPENABLE&quot;</span>, <span class="stringliteral">&quot;BOARDABLE&quot;</span> } };</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    std::vector&lt;std::string&gt; flag_labels = { { <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;opaque&quot;</span> ), <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;openable&quot;</span> ), <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;boardable&quot;</span> ) } };</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;    std::string <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a0889397d959be6d4ddc65c9f196ae3e4">label</a>;</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; flags.size(); i++ ) {</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;        <span class="keywordflow">if</span>( part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( flags[i] ) ) {</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;            <a class="code" href="structlabel.html">label</a> += ( <a class="code" href="structlabel.html">label</a>.empty() ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot; &quot;</span> ) + flag_labels[i];</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;        }</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;    }</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;    <span class="comment">// 6 [horizontal]: (column 1) flags    (column 2) battery capacity (if applicable)</span></div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;    <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( col_1, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> + 5 ), details_w, <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>, <a class="code" href="structlabel.html">label</a> );</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160; </div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;    <span class="keywordflow">if</span>( part-&gt;<a class="code" href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">fuel_type</a> == <a class="code" href="veh__interact_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a> &amp;&amp; !part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea29303a852c248ddb989e3ea9b8e95354">VPFLAG_ENGINE</a> ) &amp;&amp;</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;        !part-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea2379250900e305e10dc242e65ae3a003">VPFLAG_ALTERNATOR</a> ) ) {</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;        <span class="keyword">const</span> <a class="code" href="classcata_1_1value__ptr.html">cata::value_ptr&lt;islot_magazine&gt;</a> &amp;battery = <a class="code" href="classitem.html#a11cf8d500b6d8106302470dce5ca9177">item::find_type</a>( part-&gt;<a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a> )-&gt;<a class="code" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>;</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;        <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( col_2, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> + 5 ), column_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;                        <span class="stringliteral">&quot;%s: &lt;color_light_gray&gt;%8d&lt;/color&gt;&quot;</span>,</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;                        small_mode ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;BatCap&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Battery Capacity&quot;</span> ),</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;                        battery-&gt;capacity );</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;        <a class="code" href="classunits_1_1quantity.html">units::power</a> part_power = part-&gt;<a class="code" href="classvpart__info.html#a2def774679ed462df2105a07c9e5d419">power</a>;</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;        <span class="keywordflow">if</span>( part_power != 0_W ) {</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;            <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( col_2, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> + 5 ), column_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;                            <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Power: &lt;color_light_gray&gt;%+8d&lt;/color&gt;&quot;</span> ), <a class="code" href="namespaceunits.html#a76c965afaad76c83c6caa338d1eb6777">units::to_watt</a>( part_power ) );</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;        }</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;    }</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160; </div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classveh__interact.html#aa541d9c4e4ef8d4c4e6cdf6b182c336e">w_details</a> );</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;}</div>
<div class="ttc" id="aclasscata_1_1value__ptr_html"><div class="ttname"><a href="classcata_1_1value__ptr.html">cata::value_ptr&lt; islot_wheel &gt;</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a010d7002072c22b1029fdbfbf310cedc"><div class="ttname"><a href="classvpart__info.html#a010d7002072c22b1029fdbfbf310cedc">vpart_info::dmg_mod</a></div><div class="ttdeci">int dmg_mod</div><div class="ttdoc">Damage modifier (percentage) used when damaging other entities upon collision.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00412">veh_type.h:412</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a160cad4578895aa1f7006436dd57f5cd"><div class="ttname"><a href="classvpart__info.html#a160cad4578895aa1f7006436dd57f5cd">vpart_info::bonus</a></div><div class="ttdeci">int bonus</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00445">veh_type.h:445</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a2b7584e0ad10a1922caee915600e0381"><div class="ttname"><a href="classvpart__info.html#a2b7584e0ad10a1922caee915600e0381">vpart_info::folded_volume</a></div><div class="ttdeci">std::optional&lt; units::volume &gt; folded_volume</div><div class="ttdoc">Volume of a foldable part when folded.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00388">veh_type.h:388</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a2def774679ed462df2105a07c9e5d419"><div class="ttname"><a href="classvpart__info.html#a2def774679ed462df2105a07c9e5d419">vpart_info::power</a></div><div class="ttdeci">units::power power</div><div class="ttdoc">For engines and motors this is maximum output (watts) For alternators is engine power consumed (negat...</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00430">veh_type.h:430</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a6b86d2889bc16cb31548f08b59cfec71"><div class="ttname"><a href="classvpart__info.html#a6b86d2889bc16cb31548f08b59cfec71">vpart_info::energy_consumption</a></div><div class="ttdeci">units::power energy_consumption</div><div class="ttdoc">Energy consumed per second by engines and motors when delivering max power Includes waste.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00424">veh_type.h:424</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a9e1425acfdd3616655ebfcf3f1c0215f"><div class="ttname"><a href="classvpart__info.html#a9e1425acfdd3616655ebfcf3f1c0215f">vpart_info::epower</a></div><div class="ttdeci">units::power epower</div><div class="ttdoc">Electrical power, flat rate energy (per second); positive for generation, negative for consumption Fo...</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00418">veh_type.h:418</a></div></div>
<div class="ttc" id="aclassvpart__info_html_ae9c50d26b3cc88604ae85573ee6599cd"><div class="ttname"><a href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">vpart_info::fuel_type</a></div><div class="ttdeci">itype_id fuel_type</div><div class="ttdoc">Fuel type of engine or tank.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00382">veh_type.h:382</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aeb9e00627b8cb80d28fb1419e7f0928a"><div class="ttname"><a href="classvpart__info.html#aeb9e00627b8cb80d28fb1419e7f0928a">vpart_info::durability</a></div><div class="ttdeci">int durability</div><div class="ttdoc">Maximum damage part can sustain before being destroyed.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00409">veh_type.h:409</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aee4afe2c309516d6b91ff384fab6f2b2"><div class="ttname"><a href="classvpart__info.html#aee4afe2c309516d6b91ff384fab6f2b2">vpart_info::size</a></div><div class="ttdeci">units::volume size</div><div class="ttdoc">Cargo location volume.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00391">veh_type.h:391</a></div></div>
<div class="ttc" id="acolor_8h_html_a0d06dc49b9761bbc54607397213728bb"><div class="ttname"><a href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a></div><div class="ttdeci">#define c_white</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00016">color.h:16</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02item__tname_8cpp_03_html_a0889397d959be6d4ddc65c9f196ae3e4"><div class="ttname"><a href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a0889397d959be6d4ddc65c9f196ae3e4">anonymous_namespace{item_tname.cpp}::label</a></div><div class="ttdeci">std::string label(item const &amp;it, unsigned int quantity, segment_bitset const &amp;segments)</div><div class="ttdef"><b>Definition:</b> <a href="item__tname_8cpp_source.html#l00142">item_tname.cpp:142</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a4b4f58d631572c4763be9efe9af6c6bc"><div class="ttname"><a href="namespacecatacurses.html#a4b4f58d631572c4763be9efe9af6c6bc">catacurses::wborder</a></div><div class="ttdeci">void wborder(const window &amp;win, chtype ls, chtype rs, chtype ts, chtype bs, chtype tl, chtype tr, chtype bl, chtype br)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00211">ncurses_def.cpp:211</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a297635a05a44e1f896fb829a0474f586"><div class="ttname"><a href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a></div><div class="ttdeci">std::string format_volume(const units::volume &amp;volume)</div><div class="ttdoc">Convert and format volume.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03231">output.cpp:3231</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab9659cbe9ec23a2efd813f795cb7fb73"><div class="ttname"><a href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a></div><div class="ttdeci">int fold_and_print(const catacurses::window &amp;w, const point &amp;begin, int width, const nc_color &amp;base_color, const std::string &amp;text, const char split)</div><div class="ttdoc">Fold and print text in the given window.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00379">output.cpp:379</a></div></div>
<div class="ttc" id="aoutput_8h_html_a33ab4e0193402fed8f74590a30fadc3c"><div class="ttname"><a href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a></div><div class="ttdeci">#define LINE_XOXO</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00046">output.h:46</a></div></div>
<div class="ttc" id="aoutput_8h_html_a435355aeca1be3844e79fc4db8e691e1"><div class="ttname"><a href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a></div><div class="ttdeci">#define LINE_OXOX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00047">output.h:47</a></div></div>
<div class="ttc" id="aoutput_8h_html_a479e8a9ad84c68ed5f8609d4b536a8bb"><div class="ttname"><a href="output_8h.html#a479e8a9ad84c68ed5f8609d4b536a8bb">LINE_OOXX</a></div><div class="ttdeci">#define LINE_OOXX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00050">output.h:50</a></div></div>
<div class="ttc" id="aoutput_8h_html_a6405dcdb708433c3c3dde836aa8a15cc"><div class="ttname"><a href="output_8h.html#a6405dcdb708433c3c3dde836aa8a15cc">LINE_OXXO</a></div><div class="ttdeci">#define LINE_OXXO</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00049">output.h:49</a></div></div>
<div class="ttc" id="aoutput_8h_html_ad3a54f998264087befce6de30cb787b0"><div class="ttname"><a href="output_8h.html#ad3a54f998264087befce6de30cb787b0">LINE_XOOX</a></div><div class="ttdeci">#define LINE_XOOX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00051">output.h:51</a></div></div>
<div class="ttc" id="aoutput_8h_html_af6d239f277e1b763f690b94efa469792"><div class="ttname"><a href="output_8h.html#af6d239f277e1b763f690b94efa469792">LINE_XXOO</a></div><div class="ttdeci">#define LINE_XXOO</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00048">output.h:48</a></div></div>
<div class="ttc" id="astructitype_html_a4ecb806dae208ff275b4aa50ffcd3902"><div class="ttname"><a href="structitype.html#a4ecb806dae208ff275b4aa50ffcd3902">itype::weight</a></div><div class="ttdeci">units::mass weight</div><div class="ttdoc">Weight of item ( or each stack member )</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01234">itype.h:1234</a></div></div>
<div class="ttc" id="astructitype_html_a5c286a821362f883c93b7d984ecae163"><div class="ttname"><a href="structitype.html#a5c286a821362f883c93b7d984ecae163">itype::wheel</a></div><div class="ttdeci">cata::value_ptr&lt; islot_wheel &gt; wheel</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01206">itype.h:1206</a></div></div>
<div class="ttc" id="astructitype_html_aba9992b8bc80b65d4153370b3e0755ec"><div class="ttname"><a href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">itype::magazine</a></div><div class="ttdeci">cata::value_ptr&lt; islot_magazine &gt; magazine</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01209">itype.h:1209</a></div></div>
<div class="ttc" id="astructlabel_html"><div class="ttname"><a href="structlabel.html">label</a></div><div class="ttdoc">Struct used for storing labels (easier to json opposed to a std::map&lt;point, std::string&gt;)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00687">vehicle.h:687</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_a5d1afc8428beadaac75fb68c5a2bfcd7"><div class="ttname"><a href="units__utility_8cpp.html#a5d1afc8428beadaac75fb68c5a2bfcd7">volume_units_abbr</a></div><div class="ttdeci">const char * volume_units_abbr()</div><div class="ttdoc">Create an abbreviated units label for a volume value.</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00096">units_utility.cpp:96</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_a6701113802c6412b3c5d3fa59149ca6c"><div class="ttname"><a href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a></div><div class="ttdeci">double convert_weight(const units::mass &amp;weight)</div><div class="ttdoc">Convert weight in grams to units defined by user (kg or lbs)</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00143">units_utility.cpp:143</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_adb77a71aaad9051e5936082915961b2f"><div class="ttname"><a href="units__utility_8cpp.html#adb77a71aaad9051e5936082915961b2f">weight_units</a></div><div class="ttdeci">const char * weight_units()</div><div class="ttdoc">Create a units label for a weight value.</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00091">units_utility.cpp:91</a></div></div>
<div class="ttc" id="aveh__interact_8cpp_html_ab5f267c571dc194e5b7e0b10b5136a33"><div class="ttname"><a href="veh__interact_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a></div><div class="ttdeci">static const itype_id itype_battery(&quot;battery&quot;)</div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea2379250900e305e10dc242e65ae3a003"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea2379250900e305e10dc242e65ae3a003">VPFLAG_ALTERNATOR</a></div><div class="ttdeci">@ VPFLAG_ALTERNATOR</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00087">veh_type.h:87</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea289e580d7d3dcc6988e5349c73d2b98c"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea289e580d7d3dcc6988e5349c73d2b98c">VPFLAG_EXTENDS_VISION</a></div><div class="ttdeci">@ VPFLAG_EXTENDS_VISION</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00101">veh_type.h:101</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea28a397877229956df1c02f1c05afea75"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea28a397877229956df1c02f1c05afea75">VPFLAG_LIGHT</a></div><div class="ttdeci">@ VPFLAG_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00091">veh_type.h:91</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea3140fae054e4ead8de3f3c96b13df546"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea3140fae054e4ead8de3f3c96b13df546">VPFLAG_CIRCLE_LIGHT</a></div><div class="ttdeci">@ VPFLAG_CIRCLE_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00066">veh_type.h:66</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea563fb2626cff0acc6c8273fef3e3a8d0"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea563fb2626cff0acc6c8273fef3e3a8d0">VPFLAG_CARGO</a></div><div class="ttdeci">@ VPFLAG_CARGO</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00094">veh_type.h:94</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea720126c390476258c46f0a80304004c6"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea720126c390476258c46f0a80304004c6">VPFLAG_AISLE_LIGHT</a></div><div class="ttdeci">@ VPFLAG_AISLE_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00085">veh_type.h:85</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea85a6cb3a255060849cba7b60f861c850"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea85a6cb3a255060849cba7b60f861c850">VPFLAG_ATOMIC_LIGHT</a></div><div class="ttdeci">@ VPFLAG_ATOMIC_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00086">veh_type.h:86</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea8a546069f510a6de416bf119fe037679"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8a546069f510a6de416bf119fe037679">VPFLAG_SEATBELT</a></div><div class="ttdeci">@ VPFLAG_SEATBELT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00073">veh_type.h:73</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eab1d67af167effd5d1afdeadb63a82ec7"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eab1d67af167effd5d1afdeadb63a82ec7">VPFLAG_EVENTURN</a></div><div class="ttdeci">@ VPFLAG_EVENTURN</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00061">veh_type.h:61</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eae36e04cd704cf1a4a2ae645809e24e1b"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eae36e04cd704cf1a4a2ae645809e24e1b">VPFLAG_WHEEL</a></div><div class="ttdeci">@ VPFLAG_WHEEL</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00079">veh_type.h:79</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eae969d6c7993df32ff8bb263f6f680813"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eae969d6c7993df32ff8bb263f6f680813">VPFLAG_ODDTURN</a></div><div class="ttdeci">@ VPFLAG_ODDTURN</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00062">veh_type.h:62</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eaf3126248fc27b984c14efbdd7c6c5c1e"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eaf3126248fc27b984c14efbdd7c6c5c1e">VPFLAG_DOME_LIGHT</a></div><div class="ttdeci">@ VPFLAG_DOME_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00084">veh_type.h:84</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="veh__type_8h_source.html#l00400">vpart_info::base_item</a>, <a class="el" href="veh__type_8h_source.html#l00445">vpart_info::bonus</a>, <a class="el" href="color_8h_source.html#l00026">c_light_green</a>, <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="color_8h_source.html#l00030">c_yellow</a>, <a class="el" href="units__utility_8cpp_source.html#l00143">convert_weight()</a>, <a class="el" href="veh__type_8h_source.html#l00412">vpart_info::dmg_mod</a>, <a class="el" href="veh__type_8h_source.html#l00409">vpart_info::durability</a>, <a class="el" href="veh__type_8h_source.html#l00424">vpart_info::energy_consumption</a>, <a class="el" href="veh__type_8h_source.html#l00418">vpart_info::epower</a>, <a class="el" href="item_8cpp_source.html#l14581">item::find_type()</a>, <a class="el" href="output_8cpp_source.html#l00379">fold_and_print()</a>, <a class="el" href="veh__type_8h_source.html#l00388">vpart_info::folded_volume</a>, <a class="el" href="output_8cpp_source.html#l03231">format_volume()</a>, <a class="el" href="veh__type_8h_source.html#l00382">vpart_info::fuel_type</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="veh__type_8h_source.html#l00256">vpart_info::has_flag()</a>, <a class="el" href="string__id_8h_source.html#l00322">string_id&lt; T &gt;::is_null()</a>, <a class="el" href="veh__interact_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a>, <a class="el" href="item__tname_8cpp_source.html#l00142">anonymous_namespace{item_tname.cpp}::label()</a>, <a class="el" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>, <a class="el" href="output_8h_source.html#l00050">LINE_OOXX</a>, <a class="el" href="output_8h_source.html#l00047">LINE_OXOX</a>, <a class="el" href="output_8h_source.html#l00049">LINE_OXXO</a>, <a class="el" href="output_8h_source.html#l00051">LINE_XOOX</a>, <a class="el" href="output_8h_source.html#l00046">LINE_XOXO</a>, <a class="el" href="output_8h_source.html#l00048">LINE_XXOO</a>, <a class="el" href="itype_8h_source.html#l01209">itype::magazine</a>, <a class="el" href="veh__type_8cpp_source.html#l00965">vpart_info::name()</a>, <a class="el" href="item_8cpp_source.html#l14557">item::nname()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="veh__type_8h_source.html#l00430">vpart_info::power</a>, <a class="el" href="veh__type_8h_source.html#l00391">vpart_info::size</a>, <a class="el" href="units_8h_source.html#l00626">units::to_watt()</a>, <a class="el" href="units__utility_8cpp_source.html#l00096">volume_units_abbr()</a>, <a class="el" href="veh__type_8h_source.html#l00085">VPFLAG_AISLE_LIGHT</a>, <a class="el" href="veh__type_8h_source.html#l00087">VPFLAG_ALTERNATOR</a>, <a class="el" href="veh__type_8h_source.html#l00086">VPFLAG_ATOMIC_LIGHT</a>, <a class="el" href="veh__type_8h_source.html#l00094">VPFLAG_CARGO</a>, <a class="el" href="veh__type_8h_source.html#l00066">VPFLAG_CIRCLE_LIGHT</a>, <a class="el" href="veh__type_8h_source.html#l00063">VPFLAG_CONE_LIGHT</a>, <a class="el" href="veh__type_8h_source.html#l00084">VPFLAG_DOME_LIGHT</a>, <a class="el" href="veh__type_8h_source.html#l00088">VPFLAG_ENGINE</a>, <a class="el" href="veh__type_8h_source.html#l00061">VPFLAG_EVENTURN</a>, <a class="el" href="veh__type_8h_source.html#l00101">VPFLAG_EXTENDS_VISION</a>, <a class="el" href="veh__type_8h_source.html#l00091">VPFLAG_LIGHT</a>, <a class="el" href="veh__type_8h_source.html#l00062">VPFLAG_ODDTURN</a>, <a class="el" href="veh__type_8h_source.html#l00073">VPFLAG_SEATBELT</a>, <a class="el" href="veh__type_8h_source.html#l00079">VPFLAG_WHEEL</a>, <a class="el" href="veh__type_8h_source.html#l00064">VPFLAG_WIDE_CONE_LIGHT</a>, <a class="el" href="veh__interact_8h_source.html#l00104">w_details</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00211">catacurses::wborder()</a>, <a class="el" href="itype_8h_source.html#l01234">itype::weight</a>, <a class="el" href="units__utility_8cpp_source.html#l00091">weight_units()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00083">catacurses::werase()</a>, <a class="el" href="itype_8h_source.html#l01206">itype::wheel</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>.</p>

</div>
</div>
<a id="ad7afbb5c8501d7272a8d052a83f83ec9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7afbb5c8501d7272a8d052a83f83ec9">&#9670;&nbsp;</a></span>display_grid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::display_grid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l02285">2285</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;{</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    <span class="comment">// border window</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    <a class="code" href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a>( <a class="code" href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">w_border</a> );</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160; </div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;    <span class="comment">// match grid lines</span></div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> y_mode = <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classveh__interact.html#af4f033acb4b193f4dc6ee88e09746c04">w_mode</a> ) + 1;</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    <span class="comment">// |-</span></div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">w_border</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, y_mode ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a4b80f0039259ebe61dc2e58ca4b31043">LINE_XXXO</a> );</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="comment">// -|</span></div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">w_border</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - 1, y_mode ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a0803e4570f3cd69d38952bc2b4555c24">LINE_XOXX</a> );</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> y_list = <a class="code" href="namespacecatacurses.html#aa2debb3330f9739012d1d11db8db31d2">getbegy</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a> ) + <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a> );</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    <span class="comment">// |-</span></div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">w_border</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, y_list ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a4b80f0039259ebe61dc2e58ca4b31043">LINE_XXXO</a> );</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;    <span class="comment">// -|</span></div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;    <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">w_border</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - 1, y_list ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a0803e4570f3cd69d38952bc2b4555c24">LINE_XOXX</a> );</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160; </div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> grid_w = <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">w_border</a> ) - 2;</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160; </div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;    <span class="comment">// Two lines dividing the three middle sections.</span></div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 1 + <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classveh__interact.html#af4f033acb4b193f4dc6ee88e09746c04">w_mode</a> ); i &lt; ( 1 + <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classveh__interact.html#af4f033acb4b193f4dc6ee88e09746c04">w_mode</a> ) + <a class="code" href="classveh__interact.html#ace346bf535ccfaddc200fb8f7e2447a7">page_size</a> ); ++i ) {</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;        <span class="comment">// |</span></div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">w_border</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a> ) + 1, i + 1 ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> );</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;        <span class="comment">// |</span></div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">w_border</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a> ) + 2 + <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a> ), i + 1 ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>,</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;                  <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> );</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    }</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    <span class="comment">// Two lines dividing the vertical menu sections.</span></div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; grid_w; ++i ) {</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;        <span class="comment">// -</span></div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">w_border</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( i + 1, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classveh__interact.html#af4f033acb4b193f4dc6ee88e09746c04">w_mode</a> ) + 1 ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a> );</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;        <span class="comment">// -</span></div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">w_border</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( i + 1, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classveh__interact.html#af4f033acb4b193f4dc6ee88e09746c04">w_mode</a> ) + 2 + <a class="code" href="classveh__interact.html#ace346bf535ccfaddc200fb8f7e2447a7">page_size</a> ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a> );</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    }</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    <span class="comment">// Fix up the line intersections.</span></div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">w_border</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a> ) + 1, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classveh__interact.html#af4f033acb4b193f4dc6ee88e09746c04">w_mode</a> ) + 1 ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>,</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;              <a class="code" href="output_8h.html#a4a3bfadbe7ec0abb14ff53e5e2f8983e">LINE_OXXX</a> );</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <span class="comment">// _|_</span></div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">w_border</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a> ) + 1, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classveh__interact.html#af4f033acb4b193f4dc6ee88e09746c04">w_mode</a> ) + 2 + <a class="code" href="classveh__interact.html#ace346bf535ccfaddc200fb8f7e2447a7">page_size</a> ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>,</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;              <a class="code" href="output_8h.html#a612d0d0728e93276b2b7de1fc57b096b">LINE_XXOX</a> );</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">w_border</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a> ) + 2 + <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a> ), <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classveh__interact.html#af4f033acb4b193f4dc6ee88e09746c04">w_mode</a> ) + 1 ),</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;              <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a4a3bfadbe7ec0abb14ff53e5e2f8983e">LINE_OXXX</a> );</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;    <span class="comment">// _|_</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">w_border</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a> ) + 2 + <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a> ),</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;                               <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classveh__interact.html#af4f033acb4b193f4dc6ee88e09746c04">w_mode</a> ) + 2 + <a class="code" href="classveh__interact.html#ace346bf535ccfaddc200fb8f7e2447a7">page_size</a> ),</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;              <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a612d0d0728e93276b2b7de1fc57b096b">LINE_XXOX</a> );</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160; </div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classveh__interact.html#a93520a1801e07c7083603be674cf258a">w_border</a> );</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;}</div>
<div class="ttc" id="anamespacecatacurses_html_aa2debb3330f9739012d1d11db8db31d2"><div class="ttname"><a href="namespacecatacurses.html#aa2debb3330f9739012d1d11db8db31d2">catacurses::getbegy</a></div><div class="ttdeci">int getbegy(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00115">ncurses_def.cpp:115</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afb5597c87a5847c7d64b878ab3a77d5b"><div class="ttname"><a href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a></div><div class="ttdeci">void mvwputch(const catacurses::window &amp;w, const point &amp;p, nc_color FG, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00590">output.cpp:590</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afea9968fcee47ebca0e45d27099d1c22"><div class="ttname"><a href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a></div><div class="ttdeci">void draw_border(const catacurses::window &amp;w, nc_color border_color, const std::string &amp;title, nc_color title_color)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00688">output.cpp:688</a></div></div>
<div class="ttc" id="aoutput_8h_html_a0803e4570f3cd69d38952bc2b4555c24"><div class="ttname"><a href="output_8h.html#a0803e4570f3cd69d38952bc2b4555c24">LINE_XOXX</a></div><div class="ttdeci">#define LINE_XOXX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00054">output.h:54</a></div></div>
<div class="ttc" id="aoutput_8h_html_a4a3bfadbe7ec0abb14ff53e5e2f8983e"><div class="ttname"><a href="output_8h.html#a4a3bfadbe7ec0abb14ff53e5e2f8983e">LINE_OXXX</a></div><div class="ttdeci">#define LINE_OXXX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00055">output.h:55</a></div></div>
<div class="ttc" id="aoutput_8h_html_a4b80f0039259ebe61dc2e58ca4b31043"><div class="ttname"><a href="output_8h.html#a4b80f0039259ebe61dc2e58ca4b31043">LINE_XXXO</a></div><div class="ttdeci">#define LINE_XXXO</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00052">output.h:52</a></div></div>
<div class="ttc" id="aoutput_8h_html_a612d0d0728e93276b2b7de1fc57b096b"><div class="ttname"><a href="output_8h.html#a612d0d0728e93276b2b7de1fc57b096b">LINE_XXOX</a></div><div class="ttdeci">#define LINE_XXOX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00053">output.h:53</a></div></div>
<div class="ttc" id="aoutput_8h_html_a966901ace2cf6cba3fc9cec310150860"><div class="ttname"><a href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a></div><div class="ttdeci">#define BORDER_COLOR</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00098">output.h:98</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="output_8h_source.html#l00098">BORDER_COLOR</a>, <a class="el" href="output_8cpp_source.html#l00688">draw_border()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00115">catacurses::getbegy()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00099">catacurses::getmaxy()</a>, <a class="el" href="output_8h_source.html#l00047">LINE_OXOX</a>, <a class="el" href="output_8h_source.html#l00055">LINE_OXXX</a>, <a class="el" href="output_8h_source.html#l00046">LINE_XOXO</a>, <a class="el" href="output_8h_source.html#l00054">LINE_XOXX</a>, <a class="el" href="output_8h_source.html#l00053">LINE_XXOX</a>, <a class="el" href="output_8h_source.html#l00052">LINE_XXXO</a>, <a class="el" href="output_8cpp_source.html#l00590">mvwputch()</a>, <a class="el" href="veh__interact_8h_source.html#l00088">page_size</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="output_8cpp_source.html#l00049">TERMX</a>, <a class="el" href="veh__interact_8h_source.html#l00094">w_border</a>, <a class="el" href="veh__interact_8h_source.html#l00097">w_disp</a>, <a class="el" href="veh__interact_8h_source.html#l00103">w_list</a>, <a class="el" href="veh__interact_8h_source.html#l00095">w_mode</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>.</p>

</div>
</div>
<a id="a1e342fdc47463b25bf1681b9d72b8f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e342fdc47463b25bf1681b9d72b8f05">&#9670;&nbsp;</a></span>display_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::display_list </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; const <a class="el" href="classvpart__info.html">vpart_info</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>header</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Draws the list of parts that can be mounted in the selected square. </p>
<p>Used when installing new parts. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>The current cursor position in the list. </td></tr>
    <tr><td class="paramname">list</td><td>The list to display parts from. </td></tr>
    <tr><td class="paramname">header</td><td>Number of lines occupied by the list header </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l02781">2781</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;{</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a> );</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;    <span class="keywordtype">int</span> lines_per_page = <a class="code" href="classveh__interact.html#ace346bf535ccfaddc200fb8f7e2447a7">page_size</a> - header;</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;    <span class="keywordtype">size_t</span> page = <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> / lines_per_page;</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = page * lines_per_page; i &lt; ( page + 1 ) * lines_per_page &amp;&amp; i &lt; list.size(); i++ ) {</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;        <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> &amp;info = *list[i];</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;        <span class="keyword">const</span> <a class="code" href="classvpart__variant.html">vpart_variant</a> &amp;vv = info.<a class="code" href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">variants</a>.at( info.<a class="code" href="classvpart__info.html#a37bc6fc50c287ea4d63c14eab94d232f">variant_default</a> );</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;        <span class="keywordtype">int</span> y = i - page * lines_per_page + header;</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, y ), info.<a class="code" href="classvpart__info.html#ac8dbc94ea6028b13c5a9f4e8da9b14ba">color</a>, vv.<a class="code" href="classvpart__variant.html#a20202dc1a49cd7bac2d070c619c41152">get_symbol_curses</a>( 0_degrees, <span class="keyword">false</span> ) );</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;        <a class="code" href="classnc__color.html">nc_color</a> col = <a class="code" href="classveh__interact.html#a3daff1624c04c6820a207d8c69dccbef">can_potentially_install</a>( info ) ? <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a> : <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>;</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;        <a class="code" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 3, y ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a> ) - 3, <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> == i ? <a class="code" href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a>( col ) : col,</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;                        info.<a class="code" href="classvpart__info.html#adfe04850347ddec99a639e19d432f9c8">name</a>() );</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;    }</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160; </div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a3b647086ed7b509540392fc1414092c5">install_info</a> ) {</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;        <span class="keyword">auto</span> &amp;<a class="code" href="classtab__list.html">tab_list</a> = <a class="code" href="classveh__interact.html#a3b647086ed7b509540392fc1414092c5">install_info</a>-&gt;tab_list;</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;        <span class="keywordtype">size_t</span> &amp;<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a> = <a class="code" href="classveh__interact.html#a3b647086ed7b509540392fc1414092c5">install_info</a>-&gt;tab;</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;        <span class="comment">// draw tab menu</span></div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;        <span class="keywordtype">int</span> tab_x = 0;</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classtab__list.html">tab_list</a>.size(); i++ ) {</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> = <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a> == i; <span class="comment">// current tab is active</span></div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;            std::string tab_name = <a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> ? <a class="code" href="classtab__list.html">tab_list</a>[i].name() : <a class="code" href="classtab__list.html">tab_list</a>[i].short_name();</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;            tab_x += <a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>; <span class="comment">// add a space before selected tab</span></div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;            <a class="code" href="output_8cpp.html#aa5e44e8f0fb9e375fd713321d17c35cf">draw_subtab</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a>, tab_x, tab_name, <a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;            <span class="comment">// one space padding and add a space after selected tab</span></div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;            tab_x += 1 + <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( tab_name ) + <a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>;</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;        }</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    }</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a> );</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;}</div>
<div class="ttc" id="aclasstab__list_html"><div class="ttname"><a href="classtab__list.html">tab_list</a></div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l01220">output.h:1221</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a3daff1624c04c6820a207d8c69dccbef"><div class="ttname"><a href="classveh__interact.html#a3daff1624c04c6820a207d8c69dccbef">veh_interact::can_potentially_install</a></div><div class="ttdeci">bool can_potentially_install(const vpart_info &amp;vpart)</div><div class="ttdoc">Checks to see if you can potentially install this part at current position.</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02195">veh_interact.cpp:2195</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a37bc6fc50c287ea4d63c14eab94d232f"><div class="ttname"><a href="classvpart__info.html#a37bc6fc50c287ea4d63c14eab94d232f">vpart_info::variant_default</a></div><div class="ttdeci">std::string variant_default</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00344">veh_type.h:344</a></div></div>
<div class="ttc" id="aclassvpart__info_html_ac8dbc94ea6028b13c5a9f4e8da9b14ba"><div class="ttname"><a href="classvpart__info.html#ac8dbc94ea6028b13c5a9f4e8da9b14ba">vpart_info::color</a></div><div class="ttdeci">nc_color color</div><div class="ttdoc">Color of part for different states.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00378">veh_type.h:378</a></div></div>
<div class="ttc" id="aclassvpart__variant_html"><div class="ttname"><a href="classvpart__variant.html">vpart_variant</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00209">veh_type.h:210</a></div></div>
<div class="ttc" id="aclassvpart__variant_html_a20202dc1a49cd7bac2d070c619c41152"><div class="ttname"><a href="classvpart__variant.html#a20202dc1a49cd7bac2d070c619c41152">vpart_variant::get_symbol_curses</a></div><div class="ttdeci">int get_symbol_curses(units::angle direction, bool is_broken) const</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01191">veh_type.cpp:1191</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a99e42a5de98370aab8662d4423cf4a4d"><div class="ttname"><a href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a></div><div class="ttdeci">nc_color hilite(const nc_color &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00546">color.cpp:546</a></div></div>
<div class="ttc" id="amutation__ui_8cpp_html_a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79"><div class="ttname"><a href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">mutation_tab_mode::active</a></div><div class="ttdeci">@ active</div></div>
<div class="ttc" id="anamespacekeycode_html_a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86"><div class="ttname"><a href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">keycode::tab</a></div><div class="ttdeci">@ tab</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00077">input.h:77</a></div></div>
<div class="ttc" id="anamespacemath__opers_html_a2f0118617735cc810b9d76d62bd182f6"><div class="ttname"><a href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">math_opers::pos</a></div><div class="ttdeci">constexpr double pos(double, double r)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__impl_8h_source.html#l00203">math_parser_impl.h:203</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aa5e44e8f0fb9e375fd713321d17c35cf"><div class="ttname"><a href="output_8cpp.html#aa5e44e8f0fb9e375fd713321d17c35cf">draw_subtab</a></div><div class="ttdeci">inclusive_rectangle&lt; point &gt; draw_subtab(const catacurses::window &amp;w, int iOffsetX, const std::string &amp;sText, bool bSelected, bool bDecorate, bool bDisabled)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01534">output.cpp:1534</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>, <a class="el" href="color_8h_source.html#l00018">c_dark_gray</a>, <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="veh__interact_8cpp_source.html#l02195">can_potentially_install()</a>, <a class="el" href="veh__type_8h_source.html#l00378">vpart_info::color</a>, <a class="el" href="output_8cpp_source.html#l01534">draw_subtab()</a>, <a class="el" href="veh__type_8cpp_source.html#l01191">vpart_variant::get_symbol_curses()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="color_8cpp_source.html#l00546">hilite()</a>, <a class="el" href="veh__interact_8h_source.html#l00116">install_info</a>, <a class="el" href="output_8cpp_source.html#l00590">mvwputch()</a>, <a class="el" href="veh__type_8cpp_source.html#l00965">vpart_info::name()</a>, <a class="el" href="veh__interact_8h_source.html#l00088">page_size</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>, <a class="el" href="input_8h_source.html#l00077">keycode::tab</a>, <a class="el" href="output_8cpp_source.html#l00268">trim_and_print()</a>, <a class="el" href="catacharset_8cpp_source.html#l00104">utf8_width()</a>, <a class="el" href="veh__type_8h_source.html#l00344">vpart_info::variant_default</a>, <a class="el" href="veh__type_8h_source.html#l00342">vpart_info::variants</a>, <a class="el" href="veh__interact_8h_source.html#l00103">w_list</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00083">catacurses::werase()</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>.</p>

</div>
</div>
<a id="a306c2801c87b1331e313e3f0fbc12a4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a306c2801c87b1331e313e3f0fbc12a4e">&#9670;&nbsp;</a></span>display_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::display_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints the list of usable commands, and highlights the hotkeys used to activate them. </p>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l02709">2709</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;{</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( <a class="code" href="classveh__interact.html#af4f033acb4b193f4dc6ee88e09746c04">w_mode</a> );</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160; </div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a>.has_value() ) {</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;        <a class="code" href="classnc__color.html">nc_color</a> title_col = <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>;</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;        <span class="comment">// NOLINTNEXTLINE(cata-use-named-point-constants)</span></div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;        <a class="code" href="output_8cpp.html#a64a769083b78bb93dbb99935b959f3f5">print_colored_text</a>( <a class="code" href="classveh__interact.html#af4f033acb4b193f4dc6ee88e09746c04">w_mode</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, 0 ), title_col, title_col, <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a>.value() );</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;        constexpr <span class="keywordtype">size_t</span> action_cnt = 12;</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;        <span class="keyword">const</span> std::array&lt;std::string, action_cnt&gt; actions = { {</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;                <a class="code" href="veh__interact_8cpp.html#ab02c8a3a8e934ca81241a8a68995b5d9">veh_act_desc</a>( <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>, <span class="stringliteral">&quot;INSTALL&quot;</span>,</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;                              <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;veh_interact&quot;</span>, <span class="stringliteral">&quot;install&quot;</span> ),</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;                              <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;i&#39;</span> ) ),</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;                <a class="code" href="veh__interact_8cpp.html#ab02c8a3a8e934ca81241a8a68995b5d9">veh_act_desc</a>( <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>, <span class="stringliteral">&quot;REPAIR&quot;</span>,</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;                              <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;veh_interact&quot;</span>, <span class="stringliteral">&quot;repair&quot;</span> ),</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;                              <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;r&#39;</span> ) ),</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;                <a class="code" href="veh__interact_8cpp.html#ab02c8a3a8e934ca81241a8a68995b5d9">veh_act_desc</a>( <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>, <span class="stringliteral">&quot;MEND&quot;</span>,</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;                              <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;veh_interact&quot;</span>, <span class="stringliteral">&quot;mend&quot;</span> ),</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;                              <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;m&#39;</span> ) ),</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;                <a class="code" href="veh__interact_8cpp.html#ab02c8a3a8e934ca81241a8a68995b5d9">veh_act_desc</a>( <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>, <span class="stringliteral">&quot;REFILL&quot;</span>,</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;                              <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;veh_interact&quot;</span>, <span class="stringliteral">&quot;refill&quot;</span> ),</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;                              <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;f&#39;</span> ) ),</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;                <a class="code" href="veh__interact_8cpp.html#ab02c8a3a8e934ca81241a8a68995b5d9">veh_act_desc</a>( <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>, <span class="stringliteral">&quot;REMOVE&quot;</span>,</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;                              <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;veh_interact&quot;</span>, <span class="stringliteral">&quot;remove&quot;</span> ),</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;                              <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;o&#39;</span> ) ),</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;                <a class="code" href="veh__interact_8cpp.html#ab02c8a3a8e934ca81241a8a68995b5d9">veh_act_desc</a>( <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>, <span class="stringliteral">&quot;SIPHON&quot;</span>,</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;                              <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;veh_interact&quot;</span>, <span class="stringliteral">&quot;siphon&quot;</span> ),</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;                              <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;s&#39;</span> ) ),</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;                <a class="code" href="veh__interact_8cpp.html#ab02c8a3a8e934ca81241a8a68995b5d9">veh_act_desc</a>( <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>, <span class="stringliteral">&quot;UNLOAD&quot;</span>,</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;                              <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;veh_interact&quot;</span>, <span class="stringliteral">&quot;unload&quot;</span> ),</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;                              <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;d&#39;</span> ) ),</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;                <a class="code" href="veh__interact_8cpp.html#ab02c8a3a8e934ca81241a8a68995b5d9">veh_act_desc</a>( <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>, <span class="stringliteral">&quot;ASSIGN_CREW&quot;</span>,</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;                              <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;veh_interact&quot;</span>, <span class="stringliteral">&quot;crew&quot;</span> ),</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;                              <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;w&#39;</span> ) ),</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;                <a class="code" href="veh__interact_8cpp.html#ab02c8a3a8e934ca81241a8a68995b5d9">veh_act_desc</a>( <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>, <span class="stringliteral">&quot;CHANGE_SHAPE&quot;</span>,</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;                              <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;veh_interact&quot;</span>, <span class="stringliteral">&quot;shape&quot;</span> ),</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;                              <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;p&#39;</span> ) ),</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;                <a class="code" href="veh__interact_8cpp.html#ab02c8a3a8e934ca81241a8a68995b5d9">veh_act_desc</a>( <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>, <span class="stringliteral">&quot;RENAME&quot;</span>,</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;                              <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;veh_interact&quot;</span>, <span class="stringliteral">&quot;rename&quot;</span> ),</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;                              <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8acff9bc654de7362ba8417e55c917a1c8">task_reason::CAN_DO</a> ),</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;                <a class="code" href="veh__interact_8cpp.html#ab02c8a3a8e934ca81241a8a68995b5d9">veh_act_desc</a>( <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>, <span class="stringliteral">&quot;RELABEL&quot;</span>,</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;                              <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;veh_interact&quot;</span>, <span class="stringliteral">&quot;label&quot;</span> ),</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;                              <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;a&#39;</span> ) ),</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;                <a class="code" href="veh__interact_8cpp.html#ab02c8a3a8e934ca81241a8a68995b5d9">veh_act_desc</a>( <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>, <span class="stringliteral">&quot;QUIT&quot;</span>,</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;                              <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;veh_interact&quot;</span>, <span class="stringliteral">&quot;back&quot;</span> ),</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;                              <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8acff9bc654de7362ba8417e55c917a1c8">task_reason::CAN_DO</a> ),</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;            }</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;        };</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160; </div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;        std::array &lt; int, action_cnt + 1 &gt; <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>;</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;        <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>[0] = 0;</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; action_cnt; i++ ) {</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;            <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>[i + 1] = <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>[i] + <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( actions[i], <span class="keyword">true</span> );</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;        }</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a82eca2795b3af854b612ca79c53a353e">space</a> = std::max&lt;int&gt;( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#af4f033acb4b193f4dc6ee88e09746c04">w_mode</a> ) - <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>.back(), action_cnt + 1 );</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; action_cnt; i++ ) {</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;            <a class="code" href="classnc__color.html">nc_color</a> dummy = <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>;</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;            <a class="code" href="output_8cpp.html#a64a769083b78bb93dbb99935b959f3f5">print_colored_text</a>( <a class="code" href="classveh__interact.html#af4f033acb4b193f4dc6ee88e09746c04">w_mode</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>[i] + <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a82eca2795b3af854b612ca79c53a353e">space</a> * ( i + 1 ) / ( action_cnt + 1 ), 0 ),</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;                                dummy, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, actions[i] );</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;        }</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;    }</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classveh__interact.html#af4f033acb4b193f4dc6ee88e09746c04">w_mode</a> );</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;}</div>
<div class="ttc" id="aclassveh__interact_html_a0806529417fd75516442a4823bb0c680"><div class="ttname"><a href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">veh_interact::title</a></div><div class="ttdeci">std::optional&lt; std::string &gt; title</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00109">veh_interact.h:109</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a1a7040abf1b0a4586a878f853ef242fd"><div class="ttname"><a href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">veh_interact::cant_do</a></div><div class="ttdeci">task_reason cant_do(char mode)</div><div class="ttdoc">Checks if the player is able to perform some command, and returns a nonzero error code if they are un...</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l00631">veh_interact.cpp:631</a></div></div>
<div class="ttc" id="anamespacekeycode_html_a16ca776f0df120afb4f1b16a92e2d7f7a82eca2795b3af854b612ca79c53a353e"><div class="ttname"><a href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a82eca2795b3af854b612ca79c53a353e">keycode::space</a></div><div class="ttdeci">@ space</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00080">input.h:80</a></div></div>
<div class="ttc" id="atranslations_8h_html_a46bdf4dff9d320938561cade1c9a5f7e"><div class="ttname"><a href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a></div><div class="ttdeci">#define pgettext(STRING1, STRING2)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00092">translations.h:92</a></div></div>
<div class="ttc" id="aveh__interact_8cpp_html_ab02c8a3a8e934ca81241a8a68995b5d9"><div class="ttname"><a href="veh__interact_8cpp.html#ab02c8a3a8e934ca81241a8a68995b5d9">veh_act_desc</a></div><div class="ttdeci">static std::string veh_act_desc(const input_context &amp;ctxt, const std::string &amp;id, const std::string &amp;desc, const task_reason reason)</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02686">veh_interact.cpp:2686</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8acff9bc654de7362ba8417e55c917a1c8">CAN_DO</a>, <a class="el" href="veh__interact_8cpp_source.html#l00631">cant_do()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="veh__interact_8h_source.html#l00126">main_context</a>, <a class="el" href="translations_8h_source.html#l00092">pgettext</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>, <a class="el" href="output_8cpp_source.html#l00239">print_colored_text()</a>, <a class="el" href="input_8h_source.html#l00080">keycode::space</a>, <a class="el" href="veh__interact_8h_source.html#l00109">title</a>, <a class="el" href="catacharset_8cpp_source.html#l00104">utf8_width()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02686">veh_act_desc()</a>, <a class="el" href="veh__interact_8h_source.html#l00095">w_mode</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00083">catacurses::werase()</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>.</p>

</div>
</div>
<a id="ab1cf4eb2be5146f475006b8515a12642"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1cf4eb2be5146f475006b8515a12642">&#9670;&nbsp;</a></span>display_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::display_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l02674">2674</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;{</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( <a class="code" href="classveh__interact.html#a34aa384e0dde32705549a0e208567b19">w_name</a> );</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    <span class="comment">// NOLINTNEXTLINE(cata-use-named-point-constants)</span></div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( <a class="code" href="classveh__interact.html#a34aa384e0dde32705549a0e208567b19">w_name</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, 0 ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Name: &quot;</span> ) );</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160; </div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( <a class="code" href="classveh__interact.html#a34aa384e0dde32705549a0e208567b19">w_name</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1 + <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Name: &quot;</span> ) ), 0 ),</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;               !<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a0f2357d1540b058495b554c1b5593611">is_owned_by</a>( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>(), <span class="keyword">true</span> ) ? <a class="code" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a> : <a class="code" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a>,</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;               <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s (%s)&quot;</span> ), <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a>, <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a48d4c51cef53131283d0ff6c64a2fe5f">get_owner_name</a>() ) );</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classveh__interact.html#a34aa384e0dde32705549a0e208567b19">w_name</a> );</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;}</div>
<div class="ttc" id="aclassvehicle_html_a0f2357d1540b058495b554c1b5593611"><div class="ttname"><a href="classvehicle.html#a0f2357d1540b058495b554c1b5593611">vehicle::is_owned_by</a></div><div class="ttdeci">bool is_owned_by(const Character &amp;c, bool available_to_take=false) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04644">vehicle.cpp:4644</a></div></div>
<div class="ttc" id="aclassvehicle_html_a48d4c51cef53131283d0ff6c64a2fe5f"><div class="ttname"><a href="classvehicle.html#a48d4c51cef53131283d0ff6c64a2fe5f">vehicle::get_owner_name</a></div><div class="ttdeci">std::string get_owner_name() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04668">vehicle.cpp:4668</a></div></div>
<div class="ttc" id="acolor_8h_html_aab11865a3631a7ce78da82b7fb386b71"><div class="ttname"><a href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a></div><div class="ttdeci">#define c_light_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00025">color.h:25</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1184e3eda011b110d09bf2dcf08228f5"><div class="ttname"><a href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a></div><div class="ttdeci">void mvwprintz(const catacurses::window &amp;w, const point &amp;p, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03290">output.cpp:3290</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00026">c_light_green</a>, <a class="el" href="color_8h_source.html#l00025">c_light_red</a>, <a class="el" href="vehicle_8cpp_source.html#l04668">vehicle::get_owner_name()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="vehicle_8cpp_source.html#l04644">vehicle::is_owned_by()</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="vehicle_8h_source.html#l02201">vehicle::name</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="catacharset_8cpp_source.html#l00104">utf8_width()</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, <a class="el" href="veh__interact_8h_source.html#l00105">w_name</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00083">catacurses::werase()</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>.</p>

</div>
</div>
<a id="abb3ea2143be2e40fd18eca8c1fc44152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb3ea2143be2e40fd18eca8c1fc44152">&#9670;&nbsp;</a></span>display_overview()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::display_overview </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l01567">1567</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;{</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a> );</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    std::string <a class="code" href="achievement_8cpp.html#a89b60f534d269451d6fdb9be657dcb09a98bd1c45684cf587ac2347a92dd7bb51">last</a>;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <span class="keywordtype">int</span> y = 0;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#aca3ccd6cf1a45f04067d112452fdf1ea">overview_offset</a> ) {</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        <a class="code" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, y ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a> ) - 1,</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                        <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&#39;{&#39; to scroll up&quot;</span> ) );</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        y++;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    }</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> idx = <a class="code" href="classveh__interact.html#aca3ccd6cf1a45f04067d112452fdf1ea">overview_offset</a>; idx != <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.size() ); ++idx ) {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp;pt = *<a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>[idx].part;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160; </div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;        <span class="comment">// if this is a new section print a header row</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="achievement_8cpp.html#a89b60f534d269451d6fdb9be657dcb09a98bd1c45684cf587ac2347a92dd7bb51">last</a> != <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>[idx].key ) {</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            y += <a class="code" href="achievement_8cpp.html#a89b60f534d269451d6fdb9be657dcb09a98bd1c45684cf587ac2347a92dd7bb51">last</a>.empty() ? 0 : 1;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            <a class="code" href="classveh__interact.html#aae06489e9a8eaf9a95bc8a98130040d5">overview_headers</a>[<a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>[idx].key]( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a>, y );</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            y += 2;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;            <a class="code" href="achievement_8cpp.html#a89b60f534d269451d6fdb9be657dcb09a98bd1c45684cf587ac2347a92dd7bb51">last</a> = <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>[idx].key;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        }</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160; </div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        <span class="keywordtype">bool</span> highlighted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;        <span class="comment">// No action means no selecting, just highlight relevant ones</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a> &lt; 0 &amp;&amp; <a class="code" href="classveh__interact.html#ac1930d9fe311bf79742cf84d387bdf71">overview_enable</a> &amp;&amp; !<a class="code" href="classveh__interact.html#a23784de3a9b78d9e9d3238595e50c6c8">overview_action</a> ) {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            highlighted = <a class="code" href="classveh__interact.html#ac1930d9fe311bf79742cf84d387bdf71">overview_enable</a>( pt );</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a> == idx ) {</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            highlighted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        }</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160; </div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;        <span class="comment">// print part name</span></div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        <a class="code" href="classnc__color.html">nc_color</a> col = <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>[idx].selectable ? <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a> : <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        <a class="code" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, y ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a> ) - 1,</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;                        highlighted ? <a class="code" href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a>( col ) : col,</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;                        <span class="stringliteral">&quot;&lt;color_dark_gray&gt;%s &lt;/color&gt;%s&quot;</span>,</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                        <a class="code" href="catacharset_8cpp.html#a30ed8653708f4ee2a1ac7c850a35639d">right_justify</a>( <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>[idx].hotkey.short_description(), 2 ), pt.<a class="code" href="structvehicle__part.html#a1c555386664b5d61de6bac27572c5c4f">name</a>() );</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160; </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        <span class="comment">// print extra columns (if any)</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>[idx].details( pt, <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a>, y );</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        y++;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;        <span class="keywordflow">if</span>( y &lt; ( <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a> ) - 1 ) ) {</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            <a class="code" href="classveh__interact.html#a7c90be80882a99ab49e2e989f2da9fbe">overview_limit</a> = <a class="code" href="classveh__interact.html#aca3ccd6cf1a45f04067d112452fdf1ea">overview_offset</a>;</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;            <a class="code" href="classveh__interact.html#a7c90be80882a99ab49e2e989f2da9fbe">overview_limit</a> = idx;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            <a class="code" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, y ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a> ) - 1,</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                            <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&#39;}&#39; to scroll down&quot;</span> ) );</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        }</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    }</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160; </div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classveh__interact.html#a07420a654a890593b5aabe0789849945">w_list</a> );</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;}</div>
<div class="ttc" id="aachievement_8cpp_html_a89b60f534d269451d6fdb9be657dcb09a98bd1c45684cf587ac2347a92dd7bb51"><div class="ttname"><a href="achievement_8cpp.html#a89b60f534d269451d6fdb9be657dcb09a98bd1c45684cf587ac2347a92dd7bb51">requirement_visibility::last</a></div><div class="ttdeci">@ last</div></div>
<div class="ttc" id="aclassveh__interact_html_a4b3e0851670ba7da185a35805e30ab83"><div class="ttname"><a href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">veh_interact::overview_pos</a></div><div class="ttdeci">int overview_pos</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00229">veh_interact.h:229</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a7c90be80882a99ab49e2e989f2da9fbe"><div class="ttname"><a href="classveh__interact.html#a7c90be80882a99ab49e2e989f2da9fbe">veh_interact::overview_limit</a></div><div class="ttdeci">int overview_limit</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00072">veh_interact.h:72</a></div></div>
<div class="ttc" id="aclassveh__interact_html_aca3ccd6cf1a45f04067d112452fdf1ea"><div class="ttname"><a href="classveh__interact.html#aca3ccd6cf1a45f04067d112452fdf1ea">veh_interact::overview_offset</a></div><div class="ttdeci">int overview_offset</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00071">veh_interact.h:71</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="color_8h_source.html#l00018">c_dark_gray</a>, <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="color_8h_source.html#l00030">c_yellow</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00099">catacurses::getmaxy()</a>, <a class="el" href="color_8cpp_source.html#l00546">hilite()</a>, <a class="el" href="achievement_8cpp.html#a89b60f534d269451d6fdb9be657dcb09a98bd1c45684cf587ac2347a92dd7bb51">last</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00113">vehicle_part::name()</a>, <a class="el" href="veh__interact_8h_source.html#l00228">overview_action</a>, <a class="el" href="veh__interact_8h_source.html#l00227">overview_enable</a>, <a class="el" href="veh__interact_8h_source.html#l00224">overview_headers</a>, <a class="el" href="veh__interact_8h_source.html#l00072">overview_limit</a>, <a class="el" href="veh__interact_8h_source.html#l00071">overview_offset</a>, <a class="el" href="veh__interact_8h_source.html#l00223">overview_opts</a>, <a class="el" href="veh__interact_8h_source.html#l00229">overview_pos</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="catacharset_8cpp_source.html#l00137">right_justify()</a>, <a class="el" href="output_8cpp_source.html#l00268">trim_and_print()</a>, <a class="el" href="veh__interact_8h_source.html#l00103">w_list</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00083">catacurses::werase()</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>.</p>

</div>
</div>
<a id="afef55d6de6d58b0cdaae3051c6fe0ccb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afef55d6de6d58b0cdaae3051c6fe0ccb">&#9670;&nbsp;</a></span>display_stats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::display_stats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Displays the vehicle's stats at the bottom of the window. </p>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l02465">2465</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;{</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( <a class="code" href="classveh__interact.html#ae5027af776658270efa83b421541ebab">w_stats_1</a> );</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( <a class="code" href="classveh__interact.html#abaa8073f96207ea55f0979599f61280a">w_stats_2</a> );</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( <a class="code" href="classveh__interact.html#a93651c54d57b6fd6cae5b560785d8758">w_stats_3</a> );</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160; </div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;    <a class="code" href="classon__out__of__scope.html">on_out_of_scope</a> refresh_windows( [&amp;]() {</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;        <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classveh__interact.html#ae5027af776658270efa83b421541ebab">w_stats_1</a> );</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;        <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classveh__interact.html#abaa8073f96207ea55f0979599f61280a">w_stats_2</a> );</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;        <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classveh__interact.html#a93651c54d57b6fd6cae5b560785d8758">w_stats_3</a> );</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;    } );</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160; </div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;    <span class="comment">// 3 * stats_h</span></div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> slots = 24;</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    std::array&lt;const catacurses::window *, slots&gt; win;</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    std::array&lt;int, slots&gt; row;</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160; </div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::volume</a> total_cargo = 0_ml;</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::volume</a> free_cargo = 0_ml;</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp;vpr : <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#adfbc0794c9bb9a5f1d75e1c52a2e561a">get_any_parts</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea563fb2626cff0acc6c8273fef3e3a8d0">VPFLAG_CARGO</a> ) ) {</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;        <span class="keyword">const</span> <a class="code" href="classvehicle__stack.html">vehicle_stack</a> vs = vpr.<a class="code" href="classitem__stack.html#a33d36cf99ab91ac023d2219861370cca">items</a>();</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;        total_cargo += vs.<a class="code" href="classvehicle__stack.html#abfa4eb15309e56b94c5d51475d525268">max_volume</a>();</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;        free_cargo += vs.<a class="code" href="classitem__stack.html#a543c766f2325b9f5ad03824a8047c97b">free_volume</a>();</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    }</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160; </div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; slots; i++ ) {</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;        <span class="keywordflow">if</span>( i &lt; <a class="code" href="classveh__interact.html#abaa0dd858996de1ec7a8921104e61f84">stats_h</a> ) {</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;            <span class="comment">// First column</span></div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;            win[i] = &amp;<a class="code" href="classveh__interact.html#ae5027af776658270efa83b421541ebab">w_stats_1</a>;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;            row[i] = i;</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( i &lt; ( 2 * <a class="code" href="classveh__interact.html#abaa0dd858996de1ec7a8921104e61f84">stats_h</a> ) ) {</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;            <span class="comment">// Second column</span></div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;            win[i] = &amp;<a class="code" href="classveh__interact.html#abaa8073f96207ea55f0979599f61280a">w_stats_2</a>;</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;            row[i] = i - <a class="code" href="classveh__interact.html#abaa0dd858996de1ec7a8921104e61f84">stats_h</a>;</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;            <span class="comment">// Third column</span></div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;            win[i] = &amp;<a class="code" href="classveh__interact.html#a93651c54d57b6fd6cae5b560785d8758">w_stats_3</a>;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;            row[i] = i - 2 * <a class="code" href="classveh__interact.html#abaa0dd858996de1ec7a8921104e61f84">stats_h</a>;</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;        }</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;    }</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160; </div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    <span class="keywordtype">bool</span> is_boat = !<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ae94902df801fd06056734d05ea98aa0f">floating</a>.empty();</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <span class="keywordtype">bool</span> is_ground = !<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a5c432c0da0ff47a483e3aa74548bd435">wheelcache</a>.empty() || !is_boat;</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <span class="keywordtype">bool</span> is_aircraft = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a292961ab33a42bf495d19b8692f6f105">is_rotorcraft</a>() &amp;&amp; <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a6ac15340cefeea4793448cdb34784011">is_flying_in_air</a>();</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160; </div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> vel_to_int = []( <span class="keyword">const</span> <span class="keywordtype">double</span> vel ) {</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="cata__utility_8h.html#ac1ae65aea2ccaf5d043cb644d64439ae">convert_velocity</a>( vel, <a class="code" href="cata__utility_8h.html#a8552a79ac91f30928afd501d057e074da3da9d0b5bd5d315495248290187d95b1">VU_VEHICLE</a> ) );</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    };</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160; </div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    <span class="keywordflow">if</span>( is_aircraft ) {</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;        <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[i] ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Air Safe/Top speed: &lt;color_light_green&gt;%3d&lt;/color&gt;/&lt;color_light_red&gt;%3d&lt;/color&gt; %s&quot;</span> ),</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;                        vel_to_int( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#adfe723d18ff825cd4f9fe3a0aeac11da">safe_rotor_velocity</a>( <span class="keyword">false</span> ) ),</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;                        vel_to_int( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ade874af0ba61fbce41b10b05e9095e11">max_rotor_velocity</a>( <span class="keyword">false</span> ) ),</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;                        <a class="code" href="cata__utility_8cpp.html#aa7913ee9a8cefb3ed6e7a07119818690">velocity_units</a>( <a class="code" href="cata__utility_8h.html#a8552a79ac91f30928afd501d057e074da3da9d0b5bd5d315495248290187d95b1">VU_VEHICLE</a> ) );</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;        i += 1;</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;        <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[i] ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Air acceleration: &lt;color_light_blue&gt;%3d&lt;/color&gt; %s/s&quot;</span> ),</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;                        vel_to_int( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a1e900eef075e4239bf1faec947f60c1d">rotor_acceleration</a>( <span class="keyword">false</span> ) ),</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;                        <a class="code" href="cata__utility_8cpp.html#aa7913ee9a8cefb3ed6e7a07119818690">velocity_units</a>( <a class="code" href="cata__utility_8h.html#a8552a79ac91f30928afd501d057e074da3da9d0b5bd5d315495248290187d95b1">VU_VEHICLE</a> ) );</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;        i += 1;</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;        <span class="keywordflow">if</span>( is_ground ) {</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;            <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[i] ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;                            <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Safe/Top speed: &lt;color_light_green&gt;%3d&lt;/color&gt;/&lt;color_light_red&gt;%3d&lt;/color&gt; %s&quot;</span> ),</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;                            vel_to_int( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#aae7ca2fef868c46f3f9181830a3bfa6d">safe_ground_velocity</a>( <span class="keyword">false</span> ) ),</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;                            vel_to_int( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a6f48439c388d9f7a75515eee70adf0ee">max_ground_velocity</a>( <span class="keyword">false</span> ) ),</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;                            <a class="code" href="cata__utility_8cpp.html#aa7913ee9a8cefb3ed6e7a07119818690">velocity_units</a>( <a class="code" href="cata__utility_8h.html#a8552a79ac91f30928afd501d057e074da3da9d0b5bd5d315495248290187d95b1">VU_VEHICLE</a> ) );</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;            i += 1;</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;            <span class="comment">// TODO: extract accelerations units to its own function</span></div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;            <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[i] ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;                            <span class="comment">//~ /t means per turn</span></div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;                            <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Acceleration: &lt;color_light_blue&gt;%3d&lt;/color&gt; %s/s&quot;</span> ),</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;                            vel_to_int( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a864572607b3e016a73c6e3b421021a84">ground_acceleration</a>( <span class="keyword">false</span> ) ),</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;                            <a class="code" href="cata__utility_8cpp.html#aa7913ee9a8cefb3ed6e7a07119818690">velocity_units</a>( <a class="code" href="cata__utility_8h.html#a8552a79ac91f30928afd501d057e074da3da9d0b5bd5d315495248290187d95b1">VU_VEHICLE</a> ) );</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;            i += 1;</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;            i += 2;</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;        }</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;        <span class="keywordflow">if</span>( is_boat ) {</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;            <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[i] ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;                            <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Water Safe/Top speed: &lt;color_light_green&gt;%3d&lt;/color&gt;/&lt;color_light_red&gt;%3d&lt;/color&gt; %s&quot;</span> ),</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;                            vel_to_int( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#af6d107ed282fd1226e070fb19d7acf74">safe_water_velocity</a>( <span class="keyword">false</span> ) ),</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;                            vel_to_int( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#aa288156b4f46f46ba4791073cbaf4c1b">max_water_velocity</a>( <span class="keyword">false</span> ) ),</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;                            <a class="code" href="cata__utility_8cpp.html#aa7913ee9a8cefb3ed6e7a07119818690">velocity_units</a>( <a class="code" href="cata__utility_8h.html#a8552a79ac91f30928afd501d057e074da3da9d0b5bd5d315495248290187d95b1">VU_VEHICLE</a> ) );</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;            i += 1;</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;            <span class="comment">// TODO: extract accelerations units to its own function</span></div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;            <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[i] ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;                            <span class="comment">//~ /t means per turn</span></div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;                            <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Water acceleration: &lt;color_light_blue&gt;%3d&lt;/color&gt; %s/s&quot;</span> ),</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;                            vel_to_int( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#abdeb5964519a588fa9be7f891e56cbfe">water_acceleration</a>( <span class="keyword">false</span> ) ),</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;                            <a class="code" href="cata__utility_8cpp.html#aa7913ee9a8cefb3ed6e7a07119818690">velocity_units</a>( <a class="code" href="cata__utility_8h.html#a8552a79ac91f30928afd501d057e074da3da9d0b5bd5d315495248290187d95b1">VU_VEHICLE</a> ) );</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;            i += 1;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;            i += 2;</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;        }</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    }</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;    <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[i] ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Mass: &lt;color_light_blue&gt;%5.0f&lt;/color&gt; %s&quot;</span> ),</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;                    <a class="code" href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a5a7d83716bf73d4b58d265b626872d01">total_mass</a>() ), <a class="code" href="units__utility_8cpp.html#adb77a71aaad9051e5936082915961b2f">weight_units</a>() );</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;    i += 1;</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[i] ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;                    <a class="code" href="classveh__interact.html#acac641f10cc29387f67c2ebd512b8c29">disp_w</a> &gt; 35 ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Cargo volume: &lt;color_light_blue&gt;%s&lt;/color&gt; / &lt;color_light_blue&gt;%s&lt;/color&gt; %s&quot;</span> ) :</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Cargo: &lt;color_light_blue&gt;%s&lt;/color&gt; / &lt;color_light_blue&gt;%s&lt;/color&gt; %s&quot;</span> ),</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;                    <a class="code" href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a>( total_cargo - free_cargo ),</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;                    <a class="code" href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a>( total_cargo ), <a class="code" href="units__utility_8cpp.html#a5d1afc8428beadaac75fb68c5a2bfcd7">volume_units_abbr</a>() );</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    i += 1;</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    <span class="comment">// Write the overall damage</span></div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[i] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Status: &quot;</span> ) );</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Status: &quot;</span> ) ), row[i] ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ),</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;                    <a class="code" href="classveh__interact.html#aa67ce404023ff4d483e245ff6ebc6885">total_durability_color</a>, <a class="code" href="classveh__interact.html#a94cea8131bdc9142ce448c9e340734ad">total_durability_text</a> );</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;    i += 1;</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160; </div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[i] ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;                    <a class="code" href="veh__interact_8cpp.html#a841b75d518c31c4e76af68f090642d12">wheel_state_description</a>( *<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a> ) );</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    i += 1;</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160; </div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a3b647086ed7b509540392fc1414092c5">install_info</a> || <a class="code" href="classveh__interact.html#af22b1f91bd0b407255981a14a8978367">remove_info</a> ) {</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;        <span class="comment">// don&#39;t draw the second and third columns which would be overwritten by w_details</span></div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;    }</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160; </div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    <span class="comment">// advance to next column if necessary</span></div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    i = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( i, <a class="code" href="classveh__interact.html#abaa0dd858996de1ec7a8921104e61f84">stats_h</a> );</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160; </div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;    <span class="comment">//This lambda handles printing parts in the &quot;Most damaged&quot; and &quot;Needs repair&quot; cases</span></div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;    <span class="comment">//for the veh_interact ui</span></div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> print_part = [&amp;]( <span class="keyword">const</span> std::string &amp; str, <span class="keywordtype">int</span> slot, <a class="code" href="structvehicle__part.html">vehicle_part</a> * pt ) {</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( *win[slot], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[slot] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, str );</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;        <span class="keywordtype">int</span> iw = <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( str ) + 1;</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( *win[slot], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( iw, row[slot] ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[slot] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;                               pt-&gt;name() );</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    };</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160; </div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;    <a class="code" href="structvehicle__part.html">vehicle_part</a> *mostDamagedPart = <a class="code" href="classveh__interact.html#ab047755601bd3e29145ac43ce2d32433">get_most_damaged_part</a>();</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    <a class="code" href="structvehicle__part.html">vehicle_part</a> *most_repairable = <a class="code" href="classveh__interact.html#af2bc0b32f2133107dd7063a62354f88d">get_most_repairable_part</a>();</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160; </div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    <span class="comment">// Write the most damaged part</span></div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;    <span class="keywordflow">if</span>( mostDamagedPart &amp;&amp; mostDamagedPart-&gt;<a class="code" href="structvehicle__part.html#a8b6c8fd3924772afdd6acb0398ca059a">damage_percent</a>() ) {</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;        <span class="keyword">const</span> std::string damaged_header = mostDamagedPart == most_repairable ?</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;                                           <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Most damaged:&quot;</span> ) :</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;                                           <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Most damaged (can&#39;t repair):&quot;</span> );</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;        i += print_part( damaged_header, i, mostDamagedPart );</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;        i += 1;</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    }</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160; </div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;    <span class="comment">// Write the part that needs repair the most.</span></div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;    <span class="keywordflow">if</span>( most_repairable &amp;&amp; most_repairable != mostDamagedPart ) {</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;        <span class="keyword">const</span> std::string needsRepair = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Needs repair:&quot;</span> );</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;        i += print_part( needsRepair, i, most_repairable );</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;        i += 1;</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    }</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160; </div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;    <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[i] ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Air drag:       &lt;color_light_blue&gt;%5.2f&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;                    <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a8997e3518316057cde55f9ecb444b8f0">coeff_air_drag</a>() );</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    i += 1;</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160; </div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    <span class="keywordflow">if</span>( is_boat ) {</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;        <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[i] ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Water drag:     &lt;color_light_blue&gt;%5.2f&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;                        <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ae97aeac27584b839105a68f12eb1f7a1">coeff_water_drag</a>() );</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    }</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    i += 1;</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160; </div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    <span class="keywordflow">if</span>( is_ground ) {</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;        <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[i] ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Rolling drag:   &lt;color_light_blue&gt;%5.2f&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;                        <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#acc7fb8b935b2f6f3d26efaf0fae16230">coeff_rolling_drag</a>() );</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    }</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    i += 1;</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160; </div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[i] ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Static drag:    &lt;color_light_blue&gt;%5d&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;                    <a class="code" href="namespaceunits.html#a76c965afaad76c83c6caa338d1eb6777">units::to_watt</a>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a95b68a91e0162744b31a6fe7d7692ba7">static_drag</a>( <span class="keyword">false</span> ) ) );</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    i += 1;</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160; </div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[i] ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Offroad:        &lt;color_light_blue&gt;%4d&lt;/color&gt;%%&quot;</span> ),</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;                    <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a9d41a3f9a7969c40ca5a9b7b5a3fdebe">k_traction</a>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ab738fb6279eb3c198c96dfc2ff1207ff">wheel_area</a>() *</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;                                      <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a1fcf1cb434b8bde3613a2a1981d87775">average_offroad_rating</a>() ) * 100 ) );</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;    i += 1;</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160; </div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    <span class="keywordflow">if</span>( is_boat ) {</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160; </div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> water_clearance = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a418620f2e2b16ad13145dc2731826fac">water_hull_height</a>() - <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ab66cf9a81dbebec6dbf6fbcfd1ae5cb9">water_draft</a>();</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *draft_string = water_clearance &gt; 0 ?</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;                                   <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Draft/Clearance:&lt;color_light_blue&gt;%4.2f&lt;/color&gt;m/&lt;color_light_blue&gt;%4.2f&lt;/color&gt;m&quot;</span> ) :</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;                                   <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Draft/Clearance:&lt;color_light_blue&gt;%4.2f&lt;/color&gt;m/&lt;color_light_red&gt;%4.2f&lt;/color&gt;m&quot;</span> ) ;</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160; </div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;        <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[i] ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;                        draft_string,</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;                        <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ab66cf9a81dbebec6dbf6fbcfd1ae5cb9">water_draft</a>(), water_clearance );</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;        i += 1;</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    }</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160; </div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    <span class="comment">// advance to next column if necessary</span></div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    i = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( i, 2 * <a class="code" href="classveh__interact.html#abaa0dd858996de1ec7a8921104e61f84">stats_h</a> );</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160; </div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    <span class="comment">// Print fuel percentage &amp; type name only if it fits in the window, 10 is width of &quot;E...F 100%&quot;</span></div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;    <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a74615c0f1ae9301f623bbea94a9f23c4">print_fuel_indicators</a>( *win[i], <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, row[i] ), <a class="code" href="classveh__interact.html#a2bbd873cd45cfcb2213352f933edef2e">fuel_index</a>, <span class="keyword">true</span>,</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;                                ( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ) &gt; 10 ),</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;                                ( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( *win[i] ) &gt; 10 ) );</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160; </div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;}</div>
<div class="ttc" id="acata__utility_8cpp_html_aa7913ee9a8cefb3ed6e7a07119818690"><div class="ttname"><a href="cata__utility_8cpp.html#aa7913ee9a8cefb3ed6e7a07119818690">velocity_units</a></div><div class="ttdeci">const char * velocity_units(const units_type vel_units)</div><div class="ttdoc">Create a units label for a velocity value.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8cpp_source.html#l00210">cata_utility.cpp:210</a></div></div>
<div class="ttc" id="acata__utility_8h_html_a8552a79ac91f30928afd501d057e074da3da9d0b5bd5d315495248290187d95b1"><div class="ttname"><a href="cata__utility_8h.html#a8552a79ac91f30928afd501d057e074da3da9d0b5bd5d315495248290187d95b1">VU_VEHICLE</a></div><div class="ttdeci">@ VU_VEHICLE</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8h_source.html#l00055">cata_utility.h:55</a></div></div>
<div class="ttc" id="acata__utility_8h_html_ac1ae65aea2ccaf5d043cb644d64439ae"><div class="ttname"><a href="cata__utility_8h.html#ac1ae65aea2ccaf5d043cb644d64439ae">convert_velocity</a></div><div class="ttdeci">double convert_velocity(int velocity, units_type vel_units)</div><div class="ttdoc">Convert internal velocity units to units defined by user.</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00120">units_utility.cpp:120</a></div></div>
<div class="ttc" id="aclassitem__stack_html_a33d36cf99ab91ac023d2219861370cca"><div class="ttname"><a href="classitem__stack.html#a33d36cf99ab91ac023d2219861370cca">item_stack::items</a></div><div class="ttdeci">cata::colony&lt; item &gt; * items</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8h_source.html#l00027">item_stack.h:27</a></div></div>
<div class="ttc" id="aclassitem__stack_html_a543c766f2325b9f5ad03824a8047c97b"><div class="ttname"><a href="classitem__stack.html#a543c766f2325b9f5ad03824a8047c97b">item_stack::free_volume</a></div><div class="ttdeci">units::volume free_volume() const</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8cpp_source.html#l00163">item_stack.cpp:163</a></div></div>
<div class="ttc" id="aclasson__out__of__scope_html"><div class="ttname"><a href="classon__out__of__scope.html">on_out_of_scope</a></div><div class="ttdef"><b>Definition:</b> <a href="cata__scope__helpers_8h_source.html#l00007">cata_scope_helpers.h:8</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a2bbd873cd45cfcb2213352f933edef2e"><div class="ttname"><a href="classveh__interact.html#a2bbd873cd45cfcb2213352f933edef2e">veh_interact::fuel_index</a></div><div class="ttdeci">int fuel_index</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00076">veh_interact.h:76</a></div></div>
<div class="ttc" id="aclassveh__interact_html_ab047755601bd3e29145ac43ce2d32433"><div class="ttname"><a href="classveh__interact.html#ab047755601bd3e29145ac43ce2d32433">veh_interact::get_most_damaged_part</a></div><div class="ttdeci">vehicle_part * get_most_damaged_part() const</div><div class="ttdoc">Returns the most damaged part's index, or -1 if they're all healthy.</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l01712">veh_interact.cpp:1712</a></div></div>
<div class="ttc" id="aclassveh__interact_html_af2bc0b32f2133107dd7063a62354f88d"><div class="ttname"><a href="classveh__interact.html#af2bc0b32f2133107dd7063a62354f88d">veh_interact::get_most_repairable_part</a></div><div class="ttdeci">vehicle_part * get_most_repairable_part() const</div><div class="ttdoc">Returns the index of the part that needs repair the most.</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l01729">veh_interact.cpp:1729</a></div></div>
<div class="ttc" id="aclassvehicle__stack_html_abfa4eb15309e56b94c5d51475d525268"><div class="ttname"><a href="classvehicle__stack.html#abfa4eb15309e56b94c5d51475d525268">vehicle_stack::max_volume</a></div><div class="ttdeci">units::volume max_volume() const override</div><div class="ttdoc">Maximum volume allowed here.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l00202">vehicle.cpp:202</a></div></div>
<div class="ttc" id="aclassvehicle_html_a1e900eef075e4239bf1faec947f60c1d"><div class="ttname"><a href="classvehicle.html#a1e900eef075e4239bf1faec947f60c1d">vehicle::rotor_acceleration</a></div><div class="ttdeci">int rotor_acceleration(bool fueled=true, int at_vel_in_vmi=-1) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03773">vehicle.cpp:3773</a></div></div>
<div class="ttc" id="aclassvehicle_html_a1fcf1cb434b8bde3613a2a1981d87775"><div class="ttname"><a href="classvehicle.html#a1fcf1cb434b8bde3613a2a1981d87775">vehicle::average_offroad_rating</a></div><div class="ttdeci">float average_offroad_rating() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04115">vehicle.cpp:4115</a></div></div>
<div class="ttc" id="aclassvehicle_html_a292961ab33a42bf495d19b8692f6f105"><div class="ttname"><a href="classvehicle.html#a292961ab33a42bf495d19b8692f6f105">vehicle::is_rotorcraft</a></div><div class="ttdeci">bool is_rotorcraft() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04391">vehicle.cpp:4391</a></div></div>
<div class="ttc" id="aclassvehicle_html_a418620f2e2b16ad13145dc2731826fac"><div class="ttname"><a href="classvehicle.html#a418620f2e2b16ad13145dc2731826fac">vehicle::water_hull_height</a></div><div class="ttdeci">double water_hull_height() const</div><div class="ttdoc">watertight hull height in meters measures distance from bottom of vehicle to the point where the vehi...</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04333">vehicle.cpp:4333</a></div></div>
<div class="ttc" id="aclassvehicle_html_a5a7d83716bf73d4b58d265b626872d01"><div class="ttname"><a href="classvehicle.html#a5a7d83716bf73d4b58d265b626872d01">vehicle::total_mass</a></div><div class="ttdeci">units::mass total_mass() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03472">vehicle.cpp:3472</a></div></div>
<div class="ttc" id="aclassvehicle_html_a5c432c0da0ff47a483e3aa74548bd435"><div class="ttname"><a href="classvehicle.html#a5c432c0da0ff47a483e3aa74548bd435">vehicle::wheelcache</a></div><div class="ttdeci">std::vector&lt; int &gt; wheelcache</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02183">vehicle.h:2183</a></div></div>
<div class="ttc" id="aclassvehicle_html_a6ac15340cefeea4793448cdb34784011"><div class="ttname"><a href="classvehicle.html#a6ac15340cefeea4793448cdb34784011">vehicle::is_flying_in_air</a></div><div class="ttdeci">bool is_flying_in_air() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04447">vehicle.cpp:4447</a></div></div>
<div class="ttc" id="aclassvehicle_html_a6f48439c388d9f7a75515eee70adf0ee"><div class="ttname"><a href="classvehicle.html#a6f48439c388d9f7a75515eee70adf0ee">vehicle::max_ground_velocity</a></div><div class="ttdeci">int max_ground_velocity(bool fueled=true) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03879">vehicle.cpp:3879</a></div></div>
<div class="ttc" id="aclassvehicle_html_a74615c0f1ae9301f623bbea94a9f23c4"><div class="ttname"><a href="classvehicle.html#a74615c0f1ae9301f623bbea94a9f23c4">vehicle::print_fuel_indicators</a></div><div class="ttdeci">void print_fuel_indicators(const catacurses::window &amp;win, const point &amp;, int start_index=0, bool fullsize=false, bool verbose=false, bool desc=false, bool isHorizontal=false)</div><div class="ttdoc">Prints all of the fuel indicators of the vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__display_8cpp_source.html#l00343">vehicle_display.cpp:343</a></div></div>
<div class="ttc" id="aclassvehicle_html_a864572607b3e016a73c6e3b421021a84"><div class="ttname"><a href="classvehicle.html#a864572607b3e016a73c6e3b421021a84">vehicle::ground_acceleration</a></div><div class="ttdeci">int ground_acceleration(bool fueled=true, int at_vel_in_vmi=-1) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03752">vehicle.cpp:3752</a></div></div>
<div class="ttc" id="aclassvehicle_html_a8997e3518316057cde55f9ecb444b8f0"><div class="ttname"><a href="classvehicle.html#a8997e3518316057cde55f9ecb444b8f0">vehicle::coeff_air_drag</a></div><div class="ttdeci">double coeff_air_drag() const</div><div class="ttdoc">Physical coefficients used for vehicle calculations.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04159">vehicle.cpp:4159</a></div></div>
<div class="ttc" id="aclassvehicle_html_a95b68a91e0162744b31a6fe7d7692ba7"><div class="ttname"><a href="classvehicle.html#a95b68a91e0162744b31a6fe7d7692ba7">vehicle::static_drag</a></div><div class="ttdeci">units::power static_drag(bool actual=true) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04584">vehicle.cpp:4584</a></div></div>
<div class="ttc" id="aclassvehicle_html_a9d41a3f9a7969c40ca5a9b7b5a3fdebe"><div class="ttname"><a href="classvehicle.html#a9d41a3f9a7969c40ca5a9b7b5a3fdebe">vehicle::k_traction</a></div><div class="ttdeci">float k_traction(float wheel_traction_area) const</div><div class="ttdoc">Traction coefficient of the vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04560">vehicle.cpp:4560</a></div></div>
<div class="ttc" id="aclassvehicle_html_aa288156b4f46f46ba4791073cbaf4c1b"><div class="ttname"><a href="classvehicle.html#aa288156b4f46f46ba4791073cbaf4c1b">vehicle::max_water_velocity</a></div><div class="ttdeci">int max_water_velocity(bool fueled=true) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03902">vehicle.cpp:3902</a></div></div>
<div class="ttc" id="aclassvehicle_html_aae7ca2fef868c46f3f9181830a3bfa6d"><div class="ttname"><a href="classvehicle.html#aae7ca2fef868c46f3f9181830a3bfa6d">vehicle::safe_ground_velocity</a></div><div class="ttdeci">int safe_ground_velocity(bool fueled=true) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03946">vehicle.cpp:3946</a></div></div>
<div class="ttc" id="aclassvehicle_html_ab66cf9a81dbebec6dbf6fbcfd1ae5cb9"><div class="ttname"><a href="classvehicle.html#ab66cf9a81dbebec6dbf6fbcfd1ae5cb9">vehicle::water_draft</a></div><div class="ttdeci">double water_draft() const</div><div class="ttdoc">water draft in meters - how much of the vehicle's body is under water must be less than the hull heig...</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04341">vehicle.cpp:4341</a></div></div>
<div class="ttc" id="aclassvehicle_html_ab738fb6279eb3c198c96dfc2ff1207ff"><div class="ttname"><a href="classvehicle.html#ab738fb6279eb3c198c96dfc2ff1207ff">vehicle::wheel_area</a></div><div class="ttdeci">int wheel_area() const</div><div class="ttdoc">Calculates the sum of the area under the wheels of the vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04105">vehicle.cpp:4105</a></div></div>
<div class="ttc" id="aclassvehicle_html_abdeb5964519a588fa9be7f891e56cbfe"><div class="ttname"><a href="classvehicle.html#abdeb5964519a588fa9be7f891e56cbfe">vehicle::water_acceleration</a></div><div class="ttdeci">int water_acceleration(bool fueled=true, int at_vel_in_vmi=-1) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03783">vehicle.cpp:3783</a></div></div>
<div class="ttc" id="aclassvehicle_html_acc7fb8b935b2f6f3d26efaf0fae16230"><div class="ttname"><a href="classvehicle.html#acc7fb8b935b2f6f3d26efaf0fae16230">vehicle::coeff_rolling_drag</a></div><div class="ttdeci">double coeff_rolling_drag() const</div><div class="ttdoc">coefficient of rolling resistance multiplied by velocity to get the variable part of rolling resistan...</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04303">vehicle.cpp:4303</a></div></div>
<div class="ttc" id="aclassvehicle_html_ade874af0ba61fbce41b10b05e9095e11"><div class="ttname"><a href="classvehicle.html#ade874af0ba61fbce41b10b05e9095e11">vehicle::max_rotor_velocity</a></div><div class="ttdeci">int max_rotor_velocity(bool fueled=true) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03913">vehicle.cpp:3913</a></div></div>
<div class="ttc" id="aclassvehicle_html_adfe723d18ff825cd4f9fe3a0aeac11da"><div class="ttname"><a href="classvehicle.html#adfe723d18ff825cd4f9fe3a0aeac11da">vehicle::safe_rotor_velocity</a></div><div class="ttdeci">int safe_rotor_velocity(bool fueled=true) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03956">vehicle.cpp:3956</a></div></div>
<div class="ttc" id="aclassvehicle_html_ae94902df801fd06056734d05ea98aa0f"><div class="ttname"><a href="classvehicle.html#ae94902df801fd06056734d05ea98aa0f">vehicle::floating</a></div><div class="ttdeci">std::vector&lt; int &gt; floating</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02189">vehicle.h:2189</a></div></div>
<div class="ttc" id="aclassvehicle_html_ae97aeac27584b839105a68f12eb1f7a1"><div class="ttname"><a href="classvehicle.html#ae97aeac27584b839105a68f12eb1f7a1">vehicle::coeff_water_drag</a></div><div class="ttdeci">double coeff_water_drag() const</div><div class="ttdoc">coefficient of water drag in kg/m multiplied by the square of speed to calculate water drag force in ...</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04501">vehicle.cpp:4501</a></div></div>
<div class="ttc" id="aclassvehicle_html_af6d107ed282fd1226e070fb19d7acf74"><div class="ttname"><a href="classvehicle.html#af6d107ed282fd1226e070fb19d7acf74">vehicle::safe_water_velocity</a></div><div class="ttdeci">int safe_water_velocity(bool fueled=true) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03964">vehicle.cpp:3964</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a8b6c8fd3924772afdd6acb0398ca059a"><div class="ttname"><a href="structvehicle__part.html#a8b6c8fd3924772afdd6acb0398ca059a">vehicle_part::damage_percent</a></div><div class="ttdeci">double damage_percent() const</div><div class="ttdoc">Current part damage as a percentage of maximum, with 0.0 being perfect condition.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00194">vehicle_part.cpp:194</a></div></div>
<div class="ttc" id="aveh__interact_8cpp_html_a841b75d518c31c4e76af68f090642d12"><div class="ttname"><a href="veh__interact_8cpp.html#a841b75d518c31c4e76af68f090642d12">wheel_state_description</a></div><div class="ttdeci">static std::string wheel_state_description(const vehicle &amp;veh)</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02415">veh_interact.cpp:2415</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="vehicle_8cpp_source.html#l04115">vehicle::average_offroad_rating()</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="vehicle_8cpp_source.html#l04159">vehicle::coeff_air_drag()</a>, <a class="el" href="vehicle_8cpp_source.html#l04303">vehicle::coeff_rolling_drag()</a>, <a class="el" href="vehicle_8cpp_source.html#l04501">vehicle::coeff_water_drag()</a>, <a class="el" href="units__utility_8cpp_source.html#l00120">convert_velocity()</a>, <a class="el" href="units__utility_8cpp_source.html#l00143">convert_weight()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00194">vehicle_part::damage_percent()</a>, <a class="el" href="veh__interact_8h_source.html#l00092">disp_w</a>, <a class="el" href="vehicle_8h_source.html#l02189">vehicle::floating</a>, <a class="el" href="output_8cpp_source.html#l00379">fold_and_print()</a>, <a class="el" href="output_8cpp_source.html#l03231">format_volume()</a>, <a class="el" href="item__stack_8cpp_source.html#l00163">item_stack::free_volume()</a>, <a class="el" href="veh__interact_8h_source.html#l00076">fuel_index</a>, <a class="el" href="vehicle_8cpp_source.html#l03037">vehicle::get_any_parts()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01712">get_most_damaged_part()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01729">get_most_repairable_part()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="vehicle_8cpp_source.html#l03752">vehicle::ground_acceleration()</a>, <a class="el" href="veh__interact_8h_source.html#l00116">install_info</a>, <a class="el" href="vehicle_8cpp_source.html#l04447">vehicle::is_flying_in_air()</a>, <a class="el" href="vehicle_8cpp_source.html#l04391">vehicle::is_rotorcraft()</a>, <a class="el" href="item__stack_8h_source.html#l00027">item_stack::items</a>, <a class="el" href="vehicle_8cpp_source.html#l04560">vehicle::k_traction()</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="vehicle_8cpp_source.html#l03879">vehicle::max_ground_velocity()</a>, <a class="el" href="vehicle_8cpp_source.html#l03913">vehicle::max_rotor_velocity()</a>, <a class="el" href="vehicle_8cpp_source.html#l00202">vehicle_stack::max_volume()</a>, <a class="el" href="vehicle_8cpp_source.html#l03902">vehicle::max_water_velocity()</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="vehicle__display_8cpp_source.html#l00343">vehicle::print_fuel_indicators()</a>, <a class="el" href="veh__interact_8h_source.html#l00120">remove_info</a>, <a class="el" href="vehicle_8cpp_source.html#l03773">vehicle::rotor_acceleration()</a>, <a class="el" href="vehicle_8cpp_source.html#l03946">vehicle::safe_ground_velocity()</a>, <a class="el" href="vehicle_8cpp_source.html#l03956">vehicle::safe_rotor_velocity()</a>, <a class="el" href="vehicle_8cpp_source.html#l03964">vehicle::safe_water_velocity()</a>, <a class="el" href="vehicle_8cpp_source.html#l04584">vehicle::static_drag()</a>, <a class="el" href="veh__interact_8h_source.html#l00090">stats_h</a>, <a class="el" href="units_8h_source.html#l00626">units::to_watt()</a>, <a class="el" href="veh__interact_8h_source.html#l00247">total_durability_color</a>, <a class="el" href="veh__interact_8h_source.html#l00248">total_durability_text</a>, <a class="el" href="vehicle_8cpp_source.html#l03472">vehicle::total_mass()</a>, <a class="el" href="catacharset_8cpp_source.html#l00104">utf8_width()</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, <a class="el" href="cata__utility_8cpp_source.html#l00210">velocity_units()</a>, <a class="el" href="units__utility_8cpp_source.html#l00096">volume_units_abbr()</a>, <a class="el" href="veh__type_8h_source.html#l00094">VPFLAG_CARGO</a>, <a class="el" href="cata__utility_8h_source.html#l00055">VU_VEHICLE</a>, <a class="el" href="veh__interact_8h_source.html#l00100">w_stats_1</a>, <a class="el" href="veh__interact_8h_source.html#l00101">w_stats_2</a>, <a class="el" href="veh__interact_8h_source.html#l00102">w_stats_3</a>, <a class="el" href="vehicle_8cpp_source.html#l03783">vehicle::water_acceleration()</a>, <a class="el" href="vehicle_8cpp_source.html#l04341">vehicle::water_draft()</a>, <a class="el" href="vehicle_8cpp_source.html#l04333">vehicle::water_hull_height()</a>, <a class="el" href="units__utility_8cpp_source.html#l00091">weight_units()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00083">catacurses::werase()</a>, <a class="el" href="vehicle_8cpp_source.html#l04105">vehicle::wheel_area()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02415">wheel_state_description()</a>, <a class="el" href="vehicle_8h_source.html#l02183">vehicle::wheelcache</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>.</p>

</div>
</div>
<a id="ae4de3e3140d5eb8b374932338b56fd8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4de3e3140d5eb8b374932338b56fd8a">&#9670;&nbsp;</a></span>display_veh()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::display_veh </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Draws the viewport with the vehicle. </p>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l02338">2338</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;{</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a> );</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> h_size = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a> ), <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a> ) ) / 2;</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160; </div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="debug_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a> ) {</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;        <span class="comment">// show CoM, pivot in debug mode</span></div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160; </div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;        <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> &amp;pivot = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a19bf91bbba8085237248e25c7d214ee6">pivot_point</a>();</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;        <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> &amp;com = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a8e52e13cf66fa7ebbe89c16687bae54b">local_center_of_mass</a>();</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160; </div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a>, <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a>, <span class="stringliteral">&quot;CoM   %d,%d&quot;</span>, com.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>, com.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> );</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;        <span class="comment">// NOLINTNEXTLINE(cata-use-named-point-constants)</span></div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, 1 ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>,   <span class="stringliteral">&quot;Pivot %d,%d&quot;</span>, pivot.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>, pivot.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> );</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160; </div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;        <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> com_s = ( com + <a class="code" href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">dd</a> ).<a class="code" href="vehicle__autodrive_8cpp.html#affed6d9410facda00cc52b22abf797ba">rotate</a>( 3 ) + h_size;</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;        <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> pivot_s = ( pivot + <a class="code" href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">dd</a> ).<a class="code" href="vehicle__autodrive_8cpp.html#affed6d9410facda00cc52b22abf797ba">rotate</a>( 3 ) + h_size;</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160; </div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> x = 0; x &lt; <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a> ); ++x ) {</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;            <span class="keywordflow">if</span>( x &lt;= com_s.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> ) {</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;                <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( x, com_s.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> ), <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a>, <a class="code" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a> );</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;            }</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160; </div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;            <span class="keywordflow">if</span>( x &gt;= pivot_s.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> ) {</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;                <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( x, pivot_s.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, <a class="code" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a> );</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;            }</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;        }</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160; </div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> y = 0; y &lt; <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a> ); ++y ) {</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;            <span class="keywordflow">if</span>( y &lt;= com_s.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> ) {</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;                <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( com_s.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>, y ), <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> );</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;            }</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160; </div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;            <span class="keywordflow">if</span>( y &gt;= pivot_s.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> ) {</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;                <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( pivot_s.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>, y ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> );</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;            }</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;        }</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    }</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160; </div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <span class="comment">// Draw guidelines to make current selection point more visible.</span></div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> y = 0; y &lt; <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a> ); ++y ) {</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( h_size.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>, y ), <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> );</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    }</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160; </div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> x = 0; x &lt; <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a> ); ++x ) {</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( x, h_size.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> ), <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>, <a class="code" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a> );</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    }</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160; </div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    <a class="code" href="classnc__color.html">nc_color</a> col_at_cursor = <a class="code" href="color_8h.html#a2d8f37367a34632745626276dd4c9da6">c_black</a>;</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <span class="keywordtype">int</span> sym_at_cursor = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    <span class="comment">//Iterate over structural parts so we only hit each square once</span></div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keywordtype">int</span> structural_part_idx : <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a2e1f54f4d34a2edb7ff3665e5eba7df9">all_parts_at_location</a>( <span class="stringliteral">&quot;structure&quot;</span> ) ) {</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;        <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp;vp = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( structural_part_idx );</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;        <span class="keyword">const</span> <a class="code" href="classvpart__display.html">vpart_display</a> vd = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a7169d55f706c34c402ed7ff8e9fa13f3">get_display_of_tile</a>( vp.<a class="code" href="structvehicle__part.html#ac6e2dfa7178b8bed91baea3543961a86">mount</a>, <span class="keyword">false</span>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;        <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> q = ( vp.<a class="code" href="structvehicle__part.html#ac6e2dfa7178b8bed91baea3543961a86">mount</a> + <a class="code" href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">dd</a> ).<a class="code" href="vehicle__autodrive_8cpp.html#affed6d9410facda00cc52b22abf797ba">rotate</a>( 3 );</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160; </div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;        <span class="keywordflow">if</span>( q != <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> ) { <span class="comment">// cursor is not on this part</span></div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a>, h_size + q, vd.<a class="code" href="classvpart__display.html#ab6605b2023cff69c6f930280d9ba3f4c">color</a>, vd.<a class="code" href="classvpart__display.html#aab311fd227b0b55e152fc756a2cb4d6d">symbol_curses</a> );</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;        }</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;        <a class="code" href="classveh__interact.html#a354e576739b8ec01d1327e31b17ca64c">cpart</a> = structural_part_idx;</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;        col_at_cursor = vd.<a class="code" href="classvpart__display.html#ab6605b2023cff69c6f930280d9ba3f4c">color</a>;</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;        sym_at_cursor = vd.<a class="code" href="classvpart__display.html#aab311fd227b0b55e152fc756a2cb4d6d">symbol_curses</a>;</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    }</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160; </div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> pt_disp( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a> ) / 2, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a> ) / 2 );</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> pos_at_cursor = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a3900ee345be0453828a955a200154db1">global_pos3</a>() + <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ad45ae53f6326f7fde4d8e59848470457">coord_translate</a>( -<a class="code" href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">dd</a> );</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    <span class="keyword">const</span> <a class="code" href="classoptional__vpart__position.html">optional_vpart_position</a> ovp = here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( pos_at_cursor );</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    col_at_cursor = <a class="code" href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a>( col_at_cursor );</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a82534d8752a0be6bbb000928d1f1978b">impassable_ter_furn</a>( pos_at_cursor ) || ( ovp &amp;&amp; &amp;ovp-&gt;vehicle() != <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a> ) ) {</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;        col_at_cursor = <a class="code" href="color_8cpp.html#a8c9d398d812c546baae9a55dbfd22d21">red_background</a>( col_at_cursor );</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;    }</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a>, pt_disp, col_at_cursor, sym_at_cursor );</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classveh__interact.html#a67f78a658170755c89d5a686e932e3e5">w_disp</a> );</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_a82534d8752a0be6bbb000928d1f1978b"><div class="ttname"><a href="classmap.html#a82534d8752a0be6bbb000928d1f1978b">map::impassable_ter_furn</a></div><div class="ttdeci">bool impassable_ter_furn(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02509">map.cpp:2509</a></div></div>
<div class="ttc" id="aclassvehicle_html_a19bf91bbba8085237248e25c7d214ee6"><div class="ttname"><a href="classvehicle.html#a19bf91bbba8085237248e25c7d214ee6">vehicle::pivot_point</a></div><div class="ttdeci">const point &amp; pivot_point() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l06547">vehicle.cpp:6547</a></div></div>
<div class="ttc" id="aclassvehicle_html_a2e1f54f4d34a2edb7ff3665e5eba7df9"><div class="ttname"><a href="classvehicle.html#a2e1f54f4d34a2edb7ff3665e5eba7df9">vehicle::all_parts_at_location</a></div><div class="ttdeci">std::vector&lt; int &gt; all_parts_at_location(const std::string &amp;location) const</div><div class="ttdoc">Returns all parts in the vehicle that exist in the given location slot.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03075">vehicle.cpp:3075</a></div></div>
<div class="ttc" id="aclassvehicle_html_a7169d55f706c34c402ed7ff8e9fa13f3"><div class="ttname"><a href="classvehicle.html#a7169d55f706c34c402ed7ff8e9fa13f3">vehicle::get_display_of_tile</a></div><div class="ttdeci">vpart_display get_display_of_tile(const point &amp;dp, bool rotate=true, bool include_fake=true, bool below_roof=true, bool roof=true) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__display_8cpp_source.html#l00059">vehicle_display.cpp:59</a></div></div>
<div class="ttc" id="aclassvehicle_html_a8e52e13cf66fa7ebbe89c16687bae54b"><div class="ttname"><a href="classvehicle.html#a8e52e13cf66fa7ebbe89c16687bae54b">vehicle::local_center_of_mass</a></div><div class="ttdeci">const point &amp; local_center_of_mass() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03492">vehicle.cpp:3492</a></div></div>
<div class="ttc" id="aclassvpart__display_html"><div class="ttname"><a href="classvpart__display.html">vpart_display</a></div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00711">vehicle.h:712</a></div></div>
<div class="ttc" id="aclassvpart__display_html_aab311fd227b0b55e152fc756a2cb4d6d"><div class="ttname"><a href="classvpart__display.html#aab311fd227b0b55e152fc756a2cb4d6d">vpart_display::symbol_curses</a></div><div class="ttdeci">int symbol_curses</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00721">vehicle.h:721</a></div></div>
<div class="ttc" id="aclassvpart__display_html_ab6605b2023cff69c6f930280d9ba3f4c"><div class="ttname"><a href="classvpart__display.html#ab6605b2023cff69c6f930280d9ba3f4c">vpart_display::color</a></div><div class="ttdeci">nc_color color</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00719">vehicle.h:719</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a8c9d398d812c546baae9a55dbfd22d21"><div class="ttname"><a href="color_8cpp.html#a8c9d398d812c546baae9a55dbfd22d21">red_background</a></div><div class="ttdeci">nc_color red_background(const nc_color &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00552">color.cpp:552</a></div></div>
<div class="ttc" id="acolor_8h_html_a2d8f37367a34632745626276dd4c9da6"><div class="ttname"><a href="color_8h.html#a2d8f37367a34632745626276dd4c9da6">c_black</a></div><div class="ttdeci">#define c_black</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00015">color.h:15</a></div></div>
<div class="ttc" id="adebug_8cpp_html_aa021995764a0c77f628e3411497239cc"><div class="ttname"><a href="debug_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a></div><div class="ttdeci">bool debug_mode</div><div class="ttdoc">Extended debugging mode, can be toggled during game.</div><div class="ttdef"><b>Definition:</b> <a href="debug_8cpp_source.html#l00210">debug.cpp:210</a></div></div>
<div class="ttc" id="astructpoint_html_a9a82ca9504acabb1e30569f89c805471"><div class="ttname"><a href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">point::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00024">point.h:24</a></div></div>
<div class="ttc" id="astructpoint_html_ad679b07fb69d55f5ad454d0f1f2891d5"><div class="ttname"><a href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">point::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00023">point.h:23</a></div></div>
<div class="ttc" id="avehicle__autodrive_8cpp_html_affed6d9410facda00cc52b22abf797ba"><div class="ttname"><a href="vehicle__autodrive_8cpp.html#affed6d9410facda00cc52b22abf797ba">rotate</a></div><div class="ttdeci">static point rotate(point p, quad_rotation rotation)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__autodrive_8cpp_source.html#l00557">vehicle_autodrive.cpp:557</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vehicle_8cpp_source.html#l03075">vehicle::all_parts_at_location()</a>, <a class="el" href="color_8h_source.html#l00015">c_black</a>, <a class="el" href="color_8h_source.html#l00018">c_dark_gray</a>, <a class="el" href="color_8h_source.html#l00020">c_green</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="vehicle_8h_source.html#l00719">vpart_display::color</a>, <a class="el" href="vehicle_8cpp_source.html#l03301">vehicle::coord_translate()</a>, <a class="el" href="veh__interact_8h_source.html#l00087">cpart</a>, <a class="el" href="veh__interact_8h_source.html#l00066">dd</a>, <a class="el" href="debug_8cpp_source.html#l00210">debug_mode</a>, <a class="el" href="vehicle__display_8cpp_source.html#l00059">vehicle::get_display_of_tile()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00099">catacurses::getmaxy()</a>, <a class="el" href="vehicle_8cpp_source.html#l03431">vehicle::global_pos3()</a>, <a class="el" href="color_8cpp_source.html#l00546">hilite()</a>, <a class="el" href="map_8cpp_source.html#l02509">map::impassable_ter_furn()</a>, <a class="el" href="output_8h_source.html#l00047">LINE_OXOX</a>, <a class="el" href="output_8h_source.html#l00046">LINE_XOXO</a>, <a class="el" href="vehicle_8cpp_source.html#l03492">vehicle::local_center_of_mass()</a>, <a class="el" href="vehicle_8h_source.html#l00447">vehicle_part::mount</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="output_8cpp_source.html#l00590">mvwputch()</a>, <a class="el" href="vehicle_8cpp_source.html#l08098">vehicle::part()</a>, <a class="el" href="vehicle_8cpp_source.html#l06547">vehicle::pivot_point()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="point_8h_source.html#l00251">point_zero</a>, <a class="el" href="color_8cpp_source.html#l00552">red_background()</a>, <a class="el" href="vehicle__autodrive_8cpp_source.html#l00557">rotate()</a>, <a class="el" href="vehicle_8h_source.html#l00721">vpart_display::symbol_curses</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>, <a class="el" href="veh__interact_8h_source.html#l00097">w_disp</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00083">catacurses::werase()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>.</p>

</div>
</div>
<a id="a20d2c545d1f25607b717324ff2d9ebe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20d2c545d1f25607b717324ff2d9ebe3">&#9670;&nbsp;</a></span>do_assign_crew()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::do_assign_crew </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l02023">2023</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;{</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;w&#39;</span> ) != <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8acff9bc654de7362ba8417e55c917a1c8">task_reason::CAN_DO</a> ) {</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Need at least one seat and an ally to assign crew members.&quot;</span> );</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    }</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160; </div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;std::optional&lt;std::string&gt;</a>&gt; prev_title( <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a> );</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Assign crew positions:&quot;</span> );</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160; </div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="keyword">auto</span> sel = []( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt ) {</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;        <span class="keywordflow">return</span> pt.is_seat();</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    };</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160; </div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    <span class="keyword">auto</span> <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> = [&amp;]( <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt ) {</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;        <a class="code" href="classuilist.html">uilist</a> menu;</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;        menu.<a class="code" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select crew member&quot;</span> );</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160; </div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;        <span class="keywordflow">if</span>( pt.crew() ) {</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;            menu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( 0, <span class="keyword">true</span>, <span class="charliteral">&#39;c&#39;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Clear assignment&quot;</span> ) );</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;        }</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160; </div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classnpc.html">npc</a> *e : <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;allies() ) {</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;            menu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( e-&gt;getID().get_value(), <span class="keyword">true</span>, -1, e-&gt;get_name() );</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;        }</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160; </div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;        menu.<a class="code" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;        <span class="keywordflow">if</span>( menu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> == 0 ) {</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;            pt.unset_crew();</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( menu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> &gt; 0 ) {</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;            <span class="keyword">const</span> <a class="code" href="classnpc.html">npc</a> &amp;who = *<a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_by_id&lt;<a class="code" href="classnpc.html">npc</a>&gt;( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4abf21153f2489c6f52bf69def405456ad">character_id</a>( menu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> ) );</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;            <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a559f0259028e51b88604564fb212cdc2">assign_seat</a>( pt, who );</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;        }</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    };</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160; </div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <a class="code" href="classveh__interact.html#a7672d41be97b6fc8511a48f8d0b73b4b">overview</a>( sel, <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4abf21153f2489c6f52bf69def405456ad"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4abf21153f2489c6f52bf69def405456ad">cata_variant_type::character_id</a></div><div class="ttdeci">@ character_id</div></div>
<div class="ttc" id="aclassrestore__on__out__of__scope_html"><div class="ttname"><a href="classrestore__on__out__of__scope.html">restore_on_out_of_scope</a></div><div class="ttdef"><b>Definition:</b> <a href="cata__scope__helpers_8h_source.html#l00031">cata_scope_helpers.h:32</a></div></div>
<div class="ttc" id="aclassuilist_html"><div class="ttname"><a href="classuilist.html">uilist</a></div><div class="ttdoc">uilist: scrolling vertical list menu</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00231">ui.h:232</a></div></div>
<div class="ttc" id="aclassuilist_html_a0baa34622db6972a59d47d478bfd21d6"><div class="ttname"><a href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">uilist::ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00525">ui.h:525</a></div></div>
<div class="ttc" id="aclassuilist_html_a18fd9765355d9e418bc2c399048e0645"><div class="ttname"><a href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">uilist::addentry</a></div><div class="ttdeci">void addentry(const std::string &amp;txt)</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01210">ui.cpp:1210</a></div></div>
<div class="ttc" id="aclassuilist_html_af59dd3fdde04746dbc5cb52b355577ce"><div class="ttname"><a href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">uilist::text</a></div><div class="ttdeci">std::string text</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00419">ui.h:419</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a7672d41be97b6fc8511a48f8d0b73b4b"><div class="ttname"><a href="classveh__interact.html#a7672d41be97b6fc8511a48f8d0b73b4b">veh_interact::overview</a></div><div class="ttdeci">void overview(const overview_enable_t &amp;enable={}, const overview_action_t &amp;action={})</div><div class="ttdoc">Display overview of parts, optionally with interactive selection of one part.</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l01619">veh_interact.cpp:1619</a></div></div>
<div class="ttc" id="aclassvehicle_html_a559f0259028e51b88604564fb212cdc2"><div class="ttname"><a href="classvehicle.html#a559f0259028e51b88604564fb212cdc2">vehicle::assign_seat</a></div><div class="ttdeci">bool assign_seat(vehicle_part &amp;pt, const npc &amp;who)</div><div class="ttdoc">Try to assign a crew member (who must be a player ally) to a specific seat.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00693">vehicle_part.cpp:693</a></div></div>
<div class="ttc" id="agroup__UI_html_ga7604af7545244003f0a52ac87ce37979"><div class="ttname"><a href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">uilist::query</a></div><div class="ttdeci">void query(bool loop=true, int timeout=-1)</div><div class="ttdoc">Handle input and update display.</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01032">ui.cpp:1032</a></div></div>
<div class="ttc" id="asounds_8cpp_html_ad9fe7b616a93a8209da903eba756237e"><div class="ttname"><a href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a></div><div class="ttdeci">static activity_id act</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00079">sounds.cpp:79</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="sounds_8cpp_source.html#l00079">act</a>, <a class="el" href="ui_8cpp_source.html#l01210">uilist::addentry()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00693">vehicle::assign_seat()</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8acff9bc654de7362ba8417e55c917a1c8">CAN_DO</a>, <a class="el" href="veh__interact_8cpp_source.html#l00631">cant_do()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4abf21153f2489c6f52bf69def405456ad">character_id</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="veh__interact_8h_source.html#l00110">msg</a>, <a class="el" href="veh__interact_8cpp_source.html#l01619">overview()</a>, <a class="el" href="ui_8cpp_source.html#l01032">uilist::query()</a>, <a class="el" href="ui_8h_source.html#l00525">uilist::ret</a>, <a class="el" href="ui_8h_source.html#l00419">uilist::text</a>, <a class="el" href="veh__interact_8h_source.html#l00109">title</a>, and <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>.</p>

</div>
</div>
<a id="a858ee8819340da7e56fd4c48092b559b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a858ee8819340da7e56fd4c48092b559b">&#9670;&nbsp;</a></span>do_change_shape()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::do_change_shape </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l01987">1987</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;{</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;p&#39;</span> ) == <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">task_reason::INVALID_TARGET</a> ) {</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;No valid vehicle parts here.&quot;</span> );</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    }</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160; </div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;std::optional&lt;std::string&gt;</a>&gt; prev_title( <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a> );</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Choose part to change shape:&quot;</span> );</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160; </div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    <a class="code" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;ui_adaptor&gt;</a> current_ui = <a class="code" href="classveh__interact.html#a2601f5a5bd9a75a0505b488a45dc0c3b">create_or_get_ui_adaptor</a>();</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;int&gt;</a> prev_hilight_part( <a class="code" href="classveh__interact.html#a74a0478ce397fde8ce2667075c631c81">highlight_part</a> );</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160; </div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;    <span class="keywordtype">int</span> part_selected = 0;</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160; </div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp;vp = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a>[part_selected] );</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160; </div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        <a class="code" href="classveh__interact.html#a74a0478ce397fde8ce2667075c631c81">highlight_part</a> = part_selected;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;        <a class="code" href="classveh__interact.html#ac1930d9fe311bf79742cf84d387bdf71">overview_enable</a> = [<span class="keyword">this</span>, part_selected]( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt ) {</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;            <span class="keywordflow">return</span> &amp;pt == &amp;<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( part_selected );</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        };</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160; </div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;        <a class="code" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;        <span class="keyword">const</span> std::string <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#a43aa2fcd42cabfd04056def8986bc927">handle_input</a>();</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160; </div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CONFIRM&quot;</span> || <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CHANGE_SHAPE&quot;</span> ) {</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;            <a class="code" href="veh__interact_8cpp.html#af68210f33dec93cf93be508e70e1ca87">do_change_shape_menu</a>( vp );</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;            <a class="code" href="classveh__interact.html#a5bec3200f6e3aab33053e759b9101099">move_in_list</a>( part_selected, <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>, <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a>.size() );</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;        }</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    }</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;}</div>
<div class="ttc" id="aclassinput__context_html_a43aa2fcd42cabfd04056def8986bc927"><div class="ttname"><a href="classinput__context.html#a43aa2fcd42cabfd04056def8986bc927">input_context::handle_input</a></div><div class="ttdeci">const std::string &amp; handle_input()</div><div class="ttdoc">Handles input and returns the next action in the queue.</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l00427">input_context.cpp:427</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a2601f5a5bd9a75a0505b488a45dc0c3b"><div class="ttname"><a href="classveh__interact.html#a2601f5a5bd9a75a0505b488a45dc0c3b">veh_interact::create_or_get_ui_adaptor</a></div><div class="ttdeci">shared_ptr_fast&lt; ui_adaptor &gt; create_or_get_ui_adaptor()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l00399">veh_interact.cpp:399</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a5bec3200f6e3aab33053e759b9101099"><div class="ttname"><a href="classveh__interact.html#a5bec3200f6e3aab33053e759b9101099">veh_interact::move_in_list</a></div><div class="ttdeci">bool move_in_list(int &amp;pos, const std::string &amp;action, int size, int header=0) const</div><div class="ttdoc">Move index (parameter pos) according to input action: (up or down, single step or whole page).</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l01086">veh_interact.cpp:1086</a></div></div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a></div><div class="ttdeci">@ action</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00044">dialogue.h:43</a></div></div>
<div class="ttc" id="anamespaceui__manager_html_ae38f3a918052ef286ee60daac47f52d4"><div class="ttname"><a href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a></div><div class="ttdeci">void redraw()</div><div class="ttdoc">Invalidate the top window and redraw all invalidated windows.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00504">ui_manager.cpp:504</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="dialogue_8h_source.html#l00043">action</a>, <a class="el" href="veh__interact_8cpp_source.html#l00631">cant_do()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01949">do_change_shape_menu()</a>, <a class="el" href="input__context_8cpp_source.html#l00427">input_context::handle_input()</a>, <a class="el" href="veh__interact_8h_source.html#l00114">highlight_part</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">INVALID_TARGET</a>, <a class="el" href="veh__interact_8h_source.html#l00126">main_context</a>, <a class="el" href="veh__interact_8cpp_source.html#l01086">move_in_list()</a>, <a class="el" href="veh__interact_8h_source.html#l00110">msg</a>, <a class="el" href="veh__interact_8h_source.html#l00227">overview_enable</a>, <a class="el" href="vehicle_8cpp_source.html#l08098">vehicle::part()</a>, <a class="el" href="veh__interact_8h_source.html#l00278">parts_here</a>, <a class="el" href="ui__manager_8cpp_source.html#l00504">ui_manager::redraw()</a>, <a class="el" href="veh__interact_8h_source.html#l00109">title</a>, and <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>.</p>

</div>
</div>
<a id="a44f0dc7ca517acb88f954925f36ef082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44f0dc7ca517acb88f954925f36ef082">&#9670;&nbsp;</a></span>do_install()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::do_install </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l00957">957</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;{</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8">task_reason</a> reason = <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;i&#39;</span> );</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">if</span>( reason == <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">task_reason::INVALID_TARGET</a> ) {</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Cannot install any part here.&quot;</span> );</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    }</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160; </div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;std::optional&lt;std::string&gt;</a>&gt; prev_title( <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a> );</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Choose new part to install here:&quot;</span> );</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;std::unique_ptr&lt;install_info_t&gt;</a>&gt; prev_install_info( std::move(</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                <a class="code" href="classveh__interact.html#a3b647086ed7b509540392fc1414092c5">install_info</a> ) );</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <a class="code" href="classveh__interact.html#a3b647086ed7b509540392fc1414092c5">install_info</a> = std::make_unique&lt;install_info_t&gt;();</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    std::string <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>; <span class="comment">// The user specified filter</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    std::vector&lt;vpart_category&gt; &amp;<a class="code" href="classtab__list.html">tab_list</a> = <a class="code" href="classveh__interact.html#a3b647086ed7b509540392fc1414092c5">install_info</a>-&gt;tab_list = {};</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    std::vector &lt;std::function&lt;bool( <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> * )&gt;&gt; tab_filters;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classvpart__category.html">vpart_category</a> &amp;cat : <a class="code" href="classvpart__category.html#a0e1d7e5b5854bdee7abe719b45842d08">vpart_category::all</a>() ) {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <a class="code" href="classtab__list.html">tab_list</a>.push_back( cat );</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        <span class="keywordflow">if</span>( cat.get_id() == <span class="stringliteral">&quot;_all&quot;</span> ) {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            tab_filters.emplace_back( []( <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> * ) {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;            } );</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( cat.get_id() == <span class="stringliteral">&quot;_filter&quot;</span> ) {</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            tab_filters.emplace_back( [&amp;<a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>]( <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> * p ) {</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="cata__utility_8cpp.html#a84041cce1c665cd0a5894378a0e262d0">lcmatch</a>( p-&gt;<a class="code" href="classvpart__info.html#adfe04850347ddec99a639e19d432f9c8">name</a>(), <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a> );</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            } );</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            tab_filters.emplace_back( [ cat = cat.get_id()]( <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> * p ) {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                <span class="keywordflow">return</span> p-&gt;has_category( cat );</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            } );</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    }</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <a class="code" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;ui_adaptor&gt;</a> current_ui = <a class="code" href="classveh__interact.html#a2601f5a5bd9a75a0505b488a45dc0c3b">create_or_get_ui_adaptor</a>();</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keywordtype">int</span> &amp;<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = <a class="code" href="classveh__interact.html#a3b647086ed7b509540392fc1414092c5">install_info</a>-&gt;pos = 0;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordtype">size_t</span> &amp;<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a> = <a class="code" href="classveh__interact.html#a3b647086ed7b509540392fc1414092c5">install_info</a>-&gt;tab = 0;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160; </div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    std::vector&lt;const vpart_info *&gt; &amp;tab_vparts = <a class="code" href="classveh__interact.html#a3b647086ed7b509540392fc1414092c5">install_info</a>-&gt;tab_vparts;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160; </div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a> = ( <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a> + <a class="code" href="classtab__list.html">tab_list</a>.size() ) % <a class="code" href="classtab__list.html">tab_list</a>.size(); <span class="comment">// handle tabs rolling under/over</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        tab_vparts.clear();</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        std::copy_if( <a class="code" href="classveh__interact.html#a946c417657ac527bc9e02c6553ae6234">can_mount</a>.begin(), <a class="code" href="classveh__interact.html#a946c417657ac527bc9e02c6553ae6234">can_mount</a>.end(), std::back_inserter( tab_vparts ),</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                      tab_filters[<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>] );</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        <span class="comment">// tab_vparts can be empty or pos out of bounds</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a> = <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> &gt;= 0 &amp;&amp; pos &lt; static_cast&lt;int&gt;( tab_vparts.size() )</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                         ? tab_vparts[<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>] : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> can_install = <a class="code" href="classveh__interact.html#a6b7ea84841ff8ca9e7cd74552f7da13f">update_part_requirements</a>();</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <a class="code" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        <span class="keyword">const</span> std::string <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#a43aa2fcd42cabfd04056def8986bc927">handle_input</a>();</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a>.reset();</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;FILTER&quot;</span> ) {</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            <a class="code" href="classstring__input__popup.html">string_input_popup</a>()</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            .<a class="code" href="classstring__input__popup.html#aa96aa0184abb3c9740c2a48f098eeb8b">title</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Search for part&quot;</span> ) )</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            .<a class="code" href="classstring__input__popup.html#ab3273f9bfdeac38fff067187b1d3715c">width</a>( 50 )</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;            .<a class="code" href="classstring__input__popup.html#a9f31b9d59f6c7a6b8dc5057e9a12b0d2">description</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Filter&quot;</span> ) )</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            .<a class="code" href="classstring__input__popup.html#a8384f93d062411edc34a277757efe25b">max_length</a>( 100 )</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            .<a class="code" href="classstring__input__popup.html#a4bb2ebaf993134aa843f3556eb61d69a">edit</a>( <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a> );</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a> = tab_filters.size() - 1; <span class="comment">// Move to the user filter tab.</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = 0;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;REPAIR&quot;</span> ) {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>.clear();</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a> = 0;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = 0;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;INSTALL&quot;</span> || <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CONFIRM&quot;</span> ) {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            <span class="keywordflow">if</span>( !can_install || <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a> == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            }</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            <span class="keywordflow">switch</span>( reason ) {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a354f9f7371cd259a5bd11ef1f0404def">task_reason::LOW_MORALE</a>:</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                    <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Your morale is too low to construct&quot;</span> );</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a387ed9ae8934c7ccb29f0ac78591ad13">task_reason::LOW_LIGHT</a>:</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                    <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;It&#39;s too dark to see what you are doing&quot;</span> );</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8aa28aee4213e36855bcd2cc87a6cb780f">task_reason::MOVING_VEHICLE</a>:</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                    <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You can&#39;t install parts while driving.&quot;</span> );</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            <span class="comment">// Modifying a vehicle with rotors will make in not flightworthy</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            <span class="comment">// (until we&#39;ve got a better model)</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            <span class="comment">// It can only be the player doing this - an npc won&#39;t work well with query_yn</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a9e57a20eb72b28e973c6471ffb6d11ce">would_install_prevent_flyable</a>( *<a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>, player_character ) ) {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>(</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Installing this part will mean that this vehicle is no longer &quot;</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                           <span class="stringliteral">&quot;flightworthy.  Continue?&quot;</span> ) ) ) {</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                    <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#aab22abdc469d3ed5d587012a61eba4f5">set_flyable</a>( <span class="keyword">false</span> );</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            }</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ad9e5f31113c5dda6b76442cbd7b8429f">is_foldable</a>() &amp;&amp; !<a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#a2b7584e0ad10a1922caee915600e0381">folded_volume</a> &amp;&amp;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Installing this part will make the vehicle unfoldable. &quot;</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                              <span class="stringliteral">&quot; Continue?&quot;</span> ) ) ) {</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            }</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160; </div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            <a class="code" href="classveh__interact.html#a8171487d174b74e188e38980e2005a74">sel_cmd</a> = <span class="charliteral">&#39;i&#39;</span>;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PREV_TAB&quot;</span> ) {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;            <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = 0;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>--;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;NEXT_TAB&quot;</span> ) {</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = 0;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>++;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;DESC_LIST_DOWN&quot;</span> ) {</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            <a class="code" href="classveh__interact.html#a1268db6f312a6823b039175b19562801">w_msg_scroll_offset</a>++;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;DESC_LIST_UP&quot;</span> ) {</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            <a class="code" href="classveh__interact.html#a1268db6f312a6823b039175b19562801">w_msg_scroll_offset</a>--;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            <a class="code" href="classveh__interact.html#a5bec3200f6e3aab33053e759b9101099">move_in_list</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>, tab_vparts.size(), 2 );</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;            <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, 0 ); <span class="comment">// move_in_list sets pos to -1 when moving up in empty list</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        }</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    }</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;}</div>
<div class="ttc" id="acata__utility_8cpp_html_a84041cce1c665cd0a5894378a0e262d0"><div class="ttname"><a href="cata__utility_8cpp.html#a84041cce1c665cd0a5894378a0e262d0">lcmatch</a></div><div class="ttdeci">bool lcmatch(const std::string_view str, const std::string_view qry)</div><div class="ttdoc">Perform case insensitive search for a query string inside a subject string.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8cpp_source.html#l00089">cata_utility.cpp:89</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html"><div class="ttname"><a href="classstring__input__popup.html">string_input_popup</a></div><div class="ttdoc">Shows a window querying the user for input.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00048">string_input_popup.h:49</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_a4bb2ebaf993134aa843f3556eb61d69a"><div class="ttname"><a href="classstring__input__popup.html#a4bb2ebaf993134aa843f3556eb61d69a">string_input_popup::edit</a></div><div class="ttdeci">void edit(std::string &amp;value)</div><div class="ttdoc">Edit values in place.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8cpp_source.html#l00625">string_input_popup.cpp:625</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_a8384f93d062411edc34a277757efe25b"><div class="ttname"><a href="classstring__input__popup.html#a8384f93d062411edc34a277757efe25b">string_input_popup::max_length</a></div><div class="ttdeci">string_input_popup &amp; max_length(int value)</div><div class="ttdoc">Maximal amount of Unicode characters that can be given by the user.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00159">string_input_popup.h:159</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_a9f31b9d59f6c7a6b8dc5057e9a12b0d2"><div class="ttname"><a href="classstring__input__popup.html#a9f31b9d59f6c7a6b8dc5057e9a12b0d2">string_input_popup::description</a></div><div class="ttdeci">string_input_popup &amp; description(const std::string &amp;value)</div><div class="ttdoc">Additional help text, shown below the input box.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00132">string_input_popup.h:132</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_aa96aa0184abb3c9740c2a48f098eeb8b"><div class="ttname"><a href="classstring__input__popup.html#aa96aa0184abb3c9740c2a48f098eeb8b">string_input_popup::title</a></div><div class="ttdeci">string_input_popup &amp; title(const std::string &amp;value)</div><div class="ttdoc">The title: short string before the actual input field.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00113">string_input_popup.h:113</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_ab3273f9bfdeac38fff067187b1d3715c"><div class="ttname"><a href="classstring__input__popup.html#ab3273f9bfdeac38fff067187b1d3715c">string_input_popup::width</a></div><div class="ttdeci">string_input_popup &amp; width(int value)</div><div class="ttdoc">Width (in console cells) of the input field itself.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00151">string_input_popup.h:151</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a6b7ea84841ff8ca9e7cd74552f7da13f"><div class="ttname"><a href="classveh__interact.html#a6b7ea84841ff8ca9e7cd74552f7da13f">veh_interact::update_part_requirements</a></div><div class="ttdeci">bool update_part_requirements()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l00780">veh_interact.cpp:780</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a8171487d174b74e188e38980e2005a74"><div class="ttname"><a href="classveh__interact.html#a8171487d174b74e188e38980e2005a74">veh_interact::sel_cmd</a></div><div class="ttdeci">char sel_cmd</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00085">veh_interact.h:85</a></div></div>
<div class="ttc" id="aclassvehicle_html_a9e57a20eb72b28e973c6471ffb6d11ce"><div class="ttname"><a href="classvehicle.html#a9e57a20eb72b28e973c6471ffb6d11ce">vehicle::would_install_prevent_flyable</a></div><div class="ttdeci">bool would_install_prevent_flyable(const vpart_info &amp;vpinfo, const Character &amp;pc) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04412">vehicle.cpp:4412</a></div></div>
<div class="ttc" id="aclassvehicle_html_aab22abdc469d3ed5d587012a61eba4f5"><div class="ttname"><a href="classvehicle.html#aab22abdc469d3ed5d587012a61eba4f5">vehicle::set_flyable</a></div><div class="ttdeci">void set_flyable(bool val)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04402">vehicle.cpp:4402</a></div></div>
<div class="ttc" id="aclassvehicle_html_ad9e5f31113c5dda6b76442cbd7b8429f"><div class="ttname"><a href="classvehicle.html#ad9e5f31113c5dda6b76442cbd7b8429f">vehicle::is_foldable</a></div><div class="ttdeci">bool is_foldable() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l07594">vehicle.cpp:7594</a></div></div>
<div class="ttc" id="aclassvpart__category_html"><div class="ttname"><a href="classvpart__category.html">vpart_category</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00177">veh_type.h:178</a></div></div>
<div class="ttc" id="aclassvpart__category_html_a0e1d7e5b5854bdee7abe719b45842d08"><div class="ttname"><a href="classvpart__category.html#a0e1d7e5b5854bdee7abe719b45842d08">vpart_category::all</a></div><div class="ttdeci">static const std::vector&lt; vpart_category &gt; &amp; all()</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01702">veh_type.cpp:1702</a></div></div>
<div class="ttc" id="ainput__context_8cpp_html_a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a"><div class="ttname"><a href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">kb_menu_status::filter</a></div><div class="ttdeci">@ filter</div></div>
<div class="ttc" id="aoutput_8cpp_html_ab62599a77867b8f416669b92f60f4900"><div class="ttname"><a href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a></div><div class="ttdeci">bool query_yn(const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00811">output.cpp:811</a></div></div>
<div class="ttc" id="aveh__interact_8h_html_ab7bc1352655b72d653e42e97a93cd5b8"><div class="ttname"><a href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8">task_reason</a></div><div class="ttdeci">task_reason</div><div class="ttdoc">Represents possible return values from the cant_do function.</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00030">veh_interact.h:30</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="dialogue_8h_source.html#l00043">action</a>, <a class="el" href="veh__type_8cpp_source.html#l01702">vpart_category::all()</a>, <a class="el" href="veh__interact_8h_source.html#l00266">can_mount</a>, <a class="el" href="veh__interact_8cpp_source.html#l00631">cant_do()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, <a class="el" href="string__input__popup_8h_source.html#l00132">string_input_popup::description()</a>, <a class="el" href="string__input__popup_8cpp_source.html#l00625">string_input_popup::edit()</a>, <a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, <a class="el" href="veh__type_8h_source.html#l00388">vpart_info::folded_volume</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="input__context_8cpp_source.html#l00427">input_context::handle_input()</a>, <a class="el" href="veh__interact_8h_source.html#l00116">install_info</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">INVALID_TARGET</a>, <a class="el" href="vehicle_8cpp_source.html#l07594">vehicle::is_foldable()</a>, <a class="el" href="cata__utility_8cpp_source.html#l00089">lcmatch()</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a387ed9ae8934c7ccb29f0ac78591ad13">LOW_LIGHT</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a354f9f7371cd259a5bd11ef1f0404def">LOW_MORALE</a>, <a class="el" href="veh__interact_8h_source.html#l00126">main_context</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="string__input__popup_8h_source.html#l00159">string_input_popup::max_length()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01086">move_in_list()</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8aa28aee4213e36855bcd2cc87a6cb780f">MOVING_VEHICLE</a>, <a class="el" href="veh__interact_8h_source.html#l00110">msg</a>, <a class="el" href="veh__type_8cpp_source.html#l00965">vpart_info::name()</a>, <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00504">ui_manager::redraw()</a>, <a class="el" href="veh__interact_8h_source.html#l00085">sel_cmd</a>, <a class="el" href="veh__interact_8h_source.html#l00082">sel_vpart_info</a>, <a class="el" href="vehicle_8cpp_source.html#l04402">vehicle::set_flyable()</a>, <a class="el" href="input_8h_source.html#l00077">keycode::tab</a>, <a class="el" href="string__input__popup_8h_source.html#l00113">string_input_popup::title()</a>, <a class="el" href="veh__interact_8h_source.html#l00109">title</a>, <a class="el" href="veh__interact_8cpp_source.html#l00780">update_part_requirements()</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, <a class="el" href="veh__interact_8h_source.html#l00074">w_msg_scroll_offset</a>, <a class="el" href="string__input__popup_8h_source.html#l00151">string_input_popup::width()</a>, and <a class="el" href="vehicle_8cpp_source.html#l04412">vehicle::would_install_prevent_flyable()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>.</p>

</div>
</div>
<a id="a002640225f8a3d7a2f949a51118eb758"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a002640225f8a3d7a2f949a51118eb758">&#9670;&nbsp;</a></span>do_main_loop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::do_main_loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l00485">485</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;{</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordtype">bool</span> finish = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> owned_by_player = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ac17a2033f05b9d7ac92c3d119c4ac75a">handle_potential_theft</a>( player_character, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <a class="code" href="classfaction.html">faction</a> *owner_fac;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a16754f112125d292839bf0c10a99d7ae">has_owner</a>() ) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        owner_fac = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;faction_manager_ptr-&gt;get( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a070fe172db0a71f8ab874a18a1d88d10">get_owner</a>() );</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        owner_fac = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;faction_manager_ptr-&gt;get( <a class="code" href="veh__interact_8cpp.html#a7fe2bfe8b506d79e174b34485d008914">faction_no_faction</a> );</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <a class="code" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;ui_adaptor&gt;</a> current_ui = <a class="code" href="classveh__interact.html#a2601f5a5bd9a75a0505b488a45dc0c3b">create_or_get_ui_adaptor</a>();</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">while</span>( !finish ) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <a class="code" href="classveh__interact.html#a3ae13a6bce2460dd830c9d00fd5dbb62">calc_overview</a>();</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <a class="code" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> description_scroll_lines = <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">catacurses::getmaxy</a>( <a class="code" href="classveh__interact.html#a0b4868e02f25d3cc10097be1de62ae4a">w_parts</a> ) - 4;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keyword">const</span> std::string <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#a43aa2fcd42cabfd04056def8986bc927">handle_input</a>();</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a>.reset();</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">if</span>( <span class="keyword">const</span> std::optional&lt;tripoint&gt; vec = <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#a0acd9546d02155a0b3a270560f20713a">get_direction</a>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> ) ) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            <a class="code" href="classveh__interact.html#a45c56ae23ae2b250f0facb9b1b8ab311">move_cursor</a>( vec-&gt;xy() );</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            finish = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;INSTALL&quot;</span> ) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ac17a2033f05b9d7ac92c3d119c4ac75a">handle_potential_theft</a>( player_character ) ) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                <a class="code" href="classveh__interact.html#a44f0dc7ca517acb88f954925f36ef082">do_install</a>();</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;REPAIR&quot;</span> ) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ac17a2033f05b9d7ac92c3d119c4ac75a">handle_potential_theft</a>( player_character ) ) {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                <a class="code" href="classveh__interact.html#ab2cf4aec2396755dd413276e69bbf21a">do_repair</a>();</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;MEND&quot;</span> ) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ac17a2033f05b9d7ac92c3d119c4ac75a">handle_potential_theft</a>( player_character ) ) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                <a class="code" href="classveh__interact.html#a4d7c0375ecfed2bb961f4bf4cc95cb98">do_mend</a>();</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;REFILL&quot;</span> ) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ac17a2033f05b9d7ac92c3d119c4ac75a">handle_potential_theft</a>( player_character ) ) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                <a class="code" href="classveh__interact.html#a2021bf4ecc63be09944c9e337306798a">do_refill</a>();</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;REMOVE&quot;</span> ) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ac17a2033f05b9d7ac92c3d119c4ac75a">handle_potential_theft</a>( player_character ) ) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                <a class="code" href="classveh__interact.html#aa88357e4727b42fb34ef0c9c3c6ab2cf">do_remove</a>();</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;RENAME&quot;</span> ) {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <span class="keywordflow">if</span>( owned_by_player ) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                <a class="code" href="classveh__interact.html#acb9bf106983bc032fd65980b79c5360e">do_rename</a>();</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                <span class="keywordflow">if</span>( owner_fac ) {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You cannot rename this vehicle as it is owned by: %s.&quot;</span> ), <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( owner_fac-&gt;<a class="code" href="classfaction__template.html#a9fa57ac248112fa09f2bbe19826f93fc">name</a> ) );</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                }</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SIPHON&quot;</span> ) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ac17a2033f05b9d7ac92c3d119c4ac75a">handle_potential_theft</a>( player_character ) ) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                <a class="code" href="classveh__interact.html#ac84bab1bf6c0fb0d2ca51cace5290aec">do_siphon</a>();</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <span class="comment">// Siphoning may have started a player activity. If so, we should close the</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                <span class="comment">// vehicle dialog and continue with the activity.</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                finish = !player_character.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#aac0ed0719997b097dd5d891c77e2b333">is_null</a>();</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                <span class="keywordflow">if</span>( !finish ) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                    <span class="comment">// it&#39;s possible we just invalidated our crafting inventory</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                    <a class="code" href="classveh__interact.html#a2b5daf23868c397523b5f2b9cb0558b9">cache_tool_availability</a>();</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;UNLOAD&quot;</span> ) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ac17a2033f05b9d7ac92c3d119c4ac75a">handle_potential_theft</a>( player_character ) ) {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                finish = <a class="code" href="classveh__interact.html#aeb47fd0e84452654b1bb815ae1e578de">do_unload</a>();</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CHANGE_SHAPE&quot;</span> ) {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <span class="comment">// purely comestic</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <a class="code" href="classveh__interact.html#a858ee8819340da7e56fd4c48092b559b">do_change_shape</a>();</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;ASSIGN_CREW&quot;</span> ) {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="keywordflow">if</span>( owned_by_player ) {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                <a class="code" href="classveh__interact.html#a20d2c545d1f25607b717324ff2d9ebe3">do_assign_crew</a>();</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                <span class="keywordflow">if</span>( owner_fac ) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You cannot assign crew on this vehicle as it is owned by: %s.&quot;</span> ),</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                           <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( owner_fac-&gt;<a class="code" href="classfaction__template.html#a9fa57ac248112fa09f2bbe19826f93fc">name</a> ) );</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;RELABEL&quot;</span> ) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            <span class="keywordflow">if</span>( owned_by_player ) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                <a class="code" href="classveh__interact.html#a029c25cb40618562ef2950339c704b44">do_relabel</a>();</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <span class="keywordflow">if</span>( owner_fac ) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You cannot relabel this vehicle as it is owned by: %s.&quot;</span> ), <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( owner_fac-&gt;<a class="code" href="classfaction__template.html#a9fa57ac248112fa09f2bbe19826f93fc">name</a> ) );</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;FUEL_LIST_DOWN&quot;</span> ) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            <a class="code" href="classveh__interact.html#a208141a299865f7cc2c188d424a38cc2">move_fuel_cursor</a>( 1 );</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;FUEL_LIST_UP&quot;</span> ) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <a class="code" href="classveh__interact.html#a208141a299865f7cc2c188d424a38cc2">move_fuel_cursor</a>( -1 );</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;OVERVIEW_DOWN&quot;</span> ) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <a class="code" href="classveh__interact.html#adfa3a898243b2fe0c3fdd9b34afd2603">move_overview_line</a>( 1 );</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;OVERVIEW_UP&quot;</span> ) {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <a class="code" href="classveh__interact.html#adfa3a898243b2fe0c3fdd9b34afd2603">move_overview_line</a>( -1 );</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;DESC_LIST_DOWN&quot;</span> ) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <a class="code" href="classveh__interact.html#a45c56ae23ae2b250f0facb9b1b8ab311">move_cursor</a>( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, 1 );</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;DESC_LIST_UP&quot;</span> ) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <a class="code" href="classveh__interact.html#a45c56ae23ae2b250f0facb9b1b8ab311">move_cursor</a>( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, -1 );</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PAGE_DOWN&quot;</span> ) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <a class="code" href="classveh__interact.html#a45c56ae23ae2b250f0facb9b1b8ab311">move_cursor</a>( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, description_scroll_lines );</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PAGE_UP&quot;</span> ) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <a class="code" href="classveh__interact.html#a45c56ae23ae2b250f0facb9b1b8ab311">move_cursor</a>( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, -description_scroll_lines );</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a8171487d174b74e188e38980e2005a74">sel_cmd</a> != <span class="charliteral">&#39; &#39;</span> ) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            finish = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;}</div>
<div class="ttc" id="aclassfaction__template_html_a9fa57ac248112fa09f2bbe19826f93fc"><div class="ttname"><a href="classfaction__template.html#a9fa57ac248112fa09f2bbe19826f93fc">faction_template::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00107">faction.h:107</a></div></div>
<div class="ttc" id="aclassfaction_html"><div class="ttname"><a href="classfaction.html">faction</a></div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00126">faction.h:127</a></div></div>
<div class="ttc" id="aclassinput__context_html_a0acd9546d02155a0b3a270560f20713a"><div class="ttname"><a href="classinput__context.html#a0acd9546d02155a0b3a270560f20713a">input_context::get_direction</a></div><div class="ttdeci">std::optional&lt; tripoint &gt; get_direction(const std::string &amp;action) const</div><div class="ttdoc">Convert a direction action (UP, DOWN etc) to a delta vector.</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l00551">input_context.cpp:551</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_aac0ed0719997b097dd5d891c77e2b333"><div class="ttname"><a href="classplayer__activity.html#aac0ed0719997b097dd5d891c77e2b333">player_activity::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00102">player_activity.h:102</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a029c25cb40618562ef2950339c704b44"><div class="ttname"><a href="classveh__interact.html#a029c25cb40618562ef2950339c704b44">veh_interact::do_relabel</a></div><div class="ttdeci">void do_relabel()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02077">veh_interact.cpp:2077</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a2021bf4ecc63be09944c9e337306798a"><div class="ttname"><a href="classveh__interact.html#a2021bf4ecc63be09944c9e337306798a">veh_interact::do_refill</a></div><div class="ttdeci">void do_refill()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l01290">veh_interact.cpp:1290</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a208141a299865f7cc2c188d424a38cc2"><div class="ttname"><a href="classveh__interact.html#a208141a299865f7cc2c188d424a38cc2">veh_interact::move_fuel_cursor</a></div><div class="ttdeci">void move_fuel_cursor(int delta)</div><div class="ttdoc">Moves list of fuels up or down.</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l00915">veh_interact.cpp:915</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a20d2c545d1f25607b717324ff2d9ebe3"><div class="ttname"><a href="classveh__interact.html#a20d2c545d1f25607b717324ff2d9ebe3">veh_interact::do_assign_crew</a></div><div class="ttdeci">void do_assign_crew()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02023">veh_interact.cpp:2023</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a3ae13a6bce2460dd830c9d00fd5dbb62"><div class="ttname"><a href="classveh__interact.html#a3ae13a6bce2460dd830c9d00fd5dbb62">veh_interact::calc_overview</a></div><div class="ttdeci">void calc_overview()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l01337">veh_interact.cpp:1337</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a44f0dc7ca517acb88f954925f36ef082"><div class="ttname"><a href="classveh__interact.html#a44f0dc7ca517acb88f954925f36ef082">veh_interact::do_install</a></div><div class="ttdeci">void do_install()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l00957">veh_interact.cpp:957</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a4d7c0375ecfed2bb961f4bf4cc95cb98"><div class="ttname"><a href="classveh__interact.html#a4d7c0375ecfed2bb961f4bf4cc95cb98">veh_interact::do_mend</a></div><div class="ttdeci">void do_mend()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l01250">veh_interact.cpp:1250</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a858ee8819340da7e56fd4c48092b559b"><div class="ttname"><a href="classveh__interact.html#a858ee8819340da7e56fd4c48092b559b">veh_interact::do_change_shape</a></div><div class="ttdeci">void do_change_shape()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l01987">veh_interact.cpp:1987</a></div></div>
<div class="ttc" id="aclassveh__interact_html_aa88357e4727b42fb34ef0c9c3c6ab2cf"><div class="ttname"><a href="classveh__interact.html#aa88357e4727b42fb34ef0c9c3c6ab2cf">veh_interact::do_remove</a></div><div class="ttdeci">void do_remove()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l01796">veh_interact.cpp:1796</a></div></div>
<div class="ttc" id="aclassveh__interact_html_ab2cf4aec2396755dd413276e69bbf21a"><div class="ttname"><a href="classveh__interact.html#ab2cf4aec2396755dd413276e69bbf21a">veh_interact::do_repair</a></div><div class="ttdeci">void do_repair()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l01110">veh_interact.cpp:1110</a></div></div>
<div class="ttc" id="aclassveh__interact_html_ac84bab1bf6c0fb0d2ca51cace5290aec"><div class="ttname"><a href="classveh__interact.html#ac84bab1bf6c0fb0d2ca51cace5290aec">veh_interact::do_siphon</a></div><div class="ttdeci">void do_siphon()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l01886">veh_interact.cpp:1886</a></div></div>
<div class="ttc" id="aclassveh__interact_html_acb9bf106983bc032fd65980b79c5360e"><div class="ttname"><a href="classveh__interact.html#acb9bf106983bc032fd65980b79c5360e">veh_interact::do_rename</a></div><div class="ttdeci">void do_rename()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02061">veh_interact.cpp:2061</a></div></div>
<div class="ttc" id="aclassveh__interact_html_adfa3a898243b2fe0c3fdd9b34afd2603"><div class="ttname"><a href="classveh__interact.html#adfa3a898243b2fe0c3fdd9b34afd2603">veh_interact::move_overview_line</a></div><div class="ttdeci">void move_overview_line(int)</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l01705">veh_interact.cpp:1705</a></div></div>
<div class="ttc" id="aclassveh__interact_html_aeb47fd0e84452654b1bb815ae1e578de"><div class="ttname"><a href="classveh__interact.html#aeb47fd0e84452654b1bb815ae1e578de">veh_interact::do_unload</a></div><div class="ttdeci">bool do_unload()</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l01930">veh_interact.cpp:1930</a></div></div>
<div class="ttc" id="aclassvehicle_html_a070fe172db0a71f8ab874a18a1d88d10"><div class="ttname"><a href="classvehicle.html#a070fe172db0a71f8ab874a18a1d88d10">vehicle::get_owner</a></div><div class="ttdeci">faction_id get_owner() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00977">vehicle.h:977</a></div></div>
<div class="ttc" id="aclassvehicle_html_a16754f112125d292839bf0c10a99d7ae"><div class="ttname"><a href="classvehicle.html#a16754f112125d292839bf0c10a99d7ae">vehicle::has_owner</a></div><div class="ttdeci">bool has_owner() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00983">vehicle.h:983</a></div></div>
<div class="ttc" id="aclassvehicle_html_ac17a2033f05b9d7ac92c3d119c4ac75a"><div class="ttname"><a href="classvehicle.html#ac17a2033f05b9d7ac92c3d119c4ac75a">vehicle::handle_potential_theft</a></div><div class="ttdeci">bool handle_potential_theft(Character const &amp;you, bool check_only=false, bool prompt=true)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04686">vehicle.cpp:4686</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1e645471d321d71b235fb285da5c08ff"><div class="ttname"><a href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a></div><div class="ttdeci">int popup(const std::string &amp;text, PopupFlags flags)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00912">output.cpp:912</a></div></div>
<div class="ttc" id="aveh__interact_8cpp_html_a7fe2bfe8b506d79e174b34485d008914"><div class="ttname"><a href="veh__interact_8cpp.html#a7fe2bfe8b506d79e174b34485d008914">faction_no_faction</a></div><div class="ttdeci">static const faction_id faction_no_faction(&quot;no_faction&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="dialogue_8h_source.html#l00043">action</a>, <a class="el" href="character_8h_source.html#l02709">Character::activity</a>, <a class="el" href="veh__interact_8cpp_source.html#l00595">cache_tool_availability()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01337">calc_overview()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02023">do_assign_crew()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01987">do_change_shape()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00957">do_install()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01250">do_mend()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01290">do_refill()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02077">do_relabel()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01796">do_remove()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02061">do_rename()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01886">do_siphon()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01930">do_unload()</a>, <a class="el" href="veh__interact_8cpp.html#a7fe2bfe8b506d79e174b34485d008914">faction_no_faction</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="input__context_8cpp_source.html#l00551">input_context::get_direction()</a>, <a class="el" href="vehicle_8h_source.html#l00977">vehicle::get_owner()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00099">catacurses::getmaxy()</a>, <a class="el" href="input__context_8cpp_source.html#l00427">input_context::handle_input()</a>, <a class="el" href="vehicle_8cpp_source.html#l04686">vehicle::handle_potential_theft()</a>, <a class="el" href="vehicle_8h_source.html#l00983">vehicle::has_owner()</a>, <a class="el" href="player__activity_8h_source.html#l00102">player_activity::is_null()</a>, <a class="el" href="veh__interact_8h_source.html#l00126">main_context</a>, <a class="el" href="veh__interact_8cpp_source.html#l02220">move_cursor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00915">move_fuel_cursor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01705">move_overview_line()</a>, <a class="el" href="veh__interact_8h_source.html#l00110">msg</a>, <a class="el" href="faction_8h_source.html#l00107">faction_template::name</a>, <a class="el" href="point_8h_source.html#l00251">point_zero</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00504">ui_manager::redraw()</a>, <a class="el" href="veh__interact_8h_source.html#l00085">sel_cmd</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, and <a class="el" href="veh__interact_8h_source.html#l00098">w_parts</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00225">run()</a>.</p>

</div>
</div>
<a id="a4d7c0375ecfed2bb961f4bf4cc95cb98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d7c0375ecfed2bb961f4bf4cc95cb98">&#9670;&nbsp;</a></span>do_mend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::do_mend </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l01250">1250</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;{</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="keywordflow">switch</span>( <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;m&#39;</span> ) ) {</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a354f9f7371cd259a5bd11ef1f0404def">task_reason::LOW_MORALE</a>:</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Your morale is too low to mend&quot;</span> );</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a387ed9ae8934c7ccb29f0ac78591ad13">task_reason::LOW_LIGHT</a>:</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;It&#39;s too dark to see what you are doing&quot;</span> );</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">task_reason::INVALID_TARGET</a>:</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;            <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;No faulty parts require mending.&quot;</span> );</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8aa28aee4213e36855bcd2cc87a6cb780f">task_reason::MOVING_VEHICLE</a>:</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You can&#39;t mend stuff while driving.&quot;</span> );</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    }</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160; </div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;std::optional&lt;std::string&gt;</a>&gt; prev_title( <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a> );</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Choose a part here to mend:&quot;</span> );</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160; </div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> toggling = player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="veh__interact_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> );</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="keyword">auto</span> sel = [toggling]( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt ) {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        <span class="keywordflow">if</span>( toggling ) {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;            <span class="keywordflow">return</span> !pt.faults_potential().empty();</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;            <span class="keywordflow">return</span> !pt.faults().empty();</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        }</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    };</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160; </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="keyword">auto</span> <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> = [&amp;]( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt ) {</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        player_character.<a class="code" href="classCharacter.html#a7f2a451a9100f19df686fd1197c46208">mend_item</a>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ab14a3fcf395f63b6fcaea51d37b72176">part_base</a>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a5b851c999ddcf3b8cf007c34297d7df7">index_of_part</a>( &amp;pt ) ) );</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        <a class="code" href="classveh__interact.html#a8171487d174b74e188e38980e2005a74">sel_cmd</a> = <span class="charliteral">&#39;q&#39;</span>;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    };</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160; </div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <a class="code" href="classveh__interact.html#a7672d41be97b6fc8511a48f8d0b73b4b">overview</a>( sel, <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a7f2a451a9100f19df686fd1197c46208"><div class="ttname"><a href="classCharacter.html#a7f2a451a9100f19df686fd1197c46208">Character::mend_item</a></div><div class="ttdeci">void mend_item(item_location &amp;&amp;obj, bool interactive=true)</div><div class="ttdoc">Attempt to mend an item (fix any current faults)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06566">character.cpp:6566</a></div></div>
<div class="ttc" id="aclassvehicle_html_a5b851c999ddcf3b8cf007c34297d7df7"><div class="ttname"><a href="classvehicle.html#a5b851c999ddcf3b8cf007c34297d7df7">vehicle::index_of_part</a></div><div class="ttdeci">int index_of_part(const vehicle_part *part, bool include_removed=false) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03224">vehicle.cpp:3224</a></div></div>
<div class="ttc" id="aclassvehicle_html_ab14a3fcf395f63b6fcaea51d37b72176"><div class="ttname"><a href="classvehicle.html#ab14a3fcf395f63b6fcaea51d37b72176">vehicle::part_base</a></div><div class="ttdeci">item_location part_base(int p)</div><div class="ttdoc">Get handle for base item of part.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02553">vehicle.cpp:2553</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="sounds_8cpp_source.html#l00079">act</a>, <a class="el" href="veh__interact_8cpp_source.html#l00631">cant_do()</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="vehicle_8cpp_source.html#l03224">vehicle::index_of_part()</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">INVALID_TARGET</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a387ed9ae8934c7ccb29f0ac78591ad13">LOW_LIGHT</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a354f9f7371cd259a5bd11ef1f0404def">LOW_MORALE</a>, <a class="el" href="character_8cpp_source.html#l06566">Character::mend_item()</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8aa28aee4213e36855bcd2cc87a6cb780f">MOVING_VEHICLE</a>, <a class="el" href="veh__interact_8h_source.html#l00110">msg</a>, <a class="el" href="veh__interact_8cpp_source.html#l01619">overview()</a>, <a class="el" href="vehicle_8cpp_source.html#l02553">vehicle::part_base()</a>, <a class="el" href="veh__interact_8h_source.html#l00085">sel_cmd</a>, <a class="el" href="veh__interact_8h_source.html#l00109">title</a>, <a class="el" href="veh__interact_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a>, and <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>.</p>

</div>
</div>
<a id="a2021bf4ecc63be09944c9e337306798a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2021bf4ecc63be09944c9e337306798a">&#9670;&nbsp;</a></span>do_refill()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::do_refill </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l01290">1290</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;{</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keywordflow">switch</span>( <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;f&#39;</span> ) ) {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8aa28aee4213e36855bcd2cc87a6cb780f">task_reason::MOVING_VEHICLE</a>:</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;            <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You can&#39;t refill a moving vehicle.&quot;</span> );</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160; </div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">task_reason::INVALID_TARGET</a>:</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;            <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;No parts can currently be refilled.&quot;</span> );</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160; </div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    }</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160; </div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;std::optional&lt;std::string&gt;</a>&gt; prev_title( <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a> );</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select part to refill:&quot;</span> );</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160; </div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keyword">auto</span> <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> = [&amp;]( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt ) {</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <span class="keyword">auto</span> validate = [&amp;]( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp; obj ) {</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;            <span class="keywordflow">if</span>( pt.is_tank() ) {</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                <span class="keywordflow">if</span>( obj.is_watertight_container() &amp;&amp; obj.num_item_stacks() == 1 ) {</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                    <span class="comment">// we are assuming only one pocket here, and it&#39;s a liquid so only one item</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                    <span class="keywordflow">return</span> pt.can_reload( obj.only_item() );</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                }</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( pt.is_fuel_store() ) {</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;                <span class="keywordtype">bool</span> can_reload = pt.can_reload( obj );</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                <span class="comment">//check base item for fuel_stores that can take multiple types of ammunition (like the fuel_bunker)</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                <span class="keywordflow">if</span>( pt.get_base().can_reload_with( obj, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                }</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                <span class="keywordflow">return</span> can_reload;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;            }</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        };</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160; </div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <a class="code" href="classveh__interact.html#ab6c6ef56a5edb1ec8ebaa4a9768cf194">refill_target</a> = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;inv_map_splice( validate, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Refill %s&quot;</span> ), pt.name() ), 1 );</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ab6c6ef56a5edb1ec8ebaa4a9768cf194">refill_target</a> ) {</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            <a class="code" href="classveh__interact.html#ab8d1717957cc0fe8d50c402e9e625796">sel_vehicle_part</a> = &amp;pt;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a> = &amp;pt.info();</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            <a class="code" href="classveh__interact.html#a8171487d174b74e188e38980e2005a74">sel_cmd</a> = <span class="charliteral">&#39;f&#39;</span>;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        }</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    };</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160; </div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <a class="code" href="classveh__interact.html#a7672d41be97b6fc8511a48f8d0b73b4b">overview</a>( <a class="code" href="veh__interact_8cpp.html#a0c497689ec127a3710cf1ef0139c7648">can_refill</a>, <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;}</div>
<div class="ttc" id="aclassveh__interact_html_ab6c6ef56a5edb1ec8ebaa4a9768cf194"><div class="ttname"><a href="classveh__interact.html#ab6c6ef56a5edb1ec8ebaa4a9768cf194">veh_interact::refill_target</a></div><div class="ttdeci">item_location refill_target</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00079">veh_interact.h:79</a></div></div>
<div class="ttc" id="aveh__interact_8cpp_html_a0c497689ec127a3710cf1ef0139c7648"><div class="ttname"><a href="veh__interact_8cpp.html#a0c497689ec127a3710cf1ef0139c7648">can_refill</a></div><div class="ttdeci">static auto can_refill</div><div class="ttdoc">Can part currently be reloaded with anything?</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l00123">veh_interact.cpp:123</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="sounds_8cpp_source.html#l00079">act</a>, <a class="el" href="veh__interact_8cpp_source.html#l00123">can_refill</a>, <a class="el" href="veh__interact_8cpp_source.html#l00631">cant_do()</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">INVALID_TARGET</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8aa28aee4213e36855bcd2cc87a6cb780f">MOVING_VEHICLE</a>, <a class="el" href="veh__interact_8h_source.html#l00110">msg</a>, <a class="el" href="veh__interact_8cpp_source.html#l01619">overview()</a>, <a class="el" href="veh__interact_8h_source.html#l00079">refill_target</a>, <a class="el" href="veh__interact_8h_source.html#l00085">sel_cmd</a>, <a class="el" href="veh__interact_8h_source.html#l00081">sel_vehicle_part</a>, <a class="el" href="veh__interact_8h_source.html#l00082">sel_vpart_info</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, and <a class="el" href="veh__interact_8h_source.html#l00109">title</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>.</p>

</div>
</div>
<a id="a029c25cb40618562ef2950339c704b44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a029c25cb40618562ef2950339c704b44">&#9670;&nbsp;</a></span>do_relabel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::do_relabel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l02077">2077</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;{</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;a&#39;</span> ) == <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">task_reason::INVALID_TARGET</a> ) {</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;There are no parts here to label.&quot;</span> );</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    }</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160; </div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <span class="keyword">const</span> <a class="code" href="classvpart__position.html">vpart_position</a> vp( *<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>, <a class="code" href="classveh__interact.html#a354e576739b8ec01d1327e31b17ca64c">cpart</a> );</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <a class="code" href="classstring__input__popup.html">string_input_popup</a> pop;</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    std::string text = pop</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;                       .<a class="code" href="classstring__input__popup.html#aa96aa0184abb3c9740c2a48f098eeb8b">title</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;New label:&quot;</span> ) )</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;                       .<a class="code" href="classstring__input__popup.html#ab3273f9bfdeac38fff067187b1d3715c">width</a>( 20 )</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;                       .<a class="code" href="classstring__input__popup.html#a42554f299ffa809034aa4cb4486e365b">text</a>( vp.get_label().value_or( <span class="stringliteral">&quot;&quot;</span> ) )</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;                       .<a class="code" href="classstring__input__popup.html#acd7eba6664e8c473cc2b754f5d8d2cde">query_string</a>();</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    <span class="keywordflow">if</span>( pop.<a class="code" href="classstring__input__popup.html#a524e435905e68a4adc9aa085cdcc72fc">confirmed</a>() ) {</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;        vp.set_label( text );</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    }</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;}</div>
<div class="ttc" id="aclassstring__input__popup_html_a42554f299ffa809034aa4cb4486e365b"><div class="ttname"><a href="classstring__input__popup.html#a42554f299ffa809034aa4cb4486e365b">string_input_popup::text</a></div><div class="ttdeci">string_input_popup &amp; text(const std::string &amp;value)</div><div class="ttdoc">Set / get the text that can be modified by the user.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8cpp_source.html#l00666">string_input_popup.cpp:666</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_a524e435905e68a4adc9aa085cdcc72fc"><div class="ttname"><a href="classstring__input__popup.html#a524e435905e68a4adc9aa085cdcc72fc">string_input_popup::confirmed</a></div><div class="ttdeci">bool confirmed() const</div><div class="ttdoc">Returns true if query was finished via the ENTER key.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00261">string_input_popup.h:261</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_acd7eba6664e8c473cc2b754f5d8d2cde"><div class="ttname"><a href="classstring__input__popup.html#acd7eba6664e8c473cc2b754f5d8d2cde">string_input_popup::query_string</a></div><div class="ttdeci">const std::string &amp; query_string(bool loop=true, bool draw_only=false)</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8cpp_source.html#l00371">string_input_popup.cpp:371</a></div></div>
<div class="ttc" id="aclassvpart__position_html"><div class="ttname"><a href="classvpart__position.html">vpart_position</a></div><div class="ttdoc">Reference to a position (a point) of the vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00043">vpart_position.h:44</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="veh__interact_8cpp_source.html#l00631">cant_do()</a>, <a class="el" href="string__input__popup_8h_source.html#l00261">string_input_popup::confirmed()</a>, <a class="el" href="veh__interact_8h_source.html#l00087">cpart</a>, <a class="el" href="vehicle_8cpp_source.html#l02902">vpart_position::get_label()</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">INVALID_TARGET</a>, <a class="el" href="veh__interact_8h_source.html#l00110">msg</a>, <a class="el" href="string__input__popup_8cpp_source.html#l00371">string_input_popup::query_string()</a>, <a class="el" href="vehicle_8cpp_source.html#l02915">vpart_position::set_label()</a>, <a class="el" href="string__input__popup_8cpp_source.html#l00666">string_input_popup::text()</a>, <a class="el" href="string__input__popup_8h_source.html#l00113">string_input_popup::title()</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, and <a class="el" href="string__input__popup_8h_source.html#l00151">string_input_popup::width()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>.</p>

</div>
</div>
<a id="aa88357e4727b42fb34ef0c9c3c6ab2cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa88357e4727b42fb34ef0c9c3c6ab2cf">&#9670;&nbsp;</a></span>do_remove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::do_remove </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l01796">1796</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;{</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8">task_reason</a> reason = <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;o&#39;</span> );</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160; </div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <span class="keywordflow">if</span>( reason == <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">task_reason::INVALID_TARGET</a> ) {</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;No parts here.&quot;</span> );</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    }</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160; </div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;std::optional&lt;std::string&gt;</a>&gt; prev_title( <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a> );</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Choose a part here to remove:&quot;</span> );</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160; </div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;std::unique_ptr&lt;remove_info_t&gt;</a>&gt; prev_remove_info( std::move(</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;                <a class="code" href="classveh__interact.html#af22b1f91bd0b407255981a14a8978367">remove_info</a> ) );</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <a class="code" href="classveh__interact.html#af22b1f91bd0b407255981a14a8978367">remove_info</a> = std::make_unique&lt;remove_info_t&gt;();</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160; </div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = 0;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a>.size(); i++ ) {</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a904216cd38acab4433a6f7cf5855e143">can_remove_part</a>( <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a>[ i ], player_character ) ) {</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;            <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = i;</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        }</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    }</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a>.reset();</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    <a class="code" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;ui_adaptor&gt;</a> current_ui = <a class="code" href="classveh__interact.html#a2601f5a5bd9a75a0505b488a45dc0c3b">create_or_get_ui_adaptor</a>();</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160; </div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;overview_enable_t&gt;</a> prev_overview_enable( <a class="code" href="classveh__interact.html#ac1930d9fe311bf79742cf84d387bdf71">overview_enable</a> );</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160; </div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;int&gt;</a> prev_hilight_part( <a class="code" href="classveh__interact.html#a74a0478ce397fde8ce2667075c631c81">highlight_part</a> );</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160; </div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;        <span class="keywordtype">int</span> part = <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a>[ <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ];</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160; </div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        <span class="keywordtype">bool</span> can_remove = <a class="code" href="classveh__interact.html#a904216cd38acab4433a6f7cf5855e143">can_remove_part</a>( part, player_character );</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160; </div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;        <a class="code" href="classveh__interact.html#ac1930d9fe311bf79742cf84d387bdf71">overview_enable</a> = [<span class="keyword">this</span>, part]( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt ) {</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;            <span class="keywordflow">return</span> &amp;pt == &amp;<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( part );</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;        };</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160; </div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;        <a class="code" href="classveh__interact.html#a74a0478ce397fde8ce2667075c631c81">highlight_part</a> = <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>;</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160; </div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        <a class="code" href="classveh__interact.html#a3ae13a6bce2460dd830c9d00fd5dbb62">calc_overview</a>();</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;        <a class="code" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160; </div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;        <span class="comment">//read input</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;        <span class="keyword">const</span> std::string <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#a43aa2fcd42cabfd04056def8986bc927">handle_input</a>();</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a>.reset();</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        <span class="keywordflow">if</span>( can_remove &amp;&amp; ( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;REMOVE&quot;</span> || <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CONFIRM&quot;</span> ) ) {</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;            <span class="keywordflow">switch</span>( reason ) {</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a354f9f7371cd259a5bd11ef1f0404def">task_reason::LOW_MORALE</a>:</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;                    <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Your morale is too low to construct&quot;</span> );</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a387ed9ae8934c7ccb29f0ac78591ad13">task_reason::LOW_LIGHT</a>:</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                    <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;It&#39;s too dark to see what you are doing&quot;</span> );</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a49e8dc1c17584b200ebeb4b1d0dede0e">task_reason::NOT_FREE</a>:</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;                    <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You cannot remove that part while something is attached to it.&quot;</span> );</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8aa28aee4213e36855bcd2cc87a6cb780f">task_reason::MOVING_VEHICLE</a>:</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;                    <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Better not remove something while driving.&quot;</span> );</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;            }</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160; </div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;            <span class="comment">// Modifying a vehicle with rotors will make in not flightworthy (until we&#39;ve got a better model)</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;            <span class="comment">// It can only be the player doing this - an npc won&#39;t work well with query_yn</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a68b8dc4a2c54160aa8915d9b1a525dd2">would_removal_prevent_flyable</a>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( part ), player_character ) ) {</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>(</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Removing this part will mean that this vehicle is no longer flightworthy.  Continue?&quot;</span> ) ) ) {</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;                    <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#aab22abdc469d3ed5d587012a61eba4f5">set_flyable</a>( <span class="keyword">false</span> );</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;                }</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;            }</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> *helper : player_character.<a class="code" href="classCharacter.html#a6c34c8584d08676678b5001a74de77dc">get_crafting_helpers</a>() ) {</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s helps with this task&quot;</span> ), helper-&gt;get_name() );</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;            }</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;            <a class="code" href="classveh__interact.html#a8171487d174b74e188e38980e2005a74">sel_cmd</a> = <span class="charliteral">&#39;o&#39;</span>;</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;            <a class="code" href="classveh__interact.html#a5bec3200f6e3aab33053e759b9101099">move_in_list</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>, <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a>.size() );</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        }</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    }</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;}</div>
<div class="ttc" id="aclassveh__interact_html_a904216cd38acab4433a6f7cf5855e143"><div class="ttname"><a href="classveh__interact.html#a904216cd38acab4433a6f7cf5855e143">veh_interact::can_remove_part</a></div><div class="ttdeci">bool can_remove_part(int idx, const Character &amp;you)</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l01734">veh_interact.cpp:1734</a></div></div>
<div class="ttc" id="aclassvehicle_html_a68b8dc4a2c54160aa8915d9b1a525dd2"><div class="ttname"><a href="classvehicle.html#a68b8dc4a2c54160aa8915d9b1a525dd2">vehicle::would_removal_prevent_flyable</a></div><div class="ttdeci">bool would_removal_prevent_flyable(const vehicle_part &amp;vp, const Character &amp;pc) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04438">vehicle.cpp:4438</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="dialogue_8h_source.html#l00043">action</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01337">calc_overview()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01734">can_remove_part()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00631">cant_do()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="crafting_8cpp_source.html#l03051">Character::get_crafting_helpers()</a>, <a class="el" href="input__context_8cpp_source.html#l00427">input_context::handle_input()</a>, <a class="el" href="veh__interact_8h_source.html#l00114">highlight_part</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">INVALID_TARGET</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a387ed9ae8934c7ccb29f0ac78591ad13">LOW_LIGHT</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a354f9f7371cd259a5bd11ef1f0404def">LOW_MORALE</a>, <a class="el" href="enums_8h_source.html#l00352">m_info</a>, <a class="el" href="veh__interact_8h_source.html#l00126">main_context</a>, <a class="el" href="veh__interact_8cpp_source.html#l01086">move_in_list()</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8aa28aee4213e36855bcd2cc87a6cb780f">MOVING_VEHICLE</a>, <a class="el" href="veh__interact_8h_source.html#l00110">msg</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a49e8dc1c17584b200ebeb4b1d0dede0e">NOT_FREE</a>, <a class="el" href="veh__interact_8h_source.html#l00227">overview_enable</a>, <a class="el" href="vehicle_8cpp_source.html#l08098">vehicle::part()</a>, <a class="el" href="veh__interact_8h_source.html#l00278">parts_here</a>, <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00504">ui_manager::redraw()</a>, <a class="el" href="veh__interact_8h_source.html#l00120">remove_info</a>, <a class="el" href="veh__interact_8h_source.html#l00085">sel_cmd</a>, <a class="el" href="vehicle_8cpp_source.html#l04402">vehicle::set_flyable()</a>, <a class="el" href="veh__interact_8h_source.html#l00109">title</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, and <a class="el" href="vehicle_8cpp_source.html#l04438">vehicle::would_removal_prevent_flyable()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>.</p>

</div>
</div>
<a id="acb9bf106983bc032fd65980b79c5360e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb9bf106983bc032fd65980b79c5360e">&#9670;&nbsp;</a></span>do_rename()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::do_rename </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l02061">2061</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;{</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    std::string <a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> = <a class="code" href="classstring__input__popup.html">string_input_popup</a>()</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;                       .<a class="code" href="classstring__input__popup.html#aa96aa0184abb3c9740c2a48f098eeb8b">title</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Enter new vehicle name:&quot;</span> ) )</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;                       .<a class="code" href="classstring__input__popup.html#ab3273f9bfdeac38fff067187b1d3715c">width</a>( 20 )</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;                       .<a class="code" href="classstring__input__popup.html#acd7eba6664e8c473cc2b754f5d8d2cde">query_string</a>();</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>.empty() ) {</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;        <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> = <a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>;</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#abe5f5ade599d2cd543a3e3c3860bc051">tracking_on</a> ) {</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;            <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aed7c783516f532d6c51339caa802374d">remove_vehicle</a>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a> );</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;            <span class="comment">// Add the vehicle again, this time with the new name</span></div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;            <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a4b068ec14497611ce63808e286fc27aa">add_vehicle</a>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a> );</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;        }</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    }</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;}</div>
<div class="ttc" id="aclassovermapbuffer_html_a4b068ec14497611ce63808e286fc27aa"><div class="ttname"><a href="classovermapbuffer.html#a4b068ec14497611ce63808e286fc27aa">overmapbuffer::add_vehicle</a></div><div class="ttdeci">void add_vehicle(vehicle *veh)</div><div class="ttdoc">Add the vehicle to be tracked in the overmap.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00740">overmapbuffer.cpp:740</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_aed7c783516f532d6c51339caa802374d"><div class="ttname"><a href="classovermapbuffer.html#aed7c783516f532d6c51339caa802374d">overmapbuffer::remove_vehicle</a></div><div class="ttdeci">void remove_vehicle(const vehicle *veh)</div><div class="ttdoc">Remove the vehicle from being tracked in the overmap.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00729">overmapbuffer.cpp:729</a></div></div>
<div class="ttc" id="aclassvehicle_html_abe5f5ade599d2cd543a3e3c3860bc051"><div class="ttname"><a href="classvehicle.html#abe5f5ade599d2cd543a3e3c3860bc051">vehicle::tracking_on</a></div><div class="ttdeci">bool tracking_on</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02354">vehicle.h:2354</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a8ba958ccfad28c0a5572a04dd1428f32"><div class="ttname"><a href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">om_direction::name</a></div><div class="ttdeci">std::string name(type dir)</div><div class="ttdoc">Get Human readable name of a direction.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l06412">overmap.cpp:6412</a></div></div>
<div class="ttc" id="aovermapbuffer_8cpp_html_ab3cf8344ec3e473f9ce96a33dc3425af"><div class="ttname"><a href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a></div><div class="ttdeci">overmapbuffer overmap_buffer</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00051">overmapbuffer.cpp:51</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00740">overmapbuffer::add_vehicle()</a>, <a class="el" href="overmap_8cpp_source.html#l06412">om_direction::name()</a>, <a class="el" href="vehicle_8h_source.html#l02201">vehicle::name</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>, <a class="el" href="string__input__popup_8cpp_source.html#l00371">string_input_popup::query_string()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00729">overmapbuffer::remove_vehicle()</a>, <a class="el" href="string__input__popup_8h_source.html#l00113">string_input_popup::title()</a>, <a class="el" href="vehicle_8h_source.html#l02354">vehicle::tracking_on</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, and <a class="el" href="string__input__popup_8h_source.html#l00151">string_input_popup::width()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>.</p>

</div>
</div>
<a id="ab2cf4aec2396755dd413276e69bbf21a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2cf4aec2396755dd413276e69bbf21a">&#9670;&nbsp;</a></span>do_repair()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::do_repair </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l01110">1110</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;{</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8">task_reason</a> reason = <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;r&#39;</span> );</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160; </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">if</span>( reason == <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">task_reason::INVALID_TARGET</a> ) {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        <a class="code" href="structvehicle__part.html">vehicle_part</a> *most_repairable = <a class="code" href="classveh__interact.html#af2bc0b32f2133107dd7063a62354f88d">get_most_repairable_part</a>();</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <span class="keywordflow">if</span>( most_repairable &amp;&amp; most_repairable-&gt;<a class="code" href="structvehicle__part.html#ae7f48658b31b3d97b796ab861c67d71f">is_repairable</a>() ) {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            <a class="code" href="classveh__interact.html#a45c56ae23ae2b250f0facb9b1b8ab311">move_cursor</a>( ( most_repairable-&gt;<a class="code" href="structvehicle__part.html#ac6e2dfa7178b8bed91baea3543961a86">mount</a> + <a class="code" href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">dd</a> ).rotate( 3 ) );</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        }</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    }</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160; </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keyword">auto</span> can_repair = [<span class="keyword">this</span>, &amp;reason]() {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <span class="keywordflow">switch</span>( reason ) {</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a354f9f7371cd259a5bd11ef1f0404def">task_reason::LOW_MORALE</a>:</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Your morale is too low to repair&quot;</span> );</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a387ed9ae8934c7ccb29f0ac78591ad13">task_reason::LOW_LIGHT</a>:</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;It&#39;s too dark to see what you are doing&quot;</span> );</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8aa28aee4213e36855bcd2cc87a6cb780f">task_reason::MOVING_VEHICLE</a>:</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You can&#39;t repair stuff while driving.&quot;</span> );</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">task_reason::INVALID_TARGET</a>:</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;There are no damaged parts on this vehicle.&quot;</span> );</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        }</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    };</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordflow">if</span>( !can_repair() ) {</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    }</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160; </div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;std::optional&lt;std::string&gt;</a>&gt; prev_title( <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a> );</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Choose a part here to repair:&quot;</span> );</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <a class="code" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;ui_adaptor&gt;</a> current_ui = <a class="code" href="classveh__interact.html#a2601f5a5bd9a75a0505b488a45dc0c3b">create_or_get_ui_adaptor</a>();</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = 0;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;int&gt;</a> prev_hilight_part( <a class="code" href="classveh__interact.html#a74a0478ce397fde8ce2667075c631c81">highlight_part</a> );</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160; </div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp;pt = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a>[<a class="code" href="classveh__interact.html#a5b02b8684bf980c01fa581d7f10d837d">need_repair</a>[<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>]] );</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> &amp;vp = pt.<a class="code" href="structvehicle__part.html#a002a1023cd1a96d43556a1b912ebd27b">info</a>();</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        std::string nmsg;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        <span class="comment">// this will always be set, but the gcc thinks that sometimes it won&#39;t be</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <span class="keywordflow">if</span>( pt.<a class="code" href="structvehicle__part.html#aeee4fac34f34d6c9ff557fde6590439d">is_broken</a>() ) {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = <a class="code" href="classveh__interact.html#ab66721e4f0b0bc585aa64a578e94155b">format_reqs</a>( nmsg, vp.<a class="code" href="classvpart__info.html#aace91a24e6194a874cb468bb237368ea">install_requirements</a>(), vp.<a class="code" href="classvpart__info.html#a9349b8416f91bb3029e9a8c9991d0a4a">install_skills</a>,</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                              vp.<a class="code" href="classvpart__info.html#a26d45b54a7e13b4dcde1ae937bbdb604">install_time</a>( player_character ) );</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160; </div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            <span class="keywordflow">if</span>( pt.<a class="code" href="structvehicle__part.html#a002a1023cd1a96d43556a1b912ebd27b">info</a>().<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;NEEDS_JACKING&quot;</span> ) ) {</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                nmsg += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_white&gt;Additional requirements:&lt;/color&gt;\n&quot;</span> );</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                std::pair&lt;bool, std::string&gt; res = <a class="code" href="classveh__interact.html#aefc4c42ac9773cc065fb7d3999d81b85">calc_lift_requirements</a>( pt.<a class="code" href="structvehicle__part.html#a002a1023cd1a96d43556a1b912ebd27b">info</a>() );</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                <span class="keywordflow">if</span>( !res.first ) {</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                    <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                nmsg += res.second;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;            }</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            <span class="keywordflow">if</span>( pt.<a class="code" href="structvehicle__part.html#ab9d4fc12bba02aa1adca2a3b38af5bee">has_flag</a>( <a class="code" href="vehicle_8h.html#acba70ff9f8381a17fbca8057d0def3cea3212f19eff037b63e93566c9e247e558">vp_flag::carried_flag</a> ) ) {</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                nmsg += <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;\nUnracking is required before replacing this part.\n&quot;</span> ),</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                                  <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> );</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;            }</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160; </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;            <span class="keywordflow">if</span>( !pt.<a class="code" href="structvehicle__part.html#ae7f48658b31b3d97b796ab861c67d71f">is_repairable</a>() ) {</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                nmsg += <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;This part cannot be repaired.\n&quot;</span> ), <a class="code" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a> );</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#aca3ae013973cb492b14967e574189c1c">has_part</a>( <span class="stringliteral">&quot;NO_MODIFY_VEHICLE&quot;</span> ) &amp;&amp; !vp.<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;SIMPLE_PART&quot;</span> ) ) {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                nmsg += <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;This vehicle cannot be repaired.\n&quot;</span> ), <a class="code" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a> );</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> levels = pt.<a class="code" href="structvehicle__part.html#a5122e284fbcf0f14f0e6022e01b5b574">base</a>.<a class="code" href="classitem.html#a50c31a32b49c4418a24ff4b14552a7ff">repairable_levels</a>();</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = <a class="code" href="classveh__interact.html#ab66721e4f0b0bc585aa64a578e94155b">format_reqs</a>( nmsg, vp.<a class="code" href="classvpart__info.html#a7fad5e6f56eb6732f210c234199fca07">repair_requirements</a>() * levels, vp.<a class="code" href="classvpart__info.html#ab727d12368bb71387cd8a2f5ab80d7eb">repair_skills</a>,</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                                  vp.<a class="code" href="classvpart__info.html#a5b6955086e93f7b7939d4de0ed40f4d0">repair_time</a>( player_character ) * levels );</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            }</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        }</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <span class="keywordtype">bool</span> would_prevent_flying = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a1b76dbf2812a00a0603491f4d6752980">would_repair_prevent_flyable</a>( pt, player_character );</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="keywordflow">if</span>( would_prevent_flying &amp;&amp;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;            !player_character.<a class="code" href="classCharacter.html#a72472dd1bc3a1fba8b053682ae5a2244">has_proficiency</a>( <a class="code" href="veh__interact_8cpp.html#a5d09786ce5d8146476c623499f43c28c">proficiency_prof_aircraft_mechanic</a> ) ) {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            nmsg += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;\n&lt;color_yellow&gt;You require the \&quot;%s\&quot; proficiency to repair this part safely!&lt;/color&gt;\n\n&quot;</span> ),</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                        <a class="code" href="veh__interact_8cpp.html#a5d09786ce5d8146476c623499f43c28c">proficiency_prof_aircraft_mechanic</a>-&gt;<a class="code" href="classproficiency.html#af9bf37649c3e186489841ddd1c23f0cf">name</a>() );</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160; </div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        <span class="keyword">const</span> <a class="code" href="classnc__color.html">nc_color</a> desc_color = pt.<a class="code" href="structvehicle__part.html#aeee4fac34f34d6c9ff557fde6590439d">is_broken</a>() ? <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a> : <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        vp.<a class="code" href="classvpart__info.html#aedacbd352267de4aef1ca01183956df8">format_description</a>( nmsg, desc_color, <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a8fbae1471a0f80d1618c704a880d133b">w_msg</a> ) - 4 );</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160; </div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( nmsg, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> );</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        <a class="code" href="classveh__interact.html#a74a0478ce397fde8ce2667075c631c81">highlight_part</a> = <a class="code" href="classveh__interact.html#a5b02b8684bf980c01fa581d7f10d837d">need_repair</a>[<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>];</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160; </div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <a class="code" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        <span class="keyword">const</span> std::string <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#a43aa2fcd42cabfd04056def8986bc927">handle_input</a>();</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a>.reset();</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <span class="keywordflow">if</span>( ( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;REPAIR&quot;</span> || <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CONFIRM&quot;</span> ) &amp;&amp; <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> ) {</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;            <span class="comment">// Modifying a vehicle with rotors will make in not flightworthy (until we&#39;ve got a better model)</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;            <span class="keywordflow">if</span>( would_prevent_flying ) {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                <span class="comment">// It can only be the player doing this - an npc won&#39;t work well with query_yn</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>(</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Repairing this part will mean that this vehicle is no longer flightworthy.  Continue?&quot;</span> ) ) ) {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                    <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#aab22abdc469d3ed5d587012a61eba4f5">set_flyable</a>( <span class="keyword">false</span> );</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                    nmsg += <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You chose not to install this part to keep the vehicle flyable.\n&quot;</span> ),</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                                      <a class="code" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a> );</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                    <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                }</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;            }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> ) {</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                reason = <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;r&#39;</span> );</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                <span class="keywordflow">if</span>( !can_repair() ) {</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                <a class="code" href="classveh__interact.html#ab8d1717957cc0fe8d50c402e9e625796">sel_vehicle_part</a> = &amp;pt;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a> = &amp;vp;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> *helper : player_character.<a class="code" href="classCharacter.html#a6c34c8584d08676678b5001a74de77dc">get_crafting_helpers</a>() ) {</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s helps with this task&quot;</span> ), helper-&gt;get_name() );</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                }</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                <a class="code" href="classveh__interact.html#a8171487d174b74e188e38980e2005a74">sel_cmd</a> = <span class="charliteral">&#39;r&#39;</span>;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;            }</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;            <a class="code" href="classveh__interact.html#a5bec3200f6e3aab33053e759b9101099">move_in_list</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>, <a class="code" href="classveh__interact.html#a5b02b8684bf980c01fa581d7f10d837d">need_repair</a>.size() );</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        }</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    }</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a72472dd1bc3a1fba8b053682ae5a2244"><div class="ttname"><a href="classCharacter.html#a72472dd1bc3a1fba8b053682ae5a2244">Character::has_proficiency</a></div><div class="ttdeci">bool has_proficiency(const proficiency_id &amp;prof) const</div><div class="ttdef"><b>Definition:</b> <a href="character__proficiency_8cpp_source.html#l00019">character_proficiency.cpp:19</a></div></div>
<div class="ttc" id="aclassitem_html_a50c31a32b49c4418a24ff4b14552a7ff"><div class="ttname"><a href="classitem.html#a50c31a32b49c4418a24ff4b14552a7ff">item::repairable_levels</a></div><div class="ttdeci">int repairable_levels() const</div><div class="ttdoc">Returns how many damage levels can be repaired on this item Example: item with 100 damage returns 1 (...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08952">item.cpp:8952</a></div></div>
<div class="ttc" id="aclassproficiency_html_af9bf37649c3e186489841ddd1c23f0cf"><div class="ttname"><a href="classproficiency.html#af9bf37649c3e186489841ddd1c23f0cf">proficiency::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="proficiency_8cpp_source.html#l00170">proficiency.cpp:170</a></div></div>
<div class="ttc" id="aclassvehicle_html_a1b76dbf2812a00a0603491f4d6752980"><div class="ttname"><a href="classvehicle.html#a1b76dbf2812a00a0603491f4d6752980">vehicle::would_repair_prevent_flyable</a></div><div class="ttdeci">bool would_repair_prevent_flyable(const vehicle_part &amp;vp, const Character &amp;pc) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04422">vehicle.cpp:4422</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a26d45b54a7e13b4dcde1ae937bbdb604"><div class="ttname"><a href="classvpart__info.html#a26d45b54a7e13b4dcde1ae937bbdb604">vpart_info::install_time</a></div><div class="ttdeci">time_duration install_time(const Character &amp;you) const</div><div class="ttdoc">Installation time (in moves) for this component accounting for player skills.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01111">veh_type.cpp:1111</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a5b6955086e93f7b7939d4de0ed40f4d0"><div class="ttname"><a href="classvpart__info.html#a5b6955086e93f7b7939d4de0ed40f4d0">vpart_info::repair_time</a></div><div class="ttdeci">time_duration repair_time(const Character &amp;you) const</div><div class="ttdoc">Repair time (in moves) to fully repair this component, accounting for player skills.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01121">veh_type.cpp:1121</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a7fad5e6f56eb6732f210c234199fca07"><div class="ttname"><a href="classvpart__info.html#a7fad5e6f56eb6732f210c234199fca07">vpart_info::repair_requirements</a></div><div class="ttdeci">requirement_data repair_requirements() const</div><div class="ttdoc">Requirements for repair of this component (per level of damage)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01082">veh_type.cpp:1082</a></div></div>
<div class="ttc" id="aclassvpart__info_html_ab727d12368bb71387cd8a2f5ab80d7eb"><div class="ttname"><a href="classvpart__info.html#ab727d12368bb71387cd8a2f5ab80d7eb">vpart_info::repair_skills</a></div><div class="ttdeci">std::map&lt; skill_id, int &gt; repair_skills</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00350">veh_type.h:350</a></div></div>
<div class="ttc" id="astructvehicle__part_html_ab9d4fc12bba02aa1adca2a3b38af5bee"><div class="ttname"><a href="structvehicle__part.html#ab9d4fc12bba02aa1adca2a3b38af5bee">vehicle_part::has_flag</a></div><div class="ttdeci">bool has_flag(const vp_flag flag) const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00276">vehicle.h:276</a></div></div>
<div class="ttc" id="astructvehicle__part_html_ae7f48658b31b3d97b796ab861c67d71f"><div class="ttname"><a href="structvehicle__part.html#ae7f48658b31b3d97b796ab861c67d71f">vehicle_part::is_repairable</a></div><div class="ttdeci">bool is_repairable() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00179">vehicle_part.cpp:179</a></div></div>
<div class="ttc" id="aveh__interact_8cpp_html_a5d09786ce5d8146476c623499f43c28c"><div class="ttname"><a href="veh__interact_8cpp.html#a5d09786ce5d8146476c623499f43c28c">proficiency_prof_aircraft_mechanic</a></div><div class="ttdeci">static const proficiency_id proficiency_prof_aircraft_mechanic(&quot;prof_aircraft_mechanic&quot;)</div></div>
<div class="ttc" id="avehicle_8h_html_acba70ff9f8381a17fbca8057d0def3cea3212f19eff037b63e93566c9e247e558"><div class="ttname"><a href="vehicle_8h.html#acba70ff9f8381a17fbca8057d0def3cea3212f19eff037b63e93566c9e247e558">vp_flag::carried_flag</a></div><div class="ttdeci">@ carried_flag</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="dialogue_8h_source.html#l00043">action</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="vehicle_8h_source.html#l00541">vehicle_part::base</a>, <a class="el" href="color_8h_source.html#l00018">c_dark_gray</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00025">c_light_red</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="veh__interact_8cpp_source.html#l02096">calc_lift_requirements()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00631">cant_do()</a>, <a class="el" href="vehicle_8h.html#acba70ff9f8381a17fbca8057d0def3cea3212f19eff037b63e93566c9e247e558">carried_flag</a>, <a class="el" href="color_8cpp_source.html#l00742">colorize()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, <a class="el" href="veh__interact_8h_source.html#l00066">dd</a>, <a class="el" href="veh__type_8cpp_source.html#l00977">vpart_info::format_description()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00349">format_reqs()</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="crafting_8cpp_source.html#l03051">Character::get_crafting_helpers()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01729">get_most_repairable_part()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="input__context_8cpp_source.html#l00427">input_context::handle_input()</a>, <a class="el" href="veh__type_8h_source.html#l00256">vpart_info::has_flag()</a>, <a class="el" href="vehicle_8h_source.html#l00276">vehicle_part::has_flag()</a>, <a class="el" href="vehicle_8cpp_source.html#l02827">vehicle::has_part()</a>, <a class="el" href="character__proficiency_8cpp_source.html#l00019">Character::has_proficiency()</a>, <a class="el" href="veh__interact_8h_source.html#l00114">highlight_part</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00623">vehicle_part::info()</a>, <a class="el" href="veh__type_8cpp_source.html#l01072">vpart_info::install_requirements()</a>, <a class="el" href="veh__type_8h_source.html#l00349">vpart_info::install_skills</a>, <a class="el" href="veh__type_8cpp_source.html#l01111">vpart_info::install_time()</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">INVALID_TARGET</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00200">vehicle_part::is_broken()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00179">vehicle_part::is_repairable()</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a387ed9ae8934c7ccb29f0ac78591ad13">LOW_LIGHT</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8a354f9f7371cd259a5bd11ef1f0404def">LOW_MORALE</a>, <a class="el" href="enums_8h_source.html#l00352">m_info</a>, <a class="el" href="veh__interact_8h_source.html#l00126">main_context</a>, <a class="el" href="vehicle_8h_source.html#l00447">vehicle_part::mount</a>, <a class="el" href="veh__interact_8cpp_source.html#l02220">move_cursor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01086">move_in_list()</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8aa28aee4213e36855bcd2cc87a6cb780f">MOVING_VEHICLE</a>, <a class="el" href="veh__interact_8h_source.html#l00110">msg</a>, <a class="el" href="proficiency_8cpp_source.html#l00170">proficiency::name()</a>, <a class="el" href="veh__interact_8h_source.html#l00273">need_repair</a>, <a class="el" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a>, <a class="el" href="vehicle_8cpp_source.html#l08098">vehicle::part()</a>, <a class="el" href="veh__interact_8h_source.html#l00278">parts_here</a>, <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>, <a class="el" href="veh__interact_8cpp.html#a5d09786ce5d8146476c623499f43c28c">proficiency_prof_aircraft_mechanic</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00504">ui_manager::redraw()</a>, <a class="el" href="veh__type_8cpp_source.html#l01082">vpart_info::repair_requirements()</a>, <a class="el" href="veh__type_8h_source.html#l00350">vpart_info::repair_skills</a>, <a class="el" href="veh__type_8cpp_source.html#l01121">vpart_info::repair_time()</a>, <a class="el" href="item_8cpp_source.html#l08952">item::repairable_levels()</a>, <a class="el" href="veh__interact_8h_source.html#l00085">sel_cmd</a>, <a class="el" href="veh__interact_8h_source.html#l00081">sel_vehicle_part</a>, <a class="el" href="veh__interact_8h_source.html#l00082">sel_vpart_info</a>, <a class="el" href="vehicle_8cpp_source.html#l04402">vehicle::set_flyable()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="veh__interact_8h_source.html#l00109">title</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, <a class="el" href="veh__interact_8h_source.html#l00096">w_msg</a>, and <a class="el" href="vehicle_8cpp_source.html#l04422">vehicle::would_repair_prevent_flyable()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>.</p>

</div>
</div>
<a id="ac84bab1bf6c0fb0d2ca51cace5290aec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac84bab1bf6c0fb0d2ca51cace5290aec">&#9670;&nbsp;</a></span>do_siphon()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::do_siphon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l01886">1886</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;{</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <span class="keywordflow">switch</span>( <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;s&#39;</span> ) ) {</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">task_reason::INVALID_TARGET</a>:</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;            <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The vehicle has no liquid fuel left to siphon.&quot;</span> );</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160; </div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ae04bc3351bcc52f4202e8eb0332b6fef">task_reason::LACK_TOOLS</a>:</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;            <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You need a &lt;color_red&gt;hose&lt;/color&gt; to siphon liquid fuel.&quot;</span> );</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160; </div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8aa28aee4213e36855bcd2cc87a6cb780f">task_reason::MOVING_VEHICLE</a>:</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;            <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You can&#39;t siphon from a moving vehicle.&quot;</span> );</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160; </div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    }</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160; </div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;std::optional&lt;std::string&gt;</a>&gt; prev_title( <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a> );</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select part to siphon:&quot;</span> );</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160; </div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <span class="keyword">auto</span> sel = [&amp;]( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt ) {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        <span class="keywordflow">return</span> pt.is_tank() &amp;&amp; !pt.base.empty() &amp;&amp;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;               pt.base.only_item().made_of( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> );</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    };</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160; </div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    <span class="keyword">auto</span> <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> = [&amp;]( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt ) {</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        <a class="code" href="classon__out__of__scope.html">on_out_of_scope</a> restore_ui( [&amp;]() {</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;            <a class="code" href="classveh__interact.html#a161886d9759a718a907f034e459623c2">hide_ui</a>( <span class="keyword">false</span> );</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        } );</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;        <a class="code" href="classveh__interact.html#a161886d9759a718a907f034e459623c2">hide_ui</a>( <span class="keyword">true</span> );</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;        <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;base = pt.get_base();</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> idx = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a5b851c999ddcf3b8cf007c34297d7df7">index_of_part</a>( &amp;pt );</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;        <a class="code" href="classitem.html">item</a> liquid( base.<a class="code" href="classitem.html#a58a1ae0c5310bb998fb9a1d0261e9858">legacy_front</a>() );</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> liq_charges = liquid.charges;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="namespaceliquid__handler.html#ae1d5d63f7372f4fb16a24624d0434fcd">liquid_handler::handle_liquid</a>( liquid, <span class="keyword">nullptr</span>, 1, <span class="keyword">nullptr</span>, <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>, idx ) ) {</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;            <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a14d2f19fb47d302e96c268c202904e71">drain</a>( idx, liq_charges - liquid.charges );</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        }</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    };</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160; </div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    <a class="code" href="classveh__interact.html#a7672d41be97b6fc8511a48f8d0b73b4b">overview</a>( sel, <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;}</div>
<div class="ttc" id="aclassveh__interact_html_a161886d9759a718a907f034e459623c2"><div class="ttname"><a href="classveh__interact.html#a161886d9759a718a907f034e459623c2">veh_interact::hide_ui</a></div><div class="ttdeci">void hide_ui(bool hide)</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l00477">veh_interact.cpp:477</a></div></div>
<div class="ttc" id="aclassvehicle_html_a14d2f19fb47d302e96c268c202904e71"><div class="ttname"><a href="classvehicle.html#a14d2f19fb47d302e96c268c202904e71">vehicle::drain</a></div><div class="ttdeci">int drain(const itype_id &amp;ftype, int amount, const std::function&lt; bool(vehicle_part &amp;)&gt; &amp;filter=return_true&lt; vehicle_part &amp; &gt;, bool apply_loss=true)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03604">vehicle.cpp:3604</a></div></div>
<div class="ttc" id="anamespaceliquid__handler_html_ae1d5d63f7372f4fb16a24624d0434fcd"><div class="ttname"><a href="namespaceliquid__handler.html#ae1d5d63f7372f4fb16a24624d0434fcd">liquid_handler::handle_liquid</a></div><div class="ttdeci">bool handle_liquid(item &amp;liquid, const item *const source, const int radius, const tripoint *const source_pos, const vehicle *const source_veh, const int part_num, const monster *const source_mon)</div><div class="ttdoc">This may start a player activity if either source_pos or source_veh is not null.</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8cpp_source.html#l00459">handle_liquid.cpp:459</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="sounds_8cpp_source.html#l00079">act</a>, <a class="el" href="veh__interact_8cpp_source.html#l00631">cant_do()</a>, <a class="el" href="item_8h_source.html#l03133">item::charges</a>, <a class="el" href="vehicle_8cpp_source.html#l03604">vehicle::drain()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00459">liquid_handler::handle_liquid()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00477">hide_ui()</a>, <a class="el" href="vehicle_8cpp_source.html#l03224">vehicle::index_of_part()</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">INVALID_TARGET</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ae04bc3351bcc52f4202e8eb0332b6fef">LACK_TOOLS</a>, <a class="el" href="item_8cpp_source.html#l15170">item::legacy_front()</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">LIQUID</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8aa28aee4213e36855bcd2cc87a6cb780f">MOVING_VEHICLE</a>, <a class="el" href="veh__interact_8h_source.html#l00110">msg</a>, <a class="el" href="veh__interact_8cpp_source.html#l01619">overview()</a>, <a class="el" href="veh__interact_8h_source.html#l00109">title</a>, and <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>.</p>

</div>
</div>
<a id="aeb47fd0e84452654b1bb815ae1e578de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb47fd0e84452654b1bb815ae1e578de">&#9670;&nbsp;</a></span>do_unload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool veh_interact::do_unload </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l01930">1930</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;{</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <span class="keywordflow">switch</span>( <a class="code" href="classveh__interact.html#a1a7040abf1b0a4586a878f853ef242fd">cant_do</a>( <span class="charliteral">&#39;d&#39;</span> ) ) {</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">task_reason::INVALID_TARGET</a>:</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;            <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The vehicle has no solid fuel left to remove.&quot;</span> );</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160; </div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8aa28aee4213e36855bcd2cc87a6cb780f">task_reason::MOVING_VEHICLE</a>:</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;            <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You can&#39;t unload from a moving vehicle.&quot;</span> );</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160; </div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    }</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160; </div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <a class="code" href="veh__interact_8cpp.html#a42fd01b44f7cf84a261dc352dd4b1b69">act_vehicle_unload_fuel</a>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a> );</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;}</div>
<div class="ttc" id="aveh__interact_8cpp_html_a42fd01b44f7cf84a261dc352dd4b1b69"><div class="ttname"><a href="veh__interact_8cpp.html#a42fd01b44f7cf84a261dc352dd4b1b69">act_vehicle_unload_fuel</a></div><div class="ttdeci">static void act_vehicle_unload_fuel(vehicle *veh)</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l03029">veh_interact.cpp:3029</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="veh__interact_8cpp_source.html#l03029">act_vehicle_unload_fuel()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00631">cant_do()</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8ac95472125b90ae311ae87e4686168c14">INVALID_TARGET</a>, <a class="el" href="veh__interact_8h.html#ab7bc1352655b72d653e42e97a93cd5b8aa28aee4213e36855bcd2cc87a6cb780f">MOVING_VEHICLE</a>, <a class="el" href="veh__interact_8h_source.html#l00110">msg</a>, and <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>.</p>

</div>
</div>
<a id="ab66721e4f0b0bc585aa64a578e94155b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab66721e4f0b0bc585aa64a578e94155b">&#9670;&nbsp;</a></span>format_reqs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool veh_interact::format_reqs </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structrequirement__data.html">requirement_data</a> &amp;&#160;</td>
          <td class="paramname"><em>reqs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>skills</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Format list of requirements returning true if all are met. </p>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l00349">349</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;{</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keyword">const</span> <a class="code" href="classinventory.html">inventory</a> &amp;inv = player_character.<a class="code" href="classCharacter.html#ace218285f4fbc7c7a9feac8378bc632e">crafting_inventory</a>();</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = reqs.<a class="code" href="structrequirement__data.html#a07c67f146358ed0de2aface7588c20d2">can_make_with_inventory</a>( inv, <a class="code" href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a> );</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_white&gt;Time required:&lt;/color&gt;\n&quot;</span> );</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> += <span class="stringliteral">&quot;&gt; &quot;</span> + <a class="code" href="calendar_8cpp.html#a3cbd6a4aa555daec83ee03cc90dd7715">to_string_approx</a>( time ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_white&gt;Skills required:&lt;/color&gt;\n&quot;</span> );</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : skills ) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordtype">bool</span> hasSkill = player_character.<a class="code" href="classCharacter.html#a4226b37a0e4383461e0fd072586a394a">get_knowledge_level</a>( e.first ) &gt;= e.second;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">if</span>( !hasSkill ) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="comment">//~ %1$s represents the internal color name which shouldn&#39;t be translated, %2$s is skill name, and %3$i is skill level</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&gt; %1$s%2$s %3$i&lt;/color&gt;\n&quot;</span> ), <a class="code" href="veh__interact_8cpp.html#a97001580d6d2cebd945222ba6fe1a56d">status_color</a>( hasSkill ),</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                              e.first.obj().name(), e.second );</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a9cb33f7a7315d3cd8c5cf886691982b3aa658279f9b983958149f31e4d8487673">skills</a>.empty() ) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="comment">//~ %1$s represents the internal color name which shouldn&#39;t be translated, %2$s is the word &quot;NONE&quot;</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&gt; %1$s%2$s&lt;/color&gt;&quot;</span>, <a class="code" href="veh__interact_8cpp.html#a97001580d6d2cebd945222ba6fe1a56d">status_color</a>( <span class="keyword">true</span> ), <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;NONE&quot;</span> ) ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keyword">auto</span> comps = reqs.<a class="code" href="structrequirement__data.html#a9b9025140c166ce2a00fcf41db96b7a9">get_folded_components_list</a>( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a8fbae1471a0f80d1618c704a880d133b">w_msg</a> ) - 2, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, inv,</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                 <a class="code" href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a> );</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;<a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> : comps ) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> += <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keyword">auto</span> tools = reqs.<a class="code" href="structrequirement__data.html#a7518cd295931d5e30f6ba0341f90aa8b">get_folded_tools_list</a>( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a8fbae1471a0f80d1618c704a880d133b">w_msg</a> ) - 2, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, inv );</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;<a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> : tools ) {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> += <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a3cbd6a4aa555daec83ee03cc90dd7715"><div class="ttname"><a href="calendar_8cpp.html#a3cbd6a4aa555daec83ee03cc90dd7715">to_string_approx</a></div><div class="ttdeci">std::string to_string_approx(const time_duration &amp;dur, const bool verbose)</div><div class="ttdoc">Returns approximate duration.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00587">calendar.cpp:587</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4226b37a0e4383461e0fd072586a394a"><div class="ttname"><a href="classCharacter.html#a4226b37a0e4383461e0fd072586a394a">Character::get_knowledge_level</a></div><div class="ttdeci">int get_knowledge_level(const skill_id &amp;ident) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03441">character.cpp:3441</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02player__display_8cpp_03_html_a9cb33f7a7315d3cd8c5cf886691982b3aa658279f9b983958149f31e4d8487673"><div class="ttname"><a href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a9cb33f7a7315d3cd8c5cf886691982b3aa658279f9b983958149f31e4d8487673">anonymous_namespace{player_display.cpp}::player_display_tab::skills</a></div><div class="ttdeci">@ skills</div></div>
<div class="ttc" id="astructrequirement__data_html_a7518cd295931d5e30f6ba0341f90aa8b"><div class="ttname"><a href="structrequirement__data.html#a7518cd295931d5e30f6ba0341f90aa8b">requirement_data::get_folded_tools_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_folded_tools_list(int width, nc_color col, const read_only_visitable &amp;crafting_inv, int batch=1) const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00819">requirements.cpp:819</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a9b9025140c166ce2a00fcf41db96b7a9"><div class="ttname"><a href="structrequirement__data.html#a9b9025140c166ce2a00fcf41db96b7a9">requirement_data::get_folded_components_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_folded_components_list(int width, nc_color col, const read_only_visitable &amp;crafting_inv, const std::function&lt; bool(const item &amp;)&gt; &amp;filter, int batch=1, std::string_view hilite={}, requirement_display_flags=requirement_display_flags::none) const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00732">requirements.cpp:732</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="requirements_8cpp_source.html#l00840">requirement_data::can_make_with_inventory()</a>, <a class="el" href="crafting_8cpp_source.html#l00629">Character::crafting_inventory()</a>, <a class="el" href="requirements_8cpp_source.html#l00732">requirement_data::get_folded_components_list()</a>, <a class="el" href="requirements_8cpp_source.html#l00819">requirement_data::get_folded_tools_list()</a>, <a class="el" href="character_8cpp_source.html#l03441">Character::get_knowledge_level()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="item_8h_source.html#l03267">is_crafting_component()</a>, <a class="el" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>, <a class="el" href="veh__interact_8h_source.html#l00110">msg</a>, <a class="el" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a>, <a class="el" href="veh__interact_8cpp_source.html#l00102">status_color()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="calendar_8cpp_source.html#l00587">to_string_approx()</a>, and <a class="el" href="veh__interact_8h_source.html#l00096">w_msg</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01734">can_remove_part()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00780">update_part_requirements()</a>.</p>

</div>
</div>
<a id="ab047755601bd3e29145ac43ce2d32433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab047755601bd3e29145ac43ce2d32433">&#9670;&nbsp;</a></span>get_most_damaged_part()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvehicle__part.html">vehicle_part</a> * veh_interact::get_most_damaged_part </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the most damaged part's index, or -1 if they're all healthy. </p>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l01712">1712</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;{</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <span class="keyword">auto</span> part_damage_comparison = []( <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp; <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>, <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp; <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ) {</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        <span class="keywordflow">return</span> !<a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.part().removed &amp;&amp; <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.part().base.damage() &gt; <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>.part().base.damage();</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    };</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="keyword">const</span> <a class="code" href="classvehicle__part__range.html">vehicle_part_range</a> vpr = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a397b40aa92dd1fd09ee592aa279bc656">get_all_parts</a>();</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <span class="keyword">auto</span> high_damage_iterator = std::max_element( vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a822ae177a963bb07078c871f92d7e10b">begin</a>(),</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;                                vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a9b3573598b7bdd91fa3d789602799a1b">end</a>(),</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;                                part_damage_comparison );</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    <span class="keywordflow">if</span>( high_damage_iterator == vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a9b3573598b7bdd91fa3d789602799a1b">end</a>() ||</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        high_damage_iterator-&gt;<a class="code" href="classvpart__reference.html#a7c5f0276964121404ca463b41254288c">part</a>().<a class="code" href="structvehicle__part.html#ab1d4873f1384392595a1e01c463543a5">removed</a> ) {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    }</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160; </div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keywordflow">return</span> &amp;( *high_damage_iterator ).part();</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;}</div>
<div class="ttc" id="aclassvpart__reference_html_a7c5f0276964121404ca463b41254288c"><div class="ttname"><a href="classvpart__reference.html#a7c5f0276964121404ca463b41254288c">vpart_reference::part</a></div><div class="ttdeci">vehicle_part &amp; part() const</div><div class="ttdoc">Yields the vehicle_part object referenced by this.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l07780">vehicle.cpp:7780</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a188caae18b60b66f9f44214c7e28ac1f"><div class="ttname"><a href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a></div><div class="ttdeci">static constexpr double a</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01566">magic.cpp:1566</a></div></div>
<div class="ttc" id="amagic_8cpp_html_aa93a189fb7bbbf87be54bcc7bd11bb6f"><div class="ttname"><a href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a></div><div class="ttdeci">static constexpr double b</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01567">magic.cpp:1567</a></div></div>
<div class="ttc" id="astructvehicle__part_html_ab1d4873f1384392595a1e01c463543a5"><div class="ttname"><a href="structvehicle__part.html#ab1d4873f1384392595a1e01c463543a5">vehicle_part::removed</a></div><div class="ttdeci">bool removed</div><div class="ttdoc">true if this part is removed.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00506">vehicle.h:506</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01566">a</a>, <a class="el" href="magic_8cpp_source.html#l01567">b</a>, <a class="el" href="vpart__range_8h_source.html#l00123">generic_vehicle_part_range&lt; range_type &gt;::begin()</a>, <a class="el" href="vpart__range_8h_source.html#l00126">generic_vehicle_part_range&lt; range_type &gt;::end()</a>, <a class="el" href="vehicle_8cpp_source.html#l08119">vehicle::get_all_parts()</a>, <a class="el" href="vehicle_8cpp_source.html#l07780">vpart_reference::part()</a>, <a class="el" href="vehicle_8h_source.html#l00506">vehicle_part::removed</a>, and <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02465">display_stats()</a>.</p>

</div>
</div>
<a id="af2bc0b32f2133107dd7063a62354f88d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2bc0b32f2133107dd7063a62354f88d">&#9670;&nbsp;</a></span>get_most_repairable_part()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvehicle__part.html">vehicle_part</a> * veh_interact::get_most_repairable_part </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the index of the part that needs repair the most. </p>
<p>This may not be mostDamagedPart since not all parts can be repaired If there are no damaged parts this returns -1 </p>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l01729">1729</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;{</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceveh__utils.html#a7b35e15fe8bff4666e3d76cc8780d39a">veh_utils::most_repairable_part</a>( *<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>, <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>() );</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;}</div>
<div class="ttc" id="anamespaceveh__utils_html_a7b35e15fe8bff4666e3d76cc8780d39a"><div class="ttname"><a href="namespaceveh__utils.html#a7b35e15fe8bff4666e3d76cc8780d39a">veh_utils::most_repairable_part</a></div><div class="ttdeci">vehicle_part * most_repairable_part(vehicle &amp;veh, Character &amp;who)</div><div class="ttdef"><b>Definition:</b> <a href="veh__utils_8cpp_source.html#l00055">veh_utils.cpp:55</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="veh__utils_8cpp_source.html#l00055">veh_utils::most_repairable_part()</a>, and <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02465">display_stats()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>.</p>

</div>
</div>
<a id="a161886d9759a718a907f034e459623c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a161886d9759a718a907f034e459623c2">&#9670;&nbsp;</a></span>hide_ui()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::hide_ui </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>hide</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l00477">477</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;{</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">if</span>( hide != <a class="code" href="classveh__interact.html#a8d30c9db141fd24b43ab54dead1f1e22">ui_hidden</a> ) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <a class="code" href="classveh__interact.html#a8d30c9db141fd24b43ab54dead1f1e22">ui_hidden</a> = hide;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <a class="code" href="classveh__interact.html#a2601f5a5bd9a75a0505b488a45dc0c3b">create_or_get_ui_adaptor</a>()-&gt;mark_resize();</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, and <a class="el" href="veh__interact_8h_source.html#l00112">ui_hidden</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01886">do_siphon()</a>.</p>

</div>
</div>
<a id="a45c56ae23ae2b250f0facb9b1b8ab311"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45c56ae23ae2b250f0facb9b1b8ab311">&#9670;&nbsp;</a></span>move_cursor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::move_cursor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dstart_at</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Moves the cursor on the vehicle editing window. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d</td><td>How far to move the cursor. </td></tr>
    <tr><td class="paramname">dstart_at</td><td>How far to change the start position for vehicle part descriptions </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l02220">2220</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;{</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;    <a class="code" href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">dd</a> += d.<a class="code" href="structpoint.html#a9404b750fdf6bffb8aeddf8b298ab8f6">rotate</a>( 3 );</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    <span class="keywordflow">if</span>( d != <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> ) {</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;        <a class="code" href="classveh__interact.html#a6ed6231f344816729371a0e24890bb73">start_limit</a> = 0;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;        <a class="code" href="classveh__interact.html#a270a6a09e9de42e209aeda0048783cfe">start_at</a> += dstart_at;</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    }</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160; </div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    <span class="comment">// Update the current active component index to the new position.</span></div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    <a class="code" href="classveh__interact.html#a354e576739b8ec01d1327e31b17ca64c">cpart</a> = <a class="code" href="classveh__interact.html#a006209008890ad3dbf152d19c8d565ee">part_at</a>( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> );</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> vd = -<a class="code" href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">dd</a>;</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> q = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ad45ae53f6326f7fde4d8e59848470457">coord_translate</a>( vd );</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> vehp = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a3900ee345be0453828a955a200154db1">global_pos3</a>() + q;</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_critter = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>().<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( vehp );</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    <a class="code" href="classveh__interact.html#a5e840d3c49e8337195811b23db13d508">terrain_here</a> = here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( vehp ).<a class="code" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <span class="keywordtype">bool</span> obstruct = here.<a class="code" href="classmap.html#a82534d8752a0be6bbb000928d1f1978b">impassable_ter_furn</a>( vehp );</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <span class="keyword">const</span> <a class="code" href="classoptional__vpart__position.html">optional_vpart_position</a> ovp = here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( vehp );</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    <span class="keywordflow">if</span>( ovp &amp;&amp; &amp;ovp-&gt;vehicle() != <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a> ) {</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;        obstruct = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    }</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160; </div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    <a class="code" href="classveh__interact.html#a946c417657ac527bc9e02c6553ae6234">can_mount</a>.clear();</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    <span class="keywordflow">if</span>( !obstruct ) {</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        std::vector&lt;const vpart_info *&gt; req_missing;</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> &amp;vpi : <a class="code" href="namespacevehicles_1_1parts.html#a1760b563889a67b60d887f2cd6331846">vehicles::parts::get_all</a>() ) {</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;            <span class="keywordflow">if</span>( has_critter &amp;&amp; vpi.has_flag( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea68f5db7dd9e594e9b0b49dce12b2fcba">VPFLAG_OBSTACLE</a> ) ) {</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;            }</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;            <span class="keywordflow">if</span>( vpi.has_flag( <span class="stringliteral">&quot;NO_INSTALL_HIDDEN&quot;</span> ) ||</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;                vpi.has_flag( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8f0159e32409b47888df99c01106fdb5">VPFLAG_APPLIANCE</a> ) ) {</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;                <span class="keywordflow">continue</span>; <span class="comment">// hide parts with incompatible flags</span></div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;            }</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a3daff1624c04c6820a207d8c69dccbef">can_potentially_install</a>( vpi ) ) {</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;                <a class="code" href="classveh__interact.html#a946c417657ac527bc9e02c6553ae6234">can_mount</a>.push_back( &amp;vpi );</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;                req_missing.push_back( &amp;vpi );</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;            }</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;        }</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;        <span class="keyword">auto</span> vpart_localized_sort = []( <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> * <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>, <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> * <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ) {</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="localized__comparator_8h.html#aa323a1324b9ad3f0c7dc65690aed09c6">localized_compare</a>( <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;name(), <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;name() );</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;        };</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        std::sort( <a class="code" href="classveh__interact.html#a946c417657ac527bc9e02c6553ae6234">can_mount</a>.begin(), <a class="code" href="classveh__interact.html#a946c417657ac527bc9e02c6553ae6234">can_mount</a>.end(), vpart_localized_sort );</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        std::sort( req_missing.begin(), req_missing.end(), vpart_localized_sort );</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;        <a class="code" href="classveh__interact.html#a946c417657ac527bc9e02c6553ae6234">can_mount</a>.insert( <a class="code" href="classveh__interact.html#a946c417657ac527bc9e02c6553ae6234">can_mount</a>.end(), req_missing.cbegin(), req_missing.cend() );</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    }</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160; </div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <a class="code" href="classveh__interact.html#a5b02b8684bf980c01fa581d7f10d837d">need_repair</a>.clear();</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a>.clear();</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a354e576739b8ec01d1327e31b17ca64c">cpart</a> &gt;= 0 ) {</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a> = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ae9844787dd02657b4282b93f237c4987">parts_at_relative</a>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( <a class="code" href="classveh__interact.html#a354e576739b8ec01d1327e31b17ca64c">cpart</a> ).<a class="code" href="structvehicle__part.html#ac6e2dfa7178b8bed91baea3543961a86">mount</a>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a>.size(); i++ ) {</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;            <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp;pt = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a>[i] );</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160; </div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;            <span class="keywordflow">if</span>( pt.<a class="code" href="structvehicle__part.html#ae7f48658b31b3d97b796ab861c67d71f">is_repairable</a>() || pt.<a class="code" href="structvehicle__part.html#aeee4fac34f34d6c9ff557fde6590439d">is_broken</a>() ) {</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;                <a class="code" href="classveh__interact.html#a5b02b8684bf980c01fa581d7f10d837d">need_repair</a>.push_back( i );</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;            }</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;        }</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    }</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160; </div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    <span class="comment">/* Update the lifting quality to be the that is available for this newly selected tile */</span></div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    <a class="code" href="classveh__interact.html#a61531d0425777f3c809cbbab51309876">cache_tool_availability_update_lifting</a>( vehp );</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;}</div>
<div class="ttc" id="aclassint__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">int_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00026">ammo_effect.cpp:26</a></div></div>
<div class="ttc" id="aclassmap_html_aba8f330c2cc25be0652489b42d8dd530"><div class="ttname"><a href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">map::ter</a></div><div class="ttdeci">ter_id ter(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01922">map.cpp:1922</a></div></div>
<div class="ttc" id="aclassveh__interact_html_a006209008890ad3dbf152d19c8d565ee"><div class="ttname"><a href="classveh__interact.html#a006209008890ad3dbf152d19c8d565ee">veh_interact::part_at</a></div><div class="ttdeci">int part_at(const point &amp;d)</div><div class="ttdoc">Returns the first part on the vehicle at the given position.</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02184">veh_interact.cpp:2184</a></div></div>
<div class="ttc" id="alocalized__comparator_8h_html_aa323a1324b9ad3f0c7dc65690aed09c6"><div class="ttname"><a href="localized__comparator_8h.html#aa323a1324b9ad3f0c7dc65690aed09c6">localized_compare</a></div><div class="ttdeci">constexpr localized_comparator localized_compare</div><div class="ttdef"><b>Definition:</b> <a href="localized__comparator_8h_source.html#l00054">localized_comparator.h:54</a></div></div>
<div class="ttc" id="anamespacevehicles_1_1parts_html_a1760b563889a67b60d887f2cd6331846"><div class="ttname"><a href="namespacevehicles_1_1parts.html#a1760b563889a67b60d887f2cd6331846">vehicles::parts::get_all</a></div><div class="ttdeci">const std::vector&lt; vpart_info &gt; &amp; get_all()</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00960">veh_type.cpp:960</a></div></div>
<div class="ttc" id="astructpoint_html_a9404b750fdf6bffb8aeddf8b298ab8f6"><div class="ttname"><a href="structpoint.html#a9404b750fdf6bffb8aeddf8b298ab8f6">point::rotate</a></div><div class="ttdeci">point rotate(int turns, const point &amp;dim={ 1, 1 }) const</div><div class="ttdoc">Rotate point clockwise.</div><div class="ttdef"><b>Definition:</b> <a href="point_8cpp_source.html#l00024">point.cpp:24</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea68f5db7dd9e594e9b0b49dce12b2fcba"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea68f5db7dd9e594e9b0b49dce12b2fcba">VPFLAG_OBSTACLE</a></div><div class="ttdeci">@ VPFLAG_OBSTACLE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00070">veh_type.h:70</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01566">a</a>, <a class="el" href="magic_8cpp_source.html#l01567">b</a>, <a class="el" href="veh__interact_8cpp_source.html#l00612">cache_tool_availability_update_lifting()</a>, <a class="el" href="veh__interact_8h_source.html#l00266">can_mount</a>, <a class="el" href="veh__interact_8cpp_source.html#l02195">can_potentially_install()</a>, <a class="el" href="vehicle_8cpp_source.html#l03301">vehicle::coord_translate()</a>, <a class="el" href="veh__interact_8h_source.html#l00087">cpart</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="veh__interact_8h_source.html#l00066">dd</a>, <a class="el" href="veh__type_8cpp_source.html#l00960">vehicles::parts::get_all()</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="vehicle_8cpp_source.html#l03431">vehicle::global_pos3()</a>, <a class="el" href="map_8cpp_source.html#l02509">map::impassable_ter_furn()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00200">vehicle_part::is_broken()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00179">vehicle_part::is_repairable()</a>, <a class="el" href="localized__comparator_8h_source.html#l00054">localized_compare</a>, <a class="el" href="vehicle_8h_source.html#l00447">vehicle_part::mount</a>, <a class="el" href="veh__interact_8h_source.html#l00273">need_repair</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00026">int_id&lt; T &gt;::obj()</a>, <a class="el" href="vehicle_8cpp_source.html#l08098">vehicle::part()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02184">part_at()</a>, <a class="el" href="vehicle_8cpp_source.html#l02569">vehicle::parts_at_relative()</a>, <a class="el" href="veh__interact_8h_source.html#l00278">parts_here</a>, <a class="el" href="point_8h_source.html#l00251">point_zero</a>, <a class="el" href="point_8cpp_source.html#l00024">point::rotate()</a>, <a class="el" href="veh__interact_8h_source.html#l00068">start_at</a>, <a class="el" href="veh__interact_8h_source.html#l00069">start_limit</a>, <a class="el" href="map_8cpp_source.html#l01922">map::ter()</a>, <a class="el" href="veh__interact_8h_source.html#l00282">terrain_here</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>, <a class="el" href="veh__type_8h_source.html#l00059">VPFLAG_APPLIANCE</a>, and <a class="el" href="veh__type_8h_source.html#l00070">VPFLAG_OBSTACLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01619">overview()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00261">veh_interact()</a>.</p>

</div>
</div>
<a id="a208141a299865f7cc2c188d424a38cc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a208141a299865f7cc2c188d424a38cc2">&#9670;&nbsp;</a></span>move_fuel_cursor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::move_fuel_cursor </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delta</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Moves list of fuels up or down. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delta</td><td>-1 if moving up, 1 if moving down </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l00915">915</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;{</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordtype">int</span> max_fuel_indicators = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a574a15ae1c2572a6dafa55be0c7f3b25">get_printable_fuel_types</a>().size() );</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordtype">int</span> height = 5;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <a class="code" href="classveh__interact.html#a2bbd873cd45cfcb2213352f933edef2e">fuel_index</a> += delta;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a2bbd873cd45cfcb2213352f933edef2e">fuel_index</a> &lt; 0 ) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <a class="code" href="classveh__interact.html#a2bbd873cd45cfcb2213352f933edef2e">fuel_index</a> = 0;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a2bbd873cd45cfcb2213352f933edef2e">fuel_index</a> &gt; max_fuel_indicators - height ) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <a class="code" href="classveh__interact.html#a2bbd873cd45cfcb2213352f933edef2e">fuel_index</a> = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( max_fuel_indicators - height, 0 );</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    }</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;}</div>
<div class="ttc" id="aclassvehicle_html_a574a15ae1c2572a6dafa55be0c7f3b25"><div class="ttname"><a href="classvehicle.html#a574a15ae1c2572a6dafa55be0c7f3b25">vehicle::get_printable_fuel_types</a></div><div class="ttdeci">std::vector&lt; itype_id &gt; get_printable_fuel_types() const</div><div class="ttdoc">Returns an array of fuel types that can be printed.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__display_8cpp_source.html#l00313">vehicle_display.cpp:313</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="veh__interact_8h_source.html#l00076">fuel_index</a>, <a class="el" href="vehicle__display_8cpp_source.html#l00313">vehicle::get_printable_fuel_types()</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, and <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>.</p>

</div>
</div>
<a id="a5bec3200f6e3aab33053e759b9101099"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bec3200f6e3aab33053e759b9101099">&#9670;&nbsp;</a></span>move_in_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool veh_interact::move_in_list </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>header</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Move index (parameter pos) according to input action: (up or down, single step or whole page). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>index to change. </td></tr>
    <tr><td class="paramname">action</td><td>input action (taken from <a class="el" href="classinput__context.html#a43aa2fcd42cabfd04056def8986bc927" title="Handles input and returns the next action in the queue.">input_context::handle_input</a>) </td></tr>
    <tr><td class="paramname">size</td><td>size of the list to scroll, used to wrap the cursor around. </td></tr>
    <tr><td class="paramname">header</td><td>number of lines reserved for list header. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if the action is not a move action, the index is not changed in this case. </dd></dl>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l01086">1086</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;{</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordtype">int</span> lines_per_page = <a class="code" href="classveh__interact.html#ace346bf535ccfaddc200fb8f7e2447a7">page_size</a> - header;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PREV_TAB&quot;</span> || <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;LEFT&quot;</span> || <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PAGE_UP&quot;</span> ) {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> -= lines_per_page;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;NEXT_TAB&quot;</span> || <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;RIGHT&quot;</span> || <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PAGE_DOWN&quot;</span> ) {</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> += lines_per_page;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;UP&quot;</span> ) {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>--;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;DOWN&quot;</span> ) {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>++;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="comment">// Anything else -&gt; no movement</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    }</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> &lt; 0 ) {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> - 1;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> &gt;= <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> ) {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = 0;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    }</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;}</div>
<div class="ttc" id="anamespaceom__direction_html_af97f9dbddaa758278662da3478826c61"><div class="ttname"><a href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">om_direction::size</a></div><div class="ttdeci">const size_t size</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00066">omdata.h:66</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dialogue_8h_source.html#l00043">action</a>, <a class="el" href="veh__interact_8h_source.html#l00088">page_size</a>, <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>, and <a class="el" href="omdata_8h_source.html#l00066">om_direction::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01987">do_change_shape()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00957">do_install()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01796">do_remove()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>.</p>

</div>
</div>
<a id="adfa3a898243b2fe0c3fdd9b34afd2603"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfa3a898243b2fe0c3fdd9b34afd2603">&#9670;&nbsp;</a></span>move_overview_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::move_overview_line </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>amount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l01705">1705</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;{</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    <a class="code" href="classveh__interact.html#aca3ccd6cf1a45f04067d112452fdf1ea">overview_offset</a> += amount;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    <a class="code" href="classveh__interact.html#aca3ccd6cf1a45f04067d112452fdf1ea">overview_offset</a> = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 0, <a class="code" href="classveh__interact.html#aca3ccd6cf1a45f04067d112452fdf1ea">overview_offset</a> );</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <a class="code" href="classveh__interact.html#aca3ccd6cf1a45f04067d112452fdf1ea">overview_offset</a> = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <a class="code" href="classveh__interact.html#a7c90be80882a99ab49e2e989f2da9fbe">overview_limit</a>, <a class="code" href="classveh__interact.html#aca3ccd6cf1a45f04067d112452fdf1ea">overview_offset</a> );</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;}</div>
<div class="ttc" id="amath__parser__func_8h_html_a993dede52d23a9a3d15b01a342391ef4"><div class="ttname"><a href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">min</a></div><div class="ttdeci">double min(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00043">math_parser_func.h:43</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="veh__interact_8h_source.html#l00072">overview_limit</a>, and <a class="el" href="veh__interact_8h_source.html#l00071">overview_offset</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l01619">overview()</a>.</p>

</div>
</div>
<a id="a7672d41be97b6fc8511a48f8d0b73b4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7672d41be97b6fc8511a48f8d0b73b4b">&#9670;&nbsp;</a></span>overview()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void veh_interact::overview </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classveh__interact.html#a95dd253e3bc5d71a879834aa7a8d8349">overview_enable_t</a> &amp;&#160;</td>
          <td class="paramname"><em>enable</em> = <code>{}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classveh__interact.html#ab31ab8da689e61c59879570e904ea564">overview_action_t</a> &amp;&#160;</td>
          <td class="paramname"><em>action</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Display overview of parts, optionally with interactive selection of one part. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enable</td><td>used to determine parts of interest. If <code>action</code> also present, these parts are the ones that can be selected. Otherwise, these are the parts that will be highlighted </td></tr>
    <tr><td class="paramname">action</td><td>callback when part is selected. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l01619">1619</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;{</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;overview_enable_t&gt;</a> prev_overview_enable( <a class="code" href="classveh__interact.html#ac1930d9fe311bf79742cf84d387bdf71">overview_enable</a> );</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;overview_action_t&gt;</a> prev_overview_action( <a class="code" href="classveh__interact.html#a23784de3a9b78d9e9d3238595e50c6c8">overview_action</a> );</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <a class="code" href="classveh__interact.html#ac1930d9fe311bf79742cf84d387bdf71">overview_enable</a> = enable;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <a class="code" href="classveh__interact.html#a23784de3a9b78d9e9d3238595e50c6c8">overview_action</a> = <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>;</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160; </div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;int&gt;</a> prev_overview_pos( <a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a> );</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160; </div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <a class="code" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;ui_adaptor&gt;</a> current_ui = <a class="code" href="classveh__interact.html#a2601f5a5bd9a75a0505b488a45dc0c3b">create_or_get_ui_adaptor</a>();</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160; </div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        <a class="code" href="classveh__interact.html#a3ae13a6bce2460dd830c9d00fd5dbb62">calc_overview</a>();</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160; </div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a> &lt; 0 || <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( <a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a> ) &gt;= <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.size() ) {</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;            <a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a> = -1;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                <span class="keywordflow">if</span>( ++<a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a> &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.size() ) ) {</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                    <a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a> = -1;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;                    <span class="keywordflow">break</span>; <span class="comment">// nothing could be selected</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;                }</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;            } <span class="keywordflow">while</span>( !<a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>[<a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a>].selectable );</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        }</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160; </div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> has_any_selectable_part = std::any_of( <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.begin(), <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.end(),</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        []( <span class="keyword">const</span> part_option &amp; e ) {</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;            return e.selectable;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        } );</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        <span class="keywordflow">if</span>( !has_any_selectable_part ) {</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;            <span class="keywordflow">return</span>; <span class="comment">// nothing is selectable</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        }</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160; </div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a> &gt;= 0 &amp;&amp; <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( <a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a> ) &lt; <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.size() ) {</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;            <a class="code" href="classveh__interact.html#a45c56ae23ae2b250f0facb9b1b8ab311">move_cursor</a>( ( <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>[<a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a>].part-&gt;mount + <a class="code" href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">dd</a> ).rotate( 3 ) );</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        }</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160; </div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a> &gt;= 0 &amp;&amp; <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( <a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a> ) &lt; <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.size() &amp;&amp;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;            <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>[<a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a>].message ) {</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;            <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>[<a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a>].message( *<a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>[<a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a>].part );</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;            <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a>.reset();</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;        }</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160; </div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        <a class="code" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160; </div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        <span class="keyword">const</span> std::string input = <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#a43aa2fcd42cabfd04056def8986bc927">handle_input</a>();</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a>.reset();</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;        <span class="keywordflow">if</span>( input == <span class="stringliteral">&quot;CONFIRM&quot;</span> &amp;&amp; <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>[<a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a>].selectable &amp;&amp; <a class="code" href="classveh__interact.html#a23784de3a9b78d9e9d3238595e50c6c8">overview_action</a> ) {</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;            <a class="code" href="classveh__interact.html#a23784de3a9b78d9e9d3238595e50c6c8">overview_action</a>( *<a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>[<a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a>].part );</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160; </div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( input == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160; </div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( input == <span class="stringliteral">&quot;UP&quot;</span> ) {</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                <a class="code" href="classveh__interact.html#adfa3a898243b2fe0c3fdd9b34afd2603">move_overview_line</a>( -1 );</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                <span class="keywordflow">if</span>( --<a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a> &lt; 0 ) {</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                    <a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a> = <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.size() - 1;</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                }</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;            } <span class="keywordflow">while</span>( !<a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>[<a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a>].selectable );</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( input == <span class="stringliteral">&quot;DOWN&quot;</span> ) {</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                <a class="code" href="classveh__interact.html#adfa3a898243b2fe0c3fdd9b34afd2603">move_overview_line</a>( 1 );</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                <span class="keywordflow">if</span>( ++<a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a> &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.size() ) ) {</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;                    <a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a> = 0;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                }</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;            } <span class="keywordflow">while</span>( !<a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>[<a class="code" href="classveh__interact.html#a4b3e0851670ba7da185a35805e30ab83">overview_pos</a>].selectable );</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( input == <span class="stringliteral">&quot;ANY_INPUT&quot;</span> ) {</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;            <span class="comment">// did we try and activate a hotkey option?</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;            <span class="keyword">const</span> <a class="code" href="structinput__event.html">input_event</a> hotkey = <a class="code" href="classveh__interact.html#a7346a429253cd995e687fd337a238f69">main_context</a>.<a class="code" href="classinput__context.html#a0dbd5de7f92cb8d7e8dbc84f358730d2">get_raw_input</a>();</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;            <span class="keywordflow">if</span>( hotkey != <a class="code" href="structinput__event.html">input_event</a>() &amp;&amp; <a class="code" href="classveh__interact.html#a23784de3a9b78d9e9d3238595e50c6c8">overview_action</a> ) {</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                <span class="keyword">auto</span> iter = std::find_if( <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.begin(),</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;                <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.end(), [&amp;hotkey]( <span class="keyword">const</span> part_option &amp; e ) {</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                    return e.hotkey == hotkey;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;                } );</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;                <span class="keywordflow">if</span>( iter != <a class="code" href="classveh__interact.html#a277a829c8f97e47af764dfbcfeb5b4e4">overview_opts</a>.end() ) {</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;                    <a class="code" href="classveh__interact.html#a23784de3a9b78d9e9d3238595e50c6c8">overview_action</a>( *iter-&gt;part );</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;                }</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;            }</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;        }</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    }</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;}</div>
<div class="ttc" id="aclassinput__context_html_a0dbd5de7f92cb8d7e8dbc84f358730d2"><div class="ttname"><a href="classinput__context.html#a0dbd5de7f92cb8d7e8dbc84f358730d2">input_context::get_raw_input</a></div><div class="ttdeci">input_event get_raw_input()</div><div class="ttdoc">Temporary method to retrieve the raw input received, so that input_contexts can be used in screens wh...</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l01132">input_context.cpp:1132</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dialogue_8h_source.html#l00043">action</a>, <a class="el" href="veh__interact_8cpp_source.html#l01337">calc_overview()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, <a class="el" href="veh__interact_8h_source.html#l00066">dd</a>, <a class="el" href="input__context_8cpp_source.html#l01132">input_context::get_raw_input()</a>, <a class="el" href="input__context_8cpp_source.html#l00427">input_context::handle_input()</a>, <a class="el" href="veh__interact_8h_source.html#l00126">main_context</a>, <a class="el" href="veh__interact_8cpp_source.html#l02220">move_cursor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01705">move_overview_line()</a>, <a class="el" href="veh__interact_8h_source.html#l00110">msg</a>, <a class="el" href="veh__interact_8h_source.html#l00228">overview_action</a>, <a class="el" href="veh__interact_8h_source.html#l00227">overview_enable</a>, <a class="el" href="veh__interact_8h_source.html#l00223">overview_opts</a>, <a class="el" href="veh__interact_8h_source.html#l00229">overview_pos</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00504">ui_manager::redraw()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02023">do_assign_crew()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01250">do_mend()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01290">do_refill()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01886">do_siphon()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00232">select_part()</a>.</p>

</div>
</div>
<a id="a006209008890ad3dbf152d19c8d565ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a006209008890ad3dbf152d19c8d565ee">&#9670;&nbsp;</a></span>part_at()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int veh_interact::part_at </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the first part on the vehicle at the given position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d</td><td>The coordinates, relative to the viewport's 0-point (?) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The first vehicle part at the specified coordinates. </dd></dl>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l02184">2184</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;{</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> vd = -<a class="code" href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">dd</a> + d.<a class="code" href="structpoint.html#a9404b750fdf6bffb8aeddf8b298ab8f6">rotate</a>( 1 );</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a5c6daa8559b64b4f1e285612688be928">part_displayed_at</a>( vd );</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;}</div>
<div class="ttc" id="aclassvehicle_html_a5c6daa8559b64b4f1e285612688be928"><div class="ttname"><a href="classvehicle.html#a5c6daa8559b64b4f1e285612688be928">vehicle::part_displayed_at</a></div><div class="ttdeci">int part_displayed_at(const point &amp;dp, bool include_fake=false, bool below_roof=true, bool roof=true) const</div><div class="ttdoc">Returns which part (as an index into the parts list) is the one that will be displayed for the given ...</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03246">vehicle.cpp:3246</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="veh__interact_8h_source.html#l00066">dd</a>, <a class="el" href="vehicle_8cpp_source.html#l03246">vehicle::part_displayed_at()</a>, <a class="el" href="point_8cpp_source.html#l00024">point::rotate()</a>, and <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02220">move_cursor()</a>.</p>

</div>
</div>
<a id="a467b4cefe6fbeeaae2591652555b0aa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a467b4cefe6fbeeaae2591652555b0aa2">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classplayer__activity.html">player_activity</a> veh_interact::run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classvehicle.html">vehicle</a> &amp;&#160;</td>
          <td class="paramname"><em>veh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l00225">225</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;{</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="classveh__interact.html">veh_interact</a> vehint( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>, p );</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    vehint.do_main_loop();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">return</span> vehint.serialize_activity();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div>
<div class="ttc" id="aclassveh__interact_html"><div class="ttname"><a href="classveh__interact.html">veh_interact</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8h_source.html#l00049">veh_interact.h:50</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00130">serialize_activity()</a>, and <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l05658">game::exam_vehicle()</a>.</p>

</div>
</div>
<a id="aa95d3528435647c137700c708d840f12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa95d3528435647c137700c708d840f12">&#9670;&nbsp;</a></span>select_part()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="classvpart__reference.html">vpart_reference</a> &gt; veh_interact::select_part </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classvehicle.html">vehicle</a> &amp;&#160;</td>
          <td class="paramname"><em>veh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classveh__interact.html#a8955480261c3f606fe093f8085506ac2">part_selector</a> &amp;&#160;</td>
          <td class="paramname"><em>sel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>title</em> = <code>std::string()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prompt for a part matching the selector function. </p>

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l00232">232</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    std::optional&lt;vpart_reference&gt; res = std::nullopt;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> = [&amp;]( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt ) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        res = <a class="code" href="classvpart__reference.html">vpart_reference</a>( <span class="keyword">const_cast&lt;</span><a class="code" href="classvehicle.html">vehicle</a> &amp;<span class="keyword">&gt;</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a> ), <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a5b851c999ddcf3b8cf007c34297d7df7">index_of_part</a>( &amp;pt ) );</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    };</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    std::function&lt;bool( <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp; )&gt; sel_wrapper = [sel]( <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp; vpr ) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">return</span> sel( vpr.part() );</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    };</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keyword">const</span> <a class="code" href="classvehicle__part__range.html">vehicle_part_range</a> vpr = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>.<a class="code" href="classvehicle.html#a397b40aa92dd1fd09ee592aa279bc656">get_all_parts</a>();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordtype">int</span> opts = std::count_if( vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a822ae177a963bb07078c871f92d7e10b">begin</a>(), vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a9b3573598b7bdd91fa3d789602799a1b">end</a>(), sel_wrapper );</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">if</span>( opts == 1 ) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>( std::find_if( vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a822ae177a963bb07078c871f92d7e10b">begin</a>(), vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a9b3573598b7bdd91fa3d789602799a1b">end</a>(), sel_wrapper )-&gt;part() );</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( opts != 0 ) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <a class="code" href="classveh__interact.html">veh_interact</a> vehint( <span class="keyword">const_cast&lt;</span><a class="code" href="classvehicle.html">vehicle</a> &amp;<span class="keyword">&gt;</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a> ) );</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        vehint.title = <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a>.empty() ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select part&quot;</span> ) : <a class="code" href="classveh__interact.html#a0806529417fd75516442a4823bb0c680">title</a>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        vehint.overview( sel, <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="sounds_8cpp_source.html#l00079">act</a>, <a class="el" href="vpart__range_8h_source.html#l00123">generic_vehicle_part_range&lt; range_type &gt;::begin()</a>, <a class="el" href="vpart__range_8h_source.html#l00126">generic_vehicle_part_range&lt; range_type &gt;::end()</a>, <a class="el" href="vehicle_8cpp_source.html#l08119">vehicle::get_all_parts()</a>, <a class="el" href="vehicle_8cpp_source.html#l03224">vehicle::index_of_part()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01619">overview()</a>, <a class="el" href="veh__interact_8h_source.html#l00109">title</a>, and <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02999">act_vehicle_siphon()</a>, and <a class="el" href="handle__liquid_8cpp_source.html#l00350">liquid_handler::perform_liquid_transfer()</a>.</p>

</div>
</div>
<a id="a10def8db5c02c923a279f219b085ea06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10def8db5c02c923a279f219b085ea06">&#9670;&nbsp;</a></span>serialize_activity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classplayer__activity.html">player_activity</a> veh_interact::serialize_activity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l00130">130</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *pt = <a class="code" href="classveh__interact.html#ab8d1717957cc0fe8d50c402e9e625796">sel_vehicle_part</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *vp = <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a8171487d174b74e188e38980e2005a74">sel_cmd</a> == <span class="charliteral">&#39;q&#39;</span> || <a class="code" href="classveh__interact.html#a8171487d174b74e188e38980e2005a74">sel_cmd</a> == <span class="charliteral">&#39; &#39;</span> || !vp ) {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classplayer__activity.html">player_activity</a>();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="classtime__duration.html">time_duration</a> time = 0_seconds;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">switch</span>( <a class="code" href="classveh__interact.html#a8171487d174b74e188e38980e2005a74">sel_cmd</a> ) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            time = vp-&gt;install_time( player_character );</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>:</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <span class="keywordflow">if</span>( pt != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <span class="keywordflow">if</span>( pt-&gt;is_broken() ) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                    time = vp-&gt;install_time( player_character );</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( pt-&gt;is_repairable() ) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                    time = vp-&gt;repair_time( player_character ) * pt-&gt;base.repairable_levels();</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;o&#39;</span>:</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            time = vp-&gt;removal_time( player_character );</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="veh__interact_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> ) ) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        time = 1_seconds;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="classplayer__activity.html">player_activity</a> res( <a class="code" href="veh__interact_8cpp.html#aba2e6b080edbb641da90532dec71e375">ACT_VEHICLE</a>, to_moves&lt;int&gt;( time ), <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classveh__interact.html#a8171487d174b74e188e38980e2005a74">sel_cmd</a> ) );</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// if we&#39;re working on an existing part, use that part as the reference point</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">// otherwise (e.g. installing a new frame), just use part 0</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> q = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ad45ae53f6326f7fde4d8e59848470457">coord_translate</a>( pt ? pt-&gt;mount : <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( 0 ).<a class="code" href="structvehicle__part.html#ac6e2dfa7178b8bed91baea3543961a86">mount</a> );</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> *vpt = pt ? pt : &amp;<a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( 0 );</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#ae6df00db578931d74d20de595736b190">get_points</a>( <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        res.coord_set.insert( here.<a class="code" href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">getabs</a>( p ) );</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    res.values.push_back( here.<a class="code" href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">getabs</a>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a3900ee345be0453828a955a200154db1">global_pos3</a>() ).<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> + q.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> );    <span class="comment">// values[0]</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    res.values.push_back( here.<a class="code" href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">getabs</a>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a3900ee345be0453828a955a200154db1">global_pos3</a>() ).<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> + q.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> );    <span class="comment">// values[1]</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    res.values.push_back( <a class="code" href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">dd</a>.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> );   <span class="comment">// values[2]</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    res.values.push_back( <a class="code" href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">dd</a>.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> );   <span class="comment">// values[3]</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    res.values.push_back( -<a class="code" href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">dd</a>.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> );   <span class="comment">// values[4]</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    res.values.push_back( -<a class="code" href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">dd</a>.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> );   <span class="comment">// values[5]</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    res.values.push_back( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a5b851c999ddcf3b8cf007c34297d7df7">index_of_part</a>( vpt ) ); <span class="comment">// values[6]</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    res.str_values.emplace_back( vp-&gt;id.str() );</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    res.str_values.emplace_back( <span class="stringliteral">&quot;&quot;</span> ); <span class="comment">// previously stored the part variant, now obsolete</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    res.targets.emplace_back( std::move( <a class="code" href="classveh__interact.html#ab6c6ef56a5edb1ec8ebaa4a9768cf194">refill_target</a> ) );</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_a501f3a1d449ac022f1b36b99da653e94"><div class="ttname"><a href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">map::getabs</a></div><div class="ttdeci">tripoint getabs(const tripoint &amp;p) const</div><div class="ttdoc">Translates local (to this map) coordinates of a square to global absolute coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09614">map.cpp:9614</a></div></div>
<div class="ttc" id="aclassplayer__activity_html"><div class="ttname"><a href="classplayer__activity.html">player_activity</a></div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00032">player_activity.h:33</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00196">calendar.h:197</a></div></div>
<div class="ttc" id="aclassvehicle_html_ae6df00db578931d74d20de595736b190"><div class="ttname"><a href="classvehicle.html#ae6df00db578931d74d20de595736b190">vehicle::get_points</a></div><div class="ttdeci">const std::set&lt; tripoint &gt; &amp; get_points(bool force_refresh=false, bool no_fake=false) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l07725">vehicle.cpp:7725</a></div></div>
<div class="ttc" id="astructtripoint_html_a89f6c0a16e2bfd7ce4f1f1d20404c4d7"><div class="ttname"><a href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">tripoint::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00133">point.h:133</a></div></div>
<div class="ttc" id="astructtripoint_html_affdc0d5b75024cbfacd208a495def3dc"><div class="ttname"><a href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">tripoint::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00132">point.h:132</a></div></div>
<div class="ttc" id="aveh__interact_8cpp_html_aba2e6b080edbb641da90532dec71e375"><div class="ttname"><a href="veh__interact_8cpp.html#aba2e6b080edbb641da90532dec71e375">ACT_VEHICLE</a></div><div class="ttdeci">static const activity_id ACT_VEHICLE(&quot;ACT_VEHICLE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="veh__interact_8cpp.html#aba2e6b080edbb641da90532dec71e375">ACT_VEHICLE</a>, <a class="el" href="player__activity_8h_source.html#l00065">player_activity::coord_set</a>, <a class="el" href="vehicle_8cpp_source.html#l03301">vehicle::coord_translate()</a>, <a class="el" href="veh__interact_8h_source.html#l00066">dd</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="vehicle_8cpp_source.html#l07725">vehicle::get_points()</a>, <a class="el" href="map_8cpp_source.html#l09614">map::getabs()</a>, <a class="el" href="vehicle_8cpp_source.html#l03431">vehicle::global_pos3()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="vehicle_8cpp_source.html#l03224">vehicle::index_of_part()</a>, <a class="el" href="vehicle_8h_source.html#l00447">vehicle_part::mount</a>, <a class="el" href="vehicle_8cpp_source.html#l08098">vehicle::part()</a>, <a class="el" href="veh__interact_8h_source.html#l00079">refill_target</a>, <a class="el" href="veh__interact_8h_source.html#l00085">sel_cmd</a>, <a class="el" href="veh__interact_8h_source.html#l00081">sel_vehicle_part</a>, <a class="el" href="veh__interact_8h_source.html#l00082">sel_vpart_info</a>, <a class="el" href="player__activity_8h_source.html#l00063">player_activity::str_values</a>, <a class="el" href="player__activity_8h_source.html#l00061">player_activity::targets</a>, <a class="el" href="veh__interact_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a>, <a class="el" href="player__activity_8h_source.html#l00062">player_activity::values</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, <a class="el" href="point_8h_source.html#l00132">tripoint::x</a>, <a class="el" href="point_8h_source.html#l00024">point::y</a>, and <a class="el" href="point_8h_source.html#l00133">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00225">run()</a>.</p>

</div>
</div>
<a id="a6b7ea84841ff8ca9e7cd74552f7da13f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b7ea84841ff8ca9e7cd74552f7da13f">&#9670;&nbsp;</a></span>update_part_requirements()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool veh_interact::update_part_requirements </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8cpp_source.html#l00780">780</a> of file <a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;{</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a> == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordflow">if</span>( std::any_of( <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a>.begin(), <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a>.end(), [&amp;]( <span class="keyword">const</span> <span class="keywordtype">int</span> e ) {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    return veh-&gt;part( e ).has_flag( vp_flag::carried_flag );</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    } ) ) {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Unracking is required before installing any parts here.&quot;</span> );</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keywordflow">if</span>( <span class="keyword">const</span> std::optional&lt;std::string&gt; conflict = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a8c70b0ddf9e6db183fe6036a33797947">has_engine_conflict</a>( *<a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a> ) ) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <span class="comment">//~ %1$s is fuel_type</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Only one %1$s powered engine can be installed.&quot;</span> ), conflict.value() );</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#aca3ae013973cb492b14967e574189c1c">has_part</a>( <span class="stringliteral">&quot;NO_MODIFY_VEHICLE&quot;</span> ) &amp;&amp; !<a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;SIMPLE_PART&quot;</span> ) ) {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;This vehicle cannot be modified in this way.\n&quot;</span> );</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;NO_INSTALL_PLAYER&quot;</span> ) ) {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;This part cannot be installed.\n&quot;</span> );</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;FUNNEL&quot;</span> ) ) {</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <span class="keywordflow">if</span>( std::none_of( <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a>.begin(), <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a>.end(), [&amp;]( <span class="keyword">const</span> <span class="keywordtype">int</span> e ) {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        return veh-&gt;part( e ).is_tank();</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        } ) ) {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Funnels need to be installed over a tank.&quot;</span> );</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        }</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    }</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160; </div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;TURRET&quot;</span> ) ) {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <span class="keywordflow">if</span>( std::any_of( <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a>.begin(), <a class="code" href="classveh__interact.html#a237e08c882285f5afe00e543de6ba918">parts_here</a>.end(), [&amp;]( <span class="keyword">const</span> <span class="keywordtype">int</span> e ) {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        return veh-&gt;part( e ).is_turret();</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        } ) ) {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Can&#39;t install turret on another turret.&quot;</span> );</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        }</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="keywordtype">bool</span> is_engine = <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;ENGINE&quot;</span> );</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="comment">//count current engines, some engines don&#39;t require higher skill</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordtype">int</span> engines = 0;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordtype">int</span> dif_eng = 0;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">if</span>( is_engine &amp;&amp; <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;E_HIGHER_SKILL&quot;</span> ) ) {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp;vp : <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a1b64eabc86039e338bf054c96f5a26ff">get_avail_parts</a>( <span class="stringliteral">&quot;ENGINE&quot;</span> ) ) {</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            <span class="keywordflow">if</span>( vp.has_feature( <span class="stringliteral">&quot;E_HIGHER_SKILL&quot;</span> ) ) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                engines++;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                dif_eng = dif_eng / 2 + 8;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            }</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keywordtype">int</span> dif_steering = 0;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;STEERABLE&quot;</span> ) ) {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        std::set&lt;int&gt; axles;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keywordtype">int</span> p : <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a26f77298a01a76e95ed34888793700a4">steering</a> ) {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp;vp = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( p );</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;            <span class="keywordflow">if</span>( !vp.<a class="code" href="structvehicle__part.html#a002a1023cd1a96d43556a1b912ebd27b">info</a>().<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;TRACKED&quot;</span> ) ) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                <span class="comment">// tracked parts don&#39;t contribute to axle complexity</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                axles.insert( vp.<a class="code" href="structvehicle__part.html#ac6e2dfa7178b8bed91baea3543961a86">mount</a>.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> );</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160; </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keywordflow">if</span>( !axles.empty() &amp;&amp; axles.count( -<a class="code" href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">dd</a>.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> ) == 0 ) {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            <span class="comment">// Installing more than one steerable axle is hard</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            <span class="comment">// (but adding a wheel to an existing axle isn&#39;t)</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            dif_steering = axles.size() + 5;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        }</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160; </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keyword">const</span> <a class="code" href="structrequirement__data.html">requirement_data</a> reqs = <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#aace91a24e6194a874cb468bb237368ea">install_requirements</a>();</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    std::string nmsg;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = <a class="code" href="classveh__interact.html#ab66721e4f0b0bc585aa64a578e94155b">format_reqs</a>( nmsg, reqs, <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#a9349b8416f91bb3029e9a8c9991d0a4a">install_skills</a>,</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                           <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#a26d45b54a7e13b4dcde1ae937bbdb604">install_time</a>( player_character ) );</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    nmsg += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_white&gt;Additional requirements:&lt;/color&gt;\n&quot;</span> );</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordtype">bool</span> allow_more_eng = engines &lt; 2 || player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="veh__interact_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> );</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; </div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">if</span>( dif_eng &gt; 0 ) {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="keywordflow">if</span>( !allow_more_eng || player_character.<a class="code" href="classCharacter.html#a4226b37a0e4383461e0fd072586a394a">get_knowledge_level</a>( <a class="code" href="veh__interact_8cpp.html#a53a27ba882bb24158d8752e53158bf46">skill_mechanics</a> ) &lt; dif_eng ) {</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        }</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <span class="keywordflow">if</span>( allow_more_eng ) {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            <span class="comment">//~ %1$s represents the internal color name which shouldn&#39;t be translated, %2$s is skill name, and %3$i is skill level</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            nmsg += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&gt; %1$s%2$s %3$i&lt;/color&gt; for extra engines.&quot;</span> ),</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                                   <a class="code" href="veh__interact_8cpp.html#a97001580d6d2cebd945222ba6fe1a56d">status_color</a>( player_character.<a class="code" href="classCharacter.html#a4226b37a0e4383461e0fd072586a394a">get_knowledge_level</a>( <a class="code" href="veh__interact_8cpp.html#a53a27ba882bb24158d8752e53158bf46">skill_mechanics</a> ) &gt;= dif_eng ),</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                                   <a class="code" href="veh__interact_8cpp.html#a53a27ba882bb24158d8752e53158bf46">skill_mechanics</a>.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="classSkill.html#a11c69074ce9b251983f170510808bd85">name</a>(), dif_eng ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            nmsg += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&gt; &lt;color_red&gt;You cannot install any more engines on this vehicle.&lt;/color&gt;&quot;</span> ) +</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                    std::string( <span class="stringliteral">&quot;\n&quot;</span> );</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">if</span>( dif_steering &gt; 0 ) {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#a4226b37a0e4383461e0fd072586a394a">get_knowledge_level</a>( <a class="code" href="veh__interact_8cpp.html#a53a27ba882bb24158d8752e53158bf46">skill_mechanics</a> ) &lt; dif_steering ) {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        }</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <span class="comment">//~ %1$s represents the internal color name which shouldn&#39;t be translated, %2$s is skill name, and %3$i is skill level</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        nmsg += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&gt; %1$s%2$s %3$i&lt;/color&gt; for extra steering axles.&quot;</span> ),</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                               <a class="code" href="veh__interact_8cpp.html#a97001580d6d2cebd945222ba6fe1a56d">status_color</a>( player_character.<a class="code" href="classCharacter.html#a4226b37a0e4383461e0fd072586a394a">get_knowledge_level</a>( <a class="code" href="veh__interact_8cpp.html#a53a27ba882bb24158d8752e53158bf46">skill_mechanics</a> ) &gt;= dif_steering ),</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                               <a class="code" href="veh__interact_8cpp.html#a53a27ba882bb24158d8752e53158bf46">skill_mechanics</a>.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="classSkill.html#a11c69074ce9b251983f170510808bd85">name</a>(), dif_steering ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    std::pair&lt;bool, std::string&gt; res = <a class="code" href="classveh__interact.html#aefc4c42ac9773cc065fb7d3999d81b85">calc_lift_requirements</a>( *<a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a> );</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keywordflow">if</span>( !res.first ) {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = res.first;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    }</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    nmsg += res.second;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160; </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keyword">const</span> <a class="code" href="classret__val_3_01void_01_4.html">ret_val&lt;void&gt;</a> <a class="code" href="classveh__interact.html#a946c417657ac527bc9e02c6553ae6234">can_mount</a> = <a class="code" href="classveh__interact.html#ac53076ecd6582a1cf61b08d0a7d7ab49">veh</a>-&gt;<a class="code" href="classvehicle.html#a1369f357d2165aae36bb485ca703029a">can_mount</a>( -<a class="code" href="classveh__interact.html#a1ec707f9ae68882e9688e57155468600">dd</a>, *<a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a> );</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classveh__interact.html#a946c417657ac527bc9e02c6553ae6234">can_mount</a>.success() ) {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        nmsg += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_white&gt;Cannot install due to:&lt;/color&gt;\n&gt; &quot;</span> ) +</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="classveh__interact.html#a946c417657ac527bc9e02c6553ae6234">can_mount</a>.str(), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <a class="code" href="classveh__interact.html#a98660a90d6974c5368c6c0384b40f81d">sel_vpart_info</a>-&gt;<a class="code" href="classvpart__info.html#aedacbd352267de4aef1ca01183956df8">format_description</a>( nmsg, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classveh__interact.html#a8fbae1471a0f80d1618c704a880d133b">w_msg</a> ) - 4 );</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="classveh__interact.html#a56de25bfcc79d0844d77b672d3d6c2b1">msg</a> = <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( nmsg, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> );</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> || player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="veh__interact_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> );</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;}</div>
<div class="ttc" id="aclassSkill_html_a11c69074ce9b251983f170510808bd85"><div class="ttname"><a href="classSkill.html#a11c69074ce9b251983f170510808bd85">Skill::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00071">skill.h:71</a></div></div>
<div class="ttc" id="aclassvehicle_html_a1369f357d2165aae36bb485ca703029a"><div class="ttname"><a href="classvehicle.html#a1369f357d2165aae36bb485ca703029a">vehicle::can_mount</a></div><div class="ttdeci">ret_val&lt; void &gt; can_mount(const point &amp;dp, const vpart_info &amp;vpi) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l01181">vehicle.cpp:1181</a></div></div>
<div class="ttc" id="aclassvehicle_html_a26f77298a01a76e95ed34888793700a4"><div class="ttname"><a href="classvehicle.html#a26f77298a01a76e95ed34888793700a4">vehicle::steering</a></div><div class="ttdeci">std::vector&lt; int &gt; steering</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02186">vehicle.h:2186</a></div></div>
<div class="ttc" id="aclassvehicle_html_a8c70b0ddf9e6db183fe6036a33797947"><div class="ttname"><a href="classvehicle.html#a8c70b0ddf9e6db183fe6036a33797947">vehicle::has_engine_conflict</a></div><div class="ttdeci">std::optional&lt; std::string &gt; has_engine_conflict(const vpart_info &amp;possible_conflict) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l00978">vehicle.cpp:978</a></div></div>
<div class="ttc" id="aveh__interact_8cpp_html_a53a27ba882bb24158d8752e53158bf46"><div class="ttname"><a href="veh__interact_8cpp.html#a53a27ba882bb24158d8752e53158bf46">skill_mechanics</a></div><div class="ttdeci">static const skill_id skill_mechanics(&quot;mechanics&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="veh__interact_8cpp_source.html#l02096">calc_lift_requirements()</a>, <a class="el" href="veh__interact_8h_source.html#l00266">can_mount</a>, <a class="el" href="vehicle_8cpp_source.html#l01181">vehicle::can_mount()</a>, <a class="el" href="color_8cpp_source.html#l00742">colorize()</a>, <a class="el" href="veh__interact_8h_source.html#l00066">dd</a>, <a class="el" href="veh__type_8cpp_source.html#l00977">vpart_info::format_description()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00349">format_reqs()</a>, <a class="el" href="vehicle_8cpp_source.html#l03007">vehicle::get_avail_parts()</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="character_8cpp_source.html#l03441">Character::get_knowledge_level()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="vehicle_8cpp_source.html#l00978">vehicle::has_engine_conflict()</a>, <a class="el" href="veh__type_8h_source.html#l00256">vpart_info::has_flag()</a>, <a class="el" href="vehicle_8cpp_source.html#l02827">vehicle::has_part()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00623">vehicle_part::info()</a>, <a class="el" href="veh__type_8cpp_source.html#l01072">vpart_info::install_requirements()</a>, <a class="el" href="veh__type_8h_source.html#l00349">vpart_info::install_skills</a>, <a class="el" href="veh__type_8cpp_source.html#l01111">vpart_info::install_time()</a>, <a class="el" href="vehicle_8h_source.html#l00447">vehicle_part::mount</a>, <a class="el" href="veh__interact_8h_source.html#l00110">msg</a>, <a class="el" href="skill_8h_source.html#l00071">Skill::name()</a>, <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>, <a class="el" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a>, <a class="el" href="vehicle_8cpp_source.html#l08098">vehicle::part()</a>, <a class="el" href="veh__interact_8h_source.html#l00278">parts_here</a>, <a class="el" href="veh__interact_8h_source.html#l00082">sel_vpart_info</a>, <a class="el" href="veh__interact_8cpp.html#a53a27ba882bb24158d8752e53158bf46">skill_mechanics</a>, <a class="el" href="veh__interact_8cpp_source.html#l00102">status_color()</a>, <a class="el" href="vehicle_8h_source.html#l02186">vehicle::steering</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="veh__interact_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a>, <a class="el" href="veh__interact_8h_source.html#l00124">veh</a>, <a class="el" href="veh__interact_8h_source.html#l00096">w_msg</a>, and <a class="el" href="point_8h_source.html#l00023">point::x</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00957">do_install()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a946c417657ac527bc9e02c6553ae6234"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a946c417657ac527bc9e02c6553ae6234">&#9670;&nbsp;</a></span>can_mount</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;const <a class="el" href="classvpart__info.html">vpart_info</a> *&gt; veh_interact::can_mount</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00266">266</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00631">cant_do()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00957">do_install()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02220">move_cursor()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00780">update_part_requirements()</a>.</p>

</div>
</div>
<a id="a354e576739b8ec01d1327e31b17ca64c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a354e576739b8ec01d1327e31b17ca64c">&#9670;&nbsp;</a></span>cpart</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int veh_interact::cpart = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00087">87</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00631">cant_do()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02338">display_veh()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02077">do_relabel()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02220">move_cursor()</a>.</p>

</div>
</div>
<a id="a9bd0a67379700415011dd6d0a3097126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bd0a67379700415011dd6d0a3097126">&#9670;&nbsp;</a></span>crafting_inv</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classinventory.html">inventory</a>* veh_interact::crafting_inv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00125">125</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00595">cache_tool_availability()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02195">can_potentially_install()</a>.</p>

</div>
</div>
<a id="a1ec707f9ae68882e9688e57155468600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ec707f9ae68882e9688e57155468600">&#9670;&nbsp;</a></span>dd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpoint.html">point</a> veh_interact::dd = <a class="el" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00066">66</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02338">display_veh()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02220">move_cursor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01619">overview()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02184">part_at()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00130">serialize_activity()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00780">update_part_requirements()</a>.</p>

</div>
</div>
<a id="acac641f10cc29387f67c2ebd512b8c29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acac641f10cc29387f67c2ebd512b8c29">&#9670;&nbsp;</a></span>disp_w</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int veh_interact::disp_w = 26</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00092">92</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00300">allocate_windows()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02465">display_stats()</a>.</p>

</div>
</div>
<a id="a2bbd873cd45cfcb2213352f933edef2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bbd873cd45cfcb2213352f933edef2e">&#9670;&nbsp;</a></span>fuel_index</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int veh_interact::fuel_index = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00076">76</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02465">display_stats()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00915">move_fuel_cursor()</a>.</p>

</div>
</div>
<a id="a74a0478ce397fde8ce2667075c631c81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74a0478ce397fde8ce2667075c631c81">&#9670;&nbsp;</a></span>highlight_part</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int veh_interact::highlight_part = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00114">114</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01987">do_change_shape()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01796">do_remove()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>.</p>

</div>
</div>
<a id="a3b647086ed7b509540392fc1414092c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b647086ed7b509540392fc1414092c5">&#9670;&nbsp;</a></span>install_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="structveh__interact_1_1install__info__t.html">install_info_t</a>&gt; veh_interact::install_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00118">118</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02781">display_list()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02465">display_stats()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00957">do_install()</a>.</p>

</div>
</div>
<a id="a7346a429253cd995e687fd337a238f69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7346a429253cd995e687fd337a238f69">&#9670;&nbsp;</a></span>main_context</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinput__context.html">input_context</a> veh_interact::main_context</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00126">126</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01337">calc_overview()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02709">display_mode()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01987">do_change_shape()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00957">do_install()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01796">do_remove()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01619">overview()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00261">veh_interact()</a>.</p>

</div>
</div>
<a id="aadbbe0782d6a2ca1d38211d14c051ffb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadbbe0782d6a2ca1d38211d14c051ffb">&#9670;&nbsp;</a></span>max_jack</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> veh_interact::max_jack</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00131">131</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00595">cache_tool_availability()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02096">calc_lift_requirements()</a>.</p>

</div>
</div>
<a id="afb71b2c5af4561741015d02ff6085927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb71b2c5af4561741015d02ff6085927">&#9670;&nbsp;</a></span>max_lift</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> veh_interact::max_lift</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00129">129</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00612">cache_tool_availability_update_lifting()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02096">calc_lift_requirements()</a>.</p>

</div>
</div>
<a id="a56de25bfcc79d0844d77b672d3d6c2b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56de25bfcc79d0844d77b672d3d6c2b1">&#9670;&nbsp;</a></span>msg</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt;std::string&gt; veh_interact::msg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00110">110</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01337">calc_overview()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01734">can_remove_part()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02023">do_assign_crew()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01987">do_change_shape()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00957">do_install()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01250">do_mend()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01290">do_refill()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02077">do_relabel()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01796">do_remove()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01886">do_siphon()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01930">do_unload()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00349">format_reqs()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01619">overview()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00780">update_part_requirements()</a>.</p>

</div>
</div>
<a id="a5b02b8684bf980c01fa581d7f10d837d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b02b8684bf980c01fa581d7f10d837d">&#9670;&nbsp;</a></span>need_repair</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; veh_interact::need_repair</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00273">273</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00631">cant_do()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02220">move_cursor()</a>.</p>

</div>
</div>
<a id="a23784de3a9b78d9e9d3238595e50c6c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23784de3a9b78d9e9d3238595e50c6c8">&#9670;&nbsp;</a></span>overview_action</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classveh__interact.html#ab31ab8da689e61c59879570e904ea564">overview_action_t</a> veh_interact::overview_action</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00228">228</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01337">calc_overview()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01567">display_overview()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l01619">overview()</a>.</p>

</div>
</div>
<a id="ac1930d9fe311bf79742cf84d387bdf71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1930d9fe311bf79742cf84d387bdf71">&#9670;&nbsp;</a></span>overview_enable</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classveh__interact.html#a95dd253e3bc5d71a879834aa7a8d8349">overview_enable_t</a> veh_interact::overview_enable</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00227">227</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01337">calc_overview()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01567">display_overview()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01987">do_change_shape()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01796">do_remove()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l01619">overview()</a>.</p>

</div>
</div>
<a id="aae06489e9a8eaf9a95bc8a98130040d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae06489e9a8eaf9a95bc8a98130040d5">&#9670;&nbsp;</a></span>overview_headers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, std::function&lt;void( const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;, int )&gt; &gt; veh_interact::overview_headers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00224">224</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01337">calc_overview()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l01567">display_overview()</a>.</p>

</div>
</div>
<a id="a7c90be80882a99ab49e2e989f2da9fbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c90be80882a99ab49e2e989f2da9fbe">&#9670;&nbsp;</a></span>overview_limit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int veh_interact::overview_limit = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00072">72</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01567">display_overview()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l01705">move_overview_line()</a>.</p>

</div>
</div>
<a id="aca3ccd6cf1a45f04067d112452fdf1ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca3ccd6cf1a45f04067d112452fdf1ea">&#9670;&nbsp;</a></span>overview_offset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int veh_interact::overview_offset = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00071">71</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01567">display_overview()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l01705">move_overview_line()</a>.</p>

</div>
</div>
<a id="a277a829c8f97e47af764dfbcfeb5b4e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a277a829c8f97e47af764dfbcfeb5b4e4">&#9670;&nbsp;</a></span>overview_opts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structveh__interact_1_1part__option.html">part_option</a>&gt; veh_interact::overview_opts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00223">223</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01337">calc_overview()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01567">display_overview()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l01619">overview()</a>.</p>

</div>
</div>
<a id="a4b3e0851670ba7da185a35805e30ab83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b3e0851670ba7da185a35805e30ab83">&#9670;&nbsp;</a></span>overview_pos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int veh_interact::overview_pos = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00229">229</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01567">display_overview()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l01619">overview()</a>.</p>

</div>
</div>
<a id="ace346bf535ccfaddc200fb8f7e2447a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace346bf535ccfaddc200fb8f7e2447a7">&#9670;&nbsp;</a></span>page_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int veh_interact::page_size = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00088">88</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00300">allocate_windows()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02285">display_grid()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02781">display_list()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l01086">move_in_list()</a>.</p>

</div>
</div>
<a id="a5a7c2fb26f0100192740e6e8a9bf6a2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a7c2fb26f0100192740e6e8a9bf6a2b">&#9670;&nbsp;</a></span>pane_w</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int veh_interact::pane_w = 25</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00093">93</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00300">allocate_windows()</a>.</p>

</div>
</div>
<a id="a237e08c882285f5afe00e543de6ba918"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a237e08c882285f5afe00e543de6ba918">&#9670;&nbsp;</a></span>parts_here</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; veh_interact::parts_here</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00278">278</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00631">cant_do()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01987">do_change_shape()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01796">do_remove()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02220">move_cursor()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00780">update_part_requirements()</a>.</p>

</div>
</div>
<a id="ab6c6ef56a5edb1ec8ebaa4a9768cf194"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6c6ef56a5edb1ec8ebaa4a9768cf194">&#9670;&nbsp;</a></span>refill_target</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem__location.html">item_location</a> veh_interact::refill_target</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00079">79</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01290">do_refill()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00130">serialize_activity()</a>.</p>

</div>
</div>
<a id="af22b1f91bd0b407255981a14a8978367"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af22b1f91bd0b407255981a14a8978367">&#9670;&nbsp;</a></span>remove_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="structveh__interact_1_1remove__info__t.html">remove_info_t</a>&gt; veh_interact::remove_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00122">122</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02465">display_stats()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l01796">do_remove()</a>.</p>

</div>
</div>
<a id="a8171487d174b74e188e38980e2005a74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8171487d174b74e188e38980e2005a74">&#9670;&nbsp;</a></span>sel_cmd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char veh_interact::sel_cmd = ' '</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00085">85</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00957">do_install()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01250">do_mend()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01290">do_refill()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01796">do_remove()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00130">serialize_activity()</a>.</p>

</div>
</div>
<a id="ab8d1717957cc0fe8d50c402e9e625796"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8d1717957cc0fe8d50c402e9e625796">&#9670;&nbsp;</a></span>sel_vehicle_part</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structvehicle__part.html">vehicle_part</a>* veh_interact::sel_vehicle_part = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00081">81</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01734">can_remove_part()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01290">do_refill()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00130">serialize_activity()</a>.</p>

</div>
</div>
<a id="a98660a90d6974c5368c6c0384b40f81d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98660a90d6974c5368c6c0384b40f81d">&#9670;&nbsp;</a></span>sel_vpart_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classvpart__info.html">vpart_info</a>* veh_interact::sel_vpart_info = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00082">82</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02096">calc_lift_requirements()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01734">can_remove_part()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00957">do_install()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01290">do_refill()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00130">serialize_activity()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00780">update_part_requirements()</a>.</p>

</div>
</div>
<a id="a270a6a09e9de42e209aeda0048783cfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a270a6a09e9de42e209aeda0048783cfe">&#9670;&nbsp;</a></span>start_at</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int veh_interact::start_at = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00068">68</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02220">move_cursor()</a>.</p>

</div>
</div>
<a id="a6ed6231f344816729371a0e24890bb73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ed6231f344816729371a0e24890bb73">&#9670;&nbsp;</a></span>start_limit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int veh_interact::start_limit = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00069">69</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02220">move_cursor()</a>.</p>

</div>
</div>
<a id="abaa0dd858996de1ec7a8921104e61f84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaa0dd858996de1ec7a8921104e61f84">&#9670;&nbsp;</a></span>stats_h</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int veh_interact::stats_h = 8</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00090">90</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00300">allocate_windows()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02465">display_stats()</a>.</p>

</div>
</div>
<a id="a5e840d3c49e8337195811b23db13d508"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e840d3c49e8337195811b23db13d508">&#9670;&nbsp;</a></span>terrain_here</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structter__t.html">ter_t</a> veh_interact::terrain_here</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00282">282</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02096">calc_lift_requirements()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02220">move_cursor()</a>.</p>

</div>
</div>
<a id="a0806529417fd75516442a4823bb0c680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0806529417fd75516442a4823bb0c680">&#9670;&nbsp;</a></span>title</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt;std::string&gt; veh_interact::title</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00109">109</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02709">display_mode()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02023">do_assign_crew()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01987">do_change_shape()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00957">do_install()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01250">do_mend()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01290">do_refill()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01796">do_remove()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01886">do_siphon()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00232">select_part()</a>.</p>

</div>
</div>
<a id="aa67ce404023ff4d483e245ff6ebc6885"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa67ce404023ff4d483e245ff6ebc6885">&#9670;&nbsp;</a></span>total_durability_color</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnc__color.html">nc_color</a> veh_interact::total_durability_color</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00247">247</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02962">count_durability()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02465">display_stats()</a>.</p>

</div>
</div>
<a id="a94cea8131bdc9142ce448c9e340734ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94cea8131bdc9142ce448c9e340734ad">&#9670;&nbsp;</a></span>total_durability_text</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string veh_interact::total_durability_text</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00248">248</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02962">count_durability()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02465">display_stats()</a>.</p>

</div>
</div>
<a id="aff18b392b1216d867baa91a7945a4446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff18b392b1216d867baa91a7945a4446">&#9670;&nbsp;</a></span>ui</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory__fast_8h.html#ab8afe5baa726add2054cce385cad8855">weak_ptr_fast</a>&lt;<a class="el" href="classui__adaptor.html">ui_adaptor</a>&gt; veh_interact::ui</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00107">107</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

</div>
</div>
<a id="a8d30c9db141fd24b43ab54dead1f1e22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d30c9db141fd24b43ab54dead1f1e22">&#9670;&nbsp;</a></span>ui_hidden</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool veh_interact::ui_hidden = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00112">112</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00477">hide_ui()</a>.</p>

</div>
</div>
<a id="ac53076ecd6582a1cf61b08d0a7d7ab49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac53076ecd6582a1cf61b08d0a7d7ab49">&#9670;&nbsp;</a></span>veh</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvehicle.html">vehicle</a>* veh_interact::veh</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00124">124</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00595">cache_tool_availability()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02096">calc_lift_requirements()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01337">calc_overview()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02195">can_potentially_install()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01734">can_remove_part()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00768">can_self_jack()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00631">cant_do()</a>, <a class="el" href="veh__interact_8cpp_source.html#l03087">complete_vehicle()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02962">count_durability()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02674">display_name()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02465">display_stats()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02338">display_veh()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02023">do_assign_crew()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01987">do_change_shape()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00957">do_install()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01250">do_mend()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02077">do_relabel()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01796">do_remove()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02061">do_rename()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01886">do_siphon()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01930">do_unload()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01712">get_most_damaged_part()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01729">get_most_repairable_part()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02220">move_cursor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00915">move_fuel_cursor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02184">part_at()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00225">run()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00232">select_part()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00130">serialize_activity()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00780">update_part_requirements()</a>.</p>

</div>
</div>
<a id="a93520a1801e07c7083603be674cf258a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93520a1801e07c7083603be674cf258a">&#9670;&nbsp;</a></span>w_border</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> veh_interact::w_border</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00094">94</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00300">allocate_windows()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02285">display_grid()</a>.</p>

</div>
</div>
<a id="aa541d9c4e4ef8d4c4e6cdf6b182c336e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa541d9c4e4ef8d4c4e6cdf6b182c336e">&#9670;&nbsp;</a></span>w_details</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> veh_interact::w_details</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00104">104</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00300">allocate_windows()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02818">display_details()</a>.</p>

</div>
</div>
<a id="a67f78a658170755c89d5a686e932e3e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67f78a658170755c89d5a686e932e3e5">&#9670;&nbsp;</a></span>w_disp</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> veh_interact::w_disp</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00097">97</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00300">allocate_windows()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02285">display_grid()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02338">display_veh()</a>.</p>

</div>
</div>
<a id="a07420a654a890593b5aabe0789849945"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07420a654a890593b5aabe0789849945">&#9670;&nbsp;</a></span>w_list</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> veh_interact::w_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00103">103</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00300">allocate_windows()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02285">display_grid()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02781">display_list()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l01567">display_overview()</a>.</p>

</div>
</div>
<a id="af4f033acb4b193f4dc6ee88e09746c04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4f033acb4b193f4dc6ee88e09746c04">&#9670;&nbsp;</a></span>w_mode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> veh_interact::w_mode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00095">95</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00300">allocate_windows()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02285">display_grid()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02709">display_mode()</a>.</p>

</div>
</div>
<a id="a8fbae1471a0f80d1618c704a880d133b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fbae1471a0f80d1618c704a880d133b">&#9670;&nbsp;</a></span>w_msg</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> veh_interact::w_msg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00096">96</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00300">allocate_windows()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02096">calc_lift_requirements()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01734">can_remove_part()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01110">do_repair()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00349">format_reqs()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00780">update_part_requirements()</a>.</p>

</div>
</div>
<a id="a1268db6f312a6823b039175b19562801"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1268db6f312a6823b039175b19562801">&#9670;&nbsp;</a></span>w_msg_scroll_offset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int veh_interact::w_msg_scroll_offset = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00074">74</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00957">do_install()</a>.</p>

</div>
</div>
<a id="a34aa384e0dde32705549a0e208567b19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34aa384e0dde32705549a0e208567b19">&#9670;&nbsp;</a></span>w_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> veh_interact::w_name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00105">105</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00300">allocate_windows()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02674">display_name()</a>.</p>

</div>
</div>
<a id="a0b4868e02f25d3cc10097be1de62ae4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b4868e02f25d3cc10097be1de62ae4a">&#9670;&nbsp;</a></span>w_parts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> veh_interact::w_parts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00098">98</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00300">allocate_windows()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00399">create_or_get_ui_adaptor()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00485">do_main_loop()</a>.</p>

</div>
</div>
<a id="a723c7799b5cb355e6ed2e97018076f2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a723c7799b5cb355e6ed2e97018076f2b">&#9670;&nbsp;</a></span>w_stats</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> veh_interact::w_stats</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00099">99</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

</div>
</div>
<a id="ae5027af776658270efa83b421541ebab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5027af776658270efa83b421541ebab">&#9670;&nbsp;</a></span>w_stats_1</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> veh_interact::w_stats_1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00100">100</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00300">allocate_windows()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02465">display_stats()</a>.</p>

</div>
</div>
<a id="abaa8073f96207ea55f0979599f61280a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaa8073f96207ea55f0979599f61280a">&#9670;&nbsp;</a></span>w_stats_2</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> veh_interact::w_stats_2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00101">101</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00300">allocate_windows()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02465">display_stats()</a>.</p>

</div>
</div>
<a id="a93651c54d57b6fd6cae5b560785d8758"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93651c54d57b6fd6cae5b560785d8758">&#9670;&nbsp;</a></span>w_stats_3</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> veh_interact::w_stats_3</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="veh__interact_8h_source.html#l00102">102</a> of file <a class="el" href="veh__interact_8h_source.html">veh_interact.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00300">allocate_windows()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l02465">display_stats()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="veh__interact_8h_source.html">veh_interact.h</a></li>
<li>src/<a class="el" href="veh__interact_8cpp_source.html">veh_interact.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:45 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
