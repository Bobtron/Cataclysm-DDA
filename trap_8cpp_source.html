<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: src/trap.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">trap.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="trap_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="trap_8h.html">trap.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="assign_8h.html">assign.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="character_8h.html">character.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="creature_8h.html">creature.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="debug_8h.html">debug.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="event_8h.html">event.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="event__bus_8h.html">event_bus.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="generic__factory_8h.html">generic_factory.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="item_8h.html">item.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="json_8h.html">json.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="line_8h.html">line.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="map_8h.html">map.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="map__iterator_8h.html">map_iterator.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="messages_8h.html">messages.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="point_8h.html">point.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rng_8h.html">rng.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string__formatter_8h.html">string_formatter.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a7a5cc6e3b52cc05c75c8bb8158298d93">   25</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">flag_id</a> <a class="code" href="trap_8cpp.html#a7a5cc6e3b52cc05c75c8bb8158298d93">json_flag_ECHOLOCATION_DETECTABLE</a>( <span class="stringliteral">&quot;ECHOLOCATION_DETECTABLE&quot;</span> );</div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="trap_8cpp.html#af6237465e07f168afbdf3f2eeafe7e15">   26</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">flag_id</a> <a class="code" href="trap_8cpp.html#af6237465e07f168afbdf3f2eeafe7e15">json_flag_SONAR_DETECTABLE</a>( <span class="stringliteral">&quot;SONAR_DETECTABLE&quot;</span> );</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="trap_8cpp.html#ab26bd7eb4aa388fe47209f9014a68f62">   28</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">proficiency_id</a> <a class="code" href="trap_8cpp.html#ab26bd7eb4aa388fe47209f9014a68f62">proficiency_prof_spotting</a>( <span class="stringliteral">&quot;prof_spotting&quot;</span> );</div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="trap_8cpp.html#ad31a1a0c6c31e108afecb4d49bdc03bd">   29</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">proficiency_id</a> <a class="code" href="trap_8cpp.html#ad31a1a0c6c31e108afecb4d49bdc03bd">proficiency_prof_traps</a>( <span class="stringliteral">&quot;prof_traps&quot;</span> );</div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a2771ba40119675f04bcbf7651be1aed6">   30</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">proficiency_id</a> <a class="code" href="trap_8cpp.html#a2771ba40119675f04bcbf7651be1aed6">proficiency_prof_trapsetting</a>( <span class="stringliteral">&quot;prof_trapsetting&quot;</span> );</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a9353c39452c59a433c7c4c301386e91f">   32</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">skill_id</a> <a class="code" href="trap_8cpp.html#a9353c39452c59a433c7c4c301386e91f">skill_traps</a>( <span class="stringliteral">&quot;traps&quot;</span> );</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a5f970bbbe71eb4a2147e47f9e4ee7a58">   34</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#a5f970bbbe71eb4a2147e47f9e4ee7a58">tr_beartrap_buried</a>( <span class="stringliteral">&quot;tr_beartrap_buried&quot;</span> );</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a37199e8cd3670959e46b4d08cd6f44bf">   35</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#a37199e8cd3670959e46b4d08cd6f44bf">tr_blade</a>( <span class="stringliteral">&quot;tr_blade&quot;</span> );</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="trap_8cpp.html#ade9143cb2cd0d2653e8374ab8b6ac955">   36</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#ade9143cb2cd0d2653e8374ab8b6ac955">tr_dissector</a>( <span class="stringliteral">&quot;tr_dissector&quot;</span> );</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="trap_8cpp.html#ac4e0181eda084ded32a1b073923f0b45">   37</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#ac4e0181eda084ded32a1b073923f0b45">tr_drain</a>( <span class="stringliteral">&quot;tr_drain&quot;</span> );</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a674fb569b18a4bd66bc0c484be0ed9b4">   38</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#a674fb569b18a4bd66bc0c484be0ed9b4">tr_glow</a>( <span class="stringliteral">&quot;tr_glow&quot;</span> );</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="trap_8cpp.html#af7be0fdf59a1f94184f49073494ded76">   39</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#af7be0fdf59a1f94184f49073494ded76">tr_goo</a>( <span class="stringliteral">&quot;tr_goo&quot;</span> );</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="trap_8cpp.html#adca830a812eead5a36689d9aee480ac5">   40</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#adca830a812eead5a36689d9aee480ac5">tr_hum</a>( <span class="stringliteral">&quot;tr_hum&quot;</span> );</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a2b92e4e9fda9f562177702a5d391f4a9">   41</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#a2b92e4e9fda9f562177702a5d391f4a9">tr_landmine</a>( <span class="stringliteral">&quot;tr_landmine&quot;</span> );</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="trap_8cpp.html#ab8f83226111c98b8d5629a29ca77c4a7">   42</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#ab8f83226111c98b8d5629a29ca77c4a7">tr_landmine_buried</a>( <span class="stringliteral">&quot;tr_landmine_buried&quot;</span> );</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="trap_8cpp.html#acbbf3671ba7e85ac827fddb096611a77">   43</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#acbbf3671ba7e85ac827fddb096611a77">tr_lava</a>( <span class="stringliteral">&quot;tr_lava&quot;</span> );</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a9d7e5dc72cb6e99095b4cb3d0d26ecd4">   44</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#a9d7e5dc72cb6e99095b4cb3d0d26ecd4">tr_ledge</a>( <span class="stringliteral">&quot;tr_ledge&quot;</span> );</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a20dbc35e55f446d1bbca1eda241e2c2d">   45</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#a20dbc35e55f446d1bbca1eda241e2c2d">tr_pit</a>( <span class="stringliteral">&quot;tr_pit&quot;</span> );</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a6ae504247f90efd7f9bfcd7b2bad7ae6">   46</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#a6ae504247f90efd7f9bfcd7b2bad7ae6">tr_portal</a>( <span class="stringliteral">&quot;tr_portal&quot;</span> );</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="trap_8cpp.html#afb7256c72157b065b8b8aa10bf426074">   47</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#afb7256c72157b065b8b8aa10bf426074">tr_shadow</a>( <span class="stringliteral">&quot;tr_shadow&quot;</span> );</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="trap_8cpp.html#af6f884678af8ae4523b9e4ba6ecc77dd">   48</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#af6f884678af8ae4523b9e4ba6ecc77dd">tr_shotgun_1</a>( <span class="stringliteral">&quot;tr_shotgun_1&quot;</span> );</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a8dfa2eedc13f1510185489b7c3f9be64">   49</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#a8dfa2eedc13f1510185489b7c3f9be64">tr_shotgun_2</a>( <span class="stringliteral">&quot;tr_shotgun_2&quot;</span> );</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="trap_8cpp.html#ab4f7bfd1861799c55e2d7fbf2717c962">   50</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#ab4f7bfd1861799c55e2d7fbf2717c962">tr_sinkhole</a>( <span class="stringliteral">&quot;tr_sinkhole&quot;</span> );</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="trap_8cpp.html#af406dedb2e646d2f18e5d5b5b3fa5a84">   51</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#af406dedb2e646d2f18e5d5b5b3fa5a84">tr_snake</a>( <span class="stringliteral">&quot;tr_snake&quot;</span> );</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a46c5d5849ba6e179da01f4cf38fd5b17">   52</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#a46c5d5849ba6e179da01f4cf38fd5b17">tr_telepad</a>( <span class="stringliteral">&quot;tr_telepad&quot;</span> );</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a1ca356185f3fffe42ba56314c9d5d1e6">   53</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#a1ca356185f3fffe42ba56314c9d5d1e6">tr_temple_flood</a>( <span class="stringliteral">&quot;tr_temple_flood&quot;</span> );</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a99a6ecb0698fd38b452c8e9833af5947">   54</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> <a class="code" href="trap_8cpp.html#a99a6ecb0698fd38b452c8e9833af5947">tr_temple_toggle</a>( <span class="stringliteral">&quot;tr_temple_toggle&quot;</span> );</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a660bc589cacd3134b4d73557f1631f01">   56</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">update_mapgen_id</a> <a class="code" href="trap_8cpp.html#a660bc589cacd3134b4d73557f1631f01">update_mapgen_none</a>( <span class="stringliteral">&quot;none&quot;</span> );</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="namespaceanonymous__namespace_02trap_8cpp_03.html">   58</a></span>&#160;<span class="keyword">namespace</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="namespaceanonymous__namespace_02trap_8cpp_03.html#a1c896103efb8cfa33089e20350d7e2e7">   61</a></span>&#160;<a class="code" href="classgeneric__factory.html">generic_factory&lt;trap&gt;</a> <a class="code" href="namespaceanonymous__namespace_02trap_8cpp_03.html#a1c896103efb8cfa33089e20350d7e2e7">trap_factory</a>( <span class="stringliteral">&quot;trap&quot;</span> );</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;} <span class="comment">// namespace</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">/** @relates string_id */</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="classstring__id.html#a82c7d03709757c4ba0795935d64e8a3d">   67</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classint__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">int_id&lt;trap&gt;::is_valid</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02trap_8cpp_03.html#a1c896103efb8cfa33089e20350d7e2e7">trap_factory</a>.is_valid( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">/** @relates int_id */</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keyword">const</span> <a class="code" href="structtrap.html">trap</a> &amp;<a class="code" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">int_id&lt;trap&gt;::obj</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02trap_8cpp_03.html#a1c896103efb8cfa33089e20350d7e2e7">trap_factory</a>.obj( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">/** @relates int_id */</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classint__id.html#a6be56473fb2bd3b5b5510a30a6aa9dfc">   81</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classstring__id.html">string_id&lt;trap&gt;</a> &amp;<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">int_id&lt;trap&gt;::id</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02trap_8cpp_03.html#a1c896103efb8cfa33089e20350d7e2e7">trap_factory</a>.convert( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">/** @relates string_id */</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="classstring__id.html#acfb8efa1c786eeb6d4bbfbfdd3cfc9b9">   88</a></span>&#160;<a class="code" href="classint__id.html">int_id&lt;trap&gt;</a> <a class="code" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">string_id&lt;trap&gt;::id</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02trap_8cpp_03.html#a1c896103efb8cfa33089e20350d7e2e7">trap_factory</a>.convert( *<span class="keyword">this</span>, <a class="code" href="trap_8cpp.html#a7b8e40eb2b50e3841e2d9f2d0531226a">tr_null</a> );</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">/** @relates string_id */</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="classstring__id.html#a00e76519b1d7e9e83e85b4512bd3c936">   95</a></span>&#160;<a class="code" href="classint__id.html#a01d4cc2e07baa11cbf9beed0279bd8b0">int_id&lt;trap&gt;::int_id</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">string_id&lt;trap&gt;</a> &amp;<span class="keywordtype">id</span> ) : _id( <a class="code" href="classint__id.html#a09d4f824b2540da7e682d10cdf324081">id</a>.<a class="code" href="classint__id.html#a09d4f824b2540da7e682d10cdf324081">id</a>() )</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">/** @relates string_id */</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classstring__id.html#a650106a9518a34b3121b0bf25bab46fc">  101</a></span>&#160;<span class="keyword">const</span> <a class="code" href="structtrap.html">trap</a> &amp;<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id&lt;trap&gt;::obj</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02trap_8cpp_03.html#a1c896103efb8cfa33089e20350d7e2e7">trap_factory</a>.obj( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">/** @relates int_id */</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classint__id.html#a82c7d03709757c4ba0795935d64e8a3d">  108</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id&lt;trap&gt;::is_valid</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02trap_8cpp_03.html#a1c896103efb8cfa33089e20350d7e2e7">trap_factory</a>.is_valid( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a8149ff482a37aa5d47ca76e6ad3f54b7">  113</a></span>&#160;<span class="keyword">static</span> std::vector&lt;const trap *&gt; <a class="code" href="trap_8cpp.html#a8149ff482a37aa5d47ca76e6ad3f54b7">funnel_traps</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="structtrap.html#afffbc9e94465251d8486a7a7ff31e76c">  115</a></span>&#160;<span class="keyword">const</span> std::vector&lt;const trap *&gt; &amp;<a class="code" href="structtrap.html#afffbc9e94465251d8486a7a7ff31e76c">trap::get_funnels</a>()</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="trap_8cpp.html#a8149ff482a37aa5d47ca76e6ad3f54b7">funnel_traps</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a84bb10a20abc66ee67b5c51d792c144e">  120</a></span>&#160;<span class="keyword">static</span> std::vector&lt;const trap *&gt; <a class="code" href="trap_8cpp.html#a84bb10a20abc66ee67b5c51d792c144e">sound_triggered_traps</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="structtrap.html#a744ba139645a50bc69eb33703a43e337">  122</a></span>&#160;<span class="keyword">const</span> std::vector&lt;const trap *&gt; &amp;<a class="code" href="structtrap.html#a744ba139645a50bc69eb33703a43e337">trap::get_sound_triggered_traps</a>()</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="trap_8cpp.html#a84bb10a20abc66ee67b5c51d792c144e">sound_triggered_traps</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="structtrap.html#a4d4f2d0ba3ca652e09d818843b7f49dd">  127</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="structtrap.html#a4d4f2d0ba3ca652e09d818843b7f49dd">trap::count</a>()</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02trap_8cpp_03.html#a1c896103efb8cfa33089e20350d7e2e7">trap_factory</a>.size();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="structtrap.html#a12144546805827604a11ba0959805943">  132</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structtrap.html#a12144546805827604a11ba0959805943">trap::load_trap</a>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02trap_8cpp_03.html#a1c896103efb8cfa33089e20350d7e2e7">trap_factory</a>.load( jo, <a class="code" href="structtrap.html#aa1358791b26c268a7b167421e458352e">src</a> );</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="structtrap.html#affe3a3019275e719bc9d4d49f49560ec">  137</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structtrap.html#affe3a3019275e719bc9d4d49f49560ec">trap::load</a>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string_view )</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ac5e3b9675d114c21ad3367d318f6aa95">mandatory</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;id&quot;</span>, <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ac5e3b9675d114c21ad3367d318f6aa95">mandatory</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;name&quot;</span>, <a class="code" href="structtrap.html#a02fbeb44ab900ad347efe01ed6c6ffa0">name_</a> );</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;color&quot;</span>, <a class="code" href="structtrap.html#a92373743ed980b356de173c228c79499">color</a> ) ) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        jo.<a class="code" href="classJsonObject.html#af3e3ae76afc340c1fa3510acaaba57b8">throw_error</a>( <span class="stringliteral">&quot;missing mandatory member \&quot;color\&quot;&quot;</span> );</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ac5e3b9675d114c21ad3367d318f6aa95">mandatory</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;symbol&quot;</span>, <a class="code" href="structtrap.html#a975d50578595efdc3b93fb32bab0e41b">sym</a>, <a class="code" href="generic__factory_8cpp.html#ad156991d6c86e2010c0a432ee7476331">one_char_symbol_reader</a> );</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ac5e3b9675d114c21ad3367d318f6aa95">mandatory</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;visibility&quot;</span>, <a class="code" href="structtrap.html#a0913f4b2535ae7fe8b5550b974b31a18">visibility</a> );</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ac5e3b9675d114c21ad3367d318f6aa95">mandatory</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;avoidance&quot;</span>, <a class="code" href="structtrap.html#a7dd8117e839b760a9ffa187d3670f4ed">avoidance</a> );</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ac5e3b9675d114c21ad3367d318f6aa95">mandatory</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;difficulty&quot;</span>, <a class="code" href="structtrap.html#abbf38effe374d03f39b3647a27e3c3a7">difficulty</a> );</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;memorial_male&quot;</span>, <a class="code" href="structtrap.html#a8aab01ac905f9a67b9615524fbdb372b">memorial_male</a> );</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;memorial_female&quot;</span>, <a class="code" href="structtrap.html#a8395d17975e4ff75551655927956120e">memorial_female</a> );</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;trigger_message_u&quot;</span>, <a class="code" href="structtrap.html#ae04866b832034fdc1af766e8af59a8ea">trigger_message_u</a> );</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;trigger_message_npc&quot;</span>, <a class="code" href="structtrap.html#a651463227d8f686d8b87a8fdc92b7db5">trigger_message_npc</a> );</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="comment">// Require either none, or both</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span>( !!<a class="code" href="structtrap.html#a8aab01ac905f9a67b9615524fbdb372b">memorial_male</a> != !!<a class="code" href="structtrap.html#a8395d17975e4ff75551655927956120e">memorial_female</a> ) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        jo.<a class="code" href="classJsonObject.html#a04b6ce7355b567646a587514fb811c68">throw_error_at</a>(</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keywordtype">id</span>.str(),</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="stringliteral">&quot;Only one gender of memorial message specified for trap &quot;</span> + <span class="keywordtype">id</span>.str() + <span class="stringliteral">&quot;, but none &quot;</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="stringliteral">&quot;or both required.&quot;</span> );</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;flags&quot;</span>, <a class="code" href="structtrap.html#a17431593aa1c217242800cb11ce59b18">_flags</a> );</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;trap_radius&quot;</span>, <a class="code" href="structtrap.html#a43fd5f8fec40e3bb6ca7e07fa7ae6b3f">trap_radius</a>, 0 );</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// TODO: Is there a generic_factory version of this?</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="structtrap.html#a5b38533ac3a1c9c1f6a6844d0ee04a91">act</a> = <a class="code" href="trap_8h.html#a98757e7db5617489d696813f18374dca">trap_function_from_string</a>( jo.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <span class="stringliteral">&quot;action&quot;</span> ) );</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;map_regen&quot;</span>, <a class="code" href="structtrap.html#a9dcaa7079f22ae4a94049e2c9ef74288">map_regen</a>, <a class="code" href="trap_8cpp.html#a660bc589cacd3134b4d73557f1631f01">update_mapgen_none</a> );</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;benign&quot;</span>, <a class="code" href="structtrap.html#a10039a239822fb13066d9e61c82f5bf5">benign</a>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;always_invisible&quot;</span>, <a class="code" href="structtrap.html#af528369ecffbd6666b411fbbb466bc4e">always_invisible</a>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;funnel_radius&quot;</span>, <a class="code" href="structtrap.html#a2cea2683be1199ec40d943540d3a78ff">funnel_radius_mm</a>, 0 );</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;comfort&quot;</span>, <a class="code" href="structtrap.html#a9e32dc8e92c961fb52b3086421c62b8e">comfort</a>, 0 );</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordtype">int</span> legacy_floor_bedding_warmth = <a class="code" href="namespaceunits.html#afa4cd3161d6d775b08fa9e964b18ad48">units::to_legacy_bodypart_temp_delta</a>( <a class="code" href="structtrap.html#a0225c40a1174da35a613b1451f779e67">floor_bedding_warmth</a> );</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;floor_bedding_warmth&quot;</span>, legacy_floor_bedding_warmth, 0 );</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="structtrap.html#a0225c40a1174da35a613b1451f779e67">floor_bedding_warmth</a> = <a class="code" href="namespaceunits.html#abeb09f5fa1bc50f7a2653800d5423863">units::from_legacy_bodypart_temp_delta</a>( legacy_floor_bedding_warmth );</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;spell_data&quot;</span>, <a class="code" href="structtrap.html#a204b98d9b542a70ab2781c13af441202">spell_data</a> );</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;trigger_weight&quot;</span>, <a class="code" href="structtrap.html#a5e8454e37107896cc58505a62dd6724e">trigger_weight</a> );</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, <a class="code" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;sound_threshold&quot;</span>, <a class="code" href="structtrap.html#ae8fcf2bc9d6746ef30f5f8a75ba765f3">sound_threshold</a> );</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classJsonValue.html">JsonValue</a> entry : jo.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;drops&quot;</span> ) ) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="classstring__id.html">itype_id</a> item_type;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordtype">int</span> quantity = 0;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordtype">int</span> charges = 0;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">if</span>( entry.test_object() ) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <a class="code" href="classJsonObject.html">JsonObject</a> jc = entry.<a class="code" href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">get_object</a>();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            jc.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;item&quot;</span>, item_type, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            quantity = jc.<a class="code" href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">get_int</a>( <span class="stringliteral">&quot;quantity&quot;</span>, 1 );</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            charges = jc.<a class="code" href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">get_int</a>( <span class="stringliteral">&quot;charges&quot;</span>, 1 );</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            entry.read( item_type, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            quantity = 1;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            charges = 1;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">if</span>( !item_type.<a class="code" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() &amp;&amp; quantity &gt; 0 &amp;&amp; charges &gt; 0 ) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <a class="code" href="structtrap.html#abdb4b9b037b1554a9bbf01b9db1f8387">components</a>.emplace_back( item_type, quantity, charges );</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a62e862f0390ad12302c9677069fb9d23">has_object</a>( <span class="stringliteral">&quot;vehicle_data&quot;</span> ) ) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="classJsonObject.html">JsonObject</a> jv = jo.<a class="code" href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">get_object</a>( <span class="stringliteral">&quot;vehicle_data&quot;</span> );</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code" href="structvehicle__handle__trap__data.html#acf9ea314f7998e6a589bb3187c6ae6a2">remove_trap</a> = jv.<a class="code" href="classJsonObject.html#a3d748a5d67f435bbd170a3e92a7cd0ca">get_bool</a>( <span class="stringliteral">&quot;remove_trap&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <a class="code" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code" href="structvehicle__handle__trap__data.html#a2ce8428df648cdf20dc6ac59effcb757">do_explosion</a> = jv.<a class="code" href="classJsonObject.html#a3d748a5d67f435bbd170a3e92a7cd0ca">get_bool</a>( <span class="stringliteral">&quot;do_explosion&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <a class="code" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code" href="structvehicle__handle__trap__data.html#aff743c43f98a9a30f15b33bab668b9f3">is_falling</a> = jv.<a class="code" href="classJsonObject.html#a3d748a5d67f435bbd170a3e92a7cd0ca">get_bool</a>( <span class="stringliteral">&quot;is_falling&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <a class="code" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code" href="structvehicle__handle__trap__data.html#a4720c8fd0a5120c5e73999d630a441b9">chance</a> = jv.<a class="code" href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">get_int</a>( <span class="stringliteral">&quot;chance&quot;</span>, 100 );</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <a class="code" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code" href="structvehicle__handle__trap__data.html#a12a8a69fabc09c46c94a872c3deabfc3">damage</a> = jv.<a class="code" href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">get_int</a>( <span class="stringliteral">&quot;damage&quot;</span>, 0 );</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <a class="code" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code" href="structvehicle__handle__trap__data.html#ad34f1fa0ddea2be0516fe52076755d28">shrapnel</a> = jv.<a class="code" href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">get_int</a>( <span class="stringliteral">&quot;shrapnel&quot;</span>, 0 );</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <a class="code" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code" href="structvehicle__handle__trap__data.html#a0c5bf103091c4d3af6e05554dfb4ea06">sound_volume</a> = jv.<a class="code" href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">get_int</a>( <span class="stringliteral">&quot;sound_volume&quot;</span>, 0 );</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        jv.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;sound&quot;</span>, <a class="code" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code" href="structvehicle__handle__trap__data.html#a5a19d024919f0e4b3e470b85ceee7557">sound</a> );</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <a class="code" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code" href="structvehicle__handle__trap__data.html#a8fc4e74b6409f9616968d445b17c3955">sound_type</a> = jv.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <span class="stringliteral">&quot;sound_type&quot;</span>, <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <a class="code" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code" href="structvehicle__handle__trap__data.html#a6f9a3d0f9d4799259b30a03fd1598c4d">sound_variant</a> = jv.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <span class="stringliteral">&quot;sound_variant&quot;</span>, <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <a class="code" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code" href="structvehicle__handle__trap__data.html#a85267d7b741db092465b148b86e023a7">spawn_items</a>.clear();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">if</span>( jv.<a class="code" href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">has_array</a>( <span class="stringliteral">&quot;spawn_items&quot;</span> ) ) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classJsonValue.html">JsonValue</a> entry : jv.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;spawn_items&quot;</span> ) ) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                <span class="keywordflow">if</span>( entry.test_object() ) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                    <a class="code" href="classJsonObject.html">JsonObject</a> joitm = entry.<a class="code" href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">get_object</a>();</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                    <a class="code" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code" href="structvehicle__handle__trap__data.html#a85267d7b741db092465b148b86e023a7">spawn_items</a>.emplace_back(</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                        <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( joitm.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <span class="stringliteral">&quot;id&quot;</span> ) ), joitm.<a class="code" href="classJsonObject.html#a7d82ab1c2da0cb67c6315b86104c3c84">get_float</a>( <span class="stringliteral">&quot;chance&quot;</span> ) );</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                    <a class="code" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code" href="structvehicle__handle__trap__data.html#a85267d7b741db092465b148b86e023a7">spawn_items</a>.emplace_back( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( entry.get_string() ), 1.0 );</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <a class="code" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code" href="structvehicle__handle__trap__data.html#ab19712f6fbd3b157f986b29925197dd3">set_trap</a> = <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">trap_str_id::NULL_ID</a>();</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">if</span>( jv.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;set_trap&quot;</span>, <a class="code" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code" href="structvehicle__handle__trap__data.html#ab19712f6fbd3b157f986b29925197dd3">set_trap</a> ) ) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <a class="code" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code" href="structvehicle__handle__trap__data.html#acf9ea314f7998e6a589bb3187c6ae6a2">remove_trap</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="structtrap.html#a01b0ef8443ac5ba4e7455880ca2dc44b">  228</a></span>&#160;std::string <a class="code" href="structtrap.html#a01b0ef8443ac5ba4e7455880ca2dc44b">trap::name</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structtrap.html#a02fbeb44ab900ad347efe01ed6c6ffa0">name_</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="structtrap.html#a3e1e069186296d3adb2cf9a941a0c0a8">  233</a></span>&#160;<a class="code" href="classstring__id.html">update_mapgen_id</a> <a class="code" href="structtrap.html#a3e1e069186296d3adb2cf9a941a0c0a8">trap::map_regen_target</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structtrap.html#a9dcaa7079f22ae4a94049e2c9ef74288">map_regen</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="structtrap.html#a3459bc15692baad14fa65b985251137f">  238</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structtrap.html#a3459bc15692baad14fa65b985251137f">trap::reset</a>()</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;{</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="trap_8cpp.html#a8149ff482a37aa5d47ca76e6ad3f54b7">funnel_traps</a>.clear();</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="trap_8cpp.html#a84bb10a20abc66ee67b5c51d792c144e">sound_triggered_traps</a>.clear();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02trap_8cpp_03.html#a1c896103efb8cfa33089e20350d7e2e7">trap_factory</a>.reset();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="structtrap.html#a4eb693398e2e48ad4e375f884ff02040">  245</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structtrap.html#a4eb693398e2e48ad4e375f884ff02040">trap::is_trivial_to_spot</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">// @TODO technically the trap may not be detected even with visibility == 0, see trap::detect_trap</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structtrap.html#a0913f4b2535ae7fe8b5550b974b31a18">visibility</a> &lt;= 0 &amp;&amp; !<a class="code" href="structtrap.html#aafab5c450397fa7ea6430a9334c2859c">is_always_invisible</a>();</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">// SONAR refers to ground-penetrating sonar and detects traps buried in the ground</span></div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="structtrap.html#af93e0b8182db7c9d25654a32ae4b86be">  252</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structtrap.html#af93e0b8182db7c9d25654a32ae4b86be">trap::detected_by_ground_sonar</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structtrap.html#a7e4cdf3b26a6dae70dd4f078680531a8">has_flag</a>( <a class="code" href="trap_8cpp.html#af6237465e07f168afbdf3f2eeafe7e15">json_flag_SONAR_DETECTABLE</a> );</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">// Echolocation refers to both bat-style echolocation and underwater SONAR, and</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">// detects traps which are solid and unburied objects, aboveground or underwater.</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">// Isn&#39;t fine enough to detect very small traps ie caltrops</span></div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="structtrap.html#a9fb79cdedc0f01eae32ff5b0eee3b0ff">  260</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structtrap.html#a9fb79cdedc0f01eae32ff5b0eee3b0ff">trap::detected_by_echolocation</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structtrap.html#a7e4cdf3b26a6dae70dd4f078680531a8">has_flag</a>( <a class="code" href="trap_8cpp.html#a7a5cc6e3b52cc05c75c8bb8158298d93">json_flag_ECHOLOCATION_DETECTABLE</a> );</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;}</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="structtrap.html#afefc8440f9684bc6694c3c14dc59a727">  265</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structtrap.html#afefc8440f9684bc6694c3c14dc59a727">trap::detect_trap</a>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> &amp;p )<span class="keyword"> const</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">// * Buried landmines, the silent killer, have a visibility of 10.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">// Assuming no knowledge of traps or proficiencies, and average per/int (8 each),</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="comment">// most characters will get a mean_roll of 6.5 against a trap that is one tile away.</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">// With a std deviation of 3, that leaves a ~12% chance of spotting a landmine when you are next to it (per turn).</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">// This gets worse if you are sleep deprived, or can&#39;t see as well.</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment">// Obviously it rapidly gets better as your skills improve, with most of the improvement coming from proficiencies.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">// Devices skill is helpful for spotting traps</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> traps_skill_level = p.<a class="code" href="classCharacter.html#a93a3570e884214ba5c0eb3cdf1af75cc">get_skill_level</a>( <a class="code" href="trap_8cpp.html#a9353c39452c59a433c7c4c301386e91f">skill_traps</a> );</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">// Perception is the main stat for spotting traps, int helps a bit.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="comment">// In this case, stats are more important than skills.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> weighted_stat_average = ( 4.0f * p.<a class="code" href="classCharacter.html#ad8a2bb942a756787aced3b83319176ff">per_cur</a> + p.<a class="code" href="classCharacter.html#a994c83d61054215e81a6e87478d81203">int_cur</a> ) / 5.0f;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// Eye encumbrance will penalize spotting</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> encumbrance_penalty = p.<a class="code" href="classCharacter.html#aef9cb6bfa6f5446ffbdf160e18ffdb86">encumb</a>( <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;eyes&quot;</span> ) ) / 10.0f;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">// The further away the trap is, the harder it is to spot.</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">// Subtract 1 so that we don&#39;t get an unfair penalty when not quite on top of the trap.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> distance_penalty = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( p.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ) - 1;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordtype">int</span> proficiency_effect = -1;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// Without at least a basic traps proficiency, your skill level is effectively three levels lower.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">if</span>( p.<a class="code" href="classCharacter.html#a72472dd1bc3a1fba8b053682ae5a2244">has_proficiency</a>( <a class="code" href="trap_8cpp.html#ad31a1a0c6c31e108afecb4d49bdc03bd">proficiency_prof_traps</a> ) ) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        proficiency_effect += 1;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="comment">// If you have the basic traps prof, negate the above penalty</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">if</span>( p.<a class="code" href="classCharacter.html#a72472dd1bc3a1fba8b053682ae5a2244">has_proficiency</a>( <a class="code" href="trap_8cpp.html#ab26bd7eb4aa388fe47209f9014a68f62">proficiency_prof_spotting</a> ) ) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        proficiency_effect += 3;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="comment">// If you have the spotting proficiency, add a whopping 9 effective skill levels.</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">if</span>( p.<a class="code" href="classCharacter.html#a72472dd1bc3a1fba8b053682ae5a2244">has_proficiency</a>( <a class="code" href="trap_8cpp.html#a2771ba40119675f04bcbf7651be1aed6">proficiency_prof_trapsetting</a> ) ) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        proficiency_effect += 1;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="comment">// Knowing how to set effective traps gives you a considerable bonus to spotting them as well.</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="comment">// For every 1000 points of sleep deprivation, reduce your roll by 1.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="comment">// As of this writing, sleep deprivation passively increases at the rate of 1 point per minute.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> sleepiness_penalty = p.<a class="code" href="classCharacter.html#ab2db9a91b7251e1ca4c1735c9cc2bf52">get_sleep_deprivation</a>() / 1000.0f;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> mean_roll = weighted_stat_average + ( traps_skill_level / 3.0f ) +</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                            proficiency_effect - distance_penalty - sleepiness_penalty - encumbrance_penalty;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> roll = <a class="code" href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">std::round</a>( <a class="code" href="rng_8cpp.html#a3a6a7e6245951426223e02f989bdd6a4">normal_roll</a>( mean_roll, 3 ) );</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2aef66c859d4dc6b5575c1b64398852cf0">debugmode::DF_CHARACTER</a>,</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                   <span class="stringliteral">&quot;Character %s rolling to detect trap %s. Actual roll: %i, average roll: %f, roll required to detect: %i.&quot;</span>,</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                   p.<a class="code" href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">get_name</a>(), <a class="code" href="structtrap.html#a01b0ef8443ac5ba4e7455880ca2dc44b">name</a>(), roll, mean_roll, <a class="code" href="structtrap.html#a0913f4b2535ae7fe8b5550b974b31a18">visibility</a> );</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">return</span> roll &gt; <a class="code" href="structtrap.html#a0913f4b2535ae7fe8b5550b974b31a18">visibility</a>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">// Whether or not, in the current state, the player can see the trap.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="structtrap.html#abeb5ff27f9f78475035f22aabdcfe834">  320</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structtrap.html#abeb5ff27f9f78475035f22aabdcfe834">trap::can_see</a>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> &amp;p )<span class="keyword"> const</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a>() ) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="comment">// There is no trap at all, so logically one can not see it.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="structtrap.html#aafab5c450397fa7ea6430a9334c2859c">is_always_invisible</a>() ) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structtrap.html#a0913f4b2535ae7fe8b5550b974b31a18">visibility</a> &lt; 0 || p.<a class="code" href="classCharacter.html#a7cf3a039fed01ee44525ea41940cb00d">knows_trap</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;}</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="structtrap.html#a692520c48fed23dc934168a3becebb27">  332</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structtrap.html#a7a862026cc04677a44a7d945c786edd0">trap::trigger</a>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a>() ) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="structtrap.html#a5b38533ac3a1c9c1f6a6844d0ee04a91">act</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="structtrap.html#a03dcb7429a503f2fb5c90842cfb25715">  340</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structtrap.html#a7a862026cc04677a44a7d945c786edd0">trap::trigger</a>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, <a class="code" href="classCreature.html">Creature</a> &amp;creature )<span class="keyword"> const</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structtrap.html#a7a862026cc04677a44a7d945c786edd0">trigger</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, &amp;<a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72">creature</a>, <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="structtrap.html#ab9f82fbd0bd8e9929bf1d8934cf22ccd">  345</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structtrap.html#a7a862026cc04677a44a7d945c786edd0">trap::trigger</a>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, <a class="code" href="classitem.html">item</a> &amp;<a class="code" href="classitem.html">item</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structtrap.html#a7a862026cc04677a44a7d945c786edd0">trigger</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, <span class="keyword">nullptr</span>, &amp;<a class="code" href="classitem.html">item</a> );</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="structtrap.html#a7a862026cc04677a44a7d945c786edd0">  350</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structtrap.html#a7a862026cc04677a44a7d945c786edd0">trap::trigger</a>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, <a class="code" href="classCreature.html">Creature</a> *creature, <a class="code" href="classitem.html">item</a> *<a class="code" href="classitem.html">item</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a>() ) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_real_creature = <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72">creature</a> != <span class="keyword">nullptr</span> &amp;&amp; !<a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72">creature</a>-&gt;is_hallucination();</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">if</span>( is_real_creature || <a class="code" href="classitem.html">item</a> != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordtype">bool</span> triggered = <a class="code" href="structtrap.html#a5b38533ac3a1c9c1f6a6844d0ee04a91">act</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72">creature</a>, <a class="code" href="classitem.html">item</a> );</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">if</span>( triggered &amp;&amp; is_real_creature ) {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classCharacter.html">Character</a> *ch = <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72">creature</a>-&gt;as_character() ) {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                <a class="code" href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a>().<a class="code" href="classevent__bus.html#ab753616a3a663185377ac52560068194">send</a>&lt;<a class="code" href="event_8h.html#a333a7721472705fe444b24f107f9a731a74cc8e54763d13afaa42599271e8bd8c">event_type::character_triggers_trap</a>&gt;( ch-&gt;getID(), <a class="code" href="structtrap.html#af4ff2a16113fc1dd7c53285c0f91c126">id</a> );</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;}</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">  366</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">trap::is_null</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structtrap.html#ab2767aee5179ad23b3ad0b6b4b2415af">loadid</a> == <a class="code" href="trap_8cpp.html#a7b8e40eb2b50e3841e2d9f2d0531226a">tr_null</a>;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;}</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="structtrap.html#aa7bc509c6fa1aec956f63ec03980e593">  371</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structtrap.html#aa7bc509c6fa1aec956f63ec03980e593">trap::triggered_by_item</a>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;itm )<span class="keyword"> const</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a>() &amp;&amp; itm.<a class="code" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a>() &gt;= <a class="code" href="structtrap.html#a5e8454e37107896cc58505a62dd6724e">trigger_weight</a>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="structtrap.html#a1df9fdf246ce84494eb68dcd6e59cb5f">  376</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structtrap.html#a1df9fdf246ce84494eb68dcd6e59cb5f">trap::is_funnel</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a>() &amp;&amp; <a class="code" href="structtrap.html#a2cea2683be1199ec40d943540d3a78ff">funnel_radius_mm</a> &gt; 0;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="structtrap.html#a8da1f2f4955bb1cc23a32b880edad689">  381</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structtrap.html#a8da1f2f4955bb1cc23a32b880edad689">trap::has_sound_trigger</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_sound_thresh = <a class="code" href="structtrap.html#ae8fcf2bc9d6746ef30f5f8a75ba765f3">sound_threshold</a>.first &gt; 0 &amp;&amp; <a class="code" href="structtrap.html#ae8fcf2bc9d6746ef30f5f8a75ba765f3">sound_threshold</a>.second &gt; 0;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a>() &amp;&amp; has_sound_thresh;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="structtrap.html#a3a82fa60a84ac16cd22289bcae631d98">  387</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structtrap.html#a3a82fa60a84ac16cd22289bcae631d98">trap::triggered_by_sound</a>( <span class="keywordtype">int</span> vol, <span class="keywordtype">int</span> dist )<span class="keyword"> const</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> = vol - dist;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">// now determine sound threshold probabilities</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">// linear model: 0% below sound_min, 25% at sound_min, 100% at sound_max</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> sound_min = <a class="code" href="structtrap.html#ae8fcf2bc9d6746ef30f5f8a75ba765f3">sound_threshold</a>.first;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> sound_max = <a class="code" href="structtrap.html#ae8fcf2bc9d6746ef30f5f8a75ba765f3">sound_threshold</a>.second;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> sound_range = sound_max - sound_min;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> &lt; sound_min ) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordtype">int</span> sound_chance = 100;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">if</span>( sound_range &gt; 0 ) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        sound_chance = 25 + ( 75 * ( <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> - sound_min ) / sound_range );</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="comment">//debugmsg(&quot;Sound chance: %d%%&quot;, sound_chance);</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a>() &amp;&amp; ( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, 100 ) &lt;= sound_chance );</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;}</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="structtrap.html#aa6b4fcf67a39a8ca75ac910055bb99c6">  406</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structtrap.html#aa6b4fcf67a39a8ca75ac910055bb99c6">trap::on_disarmed</a>( <a class="code" href="classmap.html">map</a> &amp;m, <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p )<span class="keyword"> const</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;i : <a class="code" href="structtrap.html#abdb4b9b037b1554a9bbf01b9db1f8387">components</a> ) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> &amp;item_type = std::get&lt;0&gt;( i );</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> quantity = std::get&lt;1&gt;( i );</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> charges = std::get&lt;2&gt;( i );</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        m.<a class="code" href="classmap.html#a4417ea41f79e4b624612ae64ebac1d07">spawn_item</a>( p.<a class="code" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>(), item_type, quantity, charges );</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;dest : m.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( p, <a class="code" href="structtrap.html#a43fd5f8fec40e3bb6ca7e07fa7ae6b3f">trap_radius</a> ) ) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        m.<a class="code" href="classmap.html#ae6be5b2b977897215861971bf64fb502">remove_trap</a>( dest );</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;}</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">//////////////////////////</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment"></span><span class="comment">// convenient int-lookup names for hard-coded functions</span></div>
<div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="trap_8cpp.html#a7b8e40eb2b50e3841e2d9f2d0531226a">  421</a></span>&#160;<a class="code" href="classint__id.html">trap_id</a> <a class="code" href="trap_8cpp.html#a7b8e40eb2b50e3841e2d9f2d0531226a">tr_null</a>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="structtrap.html#ad3c0ca32b5c9badd2668fd9b5c7c91fc">  423</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structtrap.html#ad3c0ca32b5c9badd2668fd9b5c7c91fc">trap::check_consistency</a>()</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;{</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtrap.html">trap</a> &amp;t : <a class="code" href="namespaceanonymous__namespace_02trap_8cpp_03.html#a1c896103efb8cfa33089e20350d7e2e7">trap_factory</a>.get_all() ) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;i : t.components ) {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> &amp;item_type = std::get&lt;0&gt;( i );</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classitem.html#a4c54ded219374a2f5f80e8eee192dcdf">item::type_is_defined</a>( item_type ) ) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;trap %s has unknown item as component %s&quot;</span>, t.id.str(), item_type.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;}</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="structtrap.html#a45a8812efed086442e3e13ca36e50c1d">  435</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structtrap.html#a45a8812efed086442e3e13ca36e50c1d">trap::easy_take_down</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structtrap.html#a7dd8117e839b760a9ffa187d3670f4ed">avoidance</a> == 0 &amp;&amp; <a class="code" href="structtrap.html#abbf38effe374d03f39b3647a27e3c3a7">difficulty</a> == 0;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;}</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="structtrap.html#a9325b1c5da75604d17041a178a32a4f0">  440</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structtrap.html#a9325b1c5da75604d17041a178a32a4f0">trap::can_not_be_disarmed</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structtrap.html#abbf38effe374d03f39b3647a27e3c3a7">difficulty</a> &gt;= 99;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="structtrap.html#a7cde54061e737d7f81c0a605cce70f0e">  445</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structtrap.html#a7cde54061e737d7f81c0a605cce70f0e">trap::finalize</a>()</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;{</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtrap.html">trap</a> &amp;t_const : <a class="code" href="namespaceanonymous__namespace_02trap_8cpp_03.html#a1c896103efb8cfa33089e20350d7e2e7">trap_factory</a>.get_all() ) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <a class="code" href="structtrap.html">trap</a> &amp;t = <span class="keyword">const_cast&lt;</span><a class="code" href="structtrap.html">trap</a> &amp;<span class="keyword">&gt;</span>( t_const );</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="comment">// We need to set int ids manually now</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        t.<a class="code" href="structtrap.html#ab2767aee5179ad23b3ad0b6b4b2415af">loadid</a> = t.<a class="code" href="structtrap.html#af4ff2a16113fc1dd7c53285c0f91c126">id</a>.<a class="code" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>();</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keywordflow">if</span>( t.<a class="code" href="structtrap.html#a1df9fdf246ce84494eb68dcd6e59cb5f">is_funnel</a>() ) {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <a class="code" href="trap_8cpp.html#a8149ff482a37aa5d47ca76e6ad3f54b7">funnel_traps</a>.push_back( &amp;t );</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="keywordflow">if</span>( t.<a class="code" href="structtrap.html#a8da1f2f4955bb1cc23a32b880edad689">has_sound_trigger</a>() ) {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <a class="code" href="trap_8cpp.html#a84bb10a20abc66ee67b5c51d792c144e">sound_triggered_traps</a>.push_back( &amp;t );</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="trap_8cpp.html#a7b8e40eb2b50e3841e2d9f2d0531226a">tr_null</a> = <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">trap_str_id::NULL_ID</a>().<a class="code" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>();</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="structtrap.html#a03ec16974750f233639325a1a26c60af">  462</a></span>&#160;std::string <a class="code" href="structtrap.html#a03ec16974750f233639325a1a26c60af">trap::debug_describe</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Visible: %d\nAvoidance: %d\nDifficulty: %d\nBenign: %s&quot;</span> ), <a class="code" href="structtrap.html#a0913f4b2535ae7fe8b5550b974b31a18">visibility</a>,</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                          <a class="code" href="structtrap.html#a7dd8117e839b760a9ffa187d3670f4ed">avoidance</a>, <a class="code" href="structtrap.html#abbf38effe374d03f39b3647a27e3c3a7">difficulty</a>, <a class="code" href="structtrap.html#adc8f59b97597d373f7cb0bbcf061e794">is_benign</a>() ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Yes&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;No&quot;</span> ) );</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;}</div>
<div class="ttc" id="aassign_8cpp_html_a5581e512c94617323eeed670afe0e49a"><div class="ttname"><a href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a></div><div class="ttdeci">bool assign(const JsonObject &amp;jo, const std::string_view name, bool &amp;val, bool strict)</div><div class="ttdef"><b>Definition:</b> <a href="assign_8cpp_source.html#l00023">assign.cpp:23</a></div></div>
<div class="ttc" id="aassign_8h_html"><div class="ttname"><a href="assign_8h.html">assign.h</a></div></div>
<div class="ttc" id="abodypart_8h_html_a426444e2d486ce1ee315d8b8acc86b40"><div class="ttname"><a href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a></div><div class="ttdeci">int_id&lt; body_part_type &gt; bodypart_id</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00032">bodypart.h:32</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_a4249b6f1d0842211bfe53e5f9e206a10"><div class="ttname"><a href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a></div><div class="ttdeci">time_duration rng(time_duration lo, time_duration hi)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00779">calendar.cpp:779</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">cata_variant_type::itype_id</a></div><div class="ttdeci">@ itype_id</div></div>
<div class="ttc" id="acharacter_8h_html"><div class="ttname"><a href="character_8h.html">character.h</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclassCharacter_html_a72472dd1bc3a1fba8b053682ae5a2244"><div class="ttname"><a href="classCharacter.html#a72472dd1bc3a1fba8b053682ae5a2244">Character::has_proficiency</a></div><div class="ttdeci">bool has_proficiency(const proficiency_id &amp;prof) const</div><div class="ttdef"><b>Definition:</b> <a href="character__proficiency_8cpp_source.html#l00019">character_proficiency.cpp:19</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7cf3a039fed01ee44525ea41940cb00d"><div class="ttname"><a href="classCharacter.html#a7cf3a039fed01ee44525ea41940cb00d">Character::knows_trap</a></div><div class="ttdeci">bool knows_trap(const tripoint &amp;pos) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l10700">character.cpp:10700</a></div></div>
<div class="ttc" id="aclassCharacter_html_a93a3570e884214ba5c0eb3cdf1af75cc"><div class="ttname"><a href="classCharacter.html#a93a3570e884214ba5c0eb3cdf1af75cc">Character::get_skill_level</a></div><div class="ttdeci">float get_skill_level(const skill_id &amp;ident) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03428">character.cpp:3428</a></div></div>
<div class="ttc" id="aclassCharacter_html_a994c83d61054215e81a6e87478d81203"><div class="ttname"><a href="classCharacter.html#a994c83d61054215e81a6e87478d81203">Character::int_cur</a></div><div class="ttdeci">int int_cur</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00579">character.h:579</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab2db9a91b7251e1ca4c1735c9cc2bf52"><div class="ttname"><a href="classCharacter.html#ab2db9a91b7251e1ca4c1735c9cc2bf52">Character::get_sleep_deprivation</a></div><div class="ttdeci">int get_sleep_deprivation() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04609">character.cpp:4609</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad8a2bb942a756787aced3b83319176ff"><div class="ttname"><a href="classCharacter.html#ad8a2bb942a756787aced3b83319176ff">Character::per_cur</a></div><div class="ttdeci">int per_cur</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00580">character.h:580</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae47514f140700c67ea21ccbadf66d106"><div class="ttname"><a href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">Character::get_name</a></div><div class="ttdeci">std::string get_name() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l05731">character.cpp:5731</a></div></div>
<div class="ttc" id="aclassCharacter_html_aef9cb6bfa6f5446ffbdf160e18ffdb86"><div class="ttname"><a href="classCharacter.html#aef9cb6bfa6f5446ffbdf160e18ffdb86">Character::encumb</a></div><div class="ttdeci">int encumb(const bodypart_id &amp;bp) const</div><div class="ttdoc">Returns ENC provided by armor, etc.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04046">character.cpp:4046</a></div></div>
<div class="ttc" id="aclassCreature_html"><div class="ttname"><a href="classCreature.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00250">creature.h:251</a></div></div>
<div class="ttc" id="aclassCreature_html_a1a65722d07102550f16d17ebd79e2743"><div class="ttname"><a href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">Creature::pos</a></div><div class="ttdeci">tripoint pos() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00178">creature.cpp:178</a></div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00526">flexbuffer_json.h:527</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a04b6ce7355b567646a587514fb811c68"><div class="ttname"><a href="classJsonObject.html#a04b6ce7355b567646a587514fb811c68">JsonObject::throw_error_at</a></div><div class="ttdeci">void throw_error_at(std::string_view member, const std::string &amp;err) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8cpp_source.html#l00358">flexbuffer_json.cpp:358</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a1abb3808bb2a992716d5ef6f27a32b3c"><div class="ttname"><a href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">JsonObject::get_string</a></div><div class="ttdeci">std::string get_string(const std::string &amp;key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00813">flexbuffer_json-inl.h:813</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a3b9722313d9692826235c87e73e94f04"><div class="ttname"><a href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">JsonObject::get_object</a></div><div class="ttdeci">JsonObject get_object(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00864">flexbuffer_json-inl.h:864</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a3d748a5d67f435bbd170a3e92a7cd0ca"><div class="ttname"><a href="classJsonObject.html#a3d748a5d67f435bbd170a3e92a7cd0ca">JsonObject::get_bool</a></div><div class="ttdeci">bool get_bool(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00850">flexbuffer_json-inl.h:850</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a4d917fcb285203f91b74002565375dce"><div class="ttname"><a href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00984">flexbuffer_json-inl.h:984</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a532ea812759469d654c7fde4738d11d5"><div class="ttname"><a href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">JsonObject::get_int</a></div><div class="ttdeci">int get_int(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00840">flexbuffer_json-inl.h:840</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a62e862f0390ad12302c9677069fb9d23"><div class="ttname"><a href="classJsonObject.html#a62e862f0390ad12302c9677069fb9d23">JsonObject::has_object</a></div><div class="ttdeci">bool has_object(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00990">flexbuffer_json-inl.h:990</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a7d82ab1c2da0cb67c6315b86104c3c84"><div class="ttname"><a href="classJsonObject.html#a7d82ab1c2da0cb67c6315b86104c3c84">JsonObject::get_float</a></div><div class="ttdeci">double get_float(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00845">flexbuffer_json-inl.h:845</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a8517ac783372bd0bf149ab8e5f7aae18"><div class="ttname"><a href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">JsonObject::read</a></div><div class="ttdeci">bool read(std::string_view name, T &amp;t, bool throw_on_error=true) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l01059">flexbuffer_json-inl.h:1059</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a88142edb1dd9ea1e7a96c7a99cd70896"><div class="ttname"><a href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00855">flexbuffer_json-inl.h:855</a></div></div>
<div class="ttc" id="aclassJsonObject_html_af3e3ae76afc340c1fa3510acaaba57b8"><div class="ttname"><a href="classJsonObject.html#af3e3ae76afc340c1fa3510acaaba57b8">JsonObject::throw_error</a></div><div class="ttdeci">void throw_error(const std::string &amp;err) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8cpp_source.html#l00353">flexbuffer_json.cpp:353</a></div></div>
<div class="ttc" id="aclassJsonValue_html"><div class="ttname"><a href="classJsonValue.html">JsonValue</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00166">flexbuffer_json.h:167</a></div></div>
<div class="ttc" id="aclassevent__bus_html_ab753616a3a663185377ac52560068194"><div class="ttname"><a href="classevent__bus.html#ab753616a3a663185377ac52560068194">event_bus::send</a></div><div class="ttdeci">void send(const cata::event &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="event__bus_8cpp_source.html#l00072">event_bus.cpp:72</a></div></div>
<div class="ttc" id="aclassgeneric__factory_html"><div class="ttname"><a href="classgeneric__factory.html">generic_factory</a></div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00119">generic_factory.h:120</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; trap &gt;</a></div></div>
<div class="ttc" id="aclassint__id_html_a01d4cc2e07baa11cbf9beed0279bd8b0"><div class="ttname"><a href="classint__id.html#a01d4cc2e07baa11cbf9beed0279bd8b0">int_id::int_id</a></div><div class="ttdeci">int_id()</div><div class="ttdoc">Default constructor constructs a 0-id.</div><div class="ttdef"><b>Definition:</b> <a href="int__id_8h_source.html#l00044">int_id.h:44</a></div></div>
<div class="ttc" id="aclassint__id_html_a09d4f824b2540da7e682d10cdf324081"><div class="ttname"><a href="classint__id.html#a09d4f824b2540da7e682d10cdf324081">int_id::id</a></div><div class="ttdeci">const string_id&lt; ammo_effect &gt; &amp; id() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00033">ammo_effect.cpp:33</a></div></div>
<div class="ttc" id="aclassint__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">int_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00026">ammo_effect.cpp:26</a></div></div>
<div class="ttc" id="aclassint__id_html_a88b1e0c550f4d6f36cac7a73feca7f01"><div class="ttname"><a href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">int_id::id</a></div><div class="ttdeci">const string_id&lt; T &gt; &amp; id() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00033">ammo_effect.cpp:33</a></div></div>
<div class="ttc" id="aclassint__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classint__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">int_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00019">ammo_effect.cpp:19</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassitem_html_a3157f01f1da6fe89bdbc87db2605afb9"><div class="ttname"><a href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">item::weight</a></div><div class="ttdeci">units::mass weight(bool include_contents=true, bool integral=false) const</div><div class="ttdoc">Total weight of an item accounting for all contained/integrated items.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07081">item.cpp:7081</a></div></div>
<div class="ttc" id="aclassitem_html_a4c54ded219374a2f5f80e8eee192dcdf"><div class="ttname"><a href="classitem.html#a4c54ded219374a2f5f80e8eee192dcdf">item::type_is_defined</a></div><div class="ttdeci">static bool type_is_defined(const itype_id &amp;id)</div><div class="ttdoc">Check whether the type id refers to a known type.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14576">item.cpp:14576</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="aclassmap_html_a4417ea41f79e4b624612ae64ebac1d07"><div class="ttname"><a href="classmap.html#a4417ea41f79e4b624612ae64ebac1d07">map::spawn_item</a></div><div class="ttdeci">void spawn_item(const tripoint &amp;p, const itype_id &amp;type_id, unsigned quantity=1, int charges=0, const time_point &amp;birthday=calendar::start_of_cataclysm, int damlevel=0, const std::set&lt; flag_id &gt; &amp;flags={}, const std::string &amp;variant=&quot;&quot;, const std::string &amp;faction=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05100">map.cpp:5100</a></div></div>
<div class="ttc" id="aclassmap_html_a4f5f812d7e89a998429958573a4c340f"><div class="ttname"><a href="classmap.html#a4f5f812d7e89a998429958573a4c340f">map::points_in_radius</a></div><div class="ttdeci">tripoint_range&lt; tripoint &gt; points_in_radius(const tripoint &amp;center, size_t radius, size_t radiusz=0) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l10109">map.cpp:10109</a></div></div>
<div class="ttc" id="aclassmap_html_ae6be5b2b977897215861971bf64fb502"><div class="ttname"><a href="classmap.html#ae6be5b2b977897215861971bf64fb502">map::remove_trap</a></div><div class="ttdeci">void remove_trap(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06338">map.cpp:6338</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; json_flag &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_a1b2100ed077789ba45aaf5081791b36c"><div class="ttname"><a href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">string_id&lt; trap &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; trap &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00071">achievement.cpp:71</a></div></div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00078">achievement.cpp:78</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa3cde2bfb58efa9621289c0a70d24c5a"><div class="ttname"><a href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">string_id::id</a></div><div class="ttdeci">int_id&lt; T &gt; id() const</div><div class="ttdoc">Translate the string based it to the matching integer based id.</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00054">ammo_effect.cpp:54</a></div></div>
<div class="ttc" id="aclassstring__id_html_ac180a60056901aaf79f5c4b728a257bd"><div class="ttname"><a href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">string_id::is_empty</a></div><div class="ttdeci">bool is_empty() const</div><div class="ttdoc">Returns whether this id is empty.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00303">string_id.h:303</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae75b0a209b55081a67c5fe6c17a4be00"><div class="ttname"><a href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00260">string_id.h:260</a></div></div>
<div class="ttc" id="aclasstranslation_html_a30b5b9d586c786942c2321701a53e572"><div class="ttname"><a href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translation::translated</a></div><div class="ttdeci">std::string translated(int num=1) const</div><div class="ttdoc">Returns raw string if no translation is needed, otherwise returns the translated string.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8cpp_source.html#l00294">translation.cpp:294</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a8e2cbab6dac12095f06b4cff66857fbb"><div class="ttname"><a href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00769">coordinates.h:769</a></div></div>
<div class="ttc" id="acreature_8h_html"><div class="ttname"><a href="creature_8h.html">creature.h</a></div></div>
<div class="ttc" id="adebug_8h_html"><div class="ttname"><a href="debug_8h.html">debug.h</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="adescriptions_8cpp_html_aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72"><div class="ttname"><a href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72">description_target::creature</a></div><div class="ttdeci">@ creature</div></div>
<div class="ttc" id="aevent_8h_html"><div class="ttname"><a href="event_8h.html">event.h</a></div></div>
<div class="ttc" id="aevent_8h_html_a333a7721472705fe444b24f107f9a731a74cc8e54763d13afaa42599271e8bd8c"><div class="ttname"><a href="event_8h.html#a333a7721472705fe444b24f107f9a731a74cc8e54763d13afaa42599271e8bd8c">event_type::character_triggers_trap</a></div><div class="ttdeci">@ character_triggers_trap</div></div>
<div class="ttc" id="aevent__bus_8h_html"><div class="ttname"><a href="event__bus_8h.html">event_bus.h</a></div></div>
<div class="ttc" id="aevent__bus_8h_html_a4f760194b9225ccf92a1419748def636"><div class="ttname"><a href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a></div><div class="ttdeci">event_bus &amp; get_event_bus()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13832">game.cpp:13832</a></div></div>
<div class="ttc" id="ageneric__factory_8cpp_html_ad156991d6c86e2010c0a432ee7476331"><div class="ttname"><a href="generic__factory_8cpp.html#ad156991d6c86e2010c0a432ee7476331">one_char_symbol_reader</a></div><div class="ttdeci">bool one_char_symbol_reader(const JsonObject &amp;jo, const std::string_view member_name, int &amp;sym, bool)</div><div class="ttdoc">Reads a string and stores the first byte of it in sym.</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8cpp_source.html#l00003">generic_factory.cpp:3</a></div></div>
<div class="ttc" id="ageneric__factory_8h_html"><div class="ttname"><a href="generic__factory_8h.html">generic_factory.h</a></div><div class="ttdoc">Helper for loading from JSON.</div></div>
<div class="ttc" id="ageneric__factory_8h_html_a43443191f61bb76aca1c2895eea4ad8f"><div class="ttname"><a href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a></div><div class="ttdeci">void optional(const JsonObject &amp;jo, const bool was_loaded, const std::string_view name, MemberType &amp;member)</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00829">generic_factory.h:829</a></div></div>
<div class="ttc" id="aitem_8h_html"><div class="ttname"><a href="item_8h.html">item.h</a></div></div>
<div class="ttc" id="ajson_8h_html"><div class="ttname"><a href="json_8h.html">json.h</a></div></div>
<div class="ttc" id="aline_8h_html"><div class="ttname"><a href="line_8h.html">line.h</a></div></div>
<div class="ttc" id="amap_8h_html"><div class="ttname"><a href="map_8h.html">map.h</a></div></div>
<div class="ttc" id="amap__iterator_8h_html"><div class="ttname"><a href="map__iterator_8h.html">map_iterator.h</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a5834219bcffc7118c95b395b8cdeec20"><div class="ttname"><a href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">round</a></div><div class="ttdeci">double round(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00110">math_parser_func.h:110</a></div></div>
<div class="ttc" id="amessages_8h_html"><div class="ttname"><a href="messages_8h.html">messages.h</a></div></div>
<div class="ttc" id="amessages_8h_html_ab6590bda29b082a7282bcc1a9cc8f02a"><div class="ttname"><a href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a></div><div class="ttdeci">#define add_msg_debug(type,...)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8h_source.html#l00177">messages.h:177</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02trap_8cpp_03_html_a1c896103efb8cfa33089e20350d7e2e7"><div class="ttname"><a href="namespaceanonymous__namespace_02trap_8cpp_03.html#a1c896103efb8cfa33089e20350d7e2e7">anonymous_namespace{trap.cpp}::trap_factory</a></div><div class="ttdeci">generic_factory&lt; trap &gt; trap_factory(&quot;trap&quot;)</div></div>
<div class="ttc" id="anamespacedebugmode_html_ac654a55a1b56b11554103f87859968f2aef66c859d4dc6b5575c1b64398852cf0"><div class="ttname"><a href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2aef66c859d4dc6b5575c1b64398852cf0">debugmode::DF_CHARACTER</a></div><div class="ttdeci">@ DF_CHARACTER</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00250">debug.h:250</a></div></div>
<div class="ttc" id="anamespacemath__opers_html_a2f0118617735cc810b9d76d62bd182f6"><div class="ttname"><a href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">math_opers::pos</a></div><div class="ttdeci">constexpr double pos(double, double r)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__impl_8h_source.html#l00203">math_parser_impl.h:203</a></div></div>
<div class="ttc" id="anamespaceunits_html_a5d16607c866588620acb381e7dbbf0a6"><div class="ttname"><a href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a></div><div class="ttdeci">quantity&lt; int, volume_in_milliliter_tag &gt; volume</div><div class="ttdef"><b>Definition:</b> <a href="units__fwd_8h_source.html#l00017">units_fwd.h:17</a></div></div>
<div class="ttc" id="anamespaceunits_html_abeb09f5fa1bc50f7a2653800d5423863"><div class="ttname"><a href="namespaceunits.html#abeb09f5fa1bc50f7a2653800d5423863">units::from_legacy_bodypart_temp_delta</a></div><div class="ttdeci">constexpr units::temperature_delta from_legacy_bodypart_temp_delta(int temp)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00517">units.h:517</a></div></div>
<div class="ttc" id="anamespaceunits_html_afa4cd3161d6d775b08fa9e964b18ad48"><div class="ttname"><a href="namespaceunits.html#afa4cd3161d6d775b08fa9e964b18ad48">units::to_legacy_bodypart_temp_delta</a></div><div class="ttdeci">constexpr int to_legacy_bodypart_temp_delta(const quantity&lt; value_type, temperature_delta_in_kelvin_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00523">units.h:523</a></div></div>
<div class="ttc" id="aovermap_8cpp_html_a1aa258a4b1427766c283c1ae9ea81f05ac5e3b9675d114c21ad3367d318f6aa95"><div class="ttname"><a href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ac5e3b9675d114c21ad3367d318f6aa95">join_type::mandatory</a></div><div class="ttdeci">@ mandatory</div></div>
<div class="ttc" id="apoint_8h_html"><div class="ttname"><a href="point_8h.html">point.h</a></div></div>
<div class="ttc" id="arng_8cpp_html_a3a6a7e6245951426223e02f989bdd6a4"><div class="ttname"><a href="rng_8cpp.html#a3a6a7e6245951426223e02f989bdd6a4">normal_roll</a></div><div class="ttdeci">double normal_roll(double mean, double stddev)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00078">rng.cpp:78</a></div></div>
<div class="ttc" id="arng_8h_html"><div class="ttname"><a href="rng_8h.html">rng.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html"><div class="ttname"><a href="string__formatter_8h.html">string_formatter.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
<div class="ttc" id="astructtrap_html"><div class="ttname"><a href="structtrap.html">trap</a></div><div class="ttdoc">Some traps aren't actually traps in the usual sense of the word.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00109">trap.h:109</a></div></div>
<div class="ttc" id="astructtrap_html_a01b0ef8443ac5ba4e7455880ca2dc44b"><div class="ttname"><a href="structtrap.html#a01b0ef8443ac5ba4e7455880ca2dc44b">trap::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00228">trap.cpp:228</a></div></div>
<div class="ttc" id="astructtrap_html_a0225c40a1174da35a613b1451f779e67"><div class="ttname"><a href="structtrap.html#a0225c40a1174da35a613b1451f779e67">trap::floor_bedding_warmth</a></div><div class="ttdeci">units::temperature_delta floor_bedding_warmth</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00166">trap.h:166</a></div></div>
<div class="ttc" id="astructtrap_html_a02fbeb44ab900ad347efe01ed6c6ffa0"><div class="ttname"><a href="structtrap.html#a02fbeb44ab900ad347efe01ed6c6ffa0">trap::name_</a></div><div class="ttdeci">translation name_</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00141">trap.h:141</a></div></div>
<div class="ttc" id="astructtrap_html_a03491b6455522e29bcbd457283b88c6d"><div class="ttname"><a href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">trap::vehicle_data</a></div><div class="ttdeci">vehicle_handle_trap_data vehicle_data</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00167">trap.h:167</a></div></div>
<div class="ttc" id="astructtrap_html_a03ec16974750f233639325a1a26c60af"><div class="ttname"><a href="structtrap.html#a03ec16974750f233639325a1a26c60af">trap::debug_describe</a></div><div class="ttdeci">std::string debug_describe() const</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00462">trap.cpp:462</a></div></div>
<div class="ttc" id="astructtrap_html_a0913f4b2535ae7fe8b5550b974b31a18"><div class="ttname"><a href="structtrap.html#a0913f4b2535ae7fe8b5550b974b31a18">trap::visibility</a></div><div class="ttdeci">int visibility</div><div class="ttdoc">How easy it is to spot the trap.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00126">trap.h:126</a></div></div>
<div class="ttc" id="astructtrap_html_a10039a239822fb13066d9e61c82f5bf5"><div class="ttname"><a href="structtrap.html#a10039a239822fb13066d9e61c82f5bf5">trap::benign</a></div><div class="ttdeci">bool benign</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00137">trap.h:137</a></div></div>
<div class="ttc" id="astructtrap_html_a12144546805827604a11ba0959805943"><div class="ttname"><a href="structtrap.html#a12144546805827604a11ba0959805943">trap::load_trap</a></div><div class="ttdeci">static void load_trap(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdoc">Loads the trap and adds it to the trapmap, and the traplist.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00132">trap.cpp:132</a></div></div>
<div class="ttc" id="astructtrap_html_a17431593aa1c217242800cb11ce59b18"><div class="ttname"><a href="structtrap.html#a17431593aa1c217242800cb11ce59b18">trap::_flags</a></div><div class="ttdeci">cata::flat_set&lt; flag_id &gt; _flags</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00149">trap.h:149</a></div></div>
<div class="ttc" id="astructtrap_html_a1df9fdf246ce84494eb68dcd6e59cb5f"><div class="ttname"><a href="structtrap.html#a1df9fdf246ce84494eb68dcd6e59cb5f">trap::is_funnel</a></div><div class="ttdeci">bool is_funnel() const</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00376">trap.cpp:376</a></div></div>
<div class="ttc" id="astructtrap_html_a204b98d9b542a70ab2781c13af441202"><div class="ttname"><a href="structtrap.html#a204b98d9b542a70ab2781c13af441202">trap::spell_data</a></div><div class="ttdeci">fake_spell spell_data</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00164">trap.h:164</a></div></div>
<div class="ttc" id="astructtrap_html_a2cea2683be1199ec40d943540d3a78ff"><div class="ttname"><a href="structtrap.html#a2cea2683be1199ec40d943540d3a78ff">trap::funnel_radius_mm</a></div><div class="ttdeci">int funnel_radius_mm</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00159">trap.h:159</a></div></div>
<div class="ttc" id="astructtrap_html_a3459bc15692baad14fa65b985251137f"><div class="ttname"><a href="structtrap.html#a3459bc15692baad14fa65b985251137f">trap::reset</a></div><div class="ttdeci">static void reset()</div><div class="ttdoc">Releases the loaded trap objects in trapmap and traplist.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00238">trap.cpp:238</a></div></div>
<div class="ttc" id="astructtrap_html_a3a82fa60a84ac16cd22289bcae631d98"><div class="ttname"><a href="structtrap.html#a3a82fa60a84ac16cd22289bcae631d98">trap::triggered_by_sound</a></div><div class="ttdeci">bool triggered_by_sound(int vol, int dist) const</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00387">trap.cpp:387</a></div></div>
<div class="ttc" id="astructtrap_html_a3e1e069186296d3adb2cf9a941a0c0a8"><div class="ttname"><a href="structtrap.html#a3e1e069186296d3adb2cf9a941a0c0a8">trap::map_regen_target</a></div><div class="ttdeci">update_mapgen_id map_regen_target() const</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00233">trap.cpp:233</a></div></div>
<div class="ttc" id="astructtrap_html_a43fd5f8fec40e3bb6ca7e07fa7ae6b3f"><div class="ttname"><a href="structtrap.html#a43fd5f8fec40e3bb6ca7e07fa7ae6b3f">trap::trap_radius</a></div><div class="ttdeci">int trap_radius</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00136">trap.h:136</a></div></div>
<div class="ttc" id="astructtrap_html_a45a8812efed086442e3e13ca36e50c1d"><div class="ttname"><a href="structtrap.html#a45a8812efed086442e3e13ca36e50c1d">trap::easy_take_down</a></div><div class="ttdeci">bool easy_take_down() const</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00435">trap.cpp:435</a></div></div>
<div class="ttc" id="astructtrap_html_a4d4f2d0ba3ca652e09d818843b7f49dd"><div class="ttname"><a href="structtrap.html#a4d4f2d0ba3ca652e09d818843b7f49dd">trap::count</a></div><div class="ttdeci">static size_t count()</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00127">trap.cpp:127</a></div></div>
<div class="ttc" id="astructtrap_html_a4eb693398e2e48ad4e375f884ff02040"><div class="ttname"><a href="structtrap.html#a4eb693398e2e48ad4e375f884ff02040">trap::is_trivial_to_spot</a></div><div class="ttdeci">bool is_trivial_to_spot() const</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00245">trap.cpp:245</a></div></div>
<div class="ttc" id="astructtrap_html_a5b38533ac3a1c9c1f6a6844d0ee04a91"><div class="ttname"><a href="structtrap.html#a5b38533ac3a1c9c1f6a6844d0ee04a91">trap::act</a></div><div class="ttdeci">trap_function act</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00140">trap.h:140</a></div></div>
<div class="ttc" id="astructtrap_html_a5e8454e37107896cc58505a62dd6724e"><div class="ttname"><a href="structtrap.html#a5e8454e37107896cc58505a62dd6724e">trap::trigger_weight</a></div><div class="ttdeci">units::mass trigger_weight</div><div class="ttdoc">If an item with this weight or more is thrown onto the trap, it triggers.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00154">trap.h:154</a></div></div>
<div class="ttc" id="astructtrap_html_a651463227d8f686d8b87a8fdc92b7db5"><div class="ttname"><a href="structtrap.html#a651463227d8f686d8b87a8fdc92b7db5">trap::trigger_message_npc</a></div><div class="ttdeci">std::optional&lt; translation &gt; trigger_message_npc</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00147">trap.h:147</a></div></div>
<div class="ttc" id="astructtrap_html_a6a9ac96c5c81eb31093e049ffeac8b4f"><div class="ttname"><a href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">trap::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Whether this is the null-traps, aka no trap at all.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00366">trap.cpp:366</a></div></div>
<div class="ttc" id="astructtrap_html_a744ba139645a50bc69eb33703a43e337"><div class="ttname"><a href="structtrap.html#a744ba139645a50bc69eb33703a43e337">trap::get_sound_triggered_traps</a></div><div class="ttdeci">static const std::vector&lt; const trap * &gt; &amp; get_sound_triggered_traps()</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00122">trap.cpp:122</a></div></div>
<div class="ttc" id="astructtrap_html_a7515b4e5f59ad2a035e5030455bf3e62"><div class="ttname"><a href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">trap::was_loaded</a></div><div class="ttdeci">bool was_loaded</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00114">trap.h:114</a></div></div>
<div class="ttc" id="astructtrap_html_a7a862026cc04677a44a7d945c786edd0"><div class="ttname"><a href="structtrap.html#a7a862026cc04677a44a7d945c786edd0">trap::trigger</a></div><div class="ttdeci">void trigger(const tripoint &amp;pos, Creature *creature, item *item) const</div><div class="ttdoc">Trigger trap effects.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00350">trap.cpp:350</a></div></div>
<div class="ttc" id="astructtrap_html_a7cde54061e737d7f81c0a605cce70f0e"><div class="ttname"><a href="structtrap.html#a7cde54061e737d7f81c0a605cce70f0e">trap::finalize</a></div><div class="ttdeci">static void finalize()</div><div class="ttdoc">Stores the actual loadid of the loaded traps in the global tr_* variables.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00445">trap.cpp:445</a></div></div>
<div class="ttc" id="astructtrap_html_a7dd8117e839b760a9ffa187d3670f4ed"><div class="ttname"><a href="structtrap.html#a7dd8117e839b760a9ffa187d3670f4ed">trap::avoidance</a></div><div class="ttdeci">int avoidance</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00128">trap.h:128</a></div></div>
<div class="ttc" id="astructtrap_html_a7e4cdf3b26a6dae70dd4f078680531a8"><div class="ttname"><a href="structtrap.html#a7e4cdf3b26a6dae70dd4f078680531a8">trap::has_flag</a></div><div class="ttdeci">bool has_flag(const flag_id &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00183">trap.h:183</a></div></div>
<div class="ttc" id="astructtrap_html_a8395d17975e4ff75551655927956120e"><div class="ttname"><a href="structtrap.html#a8395d17975e4ff75551655927956120e">trap::memorial_female</a></div><div class="ttdeci">std::optional&lt; translation &gt; memorial_female</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00144">trap.h:144</a></div></div>
<div class="ttc" id="astructtrap_html_a8aab01ac905f9a67b9615524fbdb372b"><div class="ttname"><a href="structtrap.html#a8aab01ac905f9a67b9615524fbdb372b">trap::memorial_male</a></div><div class="ttdeci">std::optional&lt; translation &gt; memorial_male</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00143">trap.h:143</a></div></div>
<div class="ttc" id="astructtrap_html_a8da1f2f4955bb1cc23a32b880edad689"><div class="ttname"><a href="structtrap.html#a8da1f2f4955bb1cc23a32b880edad689">trap::has_sound_trigger</a></div><div class="ttdeci">bool has_sound_trigger() const</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00381">trap.cpp:381</a></div></div>
<div class="ttc" id="astructtrap_html_a92373743ed980b356de173c228c79499"><div class="ttname"><a href="structtrap.html#a92373743ed980b356de173c228c79499">trap::color</a></div><div class="ttdeci">nc_color color</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00117">trap.h:117</a></div></div>
<div class="ttc" id="astructtrap_html_a9325b1c5da75604d17041a178a32a4f0"><div class="ttname"><a href="structtrap.html#a9325b1c5da75604d17041a178a32a4f0">trap::can_not_be_disarmed</a></div><div class="ttdeci">bool can_not_be_disarmed() const</div><div class="ttdoc">Some traps are part of the terrain (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00440">trap.cpp:440</a></div></div>
<div class="ttc" id="astructtrap_html_a975d50578595efdc3b93fb32bab0e41b"><div class="ttname"><a href="structtrap.html#a975d50578595efdc3b93fb32bab0e41b">trap::sym</a></div><div class="ttdeci">int sym</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00116">trap.h:116</a></div></div>
<div class="ttc" id="astructtrap_html_a9dcaa7079f22ae4a94049e2c9ef74288"><div class="ttname"><a href="structtrap.html#a9dcaa7079f22ae4a94049e2c9ef74288">trap::map_regen</a></div><div class="ttdeci">update_mapgen_id map_regen</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00139">trap.h:139</a></div></div>
<div class="ttc" id="astructtrap_html_a9e32dc8e92c961fb52b3086421c62b8e"><div class="ttname"><a href="structtrap.html#a9e32dc8e92c961fb52b3086421c62b8e">trap::comfort</a></div><div class="ttdeci">int comfort</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00165">trap.h:165</a></div></div>
<div class="ttc" id="astructtrap_html_a9fb79cdedc0f01eae32ff5b0eee3b0ff"><div class="ttname"><a href="structtrap.html#a9fb79cdedc0f01eae32ff5b0eee3b0ff">trap::detected_by_echolocation</a></div><div class="ttdeci">bool detected_by_echolocation() const</div><div class="ttdoc">Whether this kind of trap will be detected by regular sonar ( it is not buried and it's a solid objec...</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00260">trap.cpp:260</a></div></div>
<div class="ttc" id="astructtrap_html_aa1358791b26c268a7b167421e458352e"><div class="ttname"><a href="structtrap.html#aa1358791b26c268a7b167421e458352e">trap::src</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; trap_str_id, mod_id &gt; &gt; src</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00111">trap.h:111</a></div></div>
<div class="ttc" id="astructtrap_html_aa6b4fcf67a39a8ca75ac910055bb99c6"><div class="ttname"><a href="structtrap.html#aa6b4fcf67a39a8ca75ac910055bb99c6">trap::on_disarmed</a></div><div class="ttdeci">void on_disarmed(map &amp;m, const tripoint &amp;p) const</div><div class="ttdoc">Called when a trap at the given point in the map has been disarmed.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00406">trap.cpp:406</a></div></div>
<div class="ttc" id="astructtrap_html_aa7bc509c6fa1aec956f63ec03980e593"><div class="ttname"><a href="structtrap.html#aa7bc509c6fa1aec956f63ec03980e593">trap::triggered_by_item</a></div><div class="ttdeci">bool triggered_by_item(const item &amp;itm) const</div><div class="ttdoc">If the given item is throw onto the trap, does it trigger the trap?</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00371">trap.cpp:371</a></div></div>
<div class="ttc" id="astructtrap_html_aafab5c450397fa7ea6430a9334c2859c"><div class="ttname"><a href="structtrap.html#aafab5c450397fa7ea6430a9334c2859c">trap::is_always_invisible</a></div><div class="ttdeci">bool is_always_invisible() const</div><div class="ttdoc">There are special always invisible traps.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00172">trap.h:172</a></div></div>
<div class="ttc" id="astructtrap_html_ab2767aee5179ad23b3ad0b6b4b2415af"><div class="ttname"><a href="structtrap.html#ab2767aee5179ad23b3ad0b6b4b2415af">trap::loadid</a></div><div class="ttdeci">trap_id loadid</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00112">trap.h:112</a></div></div>
<div class="ttc" id="astructtrap_html_abbf38effe374d03f39b3647a27e3c3a7"><div class="ttname"><a href="structtrap.html#abbf38effe374d03f39b3647a27e3c3a7">trap::difficulty</a></div><div class="ttdeci">int difficulty</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00134">trap.h:134</a></div></div>
<div class="ttc" id="astructtrap_html_abdb4b9b037b1554a9bbf01b9db1f8387"><div class="ttname"><a href="structtrap.html#abdb4b9b037b1554a9bbf01b9db1f8387">trap::components</a></div><div class="ttdeci">std::vector&lt; std::tuple&lt; itype_id, int, int &gt; &gt; components</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00161">trap.h:161</a></div></div>
<div class="ttc" id="astructtrap_html_abeb5ff27f9f78475035f22aabdcfe834"><div class="ttname"><a href="structtrap.html#abeb5ff27f9f78475035f22aabdcfe834">trap::can_see</a></div><div class="ttdeci">bool can_see(const tripoint &amp;pos, const Character &amp;p) const</div><div class="ttdoc">Can player/npc p see this kind of trap, either by their memory (they known there is the trap) or by t...</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00320">trap.cpp:320</a></div></div>
<div class="ttc" id="astructtrap_html_ad3c0ca32b5c9badd2668fd9b5c7c91fc"><div class="ttname"><a href="structtrap.html#ad3c0ca32b5c9badd2668fd9b5c7c91fc">trap::check_consistency</a></div><div class="ttdeci">static void check_consistency()</div><div class="ttdoc">Checks internal consistency (reference to other things like item ids etc.)</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00423">trap.cpp:423</a></div></div>
<div class="ttc" id="astructtrap_html_adc8f59b97597d373f7cb0bbcf061e794"><div class="ttname"><a href="structtrap.html#adc8f59b97597d373f7cb0bbcf061e794">trap::is_benign</a></div><div class="ttdeci">bool is_benign() const</div><div class="ttdoc">If true, this is not really a trap and there won't be any safety queries before stepping onto it (e....</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00221">trap.h:221</a></div></div>
<div class="ttc" id="astructtrap_html_ae04866b832034fdc1af766e8af59a8ea"><div class="ttname"><a href="structtrap.html#ae04866b832034fdc1af766e8af59a8ea">trap::trigger_message_u</a></div><div class="ttdeci">std::optional&lt; translation &gt; trigger_message_u</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00146">trap.h:146</a></div></div>
<div class="ttc" id="astructtrap_html_ae8fcf2bc9d6746ef30f5f8a75ba765f3"><div class="ttname"><a href="structtrap.html#ae8fcf2bc9d6746ef30f5f8a75ba765f3">trap::sound_threshold</a></div><div class="ttdeci">std::pair&lt; int, int &gt; sound_threshold</div><div class="ttdoc">Determines how much sound is needed to trigger the trap.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00158">trap.h:158</a></div></div>
<div class="ttc" id="astructtrap_html_af4ff2a16113fc1dd7c53285c0f91c126"><div class="ttname"><a href="structtrap.html#af4ff2a16113fc1dd7c53285c0f91c126">trap::id</a></div><div class="ttdeci">trap_str_id id</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00110">trap.h:110</a></div></div>
<div class="ttc" id="astructtrap_html_af528369ecffbd6666b411fbbb466bc4e"><div class="ttname"><a href="structtrap.html#af528369ecffbd6666b411fbbb466bc4e">trap::always_invisible</a></div><div class="ttdeci">bool always_invisible</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00138">trap.h:138</a></div></div>
<div class="ttc" id="astructtrap_html_af93e0b8182db7c9d25654a32ae4b86be"><div class="ttname"><a href="structtrap.html#af93e0b8182db7c9d25654a32ae4b86be">trap::detected_by_ground_sonar</a></div><div class="ttdeci">bool detected_by_ground_sonar() const</div><div class="ttdoc">Whether this kind of trap will be detected by ground sonar (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00252">trap.cpp:252</a></div></div>
<div class="ttc" id="astructtrap_html_afefc8440f9684bc6694c3c14dc59a727"><div class="ttname"><a href="structtrap.html#afefc8440f9684bc6694c3c14dc59a727">trap::detect_trap</a></div><div class="ttdeci">bool detect_trap(const tripoint &amp;pos, const Character &amp;p) const</div><div class="ttdoc">Player has not yet seen the trap and returns the variable chance, at this moment, of whether the trap...</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00265">trap.cpp:265</a></div></div>
<div class="ttc" id="astructtrap_html_affe3a3019275e719bc9d4d49f49560ec"><div class="ttname"><a href="structtrap.html#affe3a3019275e719bc9d4d49f49560ec">trap::load</a></div><div class="ttdeci">void load(const JsonObject &amp;jo, std::string_view src)</div><div class="ttdoc">Loads this specific trap.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00137">trap.cpp:137</a></div></div>
<div class="ttc" id="astructtrap_html_afffbc9e94465251d8486a7a7ff31e76c"><div class="ttname"><a href="structtrap.html#afffbc9e94465251d8486a7a7ff31e76c">trap::get_funnels</a></div><div class="ttdeci">static const std::vector&lt; const trap * &gt; &amp; get_funnels()</div><div class="ttdoc">Returns all trap objects that are actually funnels (is_funnel returns true for all of them).</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00115">trap.cpp:115</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
<div class="ttc" id="astructtripoint_html_accc0725c936dbebb2486f969f39e2e5f"><div class="ttname"><a href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">tripoint::xy</a></div><div class="ttdeci">constexpr point xy() const</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00202">point.h:202</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_a0c5bf103091c4d3af6e05554dfb4ea06"><div class="ttname"><a href="structvehicle__handle__trap__data.html#a0c5bf103091c4d3af6e05554dfb4ea06">vehicle_handle_trap_data::sound_volume</a></div><div class="ttdeci">int sound_volume</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00078">trap.h:78</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_a12a8a69fabc09c46c94a872c3deabfc3"><div class="ttname"><a href="structvehicle__handle__trap__data.html#a12a8a69fabc09c46c94a872c3deabfc3">vehicle_handle_trap_data::damage</a></div><div class="ttdeci">int damage</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00076">trap.h:76</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_a2ce8428df648cdf20dc6ac59effcb757"><div class="ttname"><a href="structvehicle__handle__trap__data.html#a2ce8428df648cdf20dc6ac59effcb757">vehicle_handle_trap_data::do_explosion</a></div><div class="ttdeci">bool do_explosion</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00073">trap.h:73</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_a4720c8fd0a5120c5e73999d630a441b9"><div class="ttname"><a href="structvehicle__handle__trap__data.html#a4720c8fd0a5120c5e73999d630a441b9">vehicle_handle_trap_data::chance</a></div><div class="ttdeci">int chance</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00075">trap.h:75</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_a5a19d024919f0e4b3e470b85ceee7557"><div class="ttname"><a href="structvehicle__handle__trap__data.html#a5a19d024919f0e4b3e470b85ceee7557">vehicle_handle_trap_data::sound</a></div><div class="ttdeci">translation sound</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00079">trap.h:79</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_a6f9a3d0f9d4799259b30a03fd1598c4d"><div class="ttname"><a href="structvehicle__handle__trap__data.html#a6f9a3d0f9d4799259b30a03fd1598c4d">vehicle_handle_trap_data::sound_variant</a></div><div class="ttdeci">std::string sound_variant</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00081">trap.h:81</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_a85267d7b741db092465b148b86e023a7"><div class="ttname"><a href="structvehicle__handle__trap__data.html#a85267d7b741db092465b148b86e023a7">vehicle_handle_trap_data::spawn_items</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; itype_id, double &gt; &gt; spawn_items</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00083">trap.h:83</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_a8fc4e74b6409f9616968d445b17c3955"><div class="ttname"><a href="structvehicle__handle__trap__data.html#a8fc4e74b6409f9616968d445b17c3955">vehicle_handle_trap_data::sound_type</a></div><div class="ttdeci">std::string sound_type</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00080">trap.h:80</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_ab19712f6fbd3b157f986b29925197dd3"><div class="ttname"><a href="structvehicle__handle__trap__data.html#ab19712f6fbd3b157f986b29925197dd3">vehicle_handle_trap_data::set_trap</a></div><div class="ttdeci">trap_str_id set_trap</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00084">trap.h:84</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_acf9ea314f7998e6a589bb3187c6ae6a2"><div class="ttname"><a href="structvehicle__handle__trap__data.html#acf9ea314f7998e6a589bb3187c6ae6a2">vehicle_handle_trap_data::remove_trap</a></div><div class="ttdeci">bool remove_trap</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00072">trap.h:72</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_ad34f1fa0ddea2be0516fe52076755d28"><div class="ttname"><a href="structvehicle__handle__trap__data.html#ad34f1fa0ddea2be0516fe52076755d28">vehicle_handle_trap_data::shrapnel</a></div><div class="ttdeci">int shrapnel</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00077">trap.h:77</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_aff743c43f98a9a30f15b33bab668b9f3"><div class="ttname"><a href="structvehicle__handle__trap__data.html#aff743c43f98a9a30f15b33bab668b9f3">vehicle_handle_trap_data::is_falling</a></div><div class="ttdeci">bool is_falling</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00074">trap.h:74</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a1ca356185f3fffe42ba56314c9d5d1e6"><div class="ttname"><a href="trap_8cpp.html#a1ca356185f3fffe42ba56314c9d5d1e6">tr_temple_flood</a></div><div class="ttdeci">const trap_str_id tr_temple_flood(&quot;tr_temple_flood&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_a20dbc35e55f446d1bbca1eda241e2c2d"><div class="ttname"><a href="trap_8cpp.html#a20dbc35e55f446d1bbca1eda241e2c2d">tr_pit</a></div><div class="ttdeci">const trap_str_id tr_pit(&quot;tr_pit&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_a2771ba40119675f04bcbf7651be1aed6"><div class="ttname"><a href="trap_8cpp.html#a2771ba40119675f04bcbf7651be1aed6">proficiency_prof_trapsetting</a></div><div class="ttdeci">static const proficiency_id proficiency_prof_trapsetting(&quot;prof_trapsetting&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_a2b92e4e9fda9f562177702a5d391f4a9"><div class="ttname"><a href="trap_8cpp.html#a2b92e4e9fda9f562177702a5d391f4a9">tr_landmine</a></div><div class="ttdeci">const trap_str_id tr_landmine(&quot;tr_landmine&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_a37199e8cd3670959e46b4d08cd6f44bf"><div class="ttname"><a href="trap_8cpp.html#a37199e8cd3670959e46b4d08cd6f44bf">tr_blade</a></div><div class="ttdeci">const trap_str_id tr_blade(&quot;tr_blade&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_a46c5d5849ba6e179da01f4cf38fd5b17"><div class="ttname"><a href="trap_8cpp.html#a46c5d5849ba6e179da01f4cf38fd5b17">tr_telepad</a></div><div class="ttdeci">const trap_str_id tr_telepad(&quot;tr_telepad&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_a5f970bbbe71eb4a2147e47f9e4ee7a58"><div class="ttname"><a href="trap_8cpp.html#a5f970bbbe71eb4a2147e47f9e4ee7a58">tr_beartrap_buried</a></div><div class="ttdeci">const trap_str_id tr_beartrap_buried(&quot;tr_beartrap_buried&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_a660bc589cacd3134b4d73557f1631f01"><div class="ttname"><a href="trap_8cpp.html#a660bc589cacd3134b4d73557f1631f01">update_mapgen_none</a></div><div class="ttdeci">static const update_mapgen_id update_mapgen_none(&quot;none&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_a674fb569b18a4bd66bc0c484be0ed9b4"><div class="ttname"><a href="trap_8cpp.html#a674fb569b18a4bd66bc0c484be0ed9b4">tr_glow</a></div><div class="ttdeci">const trap_str_id tr_glow(&quot;tr_glow&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_a6ae504247f90efd7f9bfcd7b2bad7ae6"><div class="ttname"><a href="trap_8cpp.html#a6ae504247f90efd7f9bfcd7b2bad7ae6">tr_portal</a></div><div class="ttdeci">const trap_str_id tr_portal(&quot;tr_portal&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_a7a5cc6e3b52cc05c75c8bb8158298d93"><div class="ttname"><a href="trap_8cpp.html#a7a5cc6e3b52cc05c75c8bb8158298d93">json_flag_ECHOLOCATION_DETECTABLE</a></div><div class="ttdeci">static const flag_id json_flag_ECHOLOCATION_DETECTABLE(&quot;ECHOLOCATION_DETECTABLE&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_a7b8e40eb2b50e3841e2d9f2d0531226a"><div class="ttname"><a href="trap_8cpp.html#a7b8e40eb2b50e3841e2d9f2d0531226a">tr_null</a></div><div class="ttdeci">trap_id tr_null</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00421">trap.cpp:421</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a8149ff482a37aa5d47ca76e6ad3f54b7"><div class="ttname"><a href="trap_8cpp.html#a8149ff482a37aa5d47ca76e6ad3f54b7">funnel_traps</a></div><div class="ttdeci">static std::vector&lt; const trap * &gt; funnel_traps</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00113">trap.cpp:113</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a84bb10a20abc66ee67b5c51d792c144e"><div class="ttname"><a href="trap_8cpp.html#a84bb10a20abc66ee67b5c51d792c144e">sound_triggered_traps</a></div><div class="ttdeci">static std::vector&lt; const trap * &gt; sound_triggered_traps</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00120">trap.cpp:120</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a8dfa2eedc13f1510185489b7c3f9be64"><div class="ttname"><a href="trap_8cpp.html#a8dfa2eedc13f1510185489b7c3f9be64">tr_shotgun_2</a></div><div class="ttdeci">const trap_str_id tr_shotgun_2(&quot;tr_shotgun_2&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_a9353c39452c59a433c7c4c301386e91f"><div class="ttname"><a href="trap_8cpp.html#a9353c39452c59a433c7c4c301386e91f">skill_traps</a></div><div class="ttdeci">static const skill_id skill_traps(&quot;traps&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_a99a6ecb0698fd38b452c8e9833af5947"><div class="ttname"><a href="trap_8cpp.html#a99a6ecb0698fd38b452c8e9833af5947">tr_temple_toggle</a></div><div class="ttdeci">const trap_str_id tr_temple_toggle(&quot;tr_temple_toggle&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_a9d7e5dc72cb6e99095b4cb3d0d26ecd4"><div class="ttname"><a href="trap_8cpp.html#a9d7e5dc72cb6e99095b4cb3d0d26ecd4">tr_ledge</a></div><div class="ttdeci">const trap_str_id tr_ledge(&quot;tr_ledge&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_ab26bd7eb4aa388fe47209f9014a68f62"><div class="ttname"><a href="trap_8cpp.html#ab26bd7eb4aa388fe47209f9014a68f62">proficiency_prof_spotting</a></div><div class="ttdeci">static const proficiency_id proficiency_prof_spotting(&quot;prof_spotting&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_ab4f7bfd1861799c55e2d7fbf2717c962"><div class="ttname"><a href="trap_8cpp.html#ab4f7bfd1861799c55e2d7fbf2717c962">tr_sinkhole</a></div><div class="ttdeci">const trap_str_id tr_sinkhole(&quot;tr_sinkhole&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_ab8f83226111c98b8d5629a29ca77c4a7"><div class="ttname"><a href="trap_8cpp.html#ab8f83226111c98b8d5629a29ca77c4a7">tr_landmine_buried</a></div><div class="ttdeci">const trap_str_id tr_landmine_buried(&quot;tr_landmine_buried&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_ac4e0181eda084ded32a1b073923f0b45"><div class="ttname"><a href="trap_8cpp.html#ac4e0181eda084ded32a1b073923f0b45">tr_drain</a></div><div class="ttdeci">const trap_str_id tr_drain(&quot;tr_drain&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_acbbf3671ba7e85ac827fddb096611a77"><div class="ttname"><a href="trap_8cpp.html#acbbf3671ba7e85ac827fddb096611a77">tr_lava</a></div><div class="ttdeci">const trap_str_id tr_lava(&quot;tr_lava&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_ad31a1a0c6c31e108afecb4d49bdc03bd"><div class="ttname"><a href="trap_8cpp.html#ad31a1a0c6c31e108afecb4d49bdc03bd">proficiency_prof_traps</a></div><div class="ttdeci">static const proficiency_id proficiency_prof_traps(&quot;prof_traps&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_adca830a812eead5a36689d9aee480ac5"><div class="ttname"><a href="trap_8cpp.html#adca830a812eead5a36689d9aee480ac5">tr_hum</a></div><div class="ttdeci">const trap_str_id tr_hum(&quot;tr_hum&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_ade9143cb2cd0d2653e8374ab8b6ac955"><div class="ttname"><a href="trap_8cpp.html#ade9143cb2cd0d2653e8374ab8b6ac955">tr_dissector</a></div><div class="ttdeci">const trap_str_id tr_dissector(&quot;tr_dissector&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_af406dedb2e646d2f18e5d5b5b3fa5a84"><div class="ttname"><a href="trap_8cpp.html#af406dedb2e646d2f18e5d5b5b3fa5a84">tr_snake</a></div><div class="ttdeci">const trap_str_id tr_snake(&quot;tr_snake&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_af6237465e07f168afbdf3f2eeafe7e15"><div class="ttname"><a href="trap_8cpp.html#af6237465e07f168afbdf3f2eeafe7e15">json_flag_SONAR_DETECTABLE</a></div><div class="ttdeci">static const flag_id json_flag_SONAR_DETECTABLE(&quot;SONAR_DETECTABLE&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_af6f884678af8ae4523b9e4ba6ecc77dd"><div class="ttname"><a href="trap_8cpp.html#af6f884678af8ae4523b9e4ba6ecc77dd">tr_shotgun_1</a></div><div class="ttdeci">const trap_str_id tr_shotgun_1(&quot;tr_shotgun_1&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_af7be0fdf59a1f94184f49073494ded76"><div class="ttname"><a href="trap_8cpp.html#af7be0fdf59a1f94184f49073494ded76">tr_goo</a></div><div class="ttdeci">const trap_str_id tr_goo(&quot;tr_goo&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_afb7256c72157b065b8b8aa10bf426074"><div class="ttname"><a href="trap_8cpp.html#afb7256c72157b065b8b8aa10bf426074">tr_shadow</a></div><div class="ttdeci">const trap_str_id tr_shadow(&quot;tr_shadow&quot;)</div></div>
<div class="ttc" id="atrap_8h_html"><div class="ttname"><a href="trap_8h.html">trap.h</a></div></div>
<div class="ttc" id="atrap_8h_html_a98757e7db5617489d696813f18374dca"><div class="ttname"><a href="trap_8h.html#a98757e7db5617489d696813f18374dca">trap_function_from_string</a></div><div class="ttdeci">const trap_function &amp; trap_function_from_string(const std::string &amp;function_name)</div><div class="ttdoc">Takes the name of a trap function and returns a function pointer to it.</div><div class="ttdef"><b>Definition:</b> <a href="trapfunc_8cpp_source.html#l01655">trapfunc.cpp:1655</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:32 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
