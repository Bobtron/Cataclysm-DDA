<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: basecamp Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classbasecamp-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">basecamp Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="basecamp_8h_source.html">basecamp.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9638f052fa242f824e41d0ea8a51eab0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a9638f052fa242f824e41d0ea8a51eab0">basecamp</a> ()</td></tr>
<tr class="separator:a9638f052fa242f824e41d0ea8a51eab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a990e17d7c534d16913f63b58799b9a5b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a990e17d7c534d16913f63b58799b9a5b">basecamp</a> (const std::string &amp;name_, const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;<a class="el" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>)</td></tr>
<tr class="separator:a990e17d7c534d16913f63b58799b9a5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9774567361766968baf1385af5572987"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a9774567361766968baf1385af5572987">basecamp</a> (const std::string &amp;name_, const <a class="el" href="structtripoint.html">tripoint</a> &amp;bb_pos_, const std::vector&lt; <a class="el" href="structpoint.html">point</a> &gt; &amp;directions_, const std::map&lt; <a class="el" href="structpoint.html">point</a>, <a class="el" href="structexpansion__data.html">expansion_data</a> &gt; &amp;expansions_)</td></tr>
<tr class="separator:a9774567361766968baf1385af5572987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a97495a2d8dc70dd6395679d75dd7ab"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a3a97495a2d8dc70dd6395679d75dd7ab">is_valid</a> () const</td></tr>
<tr class="separator:a3a97495a2d8dc70dd6395679d75dd7ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1660090a0fa3cb0527e7fddc50e7e79"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ad1660090a0fa3cb0527e7fddc50e7e79">board_x</a> () const</td></tr>
<tr class="separator:ad1660090a0fa3cb0527e7fddc50e7e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d658a2c74312f7b6be9685a2cd501a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a5d658a2c74312f7b6be9685a2cd501a3">board_y</a> () const</td></tr>
<tr class="separator:a5d658a2c74312f7b6be9685a2cd501a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade51aefc6c8e4db92ffe5457e239aea2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ade51aefc6c8e4db92ffe5457e239aea2">camp_omt_pos</a> () const</td></tr>
<tr class="separator:ade51aefc6c8e4db92ffe5457e239aea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae56381c14c704cd80c3b4147cb56ee82"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ae56381c14c704cd80c3b4147cb56ee82">camp_name</a> () const</td></tr>
<tr class="separator:ae56381c14c704cd80c3b4147cb56ee82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab11f768b4bb03073257d817875de4178"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ab11f768b4bb03073257d817875de4178">get_bb_pos</a> () const</td></tr>
<tr class="separator:ab11f768b4bb03073257d817875de4178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aeca574216eb4715b478f9349185bab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a9aeca574216eb4715b478f9349185bab">validate_bb_pos</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;new_abs_pos)</td></tr>
<tr class="separator:a9aeca574216eb4715b478f9349185bab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0daed3f8b7711b53ce4e598f6a0e97ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a0daed3f8b7711b53ce4e598f6a0e97ed">set_bb_pos</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;new_abs_pos)</td></tr>
<tr class="separator:a0daed3f8b7711b53ce4e598f6a0e97ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae589ad011146be27d180bd6638f6086f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ae589ad011146be27d180bd6638f6086f">set_by_radio</a> (bool access_by_radio)</td></tr>
<tr class="separator:ae589ad011146be27d180bd6638f6086f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5f75a1e3db439e9fe9e64428f5d4f3a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ab5f75a1e3db439e9fe9e64428f5d4f3a">board_name</a> () const</td></tr>
<tr class="separator:ab5f75a1e3db439e9fe9e64428f5d4f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4e7201ff6c8844744f37f4afded6579"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ab4e7201ff6c8844744f37f4afded6579">faction_display</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;fac_w, int width) const</td></tr>
<tr class="separator:ab4e7201ff6c8844744f37f4afded6579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95086abb7f86c54d25d1d06d1db46beb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a95086abb7f86c54d25d1d06d1db46beb">set_name</a> (const std::string &amp;new_name)</td></tr>
<tr class="separator:a95086abb7f86c54d25d1d06d1db46beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84f7e742642896952db31f13770cd543"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a84f7e742642896952db31f13770cd543">query_new_name</a> (bool <a class="el" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>=false)</td></tr>
<tr class="separator:a84f7e742642896952db31f13770cd543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97c51d3d8f5e08e3740d315116ac5843"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a97c51d3d8f5e08e3740d315116ac5843">abandon_camp</a> ()</td></tr>
<tr class="separator:a97c51d3d8f5e08e3740d315116ac5843"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ae7a79b8b4ca5c5ea188d40d72b7c4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a4ae7a79b8b4ca5c5ea188d40d72b7c4e">scan_pseudo_items</a> ()</td></tr>
<tr class="separator:a4ae7a79b8b4ca5c5ea188d40d72b7c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a428d9bd0a4236d5b24b58c6daa461adf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a428d9bd0a4236d5b24b58c6daa461adf">add_expansion</a> (const std::string &amp;<a class="el" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a>, const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;new_pos)</td></tr>
<tr class="separator:a428d9bd0a4236d5b24b58c6daa461adf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45616e7edbed186901976d89763d0f7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a45616e7edbed186901976d89763d0f7e">add_expansion</a> (const std::string &amp;bldg, const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;new_pos, const <a class="el" href="structpoint.html">point</a> &amp;dir)</td></tr>
<tr class="separator:a45616e7edbed186901976d89763d0f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d1cbca829f13b5626e311bb529881d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a91d1cbca829f13b5626e311bb529881d">define_camp</a> (const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;p, std::string_view camp_type)</td></tr>
<tr class="separator:a91d1cbca829f13b5626e311bb529881d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60c61eb959b596a9fe2af47be098221e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a60c61eb959b596a9fe2af47be098221e">expansion_tab</a> (const <a class="el" href="structpoint.html">point</a> &amp;dir) const</td></tr>
<tr class="separator:a60c61eb959b596a9fe2af47be098221e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1703b3c9b8e3a523a64dac1f0329432e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a1703b3c9b8e3a523a64dac1f0329432e">point_within_camp</a> (const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;p) const</td></tr>
<tr class="separator:a1703b3c9b8e3a523a64dac1f0329432e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8892ccfaa96d33120779b51fc2cb545a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a> (const std::string &amp;req, const <a class="el" href="structexpansion__data.html">expansion_data</a> &amp;e_data, int level=0) const</td></tr>
<tr class="separator:a8892ccfaa96d33120779b51fc2cb545a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61e69a3891840fe65622922295f3e7e1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a61e69a3891840fe65622922295f3e7e1">has_provides</a> (const std::string &amp;req, const <a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="structpoint.html">point</a> &gt; &amp;dir=std::nullopt, int level=0) const</td></tr>
<tr class="separator:a61e69a3891840fe65622922295f3e7e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38f564976b4c46a367b94d683c508f3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a38f564976b4c46a367b94d683c508f3b">update_resources</a> (const std::string &amp;bldg)</td></tr>
<tr class="separator:a38f564976b4c46a367b94d683c508f3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb18f0e442ddb5df1ad80622382833df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#adb18f0e442ddb5df1ad80622382833df">update_provides</a> (const std::string &amp;bldg, <a class="el" href="structexpansion__data.html">expansion_data</a> &amp;e_data)</td></tr>
<tr class="separator:adb18f0e442ddb5df1ad80622382833df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c287c78fafdbec24724b3b1f049fe11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a9c287c78fafdbec24724b3b1f049fe11">update_in_progress</a> (const std::string &amp;bldg, const <a class="el" href="structpoint.html">point</a> &amp;dir)</td></tr>
<tr class="separator:a9c287c78fafdbec24724b3b1f049fe11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91a411d614d10dc5c507058518613740"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a91a411d614d10dc5c507058518613740">next_upgrade</a> (const <a class="el" href="structpoint.html">point</a> &amp;dir, int offset=1) const</td></tr>
<tr class="memdesc:a91a411d614d10dc5c507058518613740"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the building the current building dir upgrades into, "null" if there isn't one.  <a href="classbasecamp.html#a91a411d614d10dc5c507058518613740">More...</a><br /></td></tr>
<tr class="separator:a91a411d614d10dc5c507058518613740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e3db9be879ad31f4b2ebb79bcb208a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structbasecamp__upgrade.html">basecamp_upgrade</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a32e3db9be879ad31f4b2ebb79bcb208a">available_upgrades</a> (const <a class="el" href="structpoint.html">point</a> &amp;dir)</td></tr>
<tr class="separator:a32e3db9be879ad31f4b2ebb79bcb208a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5795deed1ba5ae2b71f49ef6bae9e1d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ab5795deed1ba5ae2b71f49ef6bae9e1d">recruit_evaluation</a> () const</td></tr>
<tr class="separator:ab5795deed1ba5ae2b71f49ef6bae9e1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d323678021f82066327fff1cf21c73e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a7d323678021f82066327fff1cf21c73e">recruit_evaluation</a> (int &amp;sbase, int &amp;sexpansions, int &amp;sfaction, int &amp;sbonus) const</td></tr>
<tr class="separator:a7d323678021f82066327fff1cf21c73e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af444c9325e40cf302418a1566abdb4e2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#af444c9325e40cf302418a1566abdb4e2">validate_sort_points</a> ()</td></tr>
<tr class="separator:af444c9325e40cf302418a1566abdb4e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec8c9d3dc62bff25c4871ee6b427c29a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structexpansion__data.html">expansion_data</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#aec8c9d3dc62bff25c4871ee6b427c29a">parse_expansion</a> (std::string_view <a class="el" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a>, const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;new_pos)</td></tr>
<tr class="separator:aec8c9d3dc62bff25c4871ee6b427c29a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac47cef787a568e256539140923ea2502"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ac47cef787a568e256539140923ea2502">set_sort_points</a> ()</td></tr>
<tr class="memdesc:ac47cef787a568e256539140923ea2502"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invokes the zone manager and validates that the necessary sort zones exist.  <a href="classbasecamp.html#ac47cef787a568e256539140923ea2502">More...</a><br /></td></tr>
<tr class="separator:ac47cef787a568e256539140923ea2502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a399448deb1704654be0979c9a763db03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnutrients.html">nutrients</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a399448deb1704654be0979c9a763db03">camp_food_supply</a> (<a class="el" href="structnutrients.html">nutrients</a> &amp;change)</td></tr>
<tr class="memdesc:a399448deb1704654be0979c9a763db03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the faction food supply by change, returns the amount of kcal+vitamins consumed, a negative total food supply hurts morale Handles vitamin consumption when only a kcal value is supplied.  <a href="classbasecamp.html#a399448deb1704654be0979c9a763db03">More...</a><br /></td></tr>
<tr class="separator:a399448deb1704654be0979c9a763db03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af556345c6de003f6268973a7cddeb90c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnutrients.html">nutrients</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#af556345c6de003f6268973a7cddeb90c">camp_food_supply</a> (int change)</td></tr>
<tr class="memdesc:af556345c6de003f6268973a7cddeb90c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new nutrients struct in place and forwards it. Passed argument should be in kilocalories.  <a href="classbasecamp.html#af556345c6de003f6268973a7cddeb90c">More...</a><br /></td></tr>
<tr class="separator:af556345c6de003f6268973a7cddeb90c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42fae91a4687db12e844418cf384e868"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnutrients.html">nutrients</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a42fae91a4687db12e844418cf384e868">camp_food_supply</a> (<a class="el" href="classtime__duration.html">time_duration</a> work, float exertion_level=<a class="el" href="game__constants_8h.html#a2ff11848079530402510dded26ad7b71">NO_EXERCISE</a>)</td></tr>
<tr class="memdesc:a42fae91a4687db12e844418cf384e868"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates raw kcal cost from duration of work and exercise, then forwards it to above.  <a href="classbasecamp.html#a42fae91a4687db12e844418cf384e868">More...</a><br /></td></tr>
<tr class="separator:a42fae91a4687db12e844418cf384e868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9c0b6c28a8826d7822ad8f9ab3ae1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a6e9c0b6c28a8826d7822ad8f9ab3ae1a">feed_workers</a> (const std::vector&lt; std::reference_wrapper&lt; <a class="el" href="classCharacter.html">Character</a> &gt;&gt; &amp;workers, <a class="el" href="structnutrients.html">nutrients</a> food, bool is_player_meal=false)</td></tr>
<tr class="memdesc:a6e9c0b6c28a8826d7822ad8f9ab3ae1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evenly distributes the actual consumed food from a work project to the workers assigned to it.  <a href="classbasecamp.html#a6e9c0b6c28a8826d7822ad8f9ab3ae1a">More...</a><br /></td></tr>
<tr class="separator:a6e9c0b6c28a8826d7822ad8f9ab3ae1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9252d9320e8dfac8ce40759533800ccf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a9252d9320e8dfac8ce40759533800ccf">feed_workers</a> (<a class="el" href="classCharacter.html">Character</a> &amp;worker, <a class="el" href="structnutrients.html">nutrients</a> food, bool is_player_meal=false)</td></tr>
<tr class="memdesc:a9252d9320e8dfac8ce40759533800ccf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper, forwards to above.  <a href="classbasecamp.html#a9252d9320e8dfac8ce40759533800ccf">More...</a><br /></td></tr>
<tr class="separator:a9252d9320e8dfac8ce40759533800ccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad52e6d4706afa091e577b6c6d241576a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ad52e6d4706afa091e577b6c6d241576a">player_eats_meal</a> ()</td></tr>
<tr class="separator:ad52e6d4706afa091e577b6c6d241576a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c6abe69c9b253e711d6068d23345822"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a0c6abe69c9b253e711d6068d23345822">make_fake_food</a> (const <a class="el" href="structnutrients.html">nutrients</a> &amp;to_use) const</td></tr>
<tr class="separator:a0c6abe69c9b253e711d6068d23345822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafe3d202cb9365b3963a49b9dac042f6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#aafe3d202cb9365b3963a49b9dac042f6">distribute_food</a> ()</td></tr>
<tr class="memdesc:aafe3d202cb9365b3963a49b9dac042f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes all the food from the camp_food zone and increases the faction food_supply.  <a href="classbasecamp.html#aafe3d202cb9365b3963a49b9dac042f6">More...</a><br /></td></tr>
<tr class="separator:aafe3d202cb9365b3963a49b9dac042f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d9a4158801c8a1c74b296b0a699eebe"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id)</td></tr>
<tr class="separator:a5d9a4158801c8a1c74b296b0a699eebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad62f9423efe766d2d93f5df8e3f2dedb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ad62f9423efe766d2d93f5df8e3f2dedb">handle_hide_mission</a> (const <a class="el" href="structpoint.html">point</a> &amp;dir)</td></tr>
<tr class="separator:ad62f9423efe766d2d93f5df8e3f2dedb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed6e9962f4538cba9c6c9fa38aaba01b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#aed6e9962f4538cba9c6c9fa38aaba01b">handle_reveal_mission</a> (const <a class="el" href="structpoint.html">point</a> &amp;dir)</td></tr>
<tr class="separator:aed6e9962f4538cba9c6c9fa38aaba01b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac422f34b7fd2c82e4b29bf5ad272309a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ac422f34b7fd2c82e4b29bf5ad272309a">has_water</a> () const</td></tr>
<tr class="separator:ac422f34b7fd2c82e4b29bf5ad272309a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad145fb3595555a714a047bedcaa014fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ad145fb3595555a714a047bedcaa014fc">camp_food_supply_days</a> (float exertion_level) const</td></tr>
<tr class="memdesc:ad145fb3595555a714a047bedcaa014fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of days the current camp supplies lasts at the given exertion level.  <a href="classbasecamp.html#ad145fb3595555a714a047bedcaa014fc">More...</a><br /></td></tr>
<tr class="separator:ad145fb3595555a714a047bedcaa014fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8b09a6253b1bcaa15d1735caa5c7644"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">time_to_food</a> (<a class="el" href="classtime__duration.html">time_duration</a> work, float exertion_level=<a class="el" href="game__constants_8h.html#a2ff11848079530402510dded26ad7b71">NO_EXERCISE</a>) const</td></tr>
<tr class="memdesc:ac8b09a6253b1bcaa15d1735caa5c7644"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total charges of food <a class="el" href="classtime__duration.html" title="A duration defined as a number of specific time units.">time_duration</a> work costs.  <a href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">More...</a><br /></td></tr>
<tr class="separator:ac8b09a6253b1bcaa15d1735caa5c7644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a831d58ceac6141027f0b6eef5e6d9ca0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a831d58ceac6141027f0b6eef5e6d9ca0">camp_discipline</a> (int change=0) const</td></tr>
<tr class="memdesc:a831d58ceac6141027f0b6eef5e6d9ca0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the faction respect for you by change, returns respect.  <a href="classbasecamp.html#a831d58ceac6141027f0b6eef5e6d9ca0">More...</a><br /></td></tr>
<tr class="separator:a831d58ceac6141027f0b6eef5e6d9ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac902a04152acb33a9f06d6c183ccfb1d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ac902a04152acb33a9f06d6c183ccfb1d">camp_morale</a> (int change=0) const</td></tr>
<tr class="memdesc:ac902a04152acb33a9f06d6c183ccfb1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the faction opinion for you by change, returns opinion.  <a href="classbasecamp.html#ac902a04152acb33a9f06d6c183ccfb1d">More...</a><br /></td></tr>
<tr class="separator:ac902a04152acb33a9f06d6c183ccfb1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba6c99a1a18288ac5daa5441414f9241"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>, <a class="el" href="classtranslation.html">translation</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#aba6c99a1a18288ac5daa5441414f9241">recipe_deck</a> (const <a class="el" href="structpoint.html">point</a> &amp;dir) const</td></tr>
<tr class="separator:aba6c99a1a18288ac5daa5441414f9241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91d8afeee29dedc068dc1dbe4e7127e"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>, <a class="el" href="classtranslation.html">translation</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ac91d8afeee29dedc068dc1dbe4e7127e">recipe_deck</a> (const std::string &amp;bldg) const</td></tr>
<tr class="separator:ac91d8afeee29dedc068dc1dbe4e7127e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c0d82084ebc2a0ed36ba88e3b042de"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ab8c0d82084ebc2a0ed36ba88e3b042de">recipe_batch_max</a> (const <a class="el" href="classrecipe.html">recipe</a> &amp;making) const</td></tr>
<tr class="separator:ab8c0d82084ebc2a0ed36ba88e3b042de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbd07a46ef507efe1e75fee8610cabd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#abbd07a46ef507efe1e75fee8610cabd9">form_crafting_inventory</a> ()</td></tr>
<tr class="separator:abbd07a46ef507efe1e75fee8610cabd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f05f466f424e9062a2456795da2faad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a8f05f466f424e9062a2456795da2faad">form_crafting_inventory</a> (<a class="el" href="classmap.html">map</a> &amp;target_map)</td></tr>
<tr class="separator:a8f05f466f424e9062a2456795da2faad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba023ca60803f222b7b71581c908c6d2"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#aba023ca60803f222b7b71581c908c6d2">use_charges</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;fake_id, int &amp;quantity)</td></tr>
<tr class="separator:aba023ca60803f222b7b71581c908c6d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a7834ed84f8c60d76eece5ea7a08ec5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a4a7834ed84f8c60d76eece5ea7a08ec5">search_results</a> (int skill, const <a class="el" href="type__id_8h.html#af237c901b245e3a737fbb0d6a390d2a2">item_group_id</a> &amp;, int attempts, int difficulty)</td></tr>
<tr class="memdesc:a4a7834ed84f8c60d76eece5ea7a08ec5"><td class="mdescLeft">&#160;</td><td class="mdescRight">spawn items or corpses based on search attempts  <a href="classbasecamp.html#a4a7834ed84f8c60d76eece5ea7a08ec5">More...</a><br /></td></tr>
<tr class="separator:a4a7834ed84f8c60d76eece5ea7a08ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6e36810b073d323784a18556d0ef8d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#af6e36810b073d323784a18556d0ef8d3">hunting_results</a> (int skill, const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, int attempts, int difficulty)</td></tr>
<tr class="memdesc:af6e36810b073d323784a18556d0ef8d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">spawn items or corpses based on search attempts  <a href="classbasecamp.html#af6e36810b073d323784a18556d0ef8d3">More...</a><br /></td></tr>
<tr class="separator:af6e36810b073d323784a18556d0ef8d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a9157fe0ca7237eeb0665e46d16fbcf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a8a9157fe0ca7237eeb0665e46d16fbcf">make_corpse_from_group</a> (const std::vector&lt; <a class="el" href="structMonsterGroupResult.html">MonsterGroupResult</a> &gt; &amp;group)</td></tr>
<tr class="separator:a8a9157fe0ca7237eeb0665e46d16fbcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73460c18ede5441db580438105fed234"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a73460c18ede5441db580438105fed234">get_dumping_spot</a> () const</td></tr>
<tr class="separator:a73460c18ede5441db580438105fed234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28e4cc544b6944dc778233c428b3510a"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a28e4cc544b6944dc778233c428b3510a">get_liquid_dumping_spot</a> () const</td></tr>
<tr class="separator:a28e4cc544b6944dc778233c428b3510a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0dc9d6f3e753ea9b8b820fdbbb80755"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ac0dc9d6f3e753ea9b8b820fdbbb80755">set_dumping_spot</a> (const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;spot)</td></tr>
<tr class="separator:ac0dc9d6f3e753ea9b8b820fdbbb80755"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8df147b5a1abd5f4015a25697ede03eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a8df147b5a1abd5f4015a25697ede03eb">set_liquid_dumping_spot</a> (const std::vector&lt; <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &gt; &amp;liquid_dumps)</td></tr>
<tr class="separator:a8df147b5a1abd5f4015a25697ede03eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a27f46f305c8f1ccaaa31c3879a83b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a4a27f46f305c8f1ccaaa31c3879a83b6">place_results</a> (const <a class="el" href="classitem.html">item</a> &amp;result)</td></tr>
<tr class="separator:a4a27f46f305c8f1ccaaa31c3879a83b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9553603cb500ef6532765306746a83e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a9553603cb500ef6532765306746a83e0">add_available_recipes</a> (<a class="el" href="classmission__data.html">mission_data</a> &amp;mission_key, <a class="el" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6">mission_kind</a> kind, const <a class="el" href="structpoint.html">point</a> &amp;dir, const std::map&lt; <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>, <a class="el" href="classtranslation.html">translation</a> &gt; &amp;craft_recipes)</td></tr>
<tr class="separator:a9553603cb500ef6532765306746a83e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a850afa4ba15ff2922b3576a3e24e75d3"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a850afa4ba15ff2922b3576a3e24e75d3">recruit_description</a> (int npc_count) const</td></tr>
<tr class="separator:a850afa4ba15ff2922b3576a3e24e75d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc18e5c9003168f5b9da5756d2b77243"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#abc18e5c9003168f5b9da5756d2b77243">gathering_description</a> ()</td></tr>
<tr class="memdesc:abc18e5c9003168f5b9da5756d2b77243"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides a "guess" for some of the things your gatherers will return with to upgrade the camp.  <a href="classbasecamp.html#abc18e5c9003168f5b9da5756d2b77243">More...</a><br /></td></tr>
<tr class="separator:abc18e5c9003168f5b9da5756d2b77243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62af31c7aff0008fb191ff0be96d4675"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a62af31c7aff0008fb191ff0be96d4675">farm_description</a> (const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;farm_pos, size_t &amp;plots_count, <a class="el" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61">farm_ops</a> operation)</td></tr>
<tr class="memdesc:a62af31c7aff0008fb191ff0be96d4675"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string for the number of plants that are harvestable, plots ready to plant, and ground that needs tilling.  <a href="classbasecamp.html#a62af31c7aff0008fb191ff0be96d4675">More...</a><br /></td></tr>
<tr class="separator:a62af31c7aff0008fb191ff0be96d4675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9614b7c6366950ce5bd9e310cde3fc8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ae9614b7c6366950ce5bd9e310cde3fc8">craft_description</a> (const <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> &amp;itm)</td></tr>
<tr class="memdesc:ae9614b7c6366950ce5bd9e310cde3fc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the description of a camp crafting options.  <a href="classbasecamp.html#ae9614b7c6366950ce5bd9e310cde3fc8">More...</a><br /></td></tr>
<tr class="separator:ae9614b7c6366950ce5bd9e310cde3fc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9f67bf4449e1d0c51b0cbd7839dcc51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ac9f67bf4449e1d0c51b0cbd7839dcc51">get_available_missions</a> (<a class="el" href="classmission__data.html">mission_data</a> &amp;mission_key, <a class="el" href="classmap.html">map</a> &amp;here)</td></tr>
<tr class="separator:ac9f67bf4449e1d0c51b0cbd7839dcc51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5185f02189aa962143d0e47ddcdd5aa4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a5185f02189aa962143d0e47ddcdd5aa4">get_available_missions_by_dir</a> (<a class="el" href="classmission__data.html">mission_data</a> &amp;mission_key, const <a class="el" href="structpoint.html">point</a> &amp;dir)</td></tr>
<tr class="separator:a5185f02189aa962143d0e47ddcdd5aa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e7cbc59d14361bd97029f6da3680de4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a9e7cbc59d14361bd97029f6da3680de4">choose_new_leader</a> ()</td></tr>
<tr class="separator:a9e7cbc59d14361bd97029f6da3680de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b801ad8632988da9dfedae6100e564d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a4b801ad8632988da9dfedae6100e564d">reset_camp_workers</a> ()</td></tr>
<tr class="separator:a4b801ad8632988da9dfedae6100e564d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8de3b4b3dcff471756188647b68fc92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, bool <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a857af22f119fefbfa24769ed2ad6d5e7">contains</a>=false)</td></tr>
<tr class="separator:ae8de3b4b3dcff471756188647b68fc92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe26bf1323ce017b9bc79fbd0229c5d9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#abe26bf1323ce017b9bc79fbd0229c5d9">handle_mission</a> (const <a class="el" href="structui__mission__id.html">ui_mission_id</a> &amp;miss_id)</td></tr>
<tr class="separator:abe26bf1323ce017b9bc79fbd0229c5d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84ee01594d047048258c9bf59880e1fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, <a class="el" href="classtime__duration.html">time_duration</a> duration, bool must_feed, const std::string &amp;desc, bool group, const std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt; &amp;equipment, const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;skill_tested, int skill_level, float exertion_level)</td></tr>
<tr class="memdesc:a84ee01594d047048258c9bf59880e1fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">generic mission start function that wraps individual mission  <a href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">More...</a><br /></td></tr>
<tr class="separator:a84ee01594d047048258c9bf59880e1fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9efffbcfbcc19edd879fe21a0128dae1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a9efffbcfbcc19edd879fe21a0128dae1">start_mission</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, <a class="el" href="classtime__duration.html">time_duration</a> duration, bool must_feed, const std::string &amp;desc, bool group, const std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt; &amp;equipment, float exertion_level, const std::map&lt; <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>, int &gt; &amp;required_skills={})</td></tr>
<tr class="separator:a9efffbcfbcc19edd879fe21a0128dae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc36f57775b55c418c99e9085666c8bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#adc36f57775b55c418c99e9085666c8bd">start_multi_mission</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, bool must_feed, const std::string &amp;desc, const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;skill_tested, int skill_level)</td></tr>
<tr class="separator:adc36f57775b55c418c99e9085666c8bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27d912ac5fbcb1a711c24cedefdb7fc8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a27d912ac5fbcb1a711c24cedefdb7fc8">start_multi_mission</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, bool must_feed, const std::string &amp;desc, const std::map&lt; <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>, int &gt; &amp;required_skills={})</td></tr>
<tr class="separator:a27d912ac5fbcb1a711c24cedefdb7fc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a450d97de3568eb96548dd736e9a4f5c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a450d97de3568eb96548dd736e9a4f5c6">start_upgrade</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id)</td></tr>
<tr class="separator:a450d97de3568eb96548dd736e9a4f5c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a756bb73b0f45a91a6a2bb9a1b59ebde0"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a756bb73b0f45a91a6a2bb9a1b59ebde0">om_upgrade_description</a> (const std::string &amp;bldg, const <a class="el" href="structmapgen__arguments.html">mapgen_arguments</a> &amp;, bool <a class="el" href="math__parser__func_8h.html#ae1493a6511be3f794432c20e30fa3bfd">trunc</a>=false) const</td></tr>
<tr class="memdesc:a756bb73b0f45a91a6a2bb9a1b59ebde0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the description for the recipe of the next building bldg.  <a href="classbasecamp.html#a756bb73b0f45a91a6a2bb9a1b59ebde0">More...</a><br /></td></tr>
<tr class="separator:a756bb73b0f45a91a6a2bb9a1b59ebde0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a418cfaa9121a706b452cb4b0a922fe1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a418cfaa9121a706b452cb4b0a922fe1a">start_menial_labor</a> ()</td></tr>
<tr class="separator:a418cfaa9121a706b452cb4b0a922fe1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a727e961f24b5096c2e65c4462a3a650d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a727e961f24b5096c2e65c4462a3a650d">worker_assignment_ui</a> ()</td></tr>
<tr class="separator:a727e961f24b5096c2e65c4462a3a650d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a26a815c51106fdab8be9c668d438b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a5a26a815c51106fdab8be9c668d438b0">job_assignment_ui</a> ()</td></tr>
<tr class="separator:a5a26a815c51106fdab8be9c668d438b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b7d68316ac3423438c7c4f794f03fe9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a5b7d68316ac3423438c7c4f794f03fe9">start_crafting</a> (const std::string &amp;<a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id)</td></tr>
<tr class="separator:a5b7d68316ac3423438c7c4f794f03fe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f0d517ecb49e447a41b5a1dda3edd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a92f0d517ecb49e447a41b5a1dda3edd8">start_cut_logs</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, float exertion_level)</td></tr>
<tr class="memdesc:a92f0d517ecb49e447a41b5a1dda3edd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a companion is sent to cut logs.  <a href="classbasecamp.html#a92f0d517ecb49e447a41b5a1dda3edd8">More...</a><br /></td></tr>
<tr class="separator:a92f0d517ecb49e447a41b5a1dda3edd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a3a5cf06c7f9b1883407f5f41290cbb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a4a3a5cf06c7f9b1883407f5f41290cbb">start_clearcut</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, float exertion_level)</td></tr>
<tr class="separator:a4a3a5cf06c7f9b1883407f5f41290cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871e793e6f40aaba900349ade05cd0a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a871e793e6f40aaba900349ade05cd0a9">start_setup_hide_site</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, float exertion_level)</td></tr>
<tr class="separator:a871e793e6f40aaba900349ade05cd0a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af21d9bca61606198a0514f304f6ac9d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#af21d9bca61606198a0514f304f6ac9d9">start_relay_hide_site</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, float exertion_level)</td></tr>
<tr class="separator:af21d9bca61606198a0514f304f6ac9d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae714ffb9daa48be6d0963bb5d3dd2876"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ae714ffb9daa48be6d0963bb5d3dd2876">start_fortifications</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, float exertion_level)</td></tr>
<tr class="memdesc:ae714ffb9daa48be6d0963bb5d3dd2876"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a companion is sent to start fortifications.  <a href="classbasecamp.html#ae714ffb9daa48be6d0963bb5d3dd2876">More...</a><br /></td></tr>
<tr class="separator:ae714ffb9daa48be6d0963bb5d3dd2876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6c113adcd32bb815a5a88e624b79fda"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ae6c113adcd32bb815a5a88e624b79fda">common_salt_water_pipe_construction</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, <a class="el" href="structexpansion__salt__water__pipe.html">expansion_salt_water_pipe</a> *pipe, int segment_number)</td></tr>
<tr class="memdesc:ae6c113adcd32bb815a5a88e624b79fda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a companion is sent to start digging down salt water pipes.  <a href="classbasecamp.html#ae6c113adcd32bb815a5a88e624b79fda">More...</a><br /></td></tr>
<tr class="separator:ae6c113adcd32bb815a5a88e624b79fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a017be7d3cd26ee47553246cf42cb5770"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a017be7d3cd26ee47553246cf42cb5770">start_salt_water_pipe</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id)</td></tr>
<tr class="separator:a017be7d3cd26ee47553246cf42cb5770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c38e3963f08f483ddaeee78f95709c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a2c38e3963f08f483ddaeee78f95709c5">continue_salt_water_pipe</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id)</td></tr>
<tr class="separator:a2c38e3963f08f483ddaeee78f95709c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeae9ce26fb316d9543a8c6c4ae1fd3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#aaeae9ce26fb316d9543a8c6c4ae1fd3e">start_combat_mission</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, float exertion_level)</td></tr>
<tr class="separator:aaeae9ce26fb316d9543a8c6c4ae1fd3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a751780e032be391deb8cba61b624fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a9a751780e032be391deb8cba61b624fe">start_farm_op</a> (const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;omt_tgt, const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, float exertion_level)</td></tr>
<tr class="separator:a9a751780e032be391deb8cba61b624fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a126bce0fe3b580079e2250c9a9cfdc0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="activity__item__handling_8cpp.html#a14dcded7a48aa4f96aeecf1e76f8f947">drop_locations</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a126bce0fe3b580079e2250c9a9cfdc0a">give_basecamp_equipment</a> (<a class="el" href="classinventory__filter__preset.html">inventory_filter_preset</a> &amp;preset, const std::string &amp;title, const std::string &amp;column_title, const std::string &amp;msg_empty) const</td></tr>
<tr class="memdesc:a126bce0fe3b580079e2250c9a9cfdc0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display items listed in equipment to let the player pick what to give the departing NPC, loops until quit or empty.  <a href="classbasecamp.html#a126bce0fe3b580079e2250c9a9cfdc0a">More...</a><br /></td></tr>
<tr class="separator:a126bce0fe3b580079e2250c9a9cfdc0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c73abeb013c066e91b9a85244dfbf94"><td class="memItemLeft" align="right" valign="top"><a class="el" href="activity__item__handling_8cpp.html#a14dcded7a48aa4f96aeecf1e76f8f947">drop_locations</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a0c73abeb013c066e91b9a85244dfbf94">give_equipment</a> (<a class="el" href="classCharacter.html">Character</a> *pc, const <a class="el" href="classinventory__filter__preset.html">inventory_filter_preset</a> &amp;preset, const std::string &amp;msg, const std::string &amp;title, <a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> &amp;total_volume, <a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> &amp;total_mass)</td></tr>
<tr class="separator:a0c73abeb013c066e91b9a85244dfbf94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e2da69c0fb7cc1be2824220de4d733a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="activity__item__handling_8cpp.html#a14dcded7a48aa4f96aeecf1e76f8f947">drop_locations</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a3e2da69c0fb7cc1be2824220de4d733a">get_equipment</a> (<a class="el" href="classtinymap.html">tinymap</a> *target_bay, const <a class="el" href="structtripoint.html">tripoint</a> &amp;target, <a class="el" href="classCharacter.html">Character</a> *pc, const <a class="el" href="classinventory__filter__preset.html">inventory_filter_preset</a> &amp;preset, const std::string &amp;msg, const std::string &amp;title, <a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> &amp;total_volume, <a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> &amp;total_mass)</td></tr>
<tr class="separator:a3e2da69c0fb7cc1be2824220de4d733a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf5ed5fde0f408c8978fb50097196efe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#acf5ed5fde0f408c8978fb50097196efe">companion_choose_return</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, <a class="el" href="classtime__duration.html">time_duration</a> min_duration)</td></tr>
<tr class="memdesc:acf5ed5fde0f408c8978fb50097196efe"><td class="mdescLeft">&#160;</td><td class="mdescRight">called to select a companion to return to the base  <a href="classbasecamp.html#acf5ed5fde0f408c8978fb50097196efe">More...</a><br /></td></tr>
<tr class="separator:acf5ed5fde0f408c8978fb50097196efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8ad228037665b1fad004f5bda3b1542"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#af8ad228037665b1fad004f5bda3b1542">companion_crafting_choose_return</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id)</td></tr>
<tr class="separator:af8ad228037665b1fad004f5bda3b1542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa59dbea7eb265132eeb3ba88767ccbcc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a> (<a class="el" href="classnpc.html">npc</a> &amp;comp, bool fixed_time, const std::string &amp;return_msg, const std::string &amp;skill, int difficulty, bool <a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa10aec35353f9c4096a71c38654c3d402">cancel</a>=false)</td></tr>
<tr class="memdesc:aa59dbea7eb265132eeb3ba88767ccbcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">called with a companion comp who is not the camp manager, finishes updating their skills, consuming food, and returning them to the base.  <a href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">More...</a><br /></td></tr>
<tr class="separator:aa59dbea7eb265132eeb3ba88767ccbcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a431f82edab2eac0a98d87667535131e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a431f82edab2eac0a98d87667535131e0">mission_return</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, <a class="el" href="classtime__duration.html">time_duration</a> min_duration, bool fixed_time, const std::string &amp;return_msg, const std::string &amp;skill, int difficulty)</td></tr>
<tr class="memdesc:a431f82edab2eac0a98d87667535131e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">a wrapper function for <a class="el" href="classbasecamp.html#acf5ed5fde0f408c8978fb50097196efe">companion_choose_return</a> and <a class="el" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>  <a href="classbasecamp.html#a431f82edab2eac0a98d87667535131e0">More...</a><br /></td></tr>
<tr class="separator:a431f82edab2eac0a98d87667535131e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83e1908e5f17d369210f01e4c6ebdaa6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a83e1908e5f17d369210f01e4c6ebdaa6">crafting_mission_return</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, const std::string &amp;return_msg, const std::string &amp;skill, int difficulty)</td></tr>
<tr class="separator:a83e1908e5f17d369210f01e4c6ebdaa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e536cabe892352238156cf082e760e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a9e536cabe892352238156cf082e760e9">emergency_recall</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id)</td></tr>
<tr class="memdesc:a9e536cabe892352238156cf082e760e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">select a companion for any mission to return to base  <a href="classbasecamp.html#a9e536cabe892352238156cf082e760e9">More...</a><br /></td></tr>
<tr class="separator:a9e536cabe892352238156cf082e760e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af25512a9a77bf712b5b13be8cb4c4300"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#af25512a9a77bf712b5b13be8cb4c4300">upgrade_return</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id)</td></tr>
<tr class="memdesc:af25512a9a77bf712b5b13be8cb4c4300"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to close upgrade missions, miss is the name of the mission id and dir is the direction of the location to be upgraded.  <a href="classbasecamp.html#af25512a9a77bf712b5b13be8cb4c4300">More...</a><br /></td></tr>
<tr class="separator:af25512a9a77bf712b5b13be8cb4c4300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc753bfacd929dfcaf4c4058880dc3de"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#afc753bfacd929dfcaf4c4058880dc3de">survey_field_return</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id)</td></tr>
<tr class="memdesc:afc753bfacd929dfcaf4c4058880dc3de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Choose which expansion slot to check for field conversion.  <a href="classbasecamp.html#afc753bfacd929dfcaf4c4058880dc3de">More...</a><br /></td></tr>
<tr class="separator:afc753bfacd929dfcaf4c4058880dc3de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e7b1bdc1a005293019b9f77538cb3c9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a9e7b1bdc1a005293019b9f77538cb3c9">survey_return</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id)</td></tr>
<tr class="memdesc:a9e7b1bdc1a005293019b9f77538cb3c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Choose which expansion you should start, called when a survey mission is completed.  <a href="classbasecamp.html#a9e7b1bdc1a005293019b9f77538cb3c9">More...</a><br /></td></tr>
<tr class="separator:a9e7b1bdc1a005293019b9f77538cb3c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff07145dd46d64c0cec5e3c1b3472ddb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#aff07145dd46d64c0cec5e3c1b3472ddb">menial_return</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id)</td></tr>
<tr class="separator:aff07145dd46d64c0cec5e3c1b3472ddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06c13ebeac9af1cb31a9ded778ffaefe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a06c13ebeac9af1cb31a9ded778ffaefe">gathering_return</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, <a class="el" href="classtime__duration.html">time_duration</a> min_time)</td></tr>
<tr class="memdesc:a06c13ebeac9af1cb31a9ded778ffaefe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a companion completes a gathering task mission.  <a href="classbasecamp.html#a06c13ebeac9af1cb31a9ded778ffaefe">More...</a><br /></td></tr>
<tr class="separator:a06c13ebeac9af1cb31a9ded778ffaefe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f3b695973635f7236f1e7b37ddafb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a47f3b695973635f7236f1e7b37ddafb7">recruit_return</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, int <a class="el" href="classscore.html">score</a>)</td></tr>
<tr class="separator:a47f3b695973635f7236f1e7b37ddafb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9482c5fe68b9f2a6d46f1640dbeb4032"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a9482c5fe68b9f2a6d46f1640dbeb4032">farm_return</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;omt_tgt)</td></tr>
<tr class="memdesc:a9482c5fe68b9f2a6d46f1640dbeb4032"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform any mix of the three farm tasks.  <a href="classbasecamp.html#a9482c5fe68b9f2a6d46f1640dbeb4032">More...</a><br /></td></tr>
<tr class="separator:a9482c5fe68b9f2a6d46f1640dbeb4032"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe3971b9392bc8ca4453811bb7e6c3b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#afe3971b9392bc8ca4453811bb7e6c3b4">fortifications_return</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id)</td></tr>
<tr class="separator:afe3971b9392bc8ca4453811bb7e6c3b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3a517b4b692a7f5d2a3876595785a06"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ac3a517b4b692a7f5d2a3876595785a06">salt_water_pipe_swamp_return</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, const <a class="el" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> &amp;npc_list)</td></tr>
<tr class="separator:ac3a517b4b692a7f5d2a3876595785a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9b85f55f5f955ae67b5d98fcd2a5b32"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#af9b85f55f5f955ae67b5d98fcd2a5b32">salt_water_pipe_return</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id, const <a class="el" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> &amp;npc_list)</td></tr>
<tr class="separator:af9b85f55f5f955ae67b5d98fcd2a5b32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82a0ce18ad2d52af02d6abee25057d85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a82a0ce18ad2d52af02d6abee25057d85">combat_mission_return</a> (const <a class="el" href="structmission__id.html">mission_id</a> &amp;miss_id)</td></tr>
<tr class="separator:a82a0ce18ad2d52af02d6abee25057d85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaabb991fdf80cf5ad1c2eb38b2b6ab84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#aaabb991fdf80cf5ad1c2eb38b2b6ab84">validate_assignees</a> ()</td></tr>
<tr class="separator:aaabb991fdf80cf5ad1c2eb38b2b6ab84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f82c71ddceaceca00b3dae6d70c9e48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a0f82c71ddceaceca00b3dae6d70c9e48">add_assignee</a> (<a class="el" href="classcharacter__id.html">character_id</a> id)</td></tr>
<tr class="separator:a0f82c71ddceaceca00b3dae6d70c9e48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fbb0228272f9546f6a32e1a80446ff1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a5fbb0228272f9546f6a32e1a80446ff1">remove_assignee</a> (<a class="el" href="classcharacter__id.html">character_id</a> id)</td></tr>
<tr class="separator:a5fbb0228272f9546f6a32e1a80446ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79a117bf67d2a527476aa152659632bb"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a79a117bf67d2a527476aa152659632bb">get_npcs_assigned</a> ()</td></tr>
<tr class="separator:a79a117bf67d2a527476aa152659632bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac024a39305889bf6f04d06ba522685f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ac024a39305889bf6f04d06ba522685f4">hide_mission</a> (<a class="el" href="structui__mission__id.html">ui_mission_id</a> id)</td></tr>
<tr class="separator:ac024a39305889bf6f04d06ba522685f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa39ea046aacbd79d11abdbf6fbc3a8bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#aa39ea046aacbd79d11abdbf6fbc3a8bd">reveal_mission</a> (<a class="el" href="structui__mission__id.html">ui_mission_id</a> id)</td></tr>
<tr class="separator:aa39ea046aacbd79d11abdbf6fbc3a8bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fa2dd55b8250e0b354291cb70c2a470"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a6fa2dd55b8250e0b354291cb70c2a470">is_hidden</a> (<a class="el" href="structui__mission__id.html">ui_mission_id</a> id)</td></tr>
<tr class="separator:a6fa2dd55b8250e0b354291cb70c2a470"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af19dafc4d364f10ba2b4384d04470986"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#af19dafc4d364f10ba2b4384d04470986">serialize</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;json) const</td></tr>
<tr class="separator:af19dafc4d364f10ba2b4384d04470986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34f93cf386eb7a909bb4665d9cb37be5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a34f93cf386eb7a909bb4665d9cb37be5">deserialize</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;data)</td></tr>
<tr class="separator:a34f93cf386eb7a909bb4665d9cb37be5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec3a19acda6ffae29fd4102cfc567fe6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#aec3a19acda6ffae29fd4102cfc567fe6">load_data</a> (const std::string &amp;data)</td></tr>
<tr class="separator:aec3a19acda6ffae29fd4102cfc567fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac42f942a80ceb0719572543e0a569dc"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; const <a class="el" href="classzone__data.html">zone_data</a> * &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#aac42f942a80ceb0719572543e0a569dc">get_storage_zone</a> () const</td></tr>
<tr class="separator:aac42f942a80ceb0719572543e0a569dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7abc9e0fbad9f93a5613190bdebe2007"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a7abc9e0fbad9f93a5613190bdebe2007">set_storage_zone</a> (const std::vector&lt; const <a class="el" href="classzone__data.html">zone_data</a> * &gt; &amp;<a class="el" href="mapgen_8h.html#afdd0a1598dc015b56a1b46d51da2b06ea26f94136f5db8afd4e9df1e512f7fdc5">zones</a>)</td></tr>
<tr class="separator:a7abc9e0fbad9f93a5613190bdebe2007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93d2fe38f4eb619bc2dd6290f9d68f61"><td class="memItemLeft" align="right" valign="top">const std::unordered_set&lt; <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a93d2fe38f4eb619bc2dd6290f9d68f61">get_storage_tiles</a> () const</td></tr>
<tr class="separator:a93d2fe38f4eb619bc2dd6290f9d68f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dd99428e24fe7077653118bf43b2b24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a5dd99428e24fe7077653118bf43b2b24">set_storage_tiles</a> (const std::unordered_set&lt; <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &gt; &amp;tiles)</td></tr>
<tr class="separator:a5dd99428e24fe7077653118bf43b2b24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5035a6fb7b72c1b5897689fbd7f3d28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#aa5035a6fb7b72c1b5897689fbd7f3d28">form_storage_zones</a> (<a class="el" href="classmap.html">map</a> &amp;here, const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;abspos)</td></tr>
<tr class="separator:aa5035a6fb7b72c1b5897689fbd7f3d28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aada281e7799622225de08dd341bdd2f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmap.html">map</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#aada281e7799622225de08dd341bdd2f6">get_camp_map</a> ()</td></tr>
<tr class="separator:aada281e7799622225de08dd341bdd2f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09149da70be3e009cd1383cb444f1825"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a09149da70be3e009cd1383cb444f1825">unload_camp_map</a> ()</td></tr>
<tr class="separator:a09149da70be3e009cd1383cb444f1825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c26d0b2828f08061553b28e2d1c3f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ab8c26d0b2828f08061553b28e2d1c3f4">set_owner</a> (<a class="el" href="basecamp_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> new_owner)</td></tr>
<tr class="separator:ab8c26d0b2828f08061553b28e2d1c3f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ef5cb41dc03aeeb6379f63fd8fca569"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basecamp_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a0ef5cb41dc03aeeb6379f63fd8fca569">get_owner</a> ()</td></tr>
<tr class="separator:a0ef5cb41dc03aeeb6379f63fd8fca569"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aa031c294bd423a1b1445f96b930b55f2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structpoint.html">point</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#aa031c294bd423a1b1445f96b930b55f2">directions</a></td></tr>
<tr class="separator:aa031c294bd423a1b1445f96b930b55f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94cf9a27ff09dafc3b40eaa5f8844560"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; <a class="el" href="structui__mission__id.html">ui_mission_id</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a></td></tr>
<tr class="separator:a94cf9a27ff09dafc3b40eaa5f8844560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6faf0213165ad5b7b2d8f06317833c15"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a6faf0213165ad5b7b2d8f06317833c15">fortifications</a></td></tr>
<tr class="separator:a6faf0213165ad5b7b2d8f06317833c15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9465f218c84c5322a1709b420ce8c225"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structexpansion__salt__water__pipe.html">expansion_salt_water_pipe</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a9465f218c84c5322a1709b420ce8c225">salt_water_pipes</a></td></tr>
<tr class="separator:a9465f218c84c5322a1709b420ce8c225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2995473daa7257a33d3412e6e5a08efb"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a></td></tr>
<tr class="separator:a2995473daa7257a33d3412e6e5a08efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:af8c707d2d6f0a93ba6c05c863c19b2c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfaction.html">faction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a> () const</td></tr>
<tr class="separator:af8c707d2d6f0a93ba6c05c863c19b2c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb5cfb054f4146be25a3b6ba09cb0449"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#abb5cfb054f4146be25a3b6ba09cb0449">reset_camp_resources</a> (<a class="el" href="classmap.html">map</a> &amp;here)</td></tr>
<tr class="separator:abb5cfb054f4146be25a3b6ba09cb0449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc886372356be0375b10ab9612539d93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#afc886372356be0375b10ab9612539d93">add_resource</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;camp_resource)</td></tr>
<tr class="separator:afc886372356be0375b10ab9612539d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a79b673b1c90a7f62c6fd6dd0658b76bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basecamp_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a79b673b1c90a7f62c6fd6dd0658b76bf">owner</a> = <a class="el" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">faction_id::NULL_ID</a>()</td></tr>
<tr class="separator:a79b673b1c90a7f62c6fd6dd0658b76bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa23443799ab9ae6cbe7cda89fb13abaf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a></td></tr>
<tr class="separator:aa23443799ab9ae6cbe7cda89fb13abaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a949421e716da966146e99e746144d180"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a></td></tr>
<tr class="separator:a949421e716da966146e99e746144d180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dc4ec3c6a2dc8c59a46364c6df93525"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a0dc4ec3c6a2dc8c59a46364c6df93525">bb_pos</a></td></tr>
<tr class="separator:a0dc4ec3c6a2dc8c59a46364c6df93525"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0895effe7b204127266c9439fa3dbf01"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="structpoint.html">point</a>, <a class="el" href="structexpansion__data.html">expansion_data</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a></td></tr>
<tr class="separator:a0895effe7b204127266c9439fa3dbf01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef86b8776b43f65a60a0af1871dc2884"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#aef86b8776b43f65a60a0af1871dc2884">camp_workers</a></td></tr>
<tr class="separator:aef86b8776b43f65a60a0af1871dc2884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6de0d0880ef088a0beceaf4fbf2d861"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbasecamp__map.html">basecamp_map</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ac6de0d0880ef088a0beceaf4fbf2d861">camp_map</a></td></tr>
<tr class="separator:ac6de0d0880ef088a0beceaf4fbf2d861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4ba9e037b763ac9cb5d0aaf0ede847c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ab4ba9e037b763ac9cb5d0aaf0ede847c">dumping_spot</a></td></tr>
<tr class="separator:ab4ba9e037b763ac9cb5d0aaf0ede847c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8708d7cbd1043ee22080c9e4e31606c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ac8708d7cbd1043ee22080c9e4e31606c">liquid_dumping_spots</a></td></tr>
<tr class="separator:ac8708d7cbd1043ee22080c9e4e31606c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56d78527800e3e52c36dadfcda71ed2f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classzone__data.html">zone_data</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a56d78527800e3e52c36dadfcda71ed2f">storage_zones</a></td></tr>
<tr class="separator:a56d78527800e3e52c36dadfcda71ed2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af79f4de8f8963115c179d1d0174b6115"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#af79f4de8f8963115c179d1d0174b6115">src_set</a></td></tr>
<tr class="separator:af79f4de8f8963115c179d1d0174b6115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04ac834378079016f7b65abc2236c13d"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a04ac834378079016f7b65abc2236c13d">fuel_types</a></td></tr>
<tr class="separator:a04ac834378079016f7b65abc2236c13d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1669371ffad28eca6681ba28598bd704"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structbasecamp__fuel.html">basecamp_fuel</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a1669371ffad28eca6681ba28598bd704">fuels</a></td></tr>
<tr class="separator:a1669371ffad28eca6681ba28598bd704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aa80ec0bbae71687ace4150b5896ff8"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structbasecamp__resource.html">basecamp_resource</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a9aa80ec0bbae71687ace4150b5896ff8">resources</a></td></tr>
<tr class="separator:a9aa80ec0bbae71687ace4150b5896ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3d06822349589e739041ff9996ce78c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; <a class="el" href="structui__mission__id.html">ui_mission_id</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#af3d06822349589e739041ff9996ce78c">temp_ui_mission_keys</a></td></tr>
<tr class="separator:af3d06822349589e739041ff9996ce78c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74acb873cc584c649a8b4aedac8efdca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a></td></tr>
<tr class="separator:a74acb873cc584c649a8b4aedac8efdca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac74df444febf86c4bef85f88f2d94d65"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#ac74df444febf86c4bef85f88f2d94d65">by_radio</a> = false</td></tr>
<tr class="separator:ac74df444febf86c4bef85f88f2d94d65"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a439f7165020e5071db6fd8ceb9ea9f4d"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp.html#a439f7165020e5071db6fd8ceb9ea9f4d">basecamp_action_components</a></td></tr>
<tr class="separator:a439f7165020e5071db6fd8ceb9ea9f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00158">158</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9638f052fa242f824e41d0ea8a51eab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9638f052fa242f824e41d0ea8a51eab0">&#9670;&nbsp;</a></span>basecamp() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">basecamp::basecamp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a990e17d7c534d16913f63b58799b9a5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a990e17d7c534d16913f63b58799b9a5b">&#9670;&nbsp;</a></span>basecamp() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">basecamp::basecamp </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;&#160;</td>
          <td class="paramname"><em>omt_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00127">127</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                                                                            : <a class="code" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a>( name_ ),</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>( omt_pos_ )</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a2995473daa7257a33d3412e6e5a08efb"><div class="ttname"><a href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">basecamp::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00199">basecamp.h:199</a></div></div>
<div class="ttc" id="aclassbasecamp_html_aa23443799ab9ae6cbe7cda89fb13abaf"><div class="ttname"><a href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">basecamp::omt_pos</a></div><div class="ttdeci">tripoint_abs_omt omt_pos</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00489">basecamp.h:489</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9774567361766968baf1385af5572987"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9774567361766968baf1385af5572987">&#9670;&nbsp;</a></span>basecamp() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">basecamp::basecamp </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>bb_pos_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structpoint.html">point</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>directions_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; <a class="el" href="structpoint.html">point</a>, <a class="el" href="structexpansion__data.html">expansion_data</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>expansions_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00132">132</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    : <a class="code" href="classbasecamp.html#aa031c294bd423a1b1445f96b930b55f2">directions</a>( directions_ ), <a class="code" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a>( name_ ), <a class="code" href="classbasecamp.html#a0dc4ec3c6a2dc8c59a46364c6df93525">bb_pos</a>( bb_pos_ ), <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>( expansions_ )</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;{</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a0895effe7b204127266c9439fa3dbf01"><div class="ttname"><a href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">basecamp::expansions</a></div><div class="ttdeci">std::map&lt; point, expansion_data &gt; expansions</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00493">basecamp.h:493</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a0dc4ec3c6a2dc8c59a46364c6df93525"><div class="ttname"><a href="classbasecamp.html#a0dc4ec3c6a2dc8c59a46364c6df93525">basecamp::bb_pos</a></div><div class="ttdeci">tripoint bb_pos</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00492">basecamp.h:492</a></div></div>
<div class="ttc" id="aclassbasecamp_html_aa031c294bd423a1b1445f96b930b55f2"><div class="ttname"><a href="classbasecamp.html#aa031c294bd423a1b1445f96b930b55f2">basecamp::directions</a></div><div class="ttdeci">std::vector&lt; point &gt; directions</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00195">basecamp.h:195</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a97c51d3d8f5e08e3740d315116ac5843"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97c51d3d8f5e08e3740d315116ac5843">&#9670;&nbsp;</a></span>abandon_camp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::abandon_camp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l02158">2158</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;{</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    <a class="code" href="classbasecamp.html#aaabb991fdf80cf5ad1c2eb38b2b6ab84">validate_assignees</a>();</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> &amp;guy : <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a8d698f8f68f7dd9aac8a8ffb996debef">get_companion_mission_npcs</a>( 10 ) ) {</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;        <a class="code" href="structnpc__companion__mission.html">npc_companion_mission</a> c_mission = guy-&gt;get_companion_mission();</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;        <span class="keywordflow">if</span>( c_mission.<a class="code" href="structnpc__companion__mission.html#aae4b1a9420e9b17c71c97a15ab416fdb">role_id</a> != <a class="code" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">base_camps::id</a> ) {</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;        }</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;        <span class="keyword">const</span> std::string return_msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;responds to the emergency recall&quot;</span> );</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;        <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *guy, <span class="keyword">false</span>, return_msg, <a class="code" href="faction__camp_8cpp.html#ac460af631fae52c84c47d79e392301a4">skill_menial</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 0, <span class="keyword">true</span> );</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    }</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> &amp;guy : <a class="code" href="classbasecamp.html#a79a117bf67d2a527476aa152659632bb">get_npcs_assigned</a>() ) {</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;        <a class="code" href="namespacetalk__function.html#ac498624377a7ba88d48a44f7a594cb52">talk_function::stop_guard</a>( *guy );</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    }</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aead799d2756f7cc29eaef40841b76b07">remove_camp</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> sm_pos = <a class="code" href="coordinate__conversions_8cpp.html#a15ee52c646f6d06e964da80b3355227a">omt_to_sm_copy</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">raw</a>() );</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> ms_pos = <a class="code" href="coordinate__conversions_8h.html#a1d4d395199c6d078e5d1deca53b5b912">sm_to_ms_copy</a>( sm_pos );</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    <span class="comment">// We cannot use bb_pos here, because bb_pos may be {0,0,0} if you haven&#39;t examined the bulletin board on camp ever.</span></div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    <span class="comment">// here.remove_submap_camp( here.getlocal( bb_pos ) );</span></div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    here.<a class="code" href="classmap.html#a598ecce13c7f2d3720ce852ee7246d63">remove_submap_camp</a>( here.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( ms_pos ) );</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You abandon %s.&quot;</span> ), <a class="code" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a> );</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;}</div>
<div class="ttc" id="abasecamp_8h_html_aa2838647b026e305ac396622371b828e"><div class="ttname"><a href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a></div><div class="ttdeci">shared_ptr_fast&lt; npc &gt; npc_ptr</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00064">basecamp.h:64</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a79a117bf67d2a527476aa152659632bb"><div class="ttname"><a href="classbasecamp.html#a79a117bf67d2a527476aa152659632bb">basecamp::get_npcs_assigned</a></div><div class="ttdeci">std::vector&lt; npc_ptr &gt; get_npcs_assigned()</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00551">basecamp.cpp:551</a></div></div>
<div class="ttc" id="aclassbasecamp_html_aa59dbea7eb265132eeb3ba88767ccbcc"><div class="ttname"><a href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">basecamp::finish_return</a></div><div class="ttdeci">void finish_return(npc &amp;comp, bool fixed_time, const std::string &amp;return_msg, const std::string &amp;skill, int difficulty, bool cancel=false)</div><div class="ttdoc">called with a companion comp who is not the camp manager, finishes updating their skills,...</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03771">faction_camp.cpp:3771</a></div></div>
<div class="ttc" id="aclassbasecamp_html_aaabb991fdf80cf5ad1c2eb38b2b6ab84"><div class="ttname"><a href="classbasecamp.html#aaabb991fdf80cf5ad1c2eb38b2b6ab84">basecamp::validate_assignees</a></div><div class="ttdeci">void validate_assignees()</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00522">basecamp.cpp:522</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__mut_html_a5a5454f4ce144b5b3a84c2698a54ab8c"><div class="ttname"><a href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">coords::coord_point_mut::raw</a></div><div class="ttdeci">constexpr const Point &amp; raw() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00157">coordinates.h:157</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="aclassmap_html_a426c21f7244ff80a61685a89e9146fec"><div class="ttname"><a href="classmap.html#a426c21f7244ff80a61685a89e9146fec">map::getlocal</a></div><div class="ttdeci">tripoint getlocal(const tripoint &amp;p) const</div><div class="ttdoc">Inverse of getabs.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09635">map.cpp:9635</a></div></div>
<div class="ttc" id="aclassmap_html_a598ecce13c7f2d3720ce852ee7246d63"><div class="ttname"><a href="classmap.html#a598ecce13c7f2d3720ce852ee7246d63">map::remove_submap_camp</a></div><div class="ttdeci">void remove_submap_camp(const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06775">map.cpp:6775</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a8d698f8f68f7dd9aac8a8ffb996debef"><div class="ttname"><a href="classovermapbuffer.html#a8d698f8f68f7dd9aac8a8ffb996debef">overmapbuffer::get_companion_mission_npcs</a></div><div class="ttdeci">std::vector&lt; shared_ptr_fast&lt; npc &gt; &gt; get_companion_mission_npcs(int range=100)</div><div class="ttdoc">Get all (currently loaded!) npcs that have a companion mission set.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01333">overmapbuffer.cpp:1333</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_aead799d2756f7cc29eaef40841b76b07"><div class="ttname"><a href="classovermapbuffer.html#aead799d2756f7cc29eaef40841b76b07">overmapbuffer::remove_camp</a></div><div class="ttdeci">void remove_camp(const basecamp &amp;camp)</div><div class="ttdoc">Remove basecamp.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00716">overmapbuffer.cpp:716</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae75b0a209b55081a67c5fe6c17a4be00"><div class="ttname"><a href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00260">string_id.h:260</a></div></div>
<div class="ttc" id="acoordinate__conversions_8cpp_html_a15ee52c646f6d06e964da80b3355227a"><div class="ttname"><a href="coordinate__conversions_8cpp.html#a15ee52c646f6d06e964da80b3355227a">omt_to_sm_copy</a></div><div class="ttdeci">point omt_to_sm_copy(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="coordinate__conversions_8cpp_source.html#l00093">coordinate_conversions.cpp:93</a></div></div>
<div class="ttc" id="acoordinate__conversions_8h_html_a1d4d395199c6d078e5d1deca53b5b912"><div class="ttname"><a href="coordinate__conversions_8h.html#a1d4d395199c6d078e5d1deca53b5b912">sm_to_ms_copy</a></div><div class="ttdeci">point sm_to_ms_copy(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="coordinate__conversions_8h_source.html#l00140">coordinate_conversions.h:140</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a></div><div class="ttdeci">@ m_info</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00352">enums.h:352</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_ac460af631fae52c84c47d79e392301a4"><div class="ttname"><a href="faction__camp_8cpp.html#ac460af631fae52c84c47d79e392301a4">skill_menial</a></div><div class="ttdeci">static const skill_id skill_menial(&quot;menial&quot;)</div></div>
<div class="ttc" id="agame_8cpp_html_afa1063326b0c16b43c6f3dc8c3df403d"><div class="ttname"><a href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13822">game.cpp:13822</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00997">messages.cpp:997</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_a04fa69b1c0952a34dc4a7d26b3f9f786"><div class="ttname"><a href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">base_camps::id</a></div><div class="ttdeci">const std::string id</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00105">basecamp.h:105</a></div></div>
<div class="ttc" id="anamespacetalk__function_html_ac498624377a7ba88d48a44f7a594cb52"><div class="ttname"><a href="namespacetalk__function.html#ac498624377a7ba88d48a44f7a594cb52">talk_function::stop_guard</a></div><div class="ttdeci">void stop_guard(npc &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk__funcs_8cpp_source.html#l00449">npctalk_funcs.cpp:449</a></div></div>
<div class="ttc" id="aovermapbuffer_8cpp_html_ab3cf8344ec3e473f9ce96a33dc3425af"><div class="ttname"><a href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a></div><div class="ttdeci">overmapbuffer overmap_buffer</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00051">overmapbuffer.cpp:51</a></div></div>
<div class="ttc" id="astructnpc__companion__mission_html"><div class="ttname"><a href="structnpc__companion__mission.html">npc_companion_mission</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00187">npc.h:187</a></div></div>
<div class="ttc" id="astructnpc__companion__mission_html_aae4b1a9420e9b17c71c97a15ab416fdb"><div class="ttname"><a href="structnpc__companion__mission.html#aae4b1a9420e9b17c71c97a15ab416fdb">npc_companion_mission::role_id</a></div><div class="ttdeci">std::string role_id</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00190">npc.h:190</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01333">overmapbuffer::get_companion_mission_npcs()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="basecamp_8cpp_source.html#l00551">get_npcs_assigned()</a>, <a class="el" href="map_8cpp_source.html#l09635">map::getlocal()</a>, <a class="el" href="basecamp_8h_source.html#l00105">base_camps::id</a>, <a class="el" href="enums_8h_source.html#l00352">m_info</a>, <a class="el" href="basecamp_8h_source.html#l00199">name</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="coordinate__conversions_8cpp_source.html#l00093">omt_to_sm_copy()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>, <a class="el" href="coordinates_8h_source.html#l00157">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::raw()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00716">overmapbuffer::remove_camp()</a>, <a class="el" href="map_8cpp_source.html#l06775">map::remove_submap_camp()</a>, <a class="el" href="npc_8h_source.html#l00190">npc_companion_mission::role_id</a>, <a class="el" href="faction__camp_8cpp.html#ac460af631fae52c84c47d79e392301a4">skill_menial</a>, <a class="el" href="coordinate__conversions_8h_source.html#l00140">sm_to_ms_copy()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00449">talk_function::stop_guard()</a>, <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00522">validate_assignees()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk__funcs_8cpp_source.html#l00421">talk_function::abandon_camp()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a0f82c71ddceaceca00b3dae6d70c9e48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f82c71ddceaceca00b3dae6d70c9e48">&#9670;&nbsp;</a></span>add_assignee()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::add_assignee </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcharacter__id.html">character_id</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00499">499</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;{</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> npc_to_add = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#abe3397983bdf2419ede84ee43bdf587f">find_npc</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span>( !npc_to_add ) {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;cant find npc to assign to basecamp, on the overmap_buffer&quot;</span> );</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    }</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    npc_to_add-&gt;assigned_camp = <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.push_back( npc_to_add );</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a949421e716da966146e99e746144d180"><div class="ttname"><a href="classbasecamp.html#a949421e716da966146e99e746144d180">basecamp::assigned_npcs</a></div><div class="ttdeci">std::vector&lt; npc_ptr &gt; assigned_npcs</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00490">basecamp.h:490</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_abe3397983bdf2419ede84ee43bdf587f"><div class="ttname"><a href="classovermapbuffer.html#abe3397983bdf2419ede84ee43bdf587f">overmapbuffer::find_npc</a></div><div class="ttdeci">shared_ptr_fast&lt; npc &gt; find_npc(character_id id)</div><div class="ttdoc">Find the npc with the given ID.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01234">overmapbuffer.cpp:1234</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00490">assigned_npcs</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01234">overmapbuffer::find_npc()</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, and <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk__funcs_8cpp_source.html#l00430">talk_function::assign_camp()</a>.</p>

</div>
</div>
<a id="a9553603cb500ef6532765306746a83e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9553603cb500ef6532765306746a83e0">&#9670;&nbsp;</a></span>add_available_recipes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::add_available_recipes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmission__data.html">mission_data</a> &amp;&#160;</td>
          <td class="paramname"><em>mission_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6">mission_kind</a>&#160;</td>
          <td class="paramname"><em>kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>, <a class="el" href="classtranslation.html">translation</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>craft_recipes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l00771">771</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;{</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keyword">const</span> std::string dir_abbr = <a class="code" href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a>.at( dir ).bracket_abbr.translated();</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;recipe_data : craft_recipes ) {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = {kind, recipe_data.first.str(), {}, dir};</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keyword">const</span> std::string &amp;title_e = dir_abbr + recipe_data.second;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="keyword">const</span> std::string &amp;entry = <a class="code" href="classbasecamp.html#ae9614b7c6366950ce5bd9e310cde3fc8">craft_description</a>( recipe_data.first );</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;recp = recipe_data.first.obj();</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <span class="keywordtype">bool</span> craftable = recp.<a class="code" href="classrecipe.html#ab1b55d41175b239729f740aaad63f306">deduped_requirements</a>().<a class="code" href="classdeduped__requirement__data.html#a904e48b7f9ea958a7dfcd06ca614581b">can_make_with_inventory</a>(</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                             <a class="code" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a>, recp.<a class="code" href="classrecipe.html#a45b065c59b172ccab9e0630fd036fe09">get_component_filter</a>() );</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, title_e, entry, craftable );</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a74acb873cc584c649a8b4aedac8efdca"><div class="ttname"><a href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">basecamp::_inv</a></div><div class="ttdeci">inventory _inv</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00505">basecamp.h:505</a></div></div>
<div class="ttc" id="aclassbasecamp_html_ae9614b7c6366950ce5bd9e310cde3fc8"><div class="ttname"><a href="classbasecamp.html#ae9614b7c6366950ce5bd9e310cde3fc8">basecamp::craft_description</a></div><div class="ttdeci">std::string craft_description(const recipe_id &amp;itm)</div><div class="ttdoc">Returns the description of a camp crafting options.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05364">faction_camp.cpp:5364</a></div></div>
<div class="ttc" id="aclassdeduped__requirement__data_html_a904e48b7f9ea958a7dfcd06ca614581b"><div class="ttname"><a href="classdeduped__requirement__data.html#a904e48b7f9ea958a7dfcd06ca614581b">deduped_requirement_data::can_make_with_inventory</a></div><div class="ttdeci">bool can_make_with_inventory(const read_only_visitable &amp;crafting_inv, const std::function&lt; bool(const item &amp;)&gt; &amp;filter, int batch=1, craft_flags=craft_flags::none) const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l01671">requirements.cpp:1671</a></div></div>
<div class="ttc" id="aclassmission__data_html_a606b9367ea2680a23fb88f46913765f7"><div class="ttname"><a href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">mission_data::add_start</a></div><div class="ttdeci">void add_start(const mission_id &amp;id, const std::string &amp;name_display, const std::string &amp;text, bool possible=true)</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8cpp_source.html#l02880">mission_companion.cpp:2880</a></div></div>
<div class="ttc" id="aclassrecipe_html"><div class="ttname"><a href="classrecipe.html">recipe</a></div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00086">recipe.h:87</a></div></div>
<div class="ttc" id="aclassrecipe_html_a45b065c59b172ccab9e0630fd036fe09"><div class="ttname"><a href="classrecipe.html#a45b065c59b172ccab9e0630fd036fe09">recipe::get_component_filter</a></div><div class="ttdeci">std::function&lt; bool(const item &amp;)&gt; get_component_filter(recipe_filter_flags=recipe_filter_flags::none) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01256">recipe.cpp:1256</a></div></div>
<div class="ttc" id="aclassrecipe_html_ab1b55d41175b239729f740aaad63f306"><div class="ttname"><a href="classrecipe.html#ab1b55d41175b239729f740aaad63f306">recipe::deduped_requirements</a></div><div class="ttdeci">const deduped_requirement_data &amp; deduped_requirements() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00151">recipe.h:151</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_a514cbffdef2185c4d8b777f5feec390e"><div class="ttname"><a href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a></div><div class="ttdeci">const std::map&lt; point, direction_data &gt; all_directions</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00047">basecamp.cpp:47</a></div></div>
<div class="ttc" id="astructmission__id_html"><div class="ttname"><a href="structmission__id.html">mission_id</a></div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00103">mission_companion.h:103</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00505">_inv</a>, <a class="el" href="mission__companion_8cpp_source.html#l02880">mission_data::add_start()</a>, <a class="el" href="basecamp_8cpp_source.html#l00047">base_camps::all_directions</a>, <a class="el" href="requirements_8cpp_source.html#l01671">deduped_requirement_data::can_make_with_inventory()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05364">craft_description()</a>, <a class="el" href="recipe_8h_source.html#l00151">recipe::deduped_requirements()</a>, and <a class="el" href="recipe_8cpp_source.html#l01256">recipe::get_component_filter()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00787">get_available_missions_by_dir()</a>.</p>

</div>
</div>
<a id="a45616e7edbed186901976d89763d0f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45616e7edbed186901976d89763d0f7e">&#9670;&nbsp;</a></span>add_expansion() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::add_expansion </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>bldg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;&#160;</td>
          <td class="paramname"><em>new_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00177">177</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;{</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="structexpansion__data.html">expansion_data</a> e;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    e.<a class="code" href="structexpansion__data.html#a52e0ba7c4995c3fb4fb64a38ccbec920">type</a> = <a class="code" href="namespacebase__camps.html#a86160a00620f3265276676715f96c0ad">base_camps::faction_decode</a>( bldg );</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    e.<a class="code" href="structexpansion__data.html#ac992b028d47f0f65f44501349f348e71">cur_level</a> = -1;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    e.<a class="code" href="structexpansion__data.html#a804029365a52ec62c7ef92e93ec20d9c">pos</a> = new_pos;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>[ dir ] = e;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="classbasecamp.html#aa031c294bd423a1b1445f96b930b55f2">directions</a>.push_back( dir );</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="classbasecamp.html#adb18f0e442ddb5df1ad80622382833df">update_provides</a>( bldg, <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>[ dir ] );</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="classbasecamp.html#a38f564976b4c46a367b94d683c508f3b">update_resources</a>( bldg );</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a38f564976b4c46a367b94d683c508f3b"><div class="ttname"><a href="classbasecamp.html#a38f564976b4c46a367b94d683c508f3b">basecamp::update_resources</a></div><div class="ttdeci">void update_resources(const std::string &amp;bldg)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00417">basecamp.cpp:417</a></div></div>
<div class="ttc" id="aclassbasecamp_html_adb18f0e442ddb5df1ad80622382833df"><div class="ttname"><a href="classbasecamp.html#adb18f0e442ddb5df1ad80622382833df">basecamp::update_provides</a></div><div class="ttdeci">void update_provides(const std::string &amp;bldg, expansion_data &amp;e_data)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00429">basecamp.cpp:429</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_a86160a00620f3265276676715f96c0ad"><div class="ttname"><a href="namespacebase__camps.html#a86160a00620f3265276676715f96c0ad">base_camps::faction_decode</a></div><div class="ttdeci">std::string faction_decode(std::string_view full_type)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00080">basecamp.cpp:80</a></div></div>
<div class="ttc" id="astructexpansion__data_html"><div class="ttname"><a href="structexpansion__data.html">expansion_data</a></div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00053">basecamp.h:53</a></div></div>
<div class="ttc" id="astructexpansion__data_html_a52e0ba7c4995c3fb4fb64a38ccbec920"><div class="ttname"><a href="structexpansion__data.html#a52e0ba7c4995c3fb4fb64a38ccbec920">expansion_data::type</a></div><div class="ttdeci">std::string type</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00054">basecamp.h:54</a></div></div>
<div class="ttc" id="astructexpansion__data_html_a804029365a52ec62c7ef92e93ec20d9c"><div class="ttname"><a href="structexpansion__data.html#a804029365a52ec62c7ef92e93ec20d9c">expansion_data::pos</a></div><div class="ttdeci">tripoint_abs_omt pos</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00058">basecamp.h:58</a></div></div>
<div class="ttc" id="astructexpansion__data_html_ac992b028d47f0f65f44501349f348e71"><div class="ttname"><a href="structexpansion__data.html#ac992b028d47f0f65f44501349f348e71">expansion_data::cur_level</a></div><div class="ttdeci">int cur_level</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00060">basecamp.h:60</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00060">expansion_data::cur_level</a>, <a class="el" href="basecamp_8h_source.html#l00195">directions</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="basecamp_8cpp_source.html#l00080">base_camps::faction_decode()</a>, <a class="el" href="basecamp_8h_source.html#l00058">expansion_data::pos</a>, <a class="el" href="basecamp_8h_source.html#l00054">expansion_data::type</a>, <a class="el" href="basecamp_8cpp_source.html#l00429">update_provides()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00417">update_resources()</a>.</p>

</div>
</div>
<a id="a428d9bd0a4236d5b24b58c6daa461adf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a428d9bd0a4236d5b24b58c6daa461adf">&#9670;&nbsp;</a></span>add_expansion() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::add_expansion </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>terrain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;&#160;</td>
          <td class="paramname"><em>new_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00165">165</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;{</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a>.find( <a class="code" href="namespacebase__camps.html#ac2310c6a4c935d23c24600fcd6f76092">base_camps::prefix</a> ) == std::string::npos ) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> dir = <a class="code" href="namespacetalk__function.html#aadedf0687f4d2cc5ed56a0f329eb0bca">talk_function::om_simple_dir</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, new_pos );</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>[ dir ] = <a class="code" href="classbasecamp.html#aec8c9d3dc62bff25c4871ee6b427c29a">parse_expansion</a>( <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a>, new_pos );</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="classbasecamp.html#adb18f0e442ddb5df1ad80622382833df">update_provides</a>( <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a>, <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>[ dir ] );</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="classbasecamp.html#aa031c294bd423a1b1445f96b930b55f2">directions</a>.push_back( dir );</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_aec8c9d3dc62bff25c4871ee6b427c29a"><div class="ttname"><a href="classbasecamp.html#aec8c9d3dc62bff25c4871ee6b427c29a">basecamp::parse_expansion</a></div><div class="ttdeci">expansion_data parse_expansion(std::string_view terrain, const tripoint_abs_omt &amp;new_pos)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00154">basecamp.cpp:154</a></div></div>
<div class="ttc" id="adescriptions_8cpp_html_aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04"><div class="ttname"><a href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">description_target::terrain</a></div><div class="ttdeci">@ terrain</div></div>
<div class="ttc" id="anamespacebase__camps_html_ac2310c6a4c935d23c24600fcd6f76092"><div class="ttname"><a href="namespacebase__camps.html#ac2310c6a4c935d23c24600fcd6f76092">base_camps::prefix</a></div><div class="ttdeci">const std::string prefix</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00104">basecamp.h:104</a></div></div>
<div class="ttc" id="anamespacetalk__function_html_aadedf0687f4d2cc5ed56a0f329eb0bca"><div class="ttname"><a href="namespacetalk__function.html#aadedf0687f4d2cc5ed56a0f329eb0bca">talk_function::om_simple_dir</a></div><div class="ttdeci">point om_simple_dir(const tripoint_abs_omt &amp;omt_pos, const tripoint_abs_omt &amp;omt_tar)</div><div class="ttdoc">Returns the x and y coordinates of ( omt_tar - omt_pos ), clamped to [-1, 1].</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05331">faction_camp.cpp:5331</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00195">directions</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="faction__camp_8cpp_source.html#l05331">talk_function::om_simple_dir()</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="basecamp_8cpp_source.html#l00154">parse_expansion()</a>, <a class="el" href="basecamp_8h_source.html#l00104">base_camps::prefix</a>, <a class="el" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a>, and <a class="el" href="basecamp_8cpp_source.html#l00429">update_provides()</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00190">define_camp()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l04502">survey_return()</a>.</p>

</div>
</div>
<a id="afc886372356be0375b10ab9612539d93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc886372356be0375b10ab9612539d93">&#9670;&nbsp;</a></span>add_resource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::add_resource </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>camp_resource</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00407">407</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;{</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="structbasecamp__resource.html">basecamp_resource</a> bcp_r;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    bcp_r.<a class="code" href="structbasecamp__resource.html#aa6ed2e9ba35d0eb5c6d9ff07c3c3bb4d">fake_id</a> = camp_resource;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="classitem.html">item</a> camp_item( bcp_r.<a class="code" href="structbasecamp__resource.html#aa6ed2e9ba35d0eb5c6d9ff07c3c3bb4d">fake_id</a>, <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> );</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    bcp_r.<a class="code" href="structbasecamp__resource.html#afda9c5e9be9a0c51645599f5a30bf5bb">ammo_id</a> = camp_item.ammo_default();</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="classbasecamp.html#a9aa80ec0bbae71687ace4150b5896ff8">resources</a>.emplace_back( bcp_r );</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <a class="code" href="classbasecamp.html#a04ac834378079016f7b65abc2236c13d">fuel_types</a>.insert( bcp_r.<a class="code" href="structbasecamp__resource.html#afda9c5e9be9a0c51645599f5a30bf5bb">ammo_id</a> );</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a04ac834378079016f7b65abc2236c13d"><div class="ttname"><a href="classbasecamp.html#a04ac834378079016f7b65abc2236c13d">basecamp::fuel_types</a></div><div class="ttdeci">std::set&lt; itype_id &gt; fuel_types</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00501">basecamp.h:501</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a9aa80ec0bbae71687ace4150b5896ff8"><div class="ttname"><a href="classbasecamp.html#a9aa80ec0bbae71687ace4150b5896ff8">basecamp::resources</a></div><div class="ttdeci">std::vector&lt; basecamp_resource &gt; resources</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00503">basecamp.h:503</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a2830b54b0424fe452c0933f87d6201b3"><div class="ttname"><a href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a></div><div class="ttdeci">constexpr time_point turn_zero</div><div class="ttdoc">Represents time point 0.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00541">calendar.h:541</a></div></div>
<div class="ttc" id="astructbasecamp__resource_html"><div class="ttname"><a href="structbasecamp__resource.html">basecamp_resource</a></div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00115">basecamp.h:115</a></div></div>
<div class="ttc" id="astructbasecamp__resource_html_aa6ed2e9ba35d0eb5c6d9ff07c3c3bb4d"><div class="ttname"><a href="structbasecamp__resource.html#aa6ed2e9ba35d0eb5c6d9ff07c3c3bb4d">basecamp_resource::fake_id</a></div><div class="ttdeci">itype_id fake_id</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00116">basecamp.h:116</a></div></div>
<div class="ttc" id="astructbasecamp__resource_html_afda9c5e9be9a0c51645599f5a30bf5bb"><div class="ttname"><a href="structbasecamp__resource.html#afda9c5e9be9a0c51645599f5a30bf5bb">basecamp_resource::ammo_id</a></div><div class="ttdeci">itype_id ammo_id</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00117">basecamp.h:117</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l11081">item::ammo_default()</a>, <a class="el" href="basecamp_8h_source.html#l00117">basecamp_resource::ammo_id</a>, <a class="el" href="basecamp_8h_source.html#l00116">basecamp_resource::fake_id</a>, <a class="el" href="basecamp_8h_source.html#l00501">fuel_types</a>, <a class="el" href="basecamp_8h_source.html#l00503">resources</a>, and <a class="el" href="calendar_8h_source.html#l00541">calendar::turn_zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00464">reset_camp_resources()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00417">update_resources()</a>.</p>

</div>
</div>
<a id="a32e3db9be879ad31f4b2ebb79bcb208a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32e3db9be879ad31f4b2ebb79bcb208a">&#9670;&nbsp;</a></span>available_upgrades()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structbasecamp__upgrade.html">basecamp_upgrade</a> &gt; basecamp::available_upgrades </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00322">322</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;{</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    std::vector&lt;basecamp_upgrade&gt; ret_data;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keyword">auto</span> e = <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( dir );</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span>( e != <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.end() ) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <a class="code" href="structexpansion__data.html">expansion_data</a> &amp;e_data = e-&gt;second;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> *recp_p : <a class="code" href="recipe__dictionary_8cpp.html#a9fdb53bd54fb6dcc5f9b2e1e1b44570f">recipe_dict</a>.<a class="code" href="classrecipe__dictionary.html#acf3c7f9189485e16402eb4cd030f7031">all_blueprints</a>() ) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;recp = *recp_p;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="keyword">const</span> std::string &amp;bldg = recp.<a class="code" href="classrecipe.html#aeefe6a56019c2cdaf9c6754ef65f1b81">result</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>();</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="comment">// skip buildings that are completed</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">if</span>( e_data.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>.find( bldg ) != e_data.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>.end() ) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="comment">// skip building that have unmet requirements</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="keywordtype">size_t</span> needed_requires = recp.<a class="code" href="classrecipe.html#aab1131d716cd2d3bf833f44b7924ab16">blueprint_requires</a>().size();</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <span class="keywordtype">size_t</span> met_requires = 0;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bp_require : recp.<a class="code" href="classrecipe.html#aab1131d716cd2d3bf833f44b7924ab16">blueprint_requires</a>() ) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                <span class="keywordflow">if</span>( e_data.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>.find( bp_require.first ) == e_data.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>.end() ) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <span class="keywordflow">if</span>( e_data.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>[bp_require.first] &lt; bp_require.second ) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                met_requires += 1;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="keywordflow">if</span>( met_requires &lt; needed_requires ) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <span class="keywordtype">bool</span> should_display = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="keywordtype">bool</span> in_progress = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bp_exclude : recp.<a class="code" href="classrecipe.html#a8dedf45d0752f4ca48b0fa0ccc371583">blueprint_excludes</a>() ) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                <span class="comment">// skip buildings that are excluded by previous builds</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                <span class="keywordflow">if</span>( e_data.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>.find( bp_exclude.first ) != e_data.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>.end() ) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                    <span class="keywordflow">if</span>( e_data.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>[bp_exclude.first] &gt;= bp_exclude.second ) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                        should_display = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                    }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                <span class="comment">// track buildings that are currently being built</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <span class="keywordflow">if</span>( e_data.<a class="code" href="structexpansion__data.html#abbbbbfd04949438d881dcb929af979c5">in_progress</a>.find( bp_exclude.first ) != e_data.<a class="code" href="structexpansion__data.html#abbbbbfd04949438d881dcb929af979c5">in_progress</a>.end() ) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                    <span class="keywordflow">if</span>( e_data.<a class="code" href="structexpansion__data.html#abbbbbfd04949438d881dcb929af979c5">in_progress</a>[bp_exclude.first] &gt;= bp_exclude.second ) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                        in_progress = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                    }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <span class="keywordflow">if</span>( !should_display ) {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="keywordflow">if</span>( recp.<a class="code" href="classrecipe.html#a6bf6a221531a705e16bd859596050d4a">blueprint_build_reqs</a>().<a class="code" href="structparameterized__build__reqs.html#ab9c7e2f44e3a3c6bbbfe79369e7b2d11">reqs_by_parameters</a>.empty() ) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;blueprint recipe %s lacked any blueprint_build_reqs&quot;</span>, recp.<a class="code" href="classrecipe.html#aeefe6a56019c2cdaf9c6754ef65f1b81">result</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const mapgen_arguments, build_reqs&gt; &amp;args_and_reqs :</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                 recp.<a class="code" href="classrecipe.html#a6bf6a221531a705e16bd859596050d4a">blueprint_build_reqs</a>().<a class="code" href="structparameterized__build__reqs.html#ab9c7e2f44e3a3c6bbbfe79369e7b2d11">reqs_by_parameters</a> ) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                <span class="keyword">const</span> <a class="code" href="structmapgen__arguments.html">mapgen_arguments</a> &amp;args = args_and_reqs.first;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                <span class="keyword">const</span> <a class="code" href="structrequirement__data.html">requirement_data</a> &amp;reqs = args_and_reqs.second.consolidated_reqs;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <span class="keywordtype">bool</span> can_make =</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                    reqs.<a class="code" href="structrequirement__data.html#a07c67f146358ed0de2aface7588c20d2">can_make_with_inventory</a>( <a class="code" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a>, recp.<a class="code" href="classrecipe.html#a45b065c59b172ccab9e0630fd036fe09">get_component_filter</a>(), 1 );</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                ret_data.push_back( { bldg, args, recp.<a class="code" href="classrecipe.html#af656bb1f377d67673a7f5aeefeb1fbc9">blueprint_name</a>(), can_make, in_progress } );</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">return</span> ret_data;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div>
<div class="ttc" id="aclassrecipe__dictionary_html_acf3c7f9189485e16402eb4cd030f7031"><div class="ttname"><a href="classrecipe__dictionary.html#acf3c7f9189485e16402eb4cd030f7031">recipe_dictionary::all_blueprints</a></div><div class="ttdeci">const std::set&lt; const recipe * &gt; &amp; all_blueprints() const</div><div class="ttdoc">Returns all blueprints.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8h_source.html#l00039">recipe_dictionary.h:39</a></div></div>
<div class="ttc" id="aclassrecipe_html_a6bf6a221531a705e16bd859596050d4a"><div class="ttname"><a href="classrecipe.html#a6bf6a221531a705e16bd859596050d4a">recipe::blueprint_build_reqs</a></div><div class="ttdeci">const parameterized_build_reqs &amp; blueprint_build_reqs() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01404">recipe.cpp:1404</a></div></div>
<div class="ttc" id="aclassrecipe_html_a8dedf45d0752f4ca48b0fa0ccc371583"><div class="ttname"><a href="classrecipe.html#a8dedf45d0752f4ca48b0fa0ccc371583">recipe::blueprint_excludes</a></div><div class="ttdeci">const std::vector&lt; std::pair&lt; std::string, int &gt; &gt; &amp; blueprint_excludes() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01399">recipe.cpp:1399</a></div></div>
<div class="ttc" id="aclassrecipe_html_aab1131d716cd2d3bf833f44b7924ab16"><div class="ttname"><a href="classrecipe.html#aab1131d716cd2d3bf833f44b7924ab16">recipe::blueprint_requires</a></div><div class="ttdeci">const std::vector&lt; std::pair&lt; std::string, int &gt; &gt; &amp; blueprint_requires() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01394">recipe.cpp:1394</a></div></div>
<div class="ttc" id="aclassrecipe_html_aeefe6a56019c2cdaf9c6754ef65f1b81"><div class="ttname"><a href="classrecipe.html#aeefe6a56019c2cdaf9c6754ef65f1b81">recipe::result</a></div><div class="ttdeci">const itype_id &amp; result() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00111">recipe.h:111</a></div></div>
<div class="ttc" id="aclassrecipe_html_af656bb1f377d67673a7f5aeefeb1fbc9"><div class="ttname"><a href="classrecipe.html#af656bb1f377d67673a7f5aeefeb1fbc9">recipe::blueprint_name</a></div><div class="ttdeci">const translation &amp; blueprint_name() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01356">recipe.cpp:1356</a></div></div>
<div class="ttc" id="arecipe__dictionary_8cpp_html_a9fdb53bd54fb6dcc5f9b2e1e1b44570f"><div class="ttname"><a href="recipe__dictionary_8cpp.html#a9fdb53bd54fb6dcc5f9b2e1e1b44570f">recipe_dict</a></div><div class="ttdeci">recipe_dictionary recipe_dict</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00031">recipe_dictionary.cpp:31</a></div></div>
<div class="ttc" id="astructexpansion__data_html_a85ec7fd868eb65d34208fe5ac0ecf413"><div class="ttname"><a href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">expansion_data::provides</a></div><div class="ttdeci">std::map&lt; std::string, int &gt; provides</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00056">basecamp.h:56</a></div></div>
<div class="ttc" id="astructexpansion__data_html_abbbbbfd04949438d881dcb929af979c5"><div class="ttname"><a href="structexpansion__data.html#abbbbbfd04949438d881dcb929af979c5">expansion_data::in_progress</a></div><div class="ttdeci">std::map&lt; std::string, int &gt; in_progress</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00057">basecamp.h:57</a></div></div>
<div class="ttc" id="astructmapgen__arguments_html"><div class="ttname"><a href="structmapgen__arguments.html">mapgen_arguments</a></div><div class="ttdef"><b>Definition:</b> <a href="mapgendata_8h_source.html#l00026">mapgendata.h:26</a></div></div>
<div class="ttc" id="astructparameterized__build__reqs_html_ab9c7e2f44e3a3c6bbbfe79369e7b2d11"><div class="ttname"><a href="structparameterized__build__reqs.html#ab9c7e2f44e3a3c6bbbfe79369e7b2d11">parameterized_build_reqs::reqs_by_parameters</a></div><div class="ttdeci">std::unordered_map&lt; mapgen_arguments, build_reqs &gt; reqs_by_parameters</div><div class="ttdef"><b>Definition:</b> <a href="build__reqs_8h_source.html#l00038">build_reqs.h:38</a></div></div>
<div class="ttc" id="astructrequirement__data_html"><div class="ttname"><a href="structrequirement__data.html">requirement_data</a></div><div class="ttdoc">The *_vector members represent list of alternatives requirements: alter_tool_comp_vector = { * { { a,...</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00209">requirements.h:209</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a07c67f146358ed0de2aface7588c20d2"><div class="ttname"><a href="structrequirement__data.html#a07c67f146358ed0de2aface7588c20d2">requirement_data::can_make_with_inventory</a></div><div class="ttdeci">bool can_make_with_inventory(const read_only_visitable &amp;crafting_inv, const std::function&lt; bool(const item &amp;)&gt; &amp;filter, int batch=1, craft_flags=craft_flags::none) const</div><div class="ttdoc">Returns true if the requirements are fulfilled by the filtered inventory.</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00840">requirements.cpp:840</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00505">_inv</a>, <a class="el" href="recipe__dictionary_8h_source.html#l00039">recipe_dictionary::all_blueprints()</a>, <a class="el" href="recipe_8cpp_source.html#l01404">recipe::blueprint_build_reqs()</a>, <a class="el" href="recipe_8cpp_source.html#l01399">recipe::blueprint_excludes()</a>, <a class="el" href="recipe_8cpp_source.html#l01356">recipe::blueprint_name()</a>, <a class="el" href="recipe_8cpp_source.html#l01394">recipe::blueprint_requires()</a>, <a class="el" href="requirements_8cpp_source.html#l00840">requirement_data::can_make_with_inventory()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="recipe_8cpp_source.html#l01256">recipe::get_component_filter()</a>, <a class="el" href="basecamp_8h_source.html#l00057">expansion_data::in_progress</a>, <a class="el" href="basecamp_8h_source.html#l00056">expansion_data::provides</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00031">recipe_dict</a>, <a class="el" href="build__reqs_8h_source.html#l00038">parameterized_build_reqs::reqs_by_parameters</a>, <a class="el" href="recipe_8h_source.html#l00111">recipe::result()</a>, and <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00787">get_available_missions_by_dir()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l05794">name_display_of()</a>.</p>

</div>
</div>
<a id="ab5f75a1e3db439e9fe9e64428f5d4f3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5f75a1e3db439e9fe9e64428f5d4f3a">&#9670;&nbsp;</a></span>board_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string basecamp::board_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00139">139</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;{</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">//~ Name of a basecamp</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s Board&quot;</span> ), <a class="code" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a> );</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="basecamp_8h_source.html#l00199">name</a>, and <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>.</p>

</div>
</div>
<a id="ad1660090a0fa3cb0527e7fddc50e7e79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1660090a0fa3cb0527e7fddc50e7e79">&#9670;&nbsp;</a></span>board_x()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int basecamp::board_x </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00169">169</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                                   {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#a0dc4ec3c6a2dc8c59a46364c6df93525">bb_pos</a>.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        }</div>
<div class="ttc" id="astructtripoint_html_affdc0d5b75024cbfacd208a495def3dc"><div class="ttname"><a href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">tripoint::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00132">point.h:132</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00492">bb_pos</a>, and <a class="el" href="point_8h_source.html#l00132">tripoint::x</a>.</p>

</div>
</div>
<a id="a5d658a2c74312f7b6be9685a2cd501a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d658a2c74312f7b6be9685a2cd501a3">&#9670;&nbsp;</a></span>board_y()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int basecamp::board_y </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00172">172</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                   {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#a0dc4ec3c6a2dc8c59a46364c6df93525">bb_pos</a>.<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        }</div>
<div class="ttc" id="astructtripoint_html_a89f6c0a16e2bfd7ce4f1f1d20404c4d7"><div class="ttname"><a href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">tripoint::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00133">point.h:133</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00492">bb_pos</a>, and <a class="el" href="point_8h_source.html#l00133">tripoint::y</a>.</p>

</div>
</div>
<a id="a831d58ceac6141027f0b6eef5e6d9ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a831d58ceac6141027f0b6eef5e6d9ca0">&#9670;&nbsp;</a></span>camp_discipline()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int basecamp::camp_discipline </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>change</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the faction respect for you by change, returns respect. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05952">5952</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;{</div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;    <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;<a class="code" href="classfaction__template.html#acf4662d3cabe4bb0e7b2a6693d7abc43">respects_u</a> += change;</div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;<a class="code" href="classfaction__template.html#acf4662d3cabe4bb0e7b2a6693d7abc43">respects_u</a>;</div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_af8c707d2d6f0a93ba6c05c863c19b2c0"><div class="ttname"><a href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">basecamp::fac</a></div><div class="ttdeci">faction * fac() const</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00664">faction_camp.cpp:664</a></div></div>
<div class="ttc" id="aclassfaction__template_html_acf4662d3cabe4bb0e7b2a6693d7abc43"><div class="ttname"><a href="classfaction__template.html#acf4662d3cabe4bb0e7b2a6693d7abc43">faction_template::respects_u</a></div><div class="ttdeci">int respects_u</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00109">faction.h:109</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction__camp_8cpp_source.html#l00664">fac()</a>, and <a class="el" href="faction_8h_source.html#l00109">faction_template::respects_u</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l05390">recruit_evaluation()</a>.</p>

</div>
</div>
<a id="af556345c6de003f6268973a7cddeb90c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af556345c6de003f6268973a7cddeb90c">&#9670;&nbsp;</a></span>camp_food_supply() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnutrients.html">nutrients</a> basecamp::camp_food_supply </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>change</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a new nutrients struct in place and forwards it. Passed argument should be in kilocalories. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05556">5556</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;{</div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;    <a class="code" href="structnutrients.html">nutrients</a> added;</div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;    <span class="comment">// Kcal to calories</span></div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;    added.<a class="code" href="structnutrients.html#a72a120ffe81a179edfe5fe3387024b22">calories</a> = ( change * 1000 );</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#a399448deb1704654be0979c9a763db03">camp_food_supply</a>( added );</div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a399448deb1704654be0979c9a763db03"><div class="ttname"><a href="classbasecamp.html#a399448deb1704654be0979c9a763db03">basecamp::camp_food_supply</a></div><div class="ttdeci">nutrients camp_food_supply(nutrients &amp;change)</div><div class="ttdoc">Changes the faction food supply by change, returns the amount of kcal+vitamins consumed,...</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05522">faction_camp.cpp:5522</a></div></div>
<div class="ttc" id="astructnutrients_html"><div class="ttname"><a href="structnutrients.html">nutrients</a></div><div class="ttdef"><b>Definition:</b> <a href="stomach_8h_source.html#l00036">stomach.h:36</a></div></div>
<div class="ttc" id="astructnutrients_html_a72a120ffe81a179edfe5fe3387024b22"><div class="ttname"><a href="structnutrients.html#a72a120ffe81a179edfe5fe3387024b22">nutrients::calories</a></div><div class="ttdeci">int64_t calories</div><div class="ttdoc">amount of calories (1/1000s of kcal) this food has</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8h_source.html#l00038">stomach.h:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="stomach_8h_source.html#l00038">nutrients::calories</a>, and <a class="el" href="faction__camp_8cpp_source.html#l05522">camp_food_supply()</a>.</p>

</div>
</div>
<a id="a399448deb1704654be0979c9a763db03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a399448deb1704654be0979c9a763db03">&#9670;&nbsp;</a></span>camp_food_supply() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnutrients.html">nutrients</a> basecamp::camp_food_supply </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnutrients.html">nutrients</a> &amp;&#160;</td>
          <td class="paramname"><em>change</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the faction food supply by change, returns the amount of kcal+vitamins consumed, a negative total food supply hurts morale Handles vitamin consumption when only a kcal value is supplied. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05522">5522</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;{</div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;    <a class="code" href="structnutrients.html">nutrients</a> consumed;</div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;    <span class="keywordflow">if</span>( change.<a class="code" href="structnutrients.html#a72a120ffe81a179edfe5fe3387024b22">calories</a> &lt; 0 &amp;&amp; change.<a class="code" href="structnutrients.html#a5bbbdebac3455bf17563f7f8754e1a10">vitamins</a>().empty() &amp;&amp; <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;food_supply.calories &gt; 0 ) {</div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;        <span class="comment">// We&#39;ve been passed a raw kcal value, we should also consume a proportional amount of vitamins</span></div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;        <span class="comment">// Kcals are used as a proxy to consume vitamins.</span></div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;        <span class="comment">// e.g. if you have a larder with 10k kcal, 100 vitamin A, 200 vitamin B then consuming 1000 kcal will</span></div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;        <span class="comment">// consume 10 vitamin A and *20* vitamin B. In other words, we assume the vitamins are uniformly distributed with the kcals</span></div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;        <span class="comment">// This isn&#39;t a perfect assumption but it&#39;s a necessary one to abstract away the food items themselves</span></div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;        <span class="keywordtype">double</span> percent_consumed = <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( change.<a class="code" href="structnutrients.html#a72a120ffe81a179edfe5fe3387024b22">calories</a> ) ) /</div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;                                  <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;<a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a>.<a class="code" href="structnutrients.html#a72a120ffe81a179edfe5fe3387024b22">calories</a>;</div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;        consumed = <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;<a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a>;</div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( change.<a class="code" href="structnutrients.html#a72a120ffe81a179edfe5fe3387024b22">calories</a> ) &gt; <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;food_supply.calories ) {</div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;            <span class="comment">//Whoops, we don&#39;t have enough food. Empty the larder! No crumb shall go un-eaten!</span></div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;            <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;<a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a> += change;</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;            <a class="code" href="classfaction.html">faction</a> *yours = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCharacter.html#aee4e2c047e2c683905cade66f04112b8">get_faction</a>();</div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;<span class="keywordtype">id</span> == yours-&gt;<a class="code" href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">id</a> ) {</div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;                yours-&gt;<a class="code" href="classfaction__template.html#a8927427656119c2e4b1046b19c521313">likes_u</a> += <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;<a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a>.<a class="code" href="structnutrients.html#a27fef4783e99c7f2471a9fabcabe19b5">kcal</a>() / 1250;</div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;                yours-&gt;<a class="code" href="classfaction__template.html#acf4662d3cabe4bb0e7b2a6693d7abc43">respects_u</a> += <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;<a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a>.<a class="code" href="structnutrients.html#a27fef4783e99c7f2471a9fabcabe19b5">kcal</a>() / 625;</div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;                yours-&gt;<a class="code" href="classfaction__template.html#a7c6bf7af56797169006e95328f81a1fd">trusts_u</a> += <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;<a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a>.<a class="code" href="structnutrients.html#a27fef4783e99c7f2471a9fabcabe19b5">kcal</a>() / 625;</div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;            }</div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;            <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;<a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a> *= 0;</div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;            <span class="keywordflow">return</span> consumed;</div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;        }</div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;        consumed *= percent_consumed;</div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;        <span class="comment">// Subtraction since we use the absolute value of change&#39;s calories to get the percent</span></div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;        <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;<a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a> -= consumed;</div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;        <span class="keywordflow">return</span> consumed;</div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;    }</div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;    <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;<a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a> += change;</div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;    consumed = change;</div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;    <span class="keywordflow">return</span> consumed;</div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;}</div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="aclassCharacter_html_aee4e2c047e2c683905cade66f04112b8"><div class="ttname"><a href="classCharacter.html#aee4e2c047e2c683905cade66f04112b8">Character::get_faction</a></div><div class="ttdeci">virtual faction * get_faction() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00768">character.h:768</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a649fcecca332d594911fed59607d4ee7"><div class="ttname"><a href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">faction_template::id</a></div><div class="ttdeci">faction_id id</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00112">faction.h:112</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a7c6bf7af56797169006e95328f81a1fd"><div class="ttname"><a href="classfaction__template.html#a7c6bf7af56797169006e95328f81a1fd">faction_template::trusts_u</a></div><div class="ttdeci">int trusts_u</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00110">faction.h:110</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a8927427656119c2e4b1046b19c521313"><div class="ttname"><a href="classfaction__template.html#a8927427656119c2e4b1046b19c521313">faction_template::likes_u</a></div><div class="ttdeci">int likes_u</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00108">faction.h:108</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a9cda490b58dc788f44e057bfd29a9971"><div class="ttname"><a href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">faction_template::food_supply</a></div><div class="ttdeci">nutrients food_supply</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00116">faction.h:116</a></div></div>
<div class="ttc" id="aclassfaction_html"><div class="ttname"><a href="classfaction.html">faction</a></div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00126">faction.h:127</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a24f6ac6e06720c7cdf972a6083847132"><div class="ttname"><a href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">abs</a></div><div class="ttdeci">double abs(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00030">math_parser_func.h:30</a></div></div>
<div class="ttc" id="astructnutrients_html_a27fef4783e99c7f2471a9fabcabe19b5"><div class="ttname"><a href="structnutrients.html#a27fef4783e99c7f2471a9fabcabe19b5">nutrients::kcal</a></div><div class="ttdeci">int kcal() const</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8cpp_source.html#l00118">stomach.cpp:118</a></div></div>
<div class="ttc" id="astructnutrients_html_a5bbbdebac3455bf17563f7f8754e1a10"><div class="ttname"><a href="structnutrients.html#a5bbbdebac3455bf17563f7f8754e1a10">nutrients::vitamins</a></div><div class="ttdeci">std::map&lt; vitamin_id, int &gt; vitamins() const</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8cpp_source.html#l00047">stomach.cpp:47</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="math__parser__func_8h_source.html#l00030">abs()</a>, <a class="el" href="stomach_8h_source.html#l00038">nutrients::calories</a>, <a class="el" href="faction__camp_8cpp_source.html#l00664">fac()</a>, <a class="el" href="faction_8h_source.html#l00116">faction_template::food_supply</a>, <a class="el" href="character_8h_source.html#l00768">Character::get_faction()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="faction_8h_source.html#l00112">faction_template::id</a>, <a class="el" href="stomach_8cpp_source.html#l00118">nutrients::kcal()</a>, <a class="el" href="faction_8h_source.html#l00108">faction_template::likes_u</a>, <a class="el" href="faction_8h_source.html#l00109">faction_template::respects_u</a>, <a class="el" href="faction_8h_source.html#l00110">faction_template::trusts_u</a>, and <a class="el" href="stomach_8cpp_source.html#l00047">nutrients::vitamins()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l05556">camp_food_supply()</a>, <a class="el" href="npcmove_8cpp_source.html#l04543">npc::consume_food_from_camp()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05676">distribute_food()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05569">feed_workers()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01700">player_eats_meal()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04270">recruit_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01975">start_mission()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l02022">start_multi_mission()</a>.</p>

</div>
</div>
<a id="a42fae91a4687db12e844418cf384e868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42fae91a4687db12e844418cf384e868">&#9670;&nbsp;</a></span>camp_food_supply() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnutrients.html">nutrients</a> basecamp::camp_food_supply </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td>
          <td class="paramname"><em>work</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>exertion_level</em> = <code><a class="el" href="game__constants_8h.html#a2ff11848079530402510dded26ad7b71">NO_EXERCISE</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates raw kcal cost from duration of work and exercise, then forwards it to above. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05564">5564</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;{</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#a399448deb1704654be0979c9a763db03">camp_food_supply</a>( -<a class="code" href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">time_to_food</a>( work, exertion_level ) );</div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_ac8b09a6253b1bcaa15d1735caa5c7644"><div class="ttname"><a href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">basecamp::time_to_food</a></div><div class="ttdeci">int time_to_food(time_duration work, float exertion_level=NO_EXERCISE) const</div><div class="ttdoc">Returns the total charges of food time_duration work costs.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05644">faction_camp.cpp:5644</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction__camp_8cpp_source.html#l05522">camp_food_supply()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l05644">time_to_food()</a>.</p>

</div>
</div>
<a id="ad145fb3595555a714a047bedcaa014fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad145fb3595555a714a047bedcaa014fc">&#9670;&nbsp;</a></span>camp_food_supply_days()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int basecamp::camp_food_supply_days </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>exertion_level</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of days the current camp supplies lasts at the given exertion level. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05517">5517</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;{</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;<a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a>.<a class="code" href="structnutrients.html#a27fef4783e99c7f2471a9fabcabe19b5">kcal</a>() / <a class="code" href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">time_to_food</a>( 24_hours, exertion_level );</div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction__camp_8cpp_source.html#l00664">fac()</a>, <a class="el" href="faction_8h_source.html#l00116">faction_template::food_supply</a>, <a class="el" href="stomach_8cpp_source.html#l00118">nutrients::kcal()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l05644">time_to_food()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01393">get_available_missions()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l04270">recruit_return()</a>.</p>

</div>
</div>
<a id="ac902a04152acb33a9f06d6c183ccfb1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac902a04152acb33a9f06d6c183ccfb1d">&#9670;&nbsp;</a></span>camp_morale()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int basecamp::camp_morale </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>change</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the faction opinion for you by change, returns opinion. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05958">5958</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;{</div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;    <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;<a class="code" href="classfaction__template.html#a8927427656119c2e4b1046b19c521313">likes_u</a> += change;</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;<a class="code" href="classfaction__template.html#a8927427656119c2e4b1046b19c521313">likes_u</a>;</div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction__camp_8cpp_source.html#l00664">fac()</a>, and <a class="el" href="faction_8h_source.html#l00108">faction_template::likes_u</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l05390">recruit_evaluation()</a>.</p>

</div>
</div>
<a id="ae56381c14c704cd80c3b4147cb56ee82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae56381c14c704cd80c3b4147cb56ee82">&#9670;&nbsp;</a></span>camp_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; basecamp::camp_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00178">178</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                                  {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00199">name</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk__funcs_8cpp_source.html#l00430">talk_function::assign_camp()</a>, and <a class="el" href="faction_8cpp_source.html#l00615">npc::faction_display()</a>.</p>

</div>
</div>
<a id="ade51aefc6c8e4db92ffe5457e239aea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade51aefc6c8e4db92ffe5457e239aea2">&#9670;&nbsp;</a></span>camp_omt_pos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> basecamp::camp_omt_pos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00175">175</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                                     {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>.</p>

<p class="reference">Referenced by <a class="el" href="overmapbuffer_8cpp_source.html#l00759">overmapbuffer::add_camp()</a>, <a class="el" href="iexamine_8cpp_source.html#l01971">iexamine::bulletin_board()</a>, <a class="el" href="faction_8cpp_source.html#l00560">faction_display()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00349">talk_function::goto_location()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00470">overmapbuffer::has_camp()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00716">overmapbuffer::remove_camp()</a>, and <a class="el" href="game_8cpp_source.html#l01803">game::validate_camps()</a>.</p>

</div>
</div>
<a id="a9e7cbc59d14361bd97029f6da3680de4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e7cbc59d14361bd97029f6da3680de4">&#9670;&nbsp;</a></span>choose_new_leader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::choose_new_leader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l01601">1601</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;{</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="comment">// This is ugly, but dialogue vars are stored as strings, even if they hold data for times.</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <a class="code" href="classtime__point.html">time_point</a> last_succession_time = <a class="code" href="classtime__point.html#ad30da6adf0db8bad37db0f2d3eea5a38">time_point::from_turn</a>( std::stof(</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;                                          <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().get_value( <a class="code" href="faction__camp_8cpp.html#aa183760431c917d25adbdfaf94f10b2a">var_timer_time_of_last_succession</a> ) ) );</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <a class="code" href="classtime__duration.html">time_duration</a> succession_cooldown = <a class="code" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( std::stof(</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                                            <a class="code" href="game_8cpp.html#ae5b4e6350cbe490780fbee966121b896">get_globals</a>().get_global_value(</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;                                                    <a class="code" href="faction__camp_8cpp.html#a40429a7858a4c12dc0f7c87080b7e0ee">var_time_between_succession</a> ) ) );</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <a class="code" href="classtime__point.html">time_point</a> next_succession_chance = last_succession_time + succession_cooldown;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="keywordtype">int</span> current_time_int = to_seconds&lt;int&gt;( <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> - <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> );</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="keywordflow">if</span>( next_succession_chance &gt;= <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) {</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;It&#39;s too early for that.  A new leader can be chosen in %s.&quot;</span> ),</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;               <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a>( next_succession_chance - <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) );</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    }</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    std::vector&lt;std::string&gt; choices;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <span class="keywordtype">int</span> choice = 0;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    choices.emplace_back <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;autocratic&quot;</span> );</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    choices.emplace_back <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;sortition&quot;</span> );</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    choices.emplace_back <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;democratic&quot;</span> );</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160; </div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    choice = <a class="code" href="classuilist.html">uilist</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Choose how the new leader will be determined.&quot;</span> ), choices );</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160; </div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keywordflow">if</span>( choice &lt; 0 || <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( choice ) &gt;= choices.size() ) {</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You choose to wait&quot;</span> ) );</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    }</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160; </div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <span class="comment">// Autocratic</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <span class="keywordflow">if</span>( choice == 0 ) {</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>(</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;As an experienced leader, only you know what will be required of future leaders.  You will choose.\n\nIs this acceptable?&quot;</span> ) ) ) {</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;        }</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>().<a class="code" href="classavatar.html#ae725b627365617ad8ee7e0d1d3297728">control_npc_menu</a>( <span class="keyword">false</span> );</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        <span class="comment">// Possible to exit menu and not choose a *new* leader. However this doesn&#39;t reset global timer. 100% on purpose, since you are &quot;choosing&quot; yourself.</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;        <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab">set_value</a>( <a class="code" href="faction__camp_8cpp.html#aa183760431c917d25adbdfaf94f10b2a">var_timer_time_of_last_succession</a>,</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                                          <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">std::to_string</a>( current_time_int ) );</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    }</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160; </div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    <span class="comment">// Vector of pairs containing a pointer to an NPC and their modified social score</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    std::vector&lt;std::pair&lt;shared_ptr_fast&lt;npc&gt;, <span class="keywordtype">int</span>&gt;&gt; followers;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="comment">// You is still a nullptr! We never want to actually call the first value, this will crash.</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <a class="code" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;npc&gt;</a> you;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    followers.emplace_back( you, <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, 5 ) +</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                            <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>().get_skill_level( <a class="code" href="faction__camp_8cpp.html#add6bff65f422cff2a7ede6c7b904d982">skill_speech</a> ) * 2 ) );</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <span class="keywordtype">int</span> charnum = 0;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classcharacter__id.html">character_id</a> &amp;elem : <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_follower_list() ) {</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        <a class="code" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;npc&gt;</a> follower = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#abe3397983bdf2419ede84ee43bdf587f">find_npc</a>( elem );</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        <span class="keywordflow">if</span>( follower ) {</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;            <span class="comment">// Yes this is a very barren representation of who gets elected in a democracy. Too bad!</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;            <span class="keywordtype">int</span> popularity = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, 5 ) + <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, follower-&gt;get_skill_level( <a class="code" href="faction__camp_8cpp.html#add6bff65f422cff2a7ede6c7b904d982">skill_speech</a> ) * 2 );</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;            followers.emplace_back( follower, popularity );</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;            charnum++;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        }</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    }</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="comment">// Sortition</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="keywordflow">if</span>( choice == 1 ) {</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>(</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You will allow fate to choose the next leader.  Whether it&#39;s by dice, drawing straws, or picking names out of a hat, it will be purely random.\n\nIs this acceptable?&quot;</span> ) ) ) {</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        }</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        <span class="keywordtype">int</span> selected = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, charnum );</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        <span class="comment">// Vector starts at 0, we inserted &#39;you&#39; first, 0 will always be &#39;you&#39; pre-sort (that&#39;s why we don&#39;t sort unless democracy is called)</span></div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        <span class="keywordflow">if</span>( selected == 0 ) {</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;            <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Fate calls for you to remain in your role as leader for now.&quot;</span> ) );</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;            <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab">set_value</a>( <a class="code" href="faction__camp_8cpp.html#aa183760431c917d25adbdfaf94f10b2a">var_timer_time_of_last_succession</a>,</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;                                              <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">std::to_string</a>( current_time_int ) );</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        }</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;        <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> chosen = followers.at( selected ).first;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Fate chooses %s to lead your faction.&quot;</span> ), chosen-&gt;get_name() );</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;        <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>().<a class="code" href="classavatar.html#a8f968a043376121130a5cfc5d578b648">control_npc</a>( *chosen, <span class="keyword">false</span> );</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    }</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160; </div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <span class="comment">// Democratic</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="keywordflow">if</span>( choice == 2 ) {</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>(</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;A leader can only lead those willing to follow.  Everyone must get a say in choosing the new leader.\n\nIs this acceptable?&quot;</span> ) ) ) {</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        }</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;        std::sort( followers.begin(), followers.end(), []( <span class="keyword">const</span> <span class="keyword">auto</span> &amp; x, <span class="keyword">const</span> <span class="keyword">auto</span> &amp; y ) {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;            return x.second &gt; y.second;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        } );</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> elected = followers.at( 0 ).first;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        <span class="comment">// you == nullptr</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        <span class="keywordflow">if</span>( elected == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;            <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You win the election!&quot;</span> ) );</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;            <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab">set_value</a>( <a class="code" href="faction__camp_8cpp.html#aa183760431c917d25adbdfaf94f10b2a">var_timer_time_of_last_succession</a>,</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;                                              <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">std::to_string</a>( current_time_int ) );</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        }</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s wins the election with a popularity of %2$s!  The runner-up had a popularity of %3$s.&quot;</span> ),</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;               elected-&gt;get_name(), followers.at( 0 ).second, followers.at( 1 ).second );</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>().<a class="code" href="classavatar.html#a8f968a043376121130a5cfc5d578b648">control_npc</a>( *elected, <span class="keyword">false</span> );</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    }</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;}</div>
<div class="ttc" id="aavatar_8h_html_a7fe2c1a3376948380f856732d4f34c5c"><div class="ttname"><a href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a></div><div class="ttdeci">avatar &amp; get_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13817">game.cpp:13817</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_a4249b6f1d0842211bfe53e5f9e206a10"><div class="ttname"><a href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a></div><div class="ttdeci">time_duration rng(time_duration lo, time_duration hi)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00779">calendar.cpp:779</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_abf1cdb8f4662bf96c8d762e9229df8d9"><div class="ttname"><a href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a></div><div class="ttdeci">std::string to_string(const time_duration &amp;d, const bool compact)</div><div class="ttdoc">Returns a string showing a duration.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00546">calendar.cpp:546</a></div></div>
<div class="ttc" id="aclassCreature_html_a04c1983abeefbf67db1e3f2b2a9b58ab"><div class="ttname"><a href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab">Creature::set_value</a></div><div class="ttdeci">void set_value(const std::string &amp;key, const std::string &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01949">creature.cpp:1949</a></div></div>
<div class="ttc" id="aclassavatar_html_a8f968a043376121130a5cfc5d578b648"><div class="ttname"><a href="classavatar.html#a8f968a043376121130a5cfc5d578b648">avatar::control_npc</a></div><div class="ttdeci">void control_npc(npc &amp;, bool debug=false)</div><div class="ttdoc">Makes the avatar &quot;take over&quot; the given NPC, while the current avatar character becomes an NPC.</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l00176">avatar.cpp:176</a></div></div>
<div class="ttc" id="aclassavatar_html_ae725b627365617ad8ee7e0d1d3297728"><div class="ttname"><a href="classavatar.html#ae725b627365617ad8ee7e0d1d3297728">avatar::control_npc_menu</a></div><div class="ttdeci">void control_npc_menu(bool debug=false)</div><div class="ttdoc">Open a menu to choose the NPC to take over.</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l00211">avatar.cpp:211</a></div></div>
<div class="ttc" id="aclasscharacter__id_html"><div class="ttname"><a href="classcharacter__id.html">character_id</a></div><div class="ttdef"><b>Definition:</b> <a href="character__id_8h_source.html#l00009">character_id.h:10</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00196">calendar.h:197</a></div></div>
<div class="ttc" id="aclasstime__duration_html_a0f7145f4fc4c09defbaf25f468e4e54a"><div class="ttname"><a href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a></div><div class="ttdeci">static constexpr time_duration from_turns(const T t)</div><div class="ttdoc">Named constructors to get a duration representing a multiple of the named time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00221">calendar.h:221</a></div></div>
<div class="ttc" id="aclasstime__point_html"><div class="ttname"><a href="classtime__point.html">time_point</a></div><div class="ttdoc">A point in the game time.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00459">calendar.h:460</a></div></div>
<div class="ttc" id="aclasstime__point_html_ad30da6adf0db8bad37db0f2d3eea5a38"><div class="ttname"><a href="classtime__point.html#ad30da6adf0db8bad37db0f2d3eea5a38">time_point::from_turn</a></div><div class="ttdeci">static constexpr time_point from_turn(const int t)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00472">calendar.h:472</a></div></div>
<div class="ttc" id="aclassuilist_html"><div class="ttname"><a href="classuilist.html">uilist</a></div><div class="ttdoc">uilist: scrolling vertical list menu</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00231">ui.h:232</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a40429a7858a4c12dc0f7c87080b7e0ee"><div class="ttname"><a href="faction__camp_8cpp.html#a40429a7858a4c12dc0f7c87080b7e0ee">var_time_between_succession</a></div><div class="ttdeci">static const std::string var_time_between_succession</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00203">faction_camp.cpp:203</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_aa183760431c917d25adbdfaf94f10b2a"><div class="ttname"><a href="faction__camp_8cpp.html#aa183760431c917d25adbdfaf94f10b2a">var_timer_time_of_last_succession</a></div><div class="ttdeci">static const std::string var_timer_time_of_last_succession</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00206">faction_camp.cpp:206</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_add6bff65f422cff2a7ede6c7b904d982"><div class="ttname"><a href="faction__camp_8cpp.html#add6bff65f422cff2a7ede6c7b904d982">skill_speech</a></div><div class="ttdeci">static const skill_id skill_speech(&quot;speech&quot;)</div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00382">game.cpp:382</a></div></div>
<div class="ttc" id="agame_8cpp_html_ae5b4e6350cbe490780fbee966121b896"><div class="ttname"><a href="game_8cpp.html#ae5b4e6350cbe490780fbee966121b896">get_globals</a></div><div class="ttdeci">global_variables &amp; get_globals()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13871">game.cpp:13871</a></div></div>
<div class="ttc" id="amemory__fast_8h_html_ada897699f31fc8b37c5af09d95d45840"><div class="ttname"><a href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast</a></div><div class="ttdeci">std::shared_ptr&lt; T &gt; shared_ptr_fast</div><div class="ttdef"><b>Definition:</b> <a href="memory__fast_8h_source.html#l00016">memory_fast.h:16</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00038">calendar.cpp:38</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1e645471d321d71b235fb285da5c08ff"><div class="ttname"><a href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a></div><div class="ttdeci">int popup(const std::string &amp;text, PopupFlags flags)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00912">output.cpp:912</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab62599a77867b8f416669b92f60f4900"><div class="ttname"><a href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a></div><div class="ttdeci">bool query_yn(const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00811">output.cpp:811</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="avatar_8cpp_source.html#l00176">avatar::control_npc()</a>, <a class="el" href="avatar_8cpp_source.html#l00211">avatar::control_npc_menu()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01234">overmapbuffer::find_npc()</a>, <a class="el" href="calendar_8h_source.html#l00472">time_point::from_turn()</a>, <a class="el" href="calendar_8h_source.html#l00221">time_duration::from_turns()</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="game_8cpp_source.html#l13871">get_globals()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="creature_8cpp_source.html#l01949">Creature::set_value()</a>, <a class="el" href="faction__camp_8cpp.html#add6bff65f422cff2a7ede6c7b904d982">skill_speech</a>, <a class="el" href="calendar_8cpp_source.html#l00546">to_string()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="calendar_8h_source.html#l00541">calendar::turn_zero</a>, <a class="el" href="faction__camp_8cpp_source.html#l00203">var_time_between_succession</a>, and <a class="el" href="faction__camp_8cpp_source.html#l00206">var_timer_time_of_last_succession</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a82a0ce18ad2d52af02d6abee25057d85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82a0ce18ad2d52af02d6abee25057d85">&#9670;&nbsp;</a></span>combat_mission_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::combat_mission_return </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l04385">4385</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;{</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;    <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="classbasecamp.html#acf5ed5fde0f408c8978fb50097196efe">companion_choose_return</a>( miss_id, 3_hours );</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;    <span class="keywordflow">if</span>( comp != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;        <span class="keywordtype">bool</span> patrolling = miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a888b467cca91ea5e057caec42bc2655b">Camp_Combat_Patrol</a>;</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> patrol;</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;        <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> guy = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#abe3397983bdf2419ede84ee43bdf587f">find_npc</a>( comp-&gt;getID() );</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;        <span class="keywordflow">if</span>( guy ) {</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;            patrol.push_back( guy );</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;        }</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;pt : comp-&gt;companion_mission_points ) {</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;            <span class="keyword">const</span> <a class="code" href="classint__id.html">oter_id</a> &amp;omt_ref = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aa9fbf966291f6b82de9c540262324aba">ter</a>( pt );</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="namespaceavatar__action.html#a9611563bffc4224b3e724db03688bdd4">swim</a> = comp-&gt;get_skill_level( <a class="code" href="faction__camp_8cpp.html#a1d815a8053cfecc8a05374bf92924ba2">skill_swimming</a> );</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="overmap_8cpp.html#a8649724292a78ee43164a3ecfe5aa0e7">is_river</a>( omt_ref ) &amp;&amp; <a class="code" href="namespaceavatar__action.html#a9611563bffc4224b3e724db03688bdd4">swim</a> &lt; 2 ) {</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="namespaceavatar__action.html#a9611563bffc4224b3e724db03688bdd4">swim</a> == 0 ) {</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;                    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Your companion hit a river and didn&#39;t know how to swim&quot;</span> ) );</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;                    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Your companion hit a river and didn&#39;t know how to swim well &quot;</span></div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;                              <span class="stringliteral">&quot;enough to cross&quot;</span> ) );</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;                }</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;            }</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;            comp-&gt;death_drops = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;            <span class="keywordtype">bool</span> outcome = <a class="code" href="namespacetalk__function.html#add706e0a1b46729b0dd563b87ad7a8b2">talk_function::companion_om_combat_check</a>( patrol, pt, patrolling );</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;            comp-&gt;death_drops = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;            <span class="keywordflow">if</span>( outcome ) {</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;                <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a2d8c6ac98f85113aa8d9ce40be1f59d0">reveal</a>( pt, 2 );</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( comp-&gt;is_dead() ) {</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;                <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s didn&#39;t return from patrol&quot;</span> ), comp-&gt;get_name() );</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;                comp-&gt;place_corpse( pt );</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;                <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a3d05210f2ba34eb4e4908d4791691d84">add_note</a>( pt, <span class="stringliteral">&quot;DEAD NPC&quot;</span> );</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;                <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a37f717bbce84c4dc1e863d7f6a666df5">remove_npc</a>( comp-&gt;getID() );</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;            }</div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;        }</div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;        <span class="keyword">const</span> std::string msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns from patrol&quot;</span> );</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;        <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">true</span>, msg, <a class="code" href="faction__camp_8cpp.html#ad987cafeb67a1df8f9a9bb66c7004374">skill_combat</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 4 );</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;    }</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;}</div>
<div class="ttc" id="abasecamp_8h_html_a982b3d353e6071114d36ce561f3d8d81"><div class="ttname"><a href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a></div><div class="ttdeci">std::vector&lt; npc_ptr &gt; comp_list</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00065">basecamp.h:65</a></div></div>
<div class="ttc" id="aclassbasecamp_html_acf5ed5fde0f408c8978fb50097196efe"><div class="ttname"><a href="classbasecamp.html#acf5ed5fde0f408c8978fb50097196efe">basecamp::companion_choose_return</a></div><div class="ttdeci">npc_ptr companion_choose_return(const mission_id &amp;miss_id, time_duration min_duration)</div><div class="ttdoc">called to select a companion to return to the base</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03748">faction_camp.cpp:3748</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::abs, coords::omt &gt;</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; oter_t &gt;</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a2d8c6ac98f85113aa8d9ce40be1f59d0"><div class="ttname"><a href="classovermapbuffer.html#a2d8c6ac98f85113aa8d9ce40be1f59d0">overmapbuffer::reveal</a></div><div class="ttdeci">bool reveal(const point_abs_omt &amp;center, int radius, int z)</div><div class="ttdoc">Mark a square area around center on Z-level z as seen.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00820">overmapbuffer.cpp:820</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a37f717bbce84c4dc1e863d7f6a666df5"><div class="ttname"><a href="classovermapbuffer.html#a37f717bbce84c4dc1e863d7f6a666df5">overmapbuffer::remove_npc</a></div><div class="ttdeci">shared_ptr_fast&lt; npc &gt; remove_npc(const character_id &amp;id)</div><div class="ttdoc">Find npc by id and if found, erase it from the npc list and return it ( or return nullptr if not foun...</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01282">overmapbuffer.cpp:1282</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a3d05210f2ba34eb4e4908d4791691d84"><div class="ttname"><a href="classovermapbuffer.html#a3d05210f2ba34eb4e4908d4791691d84">overmapbuffer::add_note</a></div><div class="ttdeci">void add_note(const tripoint_abs_omt &amp;, const std::string &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00258">overmapbuffer.cpp:258</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_aa9fbf966291f6b82de9c540262324aba"><div class="ttname"><a href="classovermapbuffer.html#aa9fbf966291f6b82de9c540262324aba">overmapbuffer::ter</a></div><div class="ttdeci">const oter_id &amp; ter(const tripoint_abs_omt &amp;p)</div><div class="ttdoc">Returns the overmap terrain at the given OMT coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00780">overmapbuffer.cpp:780</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a1d815a8053cfecc8a05374bf92924ba2"><div class="ttname"><a href="faction__camp_8cpp.html#a1d815a8053cfecc8a05374bf92924ba2">skill_swimming</a></div><div class="ttdeci">static const skill_id skill_swimming(&quot;swimming&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_ad987cafeb67a1df8f9a9bb66c7004374"><div class="ttname"><a href="faction__camp_8cpp.html#ad987cafeb67a1df8f9a9bb66c7004374">skill_combat</a></div><div class="ttdeci">static const skill_id skill_combat(&quot;combat&quot;)</div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a888b467cca91ea5e057caec42bc2655b"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a888b467cca91ea5e057caec42bc2655b">Camp_Combat_Patrol</a></div><div class="ttdeci">@ Camp_Combat_Patrol</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00076">mission_companion.h:76</a></div></div>
<div class="ttc" id="anamespaceavatar__action_html_a9611563bffc4224b3e724db03688bdd4"><div class="ttname"><a href="namespaceavatar__action.html#a9611563bffc4224b3e724db03688bdd4">avatar_action::swim</a></div><div class="ttdeci">void swim(map &amp;m, avatar &amp;you, const tripoint &amp;p)</div><div class="ttdoc">Handles swimming by the player.</div><div class="ttdef"><b>Definition:</b> <a href="avatar__action_8cpp_source.html#l00618">avatar_action.cpp:618</a></div></div>
<div class="ttc" id="anamespacetalk__function_html_add706e0a1b46729b0dd563b87ad7a8b2"><div class="ttname"><a href="namespacetalk__function.html#add706e0a1b46729b0dd563b87ad7a8b2">talk_function::companion_om_combat_check</a></div><div class="ttdeci">bool companion_om_combat_check(const comp_list &amp;group, const tripoint_abs_omt &amp;om_tgt, bool try_engage=false)</div></div>
<div class="ttc" id="aovermap_8cpp_html_a8649724292a78ee43164a3ecfe5aa0e7"><div class="ttname"><a href="overmap_8cpp.html#a8649724292a78ee43164a3ecfe5aa0e7">is_river</a></div><div class="ttdeci">bool is_river(const oter_id &amp;ter)</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l00573">overmap.cpp:573</a></div></div>
<div class="ttc" id="astructmission__id_html_a9a1d9cd3645d8fda2ffdfe1a45b16635"><div class="ttname"><a href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">mission_id::id</a></div><div class="ttdeci">mission_kind id</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00104">mission_companion.h:104</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00258">overmapbuffer::add_note()</a>, <a class="el" href="mission__companion_8h_source.html#l00076">Camp_Combat_Patrol</a>, <a class="el" href="faction__camp_8cpp_source.html#l03748">companion_choose_return()</a>, <a class="el" href="namespacetalk__function.html#add706e0a1b46729b0dd563b87ad7a8b2">talk_function::companion_om_combat_check()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01234">overmapbuffer::find_npc()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>, <a class="el" href="mission__companion_8h_source.html#l00104">mission_id::id</a>, <a class="el" href="overmap_8cpp_source.html#l00573">is_river()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01282">overmapbuffer::remove_npc()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00820">overmapbuffer::reveal()</a>, <a class="el" href="faction__camp_8cpp.html#ad987cafeb67a1df8f9a9bb66c7004374">skill_combat</a>, <a class="el" href="faction__camp_8cpp.html#a1d815a8053cfecc8a05374bf92924ba2">skill_swimming</a>, <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00618">avatar_action::swim()</a>, and <a class="el" href="overmapbuffer_8cpp_source.html#l00780">overmapbuffer::ter()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="ae6c113adcd32bb815a5a88e624b79fda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6c113adcd32bb815a5a88e624b79fda">&#9670;&nbsp;</a></span>common_salt_water_pipe_construction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::common_salt_water_pipe_construction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structexpansion__salt__water__pipe.html">expansion_salt_water_pipe</a> *&#160;</td>
          <td class="paramname"><em>pipe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>segment_number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when a companion is sent to start digging down salt water pipes. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l03114">3114</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;{</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;making = <a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>(</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;                               miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> ).<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>(); <span class="comment">//  Actually a template recipe that we&#39;ll rotate and mirror as required.</span></div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    <span class="keywordtype">int</span> remaining_segments = pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>.size() - 1;</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160; </div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;    <span class="keywordflow">if</span>( segment_number == 0 ) {</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Number of additional sessions required: %i&quot;</span> ), remaining_segments ) ) {</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;        }</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    }</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160; </div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;    <a class="code" href="structmapgen__arguments.html">mapgen_arguments</a> arg;  <span class="comment">//  Created with a default value.</span></div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;    <a class="code" href="classbasecamp__action__components.html">basecamp_action_components</a> components( making, arg, 1, *<span class="keyword">this</span> );</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;    <span class="keywordflow">if</span>( !components.choose_components() ) {</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;    }</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160; </div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;    <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> comp;</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160; </div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    <span class="keywordflow">if</span>( segment_number == 0 ) {</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;        comp = <a class="code" href="classbasecamp.html#adc36f57775b55c418c99e9085666c8bd">start_multi_mission</a>( miss_id, <span class="keyword">true</span>,</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;                                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Start constructing salt water pipes&quot;</span> ),</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;                                    making.<a class="code" href="classrecipe.html#a0f8a4801e8ff8e2c0310b04ef0c4a245">required_skills</a> );</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160; </div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;        <a class="code" href="structpoint.html">point</a> connection_dir = pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#ae7b59b91e8530f7e154b7116d0af0be4">connection_direction</a>;</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> segment_number = 0;</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160; </div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;        <a class="code" href="structpoint.html">point</a> next_construction_direction;</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160; </div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;        <span class="keywordflow">if</span>( segment_number == pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>.size() - 1 ) {</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;            next_construction_direction = { -connection_dir.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>, -connection_dir.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> };</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;            next_construction_direction = { pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number + 1].point.x() - pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point.x(),</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;                                            pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number + 1].point.y() - pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point.y()</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;                                          };</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;        }</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160; </div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;        <span class="keywordtype">bool</span> orthogonal = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;        <span class="keywordtype">bool</span> mirror_horizontal = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;        <span class="keywordtype">bool</span> mirror_vertical = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;        <span class="keywordtype">int</span> rotation = 0;</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160; </div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;        <a class="code" href="faction__camp_8cpp.html#a6021ed02b03a1818a80c619b39729392">salt_water_pipe_orientation_adjustment</a>( next_construction_direction, orthogonal, mirror_vertical,</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;                                                mirror_horizontal, rotation );</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160; </div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;        <span class="keywordflow">if</span>( orthogonal ) {</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;            <span class="keyword">const</span> <a class="code" href="classstring__id.html">update_mapgen_id</a> <span class="keywordtype">id</span>{ <a class="code" href="faction__camp_8cpp.html#a335794f4a5cb0da4e3d56d97b94642a8">faction_expansion_salt_water_pipe_swamp_N</a> };</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;            <a class="code" href="mapgen_8cpp.html#a3f043a26f6795bdf1cdffc73134bce33">apply_construction_marker</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point,</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;                                       miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a>, mirror_horizontal,</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;                                       mirror_vertical, rotation, <span class="keyword">true</span> );</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;            <span class="keyword">const</span> <a class="code" href="classstring__id.html">update_mapgen_id</a> <span class="keywordtype">id</span>{ <a class="code" href="faction__camp_8cpp.html#ac5026b654d956ff8bf9295261f4bcd3f">faction_expansion_salt_water_pipe_swamp_NE</a> };</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;            <a class="code" href="mapgen_8cpp.html#a3f043a26f6795bdf1cdffc73134bce33">apply_construction_marker</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point,</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;                                       miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a>, mirror_horizontal,</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;                                       mirror_vertical, rotation, <span class="keyword">true</span> );</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;        }</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160; </div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;        comp = <a class="code" href="classbasecamp.html#adc36f57775b55c418c99e9085666c8bd">start_multi_mission</a>( miss_id, <span class="keyword">true</span>,</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;                                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Continue constructing salt water pipes&quot;</span> ),</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;                                    making.<a class="code" href="classrecipe.html#a0f8a4801e8ff8e2c0310b04ef0c4a245">required_skills</a> );</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160; </div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;        <a class="code" href="structpoint.html">point</a> connection_dir = pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#ae7b59b91e8530f7e154b7116d0af0be4">connection_direction</a>;</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160; </div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;        <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> previous_construction_direction = { pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number - 1].point.x() - pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point.x(),</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;                                                        pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number - 1].point.y() - pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point.y()</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;                                                      };</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160; </div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;        <a class="code" href="structpoint.html">point</a> next_construction_direction;</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160; </div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;        <span class="keywordflow">if</span>( segment_number == <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>.size() - 1 ) ) {</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;            next_construction_direction = { -connection_dir.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>, -connection_dir.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> };</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;            next_construction_direction = { pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number + 1].point.x() - pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point.x(),</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;                                            pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number + 1].point.y() - pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point.y()</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;                                          };</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;        }</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160; </div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;        <span class="keywordtype">bool</span> orthogonal = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;        <span class="keywordtype">bool</span> mirror_horizontal = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;        <span class="keywordtype">bool</span> mirror_vertical = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;        <span class="keywordtype">int</span> rotation = 0;</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160; </div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;        <a class="code" href="faction__camp_8cpp.html#a6021ed02b03a1818a80c619b39729392">salt_water_pipe_orientation_adjustment</a>( previous_construction_direction, orthogonal,</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;                                                mirror_vertical, mirror_horizontal, rotation );</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160; </div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;        <span class="keywordflow">if</span>( orthogonal ) {</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;            <span class="keyword">const</span> <a class="code" href="classstring__id.html">update_mapgen_id</a> <span class="keywordtype">id</span>{ <a class="code" href="faction__camp_8cpp.html#a7937e40ba0e98e4562287788be7dd431">faction_expansion_salt_water_pipe_N</a> };</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;            <a class="code" href="mapgen_8cpp.html#a3f043a26f6795bdf1cdffc73134bce33">apply_construction_marker</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point,</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;                                       miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a>, mirror_horizontal,</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;                                       mirror_vertical, rotation, <span class="keyword">true</span> );</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;            <span class="keyword">const</span> <a class="code" href="classstring__id.html">update_mapgen_id</a> <span class="keywordtype">id</span>{ <a class="code" href="faction__camp_8cpp.html#a8b19f47cd9207fe658369b52d95aeef3">faction_expansion_salt_water_pipe_NE</a> };</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;            <a class="code" href="mapgen_8cpp.html#a3f043a26f6795bdf1cdffc73134bce33">apply_construction_marker</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point,</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;                                       miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a>, mirror_horizontal,</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;                                       mirror_vertical, rotation, <span class="keyword">true</span> );</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;        }</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160; </div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;        <a class="code" href="faction__camp_8cpp.html#a6021ed02b03a1818a80c619b39729392">salt_water_pipe_orientation_adjustment</a>( next_construction_direction, orthogonal, mirror_vertical,</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;                                                mirror_horizontal, rotation );</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160; </div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;        <span class="keywordflow">if</span>( orthogonal ) {</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;            <span class="keyword">const</span> <a class="code" href="classstring__id.html">update_mapgen_id</a> <span class="keywordtype">id</span>{ <a class="code" href="faction__camp_8cpp.html#a7937e40ba0e98e4562287788be7dd431">faction_expansion_salt_water_pipe_N</a> };</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;            <a class="code" href="mapgen_8cpp.html#a3f043a26f6795bdf1cdffc73134bce33">apply_construction_marker</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point,</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;                                       miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a>, mirror_horizontal,</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;                                       mirror_vertical, rotation, <span class="keyword">true</span> );</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;            <span class="keyword">const</span> <a class="code" href="classstring__id.html">update_mapgen_id</a> <span class="keywordtype">id</span>{ <a class="code" href="faction__camp_8cpp.html#a8b19f47cd9207fe658369b52d95aeef3">faction_expansion_salt_water_pipe_NE</a> };</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;            <a class="code" href="mapgen_8cpp.html#a3f043a26f6795bdf1cdffc73134bce33">apply_construction_marker</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point,</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;                                       miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a>, mirror_horizontal,</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;                                       mirror_vertical, rotation, <span class="keyword">true</span> );</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;        }</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;    }</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160; </div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;    <span class="keywordflow">if</span>( !comp.empty() ) {</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;        components.consume_components();</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;        <a class="code" href="classbasecamp.html#a9c287c78fafdbec24724b3b1f049fe11">update_in_progress</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a>, miss_id.<a class="code" href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">dir</a>.value() );  <span class="comment">// Dir will always have a value</span></div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;        pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].started = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;    }</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160; </div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    <span class="keywordflow">return</span> !comp.empty();</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp__action__components_html"><div class="ttname"><a href="classbasecamp__action__components.html">basecamp_action_components</a></div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00509">basecamp.h:510</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a9c287c78fafdbec24724b3b1f049fe11"><div class="ttname"><a href="classbasecamp.html#a9c287c78fafdbec24724b3b1f049fe11">basecamp::update_in_progress</a></div><div class="ttdeci">void update_in_progress(const std::string &amp;bldg, const point &amp;dir)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00444">basecamp.cpp:444</a></div></div>
<div class="ttc" id="aclassbasecamp_html_adc36f57775b55c418c99e9085666c8bd"><div class="ttname"><a href="classbasecamp.html#adc36f57775b55c418c99e9085666c8bd">basecamp::start_multi_mission</a></div><div class="ttdeci">comp_list start_multi_mission(const mission_id &amp;miss_id, bool must_feed, const std::string &amp;desc, const skill_id &amp;skill_tested, int skill_level)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02012">faction_camp.cpp:2012</a></div></div>
<div class="ttc" id="aclassrecipe_html_a0f8a4801e8ff8e2c0310b04ef0c4a245"><div class="ttname"><a href="classrecipe.html#a0f8a4801e8ff8e2c0310b04ef0c4a245">recipe::required_skills</a></div><div class="ttdeci">std::map&lt; skill_id, int &gt; required_skills</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00189">recipe.h:189</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; update_mapgen &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00071">achievement.cpp:71</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a335794f4a5cb0da4e3d56d97b94642a8"><div class="ttname"><a href="faction__camp_8cpp.html#a335794f4a5cb0da4e3d56d97b94642a8">faction_expansion_salt_water_pipe_swamp_N</a></div><div class="ttdeci">static const std::string faction_expansion_salt_water_pipe_swamp_N</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00338">faction_camp.cpp:338</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a6021ed02b03a1818a80c619b39729392"><div class="ttname"><a href="faction__camp_8cpp.html#a6021ed02b03a1818a80c619b39729392">salt_water_pipe_orientation_adjustment</a></div><div class="ttdeci">static void salt_water_pipe_orientation_adjustment(const point &amp;dir, bool &amp;orthogonal, bool &amp;mirror_vertical, bool &amp;mirror_horizontal, int &amp;rotation)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03067">faction_camp.cpp:3067</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a7937e40ba0e98e4562287788be7dd431"><div class="ttname"><a href="faction__camp_8cpp.html#a7937e40ba0e98e4562287788be7dd431">faction_expansion_salt_water_pipe_N</a></div><div class="ttdeci">static const std::string faction_expansion_salt_water_pipe_N</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00344">faction_camp.cpp:344</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a8b19f47cd9207fe658369b52d95aeef3"><div class="ttname"><a href="faction__camp_8cpp.html#a8b19f47cd9207fe658369b52d95aeef3">faction_expansion_salt_water_pipe_NE</a></div><div class="ttdeci">static const std::string faction_expansion_salt_water_pipe_NE</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00347">faction_camp.cpp:347</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_ac5026b654d956ff8bf9295261f4bcd3f"><div class="ttname"><a href="faction__camp_8cpp.html#ac5026b654d956ff8bf9295261f4bcd3f">faction_expansion_salt_water_pipe_swamp_NE</a></div><div class="ttdeci">static const std::string faction_expansion_salt_water_pipe_swamp_NE</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00340">faction_camp.cpp:340</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_a3f043a26f6795bdf1cdffc73134bce33"><div class="ttname"><a href="mapgen_8cpp.html#a3f043a26f6795bdf1cdffc73134bce33">apply_construction_marker</a></div><div class="ttdeci">bool apply_construction_marker(const update_mapgen_id &amp;update_mapgen_id, const tripoint_abs_omt &amp;omt_pos, const mapgen_arguments &amp;args, bool mirror_horizontal, bool mirror_vertical, int rotation, bool apply)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l07960">mapgen.cpp:7960</a></div></div>
<div class="ttc" id="astructexpansion__salt__water__pipe_html_a01c66f4cc7bf9c9df58f9e989781f7a5"><div class="ttname"><a href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">expansion_salt_water_pipe::segments</a></div><div class="ttdeci">std::vector&lt; expansion_salt_water_pipe_segment &gt; segments</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00144">basecamp.h:144</a></div></div>
<div class="ttc" id="astructexpansion__salt__water__pipe_html_ae7b59b91e8530f7e154b7116d0af0be4"><div class="ttname"><a href="structexpansion__salt__water__pipe.html#ae7b59b91e8530f7e154b7116d0af0be4">expansion_salt_water_pipe::connection_direction</a></div><div class="ttdeci">point connection_direction</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00143">basecamp.h:143</a></div></div>
<div class="ttc" id="astructmission__id_html_a06a466a1249ca25fd2892efd769ebc5b"><div class="ttname"><a href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mission_id::mapgen_args</a></div><div class="ttdeci">mapgen_arguments mapgen_args</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00106">mission_companion.h:106</a></div></div>
<div class="ttc" id="astructmission__id_html_a26953b0df01b73f23af4baaddb98e746"><div class="ttname"><a href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">mission_id::parameters</a></div><div class="ttdeci">std::string parameters</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00105">mission_companion.h:105</a></div></div>
<div class="ttc" id="astructmission__id_html_a311e8257bc9b3772e01e7acfa77fce26"><div class="ttname"><a href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">mission_id::dir</a></div><div class="ttdeci">std::optional&lt; point &gt; dir</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00107">mission_companion.h:107</a></div></div>
<div class="ttc" id="astructpoint_html_a9a82ca9504acabb1e30569f89c805471"><div class="ttname"><a href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">point::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00024">point.h:24</a></div></div>
<div class="ttc" id="astructpoint_html_ad679b07fb69d55f5ad454d0f1f2891d5"><div class="ttname"><a href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">point::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00023">point.h:23</a></div></div>
<div class="ttc" id="atype__id_8h_html_a7d1934ae1f3ab6bea8bd75f88070482d"><div class="ttname"><a href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a></div><div class="ttdeci">string_id&lt; recipe &gt; recipe_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00214">type_id.h:214</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="mapgen_8cpp_source.html#l07960">apply_construction_marker()</a>, <a class="el" href="basecamp_8cpp_source.html#l00877">basecamp_action_components::choose_components()</a>, <a class="el" href="basecamp_8h_source.html#l00143">expansion_salt_water_pipe::connection_direction</a>, <a class="el" href="basecamp_8cpp_source.html#l00924">basecamp_action_components::consume_components()</a>, <a class="el" href="mission__companion_8h_source.html#l00107">mission_id::dir</a>, <a class="el" href="faction__camp_8cpp_source.html#l00344">faction_expansion_salt_water_pipe_N</a>, <a class="el" href="faction__camp_8cpp_source.html#l00347">faction_expansion_salt_water_pipe_NE</a>, <a class="el" href="faction__camp_8cpp_source.html#l00338">faction_expansion_salt_water_pipe_swamp_N</a>, <a class="el" href="faction__camp_8cpp_source.html#l00340">faction_expansion_salt_water_pipe_swamp_NE</a>, <a class="el" href="mission__companion_8h_source.html#l00106">mission_id::mapgen_args</a>, <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>, <a class="el" href="mission__companion_8h_source.html#l00105">mission_id::parameters</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="recipe_8h_source.html#l00189">recipe::required_skills</a>, <a class="el" href="faction__camp_8cpp_source.html#l03067">salt_water_pipe_orientation_adjustment()</a>, <a class="el" href="basecamp_8h_source.html#l00144">expansion_salt_water_pipe::segments</a>, <a class="el" href="faction__camp_8cpp_source.html#l02012">start_multi_mission()</a>, <a class="el" href="basecamp_8cpp_source.html#l00444">update_in_progress()</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l03426">continue_salt_water_pipe()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l03239">start_salt_water_pipe()</a>.</p>

</div>
</div>
<a id="acf5ed5fde0f408c8978fb50097196efe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf5ed5fde0f408c8978fb50097196efe">&#9670;&nbsp;</a></span>companion_choose_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> basecamp::companion_choose_return </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td>
          <td class="paramname"><em>min_duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>called to select a companion to return to the base </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l03748">3748</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;{</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacetalk__function.html#a90eee56b9502a1002a4d339a4ae40db9">talk_function::companion_choose_return</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, <a class="code" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">base_camps::id</a>, miss_id,</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;            <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> - min_duration );</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;}</div>
<div class="ttc" id="anamespacetalk__function_html_a90eee56b9502a1002a4d339a4ae40db9"><div class="ttname"><a href="namespacetalk__function.html#a90eee56b9502a1002a4d339a4ae40db9">talk_function::companion_choose_return</a></div><div class="ttdeci">npc_ptr companion_choose_return(const npc &amp;p, const mission_id &amp;miss_id, const time_point &amp;deadline, bool ignore_parameters=false)</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8cpp_source.html#l02735">mission_companion.cpp:2735</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mission__companion_8cpp_source.html#l02735">talk_function::companion_choose_return()</a>, <a class="el" href="basecamp_8h_source.html#l00105">base_camps::id</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l04385">combat_mission_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04038">fortifications_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03962">gathering_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03819">mission_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04425">survey_field_return()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l04502">survey_return()</a>.</p>

</div>
</div>
<a id="af8ad228037665b1fad004f5bda3b1542"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8ad228037665b1fad004f5bda3b1542">&#9670;&nbsp;</a></span>companion_crafting_choose_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> basecamp::companion_crafting_choose_return </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l03755">3755</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;{</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;    <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> preliminary_npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id, <span class="keyword">true</span> );</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;    <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list;</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;    std::map&lt;std::string, comp_list&gt; lists = <a class="code" href="faction__camp_8cpp.html#af07201c9ded628d60961171774fa8b7d">companion_per_recipe_building_type</a>( preliminary_npc_list );</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;    <span class="keyword">const</span> std::string bldg = <a class="code" href="namespacerecipe__group.html#a450052be5d02ac19aac41875daa665bb">recipe_group::get_building_of_recipe</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> );</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160; </div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> &amp;comp : lists[bldg] ) {</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;        <span class="keywordflow">if</span>( comp-&gt;companion_mission_time_ret &lt; <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) {</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;            npc_list.emplace_back( comp );</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;        }</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;    }</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160; </div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacetalk__function.html#a90eee56b9502a1002a4d339a4ae40db9">talk_function::companion_choose_return</a>( npc_list );</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_ae8de3b4b3dcff471756188647b68fc92"><div class="ttname"><a href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">basecamp::get_mission_workers</a></div><div class="ttdeci">comp_list get_mission_workers(const mission_id &amp;miss_id, bool contains=false)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00597">basecamp.cpp:597</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_af07201c9ded628d60961171774fa8b7d"><div class="ttname"><a href="faction__camp_8cpp.html#af07201c9ded628d60961171774fa8b7d">companion_per_recipe_building_type</a></div><div class="ttdeci">static std::map&lt; std::string, comp_list &gt; companion_per_recipe_building_type(comp_list &amp;npc_list)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00469">faction_camp.cpp:469</a></div></div>
<div class="ttc" id="anamespacerecipe__group_html_a450052be5d02ac19aac41875daa665bb"><div class="ttname"><a href="namespacerecipe__group.html#a450052be5d02ac19aac41875daa665bb">recipe_group::get_building_of_recipe</a></div><div class="ttdeci">std::string get_building_of_recipe(const std::string &amp;recipe)</div><div class="ttdef"><b>Definition:</b> <a href="recipe__groups_8cpp_source.html#l00168">recipe_groups.cpp:168</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mission__companion_8cpp_source.html#l02735">talk_function::companion_choose_return()</a>, <a class="el" href="npc_8h_source.html#l01398">npc::companion_mission_time_ret</a>, <a class="el" href="faction__camp_8cpp_source.html#l00469">companion_per_recipe_building_type()</a>, <a class="el" href="recipe__groups_8cpp_source.html#l00168">recipe_group::get_building_of_recipe()</a>, <a class="el" href="basecamp_8cpp_source.html#l00597">get_mission_workers()</a>, <a class="el" href="mission__companion_8h_source.html#l00105">mission_id::parameters</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l03830">crafting_mission_return()</a>.</p>

</div>
</div>
<a id="a2c38e3963f08f483ddaeee78f95709c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c38e3963f08f483ddaeee78f95709c5">&#9670;&nbsp;</a></span>continue_salt_water_pipe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::continue_salt_water_pipe </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l03426">3426</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;{</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> dir = miss_id.<a class="code" href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">dir</a>.value();  <span class="comment">//  Dir will always have a value</span></div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;    <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;making = <a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> ).<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160; </div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;    <a class="code" href="structexpansion__salt__water__pipe.html">expansion_salt_water_pipe</a> *pipe = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160; </div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;    <span class="keywordtype">bool</span> pipe_is_new = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structexpansion__salt__water__pipe.html">expansion_salt_water_pipe</a> *element : <a class="code" href="classbasecamp.html#a9465f218c84c5322a1709b420ce8c225">salt_water_pipes</a> ) {</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;        <span class="keywordflow">if</span>( element-&gt;expansion == dir ) {</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;            pipe = element;</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;            pipe_is_new = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;        }</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;    }</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160; </div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;    <span class="keywordflow">if</span>( pipe_is_new ) {</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Trying to continue construction of a salt water pipe that isn&#39;t in progress&quot;</span> );</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;    }</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160; </div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> segment_number = <a class="code" href="faction__camp_8cpp.html#ad0c98227b4ff493485299a472b4adb45">salt_water_pipe_segment_of</a>( making );</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160; </div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;    <span class="keywordflow">if</span>( segment_number == -1 ) {</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;    }</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160; </div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;    <span class="keywordflow">if</span>( pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].finished ) {</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Trying to construct a segment that&#39;s already constructed&quot;</span> );</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;    }</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160; </div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;    <a class="code" href="classbasecamp.html#ae6c113adcd32bb815a5a88e624b79fda">common_salt_water_pipe_construction</a>( miss_id, pipe, segment_number );</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a9465f218c84c5322a1709b420ce8c225"><div class="ttname"><a href="classbasecamp.html#a9465f218c84c5322a1709b420ce8c225">basecamp::salt_water_pipes</a></div><div class="ttdeci">std::vector&lt; expansion_salt_water_pipe * &gt; salt_water_pipes</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00198">basecamp.h:198</a></div></div>
<div class="ttc" id="aclassbasecamp_html_ae6c113adcd32bb815a5a88e624b79fda"><div class="ttname"><a href="classbasecamp.html#ae6c113adcd32bb815a5a88e624b79fda">basecamp::common_salt_water_pipe_construction</a></div><div class="ttdeci">bool common_salt_water_pipe_construction(const mission_id &amp;miss_id, expansion_salt_water_pipe *pipe, int segment_number)</div><div class="ttdoc">Called when a companion is sent to start digging down salt water pipes.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03114">faction_camp.cpp:3114</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_ad0c98227b4ff493485299a472b4adb45"><div class="ttname"><a href="faction__camp_8cpp.html#ad0c98227b4ff493485299a472b4adb45">salt_water_pipe_segment_of</a></div><div class="ttdeci">static int salt_water_pipe_segment_of(const recipe &amp;making)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02985">faction_camp.cpp:2985</a></div></div>
<div class="ttc" id="astructexpansion__salt__water__pipe_html"><div class="ttname"><a href="structexpansion__salt__water__pipe.html">expansion_salt_water_pipe</a></div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00141">basecamp.h:141</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction__camp_8cpp_source.html#l03114">common_salt_water_pipe_construction()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="mission__companion_8h_source.html#l00107">mission_id::dir</a>, <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>, <a class="el" href="mission__companion_8h_source.html#l00105">mission_id::parameters</a>, <a class="el" href="faction__camp_8cpp_source.html#l02985">salt_water_pipe_segment_of()</a>, <a class="el" href="basecamp_8h_source.html#l00198">salt_water_pipes</a>, and <a class="el" href="basecamp_8h_source.html#l00144">expansion_salt_water_pipe::segments</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l02084">start_upgrade()</a>.</p>

</div>
</div>
<a id="ae9614b7c6366950ce5bd9e310cde3fc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9614b7c6366950ce5bd9e310cde3fc8">&#9670;&nbsp;</a></span>craft_description()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string basecamp::craft_description </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> &amp;&#160;</td>
          <td class="paramname"><em>itm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the description of a camp crafting options. </p>
<p>converts fire charges to charcoal, allows dark crafting </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05364">5364</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;{</div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;    <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;making = itm.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160; </div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;    std::vector&lt;std::string&gt; component_print_buffer;</div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;    <span class="keywordtype">int</span> pane = <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a>;</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;    <span class="keyword">const</span> <a class="code" href="structrequirement__data.html">requirement_data</a> &amp;req = making.<a class="code" href="classrecipe.html#ad68760d09d83ba4b7793ad831f7973d5">simple_requirements</a>();</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;    <span class="keyword">auto</span> tools = req.<a class="code" href="structrequirement__data.html#a7518cd295931d5e30f6ba0341f90aa8b">get_folded_tools_list</a>( pane, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a>, 1 );</div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;    <span class="keyword">auto</span> comps = req.<a class="code" href="structrequirement__data.html#a9b9025140c166ce2a00fcf41db96b7a9">get_folded_components_list</a>( pane, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a>,</div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;                 making.<a class="code" href="classrecipe.html#a45b065c59b172ccab9e0630fd036fe09">get_component_filter</a>(), 1 );</div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160; </div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;    component_print_buffer.insert( component_print_buffer.end(), tools.begin(), tools.end() );</div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;    component_print_buffer.insert( component_print_buffer.end(), comps.begin(), comps.end() );</div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160; </div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;    std::string comp;</div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : component_print_buffer ) {</div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;        <a class="code" href="cata__utility_8h.html#a08531d647db70a8f67a522176a6f2130">str_append</a>( comp, elem, <span class="stringliteral">&quot;\n&quot;</span> );</div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;    }</div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;    comp = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Skill used: %s\nDifficulty: %d\n%s\nTime: %s\nCalories per craft: %s\n&quot;</span> ),</div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;                          making.<a class="code" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a>.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="classSkill.html#a11c69074ce9b251983f170510808bd85">name</a>(), making.<a class="code" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a>, comp,</div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;                          <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a>( <a class="code" href="namespacebase__camps.html#a8922377c7d85cf4e79f0445b4b6e819c">base_camps::to_workdays</a>( making.<a class="code" href="classrecipe.html#ae6f40cf521235b40c169fbe66a677976">batch_duration</a>( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>() ) ) ),</div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;                          <a class="code" href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">time_to_food</a>( <a class="code" href="namespacebase__camps.html#a8922377c7d85cf4e79f0445b4b6e819c">base_camps::to_workdays</a>( making.<a class="code" href="classrecipe.html#ae6f40cf521235b40c169fbe66a677976">batch_duration</a>( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>() ) ),</div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;                                        itm.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="classrecipe.html#a8b1340359e15a704dc0942bfe5f9a5fa">exertion_level</a>() ) );</div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;    <span class="keywordflow">return</span> comp;</div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;}</div>
<div class="ttc" id="acata__utility_8h_html_a08531d647db70a8f67a522176a6f2130"><div class="ttname"><a href="cata__utility_8h.html#a08531d647db70a8f67a522176a6f2130">str_append</a></div><div class="ttdeci">std::string &amp; str_append(std::string &amp;root, T &amp;&amp;...a)</div><div class="ttdoc">Append all arguments after the first to the first.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8h_source.html#l00523">cata_utility.h:523</a></div></div>
<div class="ttc" id="aclassSkill_html_a11c69074ce9b251983f170510808bd85"><div class="ttname"><a href="classSkill.html#a11c69074ce9b251983f170510808bd85">Skill::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00071">skill.h:71</a></div></div>
<div class="ttc" id="aclassrecipe_html_a0af03931c6f034e6b5269a5206e31bd2"><div class="ttname"><a href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">recipe::skill_used</a></div><div class="ttdeci">skill_id skill_used</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00188">recipe.h:188</a></div></div>
<div class="ttc" id="aclassrecipe_html_a10e4e7582e7174825ead3d07c3e4fca1"><div class="ttname"><a href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">recipe::difficulty</a></div><div class="ttdeci">int difficulty</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00133">recipe.h:133</a></div></div>
<div class="ttc" id="aclassrecipe_html_a8b1340359e15a704dc0942bfe5f9a5fa"><div class="ttname"><a href="classrecipe.html#a8b1340359e15a704dc0942bfe5f9a5fa">recipe::exertion_level</a></div><div class="ttdeci">float exertion_level() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01140">recipe.cpp:1140</a></div></div>
<div class="ttc" id="aclassrecipe_html_ad68760d09d83ba4b7793ad831f7973d5"><div class="ttname"><a href="classrecipe.html#ad68760d09d83ba4b7793ad831f7973d5">recipe::simple_requirements</a></div><div class="ttdeci">const requirement_data &amp; simple_requirements() const</div><div class="ttdoc">Fetch combined requirement data (inline and via &quot;using&quot; syntax).</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00147">recipe.h:147</a></div></div>
<div class="ttc" id="aclassrecipe_html_ae6f40cf521235b40c169fbe66a677976"><div class="ttname"><a href="classrecipe.html#ae6f40cf521235b40c169fbe66a677976">recipe::batch_duration</a></div><div class="ttdeci">time_duration batch_duration(const Character &amp;guy, int batch=1, float multiplier=1.0, size_t assistants=0) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00071">recipe.cpp:71</a></div></div>
<div class="ttc" id="acolor_8h_html_a0d06dc49b9761bbc54607397213728bb"><div class="ttname"><a href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a></div><div class="ttdeci">#define c_white</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00016">color.h:16</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_a8922377c7d85cf4e79f0445b4b6e819c"><div class="ttname"><a href="namespacebase__camps.html#a8922377c7d85cf4e79f0445b4b6e819c">base_camps::to_workdays</a></div><div class="ttdeci">time_duration to_workdays(const time_duration &amp;work_time)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00092">basecamp.cpp:92</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_af24921c70e875c1d0888315b9452b562"><div class="ttname"><a href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a></div><div class="ttdeci">int FULL_SCREEN_WIDTH</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00057">output.cpp:57</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a7518cd295931d5e30f6ba0341f90aa8b"><div class="ttname"><a href="structrequirement__data.html#a7518cd295931d5e30f6ba0341f90aa8b">requirement_data::get_folded_tools_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_folded_tools_list(int width, nc_color col, const read_only_visitable &amp;crafting_inv, int batch=1) const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00819">requirements.cpp:819</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a9b9025140c166ce2a00fcf41db96b7a9"><div class="ttname"><a href="structrequirement__data.html#a9b9025140c166ce2a00fcf41db96b7a9">requirement_data::get_folded_components_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_folded_components_list(int width, nc_color col, const read_only_visitable &amp;crafting_inv, const std::function&lt; bool(const item &amp;)&gt; &amp;filter, int batch=1, std::string_view hilite={}, requirement_display_flags=requirement_display_flags::none) const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00732">requirements.cpp:732</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="basecamp_8h_source.html#l00505">_inv</a>, <a class="el" href="recipe_8cpp_source.html#l00071">recipe::batch_duration()</a>, <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="recipe_8h_source.html#l00133">recipe::difficulty</a>, <a class="el" href="recipe_8cpp_source.html#l01140">recipe::exertion_level()</a>, <a class="el" href="output_8cpp_source.html#l00057">FULL_SCREEN_WIDTH</a>, <a class="el" href="recipe_8cpp_source.html#l01256">recipe::get_component_filter()</a>, <a class="el" href="requirements_8cpp_source.html#l00732">requirement_data::get_folded_components_list()</a>, <a class="el" href="requirements_8cpp_source.html#l00819">requirement_data::get_folded_tools_list()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="skill_8h_source.html#l00071">Skill::name()</a>, <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>, <a class="el" href="recipe_8h_source.html#l00147">recipe::simple_requirements()</a>, <a class="el" href="recipe_8h_source.html#l00188">recipe::skill_used</a>, <a class="el" href="cata__utility_8h_source.html#l00523">str_append()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05644">time_to_food()</a>, <a class="el" href="calendar_8cpp_source.html#l00546">to_string()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00092">base_camps::to_workdays()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00771">add_available_recipes()</a>.</p>

</div>
</div>
<a id="a83e1908e5f17d369210f01e4c6ebdaa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83e1908e5f17d369210f01e4c6ebdaa6">&#9670;&nbsp;</a></span>crafting_mission_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> basecamp::crafting_mission_return </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>return_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>skill</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>difficulty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l03830">3830</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;{</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;    <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="classbasecamp.html#af8ad228037665b1fad004f5bda3b1542">companion_crafting_choose_return</a>( miss_id );</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;    <span class="keywordflow">if</span>( comp != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;        <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">false</span>, return_msg, skill, difficulty );</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;    }</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;    <span class="keywordflow">return</span> comp;</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_af8ad228037665b1fad004f5bda3b1542"><div class="ttname"><a href="classbasecamp.html#af8ad228037665b1fad004f5bda3b1542">basecamp::companion_crafting_choose_return</a></div><div class="ttdeci">npc_ptr companion_crafting_choose_return(const mission_id &amp;miss_id)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03755">faction_camp.cpp:3755</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction__camp_8cpp_source.html#l03755">companion_crafting_choose_return()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a91d1cbca829f13b5626e311bb529881d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91d1cbca829f13b5626e311bb529881d">&#9670;&nbsp;</a></span>define_camp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::define_camp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>camp_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00190">190</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;{</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="classbasecamp.html#a84f7e742642896952db31f13770cd543">query_new_name</a>( <span class="keyword">true</span> );</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a> = p;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keyword">const</span> <a class="code" href="classint__id.html">oter_id</a> &amp;omt_ref = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aa9fbf966291f6b82de9c540262324aba">ter</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a> );</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// purging the regions guarantees all entries will start with faction_base_</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;std::string, tripoint_abs_omt&gt; &amp;expansion :</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;         <a class="code" href="namespacetalk__function.html#ade61d120aab816b4b8ecabf350f4f3be">talk_function::om_building_region</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, 1, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="classbasecamp.html#a428d9bd0a4236d5b24b58c6daa461adf">add_expansion</a>( expansion.first, expansion.second );</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keyword">const</span> std::string om_cur = omt_ref.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>().<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>();</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span>( om_cur.find( <a class="code" href="namespacebase__camps.html#ac2310c6a4c935d23c24600fcd6f76092">base_camps::prefix</a> ) == std::string::npos ) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <a class="code" href="structexpansion__data.html">expansion_data</a> e;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        e.<a class="code" href="structexpansion__data.html#a52e0ba7c4995c3fb4fb64a38ccbec920">type</a> = <a class="code" href="namespacebase__camps.html#a86160a00620f3265276676715f96c0ad">base_camps::faction_decode</a>( camp_type );</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        e.<a class="code" href="structexpansion__data.html#ac992b028d47f0f65f44501349f348e71">cur_level</a> = -1;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        e.<a class="code" href="structexpansion__data.html#a804029365a52ec62c7ef92e93ec20d9c">pos</a> = <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>[<a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_camps::base_dir</a>] = e;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keyword">const</span> std::string <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a> = <a class="code" href="overmap_8cpp.html#ab00030bb575106be270ffc743e1be4af">oter_get_rotation_string</a>( omt_ref );</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keyword">const</span> <a class="code" href="classint__id.html">oter_id</a> bcid( <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a>.empty() ? <span class="stringliteral">&quot;faction_base_camp_0&quot;</span> : <span class="stringliteral">&quot;faction_base_camp_new_0&quot;</span> +</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                            <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a> );</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ac1827a678e822c8c9d1d4cae79b032c7">ter_set</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, bcid );</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <a class="code" href="classbasecamp.html#adb18f0e442ddb5df1ad80622382833df">update_provides</a>( <a class="code" href="namespacebase__camps.html#a64d9c75a4dc27d18e1c8292e27946b28">base_camps::faction_encode_abs</a>( e, 0 ),</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                         <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>[<a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_camps::base_dir</a>] );</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>[<a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_camps::base_dir</a>] = <a class="code" href="classbasecamp.html#aec8c9d3dc62bff25c4871ee6b427c29a">parse_expansion</a>( om_cur, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a> );</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a428d9bd0a4236d5b24b58c6daa461adf"><div class="ttname"><a href="classbasecamp.html#a428d9bd0a4236d5b24b58c6daa461adf">basecamp::add_expansion</a></div><div class="ttdeci">void add_expansion(const std::string &amp;terrain, const tripoint_abs_omt &amp;new_pos)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00165">basecamp.cpp:165</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a84f7e742642896952db31f13770cd543"><div class="ttname"><a href="classbasecamp.html#a84f7e742642896952db31f13770cd543">basecamp::query_new_name</a></div><div class="ttdeci">void query_new_name(bool force=false)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00611">basecamp.cpp:611</a></div></div>
<div class="ttc" id="aclassint__id_html_a88b1e0c550f4d6f36cac7a73feca7f01"><div class="ttname"><a href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">int_id::id</a></div><div class="ttdeci">const string_id&lt; T &gt; &amp; id() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00033">ammo_effect.cpp:33</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_ac1827a678e822c8c9d1d4cae79b032c7"><div class="ttname"><a href="classovermapbuffer.html#ac1827a678e822c8c9d1d4cae79b032c7">overmapbuffer::ter_set</a></div><div class="ttdeci">void ter_set(const tripoint_abs_omt &amp;p, const oter_id &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00796">overmapbuffer.cpp:796</a></div></div>
<div class="ttc" id="aclassstring__id_html_a2c0e3a434bcb9e3c353b337053ff22d8"><div class="ttname"><a href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">string_id::c_str</a></div><div class="ttdeci">const char * c_str() const</div><div class="ttdoc">Interface to the plain C-string of the id.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00252">string_id.h:252</a></div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a></div><div class="ttdeci">direction</div><div class="ttdef"><b>Definition:</b> <a href="line_8h_source.html#l00042">line.h:42</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_a64d9c75a4dc27d18e1c8292e27946b28"><div class="ttname"><a href="namespacebase__camps.html#a64d9c75a4dc27d18e1c8292e27946b28">base_camps::faction_encode_abs</a></div><div class="ttdeci">std::string faction_encode_abs(const expansion_data &amp;e, int number)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00075">basecamp.cpp:75</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_af9611a24d1cc5b30f62773153cc313af"><div class="ttname"><a href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_camps::base_dir</a></div><div class="ttdeci">constexpr point base_dir</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00103">basecamp.h:103</a></div></div>
<div class="ttc" id="anamespacetalk__function_html_ade61d120aab816b4b8ecabf350f4f3be"><div class="ttname"><a href="namespacetalk__function.html#ade61d120aab816b4b8ecabf350f4f3be">talk_function::om_building_region</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; std::string, tripoint_abs_omt &gt; &gt; om_building_region(const tripoint_abs_omt &amp;omt_pos, int range, bool purge=false)</div><div class="ttdoc">Returns the OM tiles surrounding the camp, purge removes all tiles that aren't expansions.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05315">faction_camp.cpp:5315</a></div></div>
<div class="ttc" id="aovermap_8cpp_html_ab00030bb575106be270ffc743e1be4af"><div class="ttname"><a href="overmap_8cpp.html#ab00030bb575106be270ffc743e1be4af">oter_get_rotation_string</a></div><div class="ttdeci">std::string oter_get_rotation_string(const oter_id &amp;oter)</div><div class="ttdoc">Return the directional suffix or &quot;&quot; if there isn't one.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l07411">overmap.cpp:7411</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8cpp_source.html#l00165">add_expansion()</a>, <a class="el" href="basecamp_8h_source.html#l00103">base_camps::base_dir</a>, <a class="el" href="string__id_8h_source.html#l00252">string_id&lt; T &gt;::c_str()</a>, <a class="el" href="basecamp_8h_source.html#l00060">expansion_data::cur_level</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="basecamp_8cpp_source.html#l00080">base_camps::faction_decode()</a>, <a class="el" href="basecamp_8cpp_source.html#l00075">base_camps::faction_encode_abs()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00033">int_id&lt; T &gt;::id()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05315">talk_function::om_building_region()</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="overmap_8cpp_source.html#l07411">oter_get_rotation_string()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>, <a class="el" href="basecamp_8cpp_source.html#l00154">parse_expansion()</a>, <a class="el" href="basecamp_8h_source.html#l00058">expansion_data::pos</a>, <a class="el" href="basecamp_8h_source.html#l00104">base_camps::prefix</a>, <a class="el" href="basecamp_8cpp_source.html#l00611">query_new_name()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00780">overmapbuffer::ter()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00796">overmapbuffer::ter_set()</a>, <a class="el" href="basecamp_8h_source.html#l00054">expansion_data::type</a>, and <a class="el" href="basecamp_8cpp_source.html#l00429">update_provides()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00638">get_basecamp()</a>.</p>

</div>
</div>
<a id="a34f93cf386eb7a909bb4665d9cb37be5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34f93cf386eb7a909bb4665d9cb37be5">&#9670;&nbsp;</a></span>deserialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::deserialize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l04365">4365</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;{</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;    data.<a class="code" href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">allow_omitted_members</a>();</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;    <span class="keywordflow">if</span>( !data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;owner&quot;</span>, <a class="code" href="classbasecamp.html#a79b673b1c90a7f62c6fd6dd0658b76bf">owner</a> ) ) {</div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;        <a class="code" href="classstring__id.html">faction_id</a> <a class="code" href="clzones_8h.html#a91c121c36ca40080983e1bbef9a9babb">your_fac</a>( <span class="stringliteral">&quot;your_followers&quot;</span> );</div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;        <a class="code" href="classbasecamp.html#a79b673b1c90a7f62c6fd6dd0658b76bf">owner</a> = <a class="code" href="clzones_8h.html#a91c121c36ca40080983e1bbef9a9babb">your_fac</a>;</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;    }</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;name&quot;</span>, <a class="code" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a> );</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;pos&quot;</span>, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a> );</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;bb_pos&quot;</span>, <a class="code" href="classbasecamp.html#a0dc4ec3c6a2dc8c59a46364c6df93525">bb_pos</a> );</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;dumping_spot&quot;</span>, <a class="code" href="classbasecamp.html#ab4ba9e037b763ac9cb5d0aaf0ede847c">dumping_spot</a> );</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;liquid_dumping_spots&quot;</span>, <a class="code" href="classbasecamp.html#ac8708d7cbd1043ee22080c9e4e31606c">liquid_dumping_spots</a> );</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> tab_num = <a class="code" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773faf5bfe44e49853d7b1270221eda45a0d6">base_camps::TAB_MAIN</a>; tab_num &lt;= <a class="code" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773fa58dcecf18fb737f811f664aed3241243">base_camps::TAB_NW</a>; tab_num++ ) {</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;        std::vector&lt;ui_mission_id&gt; <a class="code" href="display_8h.html#ad55df0d7f625a78f1afc728ee1a6d6a4a3d801aa532c1cec3ee82d87a99fdf63f">temp</a>;</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;        <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>.push_back( <a class="code" href="display_8h.html#ad55df0d7f625a78f1afc728ee1a6d6a4a3d801aa532c1cec3ee82d87a99fdf63f">temp</a> );</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;    }</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;    <span class="keywordtype">int</span> tab_num = <a class="code" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773faf5bfe44e49853d7b1270221eda45a0d6">base_camps::TAB_MAIN</a>;</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classJsonObject.html">JsonObject</a> list : data.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;hidden_missions&quot;</span> ) ) {</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;        list.allow_omitted_members();</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classJsonObject.html">JsonObject</a> miss_id_json : list.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;dir&quot;</span> ) ) {</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;            miss_id_json.allow_omitted_members();</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;            <a class="code" href="structui__mission__id.html">ui_mission_id</a> miss_id;</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;            miss_id_json.read( <span class="stringliteral">&quot;mission_id&quot;</span>, miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a> );</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;            miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;            <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[tab_num].push_back( miss_id );</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;        }</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;        tab_num++;</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;    }</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160; </div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classJsonObject.html">JsonObject</a> edata : data.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;expansions&quot;</span> ) ) {</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;        edata.allow_omitted_members();</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;        <a class="code" href="structexpansion__data.html">expansion_data</a> e;</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;        <a class="code" href="structpoint.html">point</a> dir;</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;        <span class="keywordflow">if</span>( edata.has_string( <span class="stringliteral">&quot;dir&quot;</span> ) ) {</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;            <span class="comment">// old save compatibility</span></div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;            <span class="keyword">const</span> std::string dir_id = edata.get_string( <span class="stringliteral">&quot;dir&quot;</span> );</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;            dir = <a class="code" href="namespacebase__camps.html#a37484bd6058ac21028411c509951a457">base_camps::direction_from_id</a>( dir_id );</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;            edata.read( <span class="stringliteral">&quot;dir&quot;</span>, dir );</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;        }</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;        edata.read( <span class="stringliteral">&quot;type&quot;</span>, e.<a class="code" href="structexpansion__data.html#a52e0ba7c4995c3fb4fb64a38ccbec920">type</a> );</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;        <span class="keywordflow">if</span>( edata.has_int( <span class="stringliteral">&quot;cur_level&quot;</span> ) ) {</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;            edata.read( <span class="stringliteral">&quot;cur_level&quot;</span>, e.<a class="code" href="structexpansion__data.html#ac992b028d47f0f65f44501349f348e71">cur_level</a> );</div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;        }</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;        <span class="keywordflow">if</span>( edata.has_array( <span class="stringliteral">&quot;provides&quot;</span> ) ) {</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;            e.<a class="code" href="structexpansion__data.html#ac992b028d47f0f65f44501349f348e71">cur_level</a> = -1;</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="classJsonObject.html">JsonObject</a> provide_data : edata.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;provides&quot;</span> ) ) {</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;                provide_data.allow_omitted_members();</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;                std::string <span class="keywordtype">id</span> = provide_data.get_string( <span class="stringliteral">&quot;id&quot;</span> );</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;                <span class="keywordtype">int</span> amount = provide_data.get_int( <span class="stringliteral">&quot;amount&quot;</span> );</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;                e.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>[ <a class="code" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a> ] = amount;</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;            }</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;        }</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;        <span class="comment">// in case of save corruption, sanity check provides from expansions</span></div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;        <span class="keyword">const</span> std::string &amp;initial_provide = <a class="code" href="namespacebase__camps.html#a64d9c75a4dc27d18e1c8292e27946b28">base_camps::faction_encode_abs</a>( e, 0 );</div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;        <span class="keywordflow">if</span>( e.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>.find( initial_provide ) == e.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>.end() ) {</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;            e.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>[ initial_provide ] = 1;</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;        }</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classJsonObject.html">JsonObject</a> in_progress_data : edata.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;in_progress&quot;</span> ) ) {</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;            in_progress_data.allow_omitted_members();</div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;            std::string <span class="keywordtype">id</span> = in_progress_data.get_string( <span class="stringliteral">&quot;id&quot;</span> );</div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;            <span class="keywordtype">int</span> amount = in_progress_data.get_int( <span class="stringliteral">&quot;amount&quot;</span> );</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;            e.<a class="code" href="structexpansion__data.html#abbbbbfd04949438d881dcb929af979c5">in_progress</a>[ <a class="code" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a> ] = amount;</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;        }</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;        edata.read( <span class="stringliteral">&quot;pos&quot;</span>, e.<a class="code" href="structexpansion__data.html#a804029365a52ec62c7ef92e93ec20d9c">pos</a> );</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;        <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>[ dir ] = e;</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;        <span class="keywordflow">if</span>( dir != <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_camps::base_dir</a> ) {</div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;            <a class="code" href="classbasecamp.html#aa031c294bd423a1b1445f96b930b55f2">directions</a>.push_back( dir );</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;        }</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;    }</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classJsonObject.html">JsonObject</a> edata : data.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;fortifications&quot;</span> ) ) {</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;        edata.allow_omitted_members();</div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;        <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> restore_pos;</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;        edata.read( <span class="stringliteral">&quot;pos&quot;</span>, restore_pos );</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;        <a class="code" href="classbasecamp.html#a6faf0213165ad5b7b2d8f06317833c15">fortifications</a>.push_back( restore_pos );</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;    }</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160; </div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classJsonObject.html">JsonObject</a> edata : data.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;salt_water_pipes&quot;</span> ) ) {</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;        edata.allow_omitted_members();</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;        <a class="code" href="structexpansion__salt__water__pipe.html">expansion_salt_water_pipe</a> *pipe = <span class="keyword">new</span> <a class="code" href="structexpansion__salt__water__pipe.html">expansion_salt_water_pipe</a>;</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;        edata.read( <span class="stringliteral">&quot;expansion&quot;</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#ae3aadf6fdd0ea4e5e05f456464fb293c">expansion</a> );</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;        edata.read( <span class="stringliteral">&quot;connection_direction&quot;</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#ae7b59b91e8530f7e154b7116d0af0be4">connection_direction</a> );</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classJsonObject.html">JsonObject</a> <a class="code" href="namespacecoords.html#a5402450b0cf62d5bad4f0ca2e95b93c2">seg</a> : edata.get_array( <span class="stringliteral">&quot;segments&quot;</span> ) ) {</div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;            <a class="code" href="namespacecoords.html#a5402450b0cf62d5bad4f0ca2e95b93c2">seg</a>.allow_omitted_members();</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;            <a class="code" href="structexpansion__salt__water__pipe__segment.html">expansion_salt_water_pipe_segment</a> <a class="code" href="namespacecoords.html#aefed5186be640da17dc0e723c536715aafdd32b9061681edb52c554bd9bbf0712">segment</a>;</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;            <a class="code" href="namespacecoords.html#a5402450b0cf62d5bad4f0ca2e95b93c2">seg</a>.read( <span class="stringliteral">&quot;point&quot;</span>, <a class="code" href="namespacecoords.html#aefed5186be640da17dc0e723c536715aafdd32b9061681edb52c554bd9bbf0712">segment</a>.point );</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;            <a class="code" href="namespacecoords.html#a5402450b0cf62d5bad4f0ca2e95b93c2">seg</a>.read( <span class="stringliteral">&quot;started&quot;</span>, <a class="code" href="namespacecoords.html#aefed5186be640da17dc0e723c536715aafdd32b9061681edb52c554bd9bbf0712">segment</a>.started );</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;            <a class="code" href="namespacecoords.html#a5402450b0cf62d5bad4f0ca2e95b93c2">seg</a>.read( <span class="stringliteral">&quot;finished&quot;</span>, <a class="code" href="namespacecoords.html#aefed5186be640da17dc0e723c536715aafdd32b9061681edb52c554bd9bbf0712">segment</a>.finished );</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;            pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>.push_back( segment );</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;        }</div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;        <a class="code" href="classbasecamp.html#a9465f218c84c5322a1709b420ce8c225">salt_water_pipes</a>.push_back( pipe );</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;    }</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;}</div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00526">flexbuffer_json.h:527</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a8517ac783372bd0bf149ab8e5f7aae18"><div class="ttname"><a href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">JsonObject::read</a></div><div class="ttdeci">bool read(std::string_view name, T &amp;t, bool throw_on_error=true) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l01059">flexbuffer_json-inl.h:1059</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a88142edb1dd9ea1e7a96c7a99cd70896"><div class="ttname"><a href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00855">flexbuffer_json-inl.h:855</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae00f195360e3783cf50527cf07344202"><div class="ttname"><a href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">JsonObject::allow_omitted_members</a></div><div class="ttdeci">void allow_omitted_members() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00662">flexbuffer_json.h:662</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a6faf0213165ad5b7b2d8f06317833c15"><div class="ttname"><a href="classbasecamp.html#a6faf0213165ad5b7b2d8f06317833c15">basecamp::fortifications</a></div><div class="ttdeci">std::vector&lt; tripoint_abs_omt &gt; fortifications</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00197">basecamp.h:197</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a79b673b1c90a7f62c6fd6dd0658b76bf"><div class="ttname"><a href="classbasecamp.html#a79b673b1c90a7f62c6fd6dd0658b76bf">basecamp::owner</a></div><div class="ttdeci">faction_id owner</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00482">basecamp.h:482</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a94cf9a27ff09dafc3b40eaa5f8844560"><div class="ttname"><a href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">basecamp::hidden_missions</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; ui_mission_id &gt; &gt; hidden_missions</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00196">basecamp.h:196</a></div></div>
<div class="ttc" id="aclassbasecamp_html_ab4ba9e037b763ac9cb5d0aaf0ede847c"><div class="ttname"><a href="classbasecamp.html#ab4ba9e037b763ac9cb5d0aaf0ede847c">basecamp::dumping_spot</a></div><div class="ttdeci">tripoint_abs_ms dumping_spot</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00496">basecamp.h:496</a></div></div>
<div class="ttc" id="aclassbasecamp_html_ac8708d7cbd1043ee22080c9e4e31606c"><div class="ttname"><a href="classbasecamp.html#ac8708d7cbd1043ee22080c9e4e31606c">basecamp::liquid_dumping_spots</a></div><div class="ttdeci">std::vector&lt; tripoint_abs_ms &gt; liquid_dumping_spots</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00498">basecamp.h:498</a></div></div>
<div class="ttc" id="aclzones_8h_html_a91c121c36ca40080983e1bbef9a9babb"><div class="ttname"><a href="clzones_8h.html#a91c121c36ca40080983e1bbef9a9babb">your_fac</a></div><div class="ttdeci">const faction_id your_fac(&quot;your_followers&quot;)</div></div>
<div class="ttc" id="adisplay_8h_html_ad55df0d7f625a78f1afc728ee1a6d6a4a3d801aa532c1cec3ee82d87a99fdf63f"><div class="ttname"><a href="display_8h.html#ad55df0d7f625a78f1afc728ee1a6d6a4a3d801aa532c1cec3ee82d87a99fdf63f">bodygraph_var::temp</a></div><div class="ttdeci">@ temp</div></div>
<div class="ttc" id="anamespacebase__camps_html_a37484bd6058ac21028411c509951a457"><div class="ttname"><a href="namespacebase__camps.html#a37484bd6058ac21028411c509951a457">base_camps::direction_from_id</a></div><div class="ttdeci">point direction_from_id(const std::string &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00060">basecamp.cpp:60</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_a7355c36e3472cb0ef0668630f341773fa58dcecf18fb737f811f664aed3241243"><div class="ttname"><a href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773fa58dcecf18fb737f811f664aed3241243">base_camps::TAB_NW</a></div><div class="ttdeci">@ TAB_NW</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00085">basecamp.h:84</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_a7355c36e3472cb0ef0668630f341773faf5bfe44e49853d7b1270221eda45a0d6"><div class="ttname"><a href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773faf5bfe44e49853d7b1270221eda45a0d6">base_camps::TAB_MAIN</a></div><div class="ttdeci">@ TAB_MAIN</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00076">basecamp.h:76</a></div></div>
<div class="ttc" id="anamespacecoords_html_a5402450b0cf62d5bad4f0ca2e95b93c2"><div class="ttname"><a href="namespacecoords.html#a5402450b0cf62d5bad4f0ca2e95b93c2">coords::seg</a></div><div class="ttdeci">constexpr scale seg</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00041">coordinates.h:41</a></div></div>
<div class="ttc" id="anamespacecoords_html_aefed5186be640da17dc0e723c536715aafdd32b9061681edb52c554bd9bbf0712"><div class="ttname"><a href="namespacecoords.html#aefed5186be640da17dc0e723c536715aafdd32b9061681edb52c554bd9bbf0712">coords::scale::segment</a></div><div class="ttdeci">@ segment</div></div>
<div class="ttc" id="astructexpansion__salt__water__pipe__segment_html"><div class="ttname"><a href="structexpansion__salt__water__pipe__segment.html">expansion_salt_water_pipe_segment</a></div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00135">basecamp.h:135</a></div></div>
<div class="ttc" id="astructexpansion__salt__water__pipe_html_ae3aadf6fdd0ea4e5e05f456464fb293c"><div class="ttname"><a href="structexpansion__salt__water__pipe.html#ae3aadf6fdd0ea4e5e05f456464fb293c">expansion_salt_water_pipe::expansion</a></div><div class="ttdeci">point expansion</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00142">basecamp.h:142</a></div></div>
<div class="ttc" id="astructui__mission__id_html"><div class="ttname"><a href="structui__mission__id.html">ui_mission_id</a></div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00118">mission_companion.h:118</a></div></div>
<div class="ttc" id="astructui__mission__id_html_a9097de78a5d3e86f79bb9c62597dbe15"><div class="ttname"><a href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">ui_mission_id::id</a></div><div class="ttdeci">mission_id id</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00119">mission_companion.h:119</a></div></div>
<div class="ttc" id="astructui__mission__id_html_aa7ae5d13e0e8c383381c4cf4f9a1749e"><div class="ttname"><a href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ui_mission_id::ret</a></div><div class="ttdeci">bool ret</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00120">mission_companion.h:120</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00103">base_camps::base_dir</a>, <a class="el" href="basecamp_8h_source.html#l00143">expansion_salt_water_pipe::connection_direction</a>, <a class="el" href="basecamp_8h_source.html#l00060">expansion_data::cur_level</a>, <a class="el" href="item__pocket_8h_source.html#l00409">item_pocket::data</a>, <a class="el" href="basecamp_8cpp_source.html#l00060">base_camps::direction_from_id()</a>, <a class="el" href="basecamp_8h_source.html#l00142">expansion_salt_water_pipe::expansion</a>, <a class="el" href="basecamp_8cpp_source.html#l00075">base_camps::faction_encode_abs()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00855">JsonObject::get_array()</a>, <a class="el" href="basecamp_8h_source.html#l00105">base_camps::id</a>, <a class="el" href="mission__companion_8h_source.html#l00119">ui_mission_id::id</a>, <a class="el" href="basecamp_8h_source.html#l00057">expansion_data::in_progress</a>, <a class="el" href="overmap_8cpp_source.html#l06412">om_direction::name()</a>, <a class="el" href="basecamp_8h_source.html#l00058">expansion_data::pos</a>, <a class="el" href="basecamp_8h_source.html#l00056">expansion_data::provides</a>, <a class="el" href="mission__companion_8h_source.html#l00120">ui_mission_id::ret</a>, <a class="el" href="coordinates_8h_source.html#l00041">coords::seg</a>, <a class="el" href="basecamp_8h_source.html#l00144">expansion_salt_water_pipe::segments</a>, <a class="el" href="basecamp_8h_source.html#l00076">base_camps::TAB_MAIN</a>, <a class="el" href="basecamp_8h_source.html#l00084">base_camps::TAB_NW</a>, <a class="el" href="display_8h.html#ad55df0d7f625a78f1afc728ee1a6d6a4a3d801aa532c1cec3ee82d87a99fdf63f">temp</a>, <a class="el" href="basecamp_8h_source.html#l00054">expansion_data::type</a>, and <a class="el" href="clzones_8h.html#a91c121c36ca40080983e1bbef9a9babb">your_fac()</a>.</p>

<p class="reference">Referenced by <a class="el" href="savegame_8cpp_source.html#l00403">overmap::unserialize()</a>.</p>

</div>
</div>
<a id="aafe3d202cb9365b3963a49b9dac042f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafe3d202cb9365b3963a49b9dac042f6">&#9670;&nbsp;</a></span>distribute_food()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::distribute_food </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Takes all the food from the camp_food zone and increases the faction food_supply. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05676">5676</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;{</div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classbasecamp.html#af444c9325e40cf302418a1566abdb4e2">validate_sort_points</a>() ) {</div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You do not have a camp food zone.  Aborting&quot;</span> ) );</div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;    }</div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160; </div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;    <a class="code" href="classzone__manager.html">zone_manager</a> &amp;mgr = <a class="code" href="classzone__manager.html#a54609d51d21bd8f370ee8b59525eb750">zone_manager::get_manager</a>();</div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a8a6e17bf2b027fe957361bb7c5d857ce">check_vehicle_zones</a>( here.<a class="code" href="classmap.html#ab2a7030c1e990957e11ae52b58ad7056">get_abs_sub</a>().<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() ) ) {</div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;        mgr.<a class="code" href="classzone__manager.html#a815445722eb24bf8e8f2af3ec9f32a99">cache_vzones</a>();</div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;    }</div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> &amp;abspos = <a class="code" href="classbasecamp.html#a73460c18ede5441db580438105fed234">get_dumping_spot</a>();</div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;    <span class="keyword">const</span> std::unordered_set&lt;tripoint_abs_ms&gt; &amp;z_food =</div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;        mgr.<a class="code" href="classzone__manager.html#a48a7258f14361522cf75baa31967a6c8">get_near</a>( <a class="code" href="faction__camp_8cpp.html#a51ebb91062b74a92f01598039b6b4a46">zone_type_CAMP_FOOD</a>, abspos, 60 );</div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160; </div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;    <span class="keywordtype">double</span> quick_rot = 0.6 + ( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;pantry&quot;</span> ) ? 0.1 : 0 );</div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;    <span class="keywordtype">double</span> slow_rot = 0.8 + ( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;pantry&quot;</span> ) ? 0.05 : 0 );</div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;    <a class="code" href="structnutrients.html">nutrients</a> nutrients_to_add;</div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160; </div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> rot_multip = [&amp;]( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp; it, <a class="code" href="classitem.html">item</a> * <span class="keyword">const</span> container ) {</div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;        <span class="keywordflow">if</span>( !it.<a class="code" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() ) {</div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;            <span class="keywordflow">return</span> 1.;</div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;        }</div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;        <span class="keywordtype">float</span> spoil_mod = 1.0f;</div>
<div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;        <span class="keywordflow">if</span>( container ) {</div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classitem__pocket.html">item_pocket</a> *<span class="keyword">const</span> pocket = container-&gt;contained_where( it ) ) {</div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;                spoil_mod = pocket-&gt;spoil_multiplier();</div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;            }</div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;        }</div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;        <span class="comment">// Container seals and prevents any spoilage.</span></div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;        <span class="keywordflow">if</span>( spoil_mod == 0 ) {</div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;            <span class="keywordflow">return</span> 1.;</div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;        }</div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;        <span class="comment">// @TODO: this does not handle fridges or things like root cellar, but maybe it shouldn&#39;t.</span></div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;        <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> rots_in = ( it.<a class="code" href="classitem.html#aad1afe56872327f37ee02011e3a5fb8b">get_shelf_life</a>() - it.<a class="code" href="classitem.html#ac9288e8a4e4f02ba868cf6967a5bd488">get_rot</a>() ) / spoil_mod;</div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;        <span class="keywordflow">if</span>( rots_in &gt;= 5_days ) {</div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;            <span class="keywordflow">return</span> 1.;</div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( rots_in &gt;= 2_days ) {</div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;            <span class="keywordflow">return</span> slow_rot;</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;            <span class="keywordflow">return</span> quick_rot;</div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;        }</div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;    };</div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> consume_non_recursive = [&amp;]( <a class="code" href="classitem.html">item</a> &amp; it, <a class="code" href="classitem.html">item</a> * <span class="keyword">const</span> container ) {</div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;        <span class="keywordflow">if</span>( !it.<a class="code" href="classitem.html#ac070089c03e5dc687bae39670edd5401">is_comestible</a>() ) {</div>
<div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;        }</div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;        <span class="comment">// Always reject in-progress craft item</span></div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;        <span class="keywordflow">if</span>( it.<a class="code" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() ) {</div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;        }</div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;        <span class="comment">// Stuff like butchery refuse and other disgusting stuff</span></div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;        <span class="keywordflow">if</span>( it.<a class="code" href="classitem.html#a66b0bbc211f6fb668781640c971d3acc">get_comestible_fun</a>() &lt; -6 ) {</div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;        }</div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;        <span class="keywordflow">if</span>( it.<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="flag_8cpp.html#a34da07ccc8b142916d801b317ffa84d1">flag_INEDIBLE</a> ) ) {</div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;        }</div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;        <span class="keywordflow">if</span>( it.<a class="code" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>() ) {</div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;        }</div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;        <a class="code" href="structnutrients.html">nutrients</a> from_it = <a class="code" href="faction__camp_8cpp.html#a26dee243d4339b8e042c8225742aa03b">getAverageJoe</a>().<a class="code" href="classCharacter.html#a30ae2557de3be7c7e7f353fffc557c91">compute_effective_nutrients</a>( it ) * it.<a class="code" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>();</div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;        <span class="comment">// Do this multiplication separately to make sure we&#39;re using the *= operator with double argument..</span></div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;        from_it *= rot_multip( it, container );</div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;        nutrients_to_add += from_it;</div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;        <span class="keywordflow">if</span>( from_it.<a class="code" href="structnutrients.html#a27fef4783e99c7f2471a9fabcabe19b5">kcal</a>() &lt;= 0 ) {</div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;            <span class="comment">// can happen if calories is low and rot is high.</span></div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;        }</div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;    };</div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160; </div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;    <span class="comment">// Returns whether the item should be removed from the map.</span></div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="namespacegame__menus_1_1inv.html#aadb29cd55b32ca8a311cc7a6dc07a84e">consume</a> = [&amp;]( <a class="code" href="classitem.html">item</a> &amp; it, <a class="code" href="classitem.html">item</a> * <span class="keyword">const</span> container ) {</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;        <span class="keywordflow">if</span>( it.<a class="code" href="classitem.html#a6921d1c458f1e840933b765ca9c7e583">is_food_container</a>() ) {</div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;            std::vector&lt;item *&gt; to_remove;</div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;            it.<a class="code" href="classitem.html#a6ba542e70d1c20032e51d3196f035a0d">visit_items</a>( [&amp;]( <a class="code" href="classitem.html">item</a> * content, <a class="code" href="classitem.html">item</a> * parent ) {</div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;                <span class="keywordflow">if</span>( consume_non_recursive( *content, parent ) ) {</div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;                    to_remove.push_back( content );</div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabeab85df04e922fe1dd3c1f0692faeaacef">VisitResponse::SKIP</a>;</div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;                }</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;            } );</div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;            <span class="keywordflow">if</span>( to_remove.empty() ) {</div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;            }</div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> *<span class="keyword">const</span> food : to_remove ) {</div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;                it.<a class="code" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *food );</div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;            }</div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;            it.<a class="code" href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">on_contents_changed</a>();</div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;        }</div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;        <span class="keywordflow">return</span> consume_non_recursive( it, container );</div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;    };</div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> &amp;p_food_stock_abs : z_food ) {</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;        <span class="comment">// @FIXME: this will not handle zones in vehicle</span></div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;        <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> p_food_stock = here.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( p_food_stock_abs );</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;        <a class="code" href="classmap__stack.html">map_stack</a> items = here.<a class="code" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( p_food_stock );</div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">auto</span> iter = items.<a class="code" href="classitem__stack.html#a588d49cd17fbf3c64227906758940769">begin</a>(); iter != items.<a class="code" href="classitem__stack.html#ad04a969155cc139c54a6a3b4a3395454">end</a>(); ) {</div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="namespacegame__menus_1_1inv.html#aadb29cd55b32ca8a311cc7a6dc07a84e">consume</a>( *iter, <span class="keyword">nullptr</span> ) ) {</div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;                iter = items.<a class="code" href="classmap__stack.html#ab58ec66a7ca2e476c6d90967dccc8062">erase</a>( iter );</div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;                ++iter;</div>
<div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;            }</div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;        }</div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;    }</div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160; </div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;    <span class="keywordflow">if</span>( nutrients_to_add.<a class="code" href="structnutrients.html#a27fef4783e99c7f2471a9fabcabe19b5">kcal</a>() &lt;= 0 ) {</div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;No suitable items are located at the drop points&quot;</span> ) );</div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;    }</div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160; </div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You distribute %d kcal worth of food to your companions.&quot;</span> ), nutrients_to_add.<a class="code" href="structnutrients.html#a27fef4783e99c7f2471a9fabcabe19b5">kcal</a>() );</div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;    <a class="code" href="classbasecamp.html#a399448deb1704654be0979c9a763db03">camp_food_supply</a>( nutrients_to_add );</div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a30ae2557de3be7c7e7f353fffc557c91"><div class="ttname"><a href="classCharacter.html#a30ae2557de3be7c7e7f353fffc557c91">Character::compute_effective_nutrients</a></div><div class="ttdeci">nutrients compute_effective_nutrients(const item &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00295">consumption.cpp:295</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a73460c18ede5441db580438105fed234"><div class="ttname"><a href="classbasecamp.html#a73460c18ede5441db580438105fed234">basecamp::get_dumping_spot</a></div><div class="ttdeci">const tripoint_abs_ms &amp; get_dumping_spot() const</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00302">basecamp.h:302</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a8892ccfaa96d33120779b51fc2cb545a"><div class="ttname"><a href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">basecamp::has_provides</a></div><div class="ttdeci">bool has_provides(const std::string &amp;req, const expansion_data &amp;e_data, int level=0) const</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00288">basecamp.cpp:288</a></div></div>
<div class="ttc" id="aclassbasecamp_html_af444c9325e40cf302418a1566abdb4e2"><div class="ttname"><a href="classbasecamp.html#af444c9325e40cf302418a1566abdb4e2">basecamp::validate_sort_points</a></div><div class="ttdeci">bool validate_sort_points()</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05288">faction_camp.cpp:5288</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__mut_html_aa94b8bd33e85ce94a3634e6e27ab0cdd"><div class="ttname"><a href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">coords::coord_point_mut::z</a></div><div class="ttdeci">constexpr auto z() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00167">coordinates.h:167</a></div></div>
<div class="ttc" id="aclassitem__pocket_html"><div class="ttname"><a href="classitem__pocket.html">item_pocket</a></div><div class="ttdef"><b>Definition:</b> <a href="item__pocket_8h_source.html#l00036">item_pocket.h:37</a></div></div>
<div class="ttc" id="aclassitem__stack_html_a588d49cd17fbf3c64227906758940769"><div class="ttname"><a href="classitem__stack.html#a588d49cd17fbf3c64227906758940769">item_stack::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8cpp_source.html#l00032">item_stack.cpp:32</a></div></div>
<div class="ttc" id="aclassitem__stack_html_ad04a969155cc139c54a6a3b4a3395454"><div class="ttname"><a href="classitem__stack.html#ad04a969155cc139c54a6a3b4a3395454">item_stack::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8cpp_source.html#l00037">item_stack.cpp:37</a></div></div>
<div class="ttc" id="aclassitem_html_a016494fa25a7a403fe78fadbd90b267b"><div class="ttname"><a href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">item::count</a></div><div class="ttdeci">int count() const</div><div class="ttdoc">If count_by_charges(), returns charges, otherwise 1.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08623">item.cpp:8623</a></div></div>
<div class="ttc" id="aclassitem_html_a34f7ae5deade2f4a8fed4f04e81797ce"><div class="ttname"><a href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">item::rotten</a></div><div class="ttdeci">bool rotten() const</div><div class="ttdoc">returns true if item is now rotten after all shelf life has elapsed</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l01124">item.h:1124</a></div></div>
<div class="ttc" id="aclassitem_html_a3e532e4e5b7cef943634b1d910f99384"><div class="ttname"><a href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">item::has_flag</a></div><div class="ttdeci">bool has_flag(const flag_id &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07578">item.cpp:7578</a></div></div>
<div class="ttc" id="aclassitem_html_a66b0bbc211f6fb668781640c971d3acc"><div class="ttname"><a href="classitem.html#a66b0bbc211f6fb668781640c971d3acc">item::get_comestible_fun</a></div><div class="ttdeci">int get_comestible_fun() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07798">item.cpp:7798</a></div></div>
<div class="ttc" id="aclassitem_html_a6921d1c458f1e840933b765ca9c7e583"><div class="ttname"><a href="classitem.html#a6921d1c458f1e840933b765ca9c7e583">item::is_food_container</a></div><div class="ttdeci">bool is_food_container() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09512">item.cpp:9512</a></div></div>
<div class="ttc" id="aclassitem_html_a6ba542e70d1c20032e51d3196f035a0d"><div class="ttname"><a href="classitem.html#a6ba542e70d1c20032e51d3196f035a0d">item::visit_items</a></div><div class="ttdeci">VisitResponse visit_items(const std::function&lt; VisitResponse(item *, item *)&gt; &amp;func) const override</div><div class="ttdoc">Traverses this object and any child items contained using a visitor pattern.</div></div>
<div class="ttc" id="aclassitem_html_a6d1575c31b1dc0df51cbe3a1dfbfef16"><div class="ttname"><a href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">item::on_contents_changed</a></div><div class="ttdeci">void on_contents_changed()</div><div class="ttdoc">Callback when contents of the item are affected in any way other than just processing.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06722">item.cpp:6722</a></div></div>
<div class="ttc" id="aclassitem_html_a7f25e0430419609c538b07f704d6ba7a"><div class="ttname"><a href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">item::is_craft</a></div><div class="ttdeci">bool is_craft() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09930">item.cpp:9930</a></div></div>
<div class="ttc" id="aclassitem_html_a9e073e3ce3fcc2e91bdaea5d603e798b"><div class="ttname"><a href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">item::goes_bad</a></div><div class="ttdeci">bool goes_bad() const</div><div class="ttdoc">whether an item is perishable (can rot)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07818">item.cpp:7818</a></div></div>
<div class="ttc" id="aclassitem_html_aad1afe56872327f37ee02011e3a5fb8b"><div class="ttname"><a href="classitem.html#aad1afe56872327f37ee02011e3a5fb8b">item::get_shelf_life</a></div><div class="ttdeci">time_duration get_shelf_life() const</div><div class="ttdoc">Get the shelf life of the item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07837">item.cpp:7837</a></div></div>
<div class="ttc" id="aclassitem_html_ac070089c03e5dc687bae39670edd5401"><div class="ttname"><a href="classitem.html#ac070089c03e5dc687bae39670edd5401">item::is_comestible</a></div><div class="ttdeci">bool is_comestible() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09475">item.cpp:9475</a></div></div>
<div class="ttc" id="aclassitem_html_ac9288e8a4e4f02ba868cf6967a5bd488"><div class="ttname"><a href="classitem.html#ac9288e8a4e4f02ba868cf6967a5bd488">item::get_rot</a></div><div class="ttdeci">time_duration get_rot() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l01138">item.h:1138</a></div></div>
<div class="ttc" id="aclassmap__stack_html"><div class="ttname"><a href="classmap__stack.html">map_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00106">map.h:107</a></div></div>
<div class="ttc" id="aclassmap__stack_html_ab58ec66a7ca2e476c6d90967dccc8062"><div class="ttname"><a href="classmap__stack.html#ab58ec66a7ca2e476c6d90967dccc8062">map_stack::erase</a></div><div class="ttdeci">iterator erase(const_iterator it) override</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00219">map.cpp:219</a></div></div>
<div class="ttc" id="aclassmap_html_a5130a127601b67e569eaef37a1a88610"><div class="ttname"><a href="classmap.html#a5130a127601b67e569eaef37a1a88610">map::i_at</a></div><div class="ttdeci">map_stack i_at(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04978">map.cpp:4978</a></div></div>
<div class="ttc" id="aclassmap_html_a8a6e17bf2b027fe957361bb7c5d857ce"><div class="ttname"><a href="classmap.html#a8a6e17bf2b027fe957361bb7c5d857ce">map::check_vehicle_zones</a></div><div class="ttdeci">bool check_vehicle_zones(int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01191">map.cpp:1191</a></div></div>
<div class="ttc" id="aclassmap_html_ab2a7030c1e990957e11ae52b58ad7056"><div class="ttname"><a href="classmap.html#ab2a7030c1e990957e11ae52b58ad7056">map::get_abs_sub</a></div><div class="ttdeci">tripoint_abs_sm get_abs_sub() const</div><div class="ttdoc">return abs_sub</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09663">map.cpp:9663</a></div></div>
<div class="ttc" id="aclassvisitable_html_adeb03e3af46e1b106a5f88f112add296"><div class="ttname"><a href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">visitable::remove_item</a></div><div class="ttdeci">item remove_item(item &amp;it)</div><div class="ttdoc">Removes and returns the item which must be contained by this instance.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00543">visitable.cpp:543</a></div></div>
<div class="ttc" id="aclasszone__manager_html"><div class="ttname"><a href="classzone__manager.html">zone_manager</a></div><div class="ttdef"><b>Definition:</b> <a href="clzones_8h_source.html#l00512">clzones.h:513</a></div></div>
<div class="ttc" id="aclasszone__manager_html_a48a7258f14361522cf75baa31967a6c8"><div class="ttname"><a href="classzone__manager.html#a48a7258f14361522cf75baa31967a6c8">zone_manager::get_near</a></div><div class="ttdeci">std::unordered_set&lt; tripoint_abs_ms &gt; get_near(const zone_type_id &amp;type, const tripoint_abs_ms &amp;where, int range=MAX_DISTANCE, const item *it=nullptr, const faction_id &amp;fac=your_fac) const</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8cpp_source.html#l01134">clzones.cpp:1134</a></div></div>
<div class="ttc" id="aclasszone__manager_html_a54609d51d21bd8f370ee8b59525eb750"><div class="ttname"><a href="classzone__manager.html#a54609d51d21bd8f370ee8b59525eb750">zone_manager::get_manager</a></div><div class="ttdeci">static zone_manager &amp; get_manager()</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8h_source.html#l00550">clzones.h:550</a></div></div>
<div class="ttc" id="aclasszone__manager_html_a815445722eb24bf8e8f2af3ec9f32a99"><div class="ttname"><a href="classzone__manager.html#a815445722eb24bf8e8f2af3ec9f32a99">zone_manager::cache_vzones</a></div><div class="ttdeci">void cache_vzones(map *pmap=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8cpp_source.html#l00909">clzones.cpp:909</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a26dee243d4339b8e042c8225742aa03b"><div class="ttname"><a href="faction__camp_8cpp.html#a26dee243d4339b8e042c8225742aa03b">getAverageJoe</a></div><div class="ttdeci">static const npc &amp; getAverageJoe()</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05669">faction_camp.cpp:5669</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a51ebb91062b74a92f01598039b6b4a46"><div class="ttname"><a href="faction__camp_8cpp.html#a51ebb91062b74a92f01598039b6b4a46">zone_type_CAMP_FOOD</a></div><div class="ttdeci">static const zone_type_id zone_type_CAMP_FOOD(&quot;CAMP_FOOD&quot;)</div></div>
<div class="ttc" id="aflag_8cpp_html_a34da07ccc8b142916d801b317ffa84d1"><div class="ttname"><a href="flag_8cpp.html#a34da07ccc8b142916d801b317ffa84d1">flag_INEDIBLE</a></div><div class="ttdeci">const flag_id flag_INEDIBLE(&quot;INEDIBLE&quot;)</div></div>
<div class="ttc" id="anamespacegame__menus_1_1inv_html_aadb29cd55b32ca8a311cc7a6dc07a84e"><div class="ttname"><a href="namespacegame__menus_1_1inv.html#aadb29cd55b32ca8a311cc7a6dc07a84e">game_menus::inv::consume</a></div><div class="ttdeci">item_location consume(avatar &amp;you, const item_location &amp;loc=item_location())</div><div class="ttdoc">Consume an item via a custom menu.</div><div class="ttdef"><b>Definition:</b> <a href="game__inventory_8cpp_source.html#l00996">game_inventory.cpp:996</a></div></div>
<div class="ttc" id="avisitable_8h_html_ab73f6da193541e8dc1a3ebdb5f37fabea47559fb833ff58321570e5e877b467f6"><div class="ttname"><a href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a></div><div class="ttdeci">@ NEXT</div></div>
<div class="ttc" id="avisitable_8h_html_ab73f6da193541e8dc1a3ebdb5f37fabeab85df04e922fe1dd3c1f0692faeaacef"><div class="ttname"><a href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabeab85df04e922fe1dd3c1f0692faeaacef">VisitResponse::SKIP</a></div><div class="ttdeci">@ SKIP</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="item__stack_8cpp_source.html#l00032">item_stack::begin()</a>, <a class="el" href="clzones_8cpp_source.html#l00909">zone_manager::cache_vzones()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05522">camp_food_supply()</a>, <a class="el" href="map_8cpp_source.html#l01191">map::check_vehicle_zones()</a>, <a class="el" href="consumption_8cpp_source.html#l00295">Character::compute_effective_nutrients()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00996">game_menus::inv::consume()</a>, <a class="el" href="item_8cpp_source.html#l08623">item::count()</a>, <a class="el" href="item__stack_8cpp_source.html#l00037">item_stack::end()</a>, <a class="el" href="map_8cpp_source.html#l00219">map_stack::erase()</a>, <a class="el" href="flag_8cpp.html#a34da07ccc8b142916d801b317ffa84d1">flag_INEDIBLE</a>, <a class="el" href="map_8cpp_source.html#l09663">map::get_abs_sub()</a>, <a class="el" href="item_8cpp_source.html#l07798">item::get_comestible_fun()</a>, <a class="el" href="basecamp_8h_source.html#l00302">get_dumping_spot()</a>, <a class="el" href="clzones_8h_source.html#l00550">zone_manager::get_manager()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="clzones_8cpp_source.html#l01134">zone_manager::get_near()</a>, <a class="el" href="item_8h_source.html#l01138">item::get_rot()</a>, <a class="el" href="item_8cpp_source.html#l07837">item::get_shelf_life()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05669">getAverageJoe()</a>, <a class="el" href="map_8cpp_source.html#l09635">map::getlocal()</a>, <a class="el" href="item_8cpp_source.html#l07818">item::goes_bad()</a>, <a class="el" href="item_8cpp_source.html#l07578">item::has_flag()</a>, <a class="el" href="basecamp_8cpp_source.html#l00288">has_provides()</a>, <a class="el" href="map_8cpp_source.html#l04978">map::i_at()</a>, <a class="el" href="item_8cpp_source.html#l09475">item::is_comestible()</a>, <a class="el" href="item_8cpp_source.html#l09930">item::is_craft()</a>, <a class="el" href="item_8cpp_source.html#l09512">item::is_food_container()</a>, <a class="el" href="stomach_8cpp_source.html#l00118">nutrients::kcal()</a>, <a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea47559fb833ff58321570e5e877b467f6">NEXT</a>, <a class="el" href="item_8cpp_source.html#l06722">item::on_contents_changed()</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="visitable_8cpp_source.html#l00543">visitable::remove_item()</a>, <a class="el" href="item_8h_source.html#l01124">item::rotten()</a>, <a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabeab85df04e922fe1dd3c1f0692faeaacef">SKIP</a>, <a class="el" href="faction__camp_8cpp_source.html#l05288">validate_sort_points()</a>, <a class="el" href="classitem.html#a6ba542e70d1c20032e51d3196f035a0d">item::visit_items()</a>, <a class="el" href="coordinates_8h_source.html#l00167">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::z()</a>, and <a class="el" href="faction__camp_8cpp.html#a51ebb91062b74a92f01598039b6b4a46">zone_type_CAMP_FOOD</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a9e536cabe892352238156cf082e760e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e536cabe892352238156cf082e760e9">&#9670;&nbsp;</a></span>emergency_recall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> basecamp::emergency_recall </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>select a companion for any mission to return to base </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l03840">3840</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;{</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;    <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="namespacetalk__function.html#a90eee56b9502a1002a4d339a4ae40db9">talk_function::companion_choose_return</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, <a class="code" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">base_camps::id</a>, miss_id,</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;                   <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> - 24_hours, <span class="keyword">false</span> );</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;    <span class="keywordflow">if</span>( comp != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160; </div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;        <span class="comment">//  Special handing for camp upgrades. If multiple companions are assigned, the remaining time</span></div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;        <span class="comment">//  is divided between the remaining workers. Note that this logic relies on there being only</span></div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;        <span class="comment">//  a single instance of each construction active, and thus all workers assigned to that</span></div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;        <span class="comment">//  blueprint are on the same mission. Won&#39;t work with e.g. crafting, as different instances of</span></div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;        <span class="comment">//  the same crafting mission may be in various stages of completion concurrently.</span></div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;        <span class="keywordflow">if</span>( comp-&gt;get_companion_mission().miss_id.id == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aa07965f31757446ae21b9e067eb62329">Camp_Upgrade</a> ) {</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;            <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( comp-&gt;get_companion_mission().miss_id );</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160; </div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;            <span class="keywordflow">if</span>( npc_list.size() &gt; 1 ) {</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;                <a class="code" href="classtime__duration.html">time_duration</a> remaining_time = comp-&gt;companion_mission_time_ret - <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;                <span class="keywordflow">if</span>( remaining_time &gt; <a class="code" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( 0 ) ) {</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;                    remaining_time = remaining_time * npc_list.size() / ( npc_list.size() - 1 );</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;                }</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160; </div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;                <span class="keywordflow">for</span>( <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> &amp;worker : npc_list ) {</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;                    <span class="keywordflow">if</span>( worker != comp ) {</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;                        worker-&gt;companion_mission_time_ret = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + remaining_time;</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;                    }</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;                }</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;            }</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;        }</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160; </div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;        <span class="keyword">const</span> std::string return_msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;responds to the emergency recall&quot;</span> );</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;        <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">false</span>, return_msg, <a class="code" href="faction__camp_8cpp.html#ac460af631fae52c84c47d79e392301a4">skill_menial</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 0, <span class="keyword">true</span> );</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;    }</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;    <span class="keywordflow">return</span> comp;</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160; </div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;}</div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6aa07965f31757446ae21b9e067eb62329"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aa07965f31757446ae21b9e067eb62329">Camp_Upgrade</a></div><div class="ttdeci">@ Camp_Upgrade</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00058">mission_companion.h:58</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="mission__companion_8h_source.html#l00058">Camp_Upgrade</a>, <a class="el" href="mission__companion_8cpp_source.html#l02735">talk_function::companion_choose_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>, <a class="el" href="calendar_8h_source.html#l00221">time_duration::from_turns()</a>, <a class="el" href="basecamp_8cpp_source.html#l00597">get_mission_workers()</a>, <a class="el" href="basecamp_8h_source.html#l00105">base_camps::id</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="faction__camp_8cpp.html#ac460af631fae52c84c47d79e392301a4">skill_menial</a>, <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a60c61eb959b596a9fe2af47be098221e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60c61eb959b596a9fe2af47be098221e">&#9670;&nbsp;</a></span>expansion_tab()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string basecamp::expansion_tab </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00834">834</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;{</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">if</span>( dir == <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_camps::base_dir</a> ) {</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Base Missions&quot;</span> );</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    }</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;expansion_types = <a class="code" href="namespacerecipe__group.html#ae9b4436933871983aa244e128e75c33a">recipe_group::get_recipes_by_id</a>( <span class="stringliteral">&quot;all_faction_base_expansions&quot;</span> );</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e = <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( dir );</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keywordflow">if</span>( e != <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.end() ) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <a class="code" href="classstring__id.html">recipe_id</a> <a class="code" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>( <a class="code" href="namespacebase__camps.html#a64d9c75a4dc27d18e1c8292e27946b28">base_camps::faction_encode_abs</a>( e-&gt;second, 0 ) );</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> e_type = expansion_types.find( <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="keywordflow">if</span>( e_type != expansion_types.end() ) {</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            <span class="keywordflow">return</span> e_type-&gt;second + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Expansion&quot;</span> );</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    }</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Empty Expansion&quot;</span> );</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;}</div>
<div class="ttc" id="anamespacerecipe__group_html_ae9b4436933871983aa244e128e75c33a"><div class="ttname"><a href="namespacerecipe__group.html#ae9b4436933871983aa244e128e75c33a">recipe_group::get_recipes_by_id</a></div><div class="ttdeci">std::map&lt; recipe_id, translation &gt; get_recipes_by_id(const std::string &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="recipe__groups_8cpp_source.html#l00104">recipe_groups.cpp:104</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="basecamp_8h_source.html#l00103">base_camps::base_dir</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="basecamp_8cpp_source.html#l00075">base_camps::faction_encode_abs()</a>, <a class="el" href="recipe__groups_8cpp_source.html#l00104">recipe_group::get_recipes_by_id()</a>, and <a class="el" href="basecamp_8h_source.html#l00105">base_camps::id</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l04656">talk_function::name_mission_tabs()</a>.</p>

</div>
</div>
<a id="af8c707d2d6f0a93ba6c05c863c19b2c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8c707d2d6f0a93ba6c05c863c19b2c0">&#9670;&nbsp;</a></span>fac()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfaction.html">faction</a> * basecamp::fac </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l00664">664</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;{</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;faction_manager_ptr-&gt;get( <a class="code" href="classbasecamp.html#a79b673b1c90a7f62c6fd6dd0658b76bf">owner</a> );</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00382">g</a>, and <a class="el" href="basecamp_8h_source.html#l00482">owner</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l05952">camp_discipline()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05522">camp_food_supply()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05517">camp_food_supply_days()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05958">camp_morale()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01393">get_available_missions()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00787">get_available_missions_by_dir()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01700">player_eats_meal()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04677">recipe_batch_max()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05390">recruit_evaluation()</a>, <a class="el" href="basecamp_8cpp_source.html#l00809">set_owner()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02468">start_menial_labor()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01975">start_mission()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l02022">start_multi_mission()</a>.</p>

</div>
</div>
<a id="ab4e7201ff6c8844744f37f4afded6579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4e7201ff6c8844744f37f4afded6579">&#9670;&nbsp;</a></span>faction_display()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::faction_display </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>fac_w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00560">560</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;{</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordtype">int</span> y = 2;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keyword">const</span> <a class="code" href="classnc__color.html">nc_color</a> col = <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> player_abspos = player_character.<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>();</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> camp_pos = <a class="code" href="classbasecamp.html#ade51aefc6c8e4db92ffe5457e239aea2">camp_omt_pos</a>();</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    std::string <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a> = <a class="code" href="line_8cpp.html#a19634ed59e09da9312d6fa110a38539c">direction_name</a>( <a class="code" href="coordinates_8h.html#a70d5706d5a84c7c1953498fa0c651b3e">direction_from</a>( player_abspos, camp_pos ) );</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( fac_w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( width, ++y ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Press enter to rename this camp&quot;</span> ) );</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a> != <span class="stringliteral">&quot;center&quot;</span> ) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( fac_w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( width, ++y ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Direction: to the &quot;</span> ) + <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a> );</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( fac_w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( width, ++y ), col, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Location: %s&quot;</span> ), camp_pos.<a class="code" href="classcoords_1_1coord__point__base.html#abadb043d4129616ea20396a03e046301">to_string</a>() );</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="classfaction.html">faction</a> *yours = player_character.<a class="code" href="classCharacter.html#aee4e2c047e2c683905cade66f04112b8">get_faction</a>();</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    std::string food_text = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Food Supply: %s %d kilocalories&quot;</span> ),</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                                           yours-&gt;<a class="code" href="classfaction.html#a777873995c5a7f826d4c9c0558f73406">food_supply_text</a>(), yours-&gt;<a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a>.<a class="code" href="structnutrients.html#a27fef4783e99c7f2471a9fabcabe19b5">kcal</a>() );</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="classnc__color.html">nc_color</a> food_col = yours-&gt;<a class="code" href="classfaction.html#a39234cb4959e9cbb27dda8d896eb48b4">food_supply_color</a>();</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( fac_w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( width, ++y ), food_col, food_text );</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    std::pair&lt;nc_color, std::string&gt; vitamins = yours-&gt;<a class="code" href="classfaction.html#ae31aa27b37236dc896fb8582515fcdb1">vitamin_stores</a>( <a class="code" href="vitamin_8h.html#ae396a2f322817bcd5b6c0883c52c0e38a9da05f9e5f04b3b84b4c59f02a36d9dd">vitamin_type::VITAMIN</a> );</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( fac_w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( width, ++y ), vitamins.first, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Worst vitamin:&quot;</span> ) + vitamins.second );</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    std::pair&lt;nc_color, std::string&gt; toxins = yours-&gt;<a class="code" href="classfaction.html#ae31aa27b37236dc896fb8582515fcdb1">vitamin_stores</a>( <a class="code" href="vitamin_8h.html#ae396a2f322817bcd5b6c0883c52c0e38a70183d1b56ada5a90204b400bb8cbb22">vitamin_type::TOXIN</a> );</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( fac_w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( width, ++y ), toxins.first, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Worst toxin:&quot;</span> ) + toxins.second );</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    std::string bldg = <a class="code" href="classbasecamp.html#a91a411d614d10dc5c507058518613740">next_upgrade</a>( <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_camps::base_dir</a>, 1 );</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    std::string bldg_full = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Next Upgrade: &quot;</span> ) + bldg;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( fac_w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( width, ++y ), col, bldg_full );</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">cata_variant_type::point</a></div><div class="ttdeci">@ point</div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclassCreature_html_a14ecbd8f044628463354090421a805b4"><div class="ttname"><a href="classCreature.html#a14ecbd8f044628463354090421a805b4">Creature::global_omt_location</a></div><div class="ttdeci">tripoint_abs_omt global_omt_location() const</div><div class="ttdoc">Returns the location of the creature in global overmap terrain coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03242">creature.cpp:3242</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a91a411d614d10dc5c507058518613740"><div class="ttname"><a href="classbasecamp.html#a91a411d614d10dc5c507058518613740">basecamp::next_upgrade</a></div><div class="ttdeci">std::string next_upgrade(const point &amp;dir, int offset=1) const</div><div class="ttdoc">Returns the name of the building the current building dir upgrades into, &quot;null&quot; if there isn't one.</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00265">basecamp.cpp:265</a></div></div>
<div class="ttc" id="aclassbasecamp_html_ade51aefc6c8e4db92ffe5457e239aea2"><div class="ttname"><a href="classbasecamp.html#ade51aefc6c8e4db92ffe5457e239aea2">basecamp::camp_omt_pos</a></div><div class="ttdeci">tripoint_abs_omt camp_omt_pos() const</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00175">basecamp.h:175</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__base_html_abadb043d4129616ea20396a03e046301"><div class="ttname"><a href="classcoords_1_1coord__point__base.html#abadb043d4129616ea20396a03e046301">coords::coord_point_base::to_string</a></div><div class="ttdeci">std::string to_string() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00121">coordinates.h:121</a></div></div>
<div class="ttc" id="aclassfaction_html_a39234cb4959e9cbb27dda8d896eb48b4"><div class="ttname"><a href="classfaction.html#a39234cb4959e9cbb27dda8d896eb48b4">faction::food_supply_color</a></div><div class="ttdeci">nc_color food_supply_color()</div><div class="ttdef"><b>Definition:</b> <a href="faction_8cpp_source.html#l00342">faction.cpp:342</a></div></div>
<div class="ttc" id="aclassfaction_html_a777873995c5a7f826d4c9c0558f73406"><div class="ttname"><a href="classfaction.html#a777873995c5a7f826d4c9c0558f73406">faction::food_supply_text</a></div><div class="ttdeci">std::string food_supply_text()</div><div class="ttdef"><b>Definition:</b> <a href="faction_8cpp_source.html#l00323">faction.cpp:323</a></div></div>
<div class="ttc" id="aclassfaction_html_ae31aa27b37236dc896fb8582515fcdb1"><div class="ttname"><a href="classfaction.html#ae31aa27b37236dc896fb8582515fcdb1">faction::vitamin_stores</a></div><div class="ttdeci">std::pair&lt; nc_color, std::string &gt; vitamin_stores(vitamin_type vit)</div><div class="ttdef"><b>Definition:</b> <a href="faction_8cpp_source.html#l00358">faction.cpp:358</a></div></div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00347">color.h:348</a></div></div>
<div class="ttc" id="acolor_8h_html_a1b1e3c0bef566a83c3535e38a93ad733"><div class="ttname"><a href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a></div><div class="ttdeci">#define c_light_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00017">color.h:17</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a70d5706d5a84c7c1953498fa0c651b3e"><div class="ttname"><a href="coordinates_8h.html#a70d5706d5a84c7c1953498fa0c651b3e">direction_from</a></div><div class="ttdeci">direction direction_from(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00790">coordinates.h:790</a></div></div>
<div class="ttc" id="aline_8cpp_html_a19634ed59e09da9312d6fa110a38539c"><div class="ttname"><a href="line_8cpp.html#a19634ed59e09da9312d6fa110a38539c">direction_name</a></div><div class="ttdeci">std::string direction_name(const direction dir)</div><div class="ttdef"><b>Definition:</b> <a href="line_8cpp_source.html#l00612">line.cpp:612</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1184e3eda011b110d09bf2dcf08228f5"><div class="ttname"><a href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a></div><div class="ttdeci">void mvwprintz(const catacurses::window &amp;w, const point &amp;p, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03290">output.cpp:3290</a></div></div>
<div class="ttc" id="avitamin_8h_html_ae396a2f322817bcd5b6c0883c52c0e38a70183d1b56ada5a90204b400bb8cbb22"><div class="ttname"><a href="vitamin_8h.html#ae396a2f322817bcd5b6c0883c52c0e38a70183d1b56ada5a90204b400bb8cbb22">vitamin_type::TOXIN</a></div><div class="ttdeci">@ TOXIN</div></div>
<div class="ttc" id="avitamin_8h_html_ae396a2f322817bcd5b6c0883c52c0e38a9da05f9e5f04b3b84b4c59f02a36d9dd"><div class="ttname"><a href="vitamin_8h.html#ae396a2f322817bcd5b6c0883c52c0e38a9da05f9e5f04b3b84b4c59f02a36d9dd">vitamin_type::VITAMIN</a></div><div class="ttdeci">@ VITAMIN</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="basecamp_8h_source.html#l00103">base_camps::base_dir</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="basecamp_8h_source.html#l00175">camp_omt_pos()</a>, <a class="el" href="coordinates_8h_source.html#l00790">direction_from()</a>, <a class="el" href="line_8cpp_source.html#l00612">direction_name()</a>, <a class="el" href="faction_8h_source.html#l00116">faction_template::food_supply</a>, <a class="el" href="faction_8cpp_source.html#l00342">faction::food_supply_color()</a>, <a class="el" href="faction_8cpp_source.html#l00323">faction::food_supply_text()</a>, <a class="el" href="character_8h_source.html#l00768">Character::get_faction()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="creature_8cpp_source.html#l03242">Creature::global_omt_location()</a>, <a class="el" href="stomach_8cpp_source.html#l00118">nutrients::kcal()</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="basecamp_8cpp_source.html#l00265">next_upgrade()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="coordinates_8h_source.html#l00121">coords::coord_point_base&lt; Point &gt;::to_string()</a>, <a class="el" href="vitamin_8h.html#ae396a2f322817bcd5b6c0883c52c0e38a70183d1b56ada5a90204b400bb8cbb22">TOXIN</a>, <a class="el" href="vitamin_8h.html#ae396a2f322817bcd5b6c0883c52c0e38a9da05f9e5f04b3b84b4c59f02a36d9dd">VITAMIN</a>, and <a class="el" href="faction_8cpp_source.html#l00358">faction::vitamin_stores()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction_8cpp_source.html#l00818">faction_manager::display()</a>.</p>

</div>
</div>
<a id="a62af31c7aff0008fb191ff0be96d4675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62af31c7aff0008fb191ff0be96d4675">&#9670;&nbsp;</a></span>farm_description()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string basecamp::farm_description </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;&#160;</td>
          <td class="paramname"><em>farm_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>plots_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61">farm_ops</a>&#160;</td>
          <td class="paramname"><em>operation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a string for the number of plants that are harvestable, plots ready to plant, and ground that needs tilling. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05492">5492</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;{</div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;    std::pair&lt;size_t, std::string&gt; farm_data = <a class="code" href="faction__camp_8cpp.html#a43427e363cb8e919f4330dc65aeab29a">farm_action</a>( farm_pos, operation );</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;    std::string entry;</div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;    plots_count = farm_data.first;</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;    <span class="keywordflow">switch</span>( operation ) {</div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a430e39cf0eec69892a0fdb6b0dc4aa70">farm_ops::harvest</a>:</div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;            entry += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Harvestable: &quot;</span> ) + <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">std::to_string</a>( plots_count ) + <span class="stringliteral">&quot;\n&quot;</span> + farm_data.second;</div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a9ea0a36b3a20901fafe834eb519a595c">farm_ops::plant</a>:</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;            entry += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Ready for Planting: &quot;</span> ) + <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">std::to_string</a>( plots_count ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a2e2f5b37ef2f410d6f61665798ec0a5d">farm_ops::plow</a>:</div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;            entry += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Needs Plowing: &quot;</span> ) + <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">std::to_string</a>( plots_count ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Farm operations called with no operation&quot;</span> );</div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;    }</div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;    <span class="keywordflow">return</span> entry;</div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;}</div>
<div class="ttc" id="afaction__camp_8cpp_html_a43427e363cb8e919f4330dc65aeab29a"><div class="ttname"><a href="faction__camp_8cpp.html#a43427e363cb8e919f4330dc65aeab29a">farm_action</a></div><div class="ttdeci">static std::pair&lt; size_t, std::string &gt; farm_action(const tripoint_abs_omt &amp;omt_tgt, farm_ops op, const npc_ptr &amp;comp=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03547">faction_camp.cpp:3547</a></div></div>
<div class="ttc" id="afaction__camp_8h_html_ab6b01bd98db40fc2331dc0bc2ae73d61a2e2f5b37ef2f410d6f61665798ec0a5d"><div class="ttname"><a href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a2e2f5b37ef2f410d6f61665798ec0a5d">farm_ops::plow</a></div><div class="ttdeci">@ plow</div></div>
<div class="ttc" id="afaction__camp_8h_html_ab6b01bd98db40fc2331dc0bc2ae73d61a430e39cf0eec69892a0fdb6b0dc4aa70"><div class="ttname"><a href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a430e39cf0eec69892a0fdb6b0dc4aa70">farm_ops::harvest</a></div><div class="ttdeci">@ harvest</div></div>
<div class="ttc" id="afaction__camp_8h_html_ab6b01bd98db40fc2331dc0bc2ae73d61a9ea0a36b3a20901fafe834eb519a595c"><div class="ttname"><a href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a9ea0a36b3a20901fafe834eb519a595c">farm_ops::plant</a></div><div class="ttdeci">@ plant</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="faction__camp_8cpp_source.html#l03547">farm_action()</a>, <a class="el" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a430e39cf0eec69892a0fdb6b0dc4aa70">harvest</a>, <a class="el" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a9ea0a36b3a20901fafe834eb519a595c">plant</a>, <a class="el" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a2e2f5b37ef2f410d6f61665798ec0a5d">plow</a>, and <a class="el" href="calendar_8cpp_source.html#l00546">to_string()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00787">get_available_missions_by_dir()</a>.</p>

</div>
</div>
<a id="a9482c5fe68b9f2a6d46f1640dbeb4032"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9482c5fe68b9f2a6d46f1640dbeb4032">&#9670;&nbsp;</a></span>farm_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::farm_return </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;&#160;</td>
          <td class="paramname"><em>omt_tgt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform any mix of the three farm tasks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td></td></tr>
    <tr><td class="paramname">omt_tgt</td><td>the overmap pos3 of the farm_ops </td></tr>
    <tr><td class="paramname">op</td><td>whether to plow, plant, or harvest </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l04595">4595</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;{</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;    <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61">farm_ops</a> op;</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;    <span class="keywordflow">if</span>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aea7bf0864ae107743e8d1b018a8115f9">Camp_Plow</a> ) {</div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;        op = <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a2e2f5b37ef2f410d6f61665798ec0a5d">farm_ops::plow</a>;</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a913bca7a664f619b40909d0e7c5fa9bf">Camp_Plant</a> ) {</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;        op = <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a9ea0a36b3a20901fafe834eb519a595c">farm_ops::plant</a>;</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a332c22fbdcb568f67e691b1445ed4387">Camp_Harvest</a> ) {</div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;        op = <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a430e39cf0eec69892a0fdb6b0dc4aa70">farm_ops::harvest</a>;</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Farm operations called with no matching operation&quot;</span> );</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;    }</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160; </div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;    <span class="keyword">const</span> std::string msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns from working your fields&quot;</span> );</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;    <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="namespacetalk__function.html#a90eee56b9502a1002a4d339a4ae40db9">talk_function::companion_choose_return</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, <a class="code" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">base_camps::id</a>, miss_id,</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;                   <a class="code" href="namespacecalendar.html#abf9e7bc62ef51f362834af2a093d567b">calendar::before_time_starts</a> );</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;    <span class="keywordflow">if</span>( comp == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;    }</div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160; </div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;    <a class="code" href="faction__camp_8cpp.html#a43427e363cb8e919f4330dc65aeab29a">farm_action</a>( omt_tgt, op, comp );</div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160; </div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;    <span class="comment">//Give any seeds the NPC didn&#39;t use back to you.</span></div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; comp-&gt;companion_mission_inv.size(); i++ ) {</div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it : comp-&gt;companion_mission_inv.const_stack( i ) ) {</div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;            <span class="keywordflow">if</span>( it.charges &gt; 0 ) {</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;                player_character.<a class="code" href="classCharacter.html#af04d061e415da9cb6f1fc234b04f3dfb">i_add</a>( it );</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;            }</div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;        }</div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;    }</div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;    <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">true</span>, msg, <a class="code" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 2 );</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_af04d061e415da9cb6f1fc234b04f3dfb"><div class="ttname"><a href="classCharacter.html#af04d061e415da9cb6f1fc234b04f3dfb">Character::i_add</a></div><div class="ttdeci">item_location i_add(item it, bool should_stack=true, const item *avoid=nullptr, const item *original_inventory_item=nullptr, bool allow_drop=true, bool allow_wield=true, bool ignore_pkt_settings=false)</div><div class="ttdoc">Adds the item to the character's worn items or wields it, or prompts if the Character cannot pick it ...</div><div class="ttdef"><b>Definition:</b> <a href="character__inventory_8cpp_source.html#l00326">character_inventory.cpp:326</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_ac038c6319122de04af85fb88e6618601"><div class="ttname"><a href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a></div><div class="ttdeci">static const skill_id skill_survival(&quot;survival&quot;)</div></div>
<div class="ttc" id="afaction__camp_8h_html_ab6b01bd98db40fc2331dc0bc2ae73d61"><div class="ttname"><a href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61">farm_ops</a></div><div class="ttdeci">farm_ops</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8h_source.html#l00025">faction_camp.h:25</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a332c22fbdcb568f67e691b1445ed4387"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a332c22fbdcb568f67e691b1445ed4387">Camp_Harvest</a></div><div class="ttdeci">@ Camp_Harvest</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00080">mission_companion.h:80</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a913bca7a664f619b40909d0e7c5fa9bf"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a913bca7a664f619b40909d0e7c5fa9bf">Camp_Plant</a></div><div class="ttdeci">@ Camp_Plant</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00079">mission_companion.h:79</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6aea7bf0864ae107743e8d1b018a8115f9"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aea7bf0864ae107743e8d1b018a8115f9">Camp_Plow</a></div><div class="ttdeci">@ Camp_Plow</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00078">mission_companion.h:78</a></div></div>
<div class="ttc" id="anamespacecalendar_html_abf9e7bc62ef51f362834af2a093d567b"><div class="ttname"><a href="namespacecalendar.html#abf9e7bc62ef51f362834af2a093d567b">calendar::before_time_starts</a></div><div class="ttdeci">constexpr time_point before_time_starts</div><div class="ttdoc">A time point that is always before the current turn, even when the game has just started.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00535">calendar.h:535</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="calendar_8h_source.html#l00535">calendar::before_time_starts</a>, <a class="el" href="mission__companion_8h_source.html#l00080">Camp_Harvest</a>, <a class="el" href="mission__companion_8h_source.html#l00079">Camp_Plant</a>, <a class="el" href="mission__companion_8h_source.html#l00078">Camp_Plow</a>, <a class="el" href="mission__companion_8cpp_source.html#l02735">talk_function::companion_choose_return()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="faction__camp_8cpp_source.html#l03547">farm_action()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a430e39cf0eec69892a0fdb6b0dc4aa70">harvest</a>, <a class="el" href="character__inventory_8cpp_source.html#l00326">Character::i_add()</a>, <a class="el" href="basecamp_8h_source.html#l00105">base_camps::id</a>, <a class="el" href="mission__companion_8h_source.html#l00104">mission_id::id</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a9ea0a36b3a20901fafe834eb519a595c">plant</a>, <a class="el" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a2e2f5b37ef2f410d6f61665798ec0a5d">plow</a>, <a class="el" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, and <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a9252d9320e8dfac8ce40759533800ccf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9252d9320e8dfac8ce40759533800ccf">&#9670;&nbsp;</a></span>feed_workers() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::feed_workers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>worker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnutrients.html">nutrients</a>&#160;</td>
          <td class="paramname"><em>food</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_player_meal</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper, forwards to above. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05637">5637</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;{</div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;    std::vector&lt;std::reference_wrapper &lt;Character&gt;&gt; work_party;</div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;    work_party.emplace_back( worker );</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;    <a class="code" href="classbasecamp.html#a6e9c0b6c28a8826d7822ad8f9ab3ae1a">feed_workers</a>( work_party, std::move( food ), is_player_meal );</div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a6e9c0b6c28a8826d7822ad8f9ab3ae1a"><div class="ttname"><a href="classbasecamp.html#a6e9c0b6c28a8826d7822ad8f9ab3ae1a">basecamp::feed_workers</a></div><div class="ttdeci">void feed_workers(const std::vector&lt; std::reference_wrapper&lt; Character &gt;&gt; &amp;workers, nutrients food, bool is_player_meal=false)</div><div class="ttdoc">Evenly distributes the actual consumed food from a work project to the workers assigned to it.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05569">faction_camp.cpp:5569</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction__camp_8cpp_source.html#l05569">feed_workers()</a>.</p>

</div>
</div>
<a id="a6e9c0b6c28a8826d7822ad8f9ab3ae1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e9c0b6c28a8826d7822ad8f9ab3ae1a">&#9670;&nbsp;</a></span>feed_workers() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::feed_workers </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::reference_wrapper&lt; <a class="el" href="classCharacter.html">Character</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>workers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnutrients.html">nutrients</a>&#160;</td>
          <td class="paramname"><em>food</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_player_meal</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evenly distributes the actual consumed food from a work project to the workers assigned to it. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05569">5569</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;{</div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> num_workers = workers.size();</div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;    <span class="keywordflow">if</span>( num_workers == 0 ) {</div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;feed_workers called without any workers to feed!&quot;</span> );</div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;    }</div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;    <span class="keywordflow">if</span>( !is_player_meal &amp;&amp; get_option&lt;bool&gt;( <span class="stringliteral">&quot;NO_NPC_FOOD&quot;</span> ) ) {</div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;    }</div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160; </div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;    <span class="comment">// Split the food into equal sized portions.</span></div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;    food /= num_workers;</div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;worker_reference : workers ) {</div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;        <a class="code" href="classCharacter.html">Character</a> &amp;worker = worker_reference.get();</div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;        <a class="code" href="classitem.html">item</a> food_item = <a class="code" href="classbasecamp.html#a0c6abe69c9b253e711d6068d23345822">make_fake_food</a>( food );</div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;        <span class="comment">// Handle allergies and other stuff</span></div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;        <span class="keywordtype">bool</span> query_player = !worker.<a class="code" href="classCharacter.html#a8f914d66d3d996a1356a31caf1d44c13">is_npc</a>();</div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;        <span class="keyword">const</span> <a class="code" href="classret__val.html">ret_val&lt;edible_rating&gt;</a> rating = worker.<a class="code" href="classCharacter.html#a4eb1793aafe89d34ba7ab96bf9facc19">will_eat</a>( food_item, query_player );</div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;        <span class="keywordflow">switch</span>( rating.<a class="code" href="classret__val.html#a277e45f995cd21adfaceab9aa8388138">value</a>() ) {</div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa3b91257ff6d4562407871e69d3e78f07">EDIBLE</a>:</div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;                <span class="comment">// I&#39;d like to use consume_activity_actor here, but our little trick with make_fake_food() requires that the</span></div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;                <span class="comment">// item be consumed immediately.</span></div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;                worker.<a class="code" href="classCharacter.html#aeafb75e7e7e7a3716aef9dfdd778a20d">consume</a>( food_item );</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfacbc957a7919cb2f8a5673072049ccec1">TOO_FULL</a>:</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;                worker.<a class="code" href="classCharacter.html#ac81e06f5fbbb42c673f235a6f37d9d4b">add_msg_player_or_npc</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>,</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;                                              <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You are too full to eat right now, and put the meal back into storage.&quot;</span> ),</div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;                                              <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; is too full to eat right now, and puts the meal back into storage.&quot;</span> ) );</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;                <a class="code" href="classbasecamp.html#a399448deb1704654be0979c9a763db03">camp_food_supply</a>( food );</div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa3e87a6efcba1be007911be670c323a9a">INEDIBLE</a>:</div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa5f196aa43a42eea6393a0d1575ad386c">INEDIBLE_MUTATION</a>:</div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Always-edible food somehow inedible, please report this error.&quot;</span> );</div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;                <a class="code" href="classbasecamp.html#a399448deb1704654be0979c9a763db03">camp_food_supply</a>( food );</div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfac762fd1e0f127197214f0ca2fcc76507">ALLERGY</a>:</div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;                worker.<a class="code" href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;                                       <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s takes one look at the food and declines, explaining they&#39;re allergic.&quot;</span> ),</div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;                                       worker.<a class="code" href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">get_name</a>() );</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;                <a class="code" href="classbasecamp.html#a399448deb1704654be0979c9a763db03">camp_food_supply</a>( food );</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfac1b03008f91f90160ce54a1d33cb4f1f">ALLERGY_WEAK</a>:</div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;                worker.<a class="code" href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;                                       <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s takes a bite but spits it out.  It seems something in the food disagrees with them.&quot;</span> ),</div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;                                       worker.<a class="code" href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">get_name</a>() );</div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;                <a class="code" href="classbasecamp.html#a399448deb1704654be0979c9a763db03">camp_food_supply</a>( food );</div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa8391797ae168be6bfd5c255e3ca67acc">CANNIBALISM</a>:</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;                worker.<a class="code" href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;                                       <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s thanks you for the meal, but when they see what&#39;s in the meal their attitude suddenly changes!&quot;</span> ),</div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;                                       worker.<a class="code" href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">get_name</a>() );</div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;                <span class="keywordflow">if</span>( worker.<a class="code" href="classCharacter.html#a8f914d66d3d996a1356a31caf1d44c13">is_npc</a>() ) {</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;                    worker.<a class="code" href="classCreature.html#a5de5f5e0d08deb03b68749608eb360b2">as_npc</a>()-&gt;<a class="code" href="classnpc.html#a85d4c148bce6c6d7300f5f139be4b0e9">mutiny</a>();</div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;                }</div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;                <span class="comment">// Food specifically does not go back in the larder.</span></div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa68f3436c82d544d7eb8d817a6a971bde">PARASITES</a>:</div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;            <span class="comment">// None of these should ever happen.</span></div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa39e9f6863e3f851c818b80aeab486f3b">ROTTEN</a>:</div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfaaf6d741038d21f12917321617be48093">NAUSEA</a>:</div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfae8067a3d44e5b12984af3a40432b8215">NO_TOOL</a>:</div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;        }</div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;    }</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;}</div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfa39e9f6863e3f851c818b80aeab486f3b"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa39e9f6863e3f851c818b80aeab486f3b">ROTTEN</a></div><div class="ttdeci">@ ROTTEN</div><div class="ttdoc">Rotten (or, for saprophages, not rotten enough)</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00281">character.h:281</a></div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfa3b91257ff6d4562407871e69d3e78f07"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa3b91257ff6d4562407871e69d3e78f07">EDIBLE</a></div><div class="ttdeci">@ EDIBLE</div><div class="ttdoc">Edible or we pretend it is.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00267">character.h:267</a></div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfa3e87a6efcba1be007911be670c323a9a"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa3e87a6efcba1be007911be670c323a9a">INEDIBLE</a></div><div class="ttdeci">@ INEDIBLE</div><div class="ttdoc">Not food at all.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00269">character.h:269</a></div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfa5f196aa43a42eea6393a0d1575ad386c"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa5f196aa43a42eea6393a0d1575ad386c">INEDIBLE_MUTATION</a></div><div class="ttdeci">@ INEDIBLE_MUTATION</div><div class="ttdoc">Not food because character has mutated mouth/system.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00271">character.h:271</a></div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfa68f3436c82d544d7eb8d817a6a971bde"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa68f3436c82d544d7eb8d817a6a971bde">PARASITES</a></div><div class="ttdeci">@ PARASITES</div><div class="ttdoc">Comestible has parasites.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00279">character.h:279</a></div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfa8391797ae168be6bfd5c255e3ca67acc"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa8391797ae168be6bfd5c255e3ca67acc">CANNIBALISM</a></div><div class="ttdeci">@ CANNIBALISM</div><div class="ttdoc">Penalty for eating human flesh (unless psycho/cannibal)</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00277">character.h:277</a></div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfaaf6d741038d21f12917321617be48093"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfaaf6d741038d21f12917321617be48093">NAUSEA</a></div><div class="ttdeci">@ NAUSEA</div><div class="ttdoc">Can provoke vomiting if you already feel nauseous.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00283">character.h:283</a></div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfac1b03008f91f90160ce54a1d33cb4f1f"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfac1b03008f91f90160ce54a1d33cb4f1f">ALLERGY_WEAK</a></div><div class="ttdeci">@ ALLERGY_WEAK</div><div class="ttdoc">Smaller allergy penalty.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00275">character.h:275</a></div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfac762fd1e0f127197214f0ca2fcc76507"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfac762fd1e0f127197214f0ca2fcc76507">ALLERGY</a></div><div class="ttdeci">@ ALLERGY</div><div class="ttdoc">You can eat it, but it will hurt morale because of negative trait such as Hates Fruit.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00273">character.h:273</a></div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfacbc957a7919cb2f8a5673072049ccec1"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfacbc957a7919cb2f8a5673072049ccec1">TOO_FULL</a></div><div class="ttdeci">@ TOO_FULL</div><div class="ttdoc">We can eat this, but we'll suffer from overeat.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00285">character.h:285</a></div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfae8067a3d44e5b12984af3a40432b8215"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfae8067a3d44e5b12984af3a40432b8215">NO_TOOL</a></div><div class="ttdeci">@ NO_TOOL</div><div class="ttdoc">Some weird stuff that requires a tool we don't have.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00288">character.h:287</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4eb1793aafe89d34ba7ab96bf9facc19"><div class="ttname"><a href="classCharacter.html#a4eb1793aafe89d34ba7ab96bf9facc19">Character::will_eat</a></div><div class="ttdeci">ret_val&lt; edible_rating &gt; will_eat(const item &amp;food, bool interactive=false) const</div><div class="ttdoc">Same as can_eat, but takes consequences into account.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00923">consumption.cpp:923</a></div></div>
<div class="ttc" id="aclassCharacter_html_a8f914d66d3d996a1356a31caf1d44c13"><div class="ttname"><a href="classCharacter.html#a8f914d66d3d996a1356a31caf1d44c13">Character::is_npc</a></div><div class="ttdeci">bool is_npc() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00538">character.h:538</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac81e06f5fbbb42c673f235a6f37d9d4b"><div class="ttname"><a href="classCharacter.html#ac81e06f5fbbb42c673f235a6f37d9d4b">Character::add_msg_player_or_npc</a></div><div class="ttdeci">void add_msg_player_or_npc(const std::string &amp;player_msg, const std::string &amp;npc_str) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00861">character.cpp:861</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae47514f140700c67ea21ccbadf66d106"><div class="ttname"><a href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">Character::get_name</a></div><div class="ttdeci">std::string get_name() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l05731">character.cpp:5731</a></div></div>
<div class="ttc" id="aclassCharacter_html_aeafb75e7e7e7a3716aef9dfdd778a20d"><div class="ttname"><a href="classCharacter.html#aeafb75e7e7e7a3716aef9dfdd778a20d">Character::consume</a></div><div class="ttdeci">trinary consume(item_location loc, bool force=false)</div><div class="ttdoc">Used for eating object at a location.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01891">consumption.cpp:1891</a></div></div>
<div class="ttc" id="aclassCreature_html_a5de5f5e0d08deb03b68749608eb360b2"><div class="ttname"><a href="classCreature.html#a5de5f5e0d08deb03b68749608eb360b2">Creature::as_npc</a></div><div class="ttdeci">virtual npc * as_npc()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00286">creature.h:286</a></div></div>
<div class="ttc" id="aclassCreature_html_aa5da3a2470cbe9db76174216826307c1"><div class="ttname"><a href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">Creature::add_msg_if_npc</a></div><div class="ttdeci">virtual void add_msg_if_npc(const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01018">creature.h:1018</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a0c6abe69c9b253e711d6068d23345822"><div class="ttname"><a href="classbasecamp.html#a0c6abe69c9b253e711d6068d23345822">basecamp::make_fake_food</a></div><div class="ttdeci">item make_fake_food(const nutrients &amp;to_use) const</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05653">faction_camp.cpp:5653</a></div></div>
<div class="ttc" id="aclassnpc_html_a85d4c148bce6c6d7300f5f139be4b0e9"><div class="ttname"><a href="classnpc.html#a85d4c148bce6c6d7300f5f139be4b0e9">npc::mutiny</a></div><div class="ttdeci">void mutiny()</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01540">npc.cpp:1540</a></div></div>
<div class="ttc" id="aclassret__val_html"><div class="ttname"><a href="classret__val.html">ret_val</a></div><div class="ttdoc">The class represents a composite return value of an arbitrary function (result).</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00048">ret_val.h:49</a></div></div>
<div class="ttc" id="aclassret__val_html_a277e45f995cd21adfaceab9aa8388138"><div class="ttname"><a href="classret__val.html#a277e45f995cd21adfaceab9aa8388138">ret_val::value</a></div><div class="ttdeci">T value() const</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00091">ret_val.h:91</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a></div><div class="ttdeci">@ m_neutral</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00354">enums.h:354</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a></div><div class="ttdeci">@ m_bad</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00348">enums.h:348</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="creature_8h_source.html#l01018">Creature::add_msg_if_npc()</a>, <a class="el" href="character_8cpp_source.html#l00861">Character::add_msg_player_or_npc()</a>, <a class="el" href="character_8h_source.html#l00273">ALLERGY</a>, <a class="el" href="character_8h_source.html#l00275">ALLERGY_WEAK</a>, <a class="el" href="creature_8h_source.html#l00286">Creature::as_npc()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05522">camp_food_supply()</a>, <a class="el" href="character_8h_source.html#l00277">CANNIBALISM</a>, <a class="el" href="consumption_8cpp_source.html#l01891">Character::consume()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="character_8h_source.html#l00267">EDIBLE</a>, <a class="el" href="character_8cpp_source.html#l05731">Character::get_name()</a>, <a class="el" href="character_8h_source.html#l00269">INEDIBLE</a>, <a class="el" href="character_8h_source.html#l00271">INEDIBLE_MUTATION</a>, <a class="el" href="character_8h_source.html#l00538">Character::is_npc()</a>, <a class="el" href="enums_8h_source.html#l00348">m_bad</a>, <a class="el" href="enums_8h_source.html#l00354">m_neutral</a>, <a class="el" href="faction__camp_8cpp_source.html#l05653">make_fake_food()</a>, <a class="el" href="npc_8cpp_source.html#l01540">npc::mutiny()</a>, <a class="el" href="character_8h_source.html#l00283">NAUSEA</a>, <a class="el" href="character_8h_source.html#l00287">NO_TOOL</a>, <a class="el" href="character_8h_source.html#l00279">PARASITES</a>, <a class="el" href="character_8h_source.html#l00281">ROTTEN</a>, <a class="el" href="character_8h_source.html#l00285">TOO_FULL</a>, <a class="el" href="ret__val_8h_source.html#l00091">ret_val&lt; T &gt;::value()</a>, and <a class="el" href="consumption_8cpp_source.html#l00923">Character::will_eat()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l05637">feed_workers()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01700">player_eats_meal()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01975">start_mission()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l02022">start_multi_mission()</a>.</p>

</div>
</div>
<a id="aa59dbea7eb265132eeb3ba88767ccbcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa59dbea7eb265132eeb3ba88767ccbcc">&#9670;&nbsp;</a></span>finish_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::finish_return </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnpc.html">npc</a> &amp;&#160;</td>
          <td class="paramname"><em>comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fixed_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>return_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>skill</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>difficulty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>cancel</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>called with a companion comp who is not the camp manager, finishes updating their skills, consuming food, and returning them to the base. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l03771">3771</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;{</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <span class="stringliteral">&quot;%s %s&quot;</span>, comp.<a class="code" href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">get_name</a>(), return_msg );</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;    <span class="comment">// this is the time the mission was expected to take, or did take for fixed time missions</span></div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;    <a class="code" href="classtime__duration.html">time_duration</a> reserve_time = comp.<a class="code" href="classnpc.html#ab54604488dd8c250948c2af2828b0b37">companion_mission_time_ret</a> - comp.<a class="code" href="classnpc.html#af40ec4bf076edbc0950b1a5658988dc9">companion_mission_time</a>;</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;    <a class="code" href="classtime__duration.html">time_duration</a> mission_time = reserve_time;</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;    <span class="keywordflow">if</span>( !fixed_time ) {</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;        mission_time = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> - comp.<a class="code" href="classnpc.html#af40ec4bf076edbc0950b1a5658988dc9">companion_mission_time</a>;</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;    }</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa10aec35353f9c4096a71c38654c3d402">cancel</a> ) {</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;        <a class="code" href="namespacetalk__function.html#a8bf0aee54b114afe32e5165230a39558">talk_function::companion_skill_trainer</a>( comp, skill, mission_time, difficulty );</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;    }</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160; </div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;    <span class="comment">// Missions that are not fixed_time pay their food costs at the end, instead of up-front.</span></div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="npc_8h.html#a7c691bfc5c3e5258642bbd0e792d9613a2cc6c4b8be0f432ceb1cd114050d6982">need_food</a> = <a class="code" href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">time_to_food</a>( mission_time - reserve_time );</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;food_supply.kcal() &lt; <a class="code" href="npc_8h.html#a7c691bfc5c3e5258642bbd0e792d9613a2cc6c4b8be0f432ceb1cd114050d6982">need_food</a> ) {</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Your companion seems disappointed that your pantry is empty&quot;</span> ) );</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;    }</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;    <span class="comment">// movng all the logic from talk_function::companion return here instead of polluting</span></div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;    <span class="comment">// mission_companion</span></div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;    comp.<a class="code" href="classnpc.html#acaf166db9bec3717fd7a372c71879a3e">reset_companion_mission</a>();</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;    comp.<a class="code" href="classnpc.html#af40ec4bf076edbc0950b1a5658988dc9">companion_mission_time</a> = <a class="code" href="namespacecalendar.html#abf9e7bc62ef51f362834af2a093d567b">calendar::before_time_starts</a>;</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;    comp.<a class="code" href="classnpc.html#ab54604488dd8c250948c2af2828b0b37">companion_mission_time_ret</a> = <a class="code" href="namespacecalendar.html#abf9e7bc62ef51f362834af2a093d567b">calendar::before_time_starts</a>;</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa10aec35353f9c4096a71c38654c3d402">cancel</a> ) {</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; comp.<a class="code" href="classnpc.html#a1098181ee5162d24dd89bb29fe1a40fe">companion_mission_inv</a>.<a class="code" href="classinventory.html#a51a62ddae83430e06da3c08d5b3fd5e4">size</a>(); i++ ) {</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it : comp.<a class="code" href="classnpc.html#a1098181ee5162d24dd89bb29fe1a40fe">companion_mission_inv</a>.<a class="code" href="classinventory.html#a8f615a8478d03953310f91bc45f79543">const_stack</a>( i ) ) {</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;                <span class="keywordflow">if</span>( !it.count_by_charges() || it.charges &gt; 0 ) {</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;                    <a class="code" href="classbasecamp.html#a4a27f46f305c8f1ccaaa31c3879a83b6">place_results</a>( it );</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;                }</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;            }</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;        }</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;    }</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;    comp.<a class="code" href="classnpc.html#a1098181ee5162d24dd89bb29fe1a40fe">companion_mission_inv</a>.<a class="code" href="classinventory.html#abff8096e3549bbf9dce01aa9a1f42f09">clear</a>();</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;    comp.<a class="code" href="classnpc.html#a6fbee962b27421895a6c4a1e1a95df42">companion_mission_points</a>.clear();</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;    <span class="comment">// npc *may* be active, or not if outside the reality bubble</span></div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;    <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;reload_npcs();</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;    <a class="code" href="classbasecamp.html#aaabb991fdf80cf5ad1c2eb38b2b6ab84">validate_assignees</a>();</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160; </div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;    <span class="comment">// Missions that are not fixed_time can try to draw more food than is in the food supply</span></div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;    <a class="code" href="classbasecamp.html#a6e9c0b6c28a8826d7822ad8f9ab3ae1a">feed_workers</a>( comp, <a class="code" href="classbasecamp.html#a399448deb1704654be0979c9a763db03">camp_food_supply</a>( -<a class="code" href="npc_8h.html#a7c691bfc5c3e5258642bbd0e792d9613a2cc6c4b8be0f432ceb1cd114050d6982">need_food</a> ) );</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#ac422f34b7fd2c82e4b29bf5ad272309a">has_water</a>() ) {</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;        comp.<a class="code" href="classCharacter.html#ae6bcae1e1d30b35e0152b5e1bd615f5e">set_thirst</a>( 0 );</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;    }</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;    comp.<a class="code" href="classCharacter.html#a30213377669d5f9a8288b1123e849205">set_sleepiness</a>( 0 );</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;    comp.<a class="code" href="classCharacter.html#a2e658d88946cc7abba5333ad4cd3f153">set_sleep_deprivation</a>( 0 );</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a2e658d88946cc7abba5333ad4cd3f153"><div class="ttname"><a href="classCharacter.html#a2e658d88946cc7abba5333ad4cd3f153">Character::set_sleep_deprivation</a></div><div class="ttdeci">void set_sleep_deprivation(int nsleep_deprivation)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04568">character.cpp:4568</a></div></div>
<div class="ttc" id="aclassCharacter_html_a30213377669d5f9a8288b1123e849205"><div class="ttname"><a href="classCharacter.html#a30213377669d5f9a8288b1123e849205">Character::set_sleepiness</a></div><div class="ttdeci">void set_sleepiness(int nsleepiness)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04554">character.cpp:4554</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae6bcae1e1d30b35e0152b5e1bd615f5e"><div class="ttname"><a href="classCharacter.html#ae6bcae1e1d30b35e0152b5e1bd615f5e">Character::set_thirst</a></div><div class="ttdeci">void set_thirst(int nthirst)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04536">character.cpp:4536</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a4a27f46f305c8f1ccaaa31c3879a83b6"><div class="ttname"><a href="classbasecamp.html#a4a27f46f305c8f1ccaaa31c3879a83b6">basecamp::place_results</a></div><div class="ttdeci">void place_results(const item &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05964">faction_camp.cpp:5964</a></div></div>
<div class="ttc" id="aclassbasecamp_html_ac422f34b7fd2c82e4b29bf5ad272309a"><div class="ttname"><a href="classbasecamp.html#ac422f34b7fd2c82e4b29bf5ad272309a">basecamp::has_water</a></div><div class="ttdeci">bool has_water() const</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00316">basecamp.cpp:316</a></div></div>
<div class="ttc" id="aclassinventory_html_a51a62ddae83430e06da3c08d5b3fd5e4"><div class="ttname"><a href="classinventory.html#a51a62ddae83430e06da3c08d5b3fd5e4">inventory::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00166">inventory.cpp:166</a></div></div>
<div class="ttc" id="aclassinventory_html_a8f615a8478d03953310f91bc45f79543"><div class="ttname"><a href="classinventory.html#a8f615a8478d03953310f91bc45f79543">inventory::const_stack</a></div><div class="ttdeci">const std::list&lt; item &gt; &amp; const_stack(int i) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00151">inventory.cpp:151</a></div></div>
<div class="ttc" id="aclassinventory_html_abff8096e3549bbf9dce01aa9a1f42f09"><div class="ttname"><a href="classinventory.html#abff8096e3549bbf9dce01aa9a1f42f09">inventory::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00251">inventory.cpp:251</a></div></div>
<div class="ttc" id="aclassnpc_html_a1098181ee5162d24dd89bb29fe1a40fe"><div class="ttname"><a href="classnpc.html#a1098181ee5162d24dd89bb29fe1a40fe">npc::companion_mission_inv</a></div><div class="ttdeci">inventory companion_mission_inv</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01399">npc.h:1399</a></div></div>
<div class="ttc" id="aclassnpc_html_a6fbee962b27421895a6c4a1e1a95df42"><div class="ttname"><a href="classnpc.html#a6fbee962b27421895a6c4a1e1a95df42">npc::companion_mission_points</a></div><div class="ttdeci">std::vector&lt; tripoint_abs_omt &gt; companion_mission_points</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01395">npc.h:1395</a></div></div>
<div class="ttc" id="aclassnpc_html_ab54604488dd8c250948c2af2828b0b37"><div class="ttname"><a href="classnpc.html#ab54604488dd8c250948c2af2828b0b37">npc::companion_mission_time_ret</a></div><div class="ttdeci">time_point companion_mission_time_ret</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01398">npc.h:1398</a></div></div>
<div class="ttc" id="aclassnpc_html_acaf166db9bec3717fd7a372c71879a3e"><div class="ttname"><a href="classnpc.html#acaf166db9bec3717fd7a372c71879a3e">npc::reset_companion_mission</a></div><div class="ttdeci">void reset_companion_mission()</div><div class="ttdoc">Unset a companion mission. Precondition: !has_companion_mission()</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03466">npc.cpp:3466</a></div></div>
<div class="ttc" id="aclassnpc_html_af40ec4bf076edbc0950b1a5658988dc9"><div class="ttname"><a href="classnpc.html#af40ec4bf076edbc0950b1a5658988dc9">npc::companion_mission_time</a></div><div class="ttdeci">time_point companion_mission_time</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01396">npc.h:1396</a></div></div>
<div class="ttc" id="acraft__command_8h_html_a78e9fef1fc6aaee4239b8fa5cc3cd21fa10aec35353f9c4096a71c38654c3d402"><div class="ttname"><a href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa10aec35353f9c4096a71c38654c3d402">usage_from::cancel</a></div><div class="ttdeci">@ cancel</div></div>
<div class="ttc" id="anamespacetalk__function_html_a8bf0aee54b114afe32e5165230a39558"><div class="ttname"><a href="namespacetalk__function.html#a8bf0aee54b114afe32e5165230a39558">talk_function::companion_skill_trainer</a></div><div class="ttdeci">void companion_skill_trainer(npc &amp;comp, const std::string &amp;skill_tested=&quot;&quot;, time_duration time_worked=1_hours, int difficulty=1)</div><div class="ttdoc">Trains NPC comp, in skill_tested for duration time_worked at difficulty 1, several groups of skills c...</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8cpp_source.html#l02437">mission_companion.cpp:2437</a></div></div>
<div class="ttc" id="anpc_8h_html_a7c691bfc5c3e5258642bbd0e792d9613a2cc6c4b8be0f432ceb1cd114050d6982"><div class="ttname"><a href="npc_8h.html#a7c691bfc5c3e5258642bbd0e792d9613a2cc6c4b8be0f432ceb1cd114050d6982">need_food</a></div><div class="ttdeci">@ need_food</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00202">npc.h:202</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="calendar_8h_source.html#l00535">calendar::before_time_starts</a>, <a class="el" href="faction__camp_8cpp_source.html#l05522">camp_food_supply()</a>, <a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa10aec35353f9c4096a71c38654c3d402">cancel</a>, <a class="el" href="inventory_8cpp_source.html#l00251">inventory::clear()</a>, <a class="el" href="npc_8h_source.html#l01399">npc::companion_mission_inv</a>, <a class="el" href="npc_8h_source.html#l01395">npc::companion_mission_points</a>, <a class="el" href="npc_8h_source.html#l01396">npc::companion_mission_time</a>, <a class="el" href="npc_8h_source.html#l01398">npc::companion_mission_time_ret</a>, <a class="el" href="mission__companion_8cpp_source.html#l02437">talk_function::companion_skill_trainer()</a>, <a class="el" href="inventory_8cpp_source.html#l00151">inventory::const_stack()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00664">fac()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05569">feed_workers()</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="character_8cpp_source.html#l05731">Character::get_name()</a>, <a class="el" href="basecamp_8cpp_source.html#l00316">has_water()</a>, <a class="el" href="npc_8h_source.html#l00202">need_food</a>, <a class="el" href="faction__camp_8cpp_source.html#l05964">place_results()</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="npc_8cpp_source.html#l03466">npc::reset_companion_mission()</a>, <a class="el" href="character_8cpp_source.html#l04568">Character::set_sleep_deprivation()</a>, <a class="el" href="character_8cpp_source.html#l04554">Character::set_sleepiness()</a>, <a class="el" href="character_8cpp_source.html#l04536">Character::set_thirst()</a>, <a class="el" href="inventory_8cpp_source.html#l00166">inventory::size()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05644">time_to_food()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, and <a class="el" href="basecamp_8cpp_source.html#l00522">validate_assignees()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l02158">abandon_camp()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04385">combat_mission_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03830">crafting_mission_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03840">emergency_recall()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04595">farm_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04038">fortifications_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03962">gathering_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03819">mission_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04151">salt_water_pipe_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04060">salt_water_pipe_swamp_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04425">survey_field_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04502">survey_return()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l03875">upgrade_return()</a>.</p>

</div>
</div>
<a id="abbd07a46ef507efe1e75fee8610cabd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbd07a46ef507efe1e75fee8610cabd9">&#9670;&nbsp;</a></span>form_crafting_inventory() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::form_crafting_inventory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00826">826</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;{</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="classbasecamp.html#aada281e7799622225de08dd341bdd2f6">get_camp_map</a>();</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <a class="code" href="classbasecamp.html#abbd07a46ef507efe1e75fee8610cabd9">form_crafting_inventory</a>( here );</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    here.<a class="code" href="classmap.html#a6bc669c8915ae41469ef8f0b5e925c3e">save</a>();</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_aada281e7799622225de08dd341bdd2f6"><div class="ttname"><a href="classbasecamp.html#aada281e7799622225de08dd341bdd2f6">basecamp::get_camp_map</a></div><div class="ttdeci">map &amp; get_camp_map()</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00790">basecamp.cpp:790</a></div></div>
<div class="ttc" id="aclassbasecamp_html_abbd07a46ef507efe1e75fee8610cabd9"><div class="ttname"><a href="classbasecamp.html#abbd07a46ef507efe1e75fee8610cabd9">basecamp::form_crafting_inventory</a></div><div class="ttdeci">void form_crafting_inventory()</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00826">basecamp.cpp:826</a></div></div>
<div class="ttc" id="aclassmap_html_a6bc669c8915ae41469ef8f0b5e925c3e"><div class="ttname"><a href="classmap.html#a6bc669c8915ae41469ef8f0b5e925c3e">map::save</a></div><div class="ttdeci">void save()</div><div class="ttdoc">Add currently loaded submaps (in grid) to the mapbuffer.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07879">map.cpp:7879</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8cpp_source.html#l00790">get_camp_map()</a>, and <a class="el" href="map_8cpp_source.html#l07879">map::save()</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00464">reset_camp_resources()</a>.</p>

</div>
</div>
<a id="a8f05f466f424e9062a2456795da2faad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f05f466f424e9062a2456795da2faad">&#9670;&nbsp;</a></span>form_crafting_inventory() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::form_crafting_inventory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>target_map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00708">708</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;{</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a>.<a class="code" href="classinventory.html#abff8096e3549bbf9dce01aa9a1f42f09">clear</a>();</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <a class="code" href="classzone__manager.html">zone_manager</a> &amp;mgr = <a class="code" href="classzone__manager.html#a54609d51d21bd8f370ee8b59525eb750">zone_manager::get_manager</a>();</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a8a6e17bf2b027fe957361bb7c5d857ce">check_vehicle_zones</a>( here.<a class="code" href="classmap.html#ab2a7030c1e990957e11ae52b58ad7056">get_abs_sub</a>().<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() ) ) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        mgr.<a class="code" href="classzone__manager.html#a815445722eb24bf8e8f2af3ec9f32a99">cache_vzones</a>();</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classbasecamp.html#af79f4de8f8963115c179d1d0174b6115">src_set</a>.empty() ) {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <a class="code" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a>.<a class="code" href="classinventory.html#a6c54ee4eb1fe931c7a5f9e134241a558">form_from_zone</a>( target_map, <a class="code" href="classbasecamp.html#af79f4de8f8963115c179d1d0174b6115">src_set</a>, <span class="keyword">nullptr</span>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment">     * something of a hack: add the resources we know the camp has</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment">     * the hacky part is that we&#39;re adding resources based on the camp&#39;s flags, which were</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">     * generated based on upgrade missions, instead of having resources added when the</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment">     * map changes</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="comment">// make sure the array is empty</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="classbasecamp.html#a1669371ffad28eca6681ba28598bd704">fuels</a>.clear();</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> &amp;fuel_id : <a class="code" href="classbasecamp.html#a04ac834378079016f7b65abc2236c13d">fuel_types</a> ) {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <a class="code" href="structbasecamp__fuel.html">basecamp_fuel</a> bcp_f;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        bcp_f.<a class="code" href="structbasecamp__fuel.html#a6887684e1ea728b99c435a77313e0c7c">ammo_id</a> = fuel_id;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <a class="code" href="classbasecamp.html#a1669371ffad28eca6681ba28598bd704">fuels</a>.emplace_back( bcp_f );</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160; </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="comment">// find available fuel</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> &amp;abs_ms_pt : <a class="code" href="classbasecamp.html#af79f4de8f8963115c179d1d0174b6115">src_set</a> ) {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;pt = target_map.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( abs_ms_pt );</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="keywordflow">if</span>( target_map.<a class="code" href="classmap.html#ab669e4df068956bf9b69599c85c2a0b2">accessible_items</a>( pt ) ) {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;i : target_map.<a class="code" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( pt ) ) {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                <span class="keywordflow">for</span>( <a class="code" href="structbasecamp__fuel.html">basecamp_fuel</a> &amp;bcp_f : <a class="code" href="classbasecamp.html#a1669371ffad28eca6681ba28598bd704">fuels</a> ) {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                    <span class="keywordflow">if</span>( bcp_f.<a class="code" href="structbasecamp__fuel.html#a6887684e1ea728b99c435a77313e0c7c">ammo_id</a> == i.typeId() ) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                        bcp_f.<a class="code" href="structbasecamp__fuel.html#a660a035661c9e055d58a467fd61ca4c6">available</a> += i.charges;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                    }</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            }</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    }</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structbasecamp__resource.html">basecamp_resource</a> &amp;bcp_r : <a class="code" href="classbasecamp.html#a9aa80ec0bbae71687ace4150b5896ff8">resources</a> ) {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        bcp_r.consumed = 0;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <a class="code" href="classitem.html">item</a> camp_item( bcp_r.fake_id, <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> );</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        camp_item.set_flag( <a class="code" href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637">flag_id</a>( <span class="stringliteral">&quot;PSEUDO&quot;</span> ) ) );</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="keywordflow">if</span>( !bcp_r.ammo_id.is_null() ) {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="structbasecamp__fuel.html">basecamp_fuel</a> &amp;bcp_f : <a class="code" href="classbasecamp.html#a1669371ffad28eca6681ba28598bd704">fuels</a> ) {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                <span class="keywordflow">if</span>( bcp_f.<a class="code" href="structbasecamp__fuel.html#a6887684e1ea728b99c435a77313e0c7c">ammo_id</a> == bcp_r.ammo_id ) {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                    <span class="keywordflow">if</span>( bcp_f.<a class="code" href="structbasecamp__fuel.html#a660a035661c9e055d58a467fd61ca4c6">available</a> &gt; 0 ) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                        bcp_r.available = bcp_f.<a class="code" href="structbasecamp__fuel.html#a660a035661c9e055d58a467fd61ca4c6">available</a>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                        camp_item = camp_item.ammo_set( bcp_f.<a class="code" href="structbasecamp__fuel.html#a6887684e1ea728b99c435a77313e0c7c">ammo_id</a>, bcp_f.<a class="code" href="structbasecamp__fuel.html#a660a035661c9e055d58a467fd61ca4c6">available</a> );</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                    }</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <a class="code" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a>.<a class="code" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( camp_item );</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="comment">//  We&#39;re potentially adding the same item multiple times if present in multiple expansions,</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="comment">//  but we&#39;re already that with the resources above. The resources are stored in expansions</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="comment">//  rather than in a common pool to allow them to apply only to their respective expansion</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="comment">//  in the future.</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;expansion : <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a> ) {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classstring__id.html">itype_id</a> &amp;it : expansion.second.available_pseudo_items ) {</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            <a class="code" href="classitem.html">item</a> camp_item = <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( it );</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            <span class="keywordflow">if</span>( camp_item.<a class="code" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                <span class="keywordflow">for</span>( <a class="code" href="structbasecamp__fuel.html">basecamp_fuel</a> &amp;bcp_f : <a class="code" href="classbasecamp.html#a1669371ffad28eca6681ba28598bd704">fuels</a> ) {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                    <span class="keywordflow">if</span>( camp_item.<a class="code" href="classitem.html#af021f8399f7a270c4fecbe717b92828e">can_reload_with</a>( <a class="code" href="classitem.html">item</a>( bcp_f.<a class="code" href="structbasecamp__fuel.html#a6887684e1ea728b99c435a77313e0c7c">ammo_id</a> ), <span class="keyword">false</span> ) ) {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                        <span class="keywordflow">if</span>( bcp_f.<a class="code" href="structbasecamp__fuel.html#a660a035661c9e055d58a467fd61ca4c6">available</a> &gt; 0 ) {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                            camp_item = camp_item.<a class="code" href="classitem.html#a6a3f16444c412bce4b75a7d600d6a3fe">ammo_set</a>( bcp_f.<a class="code" href="structbasecamp__fuel.html#a6887684e1ea728b99c435a77313e0c7c">ammo_id</a>, bcp_f.<a class="code" href="structbasecamp__fuel.html#a660a035661c9e055d58a467fd61ca4c6">available</a> );</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                        }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                    }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <a class="code" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a>.<a class="code" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( camp_item );</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637">cata_variant_type::flag_id</a></div><div class="ttdeci">@ flag_id</div></div>
<div class="ttc" id="aclassbasecamp_html_a1669371ffad28eca6681ba28598bd704"><div class="ttname"><a href="classbasecamp.html#a1669371ffad28eca6681ba28598bd704">basecamp::fuels</a></div><div class="ttdeci">std::vector&lt; basecamp_fuel &gt; fuels</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00502">basecamp.h:502</a></div></div>
<div class="ttc" id="aclassbasecamp_html_af79f4de8f8963115c179d1d0174b6115"><div class="ttname"><a href="classbasecamp.html#af79f4de8f8963115c179d1d0174b6115">basecamp::src_set</a></div><div class="ttdeci">std::unordered_set&lt; tripoint_abs_ms &gt; src_set</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00500">basecamp.h:500</a></div></div>
<div class="ttc" id="aclassinventory_html_a3840801d19b8b8b3ae4be0e832bd1c7d"><div class="ttname"><a href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">inventory::add_item</a></div><div class="ttdeci">item &amp; add_item(item newit, bool keep_invlet=false, bool assign_invlet=true, bool should_stack=true)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00301">inventory.cpp:301</a></div></div>
<div class="ttc" id="aclassinventory_html_a6c54ee4eb1fe931c7a5f9e134241a558"><div class="ttname"><a href="classinventory.html#a6c54ee4eb1fe931c7a5f9e134241a558">inventory::form_from_zone</a></div><div class="ttdeci">void form_from_zone(map &amp;m, std::unordered_set&lt; tripoint_abs_ms &gt; &amp;zone_pts, const Character *pl=nullptr, bool assign_invlet=true)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00490">inventory.cpp:490</a></div></div>
<div class="ttc" id="aclassitem_html_a6a3f16444c412bce4b75a7d600d6a3fe"><div class="ttname"><a href="classitem.html#a6a3f16444c412bce4b75a7d600d6a3fe">item::ammo_set</a></div><div class="ttdeci">item &amp; ammo_set(const itype_id &amp;ammo, int qty=-1)</div><div class="ttdoc">Filter setting the ammo for this instance Any existing ammo is removed.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00719">item.cpp:719</a></div></div>
<div class="ttc" id="aclassitem_html_adce43f2490a85e2dc212a26ce5ded4fc"><div class="ttname"><a href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">item::is_magazine</a></div><div class="ttdeci">bool is_magazine() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09445">item.cpp:9445</a></div></div>
<div class="ttc" id="aclassitem_html_af021f8399f7a270c4fecbe717b92828e"><div class="ttname"><a href="classitem.html#af021f8399f7a270c4fecbe717b92828e">item::can_reload_with</a></div><div class="ttdeci">bool can_reload_with(const item &amp;ammo, bool now) const</div><div class="ttdoc">returns whether the item can be reloaded with the specified item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09887">item.cpp:9887</a></div></div>
<div class="ttc" id="aclassmap_html_ab669e4df068956bf9b69599c85c2a0b2"><div class="ttname"><a href="classmap.html#ab669e4df068956bf9b69599c85c2a0b2">map::accessible_items</a></div><div class="ttdeci">bool accessible_items(const tripoint &amp;t) const</div><div class="ttdoc">Check whether the player can access the items located .</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07834">map.cpp:7834</a></div></div>
<div class="ttc" id="amagic_8h_html_a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc"><div class="ttname"><a href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">spell_target::item</a></div><div class="ttdeci">@ item</div></div>
<div class="ttc" id="amake__static_8h_html_ad8ea997925f9b41fffbf138f4c05e09f"><div class="ttname"><a href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a></div><div class="ttdeci">#define STATIC(expr)</div><div class="ttdoc">The purpose of this macro is to provide a concise syntax for creation of inline literals (std::string...</div><div class="ttdef"><b>Definition:</b> <a href="make__static_8h_source.html#l00031">make_static.h:31</a></div></div>
<div class="ttc" id="astructbasecamp__fuel_html"><div class="ttname"><a href="structbasecamp__fuel.html">basecamp_fuel</a></div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00122">basecamp.h:122</a></div></div>
<div class="ttc" id="astructbasecamp__fuel_html_a660a035661c9e055d58a467fd61ca4c6"><div class="ttname"><a href="structbasecamp__fuel.html#a660a035661c9e055d58a467fd61ca4c6">basecamp_fuel::available</a></div><div class="ttdeci">int available</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00124">basecamp.h:124</a></div></div>
<div class="ttc" id="astructbasecamp__fuel_html_a6887684e1ea728b99c435a77313e0c7c"><div class="ttname"><a href="structbasecamp__fuel.html#a6887684e1ea728b99c435a77313e0c7c">basecamp_fuel::ammo_id</a></div><div class="ttdeci">itype_id ammo_id</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00123">basecamp.h:123</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00505">_inv</a>, <a class="el" href="map_8cpp_source.html#l07834">map::accessible_items()</a>, <a class="el" href="inventory_8cpp_source.html#l00301">inventory::add_item()</a>, <a class="el" href="basecamp_8h_source.html#l00123">basecamp_fuel::ammo_id</a>, <a class="el" href="item_8cpp_source.html#l00719">item::ammo_set()</a>, <a class="el" href="clzones_8cpp_source.html#l00909">zone_manager::cache_vzones()</a>, <a class="el" href="item_8cpp_source.html#l09887">item::can_reload_with()</a>, <a class="el" href="map_8cpp_source.html#l01191">map::check_vehicle_zones()</a>, <a class="el" href="inventory_8cpp_source.html#l00251">inventory::clear()</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637">flag_id</a>, <a class="el" href="inventory_8cpp_source.html#l00490">inventory::form_from_zone()</a>, <a class="el" href="basecamp_8h_source.html#l00501">fuel_types</a>, <a class="el" href="basecamp_8h_source.html#l00502">fuels</a>, <a class="el" href="map_8cpp_source.html#l09663">map::get_abs_sub()</a>, <a class="el" href="clzones_8h_source.html#l00550">zone_manager::get_manager()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l09635">map::getlocal()</a>, <a class="el" href="map_8cpp_source.html#l04978">map::i_at()</a>, <a class="el" href="item_8cpp_source.html#l09445">item::is_magazine()</a>, <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>, <a class="el" href="basecamp_8h_source.html#l00503">resources</a>, <a class="el" href="item_8cpp_source.html#l07602">item::set_flag()</a>, <a class="el" href="basecamp_8h_source.html#l00500">src_set</a>, <a class="el" href="make__static_8h_source.html#l00031">STATIC</a>, <a class="el" href="calendar_8h_source.html#l00541">calendar::turn_zero</a>, and <a class="el" href="coordinates_8h_source.html#l00167">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::z()</a>.</p>

</div>
</div>
<a id="aa5035a6fb7b72c1b5897689fbd7f3d28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5035a6fb7b72c1b5897689fbd7f3d28">&#9670;&nbsp;</a></span>form_storage_zones()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::form_storage_zones </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>here</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>abspos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00666">666</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;{</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="classzone__manager.html">zone_manager</a> &amp;mgr = <a class="code" href="classzone__manager.html#a54609d51d21bd8f370ee8b59525eb750">zone_manager::get_manager</a>();</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a8a6e17bf2b027fe957361bb7c5d857ce">check_vehicle_zones</a>( here.<a class="code" href="classmap.html#ab2a7030c1e990957e11ae52b58ad7056">get_abs_sub</a>().<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() ) ) {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        mgr.<a class="code" href="classzone__manager.html#a815445722eb24bf8e8f2af3ec9f32a99">cache_vzones</a>();</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> src_loc = here.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( <a class="code" href="classbasecamp.html#a0dc4ec3c6a2dc8c59a46364c6df93525">bb_pos</a> ) + <a class="code" href="point_8h.html#acfe3d4a2977589c0adad45cf36774d8a">point_north</a>;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    std::vector&lt;tripoint_abs_ms&gt; possible_liquid_dumps;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">if</span>( mgr.<a class="code" href="classzone__manager.html#aff01780bd615c3b526e071efdce01b70">has_near</a>( <a class="code" href="basecamp_8cpp.html#afdfa0c2d2f3924a26f2adf2560b94eae">zone_type_CAMP_STORAGE</a>, abspos, 60 ) ) {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keyword">const</span> std::vector&lt;const zone_data *&gt; <a class="code" href="mapgen_8h.html#afdd0a1598dc015b56a1b46d51da2b06ea26f94136f5db8afd4e9df1e512f7fdc5">zones</a> = mgr.<a class="code" href="classzone__manager.html#a257a2e669f666c8a4ba9568ebe6a71fb">get_near_zones</a>( <a class="code" href="basecamp_8cpp.html#afdfa0c2d2f3924a26f2adf2560b94eae">zone_type_CAMP_STORAGE</a>, abspos,</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                60 );</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="comment">// Find the nearest unsorted zone to dump objects at</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="mapgen_8h.html#afdd0a1598dc015b56a1b46d51da2b06ea26f94136f5db8afd4e9df1e512f7fdc5">zones</a>.empty() ) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="mapgen_8h.html#afdd0a1598dc015b56a1b46d51da2b06ea26f94136f5db8afd4e9df1e512f7fdc5">zones</a> != <a class="code" href="classbasecamp.html#a56d78527800e3e52c36dadfcda71ed2f">storage_zones</a> ) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                std::unordered_set&lt;tripoint_abs_ms&gt; <a class="code" href="classbasecamp.html#af79f4de8f8963115c179d1d0174b6115">src_set</a>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classzone__data.html">zone_data</a> *zone : <a class="code" href="mapgen_8h.html#afdd0a1598dc015b56a1b46d51da2b06ea26f94136f5db8afd4e9df1e512f7fdc5">zones</a> ) {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> &amp;p : <a class="code" href="classtripoint__range.html">tripoint_range&lt;tripoint_abs_ms&gt;</a>(</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                             zone-&gt;get_start_point(), zone-&gt;get_end_point() ) ) {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                        <a class="code" href="classbasecamp.html#af79f4de8f8963115c179d1d0174b6115">src_set</a>.emplace( p );</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                    }</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                <a class="code" href="classbasecamp.html#a5dd99428e24fe7077653118bf43b2b24">set_storage_tiles</a>( <a class="code" href="classbasecamp.html#af79f4de8f8963115c179d1d0174b6115">src_set</a> );</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            src_loc = here.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( <a class="code" href="mapgen_8h.html#afdd0a1598dc015b56a1b46d51da2b06ea26f94136f5db8afd4e9df1e512f7fdc5">zones</a>.front()-&gt;get_center_point() );</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            <a class="code" href="classbasecamp.html#a7abc9e0fbad9f93a5613190bdebe2007">set_storage_zone</a>( <a class="code" href="mapgen_8h.html#afdd0a1598dc015b56a1b46d51da2b06ea26f94136f5db8afd4e9df1e512f7fdc5">zones</a> );</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classzone__data.html">zone_data</a> *zone : <a class="code" href="classbasecamp.html#a56d78527800e3e52c36dadfcda71ed2f">storage_zones</a> ) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            <span class="keywordflow">if</span>( zone-&gt;get_type() == <a class="code" href="basecamp_8cpp.html#afdfa0c2d2f3924a26f2adf2560b94eae">zone_type_CAMP_STORAGE</a> ) {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> &amp;p : <a class="code" href="classtripoint__range.html">tripoint_range&lt;tripoint_abs_ms&gt;</a>(</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                         zone-&gt;get_start_point(), zone-&gt;get_end_point() ) ) {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a516c0764134cc86b57297811520395f7">has_flag_ter_or_furn</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aaf7810de5bb3f477a91dc0bdec78cd5e">ter_furn_flag::TFLAG_LIQUIDCONT</a>, here.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( p ) ) ) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                        possible_liquid_dumps.emplace_back( p );</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                    }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="classbasecamp.html#ac0dc9d6f3e753ea9b8b820fdbbb80755">set_dumping_spot</a>( here.<a class="code" href="classmap.html#ac868b594b36b6b9bbcb130650fd4f61f">getglobal</a>( src_loc ) );</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="classbasecamp.html#a8df147b5a1abd5f4015a25697ede03eb">set_liquid_dumping_spot</a>( possible_liquid_dumps );</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;}</div>
<div class="ttc" id="abasecamp_8cpp_html_afdfa0c2d2f3924a26f2adf2560b94eae"><div class="ttname"><a href="basecamp_8cpp.html#afdfa0c2d2f3924a26f2adf2560b94eae">zone_type_CAMP_STORAGE</a></div><div class="ttdeci">static const zone_type_id zone_type_CAMP_STORAGE(&quot;CAMP_STORAGE&quot;)</div></div>
<div class="ttc" id="aclassbasecamp_html_a56d78527800e3e52c36dadfcda71ed2f"><div class="ttname"><a href="classbasecamp.html#a56d78527800e3e52c36dadfcda71ed2f">basecamp::storage_zones</a></div><div class="ttdeci">std::vector&lt; const zone_data * &gt; storage_zones</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00499">basecamp.h:499</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a5dd99428e24fe7077653118bf43b2b24"><div class="ttname"><a href="classbasecamp.html#a5dd99428e24fe7077653118bf43b2b24">basecamp::set_storage_tiles</a></div><div class="ttdeci">void set_storage_tiles(const std::unordered_set&lt; tripoint_abs_ms &gt; &amp;tiles)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00470">basecamp.h:470</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a7abc9e0fbad9f93a5613190bdebe2007"><div class="ttname"><a href="classbasecamp.html#a7abc9e0fbad9f93a5613190bdebe2007">basecamp::set_storage_zone</a></div><div class="ttdeci">void set_storage_zone(const std::vector&lt; const zone_data * &gt; &amp;zones)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00463">basecamp.h:463</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a8df147b5a1abd5f4015a25697ede03eb"><div class="ttname"><a href="classbasecamp.html#a8df147b5a1abd5f4015a25697ede03eb">basecamp::set_liquid_dumping_spot</a></div><div class="ttdeci">void set_liquid_dumping_spot(const std::vector&lt; tripoint_abs_ms &gt; &amp;liquid_dumps)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00312">basecamp.h:312</a></div></div>
<div class="ttc" id="aclassbasecamp_html_ac0dc9d6f3e753ea9b8b820fdbbb80755"><div class="ttname"><a href="classbasecamp.html#ac0dc9d6f3e753ea9b8b820fdbbb80755">basecamp::set_dumping_spot</a></div><div class="ttdeci">void set_dumping_spot(const tripoint_abs_ms &amp;spot)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00309">basecamp.h:309</a></div></div>
<div class="ttc" id="aclassmap_html_a516c0764134cc86b57297811520395f7"><div class="ttname"><a href="classmap.html#a516c0764134cc86b57297811520395f7">map::has_flag_ter_or_furn</a></div><div class="ttdeci">bool has_flag_ter_or_furn(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03122">map.cpp:3122</a></div></div>
<div class="ttc" id="aclassmap_html_ac868b594b36b6b9bbcb130650fd4f61f"><div class="ttname"><a href="classmap.html#ac868b594b36b6b9bbcb130650fd4f61f">map::getglobal</a></div><div class="ttdeci">tripoint_abs_ms getglobal(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09625">map.cpp:9625</a></div></div>
<div class="ttc" id="aclasstripoint__range_html"><div class="ttname"><a href="classtripoint__range.html">tripoint_range</a></div><div class="ttdef"><b>Definition:</b> <a href="map__iterator_8h_source.html#l00012">map_iterator.h:13</a></div></div>
<div class="ttc" id="aclasszone__data_html"><div class="ttname"><a href="classzone__data.html">zone_data</a></div><div class="ttdoc">These are zones the player can designate.</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8h_source.html#l00348">clzones.h:349</a></div></div>
<div class="ttc" id="aclasszone__manager_html_a257a2e669f666c8a4ba9568ebe6a71fb"><div class="ttname"><a href="classzone__manager.html#a257a2e669f666c8a4ba9568ebe6a71fb">zone_manager::get_near_zones</a></div><div class="ttdeci">std::vector&lt; zone_data const * &gt; get_near_zones(const zone_type_id &amp;type, const tripoint_abs_ms &amp;where, int range, const faction_id &amp;fac=your_fac) const</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8cpp_source.html#l01033">clzones.cpp:1033</a></div></div>
<div class="ttc" id="aclasszone__manager_html_aff01780bd615c3b526e071efdce01b70"><div class="ttname"><a href="classzone__manager.html#aff01780bd615c3b526e071efdce01b70">zone_manager::has_near</a></div><div class="ttdeci">bool has_near(const zone_type_id &amp;type, const tripoint_abs_ms &amp;where, int range=MAX_DISTANCE, const faction_id &amp;fac=your_fac) const</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8cpp_source.html#l01011">clzones.cpp:1011</a></div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054aaf7810de5bb3f477a91dc0bdec78cd5e"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aaf7810de5bb3f477a91dc0bdec78cd5e">ter_furn_flag::TFLAG_LIQUIDCONT</a></div><div class="ttdeci">@ TFLAG_LIQUIDCONT</div></div>
<div class="ttc" id="amapgen_8h_html_afdd0a1598dc015b56a1b46d51da2b06ea26f94136f5db8afd4e9df1e512f7fdc5"><div class="ttname"><a href="mapgen_8h.html#afdd0a1598dc015b56a1b46d51da2b06ea26f94136f5db8afd4e9df1e512f7fdc5">mapgen_phase::zones</a></div><div class="ttdeci">@ zones</div></div>
<div class="ttc" id="apoint_8h_html_acfe3d4a2977589c0adad45cf36774d8a"><div class="ttname"><a href="point_8h.html#acfe3d4a2977589c0adad45cf36774d8a">point_north</a></div><div class="ttdeci">constexpr point point_north</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00253">point.h:253</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00492">bb_pos</a>, <a class="el" href="clzones_8cpp_source.html#l00909">zone_manager::cache_vzones()</a>, <a class="el" href="map_8cpp_source.html#l01191">map::check_vehicle_zones()</a>, <a class="el" href="map_8cpp_source.html#l09663">map::get_abs_sub()</a>, <a class="el" href="clzones_8h_source.html#l00550">zone_manager::get_manager()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="clzones_8cpp_source.html#l01033">zone_manager::get_near_zones()</a>, <a class="el" href="map_8cpp_source.html#l09625">map::getglobal()</a>, <a class="el" href="map_8cpp_source.html#l09635">map::getlocal()</a>, <a class="el" href="map_8cpp_source.html#l03122">map::has_flag_ter_or_furn()</a>, <a class="el" href="clzones_8cpp_source.html#l01011">zone_manager::has_near()</a>, <a class="el" href="point_8h_source.html#l00253">point_north</a>, <a class="el" href="basecamp_8h_source.html#l00309">set_dumping_spot()</a>, <a class="el" href="basecamp_8h_source.html#l00312">set_liquid_dumping_spot()</a>, <a class="el" href="basecamp_8h_source.html#l00470">set_storage_tiles()</a>, <a class="el" href="basecamp_8h_source.html#l00463">set_storage_zone()</a>, <a class="el" href="basecamp_8h_source.html#l00500">src_set</a>, <a class="el" href="basecamp_8h_source.html#l00499">storage_zones</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aaf7810de5bb3f477a91dc0bdec78cd5e">TFLAG_LIQUIDCONT</a>, <a class="el" href="coordinates_8h_source.html#l00167">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::z()</a>, <a class="el" href="basecamp_8cpp.html#afdfa0c2d2f3924a26f2adf2560b94eae">zone_type_CAMP_STORAGE</a>, and <a class="el" href="mapgen_8h.html#afdd0a1598dc015b56a1b46d51da2b06ea26f94136f5db8afd4e9df1e512f7fdc5">zones</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00747">talk_function::basecamp_mission()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05964">place_results()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l05288">validate_sort_points()</a>.</p>

</div>
</div>
<a id="afe3971b9392bc8ca4453811bb7e6c3b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe3971b9392bc8ca4453811bb7e6c3b4">&#9670;&nbsp;</a></span>fortifications_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::fortifications_return </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l04038">4038</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;{</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;    <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="classbasecamp.html#acf5ed5fde0f408c8978fb50097196efe">companion_choose_return</a>( miss_id, 3_hours );</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;    <span class="keywordflow">if</span>( comp != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;        <span class="keyword">auto</span> &amp;build_point = comp-&gt;companion_mission_points;</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;        <span class="keywordflow">for</span>( std::vector&lt;tripoint_abs_omt&gt;::iterator::value_type <a class="code" href="structpoint.html">point</a> : build_point ) {</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> == <a class="code" href="faction__camp_8cpp.html#a505e4c5629984da15a57ff3906da9399">faction_wall_level_n_0_string</a> ||</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;                <span class="comment">//  Handling of old format (changed mid 0.F) below</span></div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;                ( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a>.empty() &amp;&amp;</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;                  comp-&gt;companion_mission_role_id == <a class="code" href="faction__camp_8cpp.html#a505e4c5629984da15a57ff3906da9399">faction_wall_level_n_0_string</a> ) ) {</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;                <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> fort_point = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>;</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;                <a class="code" href="classbasecamp.html#a6faf0213165ad5b7b2d8f06317833c15">fortifications</a>.push_back( fort_point );</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;            }</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;        }</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160; </div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;        <a class="code" href="faction__camp_8cpp.html#a3f6bc49f99ca83d980cfd85b2708eb63">apply_fortifications</a>( miss_id, &amp;comp, <span class="keyword">false</span> );</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160; </div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;        <span class="keyword">const</span> std::string msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns from constructing fortifications&quot;</span> );</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;        <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">true</span>, msg, <a class="code" href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 2 );</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;    }</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;}</div>
<div class="ttc" id="afaction__camp_8cpp_html_a3f6bc49f99ca83d980cfd85b2708eb63"><div class="ttname"><a href="faction__camp_8cpp.html#a3f6bc49f99ca83d980cfd85b2708eb63">apply_fortifications</a></div><div class="ttdeci">static void apply_fortifications(const mission_id &amp;miss_id, const npc_ptr *comp, bool start)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02755">faction_camp.cpp:2755</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a505e4c5629984da15a57ff3906da9399"><div class="ttname"><a href="faction__camp_8cpp.html#a505e4c5629984da15a57ff3906da9399">faction_wall_level_n_0_string</a></div><div class="ttdeci">static const std::string faction_wall_level_n_0_string</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00192">faction_camp.cpp:192</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a8e60d5a75047fc4095c6afe268a414b6"><div class="ttname"><a href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a></div><div class="ttdeci">static const skill_id skill_construction(&quot;construction&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="faction__camp_8cpp_source.html#l02755">apply_fortifications()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03748">companion_choose_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00192">faction_wall_level_n_0_string</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>, <a class="el" href="basecamp_8h_source.html#l00197">fortifications</a>, <a class="el" href="mission__companion_8h_source.html#l00105">mission_id::parameters</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a>, and <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="abc18e5c9003168f5b9da5756d2b77243"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc18e5c9003168f5b9da5756d2b77243">&#9670;&nbsp;</a></span>gathering_description()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string basecamp::gathering_description </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provides a "guess" for some of the things your gatherers will return with to upgrade the camp. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05467">5467</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;{</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;    <a class="code" href="classstring__id.html">item_group_id</a> itemlist = <a class="code" href="faction__camp_8cpp.html#a8a65f023b609255527589b712d6c47ce">Item_spawn_data_forest</a>;</div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;    std::string output;</div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160; </div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;    <span class="comment">// Functions like the debug item group tester but only rolls 6 times so the player</span></div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;    <span class="comment">// doesn&#39;t have perfect knowledge</span></div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;    std::map&lt;std::string, int&gt; itemnames;</div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> = 0; <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> &lt; 6; <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>++ ) {</div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;        <span class="keyword">const</span> std::vector&lt;item&gt; items = <a class="code" href="namespaceitem__group.html#a2d51a14b1504b58288fd1b3e5060f528">item_group::items_from</a>( itemlist, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it : items ) {</div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;            itemnames[it.display_name()]++;</div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;        }</div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;    }</div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;    <span class="comment">// Invert the map to get sorting!</span></div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;    std::multimap&lt;int, std::string&gt; itemnames2;</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : itemnames ) {</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;        itemnames2.insert( std::pair&lt;int, std::string&gt;( e.second, e.first ) );</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;    }</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : itemnames2 ) {</div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;        <a class="code" href="cata__utility_8h.html#a08531d647db70a8f67a522176a6f2130">str_append</a>( output, <span class="stringliteral">&quot;&gt; &quot;</span>, e.second, <span class="stringliteral">&quot;\n&quot;</span> );</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;    }</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;    <span class="keywordflow">return</span> output;</div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;}</div>
<div class="ttc" id="afaction__camp_8cpp_html_a8a65f023b609255527589b712d6c47ce"><div class="ttname"><a href="faction__camp_8cpp.html#a8a65f023b609255527589b712d6c47ce">Item_spawn_data_forest</a></div><div class="ttdeci">static const item_group_id Item_spawn_data_forest(&quot;forest&quot;)</div></div>
<div class="ttc" id="amagic_8cpp_html_a188caae18b60b66f9f44214c7e28ac1f"><div class="ttname"><a href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a></div><div class="ttdeci">static constexpr double a</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01566">magic.cpp:1566</a></div></div>
<div class="ttc" id="anamespaceitem__group_html_a2d51a14b1504b58288fd1b3e5060f528"><div class="ttname"><a href="namespaceitem__group.html#a2d51a14b1504b58288fd1b3e5060f528">item_group::items_from</a></div><div class="ttdeci">ItemList items_from(const item_group_id &amp;group_id, const time_point &amp;birthday, spawn_flags flags=spawn_flags::none)</div><div class="ttdoc">Create items from the given group.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8cpp_source.html#l00979">item_group.cpp:979</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01566">a</a>, <a class="el" href="faction__camp_8cpp.html#a8a65f023b609255527589b712d6c47ce">Item_spawn_data_forest</a>, <a class="el" href="item__group_8cpp_source.html#l00979">item_group::items_from()</a>, <a class="el" href="cata__utility_8h_source.html#l00523">str_append()</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00787">get_available_missions_by_dir()</a>.</p>

</div>
</div>
<a id="a06c13ebeac9af1cb31a9ded778ffaefe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06c13ebeac9af1cb31a9ded778ffaefe">&#9670;&nbsp;</a></span>gathering_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::gathering_return </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td>
          <td class="paramname"><em>min_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when a companion completes a gathering task mission. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l03962">3962</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;{</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;    <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="classbasecamp.html#acf5ed5fde0f408c8978fb50097196efe">companion_choose_return</a>( miss_id, min_time );</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;    <span class="keywordflow">if</span>( comp == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;    }</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160; </div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;    std::string task_description = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;gathering materials&quot;</span> );</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;    <span class="keywordtype">int</span> danger = 20;</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;    <span class="keywordtype">int</span> favor = 2;</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;    <span class="keywordtype">int</span> threat = 10;</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;    std::string skill_group = <span class="stringliteral">&quot;gathering&quot;</span>;</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;    <span class="keywordtype">float</span> skill = 2 * comp-&gt;get_skill_level( <a class="code" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a> ) + comp-&gt;per_cur;</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;    <span class="keywordtype">int</span> checks_per_cycle = 6;</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;    <span class="keywordflow">if</span>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a9bf7b67cfd74658d8591a574927479b0">Camp_Foraging</a> ) {</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;        task_description = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;foraging for edible plants&quot;</span> );</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;        danger = 15;</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;        checks_per_cycle = 12;</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a8daefc37cb40d56f81158b33df3072f0">Camp_Trapping</a> ) {</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;        task_description = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;trapping small animals&quot;</span> );</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;        favor = 1;</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;        danger = 15;</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;        skill_group = <span class="stringliteral">&quot;trapping&quot;</span>;</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;        skill = 2 * comp-&gt;get_skill_level( <a class="code" href="faction__camp_8cpp.html#a9353c39452c59a433c7c4c301386e91f">skill_traps</a> ) + comp-&gt;per_cur;</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;        checks_per_cycle = 4;</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a920dbeb5ca6bec887e07240c55b74303">Camp_Hunting</a> ) {</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;        task_description = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;hunting for meat&quot;</span> );</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;        danger = 10;</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;        favor = 0;</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;        skill_group = <span class="stringliteral">&quot;hunting&quot;</span>;</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;        skill = 1.5 * comp-&gt;get_skill_level( <a class="code" href="faction__camp_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a> ) + comp-&gt;per_cur / 2.0;</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;        threat = 12;</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;        checks_per_cycle = 2;</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;    }</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160; </div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;    <a class="code" href="classtime__duration.html">time_duration</a> mission_time = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> - comp-&gt;companion_mission_time;</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( danger ) &amp;&amp; !<a class="code" href="faction__camp_8cpp.html#a6a3a80bf51b74b56dd08fa71f3c44e25">survive_random_encounter</a>( *comp, task_description, favor, threat ) ) {</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;    }</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;    <span class="keyword">const</span> std::string msg = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns from %s carrying supplies and has a bit &quot;</span></div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;                                           <span class="stringliteral">&quot;more experience&quot;</span> ), task_description );</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;    <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">false</span>, msg, skill_group, 1 );</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160; </div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;    <a class="code" href="classstring__id.html">item_group_id</a> itemlist( <span class="stringliteral">&quot;forest&quot;</span> );</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;    <span class="keywordflow">if</span>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a5ac31fc9ae8f654b12ab7a145a9a6732">Camp_Collect_Firewood</a> ) {</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;        itemlist = <a class="code" href="faction__camp_8cpp.html#a7fefbdf31d53f3e0f729ef4749a97517">Item_spawn_data_gathering_faction_camp_firewood</a>;</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6ae26a02c8f7b369a75c4ee41f85cb099f">Camp_Gather_Materials</a> ) {</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;        itemlist = <a class="code" href="faction__camp_8cpp.html#a8a65f023b609255527589b712d6c47ce">Item_spawn_data_forest</a>;</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a9bf7b67cfd74658d8591a574927479b0">Camp_Foraging</a> ) {</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;        <span class="keywordflow">switch</span>( <a class="code" href="calendar_8cpp.html#a81656706da6c7486137ad8578c0f523e">season_of_year</a>( <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) ) {</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba74ce3137b26cdafc19bdb66d881971fa">SPRING</a>:</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;                itemlist = <a class="code" href="faction__camp_8cpp.html#a4271a51b752e74be948f0262cee9f82b">Item_spawn_data_foraging_faction_camp_spring</a>;</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba6d813ab9ea240f6c6eeff923ccb680ae">SUMMER</a>:</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;                itemlist = <a class="code" href="faction__camp_8cpp.html#a0e3af4cd6a34666c5251a4aaa8651597">Item_spawn_data_foraging_faction_camp_summer</a>;</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba5c29d7e8c16f80d457fa37c9dafab61e">AUTUMN</a>:</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;                itemlist = <a class="code" href="faction__camp_8cpp.html#a10b8fa78b61182ff827b9534a09126e5">Item_spawn_data_foraging_faction_camp_autumn</a>;</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba1d8c9db74467f6c2fdad36f154ca6873">WINTER</a>:</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;                itemlist = <a class="code" href="faction__camp_8cpp.html#af7d4883f79ea30d1b1f8704a74582b29">Item_spawn_data_foraging_faction_camp_winter</a>;</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid season&quot;</span> );</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;        }</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;    }</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;    <span class="keywordflow">if</span>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a8daefc37cb40d56f81158b33df3072f0">Camp_Trapping</a> ||</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;        miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a920dbeb5ca6bec887e07240c55b74303">Camp_Hunting</a> ) {</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;        <a class="code" href="classbasecamp.html#af6e36810b073d323784a18556d0ef8d3">hunting_results</a>( <a class="code" href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">round</a>( skill ), miss_id, checks_per_cycle * mission_time / min_time, 30 );</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;        <a class="code" href="classbasecamp.html#a4a7834ed84f8c60d76eece5ea7a08ec5">search_results</a>( <a class="code" href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">round</a>( skill ), itemlist, checks_per_cycle * mission_time / min_time, 15 );</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;    }</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160; </div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a81656706da6c7486137ad8578c0f523e"><div class="ttname"><a href="calendar_8cpp.html#a81656706da6c7486137ad8578c0f523e">season_of_year</a></div><div class="ttdeci">season_type season_of_year(const time_point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00810">calendar.cpp:810</a></div></div>
<div class="ttc" id="acalendar_8h_html_a5ac915753729cd68b608506d3c63ad1ba1d8c9db74467f6c2fdad36f154ca6873"><div class="ttname"><a href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba1d8c9db74467f6c2fdad36f154ca6873">WINTER</a></div><div class="ttdeci">@ WINTER</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00025">calendar.h:25</a></div></div>
<div class="ttc" id="acalendar_8h_html_a5ac915753729cd68b608506d3c63ad1ba5c29d7e8c16f80d457fa37c9dafab61e"><div class="ttname"><a href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba5c29d7e8c16f80d457fa37c9dafab61e">AUTUMN</a></div><div class="ttdeci">@ AUTUMN</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00024">calendar.h:24</a></div></div>
<div class="ttc" id="acalendar_8h_html_a5ac915753729cd68b608506d3c63ad1ba6d813ab9ea240f6c6eeff923ccb680ae"><div class="ttname"><a href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba6d813ab9ea240f6c6eeff923ccb680ae">SUMMER</a></div><div class="ttdeci">@ SUMMER</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00023">calendar.h:23</a></div></div>
<div class="ttc" id="acalendar_8h_html_a5ac915753729cd68b608506d3c63ad1ba74ce3137b26cdafc19bdb66d881971fa"><div class="ttname"><a href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba74ce3137b26cdafc19bdb66d881971fa">SPRING</a></div><div class="ttdeci">@ SPRING</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00022">calendar.h:22</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a4a7834ed84f8c60d76eece5ea7a08ec5"><div class="ttname"><a href="classbasecamp.html#a4a7834ed84f8c60d76eece5ea7a08ec5">basecamp::search_results</a></div><div class="ttdeci">void search_results(int skill, const item_group_id &amp;, int attempts, int difficulty)</div><div class="ttdoc">spawn items or corpses based on search attempts</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04698">faction_camp.cpp:4698</a></div></div>
<div class="ttc" id="aclassbasecamp_html_af6e36810b073d323784a18556d0ef8d3"><div class="ttname"><a href="classbasecamp.html#af6e36810b073d323784a18556d0ef8d3">basecamp::hunting_results</a></div><div class="ttdeci">void hunting_results(int skill, const mission_id &amp;miss_id, int attempts, int difficulty)</div><div class="ttdoc">spawn items or corpses based on search attempts</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04711">faction_camp.cpp:4711</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a0e3af4cd6a34666c5251a4aaa8651597"><div class="ttname"><a href="faction__camp_8cpp.html#a0e3af4cd6a34666c5251a4aaa8651597">Item_spawn_data_foraging_faction_camp_summer</a></div><div class="ttdeci">static const item_group_id Item_spawn_data_foraging_faction_camp_summer(&quot;foraging_faction_camp_summer&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a10b8fa78b61182ff827b9534a09126e5"><div class="ttname"><a href="faction__camp_8cpp.html#a10b8fa78b61182ff827b9534a09126e5">Item_spawn_data_foraging_faction_camp_autumn</a></div><div class="ttdeci">static const item_group_id Item_spawn_data_foraging_faction_camp_autumn(&quot;foraging_faction_camp_autumn&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a3eadead4a9aa7fee079c0b1acce7965e"><div class="ttname"><a href="faction__camp_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a></div><div class="ttdeci">static const skill_id skill_gun(&quot;gun&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a4271a51b752e74be948f0262cee9f82b"><div class="ttname"><a href="faction__camp_8cpp.html#a4271a51b752e74be948f0262cee9f82b">Item_spawn_data_foraging_faction_camp_spring</a></div><div class="ttdeci">static const item_group_id Item_spawn_data_foraging_faction_camp_spring(&quot;foraging_faction_camp_spring&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a6a3a80bf51b74b56dd08fa71f3c44e25"><div class="ttname"><a href="faction__camp_8cpp.html#a6a3a80bf51b74b56dd08fa71f3c44e25">survive_random_encounter</a></div><div class="ttdeci">static bool survive_random_encounter(npc &amp;comp, std::string &amp;situation, int favor, int threat)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l06005">faction_camp.cpp:6005</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a7fefbdf31d53f3e0f729ef4749a97517"><div class="ttname"><a href="faction__camp_8cpp.html#a7fefbdf31d53f3e0f729ef4749a97517">Item_spawn_data_gathering_faction_camp_firewood</a></div><div class="ttdeci">static const item_group_id Item_spawn_data_gathering_faction_camp_firewood(&quot;gathering_faction_camp_firewood&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a9353c39452c59a433c7c4c301386e91f"><div class="ttname"><a href="faction__camp_8cpp.html#a9353c39452c59a433c7c4c301386e91f">skill_traps</a></div><div class="ttdeci">static const skill_id skill_traps(&quot;traps&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_af7d4883f79ea30d1b1f8704a74582b29"><div class="ttname"><a href="faction__camp_8cpp.html#af7d4883f79ea30d1b1f8704a74582b29">Item_spawn_data_foraging_faction_camp_winter</a></div><div class="ttdeci">static const item_group_id Item_spawn_data_foraging_faction_camp_winter(&quot;foraging_faction_camp_winter&quot;)</div></div>
<div class="ttc" id="amath__parser__func_8h_html_a5834219bcffc7118c95b395b8cdeec20"><div class="ttname"><a href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">round</a></div><div class="ttdeci">double round(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00110">math_parser_func.h:110</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a5ac31fc9ae8f654b12ab7a145a9a6732"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a5ac31fc9ae8f654b12ab7a145a9a6732">Camp_Collect_Firewood</a></div><div class="ttdeci">@ Camp_Collect_Firewood</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00062">mission_companion.h:62</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a8daefc37cb40d56f81158b33df3072f0"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a8daefc37cb40d56f81158b33df3072f0">Camp_Trapping</a></div><div class="ttdeci">@ Camp_Trapping</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00071">mission_companion.h:71</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a920dbeb5ca6bec887e07240c55b74303"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a920dbeb5ca6bec887e07240c55b74303">Camp_Hunting</a></div><div class="ttdeci">@ Camp_Hunting</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00072">mission_companion.h:72</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a9bf7b67cfd74658d8591a574927479b0"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a9bf7b67cfd74658d8591a574927479b0">Camp_Foraging</a></div><div class="ttdeci">@ Camp_Foraging</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00070">mission_companion.h:70</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6ae26a02c8f7b369a75c4ee41f85cb099f"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6ae26a02c8f7b369a75c4ee41f85cb099f">Camp_Gather_Materials</a></div><div class="ttdeci">@ Camp_Gather_Materials</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00061">mission_companion.h:61</a></div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00108">rng.cpp:108</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="calendar_8h_source.html#l00024">AUTUMN</a>, <a class="el" href="mission__companion_8h_source.html#l00062">Camp_Collect_Firewood</a>, <a class="el" href="mission__companion_8h_source.html#l00070">Camp_Foraging</a>, <a class="el" href="mission__companion_8h_source.html#l00061">Camp_Gather_Materials</a>, <a class="el" href="mission__companion_8h_source.html#l00072">Camp_Hunting</a>, <a class="el" href="mission__companion_8h_source.html#l00071">Camp_Trapping</a>, <a class="el" href="faction__camp_8cpp_source.html#l03748">companion_choose_return()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04711">hunting_results()</a>, <a class="el" href="mission__companion_8h_source.html#l00104">mission_id::id</a>, <a class="el" href="faction__camp_8cpp.html#a10b8fa78b61182ff827b9534a09126e5">Item_spawn_data_foraging_faction_camp_autumn</a>, <a class="el" href="faction__camp_8cpp.html#a4271a51b752e74be948f0262cee9f82b">Item_spawn_data_foraging_faction_camp_spring</a>, <a class="el" href="faction__camp_8cpp.html#a0e3af4cd6a34666c5251a4aaa8651597">Item_spawn_data_foraging_faction_camp_summer</a>, <a class="el" href="faction__camp_8cpp.html#af7d4883f79ea30d1b1f8704a74582b29">Item_spawn_data_foraging_faction_camp_winter</a>, <a class="el" href="faction__camp_8cpp.html#a8a65f023b609255527589b712d6c47ce">Item_spawn_data_forest</a>, <a class="el" href="faction__camp_8cpp.html#a7fefbdf31d53f3e0f729ef4749a97517">Item_spawn_data_gathering_faction_camp_firewood</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="math__parser__func_8h_source.html#l00110">round()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04698">search_results()</a>, <a class="el" href="calendar_8cpp_source.html#l00810">season_of_year()</a>, <a class="el" href="faction__camp_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a>, <a class="el" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, <a class="el" href="faction__camp_8cpp.html#a9353c39452c59a433c7c4c301386e91f">skill_traps</a>, <a class="el" href="calendar_8h_source.html#l00022">SPRING</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="calendar_8h_source.html#l00023">SUMMER</a>, <a class="el" href="faction__camp_8cpp_source.html#l06005">survive_random_encounter()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, and <a class="el" href="calendar_8h_source.html#l00025">WINTER</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="ac9f67bf4449e1d0c51b0cbd7839dcc51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9f67bf4449e1d0c51b0cbd7839dcc51">&#9670;&nbsp;</a></span>get_available_missions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::get_available_missions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmission__data.html">mission_data</a> &amp;&#160;</td>
          <td class="paramname"><em>mission_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>here</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l01393">1393</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;{</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    std::string entry;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> &amp;<a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_dir</a> = <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_camps::base_dir</a>;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keyword">const</span> <a class="code" href="structbase__camps_1_1direction__data.html">base_camps::direction_data</a> &amp;base_data = <a class="code" href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a>.at( <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_dir</a> );</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="keyword">const</span> std::string base_dir_id = base_data.<a class="code" href="structbase__camps_1_1direction__data.html#aa7e4d16eaf37bb2cd0d8c9ec97551874">id</a>;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <a class="code" href="classbasecamp.html#abb5cfb054f4146be25a3b6ba09cb0449">reset_camp_resources</a>( here );</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160; </div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="comment">// Missions that belong exclusively to the central tile</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    {</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#aa031c294bd423a1b1445f96b930b55f2">directions</a>.size() &lt; 8 ) {</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;            <span class="keywordtype">bool</span> free_non_field_found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160; </div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;dir : <a class="code" href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a> ) {</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                <span class="keywordflow">if</span>( dir.first != <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_camps::base_dir</a> &amp;&amp; <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( dir.first ) == <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.end() &amp;&amp;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                    <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a232145b434bc1f83bc6df7221d15310b">ter_existing</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a> + dir.first ) != <a class="code" href="classint__id.html">oter_id</a>( <span class="stringliteral">&quot;field&quot;</span> ) ) {</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                    free_non_field_found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                }</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;            }</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160; </div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;            <span class="keywordflow">if</span>( free_non_field_found ) {</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6add9769d05141626e78ca44fc1589d443">Camp_Survey_Field</a>, <span class="stringliteral">&quot;&quot;</span>, {}, <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_dir</a> };</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                                          <span class="stringliteral">&quot;Nearby terrain can be turned into fields if it is completely &quot;</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                                          <span class="stringliteral">&quot;cleared of terrain that isn&#39;t grass or dirt.  Doing so makes that &quot;</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                                          <span class="stringliteral">&quot;terrain eligible for usage for standard base camp expansion.  Note &quot;</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                                          <span class="stringliteral">&quot;that log cutting does this conversion automatically when the trees &quot;</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                                          <span class="stringliteral">&quot;are depleted, but not all terrain can be logged.\n\n&quot;</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                                          <span class="stringliteral">&quot;Skill used: N/A\n&quot;</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                                          <span class="stringliteral">&quot;Effects:\n&quot;</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                                          <span class="stringliteral">&quot;&gt; If the expansion direction selected is eligible for conversion into &quot;</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                                          <span class="stringliteral">&quot;a field this mission will perform that conversion.  If it is not eligible &quot;</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                                          <span class="stringliteral">&quot;you are told as much, and would have to make it suitable for conversion &quot;</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                                          <span class="stringliteral">&quot;by removing everything that isn&#39;t grass or soil.  Mining zones are useful to &quot;</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                                          <span class="stringliteral">&quot;remove pavement, for instance.  Note that removal of buildings is dangerous, &quot;</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                                          <span class="stringliteral">&quot;laborious, and may still fail to get rid of everything if e.g. a basement or &quot;</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                                          <span class="stringliteral">&quot;an opening to underground areas (such as a manhole) remains.\n\n&quot;</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                                          <span class="stringliteral">&quot;Risk: None\n&quot;</span></div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                                          <span class="stringliteral">&quot;Intensity: Moderate\n&quot;</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                                          <span class="stringliteral">&quot;Time: 0 Hours\n&quot;</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                                          <span class="stringliteral">&quot;Positions: %d/1\n&quot;</span> ), npc_list.size() );</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                                       entry, npc_list.empty() );</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                    entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                    <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                    mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Recover Field Surveyor&quot;</span> ),</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                                            entry, avail );</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                }</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;            }</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160; </div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;            <span class="keywordtype">bool</span> possible_expansion_found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160; </div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;dir : <a class="code" href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a> ) {</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                <span class="keywordflow">if</span>( dir.first != <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_camps::base_dir</a> &amp;&amp; <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( dir.first ) == <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.end() ) {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classint__id.html">oter_id</a> &amp;omt_ref = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aa9fbf966291f6b82de9c540262324aba">ter</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a> + dir.first );</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                    <span class="keyword">const</span> std::optional&lt;mapgen_arguments&gt; *maybe_args = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ae5789098e078c16d272e2383f6af35ec">mapgen_args</a>(</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                                <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a> + dir.first );</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;pos_expansions = <a class="code" href="namespacerecipe__group.html#ae9b4436933871983aa244e128e75c33a">recipe_group::get_recipes_by_id</a>( <span class="stringliteral">&quot;all_faction_base_expansions&quot;</span>,</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                                                 omt_ref, maybe_args );</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                    <span class="keywordflow">if</span>( !pos_expansions.empty() ) {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                        possible_expansion_found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                    }</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                }</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;            }</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;            <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a1c3ab1763375b749e4d0fba9441142fc">Camp_Survey_Expansion</a>, <span class="stringliteral">&quot;&quot;</span>, {}, <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_dir</a> };</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;            <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;            entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                                      <span class="stringliteral">&quot;Expansions open up new opportunities but can be expensive and &quot;</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;                                      <span class="stringliteral">&quot;time-consuming.  Pick them carefully, at most 8 can be built &quot;</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;                                      <span class="stringliteral">&quot;at each camp.\n\n&quot;</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                                      <span class="stringliteral">&quot;Skill used: N/A\n&quot;</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                                      <span class="stringliteral">&quot;Effects:\n&quot;</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                                      <span class="stringliteral">&quot;&gt; Choose any one of the available expansions.  Starting with &quot;</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                                      <span class="stringliteral">&quot;a farm is always a solid choice since food is used to support &quot;</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                                      <span class="stringliteral">&quot;companion missions and minimal investment is needed to get it going.  &quot;</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                                      <span class="stringliteral">&quot;A forge is also a great idea, allowing you to refine resources for &quot;</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                                      <span class="stringliteral">&quot;subsequent expansions, craft better gear and make charcoal.\n\n&quot;</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                                      <span class="stringliteral">&quot;NOTE: Actions available through expansions are located in &quot;</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                                      <span class="stringliteral">&quot;separate tabs of the Camp Manager window.\n\n&quot;</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                                      <span class="stringliteral">&quot;Risk: None\n&quot;</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                                      <span class="stringliteral">&quot;Intensity: Moderate\n&quot;</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                                      <span class="stringliteral">&quot;Time: 3 Hours\n&quot;</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                                      <span class="stringliteral">&quot;Positions: %d/1\n&quot;</span> ), npc_list.size() );</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                                   entry, npc_list.empty() &amp;&amp; possible_expansion_found );</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;            <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Recover Surveyor&quot;</span> ),</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                                        entry, avail );</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            }</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        }</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    }</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160; </div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classbasecamp.html#ac74df444febf86c4bef85f88f2d94d65">by_radio</a> ) {</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        {</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;            <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6ab06d2f803109eeed8adb43a06ea802bb">Camp_Distribute_Food</a>, <span class="stringliteral">&quot;&quot;</span>, {}, <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_dir</a> };</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;            entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;                                      <span class="stringliteral">&quot;Distribute food to your follower and fill your larders.  &quot;</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                                      <span class="stringliteral">&quot;Place the food you wish to distribute in the camp food zone.  &quot;</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                                      <span class="stringliteral">&quot;You must have a camp food zone, and a camp storage zone, &quot;</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;                                      <span class="stringliteral">&quot;or you will be prompted to create them using the zone manager.\n&quot;</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                                      <span class="stringliteral">&quot;Effects:\n&quot;</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                                      <span class="stringliteral">&quot;&gt; Increases your faction&#39;s food supply value which in &quot;</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;                                      <span class="stringliteral">&quot;turn is used to pay laborers for their time\n\n&quot;</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                                      <span class="stringliteral">&quot;Must have enjoyability &gt;= -6\n&quot;</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                                      <span class="stringliteral">&quot;Perishable food liquidated at penalty depending on &quot;</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;                                      <span class="stringliteral">&quot;upgrades and rot time:\n&quot;</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;                                      <span class="stringliteral">&quot;&gt; Rotten: 0%%\n&quot;</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;                                      <span class="stringliteral">&quot;&gt; Rots in &lt; 2 days: 60%%\n&quot;</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;                                      <span class="stringliteral">&quot;&gt; Rots in &lt; 5 days: 80%%\n\n&quot;</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;                                      <span class="stringliteral">&quot;Total faction food stock: %d kcal\nor %d / %d / %d day&#39;s rations\n&quot;</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                                      <span class="stringliteral">&quot;where the days is measured for Extra / Moderate / No exercise levels&quot;</span> ),</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                                   <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;food_supply.kcal(), <a class="code" href="classbasecamp.html#ad145fb3595555a714a047bedcaa014fc">camp_food_supply_days</a>( <a class="code" href="game__constants_8h.html#acb2d9f7a196b657e32a4e71733a89e5c">EXTRA_EXERCISE</a> ),</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;                                   <a class="code" href="classbasecamp.html#ad145fb3595555a714a047bedcaa014fc">camp_food_supply_days</a>( <a class="code" href="game__constants_8h.html#ab4f6aee0718ae4c2d33e35bcccc19eb3">MODERATE_EXERCISE</a> ), <a class="code" href="classbasecamp.html#ad145fb3595555a714a047bedcaa014fc">camp_food_supply_days</a>( <a class="code" href="game__constants_8h.html#a2ff11848079530402510dded26ad7b71">NO_EXERCISE</a> ) );</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;            mission_key.<a class="code" href="classmission__data.html#ad95c9e268e80ff644aa670b93ed493c7">add</a>( { miss_id, <span class="keyword">false</span> }, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                             entry );</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        }</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        {</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;            <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a713b676dd9b4bf1e694425d342518ab9">Camp_Determine_Leadership</a>, <span class="stringliteral">&quot;&quot;</span>, {}, <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_dir</a> };</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;            entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                                      <span class="stringliteral">&quot;Choose a new leader for your faction.\n&quot;</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                                      <span class="stringliteral">&quot;&lt;color_yellow&gt;You will switch to playing as the new leader.&lt;/color&gt;\n&quot;</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                                      <span class="stringliteral">&quot;Difficulty: N/A\n&quot;</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                                      <span class="stringliteral">&quot;Risk: None\n&quot;</span> ) );</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;            mission_key.<a class="code" href="classmission__data.html#ad95c9e268e80ff644aa670b93ed493c7">add</a>( { miss_id, <span class="keyword">false</span> }, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                             entry );</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        }</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;        {</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;            <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aaf974ab52b4c5b7d5b45cf5a9073f528">Camp_Have_Meal</a>, <span class="stringliteral">&quot;&quot;</span>, {}, <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_dir</a> };</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;            entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                                      <span class="stringliteral">&quot;Eat some food from the larder.\n&quot;</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                                      <span class="stringliteral">&quot;Nutritional value depends on food stored in the larder.\n&quot;</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                                      <span class="stringliteral">&quot;Difficulty: N/A\n&quot;</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                                      <span class="stringliteral">&quot;Risk: None\n&quot;</span> ) );</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            mission_key.<a class="code" href="classmission__data.html#ad95c9e268e80ff644aa670b93ed493c7">add</a>( { miss_id, <span class="keyword">false</span> }, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                             entry );</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        }</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        {</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            <a class="code" href="classbasecamp.html#aaabb991fdf80cf5ad1c2eb38b2b6ab84">validate_assignees</a>();</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;            <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a161dfb9530d703d41010b26ce5817e7a">Camp_Assign_Jobs</a>, <span class="stringliteral">&quot;&quot;</span>, {}, <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_dir</a> };</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;            entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;                                      <span class="stringliteral">&quot;Assign repeating job duties to NPCs stationed here.\n&quot;</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                                      <span class="stringliteral">&quot;Difficulty: N/A\n&quot;</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                                      <span class="stringliteral">&quot;Effects:\n&quot;</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                                      <span class="stringliteral">&quot;\n\nRisk: None\n&quot;</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;                                      <span class="stringliteral">&quot;Time: Ongoing&quot;</span> ) );</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            mission_key.<a class="code" href="classmission__data.html#ad95c9e268e80ff644aa670b93ed493c7">add</a>( {miss_id, <span class="keyword">false</span>}, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ), entry );</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        }</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        {</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;            <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6af0d94ba594b12aa0d3580a5e30456c7c">Camp_Assign_Workers</a>, <span class="stringliteral">&quot;&quot;</span>, {}, <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_dir</a> };</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                                      <span class="stringliteral">&quot;Assign followers to work at this camp.&quot;</span> ) );</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            mission_key.<a class="code" href="classmission__data.html#ad95c9e268e80ff644aa670b93ed493c7">add</a>( {miss_id, <span class="keyword">false</span>}, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ), entry );</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        }</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        {</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;            <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a2e3bc94df909bddc28ec0cf2f35d796f">Camp_Abandon</a>, <span class="stringliteral">&quot;&quot;</span>, {}, <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_dir</a> };</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;            entry = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\nAbandon this camp&quot;</span> );</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;            mission_key.<a class="code" href="classmission__data.html#ad95c9e268e80ff644aa670b93ed493c7">add</a>( {miss_id, <span class="keyword">false</span>}, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ), entry );</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        }</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    }</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="comment">// Missions assigned to the central tile that could be done by an expansion</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <a class="code" href="classbasecamp.html#a5185f02189aa962143d0e47ddcdd5aa4">get_available_missions_by_dir</a>( mission_key, <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_camps::base_dir</a> );</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160; </div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="comment">// Loop over expansions</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> &amp;dir : <a class="code" href="classbasecamp.html#aa031c294bd423a1b1445f96b930b55f2">directions</a> ) {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        <a class="code" href="classbasecamp.html#a5185f02189aa962143d0e47ddcdd5aa4">get_available_missions_by_dir</a>( mission_key, dir );</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    }</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160; </div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classbasecamp.html#aef86b8776b43f65a60a0af1871dc2884">camp_workers</a>.empty() ) {</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a5a37113b5e8219abb2f6e36829871112">Camp_Emergency_Recall</a>, <span class="stringliteral">&quot;&quot;</span>, {}, <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_dir</a> };</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                                  <span class="stringliteral">&quot;Cancel a current mission and force the immediate return of a &quot;</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                                  <span class="stringliteral">&quot;companion.  No work will be done on the mission and all &quot;</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                                  <span class="stringliteral">&quot;resources used on the mission will be lost.\n\n&quot;</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                                  <span class="stringliteral">&quot;WARNING: All resources used on the mission will be lost and &quot;</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                                  <span class="stringliteral">&quot;no work will be done.  Only use this mission to recover a &quot;</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                                  <span class="stringliteral">&quot;companion who cannot otherwise be recovered.\n\n&quot;</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                                  <span class="stringliteral">&quot;Companions must be on missions for at least 24 hours before &quot;</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                                  <span class="stringliteral">&quot;emergency recall becomes available.&quot;</span> ) );</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#a2d463f452bea05df0f1d5b3c176096b9">update_emergency_recall</a>( entry, <a class="code" href="classbasecamp.html#aef86b8776b43f65a60a0af1871dc2884">camp_workers</a>, 24_hours );</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;        mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Emergency Recall&quot;</span> ),</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;                                entry, avail );</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    }</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160; </div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    std::vector&lt;ui_mission_id&gt; k;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> tab_num = <a class="code" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773faf5bfe44e49853d7b1270221eda45a0d6">base_camps::TAB_MAIN</a>; tab_num &lt;= <a class="code" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773fa58dcecf18fb737f811f664aed3241243">base_camps::TAB_NW</a>; tab_num++ ) {</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#af3d06822349589e739041ff9996ce78c">temp_ui_mission_keys</a>.size() &lt; <span class="keywordtype">size_t</span>( tab_num ) + 1 ) {</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            <a class="code" href="classbasecamp.html#af3d06822349589e739041ff9996ce78c">temp_ui_mission_keys</a>.push_back( k );</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            <a class="code" href="classbasecamp.html#af3d06822349589e739041ff9996ce78c">temp_ui_mission_keys</a>[tab_num].clear();</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        }</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160; </div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;        <span class="comment">//  mission_key offsets its entries by 1, reserving 0 for high prio entries.</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="structmission__entry.html">mission_entry</a> &amp;entry : mission_key.<a class="code" href="classmission__data.html#ad13199bfe80d27b12862ce35f90de71d">entries</a>[<span class="keywordtype">size_t</span>( tab_num ) + 1] ) {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;            <span class="keywordflow">if</span>( !entry.id.ret &amp;&amp; entry.id.id.id != <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a61cf4beb9bae90f8020f951768a8bfcb">Camp_Reveal_Mission</a> ) {</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                <a class="code" href="classbasecamp.html#af3d06822349589e739041ff9996ce78c">temp_ui_mission_keys</a>[tab_num].push_back( entry.id );</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;            }</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        }</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    }</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a5185f02189aa962143d0e47ddcdd5aa4"><div class="ttname"><a href="classbasecamp.html#a5185f02189aa962143d0e47ddcdd5aa4">basecamp::get_available_missions_by_dir</a></div><div class="ttdeci">void get_available_missions_by_dir(mission_data &amp;mission_key, const point &amp;dir)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00787">faction_camp.cpp:787</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a5d9a4158801c8a1c74b296b0a699eebe"><div class="ttname"><a href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">basecamp::name_display_of</a></div><div class="ttdeci">std::string name_display_of(const mission_id &amp;miss_id)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05794">faction_camp.cpp:5794</a></div></div>
<div class="ttc" id="aclassbasecamp_html_abb5cfb054f4146be25a3b6ba09cb0449"><div class="ttname"><a href="classbasecamp.html#abb5cfb054f4146be25a3b6ba09cb0449">basecamp::reset_camp_resources</a></div><div class="ttdeci">void reset_camp_resources(map &amp;here)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00464">basecamp.cpp:464</a></div></div>
<div class="ttc" id="aclassbasecamp_html_ac74df444febf86c4bef85f88f2d94d65"><div class="ttname"><a href="classbasecamp.html#ac74df444febf86c4bef85f88f2d94d65">basecamp::by_radio</a></div><div class="ttdeci">bool by_radio</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00506">basecamp.h:506</a></div></div>
<div class="ttc" id="aclassbasecamp_html_ad145fb3595555a714a047bedcaa014fc"><div class="ttname"><a href="classbasecamp.html#ad145fb3595555a714a047bedcaa014fc">basecamp::camp_food_supply_days</a></div><div class="ttdeci">int camp_food_supply_days(float exertion_level) const</div><div class="ttdoc">The number of days the current camp supplies lasts at the given exertion level.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05517">faction_camp.cpp:5517</a></div></div>
<div class="ttc" id="aclassbasecamp_html_aef86b8776b43f65a60a0af1871dc2884"><div class="ttname"><a href="classbasecamp.html#aef86b8776b43f65a60a0af1871dc2884">basecamp::camp_workers</a></div><div class="ttdeci">comp_list camp_workers</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00494">basecamp.h:494</a></div></div>
<div class="ttc" id="aclassbasecamp_html_af3d06822349589e739041ff9996ce78c"><div class="ttname"><a href="classbasecamp.html#af3d06822349589e739041ff9996ce78c">basecamp::temp_ui_mission_keys</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; ui_mission_id &gt; &gt; temp_ui_mission_keys</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00504">basecamp.h:504</a></div></div>
<div class="ttc" id="aclassmission__data_html_a419eb63f9d6cc748ab31d4f7f1ff8e5d"><div class="ttname"><a href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">mission_data::add_return</a></div><div class="ttdeci">void add_return(const mission_id &amp;id, const std::string &amp;name_display, const std::string &amp;text, bool possible=true)</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8cpp_source.html#l02875">mission_companion.cpp:2875</a></div></div>
<div class="ttc" id="aclassmission__data_html_ad13199bfe80d27b12862ce35f90de71d"><div class="ttname"><a href="classmission__data.html#ad13199bfe80d27b12862ce35f90de71d">mission_data::entries</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; mission_entry &gt; &gt; entries</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00136">mission_companion.h:136</a></div></div>
<div class="ttc" id="aclassmission__data_html_ad95c9e268e80ff644aa670b93ed493c7"><div class="ttname"><a href="classmission__data.html#ad95c9e268e80ff644aa670b93ed493c7">mission_data::add</a></div><div class="ttdeci">void add(const ui_mission_id &amp;id, const std::string &amp;name_display=&quot;&quot;, const std::string &amp;text=&quot;&quot;, bool priority=false, bool possible=true)</div><div class="ttdoc">Adds the id's to the correct vectors (i.e.</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8cpp_source.html#l02885">mission_companion.cpp:2885</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a232145b434bc1f83bc6df7221d15310b"><div class="ttname"><a href="classovermapbuffer.html#a232145b434bc1f83bc6df7221d15310b">overmapbuffer::ter_existing</a></div><div class="ttdeci">const oter_id &amp; ter_existing(const tripoint_abs_omt &amp;p)</div><div class="ttdoc">Returns the overmap terrain at the given OMT coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00786">overmapbuffer.cpp:786</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_ae5789098e078c16d272e2383f6af35ec"><div class="ttname"><a href="classovermapbuffer.html#ae5789098e078c16d272e2383f6af35ec">overmapbuffer::mapgen_args</a></div><div class="ttdeci">std::optional&lt; mapgen_arguments &gt; * mapgen_args(const tripoint_abs_omt &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00802">overmapbuffer.cpp:802</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a2d463f452bea05df0f1d5b3c176096b9"><div class="ttname"><a href="faction__camp_8cpp.html#a2d463f452bea05df0f1d5b3c176096b9">update_emergency_recall</a></div><div class="ttdeci">static bool update_emergency_recall(std::string &amp;entry, const comp_list &amp;npc_list, const time_duration &amp;duration)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00524">faction_camp.cpp:524</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_ae7dfe49c2a6765b3e91b58c545448fc8"><div class="ttname"><a href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a></div><div class="ttdeci">static bool update_time_left(std::string &amp;entry, const comp_list &amp;npc_list)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00486">faction_camp.cpp:486</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a2ff11848079530402510dded26ad7b71"><div class="ttname"><a href="game__constants_8h.html#a2ff11848079530402510dded26ad7b71">NO_EXERCISE</a></div><div class="ttdeci">constexpr float NO_EXERCISE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00181">game_constants.h:181</a></div></div>
<div class="ttc" id="agame__constants_8h_html_ab4f6aee0718ae4c2d33e35bcccc19eb3"><div class="ttname"><a href="game__constants_8h.html#ab4f6aee0718ae4c2d33e35bcccc19eb3">MODERATE_EXERCISE</a></div><div class="ttdeci">constexpr float MODERATE_EXERCISE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00183">game_constants.h:183</a></div></div>
<div class="ttc" id="agame__constants_8h_html_acb2d9f7a196b657e32a4e71733a89e5c"><div class="ttname"><a href="game__constants_8h.html#acb2d9f7a196b657e32a4e71733a89e5c">EXTRA_EXERCISE</a></div><div class="ttdeci">constexpr float EXTRA_EXERCISE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00186">game_constants.h:186</a></div></div>
<div class="ttc" id="amission__companion_8cpp_html_a23f4bee4438c84e67b7eb225a0023403"><div class="ttname"><a href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a></div><div class="ttdeci">std::string action_of(mission_kind kind)</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8cpp_source.html#l00391">mission_companion.cpp:391</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a161dfb9530d703d41010b26ce5817e7a"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a161dfb9530d703d41010b26ce5817e7a">Camp_Assign_Jobs</a></div><div class="ttdeci">@ Camp_Assign_Jobs</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00055">mission_companion.h:55</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a1c3ab1763375b749e4d0fba9441142fc"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a1c3ab1763375b749e4d0fba9441142fc">Camp_Survey_Expansion</a></div><div class="ttdeci">@ Camp_Survey_Expansion</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00065">mission_companion.h:65</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a2e3bc94df909bddc28ec0cf2f35d796f"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a2e3bc94df909bddc28ec0cf2f35d796f">Camp_Abandon</a></div><div class="ttdeci">@ Camp_Abandon</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00057">mission_companion.h:57</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a5a37113b5e8219abb2f6e36829871112"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a5a37113b5e8219abb2f6e36829871112">Camp_Emergency_Recall</a></div><div class="ttdeci">@ Camp_Emergency_Recall</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00059">mission_companion.h:59</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a61cf4beb9bae90f8020f951768a8bfcb"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a61cf4beb9bae90f8020f951768a8bfcb">Camp_Reveal_Mission</a></div><div class="ttdeci">@ Camp_Reveal_Mission</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00054">mission_companion.h:54</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a713b676dd9b4bf1e694425d342518ab9"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a713b676dd9b4bf1e694425d342518ab9">Camp_Determine_Leadership</a></div><div class="ttdeci">@ Camp_Determine_Leadership</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00051">mission_companion.h:51</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6aaf974ab52b4c5b7d5b45cf5a9073f528"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aaf974ab52b4c5b7d5b45cf5a9073f528">Camp_Have_Meal</a></div><div class="ttdeci">@ Camp_Have_Meal</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00052">mission_companion.h:52</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6ab06d2f803109eeed8adb43a06ea802bb"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6ab06d2f803109eeed8adb43a06ea802bb">Camp_Distribute_Food</a></div><div class="ttdeci">@ Camp_Distribute_Food</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00050">mission_companion.h:50</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6add9769d05141626e78ca44fc1589d443"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6add9769d05141626e78ca44fc1589d443">Camp_Survey_Field</a></div><div class="ttdeci">@ Camp_Survey_Field</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00064">mission_companion.h:64</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6af0d94ba594b12aa0d3580a5e30456c7c"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6af0d94ba594b12aa0d3580a5e30456c7c">Camp_Assign_Workers</a></div><div class="ttdeci">@ Camp_Assign_Workers</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00056">mission_companion.h:56</a></div></div>
<div class="ttc" id="astructbase__camps_1_1direction__data_html"><div class="ttname"><a href="structbase__camps_1_1direction__data.html">base_camps::direction_data</a></div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00087">basecamp.h:87</a></div></div>
<div class="ttc" id="astructbase__camps_1_1direction__data_html_aa7e4d16eaf37bb2cd0d8c9ec97551874"><div class="ttname"><a href="structbase__camps_1_1direction__data.html#aa7e4d16eaf37bb2cd0d8c9ec97551874">base_camps::direction_data::id</a></div><div class="ttdeci">std::string id</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00089">basecamp.h:89</a></div></div>
<div class="ttc" id="astructmission__entry_html"><div class="ttname"><a href="structmission__entry.html">mission_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00125">mission_companion.h:125</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="mission__companion_8cpp_source.html#l00391">action_of()</a>, <a class="el" href="mission__companion_8cpp_source.html#l02885">mission_data::add()</a>, <a class="el" href="mission__companion_8cpp_source.html#l02875">mission_data::add_return()</a>, <a class="el" href="mission__companion_8cpp_source.html#l02880">mission_data::add_start()</a>, <a class="el" href="basecamp_8cpp_source.html#l00047">base_camps::all_directions</a>, <a class="el" href="basecamp_8h_source.html#l00103">base_camps::base_dir</a>, <a class="el" href="basecamp_8h_source.html#l00506">by_radio</a>, <a class="el" href="mission__companion_8h_source.html#l00057">Camp_Abandon</a>, <a class="el" href="mission__companion_8h_source.html#l00055">Camp_Assign_Jobs</a>, <a class="el" href="mission__companion_8h_source.html#l00056">Camp_Assign_Workers</a>, <a class="el" href="mission__companion_8h_source.html#l00051">Camp_Determine_Leadership</a>, <a class="el" href="mission__companion_8h_source.html#l00050">Camp_Distribute_Food</a>, <a class="el" href="mission__companion_8h_source.html#l00059">Camp_Emergency_Recall</a>, <a class="el" href="faction__camp_8cpp_source.html#l05517">camp_food_supply_days()</a>, <a class="el" href="mission__companion_8h_source.html#l00052">Camp_Have_Meal</a>, <a class="el" href="mission__companion_8h_source.html#l00054">Camp_Reveal_Mission</a>, <a class="el" href="mission__companion_8h_source.html#l00065">Camp_Survey_Expansion</a>, <a class="el" href="mission__companion_8h_source.html#l00064">Camp_Survey_Field</a>, <a class="el" href="basecamp_8h_source.html#l00494">camp_workers</a>, <a class="el" href="basecamp_8h_source.html#l00195">directions</a>, <a class="el" href="mission__companion_8h_source.html#l00136">mission_data::entries</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="game__constants_8h_source.html#l00186">EXTRA_EXERCISE</a>, <a class="el" href="faction__camp_8cpp_source.html#l00664">fac()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00787">get_available_missions_by_dir()</a>, <a class="el" href="basecamp_8cpp_source.html#l00597">get_mission_workers()</a>, <a class="el" href="recipe__groups_8cpp_source.html#l00104">recipe_group::get_recipes_by_id()</a>, <a class="el" href="basecamp_8h_source.html#l00089">base_camps::direction_data::id</a>, <a class="el" href="mission__companion_8h_source.html#l00104">mission_id::id</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00802">overmapbuffer::mapgen_args()</a>, <a class="el" href="game__constants_8h_source.html#l00183">MODERATE_EXERCISE</a>, <a class="el" href="faction__camp_8cpp_source.html#l05794">name_display_of()</a>, <a class="el" href="game__constants_8h_source.html#l00181">NO_EXERCISE</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>, <a class="el" href="basecamp_8cpp_source.html#l00464">reset_camp_resources()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="basecamp_8h_source.html#l00076">base_camps::TAB_MAIN</a>, <a class="el" href="basecamp_8h_source.html#l00084">base_camps::TAB_NW</a>, <a class="el" href="basecamp_8h_source.html#l00504">temp_ui_mission_keys</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00780">overmapbuffer::ter()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00786">overmapbuffer::ter_existing()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00524">update_emergency_recall()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00486">update_time_left()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00522">validate_assignees()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00747">talk_function::basecamp_mission()</a>, and <a class="el" href="iexamine_8cpp_source.html#l01971">iexamine::bulletin_board()</a>.</p>

</div>
</div>
<a id="a5185f02189aa962143d0e47ddcdd5aa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5185f02189aa962143d0e47ddcdd5aa4">&#9670;&nbsp;</a></span>get_available_missions_by_dir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::get_available_missions_by_dir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmission__data.html">mission_data</a> &amp;&#160;</td>
          <td class="paramname"><em>mission_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l00787">787</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;{</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    std::string entry;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160; </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keyword">const</span> std::string dir_id = <a class="code" href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a>.at( dir ).id;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keyword">const</span> std::string dir_abbr = <a class="code" href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a>.at( dir ).bracket_abbr.translated();</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> omt_trg = <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a> + dir;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="comment">// return legacy workers. How old is this legacy?...</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aa07965f31757446ae21b9e067eb62329">Camp_Upgrade</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id ); <span class="comment">// Don&#39;t match any blueprints</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160; </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, <a class="code" href="namespacebase__camps.html#a725e5396d470166fd682ffb844f2d992">base_camps::recover_ally_string</a>.translated()</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                                    + dir_abbr + <a class="code" href="namespacebase__camps.html#a2977c9de4facc3c02306e04befc4f40c">base_camps::expansion_string</a>.translated(),</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                                    entry, avail );</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <span class="comment">// Generate upgrade missions for expansions</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        std::vector&lt;basecamp_upgrade&gt; upgrades = <a class="code" href="classbasecamp.html#a32e3db9be879ad31f4b2ebb79bcb208a">available_upgrades</a>( dir );</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160; </div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        std::sort( upgrades.begin(), upgrades.end(), []( <span class="keyword">const</span> <a class="code" href="structbasecamp__upgrade.html">basecamp_upgrade</a> &amp; p,</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                   <span class="keyword">const</span> <a class="code" href="structbasecamp__upgrade.html">basecamp_upgrade</a> &amp; q )-&gt;bool {return p.name.translated_lt( q.name ); } );</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structbasecamp__upgrade.html">basecamp_upgrade</a> &amp;<a class="code" href="namespacespell__effect.html#a73847499d33121194a7a79af77067788">upgrade</a> : upgrades ) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> = <a class="code" href="namespacespell__effect.html#a73847499d33121194a7a79af77067788">upgrade</a>.bldg;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a> = <a class="code" href="namespacespell__effect.html#a73847499d33121194a7a79af77067788">upgrade</a>.args;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160; </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            <span class="keywordflow">if</span>( npc_list.empty() ) {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                std::string display_name = <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id );</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;making = *<a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> );</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> foodcost = <a class="code" href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">time_to_food</a>( <a class="code" href="namespacebase__camps.html#a8922377c7d85cf4e79f0445b4b6e819c">base_camps::to_workdays</a>( <a class="code" href="classtime__duration.html#aacd074821aecb38a24d9ce6ca42a9127">time_duration::from_moves</a>(</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                                                       making.<a class="code" href="classrecipe.html#a6bf6a221531a705e16bd859596050d4a">blueprint_build_reqs</a>().<a class="code" href="structparameterized__build__reqs.html#ab9c7e2f44e3a3c6bbbfe79369e7b2d11">reqs_by_parameters</a>.find( miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a> )-&gt;second.time ) ),</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                                                   making.<a class="code" href="classrecipe.html#a8b1340359e15a704dc0942bfe5f9a5fa">exertion_level</a>() );</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> available_calories = <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;<a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a>.<a class="code" href="structnutrients.html#a27fef4783e99c7f2471a9fabcabe19b5">kcal</a>();</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                <span class="keywordtype">bool</span> can_upgrade = <a class="code" href="namespacespell__effect.html#a73847499d33121194a7a79af77067788">upgrade</a>.avail;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                entry = <a class="code" href="classbasecamp.html#a756bb73b0f45a91a6a2bb9a1b59ebde0">om_upgrade_description</a>( <a class="code" href="namespacespell__effect.html#a73847499d33121194a7a79af77067788">upgrade</a>.bldg, <a class="code" href="namespacespell__effect.html#a73847499d33121194a7a79af77067788">upgrade</a>.args );</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                <span class="keywordflow">if</span>( foodcost &gt; available_calories ) {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                    can_upgrade = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                    entry += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Total calorie cost: %s (have %d)&quot;</span> ),</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                                            <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">std::to_string</a>( foodcost ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> ),</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                                            available_calories );</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                    entry += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Total calorie cost: %s (have %d)&quot;</span> ),</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                                            <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">std::to_string</a>( foodcost ), <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a> ),</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                                            available_calories );</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, display_name, entry, can_upgrade );</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id,</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                                        <a class="code" href="namespacebase__camps.html#a725e5396d470166fd682ffb844f2d992">base_camps::recover_ally_string</a>.translated() + dir_abbr +</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                                        <span class="stringliteral">&quot; &quot;</span> + <a class="code" href="namespacespell__effect.html#a73847499d33121194a7a79af77067788">upgrade</a>.name, entry, avail );</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;gathering&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6ae26a02c8f7b369a75c4ee41f85cb099f">Camp_Gather_Materials</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        std::string gather_bldg = <span class="stringliteral">&quot;null&quot;</span>;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                                  <span class="stringliteral">&quot;Send a companion to gather materials for the next camp &quot;</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                                  <span class="stringliteral">&quot;upgrade.\n\n&quot;</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                                  <span class="stringliteral">&quot;Skill used: survival\n&quot;</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                                  <span class="stringliteral">&quot;Difficulty: N/A\n&quot;</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                                  <span class="stringliteral">&quot;Gathering Possibilities:\n&quot;</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                                  <span class="stringliteral">&quot;%s\n&quot;</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                                  <span class="stringliteral">&quot;Risk: Very Low\n&quot;</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                                  <span class="stringliteral">&quot;Intensity: Light\n&quot;</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                                  <span class="stringliteral">&quot;Time: 3 Hours, Repeated\n&quot;</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                                  <span class="stringliteral">&quot;Positions: %d/3\n&quot;</span> ), <a class="code" href="classbasecamp.html#abc18e5c9003168f5b9da5756d2b77243">gathering_description</a>(),</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                               npc_list.size() );</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                               entry, npc_list.size() &lt; 3 );</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#a1ec212aa34f7a326731cb17046d9940d">update_time_fixed</a>( entry, npc_list, 3_hours );</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; Recover Ally from Gathering&quot;</span> ),</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                                    entry, avail );</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        }</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;firewood&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a5ac31fc9ae8f654b12ab7a145a9a6732">Camp_Collect_Firewood</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                                  <span class="stringliteral">&quot;Send a companion to gather light brush and stout branches.\n\n&quot;</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                                  <span class="stringliteral">&quot;Skill used: survival\n&quot;</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                                  <span class="stringliteral">&quot;Difficulty: N/A\n&quot;</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                                  <span class="stringliteral">&quot;Gathering Possibilities:\n&quot;</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                                  <span class="stringliteral">&quot;&gt; stout branches\n&quot;</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                                  <span class="stringliteral">&quot;&gt; withered plants\n&quot;</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                                  <span class="stringliteral">&quot;&gt; splintered wood\n\n&quot;</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                                  <span class="stringliteral">&quot;Risk: Very Low\n&quot;</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                                  <span class="stringliteral">&quot;Intensity: Light\n&quot;</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                                  <span class="stringliteral">&quot;Time: 3 Hours, Repeated\n&quot;</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                                  <span class="stringliteral">&quot;Positions: %d/3\n&quot;</span> ), npc_list.size() );</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                               entry, npc_list.size() &lt; 3 );</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#a1ec212aa34f7a326731cb17046d9940d">update_time_fixed</a>( entry, npc_list, 3_hours );</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; Recover Firewood Gatherers&quot;</span> ),</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                                    entry, avail );</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;sorting&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a75c8d3203f3977eb52c449f8d728890f">Camp_Menial</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                                  <span class="stringliteral">&quot;Send a companion to do low level chores and sort &quot;</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                                  <span class="stringliteral">&quot;supplies.\n\n&quot;</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                                  <span class="stringliteral">&quot;Skill used: fabrication\n&quot;</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                                  <span class="stringliteral">&quot;Difficulty: N/A\n&quot;</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                                  <span class="stringliteral">&quot;Effects:\n&quot;</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                                  <span class="stringliteral">&quot;&gt; Material left in the unsorted loot zone will be sorted &quot;</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                                  <span class="stringliteral">&quot;into a defined loot zone.&quot;</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                                  <span class="stringliteral">&quot;\n\nRisk: None\n&quot;</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                                  <span class="stringliteral">&quot;Time: 3 Hours\n&quot;</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                                  <span class="stringliteral">&quot;Positions: %d/1\n&quot;</span> ), npc_list.size() );</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                               entry, npc_list.empty() );</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; Recover Menial Laborer&quot;</span> ),</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                                    entry, avail );</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        }</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160; </div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;logging&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6abda6992194fe3f7300dee70a735748c1">Camp_Cut_Logs</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                                  <span class="stringliteral">&quot;Send a companion to a nearby forest to cut logs.\n\n&quot;</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                                  <span class="stringliteral">&quot;Skill used: fabrication\n&quot;</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                                  <span class="stringliteral">&quot;Difficulty: 2\n&quot;</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                                  <span class="stringliteral">&quot;Effects:\n&quot;</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                                  <span class="stringliteral">&quot;&gt; 50%% of trees/trunks at the forest position will be &quot;</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                                  <span class="stringliteral">&quot;cut down.\n&quot;</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                                  <span class="stringliteral">&quot;&gt; 100%% of total material will be brought back.\n&quot;</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                                  <span class="stringliteral">&quot;&gt; Repeatable with diminishing returns.\n&quot;</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                                  <span class="stringliteral">&quot;&gt; Will eventually turn forests into fields.\n&quot;</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                                  <span class="stringliteral">&quot;Risk: None\n&quot;</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                                  <span class="stringliteral">&quot;Intensity: Active\n&quot;</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                                  <span class="stringliteral">&quot;Time: 6 Hour Base + Travel Time + Cutting Time\n&quot;</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                                  <span class="stringliteral">&quot;Positions: %d/1\n&quot;</span> ), npc_list.size() );</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                               entry, npc_list.empty() );</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; Recover Log Cutter&quot;</span> ),</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                                    entry, avail );</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    }</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;logging&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a85d05fa81e3e46a06d2ba654f3df857e">Camp_Clearcut</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                                  <span class="stringliteral">&quot;Send a companion to clear a nearby forest.\n\n&quot;</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                                  <span class="stringliteral">&quot;Skill used: fabrication\n&quot;</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                                  <span class="stringliteral">&quot;Difficulty: 1\n&quot;</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                                  <span class="stringliteral">&quot;Effects:\n&quot;</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                                  <span class="stringliteral">&quot;&gt; 95%% of trees/trunks at the forest position&quot;</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                                  <span class="stringliteral">&quot; will be cut down.\n&quot;</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                                  <span class="stringliteral">&quot;&gt; 0%% of total material will be brought back.\n&quot;</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                                  <span class="stringliteral">&quot;&gt; Forest should become a field tile.\n&quot;</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                                  <span class="stringliteral">&quot;&gt; Useful for clearing land for another faction camp.\n\n&quot;</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                                  <span class="stringliteral">&quot;Risk: None\n&quot;</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                                  <span class="stringliteral">&quot;Intensity: Active\n&quot;</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                                  <span class="stringliteral">&quot;Time: 6 Hour Base + Travel Time + Cutting Time\n&quot;</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                                  <span class="stringliteral">&quot;Positions: %d/1\n&quot;</span> ), npc_list.size() );</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                               entry, npc_list.empty() );</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; Recover Clearcutter&quot;</span> ),</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                                    entry, avail );</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    }</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160; </div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;relaying&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6ab1460bad98da808c1366ffe147aa5bd9">Camp_Setup_Hide_Site</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                                  <span class="stringliteral">&quot;Send a companion to build an improvised shelter and stock it &quot;</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                                  <span class="stringliteral">&quot;with equipment at a distant map location.\n\n&quot;</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                                  <span class="stringliteral">&quot;Skill used: survival\n&quot;</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                                  <span class="stringliteral">&quot;Difficulty: 3\n&quot;</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                                  <span class="stringliteral">&quot;Effects:\n&quot;</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                                  <span class="stringliteral">&quot;&gt; Good for setting up resupply or contingency points.\n&quot;</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                                  <span class="stringliteral">&quot;&gt; Gear is left unattended and could be stolen.\n&quot;</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                                  <span class="stringliteral">&quot;&gt; Time dependent on weight of equipment being sent forward.\n\n&quot;</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                                  <span class="stringliteral">&quot;Risk: Medium\n&quot;</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                                  <span class="stringliteral">&quot;Intensity: Light\n&quot;</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                                  <span class="stringliteral">&quot;Time: 6 Hour Construction + Travel\n&quot;</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                                  <span class="stringliteral">&quot;Positions: %d/1\n&quot;</span> ), npc_list.size() );</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                               entry, npc_list.empty() );</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; Recover Hide Setup&quot;</span> ),</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                                    entry, avail );</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        }</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160; </div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;relaying&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6af02810837b1f81122a2eb5f55da74fcd">Camp_Relay_Hide_Site</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                                  <span class="stringliteral">&quot;Push gear out to a hide site or bring gear back from one.\n\n&quot;</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                                  <span class="stringliteral">&quot;Skill used: survival\n&quot;</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                                  <span class="stringliteral">&quot;Difficulty: 1\n&quot;</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                                  <span class="stringliteral">&quot;Effects:\n&quot;</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                                  <span class="stringliteral">&quot;&gt; Good for returning equipment you left in the hide site &quot;</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                                  <span class="stringliteral">&quot;shelter.\n&quot;</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                                  <span class="stringliteral">&quot;&gt; Gear is left unattended and could be stolen.\n&quot;</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                                  <span class="stringliteral">&quot;&gt; Time dependent on weight of equipment being sent forward or &quot;</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                                  <span class="stringliteral">&quot;back.\n\n&quot;</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                                  <span class="stringliteral">&quot;Risk: Medium\n&quot;</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                                  <span class="stringliteral">&quot;Intensity: Light\n&quot;</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                                  <span class="stringliteral">&quot;Time: 1 Hour Base + Travel\n&quot;</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                                  <span class="stringliteral">&quot;Positions: %d/1\n&quot;</span> ), npc_list.size() );</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ), entry,</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                               npc_list.empty() );</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; Recover Hide Relay&quot;</span> ),</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                                    entry, avail );</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;foraging&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a9bf7b67cfd74658d8591a574927479b0">Camp_Foraging</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                                  <span class="stringliteral">&quot;Send a companion to forage for edible plants.\n\n&quot;</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                                  <span class="stringliteral">&quot;Skill used: survival\n&quot;</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                                  <span class="stringliteral">&quot;Difficulty: N/A\n&quot;</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                                  <span class="stringliteral">&quot;Foraging Possibilities:\n&quot;</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                                  <span class="stringliteral">&quot;&gt; wild vegetables\n&quot;</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                                  <span class="stringliteral">&quot;&gt; fruits and nuts depending on season\n&quot;</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                                  <span class="stringliteral">&quot;May produce less food than consumed!\n&quot;</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                                  <span class="stringliteral">&quot;Risk: Very Low\n&quot;</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                                  <span class="stringliteral">&quot;Intensity: Light\n&quot;</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                                  <span class="stringliteral">&quot;Time: 4 Hours, Repeated\n&quot;</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                                  <span class="stringliteral">&quot;Positions: %d/3\n&quot;</span> ), npc_list.size() );</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                               entry, npc_list.size() &lt; 3 );</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#a1ec212aa34f7a326731cb17046d9940d">update_time_fixed</a>( entry, npc_list, 4_hours );</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; Recover Foragers&quot;</span> ),</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                                    entry, avail );</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;trapping&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a8daefc37cb40d56f81158b33df3072f0">Camp_Trapping</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                                  <span class="stringliteral">&quot;Send a companion to set traps for small game.\n\n&quot;</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                                  <span class="stringliteral">&quot;Skill used: devices\n&quot;</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                                  <span class="stringliteral">&quot;Difficulty: N/A\n&quot;</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                                  <span class="stringliteral">&quot;Trapping Possibilities:\n&quot;</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                                  <span class="stringliteral">&quot;&gt; small and tiny animal corpses\n&quot;</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                                  <span class="stringliteral">&quot;May produce less food than consumed!\n&quot;</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                                  <span class="stringliteral">&quot;Risk: Low\n&quot;</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                                  <span class="stringliteral">&quot;Intensity: Light\n&quot;</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                                  <span class="stringliteral">&quot;Time: 6 Hours, Repeated\n&quot;</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                                  <span class="stringliteral">&quot;Positions: %d/2\n&quot;</span> ), npc_list.size() );</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                               entry, npc_list.size() &lt; 2 );</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#a1ec212aa34f7a326731cb17046d9940d">update_time_fixed</a>( entry, npc_list, 6_hours );</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; Recover Trappers&quot;</span> ),</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                                    entry, avail );</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    }</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160; </div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;hunting&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a920dbeb5ca6bec887e07240c55b74303">Camp_Hunting</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                                  <span class="stringliteral">&quot;Send a companion to hunt large animals.\n\n&quot;</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                                  <span class="stringliteral">&quot;Skill used: marksmanship\n&quot;</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                                  <span class="stringliteral">&quot;Difficulty: N/A\n&quot;</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                                  <span class="stringliteral">&quot;Hunting Possibilities:\n&quot;</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                                  <span class="stringliteral">&quot;&gt; small, medium, or large animal corpses\n&quot;</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                                  <span class="stringliteral">&quot;May produce less food than consumed!\n&quot;</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                                  <span class="stringliteral">&quot;Risk: Medium\n&quot;</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                                  <span class="stringliteral">&quot;Intensity: Moderate\n&quot;</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                                  <span class="stringliteral">&quot;Time: 6 Hours, Repeated\n&quot;</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                                  <span class="stringliteral">&quot;Positions: %d/1\n&quot;</span> ), npc_list.size() );</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                               entry, npc_list.empty() );</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#a1ec212aa34f7a326731cb17046d9940d">update_time_fixed</a>( entry, npc_list, 6_hours );</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; Recover Hunter&quot;</span> ),</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                                    entry, avail );</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    }</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;walls&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <a class="code" href="structmission__id.html">mission_id</a> miss_id = {</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;            <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a3dc190cb0632938b32137660d1602f12">Camp_OM_Fortifications</a>, <a class="code" href="faction__camp_8cpp.html#a8125d8f588f515676565b9e70e69afab">camp_om_fortifications_trench_parameter</a>, {}, dir</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        };</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        entry = <a class="code" href="classbasecamp.html#a756bb73b0f45a91a6a2bb9a1b59ebde0">om_upgrade_description</a>( <a class="code" href="faction__camp_8cpp.html#a505e4c5629984da15a57ff3906da9399">faction_wall_level_n_0_string</a>, {} );</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <span class="comment">//  Should add check for materials as well as active mission.</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                               entry, npc_list.empty() );</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; Finish Map Fortifications&quot;</span> ),</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                                    entry, avail );</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        }</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160; </div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        entry = <a class="code" href="classbasecamp.html#a756bb73b0f45a91a6a2bb9a1b59ebde0">om_upgrade_description</a>( <a class="code" href="faction__camp_8cpp.html#aa03fd35c1923b773c7affa5046db3226">faction_wall_level_n_1_string</a>, {} );</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> = <a class="code" href="faction__camp_8cpp.html#a60d0faa2ebc5d6d09785b41e0534a938">camp_om_fortifications_spiked_trench_parameter</a>;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <span class="comment">//  Should add check for materials as well as active mission.</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        <span class="comment">//  Should also check if there are any trenches to improve.</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                               entry,</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                               npc_list.empty() );</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; Finish Map Fortification Update&quot;</span> ),</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                                    entry, avail );</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        }</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <span class="comment">//  Code to deal with legacy construction (Changed during 0.F)</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a>.clear();</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; Finish Map Fortifications&quot;</span> ),</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                                    entry, avail );</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        }</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160; </div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    }</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160; </div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;recruiting&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a31f2ca3f041871757c561b0cae0ef5a5">Camp_Recruiting</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        entry = <a class="code" href="classbasecamp.html#a850afa4ba15ff2922b3576a3e24e75d3">recruit_description</a>( npc_list.size() );</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ), entry,</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                               npc_list.empty() );</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; Recover Recruiter&quot;</span> ),</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                                    entry, avail );</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;scouting&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a10f274066c4806a92ec9fa150366e75a">Camp_Scouting</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                                  <span class="stringliteral">&quot;Send a companion out into the great unknown.  High survival &quot;</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                                  <span class="stringliteral">&quot;skills are needed to avoid combat but you should expect an &quot;</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                                  <span class="stringliteral">&quot;encounter or two.\n\n&quot;</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                                  <span class="stringliteral">&quot;Skill used: survival\n&quot;</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                                  <span class="stringliteral">&quot;Difficulty: 3\n&quot;</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                                  <span class="stringliteral">&quot;Effects:\n&quot;</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                                  <span class="stringliteral">&quot;&gt; Select checkpoints to customize path.\n&quot;</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                                  <span class="stringliteral">&quot;&gt; Reveals terrain around the path.\n&quot;</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                                  <span class="stringliteral">&quot;&gt; Can bounce off hide sites to extend range.\n\n&quot;</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                                  <span class="stringliteral">&quot;Risk: High\n&quot;</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                                  <span class="stringliteral">&quot;Intensity: Brisk\n&quot;</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                                  <span class="stringliteral">&quot;Time: Travel\n&quot;</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                                  <span class="stringliteral">&quot;Positions: %d/3\n&quot;</span> ), npc_list.size() );</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                               entry, npc_list.size() &lt; 3 );</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; Recover Scout&quot;</span> ),</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                                    entry, avail );</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        }</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    }</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;patrolling&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a888b467cca91ea5e057caec42bc2655b">Camp_Combat_Patrol</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                                  <span class="stringliteral">&quot;Send a companion to purge the wasteland.  Their goal is to &quot;</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                                  <span class="stringliteral">&quot;kill anything hostile they encounter and return when &quot;</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                                  <span class="stringliteral">&quot;their wounds are too great or the odds are stacked against &quot;</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                                  <span class="stringliteral">&quot;them.\n\n&quot;</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                                  <span class="stringliteral">&quot;Skill used: survival\n&quot;</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                                  <span class="stringliteral">&quot;Difficulty: 4\n&quot;</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                                  <span class="stringliteral">&quot;Effects:\n&quot;</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                                  <span class="stringliteral">&quot;&gt; Pulls creatures encountered into combat instead of &quot;</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                                  <span class="stringliteral">&quot;fleeing.\n&quot;</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                                  <span class="stringliteral">&quot;&gt; Select checkpoints to customize path.\n&quot;</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                                  <span class="stringliteral">&quot;&gt; Can bounce off hide sites to extend range.\n\n&quot;</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                                  <span class="stringliteral">&quot;Risk: Very High\n&quot;</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                                  <span class="stringliteral">&quot;Intensity: Brisk\n&quot;</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                                  <span class="stringliteral">&quot;Time: Travel\n&quot;</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                                  <span class="stringliteral">&quot;Positions: %d/3\n&quot;</span> ), npc_list.size() );</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                               entry, npc_list.size() &lt; 3 );</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id, dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; Recover Combat Patrol&quot;</span> ),</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                                    entry, avail );</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        }</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    }</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; </div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;dismantling&quot;</span>,</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                      dir ) ) {  <span class="comment">//  Obsolete (during 0.E), but we still have to be able to process existing missions.</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a9f00b9d7639801ae4af6d494067b8cf5">Camp_Chop_Shop</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id,</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                                    dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; (Finish) Chop Shop&quot;</span> ), entry, avail );</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    std::map&lt;recipe_id, translation&gt; craft_recipes = <a class="code" href="classbasecamp.html#aba6c99a1a18288ac5daa5441414f9241">recipe_deck</a>( dir );</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a5d457dbea03c32f750a06ae20c17fd85">Camp_Crafting</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        <span class="keywordflow">if</span>( npc_list.size() &lt; 3 ) {</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            <a class="code" href="classbasecamp.html#a9553603cb500ef6532765306746a83e0">add_available_recipes</a>( mission_key, <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a5d457dbea03c32f750a06ae20c17fd85">Camp_Crafting</a>, dir, craft_recipes );</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160; </div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        <span class="keywordflow">if</span>( !npc_list.empty() ) {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;            std::map&lt;std::string, comp_list&gt; lists = <a class="code" href="faction__camp_8cpp.html#af07201c9ded628d60961171774fa8b7d">companion_per_recipe_building_type</a>( npc_list );</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160; </div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;            <span class="keywordflow">for</span>( std::pair&lt;std::string, comp_list&gt; npcs : lists ) {</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                <span class="keyword">const</span> std::string bldg = npcs.first;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> = npcs.second.at( 0 )-&gt;get_companion_mission().miss_id.parameters;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                <span class="keywordtype">bool</span> avail = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                entry.clear();</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160; </div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                <span class="comment">//  Room for moving the match of recipe group &#39;building_type&#39; to return string into JSON</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                std::string return_craft;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                <span class="keywordflow">if</span>( bldg == <a class="code" href="faction__camp_8cpp.html#ae3fd35da2c0aef4cb531d3fa95f602fd">base_recipe_group_string</a> ) {</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                    return_craft = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; (Finish) Crafting&quot;</span> );</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160; </div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( bldg == <a class="code" href="faction__camp_8cpp.html#ae57b6a6695c46566f6ff7a7ddbe5ba7a">cook_recipe_group_string</a> ) {</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                    return_craft = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; (Finish) Cooking&quot;</span> );</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( bldg == <a class="code" href="faction__camp_8cpp.html#a246bca76b972732cfb8a9fc099a37a6c">farm_recipe_group_string</a> ) {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                    return_craft = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; (Finish) Crafting&quot;</span> );</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160; </div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( bldg == <a class="code" href="faction__camp_8cpp.html#a89d376cdfabeadaa006d78020d0e7bc9">smith_recipe_group_string</a> ) {</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                    return_craft = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; (Finish) Smithing&quot;</span> );</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                }</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                <span class="keywordflow">else</span> {  <span class="comment">//  No matching recipe group</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                    return_craft = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; (Finish) Crafting&quot;</span> );</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                }</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                <span class="keywordflow">for</span>( <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> &amp;comp : npcs.second ) {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">bool</span> done = comp-&gt;companion_mission_time_ret &lt; <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                    avail |= done;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                    entry += comp-&gt;get_name() + <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                    <span class="keywordflow">if</span>( done ) {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                        entry += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;[DONE]\n&quot;</span> );</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                        entry += <span class="stringliteral">&quot; [&quot;</span> +</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                                 <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a>( comp-&gt;companion_mission_time_ret - <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) +</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                                 <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; left] &quot;</span> ) + <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                    }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                }</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160; </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id,</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                                        dir_abbr + return_craft, entry, avail );</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;            }</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        }</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160; </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <span class="keywordflow">if</span>( !mission_key.<a class="code" href="classmission__data.html#ad13199bfe80d27b12862ce35f90de71d">entries</a>[<span class="keywordtype">size_t</span>( <a class="code" href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a>.at( dir ).tab_order ) + 1].empty() ||</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;            ( !<a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>.empty() &amp;&amp;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;              !<a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[<span class="keywordtype">size_t</span>( <a class="code" href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a>.at( dir ).tab_order )].empty() ) ) {</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;            {</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a76204a00c88b884497414b96d39f0b2a">Camp_Hide_Mission</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Hide one or more missions to clean up the UI.&quot;</span> ) );</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                mission_key.<a class="code" href="classmission__data.html#ad95c9e268e80ff644aa670b93ed493c7">add</a>( { miss_id, <span class="keyword">false</span> }, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                                 entry );</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            }</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;            {</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                <span class="keywordflow">if</span>( !<a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>.empty() ) {</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                    count = <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[<a class="code" href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a>.at( dir ).tab_order].size();</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                }</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160; </div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a61cf4beb9bae90f8020f951768a8bfcb">Camp_Reveal_Mission</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                entry = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Reveal one or more missions previously hidden.\n&quot;</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                                          <span class="stringliteral">&quot;Current number of hidden missions: %d&quot;</span> ),</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                                       count );</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                mission_key.<a class="code" href="classmission__data.html#ad95c9e268e80ff644aa670b93ed493c7">add</a>( { miss_id, <span class="keyword">false</span> }, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                                 entry, <span class="keyword">false</span>, count != 0 );</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            }</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        }</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    }</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160; </div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;farming&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        <span class="keywordtype">size_t</span> plots = 0;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aea7bf0864ae107743e8d1b018a8115f9">Camp_Plow</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <span class="keywordflow">if</span>( npc_list.empty() ) {</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;            entry = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                       <span class="stringliteral">&quot;Plow any spaces that have reverted to dirt or grass.\n\n&quot;</span> ) +</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                    <a class="code" href="classbasecamp.html#a62af31c7aff0008fb191ff0be96d4675">farm_description</a>( omt_trg, plots, <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a2e2f5b37ef2f410d6f61665798ec0a5d">farm_ops::plow</a> ) +</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;\n\n&quot;</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;                       <span class="stringliteral">&quot;Skill used: fabrication\n&quot;</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                       <span class="stringliteral">&quot;Difficulty: N/A\n&quot;</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                       <span class="stringliteral">&quot;Effects:\n&quot;</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                       <span class="stringliteral">&quot;&gt; Restores only the plots created in the last expansion upgrade.\n&quot;</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                       <span class="stringliteral">&quot;&gt; Does not damage existing crops.\n\n&quot;</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                       <span class="stringliteral">&quot;Risk: None\n&quot;</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                       <span class="stringliteral">&quot;Intensity: Moderate\n&quot;</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                       <span class="stringliteral">&quot;Time: 5 Min / Plot\n&quot;</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                       <span class="stringliteral">&quot;Positions: 0/1\n&quot;</span> );</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id, <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ),</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                                   entry, plots &gt; 0 );</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id,</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                                    dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; (Finish) Plow fields&quot;</span> ), entry, avail );</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        }</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    }</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;farming&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        <span class="keywordtype">size_t</span> plots = 0;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a913bca7a664f619b40909d0e7c5fa9bf">Camp_Plant</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <span class="keywordflow">if</span>( npc_list.empty() ) {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            entry = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                       <span class="stringliteral">&quot;Plant designated seeds in the spaces that have already been &quot;</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                       <span class="stringliteral">&quot;tilled.\n\n&quot;</span> ) +</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                    <a class="code" href="classbasecamp.html#a62af31c7aff0008fb191ff0be96d4675">farm_description</a>( omt_trg, plots, <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a9ea0a36b3a20901fafe834eb519a595c">farm_ops::plant</a> ) +</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;\n\n&quot;</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                       <span class="stringliteral">&quot;Skill used: survival\n&quot;</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                       <span class="stringliteral">&quot;Difficulty: N/A\n&quot;</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                       <span class="stringliteral">&quot;Effects:\n&quot;</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                       <span class="stringliteral">&quot;&gt; Choose which seed type or all of your seeds.\n&quot;</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;                       <span class="stringliteral">&quot;&gt; Stops when out of seeds or planting locations.\n&quot;</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                       <span class="stringliteral">&quot;&gt; Will plant in ALL dirt mounds in the expansion.\n\n&quot;</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                       <span class="stringliteral">&quot;Risk: None\n&quot;</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                       <span class="stringliteral">&quot;Intensity: Moderate\n&quot;</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                       <span class="stringliteral">&quot;Time: 1 Min / Plot\n&quot;</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                       <span class="stringliteral">&quot;Positions: 0/1\n&quot;</span> );</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id,</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                                   <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ), entry,</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                                   plots &gt; 0 &amp;&amp; <a class="code" href="group__Weather.html#gadb21721b572a715148778ab71405819a">warm_enough_to_plant</a>( omt_trg ) );</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id,</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                                    dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; (Finish) Plant Fields&quot;</span> ), entry, avail );</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        }</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    }</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;farming&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        <span class="keywordtype">size_t</span> plots = 0;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__id.html">mission_id</a> miss_id = { <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a332c22fbdcb568f67e691b1445ed4387">Camp_Harvest</a>, <span class="stringliteral">&quot;&quot;</span>, {}, dir };</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <span class="keywordflow">if</span>( npc_list.empty() ) {</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            entry = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                       <span class="stringliteral">&quot;Harvest any plants that are ripe and bring the produce back.\n\n&quot;</span> ) +</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                    <a class="code" href="classbasecamp.html#a62af31c7aff0008fb191ff0be96d4675">farm_description</a>( omt_trg, plots, <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a430e39cf0eec69892a0fdb6b0dc4aa70">farm_ops::harvest</a> ) +</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;\n\n&quot;</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                       <span class="stringliteral">&quot;Skill used: survival\n&quot;</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                       <span class="stringliteral">&quot;Difficulty: N/A\n&quot;</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                       <span class="stringliteral">&quot;Effects:\n&quot;</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                       <span class="stringliteral">&quot;&gt; Will dump all harvesting products onto your location.\n\n&quot;</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                       <span class="stringliteral">&quot;Risk: None\n&quot;</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                       <span class="stringliteral">&quot;Intensity: Moderate\n&quot;</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                       <span class="stringliteral">&quot;Time: 3 Min / Plot\n&quot;</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                       <span class="stringliteral">&quot;Positions: 0/1\n&quot;</span> );</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a606b9367ea2680a23fb88f46913765f7">add_start</a>( miss_id,</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                                   <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id ), entry,</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                                   plots &gt; 0 );</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;            entry = <a class="code" href="mission__companion_8cpp.html#a23f4bee4438c84e67b7eb225a0023403">action_of</a>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> );</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            <span class="keywordtype">bool</span> avail = <a class="code" href="faction__camp_8cpp.html#ae7dfe49c2a6765b3e91b58c545448fc8">update_time_left</a>( entry, npc_list );</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;            mission_key.<a class="code" href="classmission__data.html#a419eb63f9d6cc748ab31d4f7f1ff8e5d">add_return</a>( miss_id,</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                                    dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; (Finish) Harvest Fields&quot;</span> ), entry, avail );</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        }</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    }</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a32e3db9be879ad31f4b2ebb79bcb208a"><div class="ttname"><a href="classbasecamp.html#a32e3db9be879ad31f4b2ebb79bcb208a">basecamp::available_upgrades</a></div><div class="ttdeci">std::vector&lt; basecamp_upgrade &gt; available_upgrades(const point &amp;dir)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00322">basecamp.cpp:322</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a62af31c7aff0008fb191ff0be96d4675"><div class="ttname"><a href="classbasecamp.html#a62af31c7aff0008fb191ff0be96d4675">basecamp::farm_description</a></div><div class="ttdeci">std::string farm_description(const tripoint_abs_omt &amp;farm_pos, size_t &amp;plots_count, farm_ops operation)</div><div class="ttdoc">Returns a string for the number of plants that are harvestable, plots ready to plant,...</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05492">faction_camp.cpp:5492</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a756bb73b0f45a91a6a2bb9a1b59ebde0"><div class="ttname"><a href="classbasecamp.html#a756bb73b0f45a91a6a2bb9a1b59ebde0">basecamp::om_upgrade_description</a></div><div class="ttdeci">std::string om_upgrade_description(const std::string &amp;bldg, const mapgen_arguments &amp;, bool trunc=false) const</div><div class="ttdoc">Returns the description for the recipe of the next building bldg.</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00219">basecamp.cpp:219</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a850afa4ba15ff2922b3576a3e24e75d3"><div class="ttname"><a href="classbasecamp.html#a850afa4ba15ff2922b3576a3e24e75d3">basecamp::recruit_description</a></div><div class="ttdeci">std::string recruit_description(int npc_count) const</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05441">faction_camp.cpp:5441</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a9553603cb500ef6532765306746a83e0"><div class="ttname"><a href="classbasecamp.html#a9553603cb500ef6532765306746a83e0">basecamp::add_available_recipes</a></div><div class="ttdeci">void add_available_recipes(mission_data &amp;mission_key, mission_kind kind, const point &amp;dir, const std::map&lt; recipe_id, translation &gt; &amp;craft_recipes)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00771">faction_camp.cpp:771</a></div></div>
<div class="ttc" id="aclassbasecamp_html_aba6c99a1a18288ac5daa5441414f9241"><div class="ttname"><a href="classbasecamp.html#aba6c99a1a18288ac5daa5441414f9241">basecamp::recipe_deck</a></div><div class="ttdeci">std::map&lt; recipe_id, translation &gt; recipe_deck(const point &amp;dir) const</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00388">basecamp.cpp:388</a></div></div>
<div class="ttc" id="aclassbasecamp_html_abc18e5c9003168f5b9da5756d2b77243"><div class="ttname"><a href="classbasecamp.html#abc18e5c9003168f5b9da5756d2b77243">basecamp::gathering_description</a></div><div class="ttdeci">std::string gathering_description()</div><div class="ttdoc">Provides a &quot;guess&quot; for some of the things your gatherers will return with to upgrade the camp.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05467">faction_camp.cpp:5467</a></div></div>
<div class="ttc" id="aclasstime__duration_html_aacd074821aecb38a24d9ce6ca42a9127"><div class="ttname"><a href="classtime__duration.html#aacd074821aecb38a24d9ce6ca42a9127">time_duration::from_moves</a></div><div class="ttdeci">static constexpr time_duration from_moves(const T t)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00225">calendar.h:225</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a0f25678be1fc95cb81381a004493a4cc"><div class="ttname"><a href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a></div><div class="ttdeci">std::string colorize(const std::string &amp;text, const nc_color &amp;color)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00742">color.cpp:742</a></div></div>
<div class="ttc" id="acolor_8h_html_a1cb87e74156596960610fd0a9ace766d"><div class="ttname"><a href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a></div><div class="ttdeci">#define c_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00020">color.h:20</a></div></div>
<div class="ttc" id="acolor_8h_html_af0a87eaef36305269f4506dfa34d94c0"><div class="ttname"><a href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a></div><div class="ttdeci">#define c_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00019">color.h:19</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a1ec212aa34f7a326731cb17046d9940d"><div class="ttname"><a href="faction__camp_8cpp.html#a1ec212aa34f7a326731cb17046d9940d">update_time_fixed</a></div><div class="ttdeci">static bool update_time_fixed(std::string &amp;entry, const comp_list &amp;npc_list, const time_duration &amp;duration)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00508">faction_camp.cpp:508</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a246bca76b972732cfb8a9fc099a37a6c"><div class="ttname"><a href="faction__camp_8cpp.html#a246bca76b972732cfb8a9fc099a37a6c">farm_recipe_group_string</a></div><div class="ttdeci">static const std::string farm_recipe_group_string</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00213">faction_camp.cpp:213</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a60d0faa2ebc5d6d09785b41e0534a938"><div class="ttname"><a href="faction__camp_8cpp.html#a60d0faa2ebc5d6d09785b41e0534a938">camp_om_fortifications_spiked_trench_parameter</a></div><div class="ttdeci">static const std::string camp_om_fortifications_spiked_trench_parameter</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00200">faction_camp.cpp:200</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a8125d8f588f515676565b9e70e69afab"><div class="ttname"><a href="faction__camp_8cpp.html#a8125d8f588f515676565b9e70e69afab">camp_om_fortifications_trench_parameter</a></div><div class="ttdeci">static const std::string camp_om_fortifications_trench_parameter</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00199">faction_camp.cpp:199</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a89d376cdfabeadaa006d78020d0e7bc9"><div class="ttname"><a href="faction__camp_8cpp.html#a89d376cdfabeadaa006d78020d0e7bc9">smith_recipe_group_string</a></div><div class="ttdeci">static const std::string smith_recipe_group_string</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00214">faction_camp.cpp:214</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_aa03fd35c1923b773c7affa5046db3226"><div class="ttname"><a href="faction__camp_8cpp.html#aa03fd35c1923b773c7affa5046db3226">faction_wall_level_n_1_string</a></div><div class="ttdeci">static const std::string faction_wall_level_n_1_string</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00193">faction_camp.cpp:193</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_ae3fd35da2c0aef4cb531d3fa95f602fd"><div class="ttname"><a href="faction__camp_8cpp.html#ae3fd35da2c0aef4cb531d3fa95f602fd">base_recipe_group_string</a></div><div class="ttdeci">static const std::string base_recipe_group_string</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00211">faction_camp.cpp:211</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_ae57b6a6695c46566f6ff7a7ddbe5ba7a"><div class="ttname"><a href="faction__camp_8cpp.html#ae57b6a6695c46566f6ff7a7ddbe5ba7a">cook_recipe_group_string</a></div><div class="ttdeci">static const std::string cook_recipe_group_string</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00212">faction_camp.cpp:212</a></div></div>
<div class="ttc" id="agroup__Weather_html_gadb21721b572a715148778ab71405819a"><div class="ttname"><a href="group__Weather.html#gadb21721b572a715148778ab71405819a">warm_enough_to_plant</a></div><div class="ttdeci">bool warm_enough_to_plant(const tripoint &amp;pos)</div><div class="ttdoc">Is it warm enough to plant seeds?</div><div class="ttdef"><b>Definition:</b> <a href="weather_8cpp_source.html#l00875">weather.cpp:875</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a10f274066c4806a92ec9fa150366e75a"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a10f274066c4806a92ec9fa150366e75a">Camp_Scouting</a></div><div class="ttdeci">@ Camp_Scouting</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00075">mission_companion.h:75</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a31f2ca3f041871757c561b0cae0ef5a5"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a31f2ca3f041871757c561b0cae0ef5a5">Camp_Recruiting</a></div><div class="ttdeci">@ Camp_Recruiting</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00074">mission_companion.h:74</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a3dc190cb0632938b32137660d1602f12"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a3dc190cb0632938b32137660d1602f12">Camp_OM_Fortifications</a></div><div class="ttdeci">@ Camp_OM_Fortifications</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00073">mission_companion.h:73</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a5d457dbea03c32f750a06ae20c17fd85"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a5d457dbea03c32f750a06ae20c17fd85">Camp_Crafting</a></div><div class="ttdeci">@ Camp_Crafting</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00060">mission_companion.h:60</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a75c8d3203f3977eb52c449f8d728890f"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a75c8d3203f3977eb52c449f8d728890f">Camp_Menial</a></div><div class="ttdeci">@ Camp_Menial</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00063">mission_companion.h:63</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a76204a00c88b884497414b96d39f0b2a"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a76204a00c88b884497414b96d39f0b2a">Camp_Hide_Mission</a></div><div class="ttdeci">@ Camp_Hide_Mission</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00053">mission_companion.h:53</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a85d05fa81e3e46a06d2ba654f3df857e"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a85d05fa81e3e46a06d2ba654f3df857e">Camp_Clearcut</a></div><div class="ttdeci">@ Camp_Clearcut</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00067">mission_companion.h:67</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a9f00b9d7639801ae4af6d494067b8cf5"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a9f00b9d7639801ae4af6d494067b8cf5">Camp_Chop_Shop</a></div><div class="ttdeci">@ Camp_Chop_Shop</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00077">mission_companion.h:77</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6ab1460bad98da808c1366ffe147aa5bd9"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6ab1460bad98da808c1366ffe147aa5bd9">Camp_Setup_Hide_Site</a></div><div class="ttdeci">@ Camp_Setup_Hide_Site</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00068">mission_companion.h:68</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6abda6992194fe3f7300dee70a735748c1"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6abda6992194fe3f7300dee70a735748c1">Camp_Cut_Logs</a></div><div class="ttdeci">@ Camp_Cut_Logs</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00066">mission_companion.h:66</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6af02810837b1f81122a2eb5f55da74fcd"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6af02810837b1f81122a2eb5f55da74fcd">Camp_Relay_Hide_Site</a></div><div class="ttdeci">@ Camp_Relay_Hide_Site</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00069">mission_companion.h:69</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_a2977c9de4facc3c02306e04befc4f40c"><div class="ttname"><a href="namespacebase__camps.html#a2977c9de4facc3c02306e04befc4f40c">base_camps::expansion_string</a></div><div class="ttdeci">static const translation expansion_string</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00225">faction_camp.cpp:225</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_a725e5396d470166fd682ffb844f2d992"><div class="ttname"><a href="namespacebase__camps.html#a725e5396d470166fd682ffb844f2d992">base_camps::recover_ally_string</a></div><div class="ttdeci">static const translation recover_ally_string</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00224">faction_camp.cpp:224</a></div></div>
<div class="ttc" id="anamespacespell__effect_html_a73847499d33121194a7a79af77067788"><div class="ttname"><a href="namespacespell__effect.html#a73847499d33121194a7a79af77067788">spell_effect::upgrade</a></div><div class="ttdeci">void upgrade(const spell &amp;sp, Creature &amp;caster, const tripoint &amp;target)</div><div class="ttdef"><b>Definition:</b> <a href="magic__spell__effect_8cpp_source.html#l01485">magic_spell_effect.cpp:1485</a></div></div>
<div class="ttc" id="astructbasecamp__upgrade_html"><div class="ttname"><a href="structbasecamp__upgrade.html">basecamp_upgrade</a></div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00127">basecamp.h:127</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="mission__companion_8cpp_source.html#l00391">action_of()</a>, <a class="el" href="mission__companion_8cpp_source.html#l02885">mission_data::add()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00771">add_available_recipes()</a>, <a class="el" href="mission__companion_8cpp_source.html#l02875">mission_data::add_return()</a>, <a class="el" href="mission__companion_8cpp_source.html#l02880">mission_data::add_start()</a>, <a class="el" href="basecamp_8cpp_source.html#l00047">base_camps::all_directions</a>, <a class="el" href="basecamp_8cpp_source.html#l00322">available_upgrades()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00211">base_recipe_group_string</a>, <a class="el" href="recipe_8cpp_source.html#l01404">recipe::blueprint_build_reqs()</a>, <a class="el" href="color_8h_source.html#l00020">c_green</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="mission__companion_8h_source.html#l00077">Camp_Chop_Shop</a>, <a class="el" href="mission__companion_8h_source.html#l00067">Camp_Clearcut</a>, <a class="el" href="mission__companion_8h_source.html#l00062">Camp_Collect_Firewood</a>, <a class="el" href="mission__companion_8h_source.html#l00076">Camp_Combat_Patrol</a>, <a class="el" href="mission__companion_8h_source.html#l00060">Camp_Crafting</a>, <a class="el" href="mission__companion_8h_source.html#l00066">Camp_Cut_Logs</a>, <a class="el" href="mission__companion_8h_source.html#l00070">Camp_Foraging</a>, <a class="el" href="mission__companion_8h_source.html#l00061">Camp_Gather_Materials</a>, <a class="el" href="mission__companion_8h_source.html#l00080">Camp_Harvest</a>, <a class="el" href="mission__companion_8h_source.html#l00053">Camp_Hide_Mission</a>, <a class="el" href="mission__companion_8h_source.html#l00072">Camp_Hunting</a>, <a class="el" href="mission__companion_8h_source.html#l00063">Camp_Menial</a>, <a class="el" href="mission__companion_8h_source.html#l00073">Camp_OM_Fortifications</a>, <a class="el" href="faction__camp_8cpp_source.html#l00200">camp_om_fortifications_spiked_trench_parameter</a>, <a class="el" href="faction__camp_8cpp_source.html#l00199">camp_om_fortifications_trench_parameter</a>, <a class="el" href="mission__companion_8h_source.html#l00079">Camp_Plant</a>, <a class="el" href="mission__companion_8h_source.html#l00078">Camp_Plow</a>, <a class="el" href="mission__companion_8h_source.html#l00074">Camp_Recruiting</a>, <a class="el" href="mission__companion_8h_source.html#l00069">Camp_Relay_Hide_Site</a>, <a class="el" href="mission__companion_8h_source.html#l00054">Camp_Reveal_Mission</a>, <a class="el" href="mission__companion_8h_source.html#l00075">Camp_Scouting</a>, <a class="el" href="mission__companion_8h_source.html#l00068">Camp_Setup_Hide_Site</a>, <a class="el" href="mission__companion_8h_source.html#l00071">Camp_Trapping</a>, <a class="el" href="mission__companion_8h_source.html#l00058">Camp_Upgrade</a>, <a class="el" href="color_8cpp_source.html#l00742">colorize()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00469">companion_per_recipe_building_type()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00212">cook_recipe_group_string</a>, <a class="el" href="mission__companion_8h_source.html#l00136">mission_data::entries</a>, <a class="el" href="recipe_8cpp_source.html#l01140">recipe::exertion_level()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00225">base_camps::expansion_string</a>, <a class="el" href="faction__camp_8cpp_source.html#l00664">fac()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00192">faction_wall_level_n_0_string</a>, <a class="el" href="faction__camp_8cpp_source.html#l00193">faction_wall_level_n_1_string</a>, <a class="el" href="faction__camp_8cpp_source.html#l05492">farm_description()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00213">farm_recipe_group_string</a>, <a class="el" href="faction_8h_source.html#l00116">faction_template::food_supply</a>, <a class="el" href="calendar_8h_source.html#l00225">time_duration::from_moves()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05467">gathering_description()</a>, <a class="el" href="basecamp_8cpp_source.html#l00597">get_mission_workers()</a>, <a class="el" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a430e39cf0eec69892a0fdb6b0dc4aa70">harvest</a>, <a class="el" href="basecamp_8cpp_source.html#l00288">has_provides()</a>, <a class="el" href="basecamp_8h_source.html#l00196">hidden_missions</a>, <a class="el" href="mission__companion_8h_source.html#l00104">mission_id::id</a>, <a class="el" href="stomach_8cpp_source.html#l00118">nutrients::kcal()</a>, <a class="el" href="mission__companion_8h_source.html#l00106">mission_id::mapgen_args</a>, <a class="el" href="faction__camp_8cpp_source.html#l05794">name_display_of()</a>, <a class="el" href="basecamp_8cpp_source.html#l00219">om_upgrade_description()</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="mission__companion_8h_source.html#l00105">mission_id::parameters</a>, <a class="el" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a9ea0a36b3a20901fafe834eb519a595c">plant</a>, <a class="el" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a2e2f5b37ef2f410d6f61665798ec0a5d">plow</a>, <a class="el" href="basecamp_8cpp_source.html#l00388">recipe_deck()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00224">base_camps::recover_ally_string</a>, <a class="el" href="faction__camp_8cpp_source.html#l05441">recruit_description()</a>, <a class="el" href="build__reqs_8h_source.html#l00038">parameterized_build_reqs::reqs_by_parameters</a>, <a class="el" href="faction__camp_8cpp_source.html#l00214">smith_recipe_group_string</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05644">time_to_food()</a>, <a class="el" href="calendar_8cpp_source.html#l00546">to_string()</a>, <a class="el" href="basecamp_8cpp_source.html#l00092">base_camps::to_workdays()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="faction__camp_8cpp_source.html#l00508">update_time_fixed()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00486">update_time_left()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01485">spell_effect::upgrade()</a>, and <a class="el" href="weather_8cpp_source.html#l00875">warm_enough_to_plant()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01393">get_available_missions()</a>.</p>

</div>
</div>
<a id="ab11f768b4bb03073257d817875de4178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab11f768b4bb03073257d817875de4178">&#9670;&nbsp;</a></span>get_bb_pos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtripoint.html">tripoint</a> basecamp::get_bb_pos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00181">181</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                                    {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#a0dc4ec3c6a2dc8c59a46364c6df93525">bb_pos</a>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00492">bb_pos</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l03289">npc::worker_downtime()</a>.</p>

</div>
</div>
<a id="aada281e7799622225de08dd341bdd2f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aada281e7799622225de08dd341bdd2f6">&#9670;&nbsp;</a></span>get_camp_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmap.html">map</a> &amp; basecamp::get_camp_map </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00790">790</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;{</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#ac74df444febf86c4bef85f88f2d94d65">by_radio</a> ) {</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classbasecamp.html#ac6de0d0880ef088a0beceaf4fbf2d861">camp_map</a>.<a class="code" href="classbasecamp__map.html#af09bf3388dd41f2f0d4e21058d2bf19c">map_</a> ) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            <a class="code" href="classbasecamp.html#ac6de0d0880ef088a0beceaf4fbf2d861">camp_map</a>.<a class="code" href="classbasecamp__map.html#af09bf3388dd41f2f0d4e21058d2bf19c">map_</a> = std::make_unique&lt;map&gt;();</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            <a class="code" href="classbasecamp.html#ac6de0d0880ef088a0beceaf4fbf2d861">camp_map</a>.<a class="code" href="classbasecamp__map.html#af09bf3388dd41f2f0d4e21058d2bf19c">map_</a>-&gt;load( project_to&lt;coords::sm&gt;( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a> ) - <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 5, 5 ), <span class="keyword">false</span> );</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="keywordflow">return</span> *<a class="code" href="classbasecamp.html#ac6de0d0880ef088a0beceaf4fbf2d861">camp_map</a>.<a class="code" href="classbasecamp__map.html#af09bf3388dd41f2f0d4e21058d2bf19c">map_</a>;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    }</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp__map_html_af09bf3388dd41f2f0d4e21058d2bf19c"><div class="ttname"><a href="classbasecamp__map.html#af09bf3388dd41f2f0d4e21058d2bf19c">basecamp_map::map_</a></div><div class="ttdeci">std::unique_ptr&lt; map &gt; map_</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00151">basecamp.h:151</a></div></div>
<div class="ttc" id="aclassbasecamp_html_ac6de0d0880ef088a0beceaf4fbf2d861"><div class="ttname"><a href="classbasecamp.html#ac6de0d0880ef088a0beceaf4fbf2d861">basecamp::camp_map</a></div><div class="ttdeci">basecamp_map camp_map</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00495">basecamp.h:495</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00506">by_radio</a>, <a class="el" href="basecamp_8h_source.html#l00495">camp_map</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="basecamp_8h_source.html#l00151">basecamp_map::map_</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, and <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00747">talk_function::basecamp_mission()</a>, <a class="el" href="basecamp_8cpp_source.html#l00924">basecamp_action_components::consume_components()</a>, <a class="el" href="basecamp_8cpp_source.html#l00826">form_crafting_inventory()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05964">place_results()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l01975">start_mission()</a>.</p>

</div>
</div>
<a id="a73460c18ede5441db580438105fed234"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73460c18ede5441db580438105fed234">&#9670;&nbsp;</a></span>get_dumping_spot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>&amp; basecamp::get_dumping_spot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00302">302</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                                                               {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#ab4ba9e037b763ac9cb5d0aaf0ede847c">dumping_spot</a>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00496">dumping_spot</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l05676">distribute_food()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l05964">place_results()</a>.</p>

</div>
</div>
<a id="a3e2da69c0fb7cc1be2824220de4d733a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e2da69c0fb7cc1be2824220de4d733a">&#9670;&nbsp;</a></span>get_equipment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="activity__item__handling_8cpp.html#a14dcded7a48aa4f96aeecf1e76f8f947">drop_locations</a> basecamp::get_equipment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtinymap.html">tinymap</a> *&#160;</td>
          <td class="paramname"><em>target_bay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>pc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinventory__filter__preset.html">inventory_filter_preset</a> &amp;&#160;</td>
          <td class="paramname"><em>preset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> &amp;&#160;</td>
          <td class="paramname"><em>total_volume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> &amp;&#160;</td>
          <td class="paramname"><em>total_mass</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05241">5241</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;{</div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;    <span class="keyword">auto</span> make_raw_stats = [&amp;total_volume,</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;                           &amp;total_mass]( <span class="keyword">const</span> std::vector&lt;std::pair&lt;item_location, int&gt;&gt; &amp;locs</div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;    ) {</div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;        total_volume = 0_ml;</div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;pair : locs ) {</div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;            total_volume += pair.first-&gt;volume( <span class="keyword">false</span>, <span class="keyword">true</span>, pair.second );</div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;        }</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160; </div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;        total_mass = 0_gram;</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;pair : locs ) {</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;            total_mass += pair.first-&gt;weight();</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;        }</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160; </div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;        <span class="keyword">auto</span> <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a> = []( <span class="keywordtype">int</span> val ) -&gt; std::string {</div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;            <span class="keywordflow">if</span>( val == INT_MAX )</div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;            {</div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;short for infinity&quot;</span>, <span class="stringliteral">&quot;inf&quot;</span> );</div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;            }</div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%3d&quot;</span>, val );</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;        };</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;        <span class="keyword">using</span> <a class="code" href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a9cb33f7a7315d3cd8c5cf886691982b3a446501053769c06c565094b26d26e8ef">stats</a> = <a class="code" href="classinventory__selector.html#a67f8317d706e28a92df0372ec6f2920a">inventory_selector::stats</a>;</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a9cb33f7a7315d3cd8c5cf886691982b3a446501053769c06c565094b26d26e8ef">stats</a>{ {</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;                <a class="code" href="inventory__ui_8cpp.html#a1ffa2a35d817b4e75b5584f9e4bedc60">display_stat</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Volume (L)&quot;</span> ), total_volume.<a class="code" href="classunits_1_1quantity.html#a96f3f957dba2ea5583a55060ffa04363">value</a>() / 1000, INT_MAX, <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a> ),</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;                <a class="code" href="inventory__ui_8cpp.html#a1ffa2a35d817b4e75b5584f9e4bedc60">display_stat</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Weight (kg)&quot;</span> ), total_mass.<a class="code" href="classunits_1_1quantity.html#a96f3f957dba2ea5583a55060ffa04363">value</a>() / 1000000, INT_MAX, <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a> )</div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;            } };</div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;    };</div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160; </div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;    <a class="code" href="classinventory__multiselector.html">inventory_multiselector</a> inv_s( *pc, preset, msg,</div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;                                   make_raw_stats, <span class="comment">/*allow_select_contained =*/</span> <span class="keyword">true</span> );</div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160; </div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;    inv_s.add_remote_map_items( target_bay, target );</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;    inv_s.set_title( <a class="code" href="namespacemusic.html#a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220">title</a> );</div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;    inv_s.set_hint( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;To select items, type a number before selecting.&quot;</span> ) );</div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160; </div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;    <span class="keywordflow">if</span>( inv_s.empty() ) {</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( std::string( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You have nothing to retrieve.&quot;</span> ) ), <a class="code" href="output_8h.html#ab214b85345aeab978acdcea0250f27f5ad0065579023647501fcb0f076a1c5240">PF_GET_KEY</a> );</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;        <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;    }</div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;    <a class="code" href="activity__item__handling_8cpp.html#a14dcded7a48aa4f96aeecf1e76f8f947">drop_locations</a> selected = inv_s.execute();</div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;    <span class="keywordflow">return</span> selected;</div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;}</div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a14dcded7a48aa4f96aeecf1e76f8f947"><div class="ttname"><a href="activity__item__handling_8cpp.html#a14dcded7a48aa4f96aeecf1e76f8f947">drop_locations</a></div><div class="ttdeci">std::list&lt; std::pair&lt; item_location, int &gt; &gt; drop_locations</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00184">activity_item_handling.cpp:184</a></div></div>
<div class="ttc" id="aclassinventory__multiselector_html"><div class="ttname"><a href="classinventory__multiselector.html">inventory_multiselector</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory__ui_8h_source.html#l00961">inventory_ui.h:962</a></div></div>
<div class="ttc" id="aclassinventory__selector_html_a67f8317d706e28a92df0372ec6f2920a"><div class="ttname"><a href="classinventory__selector.html#a67f8317d706e28a92df0372ec6f2920a">inventory_selector::stats</a></div><div class="ttdeci">std::array&lt; stat, 3 &gt; stats</div><div class="ttdef"><b>Definition:</b> <a href="inventory__ui_8h_source.html#l00675">inventory_ui.h:675</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html_a96f3f957dba2ea5583a55060ffa04363"><div class="ttname"><a href="classunits_1_1quantity.html#a96f3f957dba2ea5583a55060ffa04363">units::quantity::value</a></div><div class="ttdeci">constexpr const value_type &amp; value() const</div><div class="ttdoc">Access the raw dimensionless value.</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00060">units.h:60</a></div></div>
<div class="ttc" id="ainventory__ui_8cpp_html_a1ffa2a35d817b4e75b5584f9e4bedc60"><div class="ttname"><a href="inventory__ui_8cpp.html#a1ffa2a35d817b4e75b5584f9e4bedc60">display_stat</a></div><div class="ttdeci">inventory_selector::stat display_stat(const std::string &amp;caption, int cur_value, int max_value, const std::function&lt; std::string(int)&gt; &amp;disp_func)</div><div class="ttdef"><b>Definition:</b> <a href="inventory__ui_8cpp_source.html#l02509">inventory_ui.cpp:2509</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02player__display_8cpp_03_html_a9cb33f7a7315d3cd8c5cf886691982b3a446501053769c06c565094b26d26e8ef"><div class="ttname"><a href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a9cb33f7a7315d3cd8c5cf886691982b3a446501053769c06c565094b26d26e8ef">anonymous_namespace{player_display.cpp}::player_display_tab::stats</a></div><div class="ttdeci">@ stats</div></div>
<div class="ttc" id="anamespacemusic_html_a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220"><div class="ttname"><a href="namespacemusic.html#a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220">music::title</a></div><div class="ttdeci">@ title</div><div class="ttdef"><b>Definition:</b> <a href="music_8h_source.html#l00014">music.h:14</a></div></div>
<div class="ttc" id="aoutput_8h_html_ab214b85345aeab978acdcea0250f27f5ad0065579023647501fcb0f076a1c5240"><div class="ttname"><a href="output_8h.html#ab214b85345aeab978acdcea0250f27f5ad0065579023647501fcb0f076a1c5240">PF_GET_KEY</a></div><div class="ttdeci">@ PF_GET_KEY</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00476">output.h:476</a></div></div>
<div class="ttc" id="atranslations_8h_html_a46bdf4dff9d320938561cade1c9a5f7e"><div class="ttname"><a href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a></div><div class="ttdeci">#define pgettext(STRING1, STRING2)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00092">translations.h:92</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="inventory__ui_8cpp_source.html#l02164">inventory_selector::add_remote_map_items()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l02509">display_stat()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l02885">inventory_selector::empty()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l03705">inventory_multiselector::execute()</a>, <a class="el" href="output_8h_source.html#l00476">PF_GET_KEY</a>, <a class="el" href="translations_8h_source.html#l00092">pgettext</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="inventory__ui_8h_source.html#l00630">inventory_selector::set_hint()</a>, <a class="el" href="inventory__ui_8h_source.html#l00626">inventory_selector::set_title()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="music_8h_source.html#l00014">music::title</a>, <a class="el" href="calendar_8cpp_source.html#l00546">to_string()</a>, and <a class="el" href="units_8h_source.html#l00060">units::quantity&lt; V, U &gt;::value()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l02686">start_relay_hide_site()</a>.</p>

</div>
</div>
<a id="a28e4cc544b6944dc778233c428b3510a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28e4cc544b6944dc778233c428b3510a">&#9670;&nbsp;</a></span>get_liquid_dumping_spot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;<a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>&gt;&amp; basecamp::get_liquid_dumping_spot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00305">305</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                                                                                 {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#ac8708d7cbd1043ee22080c9e4e31606c">liquid_dumping_spots</a>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00498">liquid_dumping_spots</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l05964">place_results()</a>.</p>

</div>
</div>
<a id="ae8de3b4b3dcff471756188647b68fc92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8de3b4b3dcff471756188647b68fc92">&#9670;&nbsp;</a></span>get_mission_workers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> basecamp::get_mission_workers </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>contains</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00597">597</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;{</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">available</a>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code" href="classbasecamp.html#aef86b8776b43f65a60a0af1871dc2884">camp_workers</a> ) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <a class="code" href="structnpc__companion__mission.html">npc_companion_mission</a> c_mission = elem-&gt;get_companion_mission();</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="mission__companion_8cpp.html#a2e12565efe5d1faa52a47c8263e9a8b9">is_equal</a>( c_mission.<a class="code" href="structnpc__companion__mission.html#a1abd5de9ed365ae08b0cb1d9675226d5">miss_id</a>, miss_id ) ||</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            ( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a857af22f119fefbfa24769ed2ad6d5e7">contains</a> &amp;&amp; c_mission.<a class="code" href="structnpc__companion__mission.html#a1abd5de9ed365ae08b0cb1d9675226d5">miss_id</a>.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> &amp;&amp;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;              c_mission.<a class="code" href="structnpc__companion__mission.html#a1abd5de9ed365ae08b0cb1d9675226d5">miss_id</a>.<a class="code" href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">dir</a> == miss_id.<a class="code" href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">dir</a> ) ) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">available</a>.push_back( elem );</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">available</a>;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;}</div>
<div class="ttc" id="aenums_8h_html_a02646717f97faa05c11dbda0aac2c716a857af22f119fefbfa24769ed2ad6d5e7"><div class="ttname"><a href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a857af22f119fefbfa24769ed2ad6d5e7">ot_match_type::contains</a></div><div class="ttdeci">@ contains</div></div>
<div class="ttc" id="amission__companion_8cpp_html_a2e12565efe5d1faa52a47c8263e9a8b9"><div class="ttname"><a href="mission__companion_8cpp.html#a2e12565efe5d1faa52a47c8263e9a8b9">is_equal</a></div><div class="ttdeci">bool is_equal(const mission_id &amp;first, const mission_id &amp;second)</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8cpp_source.html#l00396">mission_companion.cpp:396</a></div></div>
<div class="ttc" id="aovermap_8cpp_html_a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb"><div class="ttname"><a href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">join_type::available</a></div><div class="ttdeci">@ available</div></div>
<div class="ttc" id="astructnpc__companion__mission_html_a1abd5de9ed365ae08b0cb1d9675226d5"><div class="ttname"><a href="structnpc__companion__mission.html#a1abd5de9ed365ae08b0cb1d9675226d5">npc_companion_mission::miss_id</a></div><div class="ttdeci">mission_id miss_id</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00188">npc.h:188</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">available</a>, <a class="el" href="basecamp_8h_source.html#l00494">camp_workers</a>, <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a857af22f119fefbfa24769ed2ad6d5e7">contains</a>, <a class="el" href="mission__companion_8h_source.html#l00107">mission_id::dir</a>, <a class="el" href="mission__companion_8h_source.html#l00104">mission_id::id</a>, <a class="el" href="mission__companion_8cpp_source.html#l00396">is_equal()</a>, and <a class="el" href="npc_8h_source.html#l00188">npc_companion_mission::miss_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l03755">companion_crafting_choose_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03840">emergency_recall()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01393">get_available_missions()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00787">get_available_missions_by_dir()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l03875">upgrade_return()</a>.</p>

</div>
</div>
<a id="a79a117bf67d2a527476aa152659632bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79a117bf67d2a527476aa152659632bb">&#9670;&nbsp;</a></span>get_npcs_assigned()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> &gt; basecamp::get_npcs_assigned </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00551">551</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;{</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <a class="code" href="classbasecamp.html#aaabb991fdf80cf5ad1c2eb38b2b6ab84">validate_assignees</a>();</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00490">assigned_npcs</a>, and <a class="el" href="basecamp_8cpp_source.html#l00522">validate_assignees()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l02158">abandon_camp()</a>, <a class="el" href="mission__companion_8cpp_source.html#l02614">talk_function::companion_choose()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l02326">job_assignment_ui()</a>.</p>

</div>
</div>
<a id="a0ef5cb41dc03aeeb6379f63fd8fca569"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ef5cb41dc03aeeb6379f63fd8fca569">&#9670;&nbsp;</a></span>get_owner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basecamp_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> basecamp::get_owner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00821">821</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;{</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#a79b673b1c90a7f62c6fd6dd0658b76bf">owner</a>;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00482">owner</a>.</p>

</div>
</div>
<a id="a93d2fe38f4eb619bc2dd6290f9d68f61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d2fe38f4eb619bc2dd6290f9d68f61">&#9670;&nbsp;</a></span>get_storage_tiles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::unordered_set&lt;<a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>&gt;&amp; basecamp::get_storage_tiles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00466">466</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                                                                                  {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#af79f4de8f8963115c179d1d0174b6115">src_set</a>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00500">src_set</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory__ui_8cpp_source.html#l02174">inventory_selector::add_basecamp_items()</a>.</p>

</div>
</div>
<a id="aac42f942a80ceb0719572543e0a569dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac42f942a80ceb0719572543e0a569dc">&#9670;&nbsp;</a></span>get_storage_zone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;const <a class="el" href="classzone__data.html">zone_data</a> * &gt;&amp; basecamp::get_storage_zone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00459">459</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                                                                             {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#a56d78527800e3e52c36dadfcda71ed2f">storage_zones</a>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00499">storage_zones</a>.</p>

</div>
</div>
<a id="a126bce0fe3b580079e2250c9a9cfdc0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a126bce0fe3b580079e2250c9a9cfdc0a">&#9670;&nbsp;</a></span>give_basecamp_equipment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="activity__item__handling_8cpp.html#a14dcded7a48aa4f96aeecf1e76f8f947">drop_locations</a> basecamp::give_basecamp_equipment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinventory__filter__preset.html">inventory_filter_preset</a> &amp;&#160;</td>
          <td class="paramname"><em>preset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>column_title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>msg_empty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Display items listed in equipment to let the player pick what to give the departing NPC, loops until quit or empty. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05178">5178</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;{</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;    <a class="code" href="classinventory__multiselector.html">inventory_multiselector</a> inv_s( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>(), preset, column_title );</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160; </div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;    inv_s.add_basecamp_items( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;    inv_s.set_title( <a class="code" href="namespacemusic.html#a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220">title</a> );</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160; </div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;    <span class="keywordflow">if</span>( inv_s.empty() ) {</div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( std::string( msg_empty ), <a class="code" href="output_8h.html#ab214b85345aeab978acdcea0250f27f5ad0065579023647501fcb0f076a1c5240">PF_GET_KEY</a> );</div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;        <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;    }</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;    <a class="code" href="activity__item__handling_8cpp.html#a14dcded7a48aa4f96aeecf1e76f8f947">drop_locations</a> selected = inv_s.execute();</div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;    <span class="keywordflow">return</span> selected;</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory__ui_8cpp_source.html#l02174">inventory_selector::add_basecamp_items()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l02885">inventory_selector::empty()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l03705">inventory_multiselector::execute()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="output_8h_source.html#l00476">PF_GET_KEY</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="inventory__ui_8h_source.html#l00626">inventory_selector::set_title()</a>, and <a class="el" href="music_8h_source.html#l00014">music::title</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l03679">start_farm_op()</a>.</p>

</div>
</div>
<a id="a0c73abeb013c066e91b9a85244dfbf94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c73abeb013c066e91b9a85244dfbf94">&#9670;&nbsp;</a></span>give_equipment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="activity__item__handling_8cpp.html#a14dcded7a48aa4f96aeecf1e76f8f947">drop_locations</a> basecamp::give_equipment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>pc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinventory__filter__preset.html">inventory_filter_preset</a> &amp;&#160;</td>
          <td class="paramname"><em>preset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> &amp;&#160;</td>
          <td class="paramname"><em>total_volume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> &amp;&#160;</td>
          <td class="paramname"><em>total_mass</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05194">5194</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;{</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;    <span class="keyword">auto</span> make_raw_stats = [&amp;total_volume,</div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;                           &amp;total_mass]( <span class="keyword">const</span> std::vector&lt;std::pair&lt;item_location, int&gt;&gt; &amp;locs</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;    ) {</div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;        total_volume = 0_ml;</div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;pair : locs ) {</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;            total_volume += pair.first-&gt;volume( <span class="keyword">false</span>, <span class="keyword">true</span>, pair.second );</div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;        }</div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160; </div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;        total_mass = 0_gram;</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;pair : locs ) {</div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;            total_mass += pair.first-&gt;weight();</div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;        }</div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160; </div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;        <span class="keyword">auto</span> <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a> = []( <span class="keywordtype">int</span> val ) -&gt; std::string {</div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;            <span class="keywordflow">if</span>( val == INT_MAX )</div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;            {</div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;short for infinity&quot;</span>, <span class="stringliteral">&quot;inf&quot;</span> );</div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;            }</div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%3d&quot;</span>, val );</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;        };</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;        <span class="keyword">using</span> <a class="code" href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a9cb33f7a7315d3cd8c5cf886691982b3a446501053769c06c565094b26d26e8ef">stats</a> = <a class="code" href="classinventory__selector.html#a67f8317d706e28a92df0372ec6f2920a">inventory_selector::stats</a>;</div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a9cb33f7a7315d3cd8c5cf886691982b3a446501053769c06c565094b26d26e8ef">stats</a>{ {</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;                <a class="code" href="inventory__ui_8cpp.html#a1ffa2a35d817b4e75b5584f9e4bedc60">display_stat</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Volume (L)&quot;</span> ), total_volume.<a class="code" href="classunits_1_1quantity.html#a96f3f957dba2ea5583a55060ffa04363">value</a>() / 1000, INT_MAX, <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a> ),</div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;                <a class="code" href="inventory__ui_8cpp.html#a1ffa2a35d817b4e75b5584f9e4bedc60">display_stat</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Weight (kg)&quot;</span> ), total_mass.<a class="code" href="classunits_1_1quantity.html#a96f3f957dba2ea5583a55060ffa04363">value</a>() / 1000000, INT_MAX, <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a> )</div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;            } };</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;    };</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160; </div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;    <a class="code" href="classinventory__multiselector.html">inventory_multiselector</a> inv_s( *pc, preset, msg,</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;                                   make_raw_stats, <span class="comment">/*allow_select_contained =*/</span> <span class="keyword">true</span> );</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160; </div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;    inv_s.add_character_items( *pc );</div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;    inv_s.add_nearby_items( <a class="code" href="game__constants_8h.html#afec5544a31d4183805cff025dd84b5f4">PICKUP_RANGE</a> );</div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;    inv_s.set_title( <a class="code" href="namespacemusic.html#a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220">title</a> );</div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;    inv_s.set_hint( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;To select items, type a number before selecting.&quot;</span> ) );</div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160; </div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;    <span class="keywordflow">if</span>( inv_s.empty() ) {</div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( std::string( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You have nothing to send.&quot;</span> ) ), <a class="code" href="output_8h.html#ab214b85345aeab978acdcea0250f27f5ad0065579023647501fcb0f076a1c5240">PF_GET_KEY</a> );</div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;        <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;    }</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;    <a class="code" href="activity__item__handling_8cpp.html#a14dcded7a48aa4f96aeecf1e76f8f947">drop_locations</a> selected = inv_s.execute();</div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;    <span class="keywordflow">return</span> selected;</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;}</div>
<div class="ttc" id="agame__constants_8h_html_afec5544a31d4183805cff025dd84b5f4"><div class="ttname"><a href="game__constants_8h.html#afec5544a31d4183805cff025dd84b5f4">PICKUP_RANGE</a></div><div class="ttdeci">constexpr int PICKUP_RANGE</div><div class="ttdoc">Items on the map with at most this distance to the player are considered available for crafting,...</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00070">game_constants.h:70</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="inventory__ui_8cpp_source.html#l02079">inventory_selector::add_character_items()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l02149">inventory_selector::add_nearby_items()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l02509">display_stat()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l02885">inventory_selector::empty()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l03705">inventory_multiselector::execute()</a>, <a class="el" href="output_8h_source.html#l00476">PF_GET_KEY</a>, <a class="el" href="translations_8h_source.html#l00092">pgettext</a>, <a class="el" href="game__constants_8h_source.html#l00070">PICKUP_RANGE</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="inventory__ui_8h_source.html#l00630">inventory_selector::set_hint()</a>, <a class="el" href="inventory__ui_8h_source.html#l00626">inventory_selector::set_title()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="music_8h_source.html#l00014">music::title</a>, <a class="el" href="calendar_8cpp_source.html#l00546">to_string()</a>, and <a class="el" href="units_8h_source.html#l00060">units::quantity&lt; V, U &gt;::value()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l02686">start_relay_hide_site()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l02637">start_setup_hide_site()</a>.</p>

</div>
</div>
<a id="ad62f9423efe766d2d93f5df8e3f2dedb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad62f9423efe766d2d93f5df8e3f2dedb">&#9670;&nbsp;</a></span>handle_hide_mission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::handle_hide_mission </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05908">5908</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;{</div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;    <span class="keyword">const</span> <a class="code" href="structbase__camps_1_1direction__data.html">base_camps::direction_data</a> &amp;base_data = <a class="code" href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a>.at( dir );</div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> previously_hidden_count = <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[size_t( base_data.<a class="code" href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">tab_order</a> )].size();</div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160; </div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;        std::vector&lt;std::string&gt; pos_names;</div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;        std::vector&lt;ui_mission_id&gt; reference;</div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;        <span class="keywordtype">int</span> choice = 0;</div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;        pos_names.reserve( <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[<span class="keywordtype">size_t</span>( base_data.<a class="code" href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">tab_order</a> )].size() );</div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;        reference.reserve( <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[<span class="keywordtype">size_t</span>( base_data.<a class="code" href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">tab_order</a> )].size() );</div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160; </div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="structui__mission__id.html">ui_mission_id</a> &amp;miss_id : <a class="code" href="classbasecamp.html#af3d06822349589e739041ff9996ce78c">temp_ui_mission_keys</a>[<span class="keywordtype">size_t</span>( base_data.<a class="code" href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">tab_order</a> )] ) {</div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;            <span class="keywordflow">if</span>( !miss_id.ret &amp;&amp;</div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;                miss_id.id.id != <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a61cf4beb9bae90f8020f951768a8bfcb">Camp_Reveal_Mission</a> ) {</div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160; </div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;                <span class="comment">// Filter out the onces we&#39;re hiding in this loop, as temp_ui_mission_keys isn&#39;t refreshed</span></div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;                <span class="keywordtype">bool</span> hidden = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;                <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = previously_hidden_count; i &lt; <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[size_t( base_data.<a class="code" href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">tab_order</a> )].size();</div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;                     i++ ) {</div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="mission__companion_8cpp.html#a2e12565efe5d1faa52a47c8263e9a8b9">is_equal</a>( <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[<span class="keywordtype">size_t</span>( base_data.<a class="code" href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">tab_order</a> )].at( i ), miss_id ) ) {</div>
<div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;                        hidden = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;                    }</div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;                }</div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;                <span class="keywordflow">if</span>( !hidden ) {</div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;                    pos_names.push_back( <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( miss_id.id ) );</div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;                    reference.push_back( miss_id );</div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;                }</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;            }</div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;        }</div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160; </div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;        choice = <a class="code" href="classuilist.html">uilist</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select mission(s) to hide, escape when done&quot;</span> ), pos_names );</div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160; </div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;        <span class="keywordflow">if</span>( choice &lt; 0 || <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( choice ) &gt;= pos_names.size() ) {</div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;            <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You&#39;re done for now&quot;</span> ) );</div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;        }</div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160; </div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;        <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[size_t( base_data.<a class="code" href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">tab_order</a> )].push_back( reference[choice] );</div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;    }</div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;}</div>
<div class="ttc" id="astructbase__camps_1_1direction__data_html_a1b04bb9dd4942b88cdc0e23de0e6a58b"><div class="ttname"><a href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">base_camps::direction_data::tab_order</a></div><div class="ttdeci">tab_mode tab_order</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00091">basecamp.h:91</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="basecamp_8cpp_source.html#l00047">base_camps::all_directions</a>, <a class="el" href="mission__companion_8h_source.html#l00054">Camp_Reveal_Mission</a>, <a class="el" href="basecamp_8h_source.html#l00196">hidden_missions</a>, <a class="el" href="mission__companion_8cpp_source.html#l00396">is_equal()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05794">name_display_of()</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="basecamp_8h_source.html#l00091">base_camps::direction_data::tab_order</a>, and <a class="el" href="basecamp_8h_source.html#l00504">temp_ui_mission_keys</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="abe26bf1323ce017b9bc79fbd0229c5d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe26bf1323ce017b9bc79fbd0229c5d9">&#9670;&nbsp;</a></span>handle_mission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::handle_mission </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structui__mission__id.html">ui_mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l01716">1716</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;{</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aa31d055f653f89fa89d708b653a29de5">No_Mission</a> ) {</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    }</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160; </div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> &amp;miss_dir = miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>.<a class="code" href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">dir</a>.value();</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="comment">//  All missions should supply dir. Bug if they don&#39;t, so blow up during testing.</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160; </div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> omt_trg = <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a> + miss_dir;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160; </div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordflow">switch</span>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> ) {</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6ab06d2f803109eeed8adb43a06ea802bb">Camp_Distribute_Food</a>:</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;            <a class="code" href="classbasecamp.html#aafe3d202cb9365b3963a49b9dac042f6">distribute_food</a>();</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160; </div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a713b676dd9b4bf1e694425d342518ab9">Camp_Determine_Leadership</a>:</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;            <a class="code" href="classbasecamp.html#a9e7cbc59d14361bd97029f6da3680de4">choose_new_leader</a>();</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160; </div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aaf974ab52b4c5b7d5b45cf5a9073f528">Camp_Have_Meal</a>:</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;            <a class="code" href="classbasecamp.html#ad52e6d4706afa091e577b6c6d241576a">player_eats_meal</a>();</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160; </div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a76204a00c88b884497414b96d39f0b2a">Camp_Hide_Mission</a>:</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;            <a class="code" href="classbasecamp.html#ad62f9423efe766d2d93f5df8e3f2dedb">handle_hide_mission</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>.<a class="code" href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">dir</a>.value() );</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160; </div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a61cf4beb9bae90f8020f951768a8bfcb">Camp_Reveal_Mission</a>:</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;            <a class="code" href="classbasecamp.html#aed6e9962f4538cba9c6c9fa38aaba01b">handle_reveal_mission</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>.<a class="code" href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">dir</a>.value() );</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160; </div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a161dfb9530d703d41010b26ce5817e7a">Camp_Assign_Jobs</a>:</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;            <a class="code" href="classbasecamp.html#a5a26a815c51106fdab8be9c668d438b0">job_assignment_ui</a>();</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160; </div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6af0d94ba594b12aa0d3580a5e30456c7c">Camp_Assign_Workers</a>:</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;            <a class="code" href="classbasecamp.html#a727e961f24b5096c2e65c4462a3a650d">worker_assignment_ui</a>();</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160; </div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a2e3bc94df909bddc28ec0cf2f35d796f">Camp_Abandon</a>:</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;            <a class="code" href="classbasecamp.html#a97c51d3d8f5e08e3740d315116ac5843">abandon_camp</a>();</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160; </div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aa07965f31757446ae21b9e067eb62329">Camp_Upgrade</a>:</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                <a class="code" href="classbasecamp.html#af25512a9a77bf712b5b13be8cb4c4300">upgrade_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a> );</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                <a class="code" href="classbasecamp.html#a450d97de3568eb96548dd736e9a4f5c6">start_upgrade</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a> );</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;            }</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160; </div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a5a37113b5e8219abb2f6e36829871112">Camp_Emergency_Recall</a>:</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;            <a class="code" href="classbasecamp.html#a9e536cabe892352238156cf082e760e9">emergency_recall</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a> );</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160; </div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a5d457dbea03c32f750a06ae20c17fd85">Camp_Crafting</a>:</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;                <span class="keyword">const</span> std::string bldg = <a class="code" href="namespacerecipe__group.html#a450052be5d02ac19aac41875daa665bb">recipe_group::get_building_of_recipe</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> );</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160; </div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                std::string msg;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160; </div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                <span class="keywordflow">if</span>( bldg == <a class="code" href="faction__camp_8cpp.html#ae3fd35da2c0aef4cb531d3fa95f602fd">base_recipe_group_string</a> ) {</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                    msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns to you with something&quot;</span> );</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160; </div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( bldg == <a class="code" href="faction__camp_8cpp.html#ae57b6a6695c46566f6ff7a7ddbe5ba7a">cook_recipe_group_string</a> ) {</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;                    msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns from your kitchen with something&quot;</span> );</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160; </div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( bldg == <a class="code" href="faction__camp_8cpp.html#a246bca76b972732cfb8a9fc099a37a6c">farm_recipe_group_string</a> ) {</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;                    msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns from your farm with something&quot;</span> );</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160; </div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( bldg == <a class="code" href="faction__camp_8cpp.html#a89d376cdfabeadaa006d78020d0e7bc9">smith_recipe_group_string</a> ) {</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;                    msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns from your blacksmith shop with something&quot;</span> );</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;                }</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                    msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns to you with something&quot;</span> );</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                }</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160; </div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;                <a class="code" href="classbasecamp.html#a83e1908e5f17d369210f01e4c6ebdaa6">crafting_mission_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>,</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                                         msg,</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;                                         <a class="code" href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 2 );</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;                <span class="keyword">const</span> std::string bldg = <a class="code" href="namespacerecipe__group.html#a450052be5d02ac19aac41875daa665bb">recipe_group::get_building_of_recipe</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> );</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                <a class="code" href="classbasecamp.html#a5b7d68316ac3423438c7c4f794f03fe9">start_crafting</a>( <a class="code" href="namespacerecipe__group.html#a450052be5d02ac19aac41875daa665bb">recipe_group::get_building_of_recipe</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> ), miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a> );</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;            }</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160; </div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6ae26a02c8f7b369a75c4ee41f85cb099f">Camp_Gather_Materials</a>:</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;                <a class="code" href="classbasecamp.html#a06c13ebeac9af1cb31a9ded778ffaefe">gathering_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, 3_hours );</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, 3_hours, <span class="keyword">true</span>,</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;                               <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;departs to search for materials&quot;</span> ), <span class="keyword">false</span>, {}, <a class="code" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, 0, <a class="code" href="game__constants_8h.html#a3eff0a66c45e8fc9175f3e424c140950">LIGHT_EXERCISE</a> );</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;            }</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160; </div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a5ac31fc9ae8f654b12ab7a145a9a6732">Camp_Collect_Firewood</a>:</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;                <a class="code" href="classbasecamp.html#a06c13ebeac9af1cb31a9ded778ffaefe">gathering_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, 3_hours );</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;                <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, 3_hours, <span class="keyword">true</span>,</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;                               <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;departs to search for firewood&quot;</span> ), <span class="keyword">false</span>, {}, <a class="code" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, 0, <a class="code" href="game__constants_8h.html#a3eff0a66c45e8fc9175f3e424c140950">LIGHT_EXERCISE</a> );</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;            }</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a75c8d3203f3977eb52c449f8d728890f">Camp_Menial</a>:</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;                <a class="code" href="classbasecamp.html#aff07145dd46d64c0cec5e3c1b3472ddb">menial_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a> );</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;                <a class="code" href="classbasecamp.html#a418cfaa9121a706b452cb4b0a922fe1a">start_menial_labor</a>();</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;            }</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160; </div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6add9769d05141626e78ca44fc1589d443">Camp_Survey_Field</a>:</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;                <a class="code" href="classbasecamp.html#afc753bfacd929dfcaf4c4058880dc3de">survey_field_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a> );</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;                <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, 0_hours, <span class="keyword">true</span>,</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;                               <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;departs to look for suitable fields&quot;</span> ), <span class="keyword">false</span>, {}, <a class="code" href="faction__camp_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a>, 0, <a class="code" href="game__constants_8h.html#ab4f6aee0718ae4c2d33e35bcccc19eb3">MODERATE_EXERCISE</a> );</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            }</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160; </div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a1c3ab1763375b749e4d0fba9441142fc">Camp_Survey_Expansion</a>:</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;                <a class="code" href="classbasecamp.html#a9e7b1bdc1a005293019b9f77538cb3c9">survey_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a> );</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;                <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, 3_hours, <span class="keyword">true</span>,</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;                               <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;departs to survey land&quot;</span> ), <span class="keyword">false</span>, {}, <a class="code" href="faction__camp_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a>, 0, <a class="code" href="game__constants_8h.html#ab4f6aee0718ae4c2d33e35bcccc19eb3">MODERATE_EXERCISE</a> );</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;            }</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160; </div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6abda6992194fe3f7300dee70a735748c1">Camp_Cut_Logs</a>:</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;                <a class="code" href="classbasecamp.html#a431f82edab2eac0a98d87667535131e0">mission_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, 6_hours, <span class="keyword">true</span>,</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns from working in the woods&quot;</span> ),</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;                                <a class="code" href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 2 );</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;                <a class="code" href="classbasecamp.html#a92f0d517ecb49e447a41b5a1dda3edd8">start_cut_logs</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, <a class="code" href="game__constants_8h.html#af493e8618b57ed45c296eed8ab6e730a">ACTIVE_EXERCISE</a> );</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;            }</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160; </div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a85d05fa81e3e46a06d2ba654f3df857e">Camp_Clearcut</a>:</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;                <a class="code" href="classbasecamp.html#a431f82edab2eac0a98d87667535131e0">mission_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, 6_hours, <span class="keyword">true</span>,</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;                                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns from working in the woods&quot;</span> ),</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                                <a class="code" href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 1 );</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;                <a class="code" href="classbasecamp.html#a4a3a5cf06c7f9b1883407f5f41290cbb">start_clearcut</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, <a class="code" href="game__constants_8h.html#af493e8618b57ed45c296eed8ab6e730a">ACTIVE_EXERCISE</a> );</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;            }</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160; </div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6ab1460bad98da808c1366ffe147aa5bd9">Camp_Setup_Hide_Site</a>:</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;                <a class="code" href="classbasecamp.html#a431f82edab2eac0a98d87667535131e0">mission_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, 3_hours, <span class="keyword">true</span>,</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;                                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns from working on the hide site&quot;</span> ), <a class="code" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 3 );</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;                <a class="code" href="classbasecamp.html#a871e793e6f40aaba900349ade05cd0a9">start_setup_hide_site</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, <a class="code" href="game__constants_8h.html#a3eff0a66c45e8fc9175f3e424c140950">LIGHT_EXERCISE</a> );</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;            }</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160; </div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6af02810837b1f81122a2eb5f55da74fcd">Camp_Relay_Hide_Site</a>:</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;                <span class="keyword">const</span> std::string msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns from shuttling gear between the hide site&quot;</span> );</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;                <a class="code" href="classbasecamp.html#a431f82edab2eac0a98d87667535131e0">mission_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, 3_hours, <span class="keyword">true</span>,</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                                msg, <a class="code" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 3 );</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;                <a class="code" href="classbasecamp.html#af21d9bca61606198a0514f304f6ac9d9">start_relay_hide_site</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, <a class="code" href="game__constants_8h.html#a3eff0a66c45e8fc9175f3e424c140950">LIGHT_EXERCISE</a> );</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;            }</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160; </div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a9bf7b67cfd74658d8591a574927479b0">Camp_Foraging</a>:</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;                <a class="code" href="classbasecamp.html#a06c13ebeac9af1cb31a9ded778ffaefe">gathering_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, 4_hours );</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;                <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, 4_hours, <span class="keyword">true</span>,</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;                               <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;departs to search for edible plants&quot;</span> ), <span class="keyword">false</span>, {}, <a class="code" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, 0, <a class="code" href="game__constants_8h.html#a3eff0a66c45e8fc9175f3e424c140950">LIGHT_EXERCISE</a> );</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;            }</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160; </div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a8daefc37cb40d56f81158b33df3072f0">Camp_Trapping</a>:</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;                <a class="code" href="classbasecamp.html#a06c13ebeac9af1cb31a9ded778ffaefe">gathering_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, 6_hours );</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;                <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, 6_hours, <span class="keyword">true</span>,</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;                               <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;departs to set traps for small animals&quot;</span> ), <span class="keyword">false</span>, {}, <a class="code" href="faction__camp_8cpp.html#a9353c39452c59a433c7c4c301386e91f">skill_traps</a>, 0, <a class="code" href="game__constants_8h.html#a3eff0a66c45e8fc9175f3e424c140950">LIGHT_EXERCISE</a> );</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            }</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160; </div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a920dbeb5ca6bec887e07240c55b74303">Camp_Hunting</a>:</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                <a class="code" href="classbasecamp.html#a06c13ebeac9af1cb31a9ded778ffaefe">gathering_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, 6_hours );</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;                <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, 6_hours, <span class="keyword">true</span>,</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;                               <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;departs to hunt for meat&quot;</span> ), <span class="keyword">false</span>, {}, <a class="code" href="faction__camp_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a>, 0, <a class="code" href="game__constants_8h.html#ab4f6aee0718ae4c2d33e35bcccc19eb3">MODERATE_EXERCISE</a> );</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;            }</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160; </div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a3dc190cb0632938b32137660d1602f12">Camp_OM_Fortifications</a>:</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                <a class="code" href="classbasecamp.html#afe3971b9392bc8ca4453811bb7e6c3b4">fortifications_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a> );</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;                std::string bldg_exp = miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a>;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;                <a class="code" href="classbasecamp.html#ae714ffb9daa48be6d0963bb5d3dd2876">start_fortifications</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, <a class="code" href="game__constants_8h.html#af493e8618b57ed45c296eed8ab6e730a">ACTIVE_EXERCISE</a> );</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;            }</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160; </div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a31f2ca3f041871757c561b0cae0ef5a5">Camp_Recruiting</a>:</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;                <a class="code" href="classbasecamp.html#a47f3b695973635f7236f1e7b37ddafb7">recruit_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>,</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;                                <a class="code" href="classbasecamp.html#ab5795deed1ba5ae2b71f49ef6bae9e1d">recruit_evaluation</a>() );</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;                <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, 4_days, <span class="keyword">true</span>,</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;                               <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;departs to search for recruits&quot;</span> ), <span class="keyword">false</span>, {}, <a class="code" href="faction__camp_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a>, 0, <a class="code" href="game__constants_8h.html#ab4f6aee0718ae4c2d33e35bcccc19eb3">MODERATE_EXERCISE</a> );</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;            }</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160; </div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a10f274066c4806a92ec9fa150366e75a">Camp_Scouting</a>:</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a888b467cca91ea5e057caec42bc2655b">Camp_Combat_Patrol</a>:</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                <a class="code" href="classbasecamp.html#a82a0ce18ad2d52af02d6abee25057d85">combat_mission_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a> );</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;                <a class="code" href="classbasecamp.html#aaeae9ce26fb316d9543a8c6c4ae1fd3e">start_combat_mission</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, <a class="code" href="game__constants_8h.html#abb5fc20f9a59bdfcb7319f2b856a9ab9">BRISK_EXERCISE</a> );</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;            }</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160; </div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a9f00b9d7639801ae4af6d494067b8cf5">Camp_Chop_Shop</a>:  <span class="comment">//  Removed during 0.E</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Obsolete Function.  Use Vehicle Deconstruct zone instead.  Recover your companion with Emergency Recall.&quot;</span> );</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160; </div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aea7bf0864ae107743e8d1b018a8115f9">Camp_Plow</a>:</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a913bca7a664f619b40909d0e7c5fa9bf">Camp_Plant</a>:</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a332c22fbdcb568f67e691b1445ed4387">Camp_Harvest</a>:</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;            <span class="keywordflow">if</span>( miss_id.<a class="code" href="structui__mission__id.html#aa7ae5d13e0e8c383381c4cf4f9a1749e">ret</a> ) {</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;                <a class="code" href="classbasecamp.html#a9482c5fe68b9f2a6d46f1640dbeb4032">farm_return</a>( miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, omt_trg );</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;                <a class="code" href="classbasecamp.html#a9a751780e032be391deb8cba61b624fe">start_farm_op</a>( omt_trg, miss_id.<a class="code" href="structui__mission__id.html#a9097de78a5d3e86f79bb9c62597dbe15">id</a>, <a class="code" href="game__constants_8h.html#ab4f6aee0718ae4c2d33e35bcccc19eb3">MODERATE_EXERCISE</a> );</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;            }</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160; </div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    }</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160; </div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a06c13ebeac9af1cb31a9ded778ffaefe"><div class="ttname"><a href="classbasecamp.html#a06c13ebeac9af1cb31a9ded778ffaefe">basecamp::gathering_return</a></div><div class="ttdeci">bool gathering_return(const mission_id &amp;miss_id, time_duration min_time)</div><div class="ttdoc">Called when a companion completes a gathering task mission.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03962">faction_camp.cpp:3962</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a418cfaa9121a706b452cb4b0a922fe1a"><div class="ttname"><a href="classbasecamp.html#a418cfaa9121a706b452cb4b0a922fe1a">basecamp::start_menial_labor</a></div><div class="ttdeci">void start_menial_labor()</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02468">faction_camp.cpp:2468</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a431f82edab2eac0a98d87667535131e0"><div class="ttname"><a href="classbasecamp.html#a431f82edab2eac0a98d87667535131e0">basecamp::mission_return</a></div><div class="ttdeci">npc_ptr mission_return(const mission_id &amp;miss_id, time_duration min_duration, bool fixed_time, const std::string &amp;return_msg, const std::string &amp;skill, int difficulty)</div><div class="ttdoc">a wrapper function for companion_choose_return and finish_return</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03819">faction_camp.cpp:3819</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a450d97de3568eb96548dd736e9a4f5c6"><div class="ttname"><a href="classbasecamp.html#a450d97de3568eb96548dd736e9a4f5c6">basecamp::start_upgrade</a></div><div class="ttdeci">void start_upgrade(const mission_id &amp;miss_id)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02084">faction_camp.cpp:2084</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a47f3b695973635f7236f1e7b37ddafb7"><div class="ttname"><a href="classbasecamp.html#a47f3b695973635f7236f1e7b37ddafb7">basecamp::recruit_return</a></div><div class="ttdeci">void recruit_return(const mission_id &amp;miss_id, int score)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04270">faction_camp.cpp:4270</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a4a3a5cf06c7f9b1883407f5f41290cbb"><div class="ttname"><a href="classbasecamp.html#a4a3a5cf06c7f9b1883407f5f41290cbb">basecamp::start_clearcut</a></div><div class="ttdeci">void start_clearcut(const mission_id &amp;miss_id, float exertion_level)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02602">faction_camp.cpp:2602</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a5a26a815c51106fdab8be9c668d438b0"><div class="ttname"><a href="classbasecamp.html#a5a26a815c51106fdab8be9c668d438b0">basecamp::job_assignment_ui</a></div><div class="ttdeci">void job_assignment_ui()</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02326">faction_camp.cpp:2326</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a5b7d68316ac3423438c7c4f794f03fe9"><div class="ttname"><a href="classbasecamp.html#a5b7d68316ac3423438c7c4f794f03fe9">basecamp::start_crafting</a></div><div class="ttdeci">void start_crafting(const std::string &amp;type, const mission_id &amp;miss_id)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03490">faction_camp.cpp:3490</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a727e961f24b5096c2e65c4462a3a650d"><div class="ttname"><a href="classbasecamp.html#a727e961f24b5096c2e65c4462a3a650d">basecamp::worker_assignment_ui</a></div><div class="ttdeci">void worker_assignment_ui()</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02232">faction_camp.cpp:2232</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a82a0ce18ad2d52af02d6abee25057d85"><div class="ttname"><a href="classbasecamp.html#a82a0ce18ad2d52af02d6abee25057d85">basecamp::combat_mission_return</a></div><div class="ttdeci">void combat_mission_return(const mission_id &amp;miss_id)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04385">faction_camp.cpp:4385</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a83e1908e5f17d369210f01e4c6ebdaa6"><div class="ttname"><a href="classbasecamp.html#a83e1908e5f17d369210f01e4c6ebdaa6">basecamp::crafting_mission_return</a></div><div class="ttdeci">npc_ptr crafting_mission_return(const mission_id &amp;miss_id, const std::string &amp;return_msg, const std::string &amp;skill, int difficulty)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03830">faction_camp.cpp:3830</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a84ee01594d047048258c9bf59880e1fc"><div class="ttname"><a href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">basecamp::start_mission</a></div><div class="ttdeci">npc_ptr start_mission(const mission_id &amp;miss_id, time_duration duration, bool must_feed, const std::string &amp;desc, bool group, const std::vector&lt; item * &gt; &amp;equipment, const skill_id &amp;skill_tested, int skill_level, float exertion_level)</div><div class="ttdoc">generic mission start function that wraps individual mission</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l01964">faction_camp.cpp:1964</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a871e793e6f40aaba900349ade05cd0a9"><div class="ttname"><a href="classbasecamp.html#a871e793e6f40aaba900349ade05cd0a9">basecamp::start_setup_hide_site</a></div><div class="ttdeci">void start_setup_hide_site(const mission_id &amp;miss_id, float exertion_level)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02637">faction_camp.cpp:2637</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a92f0d517ecb49e447a41b5a1dda3edd8"><div class="ttname"><a href="classbasecamp.html#a92f0d517ecb49e447a41b5a1dda3edd8">basecamp::start_cut_logs</a></div><div class="ttdeci">void start_cut_logs(const mission_id &amp;miss_id, float exertion_level)</div><div class="ttdoc">Called when a companion is sent to cut logs.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02563">faction_camp.cpp:2563</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a9482c5fe68b9f2a6d46f1640dbeb4032"><div class="ttname"><a href="classbasecamp.html#a9482c5fe68b9f2a6d46f1640dbeb4032">basecamp::farm_return</a></div><div class="ttdeci">bool farm_return(const mission_id &amp;miss_id, const tripoint_abs_omt &amp;omt_tgt)</div><div class="ttdoc">Perform any mix of the three farm tasks.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04595">faction_camp.cpp:4595</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a97c51d3d8f5e08e3740d315116ac5843"><div class="ttname"><a href="classbasecamp.html#a97c51d3d8f5e08e3740d315116ac5843">basecamp::abandon_camp</a></div><div class="ttdeci">void abandon_camp()</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02158">faction_camp.cpp:2158</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a9a751780e032be391deb8cba61b624fe"><div class="ttname"><a href="classbasecamp.html#a9a751780e032be391deb8cba61b624fe">basecamp::start_farm_op</a></div><div class="ttdeci">void start_farm_op(const tripoint_abs_omt &amp;omt_tgt, const mission_id &amp;miss_id, float exertion_level)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03679">faction_camp.cpp:3679</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a9e536cabe892352238156cf082e760e9"><div class="ttname"><a href="classbasecamp.html#a9e536cabe892352238156cf082e760e9">basecamp::emergency_recall</a></div><div class="ttdeci">npc_ptr emergency_recall(const mission_id &amp;miss_id)</div><div class="ttdoc">select a companion for any mission to return to base</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03840">faction_camp.cpp:3840</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a9e7b1bdc1a005293019b9f77538cb3c9"><div class="ttname"><a href="classbasecamp.html#a9e7b1bdc1a005293019b9f77538cb3c9">basecamp::survey_return</a></div><div class="ttdeci">bool survey_return(const mission_id &amp;miss_id)</div><div class="ttdoc">Choose which expansion you should start, called when a survey mission is completed.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04502">faction_camp.cpp:4502</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a9e7cbc59d14361bd97029f6da3680de4"><div class="ttname"><a href="classbasecamp.html#a9e7cbc59d14361bd97029f6da3680de4">basecamp::choose_new_leader</a></div><div class="ttdeci">void choose_new_leader()</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l01601">faction_camp.cpp:1601</a></div></div>
<div class="ttc" id="aclassbasecamp_html_aaeae9ce26fb316d9543a8c6c4ae1fd3e"><div class="ttname"><a href="classbasecamp.html#aaeae9ce26fb316d9543a8c6c4ae1fd3e">basecamp::start_combat_mission</a></div><div class="ttdeci">void start_combat_mission(const mission_id &amp;miss_id, float exertion_level)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03461">faction_camp.cpp:3461</a></div></div>
<div class="ttc" id="aclassbasecamp_html_aafe3d202cb9365b3963a49b9dac042f6"><div class="ttname"><a href="classbasecamp.html#aafe3d202cb9365b3963a49b9dac042f6">basecamp::distribute_food</a></div><div class="ttdeci">bool distribute_food()</div><div class="ttdoc">Takes all the food from the camp_food zone and increases the faction food_supply.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05676">faction_camp.cpp:5676</a></div></div>
<div class="ttc" id="aclassbasecamp_html_ab5795deed1ba5ae2b71f49ef6bae9e1d"><div class="ttname"><a href="classbasecamp.html#ab5795deed1ba5ae2b71f49ef6bae9e1d">basecamp::recruit_evaluation</a></div><div class="ttdeci">int recruit_evaluation() const</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05432">faction_camp.cpp:5432</a></div></div>
<div class="ttc" id="aclassbasecamp_html_ad52e6d4706afa091e577b6c6d241576a"><div class="ttname"><a href="classbasecamp.html#ad52e6d4706afa091e577b6c6d241576a">basecamp::player_eats_meal</a></div><div class="ttdeci">void player_eats_meal()</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l01700">faction_camp.cpp:1700</a></div></div>
<div class="ttc" id="aclassbasecamp_html_ad62f9423efe766d2d93f5df8e3f2dedb"><div class="ttname"><a href="classbasecamp.html#ad62f9423efe766d2d93f5df8e3f2dedb">basecamp::handle_hide_mission</a></div><div class="ttdeci">void handle_hide_mission(const point &amp;dir)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05908">faction_camp.cpp:5908</a></div></div>
<div class="ttc" id="aclassbasecamp_html_ae714ffb9daa48be6d0963bb5d3dd2876"><div class="ttname"><a href="classbasecamp.html#ae714ffb9daa48be6d0963bb5d3dd2876">basecamp::start_fortifications</a></div><div class="ttdeci">void start_fortifications(const mission_id &amp;miss_id, float exertion_level)</div><div class="ttdoc">Called when a companion is sent to start fortifications.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02811">faction_camp.cpp:2811</a></div></div>
<div class="ttc" id="aclassbasecamp_html_aed6e9962f4538cba9c6c9fa38aaba01b"><div class="ttname"><a href="classbasecamp.html#aed6e9962f4538cba9c6c9fa38aaba01b">basecamp::handle_reveal_mission</a></div><div class="ttdeci">void handle_reveal_mission(const point &amp;dir)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05880">faction_camp.cpp:5880</a></div></div>
<div class="ttc" id="aclassbasecamp_html_af21d9bca61606198a0514f304f6ac9d9"><div class="ttname"><a href="classbasecamp.html#af21d9bca61606198a0514f304f6ac9d9">basecamp::start_relay_hide_site</a></div><div class="ttdeci">void start_relay_hide_site(const mission_id &amp;miss_id, float exertion_level)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02686">faction_camp.cpp:2686</a></div></div>
<div class="ttc" id="aclassbasecamp_html_af25512a9a77bf712b5b13be8cb4c4300"><div class="ttname"><a href="classbasecamp.html#af25512a9a77bf712b5b13be8cb4c4300">basecamp::upgrade_return</a></div><div class="ttdeci">bool upgrade_return(const mission_id &amp;miss_id)</div><div class="ttdoc">Called to close upgrade missions, miss is the name of the mission id and dir is the direction of the ...</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03875">faction_camp.cpp:3875</a></div></div>
<div class="ttc" id="aclassbasecamp_html_afc753bfacd929dfcaf4c4058880dc3de"><div class="ttname"><a href="classbasecamp.html#afc753bfacd929dfcaf4c4058880dc3de">basecamp::survey_field_return</a></div><div class="ttdeci">bool survey_field_return(const mission_id &amp;miss_id)</div><div class="ttdoc">Choose which expansion slot to check for field conversion.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04425">faction_camp.cpp:4425</a></div></div>
<div class="ttc" id="aclassbasecamp_html_afe3971b9392bc8ca4453811bb7e6c3b4"><div class="ttname"><a href="classbasecamp.html#afe3971b9392bc8ca4453811bb7e6c3b4">basecamp::fortifications_return</a></div><div class="ttdeci">void fortifications_return(const mission_id &amp;miss_id)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04038">faction_camp.cpp:4038</a></div></div>
<div class="ttc" id="aclassbasecamp_html_aff07145dd46d64c0cec5e3c1b3472ddb"><div class="ttname"><a href="classbasecamp.html#aff07145dd46d64c0cec5e3c1b3472ddb">basecamp::menial_return</a></div><div class="ttdeci">bool menial_return(const mission_id &amp;miss_id)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03950">faction_camp.cpp:3950</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a3eff0a66c45e8fc9175f3e424c140950"><div class="ttname"><a href="game__constants_8h.html#a3eff0a66c45e8fc9175f3e424c140950">LIGHT_EXERCISE</a></div><div class="ttdeci">constexpr float LIGHT_EXERCISE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00182">game_constants.h:182</a></div></div>
<div class="ttc" id="agame__constants_8h_html_abb5fc20f9a59bdfcb7319f2b856a9ab9"><div class="ttname"><a href="game__constants_8h.html#abb5fc20f9a59bdfcb7319f2b856a9ab9">BRISK_EXERCISE</a></div><div class="ttdeci">constexpr float BRISK_EXERCISE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00184">game_constants.h:184</a></div></div>
<div class="ttc" id="agame__constants_8h_html_af493e8618b57ed45c296eed8ab6e730a"><div class="ttname"><a href="game__constants_8h.html#af493e8618b57ed45c296eed8ab6e730a">ACTIVE_EXERCISE</a></div><div class="ttdeci">constexpr float ACTIVE_EXERCISE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00185">game_constants.h:185</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6aa31d055f653f89fa89d708b653a29de5"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aa31d055f653f89fa89d708b653a29de5">No_Mission</a></div><div class="ttdeci">@ No_Mission</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00038">mission_companion.h:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="faction__camp_8cpp_source.html#l02158">abandon_camp()</a>, <a class="el" href="game__constants_8h_source.html#l00185">ACTIVE_EXERCISE</a>, <a class="el" href="faction__camp_8cpp_source.html#l00211">base_recipe_group_string</a>, <a class="el" href="game__constants_8h_source.html#l00184">BRISK_EXERCISE</a>, <a class="el" href="mission__companion_8h_source.html#l00057">Camp_Abandon</a>, <a class="el" href="mission__companion_8h_source.html#l00055">Camp_Assign_Jobs</a>, <a class="el" href="mission__companion_8h_source.html#l00056">Camp_Assign_Workers</a>, <a class="el" href="mission__companion_8h_source.html#l00077">Camp_Chop_Shop</a>, <a class="el" href="mission__companion_8h_source.html#l00067">Camp_Clearcut</a>, <a class="el" href="mission__companion_8h_source.html#l00062">Camp_Collect_Firewood</a>, <a class="el" href="mission__companion_8h_source.html#l00076">Camp_Combat_Patrol</a>, <a class="el" href="mission__companion_8h_source.html#l00060">Camp_Crafting</a>, <a class="el" href="mission__companion_8h_source.html#l00066">Camp_Cut_Logs</a>, <a class="el" href="mission__companion_8h_source.html#l00051">Camp_Determine_Leadership</a>, <a class="el" href="mission__companion_8h_source.html#l00050">Camp_Distribute_Food</a>, <a class="el" href="mission__companion_8h_source.html#l00059">Camp_Emergency_Recall</a>, <a class="el" href="mission__companion_8h_source.html#l00070">Camp_Foraging</a>, <a class="el" href="mission__companion_8h_source.html#l00061">Camp_Gather_Materials</a>, <a class="el" href="mission__companion_8h_source.html#l00080">Camp_Harvest</a>, <a class="el" href="mission__companion_8h_source.html#l00052">Camp_Have_Meal</a>, <a class="el" href="mission__companion_8h_source.html#l00053">Camp_Hide_Mission</a>, <a class="el" href="mission__companion_8h_source.html#l00072">Camp_Hunting</a>, <a class="el" href="mission__companion_8h_source.html#l00063">Camp_Menial</a>, <a class="el" href="mission__companion_8h_source.html#l00073">Camp_OM_Fortifications</a>, <a class="el" href="mission__companion_8h_source.html#l00079">Camp_Plant</a>, <a class="el" href="mission__companion_8h_source.html#l00078">Camp_Plow</a>, <a class="el" href="mission__companion_8h_source.html#l00074">Camp_Recruiting</a>, <a class="el" href="mission__companion_8h_source.html#l00069">Camp_Relay_Hide_Site</a>, <a class="el" href="mission__companion_8h_source.html#l00054">Camp_Reveal_Mission</a>, <a class="el" href="mission__companion_8h_source.html#l00075">Camp_Scouting</a>, <a class="el" href="mission__companion_8h_source.html#l00068">Camp_Setup_Hide_Site</a>, <a class="el" href="mission__companion_8h_source.html#l00065">Camp_Survey_Expansion</a>, <a class="el" href="mission__companion_8h_source.html#l00064">Camp_Survey_Field</a>, <a class="el" href="mission__companion_8h_source.html#l00071">Camp_Trapping</a>, <a class="el" href="mission__companion_8h_source.html#l00058">Camp_Upgrade</a>, <a class="el" href="faction__camp_8cpp_source.html#l01601">choose_new_leader()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04385">combat_mission_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00212">cook_recipe_group_string</a>, <a class="el" href="faction__camp_8cpp_source.html#l03830">crafting_mission_return()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="mission__companion_8h_source.html#l00107">mission_id::dir</a>, <a class="el" href="faction__camp_8cpp_source.html#l05676">distribute_food()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03840">emergency_recall()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00213">farm_recipe_group_string</a>, <a class="el" href="faction__camp_8cpp_source.html#l04595">farm_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04038">fortifications_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03962">gathering_return()</a>, <a class="el" href="recipe__groups_8cpp_source.html#l00168">recipe_group::get_building_of_recipe()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05908">handle_hide_mission()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05880">handle_reveal_mission()</a>, <a class="el" href="mission__companion_8h_source.html#l00104">mission_id::id</a>, <a class="el" href="mission__companion_8h_source.html#l00119">ui_mission_id::id</a>, <a class="el" href="faction__camp_8cpp_source.html#l02326">job_assignment_ui()</a>, <a class="el" href="game__constants_8h_source.html#l00182">LIGHT_EXERCISE</a>, <a class="el" href="faction__camp_8cpp_source.html#l03950">menial_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03819">mission_return()</a>, <a class="el" href="game__constants_8h_source.html#l00183">MODERATE_EXERCISE</a>, <a class="el" href="mission__companion_8h_source.html#l00038">No_Mission</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="mission__companion_8h_source.html#l00105">mission_id::parameters</a>, <a class="el" href="faction__camp_8cpp_source.html#l01700">player_eats_meal()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05432">recruit_evaluation()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04270">recruit_return()</a>, <a class="el" href="mission__companion_8h_source.html#l00120">ui_mission_id::ret</a>, <a class="el" href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a>, <a class="el" href="faction__camp_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a>, <a class="el" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, <a class="el" href="faction__camp_8cpp.html#a9353c39452c59a433c7c4c301386e91f">skill_traps</a>, <a class="el" href="faction__camp_8cpp_source.html#l00214">smith_recipe_group_string</a>, <a class="el" href="faction__camp_8cpp_source.html#l02602">start_clearcut()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03461">start_combat_mission()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03490">start_crafting()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02563">start_cut_logs()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03679">start_farm_op()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02811">start_fortifications()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02468">start_menial_labor()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01964">start_mission()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02686">start_relay_hide_site()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02637">start_setup_hide_site()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02084">start_upgrade()</a>, <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04425">survey_field_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04502">survey_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03875">upgrade_return()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l02232">worker_assignment_ui()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00747">talk_function::basecamp_mission()</a>, and <a class="el" href="iexamine_8cpp_source.html#l01971">iexamine::bulletin_board()</a>.</p>

</div>
</div>
<a id="aed6e9962f4538cba9c6c9fa38aaba01b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed6e9962f4538cba9c6c9fa38aaba01b">&#9670;&nbsp;</a></span>handle_reveal_mission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::handle_reveal_mission </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05880">5880</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;{</div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>.empty() ) { <span class="comment">//  Should never happen</span></div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;    }</div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;    <span class="keyword">const</span> <a class="code" href="structbase__camps_1_1direction__data.html">base_camps::direction_data</a> &amp;base_data = <a class="code" href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a>.at( dir );</div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160; </div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;        std::vector&lt;std::string&gt; pos_names;</div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;        <span class="keywordtype">int</span> choice = 0;</div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;        pos_names.reserve( <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[<span class="keywordtype">size_t</span>( base_data.<a class="code" href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">tab_order</a> )].size() );</div>
<div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160; </div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="structui__mission__id.html">ui_mission_id</a> &amp;<span class="keywordtype">id</span> : <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[<span class="keywordtype">size_t</span>( base_data.<a class="code" href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">tab_order</a> )] ) {</div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;            pos_names.push_back( <a class="code" href="classbasecamp.html#a5d9a4158801c8a1c74b296b0a699eebe">name_display_of</a>( <span class="keywordtype">id</span>.<span class="keywordtype">id</span> ) );</div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;        }</div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160; </div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;        choice = <a class="code" href="classuilist.html">uilist</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select mission(s) to reveal, escape when done&quot;</span> ), pos_names );</div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160; </div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;        <span class="keywordflow">if</span>( choice &lt; 0 || <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( choice ) &gt;= pos_names.size() ) {</div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;            <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You&#39;re done for now&quot;</span> ) );</div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;        }</div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160; </div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;        <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[size_t( base_data.<a class="code" href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">tab_order</a> )].erase( <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[<span class="keywordtype">size_t</span>(</div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;                    base_data.<a class="code" href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">tab_order</a> )].begin() + choice );</div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;    }</div>
<div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="basecamp_8cpp_source.html#l00047">base_camps::all_directions</a>, <a class="el" href="basecamp_8h_source.html#l00196">hidden_missions</a>, <a class="el" href="faction__camp_8cpp_source.html#l05794">name_display_of()</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, and <a class="el" href="basecamp_8h_source.html#l00091">base_camps::direction_data::tab_order</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a8892ccfaa96d33120779b51fc2cb545a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8892ccfaa96d33120779b51fc2cb545a">&#9670;&nbsp;</a></span>has_provides() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::has_provides </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structexpansion__data.html">expansion_data</a> &amp;&#160;</td>
          <td class="paramname"><em>e_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00288">288</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;{</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;provide : e_data.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a> ) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">if</span>( provide.first == req &amp;&amp; provide.second &gt; level ) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00056">expansion_data::provides</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l05676">distribute_food()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00787">get_available_missions_by_dir()</a>, <a class="el" href="basecamp_8cpp_source.html#l00298">has_provides()</a>, <a class="el" href="basecamp_8cpp_source.html#l00316">has_water()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l05390">recruit_evaluation()</a>.</p>

</div>
</div>
<a id="a61e69a3891840fe65622922295f3e7e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61e69a3891840fe65622922295f3e7e1">&#9670;&nbsp;</a></span>has_provides() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::has_provides </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="structpoint.html">point</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>dir</em> = <code>std::nullopt</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00298">298</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;{</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">if</span>( !dir ) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a> ) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( req, e.second, level ) ) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e = <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( *dir );</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">if</span>( e != <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.end() ) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( req, e-&gt;second, level );</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, and <a class="el" href="basecamp_8cpp_source.html#l00288">has_provides()</a>.</p>

</div>
</div>
<a id="ac422f34b7fd2c82e4b29bf5ad272309a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac422f34b7fd2c82e4b29bf5ad272309a">&#9670;&nbsp;</a></span>has_water()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::has_water </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00316">316</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;{</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">// special case required for fbmh_well_north constructed between b9162 (Jun 16, 2019) and b9644 (Sep 20, 2019)</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;water_well&quot;</span> ) || <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;fbmh_well_north&quot;</span> );</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8cpp_source.html#l00288">has_provides()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l04543">npc::consume_food_from_camp()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>.</p>

</div>
</div>
<a id="ac024a39305889bf6f04d06ba522685f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac024a39305889bf6f04d06ba522685f4">&#9670;&nbsp;</a></span>hide_mission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::hide_mission </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structui__mission__id.html">ui_mission_id</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00557">557</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;{</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keyword">const</span> <a class="code" href="structbase__camps_1_1direction__data.html">base_camps::direction_data</a> &amp;base_data = <a class="code" href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a>.at( <span class="keywordtype">id</span>.<span class="keywordtype">id</span>.dir.value() );</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structui__mission__id.html">ui_mission_id</a> &amp;miss_id : <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[<span class="keywordtype">size_t</span>( base_data.<a class="code" href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">tab_order</a> )] ) {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="mission__companion_8cpp.html#a2e12565efe5d1faa52a47c8263e9a8b9">is_equal</a>( miss_id, <span class="keywordtype">id</span> ) ) {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        }  <span class="comment">//  The UI shouldn&#39;t allow us to hide something already hidden, but check anyway.</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[size_t( base_data.<a class="code" href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">tab_order</a> )].push_back( <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8cpp_source.html#l00047">base_camps::all_directions</a>, <a class="el" href="basecamp_8h_source.html#l00196">hidden_missions</a>, <a class="el" href="mission__companion_8cpp_source.html#l00396">is_equal()</a>, and <a class="el" href="basecamp_8h_source.html#l00091">base_camps::direction_data::tab_order</a>.</p>

</div>
</div>
<a id="af6e36810b073d323784a18556d0ef8d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6e36810b073d323784a18556d0ef8d3">&#9670;&nbsp;</a></span>hunting_results()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::hunting_results </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>skill</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>attempts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>difficulty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>spawn items or corpses based on search attempts </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">skill</td><td>skill level of the search </td></tr>
    <tr><td class="paramname">task</td><td>string to identify what types of corpses to provide ( _faction_camp_hunting or _faction_camp_trapping ) </td></tr>
    <tr><td class="paramname">attempts</td><td>number of skill checks to make </td></tr>
    <tr><td class="paramname">difficulty</td><td>a random number from 0 to difficulty is created for each attempt, and if skill is higher, an item or corpse is spawned </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l04711">4711</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;{</div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;    <span class="comment">// corpses do not exist as discrete items, so we use monster groups instead</span></div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;    <span class="keywordtype">int</span> base_group_chance = <a class="code" href="faction__camp_8cpp.html#adae2b6bd4f7b9b0918f97d9dc9696bea">GROUP_CAMP_HUNTING</a>-&gt;<a class="code" href="structMonsterGroup.html#a8872cf1b35a723b7a6d30650031ecfd4">freq_total</a>;</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;    <span class="keywordtype">int</span> mission_specific_chance = 0;</div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;    <a class="code" href="classstring__id.html">mongroup_id</a> mission_specific_group;</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;    <span class="keywordflow">if</span>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a8daefc37cb40d56f81158b33df3072f0">Camp_Trapping</a> ) {</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;        mission_specific_group = <a class="code" href="faction__camp_8cpp.html#a9aab960ce2179c39d896be22ef34306e">GROUP_CAMP_TRAPPING</a>;</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;        mission_specific_chance += <a class="code" href="faction__camp_8cpp.html#a9aab960ce2179c39d896be22ef34306e">GROUP_CAMP_TRAPPING</a>-&gt;<a class="code" href="structMonsterGroup.html#a8872cf1b35a723b7a6d30650031ecfd4">freq_total</a>;</div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a920dbeb5ca6bec887e07240c55b74303">Camp_Hunting</a> ) {</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;        mission_specific_group = <a class="code" href="faction__camp_8cpp.html#abdb3e13683df8e67eb52ead9ee9a5b59">GROUP_CAMP_HUNTING_LARGE</a>;</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;        mission_specific_chance += <a class="code" href="faction__camp_8cpp.html#abdb3e13683df8e67eb52ead9ee9a5b59">GROUP_CAMP_HUNTING_LARGE</a>-&gt;<a class="code" href="structMonsterGroup.html#a8872cf1b35a723b7a6d30650031ecfd4">freq_total</a>;</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;    }</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> total_chance = base_group_chance + mission_specific_chance;</div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;    <span class="keywordtype">int</span> successful_hunts = 0;</div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; attempts; i++ ) {</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;        <span class="keywordflow">if</span>( skill &gt; <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, difficulty ) ) {</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;            successful_hunts++;</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;        }</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;    }</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160; </div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;    <span class="keywordflow">if</span>( successful_hunts &lt;= 0 ) {</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;    }</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160; </div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;    <span class="keywordtype">int</span> results_from_base_group = 0;</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;    <span class="keywordtype">int</span> results_from_mission_group = 0;</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;    <span class="keywordflow">for</span>( ; successful_hunts &gt; 0; successful_hunts-- ) {</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( base_group_chance, total_chance ) ) {</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;            results_from_base_group++;</div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;            results_from_mission_group++;</div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;        }</div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;    }</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160; </div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;    <a class="code" href="classbasecamp.html#a8a9157fe0ca7237eeb0665e46d16fbcf">make_corpse_from_group</a>( <a class="code" href="classMonsterGroupManager.html#a4473484572f9b11682effd2e0a0b241b">MonsterGroupManager::GetResultFromGroup</a>( <a class="code" href="faction__camp_8cpp.html#adae2b6bd4f7b9b0918f97d9dc9696bea">GROUP_CAMP_HUNTING</a>,</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;                            &amp;results_from_base_group ) );</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;    <a class="code" href="classbasecamp.html#a8a9157fe0ca7237eeb0665e46d16fbcf">make_corpse_from_group</a>( <a class="code" href="classMonsterGroupManager.html#a4473484572f9b11682effd2e0a0b241b">MonsterGroupManager::GetResultFromGroup</a>( mission_specific_group,</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;                            &amp;results_from_mission_group ) );</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a359120c15f92d54a49fec9de7bcb571f"><div class="ttname"><a href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a></div><div class="ttdeci">bool x_in_y(const time_duration &amp;a, const time_duration &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00784">calendar.cpp:784</a></div></div>
<div class="ttc" id="aclassMonsterGroupManager_html_a4473484572f9b11682effd2e0a0b241b"><div class="ttname"><a href="classMonsterGroupManager.html#a4473484572f9b11682effd2e0a0b241b">MonsterGroupManager::GetResultFromGroup</a></div><div class="ttdeci">static std::vector&lt; MonsterGroupResult &gt; GetResultFromGroup(const mongroup_id &amp;group, int *quantity=nullptr, bool *mon_found=nullptr, bool is_recursive=false, bool *returned_default=nullptr, bool use_pack_size=false)</div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8cpp_source.html#l00204">mongroup.cpp:204</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a8a9157fe0ca7237eeb0665e46d16fbcf"><div class="ttname"><a href="classbasecamp.html#a8a9157fe0ca7237eeb0665e46d16fbcf">basecamp::make_corpse_from_group</a></div><div class="ttdeci">void make_corpse_from_group(const std::vector&lt; MonsterGroupResult &gt; &amp;group)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04752">faction_camp.cpp:4752</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a9aab960ce2179c39d896be22ef34306e"><div class="ttname"><a href="faction__camp_8cpp.html#a9aab960ce2179c39d896be22ef34306e">GROUP_CAMP_TRAPPING</a></div><div class="ttdeci">static const mongroup_id GROUP_CAMP_TRAPPING(&quot;GROUP_CAMP_TRAPPING&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_abdb3e13683df8e67eb52ead9ee9a5b59"><div class="ttname"><a href="faction__camp_8cpp.html#abdb3e13683df8e67eb52ead9ee9a5b59">GROUP_CAMP_HUNTING_LARGE</a></div><div class="ttdeci">static const mongroup_id GROUP_CAMP_HUNTING_LARGE(&quot;GROUP_CAMP_HUNTING_LARGE&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_adae2b6bd4f7b9b0918f97d9dc9696bea"><div class="ttname"><a href="faction__camp_8cpp.html#adae2b6bd4f7b9b0918f97d9dc9696bea">GROUP_CAMP_HUNTING</a></div><div class="ttdeci">static const mongroup_id GROUP_CAMP_HUNTING(&quot;GROUP_CAMP_HUNTING&quot;)</div></div>
<div class="ttc" id="astructMonsterGroup_html_a8872cf1b35a723b7a6d30650031ecfd4"><div class="ttname"><a href="structMonsterGroup.html#a8872cf1b35a723b7a6d30650031ecfd4">MonsterGroup::freq_total</a></div><div class="ttdeci">int freq_total</div><div class="ttdoc">Used for mongroup::is_safe()</div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8h_source.html#l00101">mongroup.h:101</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mission__companion_8h_source.html#l00072">Camp_Hunting</a>, <a class="el" href="mission__companion_8h_source.html#l00071">Camp_Trapping</a>, <a class="el" href="mongroup_8h_source.html#l00101">MonsterGroup::freq_total</a>, <a class="el" href="mongroup_8cpp_source.html#l00204">MonsterGroupManager::GetResultFromGroup()</a>, <a class="el" href="faction__camp_8cpp.html#adae2b6bd4f7b9b0918f97d9dc9696bea">GROUP_CAMP_HUNTING</a>, <a class="el" href="faction__camp_8cpp.html#abdb3e13683df8e67eb52ead9ee9a5b59">GROUP_CAMP_HUNTING_LARGE</a>, <a class="el" href="faction__camp_8cpp.html#a9aab960ce2179c39d896be22ef34306e">GROUP_CAMP_TRAPPING</a>, <a class="el" href="mission__companion_8h_source.html#l00104">mission_id::id</a>, <a class="el" href="faction__camp_8cpp_source.html#l04752">make_corpse_from_group()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, and <a class="el" href="calendar_8cpp_source.html#l00784">x_in_y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l03962">gathering_return()</a>.</p>

</div>
</div>
<a id="a6fa2dd55b8250e0b354291cb70c2a470"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fa2dd55b8250e0b354291cb70c2a470">&#9670;&nbsp;</a></span>is_hidden()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::is_hidden </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structui__mission__id.html">ui_mission_id</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00581">581</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;{</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>.empty() ) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keyword">const</span> <a class="code" href="structbase__camps_1_1direction__data.html">base_camps::direction_data</a> &amp;base_data = <a class="code" href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a>.at( <span class="keywordtype">id</span>.<span class="keywordtype">id</span>.dir.value() );</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structui__mission__id.html">ui_mission_id</a> &amp;miss_id : <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[<span class="keywordtype">size_t</span>( base_data.<a class="code" href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">tab_order</a> )] ) {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="mission__companion_8cpp.html#a2e12565efe5d1faa52a47c8263e9a8b9">is_equal</a>( miss_id, <span class="keywordtype">id</span> ) ) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8cpp_source.html#l00047">base_camps::all_directions</a>, <a class="el" href="basecamp_8h_source.html#l00196">hidden_missions</a>, <a class="el" href="mission__companion_8cpp_source.html#l00396">is_equal()</a>, and <a class="el" href="basecamp_8h_source.html#l00091">base_camps::direction_data::tab_order</a>.</p>

</div>
</div>
<a id="a3a97495a2d8dc70dd6395679d75dd7ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a97495a2d8dc70dd6395679d75dd7ab">&#9670;&nbsp;</a></span>is_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::is_valid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00166">166</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                     {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <span class="keywordflow">return</span> !<a class="code" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a>.empty() &amp;&amp; <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a> != <a class="code" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>();</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        }</div>
<div class="ttc" id="acoordinates_8h_html_a383a8345c0282c087ef788e4421c3ded"><div class="ttname"><a href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a></div><div class="ttdeci">coords::coord_point&lt; tripoint, coords::origin::abs, coords::omt &gt; tripoint_abs_omt</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00726">coordinates.h:726</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00199">name</a>, and <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00444">update_in_progress()</a>, <a class="el" href="basecamp_8cpp_source.html#l00429">update_provides()</a>, <a class="el" href="basecamp_8cpp_source.html#l00417">update_resources()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03875">upgrade_return()</a>, and <a class="el" href="game_8cpp_source.html#l01803">game::validate_camps()</a>.</p>

</div>
</div>
<a id="a5a26a815c51106fdab8be9c668d438b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a26a815c51106fdab8be9c668d438b0">&#9670;&nbsp;</a></span>job_assignment_ui()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::job_assignment_ui </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l02326">2326</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;{</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    <span class="keywordtype">int</span> entries_per_page = 0;</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;    <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> w_jobs;</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160; </div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;    <a class="code" href="classui__adaptor.html">ui_adaptor</a> <a class="code" href="namespaceui.html">ui</a>;</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.on_screen_resize( [&amp;]( <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;        <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> term( <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> &gt; <a class="code" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> ? ( <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> - <a class="code" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> ) / 2 : 0,</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;                          <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> &gt; <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> ? ( <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> ) / 2 : 0 );</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160; </div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;        w_jobs = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a>, <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a>,</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;                                     <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( term.y, term.x ) );</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160; </div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;        entries_per_page = <a class="code" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> - 5;</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160; </div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;        <a class="code" href="namespaceui.html">ui</a>.position_from_window( w_jobs );</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    } );</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160; </div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;    <span class="keywordtype">size_t</span> selection = 0;</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    <a class="code" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;FACTION_MANAGER&quot;</span> );</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;INSPECT_NPC&quot;</span> );</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    ctxt.register_navigate_ui_list();</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;CONFIRM&quot;</span> );</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> );</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <a class="code" href="classbasecamp.html#aaabb991fdf80cf5ad1c2eb38b2b6ab84">validate_assignees</a>();</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160; </div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    std::vector&lt;npc *&gt; stationed_npcs;</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <a class="code" href="classnpc.html">npc</a> *cur_npc = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160; </div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.on_redraw( [&amp;]( <span class="keyword">const</span> <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;        <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_jobs );</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">size_t</span> top_of_page = entries_per_page * ( selection / entries_per_page );</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> - 2; i++ ) {</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w_jobs, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 45, i ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> );</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;        }</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;        <a class="code" href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a>( w_jobs );</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_jobs, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 46, 1 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Job/Priority&quot;</span> ) );</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;        <span class="keyword">const</span> <a class="code" href="classnc__color.html">nc_color</a> col = <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>;</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;        <span class="keyword">const</span> std::string no_npcs = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;There are no NPCs stationed here&quot;</span> );</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;        <span class="keywordflow">if</span>( !stationed_npcs.empty() ) {</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;            <a class="code" href="output_8cpp.html#a37db5c581b2a20faa11b14164de305df">draw_scrollbar</a>( w_jobs, selection, entries_per_page, stationed_npcs.size(),</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;                            <a class="code" href="structpoint.html">point</a>( 0, 3 ) );</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = top_of_page; i &lt; stationed_npcs.size(); i++ ) {</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> y = i - top_of_page + 3;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;                <a class="code" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( w_jobs, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, y ), 43, selection == i ? <a class="code" href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a>( col ) : col,</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;                                stationed_npcs[i]-&gt;disp_name() );</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;            }</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;            <span class="keywordflow">if</span>( selection &lt; stationed_npcs.size() ) {</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;                <span class="keywordtype">int</span> start_y = 3;</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;                <span class="keywordflow">if</span>( cur_npc ) {</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;                    <span class="keywordflow">if</span>( cur_npc-&gt;<a class="code" href="classnpc.html#abb973d85b8141f14a41d43171eb32353">has_job</a>() ) {</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;                        <span class="keywordflow">for</span>( <a class="code" href="classstring__id.html">activity_id</a> &amp;elem : cur_npc-&gt;<a class="code" href="classnpc.html#abb6a5aefceeaa114ad6099c4b37060af">job</a>.<a class="code" href="classjob__data.html#a3268948e4e306da36705f0666f5741da">get_prioritised_vector</a>() ) {</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">int</span> priority = cur_npc-&gt;<a class="code" href="classnpc.html#abb6a5aefceeaa114ad6099c4b37060af">job</a>.<a class="code" href="classjob__data.html#a9a088b1ef414b06de0184794f89df640">get_priority_of_job</a>( elem );</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;                            <a class="code" href="classplayer__activity.html">player_activity</a> test_act = <a class="code" href="classplayer__activity.html">player_activity</a>( elem );</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;                            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_jobs, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 46, start_y ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s : %s&quot;</span> ),</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;                                       test_act.<a class="code" href="classplayer__activity.html#a5cb0c0038d5644696ece4789dd514c2a">get_verb</a>(), <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">std::to_string</a>( priority ) ) );</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;                            start_y++;</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;                        }</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;                        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_jobs, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 46, start_y ), <a class="code" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;No current job.&quot;</span> ) );</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;                    }</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;                }</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_jobs, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 46, 4 ), <a class="code" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>, no_npcs );</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;            }</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_jobs, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 46, 4 ), <a class="code" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>, no_npcs );</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;        }</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_jobs, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, <a class="code" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> - 2 ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;                   <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Press %s to inspect this follower.&quot;</span> ), ctxt.get_desc( <span class="stringliteral">&quot;INSPECT_NPC&quot;</span> ) );</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_jobs, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, <a class="code" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> - 1 ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;                   <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Press %s to change this workers job priorities.&quot;</span> ), ctxt.get_desc( <span class="stringliteral">&quot;CONFIRM&quot;</span> ) );</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;        <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_jobs );</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    } );</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160; </div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;        <span class="comment">// create a list of npcs stationed at this camp</span></div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;        stationed_npcs.clear();</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code" href="classbasecamp.html#a79a117bf67d2a527476aa152659632bb">get_npcs_assigned</a>() ) {</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;            <span class="keywordflow">if</span>( elem ) {</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;                stationed_npcs.push_back( elem.get() );</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;            }</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;        }</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;        cur_npc = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;        <span class="comment">// entries_per_page * page number</span></div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;        <span class="keywordflow">if</span>( !stationed_npcs.empty() ) {</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;            cur_npc = stationed_npcs[selection];</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;        }</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160; </div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;        <a class="code" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160; </div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;        <span class="keyword">const</span> std::string <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = ctxt.handle_input();</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;INSPECT_NPC&quot;</span> ) {</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;            <span class="keywordflow">if</span>( cur_npc ) {</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;                cur_npc-&gt;<a class="code" href="classCharacter.html#af5c5e43841a3f4bfbb4fa458edc14275">disp_info</a>();</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;            }</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="ui_8cpp.html#a30f314df91df066807f8f0e735ada959">navigate_ui_list</a>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>, selection, 5, stationed_npcs.size(), <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CONFIRM&quot;</span> ) {</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;            <span class="keywordflow">if</span>( cur_npc ) {</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;                <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;                    <a class="code" href="classuilist.html">uilist</a> smenu;</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;                    smenu.<a class="code" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Assign job priority (0 to disable)&quot;</span> );</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;                    <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;                    std::vector&lt;activity_id&gt; job_vec = cur_npc-&gt;<a class="code" href="classnpc.html#abb6a5aefceeaa114ad6099c4b37060af">job</a>.<a class="code" href="classjob__data.html#a3268948e4e306da36705f0666f5741da">get_prioritised_vector</a>();</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;                    smenu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( count, <span class="keyword">true</span>, <span class="charliteral">&#39;C&#39;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Clear all priorities&quot;</span> ) );</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;                    count++;</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">activity_id</a> &amp;elem : job_vec ) {</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;                        <a class="code" href="classplayer__activity.html">player_activity</a> test_act = <a class="code" href="classplayer__activity.html">player_activity</a>( elem );</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> priority = cur_npc-&gt;<a class="code" href="classnpc.html#abb6a5aefceeaa114ad6099c4b37060af">job</a>.<a class="code" href="classjob__data.html#a9a088b1ef414b06de0184794f89df640">get_priority_of_job</a>( elem );</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;                        smenu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( count, <span class="keyword">true</span>, <a class="code" href="ui_8h.html#a06d5f3667ed71fa40939c4e7367e30ce">MENU_AUTOASSIGN</a>, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s : %s&quot;</span> ), test_act.<a class="code" href="classplayer__activity.html#a5cb0c0038d5644696ece4789dd514c2a">get_verb</a>(),</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;                                        <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">std::to_string</a>( priority ) ) );</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;                        count++;</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;                    }</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;                    smenu.<a class="code" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;                    <span class="keywordflow">if</span>( smenu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> == <a class="code" href="ui_8h.html#ae8a811731dd950d56e478c3ddc17e725">UILIST_CANCEL</a> ) {</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;                    }</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;                    <span class="keywordflow">if</span>( smenu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> == 0 ) {</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;                        cur_npc-&gt;<a class="code" href="classnpc.html#abb6a5aefceeaa114ad6099c4b37060af">job</a>.<a class="code" href="classjob__data.html#aca3077a1f027955aadf8c2139c278e04">clear_all_priorities</a>();</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( smenu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> &gt; 0 &amp;&amp; smenu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> &lt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( job_vec.size() ) ) {</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;                        <a class="code" href="classstring__id.html">activity_id</a> sel_job = job_vec[size_t( smenu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> - 1 )];</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;                        <a class="code" href="classplayer__activity.html">player_activity</a> test_act = <a class="code" href="classplayer__activity.html">player_activity</a>( sel_job );</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;                        <span class="keyword">const</span> std::string formatted = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Priority for %s &quot;</span> ), test_act.<a class="code" href="classplayer__activity.html#a5cb0c0038d5644696ece4789dd514c2a">get_verb</a>() );</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> amount = <a class="code" href="classstring__input__popup.html">string_input_popup</a>()</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;                                           .<a class="code" href="classstring__input__popup.html#aa96aa0184abb3c9740c2a48f098eeb8b">title</a>( formatted )</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;                                           .<a class="code" href="classstring__input__popup.html#ab3273f9bfdeac38fff067187b1d3715c">width</a>( 20 )</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;                                           .<a class="code" href="classstring__input__popup.html#af38cf4937c0dea802498161d1642fb08">only_digits</a>( <span class="keyword">true</span> )</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;                                           .<a class="code" href="classstring__input__popup.html#ad9511310a3e0d119d5587fbf0f877c07">query_int</a>();</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;                        cur_npc-&gt;<a class="code" href="classnpc.html#abb6a5aefceeaa114ad6099c4b37060af">job</a>.<a class="code" href="classjob__data.html#abab745449e9640cdf19089d60e2cee3c">set_task_priority</a>( sel_job, amount );</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;                    }</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;                }</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;            }</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;        }</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;    }</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_af5c5e43841a3f4bfbb4fa458edc14275"><div class="ttname"><a href="classCharacter.html#af5c5e43841a3f4bfbb4fa458edc14275">Character::disp_info</a></div><div class="ttdeci">void disp_info(bool customize_character=false)</div><div class="ttdoc">Handles and displays detailed character info for the '@' screen.</div><div class="ttdef"><b>Definition:</b> <a href="player__display_8cpp_source.html#l01534">player_display.cpp:1534</a></div></div>
<div class="ttc" id="aclasscatacurses_1_1window_html"><div class="ttname"><a href="classcatacurses_1_1window.html">catacurses::window</a></div><div class="ttdoc">A wrapper over a pointer to a curses window.</div><div class="ttdef"><b>Definition:</b> <a href="cursesdef_8h_source.html#l00054">cursesdef.h:55</a></div></div>
<div class="ttc" id="aclassinput__context_html"><div class="ttname"><a href="classinput__context.html">input_context</a></div><div class="ttdoc">Represents a context in which a set of actions can be performed.</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8h_source.html#l00039">input_context.h:40</a></div></div>
<div class="ttc" id="aclassjob__data_html_a3268948e4e306da36705f0666f5741da"><div class="ttname"><a href="classjob__data.html#a3268948e4e306da36705f0666f5741da">job_data::get_prioritised_vector</a></div><div class="ttdeci">std::vector&lt; activity_id &gt; get_prioritised_vector() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l00202">npc.cpp:202</a></div></div>
<div class="ttc" id="aclassjob__data_html_a9a088b1ef414b06de0184794f89df640"><div class="ttname"><a href="classjob__data.html#a9a088b1ef414b06de0184794f89df640">job_data::get_priority_of_job</a></div><div class="ttdeci">int get_priority_of_job(const activity_id &amp;req_job) const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l00192">npc.cpp:192</a></div></div>
<div class="ttc" id="aclassjob__data_html_abab745449e9640cdf19089d60e2cee3c"><div class="ttname"><a href="classjob__data.html#abab745449e9640cdf19089d60e2cee3c">job_data::set_task_priority</a></div><div class="ttdeci">bool set_task_priority(const activity_id &amp;task, int new_priority)</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l00168">npc.cpp:168</a></div></div>
<div class="ttc" id="aclassjob__data_html_aca3077a1f027955aadf8c2139c278e04"><div class="ttname"><a href="classjob__data.html#aca3077a1f027955aadf8c2139c278e04">job_data::clear_all_priorities</a></div><div class="ttdeci">void clear_all_priorities()</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l00177">npc.cpp:177</a></div></div>
<div class="ttc" id="aclassnpc_html"><div class="ttname"><a href="classnpc.html">npc</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00791">npc.h:792</a></div></div>
<div class="ttc" id="aclassnpc_html_abb6a5aefceeaa114ad6099c4b37060af"><div class="ttname"><a href="classnpc.html#abb6a5aefceeaa114ad6099c4b37060af">npc::job</a></div><div class="ttdeci">job_data job</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01416">npc.h:1416</a></div></div>
<div class="ttc" id="aclassnpc_html_abb973d85b8141f14a41d43171eb32353"><div class="ttname"><a href="classnpc.html#abb973d85b8141f14a41d43171eb32353">npc::has_job</a></div><div class="ttdeci">bool has_job() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01316">npc.h:1316</a></div></div>
<div class="ttc" id="aclassplayer__activity_html"><div class="ttname"><a href="classplayer__activity.html">player_activity</a></div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00032">player_activity.h:33</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a5cb0c0038d5644696ece4789dd514c2a"><div class="ttname"><a href="classplayer__activity.html#a5cb0c0038d5644696ece4789dd514c2a">player_activity::get_verb</a></div><div class="ttdeci">const translation &amp; get_verb() const</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00114">player_activity.cpp:114</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html"><div class="ttname"><a href="classstring__input__popup.html">string_input_popup</a></div><div class="ttdoc">Shows a window querying the user for input.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00048">string_input_popup.h:49</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_aa96aa0184abb3c9740c2a48f098eeb8b"><div class="ttname"><a href="classstring__input__popup.html#aa96aa0184abb3c9740c2a48f098eeb8b">string_input_popup::title</a></div><div class="ttdeci">string_input_popup &amp; title(const std::string &amp;value)</div><div class="ttdoc">The title: short string before the actual input field.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00113">string_input_popup.h:113</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_ab3273f9bfdeac38fff067187b1d3715c"><div class="ttname"><a href="classstring__input__popup.html#ab3273f9bfdeac38fff067187b1d3715c">string_input_popup::width</a></div><div class="ttdeci">string_input_popup &amp; width(int value)</div><div class="ttdoc">Width (in console cells) of the input field itself.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00151">string_input_popup.h:151</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_ad9511310a3e0d119d5587fbf0f877c07"><div class="ttname"><a href="classstring__input__popup.html#ad9511310a3e0d119d5587fbf0f877c07">string_input_popup::query_int</a></div><div class="ttdeci">int query_int(bool loop=true, bool draw_only=false)</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8cpp_source.html#l00361">string_input_popup.cpp:361</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_af38cf4937c0dea802498161d1642fb08"><div class="ttname"><a href="classstring__input__popup.html#af38cf4937c0dea802498161d1642fb08">string_input_popup::only_digits</a></div><div class="ttdeci">string_input_popup &amp; only_digits(bool value)</div><div class="ttdoc">If true, any non-digit input cancels the input.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00166">string_input_popup.h:166</a></div></div>
<div class="ttc" id="aclassui__adaptor_html"><div class="ttname"><a href="classui__adaptor.html">ui_adaptor</a></div><div class="ttdoc">Adaptor between UI code and the UI management system.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00074">ui_manager.h:75</a></div></div>
<div class="ttc" id="aclassuilist_html_a0baa34622db6972a59d47d478bfd21d6"><div class="ttname"><a href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">uilist::ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00525">ui.h:525</a></div></div>
<div class="ttc" id="aclassuilist_html_a18fd9765355d9e418bc2c399048e0645"><div class="ttname"><a href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">uilist::addentry</a></div><div class="ttdeci">void addentry(const std::string &amp;txt)</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01210">ui.cpp:1210</a></div></div>
<div class="ttc" id="aclassuilist_html_af59dd3fdde04746dbc5cb52b355577ce"><div class="ttname"><a href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">uilist::text</a></div><div class="ttdeci">std::string text</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00419">ui.h:419</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a99e42a5de98370aab8662d4423cf4a4d"><div class="ttname"><a href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a></div><div class="ttdeci">nc_color hilite(const nc_color &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00546">color.cpp:546</a></div></div>
<div class="ttc" id="acolor_8h_html_aab11865a3631a7ce78da82b7fb386b71"><div class="ttname"><a href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a></div><div class="ttdeci">#define c_light_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00025">color.h:25</a></div></div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a></div><div class="ttdeci">@ action</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00044">dialogue.h:43</a></div></div>
<div class="ttc" id="agroup__UI_html_ga7604af7545244003f0a52ac87ce37979"><div class="ttname"><a href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">uilist::query</a></div><div class="ttdeci">void query(bool loop=true, int timeout=-1)</div><div class="ttdoc">Handle input and update display.</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01032">ui.cpp:1032</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a576fd20080b8f49e27acf97af45b374b"><div class="ttname"><a href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a></div><div class="ttdeci">window newwin(int nlines, int ncols, const point &amp;begin)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00058">ncurses_def.cpp:58</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_aa9823d249c21fa50daf277957fabb175"><div class="ttname"><a href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">catacurses::wnoutrefresh</a></div><div class="ttdeci">void wnoutrefresh(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00067">ncurses_def.cpp:67</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_ace2ce3990cb812fb83adf6e4ea1f9e8e"><div class="ttname"><a href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">catacurses::werase</a></div><div class="ttdeci">void werase(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00083">ncurses_def.cpp:83</a></div></div>
<div class="ttc" id="anamespaceui__manager_html_ae38f3a918052ef286ee60daac47f52d4"><div class="ttname"><a href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a></div><div class="ttdeci">void redraw()</div><div class="ttdoc">Invalidate the top window and redraw all invalidated windows.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00504">ui_manager.cpp:504</a></div></div>
<div class="ttc" id="anamespaceui_html"><div class="ttname"><a href="namespaceui.html">ui</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00024">overmap_ui.h:25</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a000abea6447dfafd5f9b787aa6753609"><div class="ttname"><a href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a></div><div class="ttdeci">int TERMX</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00049">output.cpp:49</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a32bc92e8282b63d800068ce8e182b269"><div class="ttname"><a href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a></div><div class="ttdeci">int FULL_SCREEN_HEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00058">output.cpp:58</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a37db5c581b2a20faa11b14164de305df"><div class="ttname"><a href="output_8cpp.html#a37db5c581b2a20faa11b14164de305df">draw_scrollbar</a></div><div class="ttdeci">void draw_scrollbar(const catacurses::window &amp;window, const int iCurrentLine, const int iContentHeight, const int iNumLines, const point &amp;offset, nc_color bar_color, const bool bDoNotScrollToEnd)</div><div class="ttdoc">Draw a scrollbar (Legacy function, use class scrollbar instead!)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01704">output.cpp:1704</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a567a63be8cb70cc3eb47bf8affced8e5"><div class="ttname"><a href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a></div><div class="ttdeci">int TERMY</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00050">output.cpp:50</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab7abbbd98907f496533db9bc2a02cf4a"><div class="ttname"><a href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a></div><div class="ttdeci">void trim_and_print(const catacurses::window &amp;w, const point &amp;begin, const int width, const nc_color &amp;base_color, const std::string &amp;text, const report_color_error color_error)</div><div class="ttdoc">Prints a single line of text.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00268">output.cpp:268</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afb5597c87a5847c7d64b878ab3a77d5b"><div class="ttname"><a href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a></div><div class="ttdeci">void mvwputch(const catacurses::window &amp;w, const point &amp;p, nc_color FG, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00590">output.cpp:590</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afea9968fcee47ebca0e45d27099d1c22"><div class="ttname"><a href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a></div><div class="ttdeci">void draw_border(const catacurses::window &amp;w, nc_color border_color, const std::string &amp;title, nc_color title_color)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00688">output.cpp:688</a></div></div>
<div class="ttc" id="aoutput_8h_html_a33ab4e0193402fed8f74590a30fadc3c"><div class="ttname"><a href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a></div><div class="ttdeci">#define LINE_XOXO</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00046">output.h:46</a></div></div>
<div class="ttc" id="aoutput_8h_html_a966901ace2cf6cba3fc9cec310150860"><div class="ttname"><a href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a></div><div class="ttdeci">#define BORDER_COLOR</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00098">output.h:98</a></div></div>
<div class="ttc" id="aui_8cpp_html_a30f314df91df066807f8f0e735ada959"><div class="ttname"><a href="ui_8cpp.html#a30f314df91df066807f8f0e735ada959">navigate_ui_list</a></div><div class="ttdeci">bool navigate_ui_list(const std::string &amp;action, V &amp;val, int page_delta, S size, bool wrap)</div><div class="ttdoc">Helper for typical UI list navigation with wrap-around Handles up, down, scroll_up and _down,...</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01421">ui.cpp:1421</a></div></div>
<div class="ttc" id="aui_8h_html_a06d5f3667ed71fa40939c4e7367e30ce"><div class="ttname"><a href="ui_8h.html#a06d5f3667ed71fa40939c4e7367e30ce">MENU_AUTOASSIGN</a></div><div class="ttdeci">const int MENU_AUTOASSIGN</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00038">ui.h:38</a></div></div>
<div class="ttc" id="aui_8h_html_ae8a811731dd950d56e478c3ddc17e725"><div class="ttname"><a href="ui_8h.html#ae8a811731dd950d56e478c3ddc17e725">UILIST_CANCEL</a></div><div class="ttdeci">const int UILIST_CANCEL</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00035">ui.h:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="dialogue_8h_source.html#l00043">action</a>, <a class="el" href="ui_8cpp_source.html#l01210">uilist::addentry()</a>, <a class="el" href="output_8h_source.html#l00098">BORDER_COLOR</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00025">c_light_red</a>, <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="npc_8cpp_source.html#l00177">job_data::clear_all_priorities()</a>, <a class="el" href="player__display_8cpp_source.html#l01534">Character::disp_info()</a>, <a class="el" href="output_8cpp_source.html#l00688">draw_border()</a>, <a class="el" href="output_8cpp_source.html#l01704">draw_scrollbar()</a>, <a class="el" href="output_8cpp_source.html#l00058">FULL_SCREEN_HEIGHT</a>, <a class="el" href="output_8cpp_source.html#l00057">FULL_SCREEN_WIDTH</a>, <a class="el" href="input__context_8cpp_source.html#l00269">input_context::get_desc()</a>, <a class="el" href="basecamp_8cpp_source.html#l00551">get_npcs_assigned()</a>, <a class="el" href="npc_8cpp_source.html#l00202">job_data::get_prioritised_vector()</a>, <a class="el" href="npc_8cpp_source.html#l00192">job_data::get_priority_of_job()</a>, <a class="el" href="player__activity_8cpp_source.html#l00114">player_activity::get_verb()</a>, <a class="el" href="input__context_8cpp_source.html#l00427">input_context::handle_input()</a>, <a class="el" href="npc_8h_source.html#l01316">npc::has_job()</a>, <a class="el" href="color_8cpp_source.html#l00546">hilite()</a>, <a class="el" href="npc_8h_source.html#l01416">npc::job</a>, <a class="el" href="output_8h_source.html#l00046">LINE_XOXO</a>, <a class="el" href="ui_8h_source.html#l00038">MENU_AUTOASSIGN</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="output_8cpp_source.html#l00590">mvwputch()</a>, <a class="el" href="ui_8cpp_source.html#l01421">navigate_ui_list()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00058">catacurses::newwin()</a>, <a class="el" href="string__input__popup_8h_source.html#l00166">string_input_popup::only_digits()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="ui_8cpp_source.html#l01032">uilist::query()</a>, <a class="el" href="string__input__popup_8cpp_source.html#l00361">string_input_popup::query_int()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00504">ui_manager::redraw()</a>, <a class="el" href="input__context_8cpp_source.html#l00180">input_context::register_action()</a>, <a class="el" href="input__context_8cpp_source.html#l00519">input_context::register_navigate_ui_list()</a>, <a class="el" href="ui_8h_source.html#l00525">uilist::ret</a>, <a class="el" href="npc_8cpp_source.html#l00168">job_data::set_task_priority()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="output_8cpp_source.html#l00049">TERMX</a>, <a class="el" href="output_8cpp_source.html#l00050">TERMY</a>, <a class="el" href="ui_8h_source.html#l00419">uilist::text</a>, <a class="el" href="string__input__popup_8h_source.html#l00113">string_input_popup::title()</a>, <a class="el" href="calendar_8cpp_source.html#l00546">to_string()</a>, <a class="el" href="output_8cpp_source.html#l00268">trim_and_print()</a>, <a class="el" href="ui_8h_source.html#l00035">UILIST_CANCEL</a>, <a class="el" href="basecamp_8cpp_source.html#l00522">validate_assignees()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00083">catacurses::werase()</a>, <a class="el" href="string__input__popup_8h_source.html#l00151">string_input_popup::width()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk__funcs_8cpp_source.html#l00430">talk_function::assign_camp()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="aec3a19acda6ffae29fd4102cfc567fe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec3a19acda6ffae29fd4102cfc567fe6">&#9670;&nbsp;</a></span>load_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::load_data </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00860">860</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;{</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    std::stringstream stream( data );</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    stream &gt;&gt; <a class="code" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a> &gt;&gt; <a class="code" href="classbasecamp.html#a0dc4ec3c6a2dc8c59a46364c6df93525">bb_pos</a>.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> &gt;&gt; <a class="code" href="classbasecamp.html#a0dc4ec3c6a2dc8c59a46364c6df93525">bb_pos</a>.<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="comment">// add space to name</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    replace( <a class="code" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a>.begin(), <a class="code" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a>.end(), <span class="charliteral">&#39;_&#39;</span>, <span class="charliteral">&#39; &#39;</span> );</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00492">bb_pos</a>, <a class="el" href="basecamp_8h_source.html#l00199">name</a>, <a class="el" href="point_8h_source.html#l00132">tripoint::x</a>, and <a class="el" href="point_8h_source.html#l00133">tripoint::y</a>.</p>

</div>
</div>
<a id="a8a9157fe0ca7237eeb0665e46d16fbcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a9157fe0ca7237eeb0665e46d16fbcf">&#9670;&nbsp;</a></span>make_corpse_from_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::make_corpse_from_group </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structMonsterGroupResult.html">MonsterGroupResult</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>group</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l04752">4752</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;{</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structMonsterGroupResult.html">MonsterGroupResult</a> &amp;<a class="code" href="classmonster.html">monster</a> : <a class="code" href="namespacesfx.html#a746a046c4c6989d32aa62d6799c2f496">group</a> ) {</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;        <span class="keyword">const</span> <a class="code" href="classstring__id.html">mtype_id</a> target = <a class="code" href="classmonster.html">monster</a>.<a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>;</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;        <a class="code" href="classitem.html">item</a> result = <a class="code" href="classitem.html#a843e57d31c5f26b3300b607446c8b860">item::make_corpse</a>( target, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;        <span class="keywordflow">if</span>( !result.<a class="code" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;            <span class="keywordtype">int</span> num_to_spawn = <a class="code" href="classmonster.html">monster</a>.pack_size;</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;                <a class="code" href="classbasecamp.html#a4a27f46f305c8f1ccaaa31c3879a83b6">place_results</a>( result );</div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;                num_to_spawn--;</div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;            } <span class="keywordflow">while</span>( num_to_spawn &gt; 0 );</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;        }</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;    }</div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;}</div>
<div class="ttc" id="aclassitem_html_a4d5555082454b3cb192f59a70838c891"><div class="ttname"><a href="classitem.html#a4d5555082454b3cb192f59a70838c891">item::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00931">item.cpp:931</a></div></div>
<div class="ttc" id="aclassitem_html_a843e57d31c5f26b3300b607446c8b860"><div class="ttname"><a href="classitem.html#a843e57d31c5f26b3300b607446c8b860">item::make_corpse</a></div><div class="ttdeci">static item make_corpse(const mtype_id &amp;mt=string_id&lt; mtype &gt;::NULL_ID(), time_point turn=calendar::turn, const std::string &amp;name=&quot;&quot;, int upgrade_time=-1)</div><div class="ttdoc">Make a corpse of the given monster type.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00604">item.cpp:604</a></div></div>
<div class="ttc" id="aclassmonster_html"><div class="ttname"><a href="classmonster.html">monster</a></div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00085">monster.h:86</a></div></div>
<div class="ttc" id="aclassmonster_html_a7cb9d9786d11c2c0926d3482d3f51ffe"><div class="ttname"><a href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">monster::name</a></div><div class="ttdeci">std::string name(unsigned int quantity=1) const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00722">monster.cpp:722</a></div></div>
<div class="ttc" id="anamespacesfx_html_a746a046c4c6989d32aa62d6799c2f496"><div class="ttname"><a href="namespacesfx.html#a746a046c4c6989d32aa62d6799c2f496">sfx::group</a></div><div class="ttdeci">group</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8h_source.html#l00140">sounds.h:140</a></div></div>
<div class="ttc" id="astructMonsterGroupResult_html"><div class="ttname"><a href="structMonsterGroupResult.html">MonsterGroupResult</a></div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8h_source.html#l00076">mongroup.h:76</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l00931">item::is_null()</a>, <a class="el" href="item_8cpp_source.html#l00604">item::make_corpse()</a>, <a class="el" href="monster_8cpp_source.html#l00722">monster::name()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05964">place_results()</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l04711">hunting_results()</a>.</p>

</div>
</div>
<a id="a0c6abe69c9b253e711d6068d23345822"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c6abe69c9b253e711d6068d23345822">&#9670;&nbsp;</a></span>make_fake_food()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> basecamp::make_fake_food </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnutrients.html">nutrients</a> &amp;&#160;</td>
          <td class="paramname"><em>to_use</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05653">5653</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;{</div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;    <span class="comment">// This is dumb, but effective.</span></div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;    std::string food_id = <span class="stringliteral">&quot;camp_meal_small&quot;</span>;</div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;    <span class="keywordflow">if</span>( to_use.<a class="code" href="structnutrients.html#a27fef4783e99c7f2471a9fabcabe19b5">kcal</a>() &gt; 3000 ) {</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;        food_id = <span class="stringliteral">&quot;camp_meal_large&quot;</span>;</div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( to_use.<a class="code" href="structnutrients.html#a27fef4783e99c7f2471a9fabcabe19b5">kcal</a>() &gt; 1000 ) {</div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;        food_id = <span class="stringliteral">&quot;camp_meal_medium&quot;</span>;</div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;    }</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;    <a class="code" href="classitem.html">item</a> food_item( food_id );</div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;    <span class="comment">// Set the default nutritional of the item.</span></div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;    <span class="comment">// This doesn&#39;t persist through save/load, but that&#39;s ok, we will be eating it immediately.</span></div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;    food_item.get_comestible()-&gt;default_nutrition = to_use;</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;    <span class="keywordflow">return</span> food_item;</div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l14803">item::get_comestible()</a>, and <a class="el" href="stomach_8cpp_source.html#l00118">nutrients::kcal()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l05569">feed_workers()</a>.</p>

</div>
</div>
<a id="aff07145dd46d64c0cec5e3c1b3472ddb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff07145dd46d64c0cec5e3c1b3472ddb">&#9670;&nbsp;</a></span>menial_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::menial_return </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l03950">3950</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;{</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;    <span class="keyword">const</span> std::string msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns from doing the dirty work to keep the camp running&quot;</span> );</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;    <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="classbasecamp.html#a431f82edab2eac0a98d87667535131e0">mission_return</a>( miss_id,</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;                                   3_hours, <span class="keyword">true</span>, msg, <a class="code" href="faction__camp_8cpp.html#ac460af631fae52c84c47d79e392301a4">skill_menial</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 2 );</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;    <span class="keywordflow">if</span>( comp == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;    }</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;    comp-&gt;revert_after_activity();</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="faction__camp_8cpp_source.html#l03819">mission_return()</a>, <a class="el" href="faction__camp_8cpp.html#ac460af631fae52c84c47d79e392301a4">skill_menial</a>, and <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a431f82edab2eac0a98d87667535131e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a431f82edab2eac0a98d87667535131e0">&#9670;&nbsp;</a></span>mission_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> basecamp::mission_return </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td>
          <td class="paramname"><em>min_duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fixed_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>return_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>skill</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>difficulty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a wrapper function for <a class="el" href="classbasecamp.html#acf5ed5fde0f408c8978fb50097196efe">companion_choose_return</a> and <a class="el" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a> </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l03819">3819</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;{</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;    <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="classbasecamp.html#acf5ed5fde0f408c8978fb50097196efe">companion_choose_return</a>( miss_id, min_duration );</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;    <span class="keywordflow">if</span>( comp != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;        <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, fixed_time, return_msg, skill, difficulty );</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;    }</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;    <span class="keywordflow">return</span> comp;</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction__camp_8cpp_source.html#l03748">companion_choose_return()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03950">menial_return()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l04270">recruit_return()</a>.</p>

</div>
</div>
<a id="a5d9a4158801c8a1c74b296b0a699eebe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d9a4158801c8a1c74b296b0a699eebe">&#9670;&nbsp;</a></span>name_display_of()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string basecamp::name_display_of </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05794">5794</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;{</div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;    <span class="keyword">const</span> std::string dir_abbr = <a class="code" href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a>.at(</div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;                                     miss_id.<a class="code" href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">dir</a>.value() ).bracket_abbr.translated();</div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;    std::vector&lt;basecamp_upgrade&gt; upgrades;</div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;    std::vector&lt;std::string&gt; pos_names;</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160; </div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;    <span class="keywordflow">switch</span>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> ) {</div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aa31d055f653f89fa89d708b653a29de5">No_Mission</a>:</div>
<div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a0f97c3e6e05e682436b3b5633b45ae76">Scavenging_Patrol_Job</a>:</div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aa8ce991d85439c0131af5f4dcfce51c4">Scavenging_Raid_Job</a>:</div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6af10012d12aeec59692e20d3e35059e34">Menial_Job</a>:</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a45f528d90c92c1699b4146495ec06ae5">Carpentry_Job</a>:</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a093afc7cc90d2950f30b7a40154b5915">Forage_Job</a>:</div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a3980bf4271b40f4066f259d0b5f91f3c">Caravan_Commune_Center_Job</a>:</div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160; </div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;        <span class="comment">//  Faction camp tasks</span></div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6ab06d2f803109eeed8adb43a06ea802bb">Camp_Distribute_Food</a>:</div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a713b676dd9b4bf1e694425d342518ab9">Camp_Determine_Leadership</a>:</div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aaf974ab52b4c5b7d5b45cf5a9073f528">Camp_Have_Meal</a>:</div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a76204a00c88b884497414b96d39f0b2a">Camp_Hide_Mission</a>:</div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a61cf4beb9bae90f8020f951768a8bfcb">Camp_Reveal_Mission</a>:</div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a161dfb9530d703d41010b26ce5817e7a">Camp_Assign_Jobs</a>:</div>
<div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6af0d94ba594b12aa0d3580a5e30456c7c">Camp_Assign_Workers</a>:</div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a2e3bc94df909bddc28ec0cf2f35d796f">Camp_Abandon</a>:</div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a5a37113b5e8219abb2f6e36829871112">Camp_Emergency_Recall</a>:</div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6ae26a02c8f7b369a75c4ee41f85cb099f">Camp_Gather_Materials</a>:</div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a5ac31fc9ae8f654b12ab7a145a9a6732">Camp_Collect_Firewood</a>:</div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a75c8d3203f3977eb52c449f8d728890f">Camp_Menial</a>:</div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6add9769d05141626e78ca44fc1589d443">Camp_Survey_Field</a>:</div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a1c3ab1763375b749e4d0fba9441142fc">Camp_Survey_Expansion</a>:</div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6abda6992194fe3f7300dee70a735748c1">Camp_Cut_Logs</a>:</div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a85d05fa81e3e46a06d2ba654f3df857e">Camp_Clearcut</a>:</div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6ab1460bad98da808c1366ffe147aa5bd9">Camp_Setup_Hide_Site</a>:</div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6af02810837b1f81122a2eb5f55da74fcd">Camp_Relay_Hide_Site</a>:</div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a9bf7b67cfd74658d8591a574927479b0">Camp_Foraging</a>:</div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a8daefc37cb40d56f81158b33df3072f0">Camp_Trapping</a>:</div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a920dbeb5ca6bec887e07240c55b74303">Camp_Hunting</a>:</div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a3dc190cb0632938b32137660d1602f12">Camp_OM_Fortifications</a>:</div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a31f2ca3f041871757c561b0cae0ef5a5">Camp_Recruiting</a>:</div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a10f274066c4806a92ec9fa150366e75a">Camp_Scouting</a>:</div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a888b467cca91ea5e057caec42bc2655b">Camp_Combat_Patrol</a>:</div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a9f00b9d7639801ae4af6d494067b8cf5">Camp_Chop_Shop</a>:</div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aea7bf0864ae107743e8d1b018a8115f9">Camp_Plow</a>:</div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a913bca7a664f619b40909d0e7c5fa9bf">Camp_Plant</a>:</div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a332c22fbdcb568f67e691b1445ed4387">Camp_Harvest</a>:</div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="faction__camp_8cpp.html#a139f4e083e3f73f47e406255793cfe01">mission_ui_activity_of</a>( miss_id );</div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160; </div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aa07965f31757446ae21b9e067eb62329">Camp_Upgrade</a>: {</div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;            upgrades = <a class="code" href="classbasecamp.html#a32e3db9be879ad31f4b2ebb79bcb208a">available_upgrades</a>( miss_id.<a class="code" href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">dir</a>.value() );</div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160; </div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;            <span class="keyword">auto</span> upgrade_it = std::find_if(</div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;                                  upgrades.begin(), upgrades.end(),</div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;            [&amp;]( <span class="keyword">const</span> <a class="code" href="structbasecamp__upgrade.html">basecamp_upgrade</a> &amp; <a class="code" href="namespacespell__effect.html#a73847499d33121194a7a79af77067788">upgrade</a> ) {</div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;                return upgrade.bldg == miss_id.parameters;</div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;            } );</div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;            <span class="keywordflow">if</span>( upgrade_it == upgrades.end() ) {</div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="faction__camp_8cpp.html#a139f4e083e3f73f47e406255793cfe01">mission_ui_activity_of</a>( miss_id ) + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;No longer valid construction&gt;&quot;</span> );</div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;            }</div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;            std::string result = <a class="code" href="faction__camp_8cpp.html#a139f4e083e3f73f47e406255793cfe01">mission_ui_activity_of</a>( miss_id ) + upgrade_it-&gt;name;</div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;            <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;rec = *<a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( upgrade_it-&gt;bldg );</div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const std::string, cata_variant&gt; &amp;arg : miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a>.<a class="code" href="structmapgen__arguments.html#a54f7fbf6f4844a2d2dc68e053b4dc207">map</a> ) {</div>
<div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;                result +=</div>
<div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;                    <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;                        <span class="stringliteral">&quot; (%s)&quot;</span>, rec.<a class="code" href="classrecipe.html#ada1915db56bca9b8a10c90c612ee4e81">blueprint_parameter_ui_string</a>( arg.first, arg.second ) );</div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;            }</div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;            <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;        }</div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a5d457dbea03c32f750a06ae20c17fd85">Camp_Crafting</a>: {</div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;            <span class="keyword">const</span> std::string dir_id = <a class="code" href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a>.at( miss_id.<a class="code" href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">dir</a>.value() ).id;</div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;            <span class="keyword">const</span> std::string dir_abbr = <a class="code" href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a>.at(</div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;                                             miss_id.<a class="code" href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">dir</a>.value() ).bracket_abbr.translated();</div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160; </div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;            <span class="keyword">const</span> std::map&lt;recipe_id, translation&gt; &amp;recipes = <a class="code" href="classbasecamp.html#aba6c99a1a18288ac5daa5441414f9241">recipe_deck</a>( miss_id.<a class="code" href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">dir</a>.value() );</div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> it = recipes.find( <a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> ) );</div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;            <span class="keywordflow">if</span>( it != recipes.end() ) {</div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;                <span class="keywordflow">return</span> dir_abbr + it-&gt;second;</div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;                <span class="keywordflow">return</span> dir_abbr + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; &lt;Unsupported recipe&gt;&quot;</span> );</div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;            }</div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;        }</div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;    }</div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;}</div>
<div class="ttc" id="aclassrecipe_html_ada1915db56bca9b8a10c90c612ee4e81"><div class="ttname"><a href="classrecipe.html#ada1915db56bca9b8a10c90c612ee4e81">recipe::blueprint_parameter_ui_string</a></div><div class="ttdeci">const translation &amp; blueprint_parameter_ui_string(const std::string &amp;param_name, const cata_variant &amp;arg_value) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01361">recipe.cpp:1361</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a139f4e083e3f73f47e406255793cfe01"><div class="ttname"><a href="faction__camp_8cpp.html#a139f4e083e3f73f47e406255793cfe01">mission_ui_activity_of</a></div><div class="ttdeci">static std::string mission_ui_activity_of(const mission_id &amp;miss_id)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00351">faction_camp.cpp:351</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a093afc7cc90d2950f30b7a40154b5915"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a093afc7cc90d2950f30b7a40154b5915">Forage_Job</a></div><div class="ttdeci">@ Forage_Job</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00046">mission_companion.h:46</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a0f97c3e6e05e682436b3b5633b45ae76"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a0f97c3e6e05e682436b3b5633b45ae76">Scavenging_Patrol_Job</a></div><div class="ttdeci">@ Scavenging_Patrol_Job</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00041">mission_companion.h:41</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a3980bf4271b40f4066f259d0b5f91f3c"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a3980bf4271b40f4066f259d0b5f91f3c">Caravan_Commune_Center_Job</a></div><div class="ttdeci">@ Caravan_Commune_Center_Job</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00047">mission_companion.h:47</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6a45f528d90c92c1699b4146495ec06ae5"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a45f528d90c92c1699b4146495ec06ae5">Carpentry_Job</a></div><div class="ttdeci">@ Carpentry_Job</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00045">mission_companion.h:45</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6aa8ce991d85439c0131af5f4dcfce51c4"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aa8ce991d85439c0131af5f4dcfce51c4">Scavenging_Raid_Job</a></div><div class="ttdeci">@ Scavenging_Raid_Job</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00042">mission_companion.h:42</a></div></div>
<div class="ttc" id="amission__companion_8h_html_ae3d13334ef71b08dcf0efc599c145bd6af10012d12aeec59692e20d3e35059e34"><div class="ttname"><a href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6af10012d12aeec59692e20d3e35059e34">Menial_Job</a></div><div class="ttdeci">@ Menial_Job</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00044">mission_companion.h:44</a></div></div>
<div class="ttc" id="astructmapgen__arguments_html_a54f7fbf6f4844a2d2dc68e053b4dc207"><div class="ttname"><a href="structmapgen__arguments.html#a54f7fbf6f4844a2d2dc68e053b4dc207">mapgen_arguments::map</a></div><div class="ttdeci">std::unordered_map&lt; std::string, cata_variant &gt; map</div><div class="ttdef"><b>Definition:</b> <a href="mapgendata_8h_source.html#l00043">mapgendata.h:43</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="basecamp_8cpp_source.html#l00047">base_camps::all_directions</a>, <a class="el" href="basecamp_8cpp_source.html#l00322">available_upgrades()</a>, <a class="el" href="recipe_8cpp_source.html#l01361">recipe::blueprint_parameter_ui_string()</a>, <a class="el" href="mission__companion_8h_source.html#l00057">Camp_Abandon</a>, <a class="el" href="mission__companion_8h_source.html#l00055">Camp_Assign_Jobs</a>, <a class="el" href="mission__companion_8h_source.html#l00056">Camp_Assign_Workers</a>, <a class="el" href="mission__companion_8h_source.html#l00077">Camp_Chop_Shop</a>, <a class="el" href="mission__companion_8h_source.html#l00067">Camp_Clearcut</a>, <a class="el" href="mission__companion_8h_source.html#l00062">Camp_Collect_Firewood</a>, <a class="el" href="mission__companion_8h_source.html#l00076">Camp_Combat_Patrol</a>, <a class="el" href="mission__companion_8h_source.html#l00060">Camp_Crafting</a>, <a class="el" href="mission__companion_8h_source.html#l00066">Camp_Cut_Logs</a>, <a class="el" href="mission__companion_8h_source.html#l00051">Camp_Determine_Leadership</a>, <a class="el" href="mission__companion_8h_source.html#l00050">Camp_Distribute_Food</a>, <a class="el" href="mission__companion_8h_source.html#l00059">Camp_Emergency_Recall</a>, <a class="el" href="mission__companion_8h_source.html#l00070">Camp_Foraging</a>, <a class="el" href="mission__companion_8h_source.html#l00061">Camp_Gather_Materials</a>, <a class="el" href="mission__companion_8h_source.html#l00080">Camp_Harvest</a>, <a class="el" href="mission__companion_8h_source.html#l00052">Camp_Have_Meal</a>, <a class="el" href="mission__companion_8h_source.html#l00053">Camp_Hide_Mission</a>, <a class="el" href="mission__companion_8h_source.html#l00072">Camp_Hunting</a>, <a class="el" href="mission__companion_8h_source.html#l00063">Camp_Menial</a>, <a class="el" href="mission__companion_8h_source.html#l00073">Camp_OM_Fortifications</a>, <a class="el" href="mission__companion_8h_source.html#l00079">Camp_Plant</a>, <a class="el" href="mission__companion_8h_source.html#l00078">Camp_Plow</a>, <a class="el" href="mission__companion_8h_source.html#l00074">Camp_Recruiting</a>, <a class="el" href="mission__companion_8h_source.html#l00069">Camp_Relay_Hide_Site</a>, <a class="el" href="mission__companion_8h_source.html#l00054">Camp_Reveal_Mission</a>, <a class="el" href="mission__companion_8h_source.html#l00075">Camp_Scouting</a>, <a class="el" href="mission__companion_8h_source.html#l00068">Camp_Setup_Hide_Site</a>, <a class="el" href="mission__companion_8h_source.html#l00065">Camp_Survey_Expansion</a>, <a class="el" href="mission__companion_8h_source.html#l00064">Camp_Survey_Field</a>, <a class="el" href="mission__companion_8h_source.html#l00071">Camp_Trapping</a>, <a class="el" href="mission__companion_8h_source.html#l00058">Camp_Upgrade</a>, <a class="el" href="mission__companion_8h_source.html#l00047">Caravan_Commune_Center_Job</a>, <a class="el" href="mission__companion_8h_source.html#l00045">Carpentry_Job</a>, <a class="el" href="mission__companion_8h_source.html#l00107">mission_id::dir</a>, <a class="el" href="mission__companion_8h_source.html#l00046">Forage_Job</a>, <a class="el" href="mission__companion_8h_source.html#l00104">mission_id::id</a>, <a class="el" href="mapgendata_8h_source.html#l00043">mapgen_arguments::map</a>, <a class="el" href="mission__companion_8h_source.html#l00106">mission_id::mapgen_args</a>, <a class="el" href="mission__companion_8h_source.html#l00044">Menial_Job</a>, <a class="el" href="faction__camp_8cpp_source.html#l00351">mission_ui_activity_of()</a>, <a class="el" href="mission__companion_8h_source.html#l00038">No_Mission</a>, <a class="el" href="mission__companion_8h_source.html#l00105">mission_id::parameters</a>, <a class="el" href="basecamp_8cpp_source.html#l00388">recipe_deck()</a>, <a class="el" href="mission__companion_8h_source.html#l00041">Scavenging_Patrol_Job</a>, <a class="el" href="mission__companion_8h_source.html#l00042">Scavenging_Raid_Job</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, and <a class="el" href="magic__spell__effect_8cpp_source.html#l01485">spell_effect::upgrade()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01393">get_available_missions()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00787">get_available_missions_by_dir()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05908">handle_hide_mission()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l05880">handle_reveal_mission()</a>.</p>

</div>
</div>
<a id="a91a411d614d10dc5c507058518613740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91a411d614d10dc5c507058518613740">&#9670;&nbsp;</a></span>next_upgrade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string basecamp::next_upgrade </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the name of the building the current building dir upgrades into, "null" if there isn't one. </p>

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00265">265</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;{</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e = <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( dir );</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">if</span>( e == <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.end() ) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;null&quot;</span>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keyword">const</span> <a class="code" href="structexpansion__data.html">expansion_data</a> &amp;e_data = e-&gt;second;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordtype">int</span> cur_level = -1;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="namespacebase__camps.html#a11becc5688aac40a12f2bc2e33d605c1">base_camps::max_upgrade_by_type</a>( e_data.<a class="code" href="structexpansion__data.html#a52e0ba7c4995c3fb4fb64a38ccbec920">type</a> ); i++ ) {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keyword">const</span> std::string candidate = <a class="code" href="namespacebase__camps.html#a64d9c75a4dc27d18e1c8292e27946b28">base_camps::faction_encode_abs</a>( e_data, i );</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">if</span>( e_data.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>.find( candidate ) == e_data.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>.end() ) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            cur_level = i;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span>( cur_level &gt;= 0 ) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacebase__camps.html#a64d9c75a4dc27d18e1c8292e27946b28">base_camps::faction_encode_abs</a>( e_data, cur_level + offset );</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;null&quot;</span>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div>
<div class="ttc" id="anamespacebase__camps_html_a11becc5688aac40a12f2bc2e33d605c1"><div class="ttname"><a href="namespacebase__camps.html#a11becc5688aac40a12f2bc2e33d605c1">base_camps::max_upgrade_by_type</a></div><div class="ttdeci">int max_upgrade_by_type(const std::string &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00104">basecamp.cpp:104</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="basecamp_8cpp_source.html#l00075">base_camps::faction_encode_abs()</a>, <a class="el" href="basecamp_8cpp_source.html#l00104">base_camps::max_upgrade_by_type()</a>, <a class="el" href="basecamp_8h_source.html#l00056">expansion_data::provides</a>, and <a class="el" href="basecamp_8h_source.html#l00054">expansion_data::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction_8cpp_source.html#l00560">faction_display()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l03875">upgrade_return()</a>.</p>

</div>
</div>
<a id="a756bb73b0f45a91a6a2bb9a1b59ebde0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a756bb73b0f45a91a6a2bb9a1b59ebde0">&#9670;&nbsp;</a></span>om_upgrade_description()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string basecamp::om_upgrade_description </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>bldg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmapgen__arguments.html">mapgen_arguments</a> &amp;&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>trunc</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the description for the recipe of the next building bldg. </p>

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00219">219</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;making = <a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( bldg ).<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keyword">const</span> <a class="code" href="structrequirement__data.html">requirement_data</a> *reqs;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="classtime__duration.html">time_duration</a> base_time;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keyword">const</span> std::map&lt;skill_id, int&gt; *<a class="code" href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a9cb33f7a7315d3cd8c5cf886691982b3aa658279f9b983958149f31e4d8487673">skills</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">if</span>( making.<a class="code" href="classrecipe.html#acef4205b638841f8e1980005728fcf90">is_blueprint</a>() ) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keyword">auto</span> req_it = making.<a class="code" href="classrecipe.html#a6bf6a221531a705e16bd859596050d4a">blueprint_build_reqs</a>().<a class="code" href="structparameterized__build__reqs.html#ab9c7e2f44e3a3c6bbbfe79369e7b2d11">reqs_by_parameters</a>.find( args );</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( req_it != making.<a class="code" href="classrecipe.html#a6bf6a221531a705e16bd859596050d4a">blueprint_build_reqs</a>().<a class="code" href="structparameterized__build__reqs.html#ab9c7e2f44e3a3c6bbbfe79369e7b2d11">reqs_by_parameters</a>.end() );</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keyword">const</span> <a class="code" href="structbuild__reqs.html">build_reqs</a> &amp;bld_reqs = req_it-&gt;second;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        reqs = &amp;bld_reqs.<a class="code" href="structbuild__reqs.html#a7cfffd75159c7f6e4008161a3519602a">consolidated_reqs</a>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        base_time = <a class="code" href="classtime__duration.html#aacd074821aecb38a24d9ce6ca42a9127">time_duration::from_moves</a>( bld_reqs.<a class="code" href="structbuild__reqs.html#ad90bc6a5658073c2f2fe0e02fa4ff7fd">time</a> );</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a9cb33f7a7315d3cd8c5cf886691982b3aa658279f9b983958149f31e4d8487673">skills</a> = &amp;bld_reqs.<a class="code" href="structbuild__reqs.html#a304dc1a580a2fac74f3e2e337d8ce877">skills</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        reqs = &amp;making.<a class="code" href="classrecipe.html#ad68760d09d83ba4b7793ad831f7973d5">simple_requirements</a>();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        base_time = making.<a class="code" href="classrecipe.html#ae6f40cf521235b40c169fbe66a677976">batch_duration</a>( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>() );</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a9cb33f7a7315d3cd8c5cf886691982b3aa658279f9b983958149f31e4d8487673">skills</a> = &amp;making.<a class="code" href="classrecipe.html#a0f8a4801e8ff8e2c0310b04ef0c4a245">required_skills</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    std::vector&lt;std::string&gt; component_print_buffer;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> pane = <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> tools = reqs-&gt;<a class="code" href="structrequirement__data.html#a7518cd295931d5e30f6ba0341f90aa8b">get_folded_tools_list</a>( pane, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a>, 1 );</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> comps = reqs-&gt;<a class="code" href="structrequirement__data.html#a9b9025140c166ce2a00fcf41db96b7a9">get_folded_components_list</a>( pane, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a>,</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                       making.<a class="code" href="classrecipe.html#a45b065c59b172ccab9e0630fd036fe09">get_component_filter</a>(), 1 );</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    component_print_buffer.insert( component_print_buffer.end(), tools.begin(), tools.end() );</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    component_print_buffer.insert( component_print_buffer.end(), comps.begin(), comps.end() );</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    std::string comp;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : component_print_buffer ) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <a class="code" href="cata__utility_8h.html#a08531d647db70a8f67a522176a6f2130">str_append</a>( comp, elem, <span class="stringliteral">&quot;\n&quot;</span> );</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    comp = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n%s\n\nSkills used: %s\n%s\n&quot;</span> ),</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                          making.<a class="code" href="classrecipe.html#a334fe87cf6e3da5ad075fcabeae44c7c">description</a>, making.<a class="code" href="classrecipe.html#ae4d5a89f27e3c07bf2b7dc72d3be4433">required_all_skills_string</a>( *skills ),</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                          comp );</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="math__parser__func_8h.html#ae1493a6511be3f794432c20e30fa3bfd">trunc</a> ) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        comp += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Risk: None\nTime: %s\n&quot;</span> ),</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                               <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a>( <a class="code" href="namespacebase__camps.html#a8922377c7d85cf4e79f0445b4b6e819c">base_camps::to_workdays</a>( base_time ) ) );</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">return</span> comp;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div>
<div class="ttc" id="acata__assert_8h_html_abb2ca9fce6a171932c05748ecc5df5bb"><div class="ttname"><a href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a></div><div class="ttdeci">#define cata_assert(expression)</div><div class="ttdef"><b>Definition:</b> <a href="cata__assert_8h_source.html#l00036">cata_assert.h:36</a></div></div>
<div class="ttc" id="aclassrecipe_html_a334fe87cf6e3da5ad075fcabeae44c7c"><div class="ttname"><a href="classrecipe.html#a334fe87cf6e3da5ad075fcabeae44c7c">recipe::description</a></div><div class="ttdeci">translation description</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00129">recipe.h:129</a></div></div>
<div class="ttc" id="aclassrecipe_html_acef4205b638841f8e1980005728fcf90"><div class="ttname"><a href="classrecipe.html#acef4205b638841f8e1980005728fcf90">recipe::is_blueprint</a></div><div class="ttdeci">bool is_blueprint() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01346">recipe.cpp:1346</a></div></div>
<div class="ttc" id="aclassrecipe_html_ae4d5a89f27e3c07bf2b7dc72d3be4433"><div class="ttname"><a href="classrecipe.html#ae4d5a89f27e3c07bf2b7dc72d3be4433">recipe::required_all_skills_string</a></div><div class="ttdeci">std::string required_all_skills_string(const std::map&lt; skill_id, int &gt; &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01199">recipe.cpp:1199</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_ae1493a6511be3f794432c20e30fa3bfd"><div class="ttname"><a href="math__parser__func_8h.html#ae1493a6511be3f794432c20e30fa3bfd">trunc</a></div><div class="ttdeci">double trunc(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00105">math_parser_func.h:105</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02player__display_8cpp_03_html_a9cb33f7a7315d3cd8c5cf886691982b3aa658279f9b983958149f31e4d8487673"><div class="ttname"><a href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a9cb33f7a7315d3cd8c5cf886691982b3aa658279f9b983958149f31e4d8487673">anonymous_namespace{player_display.cpp}::player_display_tab::skills</a></div><div class="ttdeci">@ skills</div></div>
<div class="ttc" id="astructbuild__reqs_html"><div class="ttname"><a href="structbuild__reqs.html">build_reqs</a></div><div class="ttdef"><b>Definition:</b> <a href="build__reqs_8h_source.html#l00014">build_reqs.h:14</a></div></div>
<div class="ttc" id="astructbuild__reqs_html_a304dc1a580a2fac74f3e2e337d8ce877"><div class="ttname"><a href="structbuild__reqs.html#a304dc1a580a2fac74f3e2e337d8ce877">build_reqs::skills</a></div><div class="ttdeci">std::map&lt; skill_id, int &gt; skills</div><div class="ttdef"><b>Definition:</b> <a href="build__reqs_8h_source.html#l00015">build_reqs.h:15</a></div></div>
<div class="ttc" id="astructbuild__reqs_html_a7cfffd75159c7f6e4008161a3519602a"><div class="ttname"><a href="structbuild__reqs.html#a7cfffd75159c7f6e4008161a3519602a">build_reqs::consolidated_reqs</a></div><div class="ttdeci">requirement_data consolidated_reqs</div><div class="ttdef"><b>Definition:</b> <a href="build__reqs_8h_source.html#l00019">build_reqs.h:19</a></div></div>
<div class="ttc" id="astructbuild__reqs_html_ad90bc6a5658073c2f2fe0e02fa4ff7fd"><div class="ttname"><a href="structbuild__reqs.html#ad90bc6a5658073c2f2fe0e02fa4ff7fd">build_reqs::time</a></div><div class="ttdeci">int time</div><div class="ttdef"><b>Definition:</b> <a href="build__reqs_8h_source.html#l00017">build_reqs.h:17</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="basecamp_8h_source.html#l00505">_inv</a>, <a class="el" href="recipe_8cpp_source.html#l00071">recipe::batch_duration()</a>, <a class="el" href="recipe_8cpp_source.html#l01404">recipe::blueprint_build_reqs()</a>, <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="cata__assert_8h_source.html#l00036">cata_assert</a>, <a class="el" href="build__reqs_8h_source.html#l00019">build_reqs::consolidated_reqs</a>, <a class="el" href="recipe_8h_source.html#l00129">recipe::description</a>, <a class="el" href="calendar_8h_source.html#l00225">time_duration::from_moves()</a>, <a class="el" href="output_8cpp_source.html#l00057">FULL_SCREEN_WIDTH</a>, <a class="el" href="recipe_8cpp_source.html#l01256">recipe::get_component_filter()</a>, <a class="el" href="requirements_8cpp_source.html#l00732">requirement_data::get_folded_components_list()</a>, <a class="el" href="requirements_8cpp_source.html#l00819">requirement_data::get_folded_tools_list()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="recipe_8cpp_source.html#l01346">recipe::is_blueprint()</a>, <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>, <a class="el" href="build__reqs_8h_source.html#l00038">parameterized_build_reqs::reqs_by_parameters</a>, <a class="el" href="recipe_8cpp_source.html#l01199">recipe::required_all_skills_string()</a>, <a class="el" href="recipe_8h_source.html#l00189">recipe::required_skills</a>, <a class="el" href="recipe_8h_source.html#l00147">recipe::simple_requirements()</a>, <a class="el" href="build__reqs_8h_source.html#l00015">build_reqs::skills</a>, <a class="el" href="cata__utility_8h_source.html#l00523">str_append()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="build__reqs_8h_source.html#l00017">build_reqs::time</a>, <a class="el" href="calendar_8cpp_source.html#l00546">to_string()</a>, <a class="el" href="basecamp_8cpp_source.html#l00092">base_camps::to_workdays()</a>, and <a class="el" href="math__parser__func_8h_source.html#l00105">trunc()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00787">get_available_missions_by_dir()</a>.</p>

</div>
</div>
<a id="aec8c9d3dc62bff25c4871ee6b427c29a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec8c9d3dc62bff25c4871ee6b427c29a">&#9670;&nbsp;</a></span>parse_expansion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structexpansion__data.html">expansion_data</a> basecamp::parse_expansion </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>terrain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;&#160;</td>
          <td class="paramname"><em>new_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00154">154</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;{</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="structexpansion__data.html">expansion_data</a> e;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordtype">size_t</span> last_bar = <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a>.find_last_of( <span class="charliteral">&#39;_&#39;</span> );</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    e.<a class="code" href="structexpansion__data.html#a52e0ba7c4995c3fb4fb64a38ccbec920">type</a> = <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a>.substr( <a class="code" href="namespacebase__camps.html#a28832cf25e9985baab0a6cc9ac1323e2">base_camps::prefix_len</a>, last_bar - <a class="code" href="namespacebase__camps.html#a28832cf25e9985baab0a6cc9ac1323e2">base_camps::prefix_len</a> );</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    e.<a class="code" href="structexpansion__data.html#ac992b028d47f0f65f44501349f348e71">cur_level</a> = std::stoi( <a class="code" href="cata__utility_8h.html#a9739926e3b8f62356233563beb9542b2">str_cat</a>( <span class="stringliteral">&quot;0&quot;</span>, <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a>.substr( last_bar + 1 ) ) );</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    e.<a class="code" href="structexpansion__data.html#a804029365a52ec62c7ef92e93ec20d9c">pos</a> = new_pos;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> e;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="ttc" id="acata__utility_8h_html_a9739926e3b8f62356233563beb9542b2"><div class="ttname"><a href="cata__utility_8h.html#a9739926e3b8f62356233563beb9542b2">str_cat</a></div><div class="ttdeci">std::string str_cat(T0 &amp;&amp;a0, T &amp;&amp;...a)</div><div class="ttdoc">Concatenates a bunch of strings with append, to minimize unnecessary allocations.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8h_source.html#l00539">cata_utility.h:539</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_a28832cf25e9985baab0a6cc9ac1323e2"><div class="ttname"><a href="namespacebase__camps.html#a28832cf25e9985baab0a6cc9ac1323e2">base_camps::prefix_len</a></div><div class="ttdeci">const int prefix_len</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00106">basecamp.h:106</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00060">expansion_data::cur_level</a>, <a class="el" href="basecamp_8h_source.html#l00058">expansion_data::pos</a>, <a class="el" href="basecamp_8h_source.html#l00106">base_camps::prefix_len</a>, <a class="el" href="cata__utility_8h_source.html#l00539">str_cat()</a>, <a class="el" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a>, and <a class="el" href="basecamp_8h_source.html#l00054">expansion_data::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00165">add_expansion()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00190">define_camp()</a>.</p>

</div>
</div>
<a id="a4a27f46f305c8f1ccaaa31c3879a83b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a27f46f305c8f1ccaaa31c3879a83b6">&#9670;&nbsp;</a></span>place_results()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::place_results </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05964">5964</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;{</div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;target_bay = <a class="code" href="classbasecamp.html#aada281e7799622225de08dd341bdd2f6">get_camp_map</a>();</div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;    <a class="code" href="classbasecamp.html#aa5035a6fb7b72c1b5897689fbd7f3d28">form_storage_zones</a>( target_bay, target_bay.<a class="code" href="classmap.html#ac868b594b36b6b9bbcb130650fd4f61f">getglobal</a>( target_bay.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( <a class="code" href="classbasecamp.html#a0dc4ec3c6a2dc8c59a46364c6df93525">bb_pos</a> ) ) );</div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> new_spot = target_bay.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( <a class="code" href="classbasecamp.html#a73460c18ede5441db580438105fed234">get_dumping_spot</a>() );</div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;    <span class="comment">// Special handling for liquids</span></div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;    <span class="comment">// find any storage-zoned LIQUIDCONT we can dump them in, set that as the item&#39;s destination instead</span></div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;    <span class="keywordflow">if</span>( result.<a class="code" href="classitem.html#a0795ac0d3e2ba958ab3a6ff4e282482b">made_of</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) ) {</div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> potential_spot : <a class="code" href="classbasecamp.html#a28e4cc544b6944dc778233c428b3510a">get_liquid_dumping_spot</a>() ) {</div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;            <span class="comment">// No items at a potential spot? Set the destination there and stop checking.</span></div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;            <span class="comment">// We could check if the item at the tile are the same as the item we&#39;re placing, but liquids of the same typeid</span></div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;            <span class="comment">// don&#39;t always mix depending on their components...</span></div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;            <span class="keywordflow">if</span>( target_bay.<a class="code" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( target_bay.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( potential_spot ) ).<a class="code" href="classitem__stack.html#a83fd3bd296c75326b3709280804acef4">empty</a>() ) {</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;                new_spot = target_bay.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( potential_spot );</div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;            }</div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;            <span class="comment">// We&#39;ve processed the last spot and haven&#39;t found anywhere to put it, we&#39;ll end up using dumping_spot.</span></div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;            <span class="comment">// Throw a warning to let players know what&#39;s going on. Unfortunately we can&#39;t back out of finishing the mission this deep in the process.</span></div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;            <span class="keywordflow">if</span>( potential_spot == <a class="code" href="classbasecamp.html#a28e4cc544b6944dc778233c428b3510a">get_liquid_dumping_spot</a>().back() ) {</div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;                <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;No eligible locations found to place resulting liquids, placing them at random.\n\nEligible locations must be a terrain OR furniture (not item) that can contain liquid, and does not already have any items on its tile.&quot;</span> ) );</div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;            }</div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;        }</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;    }</div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;    target_bay.<a class="code" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( new_spot, result, <span class="keyword">true</span> );</div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;    <a class="code" href="faction__camp_8cpp.html#ab8056b507a783b52d1ecd5fdefea6e27">apply_camp_ownership</a>( target_bay, new_spot, 10 );</div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;    target_bay.<a class="code" href="classmap.html#a6bc669c8915ae41469ef8f0b5e925c3e">save</a>();</div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a28e4cc544b6944dc778233c428b3510a"><div class="ttname"><a href="classbasecamp.html#a28e4cc544b6944dc778233c428b3510a">basecamp::get_liquid_dumping_spot</a></div><div class="ttdeci">const std::vector&lt; tripoint_abs_ms &gt; &amp; get_liquid_dumping_spot() const</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00305">basecamp.h:305</a></div></div>
<div class="ttc" id="aclassbasecamp_html_aa5035a6fb7b72c1b5897689fbd7f3d28"><div class="ttname"><a href="classbasecamp.html#aa5035a6fb7b72c1b5897689fbd7f3d28">basecamp::form_storage_zones</a></div><div class="ttdeci">void form_storage_zones(map &amp;here, const tripoint_abs_ms &amp;abspos)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00666">basecamp.cpp:666</a></div></div>
<div class="ttc" id="aclassitem__stack_html_a83fd3bd296c75326b3709280804acef4"><div class="ttname"><a href="classitem__stack.html#a83fd3bd296c75326b3709280804acef4">item_stack::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8cpp_source.html#l00019">item_stack.cpp:19</a></div></div>
<div class="ttc" id="aclassitem_html_a0795ac0d3e2ba958ab3a6ff4e282482b"><div class="ttname"><a href="classitem.html#a0795ac0d3e2ba958ab3a6ff4e282482b">item::made_of</a></div><div class="ttdeci">const std::map&lt; material_id, int &gt; &amp; made_of() const</div><div class="ttdoc">The ids of all the materials this is made of.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09146">item.cpp:9146</a></div></div>
<div class="ttc" id="aclassmap_html_a5579e13088b4ccd9c5a75458919d528a"><div class="ttname"><a href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">map::add_item_or_charges</a></div><div class="ttdeci">item &amp; add_item_or_charges(const tripoint &amp;pos, item obj, bool overflow=true)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05177">map.cpp:5177</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a></div><div class="ttdeci">@ LIQUID</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_ab8056b507a783b52d1ecd5fdefea6e27"><div class="ttname"><a href="faction__camp_8cpp.html#ab8056b507a783b52d1ecd5fdefea6e27">apply_camp_ownership</a></div><div class="ttdeci">static void apply_camp_ownership(map &amp;here, const tripoint &amp;camp_pos, int radius)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05992">faction_camp.cpp:5992</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="map_8cpp_source.html#l05177">map::add_item_or_charges()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05992">apply_camp_ownership()</a>, <a class="el" href="basecamp_8h_source.html#l00492">bb_pos</a>, <a class="el" href="item__stack_8cpp_source.html#l00019">item_stack::empty()</a>, <a class="el" href="basecamp_8cpp_source.html#l00666">form_storage_zones()</a>, <a class="el" href="basecamp_8cpp_source.html#l00790">get_camp_map()</a>, <a class="el" href="basecamp_8h_source.html#l00302">get_dumping_spot()</a>, <a class="el" href="basecamp_8h_source.html#l00305">get_liquid_dumping_spot()</a>, <a class="el" href="map_8cpp_source.html#l09625">map::getglobal()</a>, <a class="el" href="map_8cpp_source.html#l09635">map::getlocal()</a>, <a class="el" href="map_8cpp_source.html#l04978">map::i_at()</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l09146">item::made_of()</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, and <a class="el" href="map_8cpp_source.html#l07879">map::save()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04752">make_corpse_from_group()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l04698">search_results()</a>.</p>

</div>
</div>
<a id="ad52e6d4706afa091e577b6c6d241576a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad52e6d4706afa091e577b6c6d241576a">&#9670;&nbsp;</a></span>player_eats_meal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::player_eats_meal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l01700">1700</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;{</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <span class="keywordtype">int</span> kcal_to_eat = 3000;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;you = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> &amp;food_available = <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;<a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a>.<a class="code" href="structnutrients.html#a27fef4783e99c7f2471a9fabcabe19b5">kcal</a>();</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    <span class="keywordflow">if</span>( food_available &lt;= 0 ) {</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You check storage for some food, but there is nothing but dust and cobwebs&quot;</span> ) );</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( food_available &lt;= kcal_to_eat ) {</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;There&#39;s only one meal left.  Guess that&#39;s dinner!&quot;</span> ) );</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        kcal_to_eat = food_available;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    }</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <a class="code" href="structnutrients.html">nutrients</a> dinner = <a class="code" href="classbasecamp.html#a399448deb1704654be0979c9a763db03">camp_food_supply</a>( -kcal_to_eat );</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <a class="code" href="classbasecamp.html#a6e9c0b6c28a8826d7822ad8f9ab3ae1a">feed_workers</a>( you, dinner, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05522">camp_food_supply()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00664">fac()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05569">feed_workers()</a>, <a class="el" href="faction_8h_source.html#l00116">faction_template::food_supply</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="stomach_8cpp_source.html#l00118">nutrients::kcal()</a>, and <a class="el" href="output_8cpp_source.html#l00912">popup()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a1703b3c9b8e3a523a64dac1f0329432e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1703b3c9b8e3a523a64dac1f0329432e">&#9670;&nbsp;</a></span>point_within_camp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::point_within_camp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00852">852</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;{</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordflow">return</span> std::any_of( <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.begin(), <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.end(), [ p ]( <span class="keyword">auto</span> &amp; e ) {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        return p == e.second.pos;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    } );</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>.</p>

</div>
</div>
<a id="a84f7e742642896952db31f13770cd543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84f7e742642896952db31f13770cd543">&#9670;&nbsp;</a></span>query_new_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::query_new_name </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00611">611</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;{</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="classstring__input__popup.html">string_input_popup</a> input_popup;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordtype">bool</span> done = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordtype">bool</span> need_input = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        input_popup.<a class="code" href="classstring__input__popup.html#aa96aa0184abb3c9740c2a48f098eeb8b">title</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Name this camp&quot;</span> ) )</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        .<a class="code" href="classstring__input__popup.html#ab3273f9bfdeac38fff067187b1d3715c">width</a>( 40 )</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        .<a class="code" href="classstring__input__popup.html#a8384f93d062411edc34a277757efe25b">max_length</a>( 25 )</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        .<a class="code" href="classstring__input__popup.html#a6bd517fa5733a416f866043ce0be46cc">query</a>();</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="keywordflow">if</span>( input_popup.<a class="code" href="classstring__input__popup.html#a4e92a00b7b63abec83fcd4755470b52e">canceled</a>() || input_popup.<a class="code" href="classstring__input__popup.html#a42554f299ffa809034aa4cb4486e365b">text</a>().empty() ) {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a>.empty() || <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a> ) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You need to input the base camp name.&quot;</span> ) );</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                need_input = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            done = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    } <span class="keywordflow">while</span>( !done &amp;&amp; need_input );</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">if</span>( done ) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <a class="code" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a> = input_popup.<a class="code" href="classstring__input__popup.html#a42554f299ffa809034aa4cb4486e365b">text</a>();</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;}</div>
<div class="ttc" id="aclassstring__input__popup_html_a42554f299ffa809034aa4cb4486e365b"><div class="ttname"><a href="classstring__input__popup.html#a42554f299ffa809034aa4cb4486e365b">string_input_popup::text</a></div><div class="ttdeci">string_input_popup &amp; text(const std::string &amp;value)</div><div class="ttdoc">Set / get the text that can be modified by the user.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8cpp_source.html#l00666">string_input_popup.cpp:666</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_a4e92a00b7b63abec83fcd4755470b52e"><div class="ttname"><a href="classstring__input__popup.html#a4e92a00b7b63abec83fcd4755470b52e">string_input_popup::canceled</a></div><div class="ttdeci">bool canceled() const</div><div class="ttdoc">Whether the input box was canceled via the ESCAPE key (or similar) If the input was finished via the ...</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00255">string_input_popup.h:255</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_a6bd517fa5733a416f866043ce0be46cc"><div class="ttname"><a href="classstring__input__popup.html#a6bd517fa5733a416f866043ce0be46cc">string_input_popup::query</a></div><div class="ttdeci">void query(bool loop=true, bool draw_only=false)</div><div class="ttdoc">Draws the input box, waits for input (if loop is true).</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8cpp_source.html#l00339">string_input_popup.cpp:339</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_a8384f93d062411edc34a277757efe25b"><div class="ttname"><a href="classstring__input__popup.html#a8384f93d062411edc34a277757efe25b">string_input_popup::max_length</a></div><div class="ttdeci">string_input_popup &amp; max_length(int value)</div><div class="ttdoc">Maximal amount of Unicode characters that can be given by the user.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00159">string_input_popup.h:159</a></div></div>
<div class="ttc" id="acreature_8h_html_a4b73e33b57ae387dc418906492d5f998"><div class="ttname"><a href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a></div><div class="ttdeci">bool force</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00241">creature.h:241</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="string__input__popup_8h_source.html#l00255">string_input_popup::canceled()</a>, <a class="el" href="creature_8h_source.html#l00241">force</a>, <a class="el" href="string__input__popup_8h_source.html#l00159">string_input_popup::max_length()</a>, <a class="el" href="basecamp_8h_source.html#l00199">name</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="string__input__popup_8cpp_source.html#l00339">string_input_popup::query()</a>, <a class="el" href="string__input__popup_8cpp_source.html#l00666">string_input_popup::text()</a>, <a class="el" href="string__input__popup_8h_source.html#l00113">string_input_popup::title()</a>, and <a class="el" href="string__input__popup_8h_source.html#l00151">string_input_popup::width()</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00190">define_camp()</a>, and <a class="el" href="faction_8cpp_source.html#l00818">faction_manager::display()</a>.</p>

</div>
</div>
<a id="ab8c0d82084ebc2a0ed36ba88e3b042de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8c0d82084ebc2a0ed36ba88e3b042de">&#9670;&nbsp;</a></span>recipe_batch_max()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int basecamp::recipe_batch_max </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>making</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l04677">4677</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;{</div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;    <span class="keywordtype">int</span> max_batch = 0;</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> max_checks = 9;</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> batch_size = 1000; batch_size &gt; 0; batch_size /= 10 ) {</div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> iter = 0; iter &lt; max_checks; iter++ ) {</div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;            <a class="code" href="classtime__duration.html">time_duration</a> work_days = <a class="code" href="namespacebase__camps.html#a8922377c7d85cf4e79f0445b4b6e819c">base_camps::to_workdays</a>( making.<a class="code" href="classrecipe.html#ae6f40cf521235b40c169fbe66a677976">batch_duration</a>(</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;                                          <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>(), max_batch + batch_size ) );</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;            <span class="keywordtype">int</span> food_req = <a class="code" href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">time_to_food</a>( work_days );</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;            <span class="keywordtype">bool</span> can_make = making.<a class="code" href="classrecipe.html#ab1b55d41175b239729f740aaad63f306">deduped_requirements</a>().<a class="code" href="classdeduped__requirement__data.html#a904e48b7f9ea958a7dfcd06ca614581b">can_make_with_inventory</a>(</div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;                                <a class="code" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a>, making.<a class="code" href="classrecipe.html#a45b065c59b172ccab9e0630fd036fe09">get_component_filter</a>(), max_batch + batch_size );</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;            <span class="keywordflow">if</span>( can_make &amp;&amp; <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;food_supply.kcal() &gt; food_req ) {</div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;                max_batch += batch_size;</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;            }</div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;        }</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;    }</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;    <span class="keywordflow">return</span> max_batch;</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00505">_inv</a>, <a class="el" href="recipe_8cpp_source.html#l00071">recipe::batch_duration()</a>, <a class="el" href="requirements_8cpp_source.html#l01671">deduped_requirement_data::can_make_with_inventory()</a>, <a class="el" href="recipe_8h_source.html#l00151">recipe::deduped_requirements()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00664">fac()</a>, <a class="el" href="recipe_8cpp_source.html#l01256">recipe::get_component_filter()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05644">time_to_food()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00092">base_camps::to_workdays()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l03490">start_crafting()</a>.</p>

</div>
</div>
<a id="aba6c99a1a18288ac5daa5441414f9241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba6c99a1a18288ac5daa5441414f9241">&#9670;&nbsp;</a></span>recipe_deck() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>, <a class="el" href="classtranslation.html">translation</a> &gt; basecamp::recipe_deck </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00388">388</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;{</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    std::map&lt;recipe_id, translation&gt; recipes;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e = <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( dir );</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">if</span>( e == <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.end() ) {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">return</span> recipes;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;provides : e-&gt;second.provides ) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;test_s = <a class="code" href="namespacerecipe__group.html#ae9b4436933871983aa244e128e75c33a">recipe_group::get_recipes_by_id</a>( provides.first );</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        recipes.insert( test_s.cbegin(), test_s.cend() );</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">return</span> recipes;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, and <a class="el" href="recipe__groups_8cpp_source.html#l00104">recipe_group::get_recipes_by_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00787">get_available_missions_by_dir()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05794">name_display_of()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l03490">start_crafting()</a>.</p>

</div>
</div>
<a id="ac91d8afeee29dedc068dc1dbe4e7127e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac91d8afeee29dedc068dc1dbe4e7127e">&#9670;&nbsp;</a></span>recipe_deck() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>, <a class="el" href="classtranslation.html">translation</a> &gt; basecamp::recipe_deck </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>bldg</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00402">402</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;{</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacerecipe__group.html#abe419467ad71cf58d889f5be8c32afae">recipe_group::get_recipes_by_bldg</a>( bldg );</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}</div>
<div class="ttc" id="anamespacerecipe__group_html_abe419467ad71cf58d889f5be8c32afae"><div class="ttname"><a href="namespacerecipe__group.html#abe419467ad71cf58d889f5be8c32afae">recipe_group::get_recipes_by_bldg</a></div><div class="ttdeci">std::map&lt; recipe_id, translation &gt; get_recipes_by_bldg(const std::string &amp;bldg)</div><div class="ttdef"><b>Definition:</b> <a href="recipe__groups_8cpp_source.html#l00085">recipe_groups.cpp:85</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="recipe__groups_8cpp_source.html#l00085">recipe_group::get_recipes_by_bldg()</a>.</p>

</div>
</div>
<a id="a850afa4ba15ff2922b3576a3e24e75d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a850afa4ba15ff2922b3576a3e24e75d3">&#9670;&nbsp;</a></span>recruit_description()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string basecamp::recruit_description </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>npc_count</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05441">5441</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;{</div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;    <span class="keywordtype">int</span> sbase;</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;    <span class="keywordtype">int</span> sexpansions;</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;    <span class="keywordtype">int</span> sfaction;</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;    <span class="keywordtype">int</span> sbonus;</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;    <span class="keywordtype">int</span> total = <a class="code" href="classbasecamp.html#ab5795deed1ba5ae2b71f49ef6bae9e1d">recruit_evaluation</a>( sbase, sexpansions, sfaction, sbonus );</div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;    std::string desc = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Notes:\n&quot;</span></div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;                                         <span class="stringliteral">&quot;Recruiting additional followers is very dangerous and &quot;</span></div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;                                         <span class="stringliteral">&quot;expensive.  The outcome is heavily dependent on the &quot;</span></div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;                                         <span class="stringliteral">&quot;skill of the companion you send and the appeal of &quot;</span></div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;                                         <span class="stringliteral">&quot;your base.\n\n&quot;</span></div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;                                         <span class="stringliteral">&quot;Skill used: social\n&quot;</span></div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;                                         <span class="stringliteral">&quot;Difficulty: 2\n&quot;</span></div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;                                         <span class="stringliteral">&quot;Base Score:                   +%3d%%\n&quot;</span></div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;                                         <span class="stringliteral">&quot;&gt; Expansion Bonus:            +%3d%%\n&quot;</span></div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;                                         <span class="stringliteral">&quot;&gt; Faction Bonus:              +%3d%%\n&quot;</span></div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;                                         <span class="stringliteral">&quot;&gt; Special Bonus:              +%3d%%\n\n&quot;</span></div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;                                         <span class="stringliteral">&quot;Total: Skill                  +%3d%%\n\n&quot;</span></div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;                                         <span class="stringliteral">&quot;Risk: High\n&quot;</span></div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;                                         <span class="stringliteral">&quot;Time: 4 Days\n&quot;</span></div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;                                         <span class="stringliteral">&quot;Positions: %d/1\n&quot;</span> ), sbase, sexpansions, sfaction,</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;                                      sbonus, total, npc_count );</div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;    <span class="keywordflow">return</span> desc;</div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="faction__camp_8cpp_source.html#l05432">recruit_evaluation()</a>, and <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00787">get_available_missions_by_dir()</a>.</p>

</div>
</div>
<a id="ab5795deed1ba5ae2b71f49ef6bae9e1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5795deed1ba5ae2b71f49ef6bae9e1d">&#9670;&nbsp;</a></span>recruit_evaluation() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int basecamp::recruit_evaluation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05432">5432</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;{</div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;    <span class="keywordtype">int</span> sbase;</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;    <span class="keywordtype">int</span> sexpansions;</div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;    <span class="keywordtype">int</span> sfaction;</div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;    <span class="keywordtype">int</span> sbonus;</div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#ab5795deed1ba5ae2b71f49ef6bae9e1d">recruit_evaluation</a>( sbase, sexpansions, sfaction, sbonus );</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l05441">recruit_description()</a>.</p>

</div>
</div>
<a id="a7d323678021f82066327fff1cf21c73e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d323678021f82066327fff1cf21c73e">&#9670;&nbsp;</a></span>recruit_evaluation() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int basecamp::recruit_evaluation </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>sbase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>sexpansions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>sfaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>sbonus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05390">5390</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;{</div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;    <span class="keyword">auto</span> e = <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( <a class="code" href="namespacebase__camps.html#af9611a24d1cc5b30f62773153cc313af">base_camps::base_dir</a> );</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;    <span class="keywordflow">if</span>( e == <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.end() ) {</div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;        sbase = 0;</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;        sexpansions = 0;</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;        sfaction = 0;</div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;        sbonus = 0;</div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;    }</div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;    sbase = e-&gt;second.cur_level * 5;</div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;    sexpansions = <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.size() * 2;</div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160; </div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;    <span class="comment">//How could we ever starve?</span></div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;    <span class="comment">//More than 5 farms at recruiting base</span></div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;    <span class="keywordtype">int</span> farm = 0;</div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> &amp;dir : <a class="code" href="classbasecamp.html#aa031c294bd423a1b1445f96b930b55f2">directions</a> ) {</div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a8892ccfaa96d33120779b51fc2cb545a">has_provides</a>( <span class="stringliteral">&quot;farming&quot;</span>, dir ) ) {</div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;            farm++;</div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;        }</div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;    }</div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;    sfaction = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;food_supply.kcal() / 10000, 10 );</div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;    sfaction += <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <a class="code" href="classbasecamp.html#a831d58ceac6141027f0b6eef5e6d9ca0">camp_discipline</a>() / 10, 5 );</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;    sfaction += <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <a class="code" href="classbasecamp.html#ac902a04152acb33a9f06d6c183ccfb1d">camp_morale</a>() / 10, 5 );</div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160; </div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;    <span class="comment">//Secret or Hidden Bonus</span></div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;    <span class="comment">//Please avoid openly discussing so that there is some mystery to the system</span></div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;    sbonus = 0;</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;    <span class="keywordflow">if</span>( farm &gt;= 5 ) {</div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;        sbonus += 10;</div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;    }</div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;    <span class="comment">//More machine than man</span></div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;    <span class="comment">//Bionics count &gt; 10, respect &gt; 75</span></div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().get_bionics().<a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a>() &gt; 10 &amp;&amp; <a class="code" href="classbasecamp.html#a831d58ceac6141027f0b6eef5e6d9ca0">camp_discipline</a>() &gt; 75 ) {</div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;        sbonus += 10;</div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;    }</div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;    <span class="comment">//Survival of the fittest</span></div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_kill_tracker().npc_kill_count() &gt; 10 ) {</div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;        sbonus += 10;</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;    }</div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;    <span class="keywordflow">return</span> sbase + sexpansions + sfaction + sbonus;</div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a831d58ceac6141027f0b6eef5e6d9ca0"><div class="ttname"><a href="classbasecamp.html#a831d58ceac6141027f0b6eef5e6d9ca0">basecamp::camp_discipline</a></div><div class="ttdeci">int camp_discipline(int change=0) const</div><div class="ttdoc">Changes the faction respect for you by change, returns respect.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05952">faction_camp.cpp:5952</a></div></div>
<div class="ttc" id="aclassbasecamp_html_ac902a04152acb33a9f06d6c183ccfb1d"><div class="ttname"><a href="classbasecamp.html#ac902a04152acb33a9f06d6c183ccfb1d">basecamp::camp_morale</a></div><div class="ttdeci">int camp_morale(int change=0) const</div><div class="ttdoc">Changes the faction opinion for you by change, returns opinion.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05958">faction_camp.cpp:5958</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a993dede52d23a9a3d15b01a342391ef4"><div class="ttname"><a href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">min</a></div><div class="ttdeci">double min(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00043">math_parser_func.h:43</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_af97f9dbddaa758278662da3478826c61"><div class="ttname"><a href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">om_direction::size</a></div><div class="ttdeci">const size_t size</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00066">omdata.h:66</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00103">base_camps::base_dir</a>, <a class="el" href="faction__camp_8cpp_source.html#l05952">camp_discipline()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05958">camp_morale()</a>, <a class="el" href="basecamp_8h_source.html#l00195">directions</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="faction__camp_8cpp_source.html#l00664">fac()</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="basecamp_8cpp_source.html#l00288">has_provides()</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, and <a class="el" href="omdata_8h_source.html#l00066">om_direction::size</a>.</p>

</div>
</div>
<a id="a47f3b695973635f7236f1e7b37ddafb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47f3b695973635f7236f1e7b37ddafb7">&#9670;&nbsp;</a></span>recruit_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::recruit_return </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>score</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l04270">4270</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;{</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;    <span class="keyword">const</span> std::string msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns from searching for recruits with &quot;</span></div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;                               <span class="stringliteral">&quot;a bit more experience&quot;</span> );</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;    <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="classbasecamp.html#a431f82edab2eac0a98d87667535131e0">mission_return</a>( miss_id, 4_days, <span class="keyword">true</span>, msg, <a class="code" href="faction__camp_8cpp.html#a09e9b53e17aba8bed4979d546dfb6436">skill_recruiting</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 2 );</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;    <span class="keywordflow">if</span>( comp == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;    }</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160; </div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;    <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> recruit;</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;    <span class="comment">//Success of finding an NPC to recruit, based on survival/tracking</span></div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;    <span class="keywordtype">float</span> skill = comp-&gt;get_skill_level( <a class="code" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a> );</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 1, 20 ) + skill &gt; 17 ) {</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;        recruit = make_shared_fast&lt;npc&gt;();</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;        recruit-&gt;normalize();</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;        recruit-&gt;randomize();</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s encountered %s&quot;</span> ), comp-&gt;get_name(), recruit-&gt;get_name() );</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s didn&#39;t find anyone to recruit&quot;</span> ), comp-&gt;get_name() );</div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;    }</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;    <span class="comment">//Chance of convincing them to come back</span></div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;    skill = ( 100 * comp-&gt;get_skill_level( <a class="code" href="faction__camp_8cpp.html#add6bff65f422cff2a7ede6c7b904d982">skill_speech</a> ) + <a class="code" href="classscore.html">score</a> ) / 100;</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 1, 20 ) + skill  &gt; 19 ) {</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s convinced %s to hear a recruitment offer from you&quot;</span> ), comp-&gt;get_name(),</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;               recruit-&gt;get_name() );</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s wasn&#39;t interested in anything %s had to offer&quot;</span> ), recruit-&gt;get_name(),</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;               comp-&gt;get_name() );</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;    }</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;    <span class="comment">//Stat window</span></div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;    <span class="keywordtype">int</span> rec_m = 0;</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;    <span class="keywordtype">int</span> appeal = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( -5, 3 ) + <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( skill / 3, 3.0f );</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;    <span class="keywordtype">int</span> food_desire = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, 5 );</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;        std::string description = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;NPC Overview:\n\n&quot;</span> );</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;        description += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Name:  %s\n\n&quot;</span> ), <a class="code" href="catacharset_8cpp.html#a30ed8653708f4ee2a1ac7c850a35639d">right_justify</a>( recruit-&gt;get_name(), 20 ) );</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;        description += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Strength:        %10d\n&quot;</span> ), recruit-&gt;str_max );</div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;        description += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Dexterity:       %10d\n&quot;</span> ), recruit-&gt;dex_max );</div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;        description += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Intelligence:    %10d\n&quot;</span> ), recruit-&gt;int_max );</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;        description += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Perception:      %10d\n\n&quot;</span> ), recruit-&gt;per_max );</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;        description += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Top 3 Skills:\n&quot;</span> );</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160; </div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> skillslist = <a class="code" href="classSkill.html#a0fed06ab4d780c837a16691edfbbd6d7">Skill::get_skills_sorted_by</a>(</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;        [&amp;]( <span class="keyword">const</span> <a class="code" href="classSkill.html">Skill</a> &amp; <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>, <span class="keyword">const</span> <a class="code" href="classSkill.html">Skill</a> &amp; <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ) {</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> level_a = recruit-&gt;get_skill_level( <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>.ident() );</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> level_b = recruit-&gt;get_skill_level( <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.ident() );</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="localized__comparator_8h.html#aa323a1324b9ad3f0c7dc65690aed09c6">localized_compare</a>( std::make_pair( -level_a, <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>.name() ),</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;                                      std::make_pair( -level_b, <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.name() ) );</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;        } );</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160; </div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;        description += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s:          %4d\n&quot;</span>, <a class="code" href="catacharset_8cpp.html#a30ed8653708f4ee2a1ac7c850a35639d">right_justify</a>( skillslist[0]-&gt;<a class="code" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a>(), 12 ),</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;                                      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( recruit-&gt;get_skill_level( skillslist[0]-&gt;ident() ) ) );</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;        description += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s:          %4d\n&quot;</span>, <a class="code" href="catacharset_8cpp.html#a30ed8653708f4ee2a1ac7c850a35639d">right_justify</a>( skillslist[1]-&gt;<a class="code" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a>(), 12 ),</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;                                      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( recruit-&gt;get_skill_level( skillslist[1]-&gt;ident() ) ) );</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;        description += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s:          %4d\n\n&quot;</span>, <a class="code" href="catacharset_8cpp.html#a30ed8653708f4ee2a1ac7c850a35639d">right_justify</a>( skillslist[2]-&gt;<a class="code" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a>(), 12 ),</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;                                      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( recruit-&gt;get_skill_level( skillslist[2]-&gt;ident() ) ) );</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160; </div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;        description += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Asking for:\n&quot;</span> );</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;        description += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&gt; Food:     %10d days\n\n&quot;</span> ), food_desire );</div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;        description += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Faction Food:%9d days\n\n&quot;</span> ),</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;                                      <a class="code" href="classbasecamp.html#ad145fb3595555a714a047bedcaa014fc">camp_food_supply_days</a>( <a class="code" href="game__constants_8h.html#a2ff11848079530402510dded26ad7b71">NO_EXERCISE</a> ) );</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;        description += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Recruit Chance: %10d%%\n\n&quot;</span> ),</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;                                      <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( 100 * ( 10 + appeal ) / 20, 100 ) );</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;        description += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select an option:&quot;</span> );</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160; </div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;        std::vector&lt;std::string&gt; rec_options;</div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;        rec_options.emplace_back( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Increase Food&quot;</span> ) );</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;        rec_options.emplace_back( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Decrease Food&quot;</span> ) );</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;        rec_options.emplace_back( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Make Offer&quot;</span> ) );</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;        rec_options.emplace_back( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Not Interested&quot;</span> ) );</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160; </div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;        rec_m = <a class="code" href="classuilist.html">uilist</a>( description, rec_options );</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;        <span class="keywordflow">if</span>( rec_m &lt; 0 || rec_m == 3 || <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( rec_m ) &gt;= rec_options.size() ) {</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;            <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You decide you aren&#39;t interested&quot;</span> ) );</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;        }</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160; </div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;        <span class="keywordflow">if</span>( rec_m == 0 &amp;&amp; food_desire + 1 &lt;= <a class="code" href="classbasecamp.html#ad145fb3595555a714a047bedcaa014fc">camp_food_supply_days</a>( <a class="code" href="game__constants_8h.html#a2ff11848079530402510dded26ad7b71">NO_EXERCISE</a> ) ) {</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;            food_desire++;</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;            appeal++;</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;        }</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;        <span class="keywordflow">if</span>( rec_m == 1 ) {</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;            <span class="keywordflow">if</span>( food_desire &gt; 0 ) {</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;                food_desire--;</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;                appeal--;</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;            }</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;        }</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;        <span class="keywordflow">if</span>( rec_m == 2 ) {</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;        }</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;    }</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;    <span class="comment">// Roll for recruitment</span></div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 1, 20 ) + appeal &gt;= 10 ) {</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s has been convinced to join!&quot;</span> ), recruit-&gt;get_name() );</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s wasn&#39;t interested&quot;</span> ), recruit-&gt;get_name() );</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;        <span class="comment">// nullptr;</span></div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;    }</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;    <span class="comment">// Time durations always subtract from camp food supply</span></div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;    <a class="code" href="classbasecamp.html#a399448deb1704654be0979c9a763db03">camp_food_supply</a>( 1_days * food_desire );</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;    recruit-&gt;spawn_at_precise( player_character.<a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() + <a class="code" href="structpoint.html">point</a>( -4, -4 ) );</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;    <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aa0b818973c6f8b6834a8cbc97bfbe7d1">insert_npc</a>( recruit );</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;    recruit-&gt;form_opinion( player_character );</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;    recruit-&gt;mission = <a class="code" href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6da6255603e60fdb2f2d52b8b2ce4000f87">NPC_MISSION_NULL</a>;</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;    recruit-&gt;add_new_mission( <a class="code" href="classmission.html#aea6642f98ee9de8fdecda5775ff07c8e">mission::reserve_random</a>( <a class="code" href="mission_8h.html#ae243cf9069d522378856d5c6ab930becaac3edcc30152688cc55bd23fcbe9793c">ORIGIN_ANY_NPC</a>,</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;                              recruit-&gt;global_omt_location(),</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;                              recruit-&gt;getID() ) );</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;    <a class="code" href="namespacetalk__function.html#a74c5383a186724aecc40087163edea45">talk_function::follow</a>( *recruit );</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;    <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;load_npcs();</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;}</div>
<div class="ttc" id="acatacharset_8cpp_html_a30ed8653708f4ee2a1ac7c850a35639d"><div class="ttname"><a href="catacharset_8cpp.html#a30ed8653708f4ee2a1ac7c850a35639d">right_justify</a></div><div class="ttdeci">std::string right_justify(const std::string &amp;str, const int width, const bool ignore_tags)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00137">catacharset.cpp:137</a></div></div>
<div class="ttc" id="aclassCreature_html_a3261de1530798f5b934a71b9a4e17f5b"><div class="ttname"><a href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">Creature::get_location</a></div><div class="ttdeci">tripoint_abs_ms get_location() const</div><div class="ttdoc">Returns the location of the creature in map square coordinates (the most detailed coordinate system),...</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03232">creature.cpp:3232</a></div></div>
<div class="ttc" id="aclassSkill_html"><div class="ttname"><a href="classSkill.html">Skill</a></div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00032">skill.h:33</a></div></div>
<div class="ttc" id="aclassSkill_html_a0fed06ab4d780c837a16691edfbbd6d7"><div class="ttname"><a href="classSkill.html#a0fed06ab4d780c837a16691edfbbd6d7">Skill::get_skills_sorted_by</a></div><div class="ttdeci">static std::vector&lt; const Skill * &gt; get_skills_sorted_by(std::function&lt; bool(const Skill &amp;, const Skill &amp;)&gt; pred)</div><div class="ttdef"><b>Definition:</b> <a href="skill_8cpp_source.html#l00092">skill.cpp:92</a></div></div>
<div class="ttc" id="aclassavatar_html"><div class="ttname"><a href="classavatar.html">avatar</a></div><div class="ttdef"><b>Definition:</b> <a href="avatar_8h_source.html#l00083">avatar.h:84</a></div></div>
<div class="ttc" id="aclassmission_html_aea6642f98ee9de8fdecda5775ff07c8e"><div class="ttname"><a href="classmission.html#aea6642f98ee9de8fdecda5775ff07c8e">mission::reserve_random</a></div><div class="ttdeci">static mission * reserve_random(mission_origin origin, const tripoint_abs_omt &amp;p, const character_id &amp;npc_id)</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00291">mission.cpp:291</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_aa0b818973c6f8b6834a8cbc97bfbe7d1"><div class="ttname"><a href="classovermapbuffer.html#aa0b818973c6f8b6834a8cbc97bfbe7d1">overmapbuffer::insert_npc</a></div><div class="ttdeci">void insert_npc(const shared_ptr_fast&lt; npc &gt; &amp;who)</div><div class="ttdoc">Adds the npc to an overmap ( based on the npcs current location ) and stores it there.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01274">overmapbuffer.cpp:1274</a></div></div>
<div class="ttc" id="aclassscore_html"><div class="ttname"><a href="classscore.html">score</a></div><div class="ttdef"><b>Definition:</b> <a href="event__statistics_8h_source.html#l00101">event_statistics.h:102</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a09e9b53e17aba8bed4979d546dfb6436"><div class="ttname"><a href="faction__camp_8cpp.html#a09e9b53e17aba8bed4979d546dfb6436">skill_recruiting</a></div><div class="ttdeci">static const skill_id skill_recruiting(&quot;recruiting&quot;)</div></div>
<div class="ttc" id="alocalized__comparator_8h_html_aa323a1324b9ad3f0c7dc65690aed09c6"><div class="ttname"><a href="localized__comparator_8h.html#aa323a1324b9ad3f0c7dc65690aed09c6">localized_compare</a></div><div class="ttdeci">constexpr localized_comparator localized_compare</div><div class="ttdef"><b>Definition:</b> <a href="localized__comparator_8h_source.html#l00054">localized_comparator.h:54</a></div></div>
<div class="ttc" id="amagic_8cpp_html_aa93a189fb7bbbf87be54bcc7bd11bb6f"><div class="ttname"><a href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a></div><div class="ttdeci">static constexpr double b</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01567">magic.cpp:1567</a></div></div>
<div class="ttc" id="amission_8h_html_ae243cf9069d522378856d5c6ab930becaac3edcc30152688cc55bd23fcbe9793c"><div class="ttname"><a href="mission_8h.html#ae243cf9069d522378856d5c6ab930becaac3edcc30152688cc55bd23fcbe9793c">ORIGIN_ANY_NPC</a></div><div class="ttdeci">@ ORIGIN_ANY_NPC</div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00049">mission.h:49</a></div></div>
<div class="ttc" id="anamespacetalk__function_html_a74c5383a186724aecc40087163edea45"><div class="ttname"><a href="namespacetalk__function.html#a74c5383a186724aecc40087163edea45">talk_function::follow</a></div><div class="ttdeci">void follow(npc &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk__funcs_8cpp_source.html#l00859">npctalk_funcs.cpp:859</a></div></div>
<div class="ttc" id="anpc_8h_html_a1cfe07d375f7cf0b8c656a5bcae8fc6da6255603e60fdb2f2d52b8b2ce4000f87"><div class="ttname"><a href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6da6255603e60fdb2f2d52b8b2ce4000f87">NPC_MISSION_NULL</a></div><div class="ttdeci">@ NPC_MISSION_NULL</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00172">npc.h:172</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="magic_8cpp_source.html#l01566">a</a>, <a class="el" href="magic_8cpp_source.html#l01567">b</a>, <a class="el" href="faction__camp_8cpp_source.html#l05522">camp_food_supply()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05517">camp_food_supply_days()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00859">talk_function::follow()</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="creature_8cpp_source.html#l03232">Creature::get_location()</a>, <a class="el" href="skill_8cpp_source.html#l00092">Skill::get_skills_sorted_by()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01274">overmapbuffer::insert_npc()</a>, <a class="el" href="localized__comparator_8h_source.html#l00054">localized_compare</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03819">mission_return()</a>, <a class="el" href="basecamp_8h_source.html#l00199">name</a>, <a class="el" href="game__constants_8h_source.html#l00181">NO_EXERCISE</a>, <a class="el" href="npc_8h_source.html#l00172">NPC_MISSION_NULL</a>, <a class="el" href="mission_8h_source.html#l00049">ORIGIN_ANY_NPC</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="mission_8cpp_source.html#l00291">mission::reserve_random()</a>, <a class="el" href="catacharset_8cpp_source.html#l00137">right_justify()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="faction__camp_8cpp.html#a09e9b53e17aba8bed4979d546dfb6436">skill_recruiting</a>, <a class="el" href="faction__camp_8cpp.html#add6bff65f422cff2a7ede6c7b904d982">skill_speech</a>, <a class="el" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>, and <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a5fbb0228272f9546f6a32e1a80446ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fbb0228272f9546f6a32e1a80446ff1">&#9670;&nbsp;</a></span>remove_assignee()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::remove_assignee </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcharacter__id.html">character_id</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00510">510</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;{</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> npc_to_remove = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#abe3397983bdf2419ede84ee43bdf587f">find_npc</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">if</span>( !npc_to_remove ) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;cant find npc to remove from basecamp, on the overmap_buffer&quot;</span> );</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    npc_to_remove-&gt;assigned_camp = std::nullopt;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.erase( std::remove( <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.begin(), <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.end(), npc_to_remove ),</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                         <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.end() );</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00490">assigned_npcs</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01234">overmapbuffer::find_npc()</a>, and <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>.</p>

</div>
</div>
<a id="abb5cfb054f4146be25a3b6ba09cb0449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb5cfb054f4146be25a3b6ba09cb0449">&#9670;&nbsp;</a></span>reset_camp_resources()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::reset_camp_resources </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>here</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00464">464</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;{</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="classbasecamp.html#a4b801ad8632988da9dfedae6100e564d">reset_camp_workers</a>();</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;e : <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a> ) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <a class="code" href="structexpansion__data.html">expansion_data</a> &amp;e_data = e.second;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> level = 0; level &lt;= e_data.<a class="code" href="structexpansion__data.html#ac992b028d47f0f65f44501349f348e71">cur_level</a>; level++ ) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keyword">const</span> std::string &amp;bldg = <a class="code" href="namespacebase__camps.html#a64d9c75a4dc27d18e1c8292e27946b28">base_camps::faction_encode_abs</a>( e_data, level );</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="keywordflow">if</span>( bldg == <span class="stringliteral">&quot;null&quot;</span> ) {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <a class="code" href="classbasecamp.html#adb18f0e442ddb5df1ad80622382833df">update_provides</a>( bldg, e_data );</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bp_provides : e_data.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a> ) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <a class="code" href="classbasecamp.html#a38f564976b4c46a367b94d683c508f3b">update_resources</a>( bp_provides.first );</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classstring__id.html">itype_id</a> &amp;it : e.second.available_pseudo_items ) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <a class="code" href="classbasecamp.html#afc886372356be0375b10ab9612539d93">add_resource</a>( it );</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <a class="code" href="classbasecamp.html#abbd07a46ef507efe1e75fee8610cabd9">form_crafting_inventory</a>( here );</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a4b801ad8632988da9dfedae6100e564d"><div class="ttname"><a href="classbasecamp.html#a4b801ad8632988da9dfedae6100e564d">basecamp::reset_camp_workers</a></div><div class="ttdeci">void reset_camp_workers()</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00488">basecamp.cpp:488</a></div></div>
<div class="ttc" id="aclassbasecamp_html_afc886372356be0375b10ab9612539d93"><div class="ttname"><a href="classbasecamp.html#afc886372356be0375b10ab9612539d93">basecamp::add_resource</a></div><div class="ttdeci">void add_resource(const itype_id &amp;camp_resource)</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00407">basecamp.cpp:407</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8cpp_source.html#l00407">add_resource()</a>, <a class="el" href="basecamp_8h_source.html#l00060">expansion_data::cur_level</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="basecamp_8cpp_source.html#l00075">base_camps::faction_encode_abs()</a>, <a class="el" href="basecamp_8cpp_source.html#l00826">form_crafting_inventory()</a>, <a class="el" href="basecamp_8h_source.html#l00056">expansion_data::provides</a>, <a class="el" href="basecamp_8cpp_source.html#l00488">reset_camp_workers()</a>, <a class="el" href="basecamp_8cpp_source.html#l00429">update_provides()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00417">update_resources()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01393">get_available_missions()</a>.</p>

</div>
</div>
<a id="a4b801ad8632988da9dfedae6100e564d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b801ad8632988da9dfedae6100e564d">&#9670;&nbsp;</a></span>reset_camp_workers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::reset_camp_workers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00488">488</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;{</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <a class="code" href="classbasecamp.html#aef86b8776b43f65a60a0af1871dc2884">camp_workers</a>.clear();</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a8d698f8f68f7dd9aac8a8ffb996debef">get_companion_mission_npcs</a>() ) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <a class="code" href="structnpc__companion__mission.html">npc_companion_mission</a> c_mission = elem-&gt;get_companion_mission();</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keywordflow">if</span>( c_mission.<a class="code" href="structnpc__companion__mission.html#a593d389d529e3247fe80ba8a06aa7cf3">position</a> == <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a> &amp;&amp; c_mission.<a class="code" href="structnpc__companion__mission.html#aae4b1a9420e9b17c71c97a15ab416fdb">role_id</a> == <span class="stringliteral">&quot;FACTION_CAMP&quot;</span> ) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <a class="code" href="classbasecamp.html#aef86b8776b43f65a60a0af1871dc2884">camp_workers</a>.push_back( elem );</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;}</div>
<div class="ttc" id="astructnpc__companion__mission_html_a593d389d529e3247fe80ba8a06aa7cf3"><div class="ttname"><a href="structnpc__companion__mission.html#a593d389d529e3247fe80ba8a06aa7cf3">npc_companion_mission::position</a></div><div class="ttdeci">tripoint_abs_omt position</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00189">npc.h:189</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00494">camp_workers</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01333">overmapbuffer::get_companion_mission_npcs()</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>, <a class="el" href="npc_8h_source.html#l00189">npc_companion_mission::position</a>, and <a class="el" href="npc_8h_source.html#l00190">npc_companion_mission::role_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00464">reset_camp_resources()</a>.</p>

</div>
</div>
<a id="aa39ea046aacbd79d11abdbf6fbc3a8bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa39ea046aacbd79d11abdbf6fbc3a8bd">&#9670;&nbsp;</a></span>reveal_mission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::reveal_mission </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structui__mission__id.html">ui_mission_id</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00568">568</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;{</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keyword">const</span> <a class="code" href="structbase__camps_1_1direction__data.html">base_camps::direction_data</a> &amp;base_data = <a class="code" href="namespacebase__camps.html#a514cbffdef2185c4d8b777f5feec390e">base_camps::all_directions</a>.at( <span class="keywordtype">id</span>.<span class="keywordtype">id</span>.dir.value() );</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[<span class="keywordtype">size_t</span>( base_data.<a class="code" href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">tab_order</a> )].begin();</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;         it != <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[<span class="keywordtype">size_t</span>( base_data.<a class="code" href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">tab_order</a> )].end(); it++ ) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="mission__companion_8cpp.html#a2e12565efe5d1faa52a47c8263e9a8b9">is_equal</a>( <span class="keywordtype">id</span>.<span class="keywordtype">id</span>, it-&gt;id ) ) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a>[size_t( base_data.<a class="code" href="structbase__camps_1_1direction__data.html#a1b04bb9dd4942b88cdc0e23de0e6a58b">tab_order</a> )].erase( it );</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Trying to reveal revealed mission.  Has no effect.&quot;</span> );</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8cpp_source.html#l00047">base_camps::all_directions</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="basecamp_8h_source.html#l00196">hidden_missions</a>, <a class="el" href="mission__companion_8cpp_source.html#l00396">is_equal()</a>, and <a class="el" href="basecamp_8h_source.html#l00091">base_camps::direction_data::tab_order</a>.</p>

</div>
</div>
<a id="af9b85f55f5f955ae67b5d98fcd2a5b32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9b85f55f5f955ae67b5d98fcd2a5b32">&#9670;&nbsp;</a></span>salt_water_pipe_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::salt_water_pipe_return </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> &amp;&#160;</td>
          <td class="paramname"><em>npc_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l04151">4151</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;{</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;    <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;making = <a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> ).<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> dir = miss_id.<a class="code" href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">dir</a>.value();  <span class="comment">//  Will always have a value</span></div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160; </div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;    <a class="code" href="structexpansion__salt__water__pipe.html">expansion_salt_water_pipe</a> *pipe = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160; </div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;    <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structexpansion__salt__water__pipe.html">expansion_salt_water_pipe</a> *element : <a class="code" href="classbasecamp.html#a9465f218c84c5322a1709b420ce8c225">salt_water_pipes</a> ) {</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;        <span class="keywordflow">if</span>( element-&gt;expansion == dir ) {</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;            pipe = element;</div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;            found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;        }</div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;    }</div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160; </div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;    <span class="keywordflow">if</span>( !found ) {</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Error: Failed to find the pipe task that was to be constructed&quot;</span> ) );</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;    }</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160; </div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;    <a class="code" href="structpoint.html">point</a> connection_dir = pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#ae7b59b91e8530f7e154b7116d0af0be4">connection_direction</a>;</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> segment_number = <a class="code" href="faction__camp_8cpp.html#ad0c98227b4ff493485299a472b4adb45">salt_water_pipe_segment_of</a>( making );</div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160; </div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;    <span class="keywordflow">if</span>( segment_number == -1 ) {</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;    }</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160; </div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> previous_construction_direction = { pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number - 1].point.x() - pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point.x(),</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;                                                    pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number - 1].point.y() - pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point.y()</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;                                                  };</div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160; </div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;    <a class="code" href="structpoint.html">point</a> next_construction_direction;</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160; </div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;    <span class="keywordflow">if</span>( segment_number == <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>.size() - 1 ) ) {</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;        next_construction_direction = { -connection_dir.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>, -connection_dir.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> };</div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;        next_construction_direction = { pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number + 1].point.x() - pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point.x(),</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;                                        pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number + 1].point.y() - pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point.y()</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;                                      };</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;    }</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160; </div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;    <span class="keywordtype">bool</span> orthogonal = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;    <span class="keywordtype">bool</span> mirror_horizontal = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;    <span class="keywordtype">bool</span> mirror_vertical = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;    <span class="keywordtype">int</span> rotation = 0;</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160; </div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;    <a class="code" href="faction__camp_8cpp.html#a6021ed02b03a1818a80c619b39729392">salt_water_pipe_orientation_adjustment</a>( previous_construction_direction, orthogonal,</div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;                                            mirror_vertical, mirror_horizontal, rotation );</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160; </div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;    <span class="keywordflow">if</span>( orthogonal ) {</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;        <span class="keyword">const</span> <a class="code" href="classstring__id.html">update_mapgen_id</a> <span class="keywordtype">id</span>{ <a class="code" href="faction__camp_8cpp.html#a7937e40ba0e98e4562287788be7dd431">faction_expansion_salt_water_pipe_N</a> };</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;        <a class="code" href="mapgen_8cpp.html#a6a25dca035599e6f281495d39d0768a6">run_mapgen_update_func</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point, {}, <span class="keyword">nullptr</span>, <span class="keyword">true</span>,</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;                                mirror_horizontal, mirror_vertical, rotation );</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;        <a class="code" href="mapgen_8cpp.html#a3f043a26f6795bdf1cdffc73134bce33">apply_construction_marker</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point,</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;                                   miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a>, mirror_horizontal,</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;                                   mirror_vertical, rotation, <span class="keyword">false</span> );</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;        <span class="keyword">const</span> <a class="code" href="classstring__id.html">update_mapgen_id</a> <span class="keywordtype">id</span>{ <a class="code" href="faction__camp_8cpp.html#a8b19f47cd9207fe658369b52d95aeef3">faction_expansion_salt_water_pipe_NE</a> };</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;        <a class="code" href="mapgen_8cpp.html#a6a25dca035599e6f281495d39d0768a6">run_mapgen_update_func</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point, {}, <span class="keyword">nullptr</span>, <span class="keyword">true</span>,</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;                                mirror_horizontal, mirror_vertical, rotation );</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;        <a class="code" href="mapgen_8cpp.html#a3f043a26f6795bdf1cdffc73134bce33">apply_construction_marker</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point,</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;                                   miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a>, mirror_horizontal,</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;                                   mirror_vertical, rotation, <span class="keyword">false</span> );</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;    }</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160; </div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;    <a class="code" href="faction__camp_8cpp.html#a6021ed02b03a1818a80c619b39729392">salt_water_pipe_orientation_adjustment</a>( next_construction_direction, orthogonal, mirror_vertical,</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;                                            mirror_horizontal, rotation );</div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160; </div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;    <span class="keywordflow">if</span>( orthogonal ) {</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;        <span class="keyword">const</span> <a class="code" href="classstring__id.html">update_mapgen_id</a> <span class="keywordtype">id</span>{ <a class="code" href="faction__camp_8cpp.html#a7937e40ba0e98e4562287788be7dd431">faction_expansion_salt_water_pipe_N</a> };</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;        <a class="code" href="mapgen_8cpp.html#a6a25dca035599e6f281495d39d0768a6">run_mapgen_update_func</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point, {}, <span class="keyword">nullptr</span>, <span class="keyword">true</span>,</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;                                mirror_horizontal, mirror_vertical, rotation );</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;        <a class="code" href="mapgen_8cpp.html#a3f043a26f6795bdf1cdffc73134bce33">apply_construction_marker</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point,</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;                                   miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a>, mirror_horizontal,</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;                                   mirror_vertical, rotation, <span class="keyword">false</span> );</div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;        <span class="keyword">const</span> <a class="code" href="classstring__id.html">update_mapgen_id</a> <span class="keywordtype">id</span>{ <a class="code" href="faction__camp_8cpp.html#a8b19f47cd9207fe658369b52d95aeef3">faction_expansion_salt_water_pipe_NE</a> };</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;        <a class="code" href="mapgen_8cpp.html#a6a25dca035599e6f281495d39d0768a6">run_mapgen_update_func</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point, {}, <span class="keyword">nullptr</span>, <span class="keyword">true</span>,</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;                                mirror_horizontal, mirror_vertical, rotation );</div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;        <a class="code" href="mapgen_8cpp.html#a3f043a26f6795bdf1cdffc73134bce33">apply_construction_marker</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point,</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;                                   miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a>, mirror_horizontal,</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;                                   mirror_vertical, rotation, <span class="keyword">false</span> );</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;    }</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160; </div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;    pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].finished = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160; </div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;    <span class="keyword">auto</span> e = <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( dir );</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;    <span class="comment">//  Should be safe as the caller has already checked the result. Repeating rather than adding an additional parameter to the function.</span></div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160; </div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;    <span class="keywordtype">size_t</span> finished_segments = 0;</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;    <span class="keywordflow">for</span>( std::vector&lt;expansion_salt_water_pipe_segment&gt;::iterator::value_type element :</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;         pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a> ) {</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;        <span class="keywordflow">if</span>( element.finished ) {</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;            finished_segments++;</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;        }</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;    }</div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160; </div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;    <span class="comment">//  This is the last segment, so we can now allow the salt water pump to be constructed.</span></div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;    <span class="keywordflow">if</span>( finished_segments == pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>.size() ) {</div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;        <span class="keyword">const</span> std::string token = <a class="code" href="faction__camp_8cpp.html#a73d95a2fe234d4b0ff00dddc73a91378">salt_water_pipe_string_base</a> + <span class="stringliteral">&quot;0&quot;</span> + <a class="code" href="faction__camp_8cpp.html#aca2bb4215b6b0c8e0bc90668edb14d6b">salt_water_pipe_string_suffix</a>;</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;        <span class="keywordflow">if</span>( e-&gt;second.provides.find( token ) == e-&gt;second.provides.end() ) {</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;            e-&gt;second.provides[token] = 0;</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;        }</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;        e-&gt;second.provides[token]++;</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;    }</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160; </div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;    <a class="code" href="classbasecamp.html#adb18f0e442ddb5df1ad80622382833df">update_provides</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a>, e-&gt;second );</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;    <a class="code" href="classbasecamp.html#a38f564976b4c46a367b94d683c508f3b">update_resources</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> );</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160; </div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> &amp;comp : npc_list ) {</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;        <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">true</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns from construction of a salt water pipe segment&quot;</span> ),</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;                       <span class="stringliteral">&quot;construction&quot;</span>, 2 );</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;    }</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160; </div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;}</div>
<div class="ttc" id="afaction__camp_8cpp_html_a73d95a2fe234d4b0ff00dddc73a91378"><div class="ttname"><a href="faction__camp_8cpp.html#a73d95a2fe234d4b0ff00dddc73a91378">salt_water_pipe_string_base</a></div><div class="ttdeci">static const std::string salt_water_pipe_string_base</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02918">faction_camp.cpp:2918</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_aca2bb4215b6b0c8e0bc90668edb14d6b"><div class="ttname"><a href="faction__camp_8cpp.html#aca2bb4215b6b0c8e0bc90668edb14d6b">salt_water_pipe_string_suffix</a></div><div class="ttdeci">static const std::string salt_water_pipe_string_suffix</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02919">faction_camp.cpp:2919</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_a6a25dca035599e6f281495d39d0768a6"><div class="ttname"><a href="mapgen_8cpp.html#a6a25dca035599e6f281495d39d0768a6">run_mapgen_update_func</a></div><div class="ttdeci">bool run_mapgen_update_func(const update_mapgen_id &amp;update_mapgen_id, const tripoint_abs_omt &amp;omt_pos, const mapgen_arguments &amp;args, mission *miss, bool cancel_on_collision, bool mirror_horizontal, bool mirror_vertical, int rotation)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l07925">mapgen.cpp:7925</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="mapgen_8cpp_source.html#l07960">apply_construction_marker()</a>, <a class="el" href="basecamp_8h_source.html#l00143">expansion_salt_water_pipe::connection_direction</a>, <a class="el" href="mission__companion_8h_source.html#l00107">mission_id::dir</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="faction__camp_8cpp_source.html#l00344">faction_expansion_salt_water_pipe_N</a>, <a class="el" href="faction__camp_8cpp_source.html#l00347">faction_expansion_salt_water_pipe_NE</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>, <a class="el" href="mission__companion_8h_source.html#l00106">mission_id::mapgen_args</a>, <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>, <a class="el" href="mission__companion_8h_source.html#l00105">mission_id::parameters</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="mapgen_8cpp_source.html#l07925">run_mapgen_update_func()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03067">salt_water_pipe_orientation_adjustment()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02985">salt_water_pipe_segment_of()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02918">salt_water_pipe_string_base</a>, <a class="el" href="faction__camp_8cpp_source.html#l02919">salt_water_pipe_string_suffix</a>, <a class="el" href="basecamp_8h_source.html#l00198">salt_water_pipes</a>, <a class="el" href="basecamp_8h_source.html#l00144">expansion_salt_water_pipe::segments</a>, <a class="el" href="basecamp_8cpp_source.html#l00429">update_provides()</a>, <a class="el" href="basecamp_8cpp_source.html#l00417">update_resources()</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l03875">upgrade_return()</a>.</p>

</div>
</div>
<a id="ac3a517b4b692a7f5d2a3876595785a06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3a517b4b692a7f5d2a3876595785a06">&#9670;&nbsp;</a></span>salt_water_pipe_swamp_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::salt_water_pipe_swamp_return </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> &amp;&#160;</td>
          <td class="paramname"><em>npc_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l04060">4060</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;{</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> dir = miss_id.<a class="code" href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">dir</a>.value();  <span class="comment">//  Will always have a value</span></div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160; </div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;    <a class="code" href="structexpansion__salt__water__pipe.html">expansion_salt_water_pipe</a> *pipe = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160; </div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;    <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structexpansion__salt__water__pipe.html">expansion_salt_water_pipe</a> *element : <a class="code" href="classbasecamp.html#a9465f218c84c5322a1709b420ce8c225">salt_water_pipes</a> ) {</div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;        <span class="keywordflow">if</span>( element-&gt;expansion == dir ) {</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;            pipe = element;</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;            found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;        }</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;    }</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160; </div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;    <span class="keywordflow">if</span>( !found ) {</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Error: Failed to find the pipe task that was to be constructed&quot;</span> ) );</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;    }</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160; </div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;    <a class="code" href="structpoint.html">point</a> connection_dir = pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#ae7b59b91e8530f7e154b7116d0af0be4">connection_direction</a>;</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> segment_number = 0;</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160; </div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;    <a class="code" href="structpoint.html">point</a> next_construction_direction;</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160; </div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;    <span class="keywordflow">if</span>( segment_number == pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>.size() - 1 ) {</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;        next_construction_direction = { -connection_dir.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>, -connection_dir.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> };</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;        next_construction_direction = { pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number + 1].point.x() - pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point.x(),</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;                                        pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number + 1].point.y() - pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point.y()</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;                                      };</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;    }</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160; </div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;    <span class="keywordtype">bool</span> orthogonal = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;    <span class="keywordtype">bool</span> mirror_horizontal = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;    <span class="keywordtype">bool</span> mirror_vertical = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;    <span class="keywordtype">int</span> rotation = 0;</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160; </div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;    <a class="code" href="faction__camp_8cpp.html#a6021ed02b03a1818a80c619b39729392">salt_water_pipe_orientation_adjustment</a>( next_construction_direction, orthogonal, mirror_vertical,</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;                                            mirror_horizontal, rotation );</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160; </div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;    <span class="keywordflow">if</span>( orthogonal ) {</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;        <span class="keyword">const</span> <a class="code" href="classstring__id.html">update_mapgen_id</a> <span class="keywordtype">id</span>{ <a class="code" href="faction__camp_8cpp.html#a335794f4a5cb0da4e3d56d97b94642a8">faction_expansion_salt_water_pipe_swamp_N</a> };</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;        <a class="code" href="mapgen_8cpp.html#a6a25dca035599e6f281495d39d0768a6">run_mapgen_update_func</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point, {}, <span class="keyword">nullptr</span>, <span class="keyword">true</span>,</div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;                                mirror_horizontal, mirror_vertical, rotation );</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;        <a class="code" href="mapgen_8cpp.html#a3f043a26f6795bdf1cdffc73134bce33">apply_construction_marker</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point,</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;                                   miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a>, mirror_horizontal,</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;                                   mirror_vertical, rotation, <span class="keyword">false</span> );</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;        <span class="keyword">const</span> <a class="code" href="classstring__id.html">update_mapgen_id</a> <span class="keywordtype">id</span>{ <a class="code" href="faction__camp_8cpp.html#ac5026b654d956ff8bf9295261f4bcd3f">faction_expansion_salt_water_pipe_swamp_NE</a> };</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;        <a class="code" href="mapgen_8cpp.html#a6a25dca035599e6f281495d39d0768a6">run_mapgen_update_func</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point, {}, <span class="keyword">nullptr</span>, <span class="keyword">true</span>,</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;                                mirror_horizontal, mirror_vertical, rotation );</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;        <a class="code" href="mapgen_8cpp.html#a3f043a26f6795bdf1cdffc73134bce33">apply_construction_marker</a>( <span class="keywordtype">id</span>, pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].point,</div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;                                   miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a>, mirror_horizontal,</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;                                   mirror_vertical, rotation, <span class="keyword">false</span> );</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;    }</div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160; </div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;    pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[segment_number].finished = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160; </div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;    <span class="keyword">auto</span> e = <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( dir );</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;    <span class="comment">//  Should be safe as the caller has already checked the result. Repeating rather than adding an additional parameter to the function.</span></div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160; </div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;    <span class="keywordtype">size_t</span> finished_segments = 0;</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;    <span class="keywordflow">for</span>( std::vector&lt;expansion_salt_water_pipe_segment&gt;::iterator::value_type element :</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;         pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a> ) {</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;        <span class="keywordflow">if</span>( element.finished ) {</div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;            finished_segments++;</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;        }</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;    }</div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160; </div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;    <span class="comment">//  This is the last segment, so we can now allow the salt water pump to be constructed.</span></div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;    <span class="keywordflow">if</span>( finished_segments == pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>.size() ) {</div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;        <span class="keyword">const</span> std::string token = <a class="code" href="faction__camp_8cpp.html#a73d95a2fe234d4b0ff00dddc73a91378">salt_water_pipe_string_base</a> + <span class="stringliteral">&quot;0&quot;</span> + <a class="code" href="faction__camp_8cpp.html#aca2bb4215b6b0c8e0bc90668edb14d6b">salt_water_pipe_string_suffix</a>;</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;        <span class="keywordflow">if</span>( e-&gt;second.provides.find( token ) == e-&gt;second.provides.end() ) {</div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;            e-&gt;second.provides[token] = 0;</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;        }</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;        e-&gt;second.provides[token]++;</div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;    }</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160; </div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;    <a class="code" href="classbasecamp.html#adb18f0e442ddb5df1ad80622382833df">update_provides</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a>, e-&gt;second );</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;    <a class="code" href="classbasecamp.html#a38f564976b4c46a367b94d683c508f3b">update_resources</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> );</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160; </div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> &amp;comp : npc_list ) {</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;        <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">true</span>,</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;                       <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns from construction of the salt water pipe swamp segment&quot;</span> ), <span class="stringliteral">&quot;construction&quot;</span>, 2 );</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;    }</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160; </div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="mapgen_8cpp_source.html#l07960">apply_construction_marker()</a>, <a class="el" href="basecamp_8h_source.html#l00143">expansion_salt_water_pipe::connection_direction</a>, <a class="el" href="mission__companion_8h_source.html#l00107">mission_id::dir</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="faction__camp_8cpp_source.html#l00338">faction_expansion_salt_water_pipe_swamp_N</a>, <a class="el" href="faction__camp_8cpp_source.html#l00340">faction_expansion_salt_water_pipe_swamp_NE</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>, <a class="el" href="mission__companion_8h_source.html#l00106">mission_id::mapgen_args</a>, <a class="el" href="mission__companion_8h_source.html#l00105">mission_id::parameters</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="mapgen_8cpp_source.html#l07925">run_mapgen_update_func()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03067">salt_water_pipe_orientation_adjustment()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02918">salt_water_pipe_string_base</a>, <a class="el" href="faction__camp_8cpp_source.html#l02919">salt_water_pipe_string_suffix</a>, <a class="el" href="basecamp_8h_source.html#l00198">salt_water_pipes</a>, <a class="el" href="basecamp_8h_source.html#l00144">expansion_salt_water_pipe::segments</a>, <a class="el" href="basecamp_8cpp_source.html#l00429">update_provides()</a>, <a class="el" href="basecamp_8cpp_source.html#l00417">update_resources()</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l03875">upgrade_return()</a>.</p>

</div>
</div>
<a id="a4ae7a79b8b4ca5c5ea188d40d72b7c4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ae7a79b8b4ca5c5ea188d40d72b7c4e">&#9670;&nbsp;</a></span>scan_pseudo_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::scan_pseudo_items </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l02182">2182</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;{</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;expansion : <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a> ) {</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;        expansion.second.available_pseudo_items.clear();</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;        <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> tile = <a class="code" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() + expansion.first.x,</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;                                <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() + expansion.first.y, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() );</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;        <a class="code" href="classtinymap.html">tinymap</a> expansion_map;</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;        expansion_map.<a class="code" href="classtinymap.html#a7f913ba5d8facdb8c3d6b759593095fc">load</a>( tile, <span class="keyword">false</span> );</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160; </div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;        <a class="code" href="structtripoint.html">tripoint</a> mapmin = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>( 0, 0, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() );</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;        <a class="code" href="structtripoint.html">tripoint</a> mapmax = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>( 2 * <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> - 1, 2 * <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> - 1, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() );</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> : expansion_map.<a class="code" href="classtinymap.html#a794a96c8240bf6ff8d040009ab06b0f4">points_in_rectangle</a>( mapmin, mapmax ) ) {</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;            <span class="keywordflow">if</span>( expansion_map.<a class="code" href="classtinymap.html#a1ff55141b309333acfeac9cd975ec5a9">furn</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ) != <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">furn_str_id::NULL_ID</a>() &amp;&amp;</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;                expansion_map.<a class="code" href="classtinymap.html#a1ff55141b309333acfeac9cd975ec5a9">furn</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ).<a class="code" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="structfurn__t.html#a1c2dba493686253a3366982da99c7345">crafting_pseudo_item</a>.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() &amp;&amp;</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;                expansion_map.<a class="code" href="classtinymap.html#a1ff55141b309333acfeac9cd975ec5a9">furn</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ).<a class="code" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="structfurn__t.html#a1c2dba493686253a3366982da99c7345">crafting_pseudo_item</a>.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="structitype.html#a72121b6b478fae1969a4b559f3ded22f">has_flag</a>( <a class="code" href="flag_8cpp.html#ac22277325d81dcfd92b7611a5b705b07">flag_ALLOWS_REMOTE_USE</a> ) ) {</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;                <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;                <span class="keywordflow">for</span>( <a class="code" href="classstring__id.html">itype_id</a> &amp;element : expansion.second.available_pseudo_items ) {</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;                    <span class="keywordflow">if</span>( element == expansion_map.<a class="code" href="classtinymap.html#a1ff55141b309333acfeac9cd975ec5a9">furn</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ).<a class="code" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="structfurn__t.html#a1c2dba493686253a3366982da99c7345">crafting_pseudo_item</a> ) {</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;                        found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;                    }</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;                }</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;                <span class="keywordflow">if</span>( !found ) {</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;                    expansion.second.available_pseudo_items.push_back( expansion_map.<a class="code" href="classtinymap.html#a1ff55141b309333acfeac9cd975ec5a9">furn</a>(</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;                                <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ).<a class="code" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="structfurn__t.html#a1c2dba493686253a3366982da99c7345">crafting_pseudo_item</a> );</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;                }</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;            }</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160; </div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;            <span class="keywordflow">if</span>( expansion_map.<a class="code" href="classtinymap.html#a4bc1664533f3faed7448cf341ab3dcb6">veh_at</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ).has_value() &amp;&amp;</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;                expansion_map.<a class="code" href="classtinymap.html#a4bc1664533f3faed7448cf341ab3dcb6">veh_at</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> )-&gt;vehicle().is_appliance() ) {</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;[tool, discard_] : expansion_map.<a class="code" href="classtinymap.html#a4bc1664533f3faed7448cf341ab3dcb6">veh_at</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> )-&gt;get_tools() ) {</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;                    <span class="keywordflow">if</span>( tool.has_flag( <a class="code" href="flag_8cpp.html#afa7c0e8f7a4654a1b825f73111f5fe8e">flag_PSEUDO</a> ) &amp;&amp;</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;                        tool.has_flag( <a class="code" href="flag_8cpp.html#ac22277325d81dcfd92b7611a5b705b07">flag_ALLOWS_REMOTE_USE</a> ) ) {</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;                        <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                        <span class="keywordflow">for</span>( <a class="code" href="classstring__id.html">itype_id</a> &amp;element : expansion.second.available_pseudo_items ) {</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;                            <span class="keywordflow">if</span>( element == tool.typeId() ) {</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;                                found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;                            }</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;                        }</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;                        <span class="keywordflow">if</span>( !found ) {</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;                            expansion.second.available_pseudo_items.push_back( tool.typeId() );</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;                        }</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;                    }</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;                }</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;            }</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;        }</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    }</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">cata_variant_type::tripoint</a></div><div class="ttdeci">@ tripoint</div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__mut_html_a0e6b02267065e16149a37d98991f653e"><div class="ttname"><a href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">coords::coord_point_mut::y</a></div><div class="ttdeci">constexpr auto y() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00164">coordinates.h:164</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__mut_html_a0fa1f1039d6d6f5b5f744a5d3d039a02"><div class="ttname"><a href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">coords::coord_point_mut::x</a></div><div class="ttdeci">constexpr auto x() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00161">coordinates.h:161</a></div></div>
<div class="ttc" id="aclassint__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">int_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00026">ammo_effect.cpp:26</a></div></div>
<div class="ttc" id="aclassstring__id_html_a1b2100ed077789ba45aaf5081791b36c"><div class="ttname"><a href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">string_id&lt; furn_t &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; furn_t &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00078">achievement.cpp:78</a></div></div>
<div class="ttc" id="aclasstinymap_html"><div class="ttname"><a href="classtinymap.html">tinymap</a></div><div class="ttdoc">Tinymap is a small version of the map which covers a single overmap terrain (OMT) tile,...</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02422">map.h:2423</a></div></div>
<div class="ttc" id="aclasstinymap_html_a1ff55141b309333acfeac9cd975ec5a9"><div class="ttname"><a href="classtinymap.html#a1ff55141b309333acfeac9cd975ec5a9">tinymap::furn</a></div><div class="ttdeci">furn_id furn(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02495">map.h:2495</a></div></div>
<div class="ttc" id="aclasstinymap_html_a4bc1664533f3faed7448cf341ab3dcb6"><div class="ttname"><a href="classtinymap.html#a4bc1664533f3faed7448cf341ab3dcb6">tinymap::veh_at</a></div><div class="ttdeci">optional_vpart_position veh_at(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02644">map.h:2644</a></div></div>
<div class="ttc" id="aclasstinymap_html_a794a96c8240bf6ff8d040009ab06b0f4"><div class="ttname"><a href="classtinymap.html#a794a96c8240bf6ff8d040009ab06b0f4">tinymap::points_in_rectangle</a></div><div class="ttdeci">tripoint_range&lt; tripoint &gt; points_in_rectangle(const tripoint &amp;from, const tripoint &amp;to) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09099">map.cpp:9099</a></div></div>
<div class="ttc" id="aclasstinymap_html_a7f913ba5d8facdb8c3d6b759593095fc"><div class="ttname"><a href="classtinymap.html#a7f913ba5d8facdb8c3d6b759593095fc">tinymap::load</a></div><div class="ttdeci">void load(const tripoint_abs_omt &amp;w, bool update_vehicles, bool pump_events=false)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02447">map.h:2447</a></div></div>
<div class="ttc" id="aflag_8cpp_html_ac22277325d81dcfd92b7611a5b705b07"><div class="ttname"><a href="flag_8cpp.html#ac22277325d81dcfd92b7611a5b705b07">flag_ALLOWS_REMOTE_USE</a></div><div class="ttdeci">const flag_id flag_ALLOWS_REMOTE_USE(&quot;ALLOWS_REMOTE_USE&quot;)</div></div>
<div class="ttc" id="aflag_8cpp_html_afa7c0e8f7a4654a1b825f73111f5fe8e"><div class="ttname"><a href="flag_8cpp.html#afa7c0e8f7a4654a1b825f73111f5fe8e">flag_PSEUDO</a></div><div class="ttdeci">const flag_id flag_PSEUDO(&quot;PSEUDO&quot;)</div></div>
<div class="ttc" id="agame__constants_8h_html_a39fd8a829e3dc412646663066dbdb54c"><div class="ttname"><a href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a></div><div class="ttdeci">constexpr int SEEX</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00042">game_constants.h:42</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a4cfa35de359af17f7bc6c2a424339eb5"><div class="ttname"><a href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a></div><div class="ttdeci">constexpr int SEEY</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00043">game_constants.h:43</a></div></div>
<div class="ttc" id="anamespacemath__opers_html_a2f0118617735cc810b9d76d62bd182f6"><div class="ttname"><a href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">math_opers::pos</a></div><div class="ttdeci">constexpr double pos(double, double r)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__impl_8h_source.html#l00203">math_parser_impl.h:203</a></div></div>
<div class="ttc" id="astructfurn__t_html_a1c2dba493686253a3366982da99c7345"><div class="ttname"><a href="structfurn__t.html#a1c2dba493686253a3366982da99c7345">furn_t::crafting_pseudo_item</a></div><div class="ttdeci">itype_id crafting_pseudo_item</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00650">mapdata.h:650</a></div></div>
<div class="ttc" id="astructitype_html_a72121b6b478fae1969a4b559f3ded22f"><div class="ttname"><a href="structitype.html#a72121b6b478fae1969a4b559f3ded22f">itype::has_flag</a></div><div class="ttdeci">bool has_flag(const flag_id &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00164">itype.cpp:164</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mapdata_8h_source.html#l00650">furn_t::crafting_pseudo_item</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="flag_8cpp.html#ac22277325d81dcfd92b7611a5b705b07">flag_ALLOWS_REMOTE_USE</a>, <a class="el" href="flag_8cpp.html#afa7c0e8f7a4654a1b825f73111f5fe8e">flag_PSEUDO</a>, <a class="el" href="map_8h_source.html#l02495">tinymap::furn()</a>, <a class="el" href="itype_8cpp_source.html#l00164">itype::has_flag()</a>, <a class="el" href="achievement_8cpp_source.html#l00078">string_id&lt; T &gt;::is_valid()</a>, <a class="el" href="map_8h_source.html#l02447">tinymap::load()</a>, <a class="el" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">string_id&lt; furn_t &gt;::NULL_ID()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00026">int_id&lt; T &gt;::obj()</a>, <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="map_8cpp_source.html#l09099">tinymap::points_in_rectangle()</a>, <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>, <a class="el" href="game__constants_8h_source.html#l00042">SEEX</a>, <a class="el" href="game__constants_8h_source.html#l00043">SEEY</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>, <a class="el" href="map_8h_source.html#l02644">tinymap::veh_at()</a>, <a class="el" href="coordinates_8h_source.html#l00161">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::x()</a>, <a class="el" href="coordinates_8h_source.html#l00164">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::y()</a>, and <a class="el" href="coordinates_8h_source.html#l00167">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::z()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iexamine_8cpp_source.html#l01971">iexamine::bulletin_board()</a>.</p>

</div>
</div>
<a id="a4a7834ed84f8c60d76eece5ea7a08ec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a7834ed84f8c60d76eece5ea7a08ec5">&#9670;&nbsp;</a></span>search_results()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::search_results </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>skill</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#af237c901b245e3a737fbb0d6a390d2a2">item_group_id</a> &amp;&#160;</td>
          <td class="paramname"><em>group_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>attempts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>difficulty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>spawn items or corpses based on search attempts </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">skill</td><td>skill level of the search </td></tr>
    <tr><td class="paramname">group_id</td><td>name of the <a class="el" href="namespaceitem__group.html">item_group</a> that provides the items </td></tr>
    <tr><td class="paramname">attempts</td><td>number of skill checks to make </td></tr>
    <tr><td class="paramname">difficulty</td><td>a random number from 0 to difficulty is created for each attempt, and if skill is higher, an item or corpse is spawned </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l04698">4698</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;{</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; attempts; i++ ) {</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;        <span class="keywordflow">if</span>( skill &gt; <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, difficulty ) ) {</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;            <a class="code" href="classitem.html">item</a> result = <a class="code" href="namespaceitem__group.html#ac3c103acdb13db1667ce38b1bc2bf8a1">item_group::item_from</a>( <a class="code" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a>, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;            <span class="keywordflow">if</span>( !result.<a class="code" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;                <a class="code" href="classbasecamp.html#a4a27f46f305c8f1ccaaa31c3879a83b6">place_results</a>( result );</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;            }</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;        }</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;    }</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;}</div>
<div class="ttc" id="anamespaceanonymous__namespace_02recipe__groups_8cpp_03_html_ad3ae3cc26f6d2a1604cf7ec01d4a3dfe"><div class="ttname"><a href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">anonymous_namespace{recipe_groups.cpp}::group_id</a></div><div class="ttdeci">string_id&lt; recipe_group_data &gt; group_id</div><div class="ttdef"><b>Definition:</b> <a href="recipe__groups_8cpp_source.html#l00022">recipe_groups.cpp:22</a></div></div>
<div class="ttc" id="anamespaceitem__group_html_ac3c103acdb13db1667ce38b1bc2bf8a1"><div class="ttname"><a href="namespaceitem__group.html#ac3c103acdb13db1667ce38b1bc2bf8a1">item_group::item_from</a></div><div class="ttdeci">item item_from(const item_group_id &amp;group_id, const time_point &amp;birthday)</div><div class="ttdoc">Returns a random item from the item group, handles packaged food by putting it into its container and...</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8cpp_source.html#l00997">item_group.cpp:997</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l00931">item::is_null()</a>, <a class="el" href="item__group_8cpp_source.html#l00997">item_group::item_from()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05964">place_results()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l03962">gathering_return()</a>.</p>

</div>
</div>
<a id="af19dafc4d364f10ba2b4384d04470986"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af19dafc4d364f10ba2b4384d04470986">&#9670;&nbsp;</a></span>serialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>json</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l04278">4278</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;{</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a> != <a class="code" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>() ) {</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;        json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;owner&quot;</span>, <a class="code" href="classbasecamp.html#a79b673b1c90a7f62c6fd6dd0658b76bf">owner</a> );</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;name&quot;</span>, <a class="code" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a> );</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;pos&quot;</span>, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a> );</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;bb_pos&quot;</span>, <a class="code" href="classbasecamp.html#a0dc4ec3c6a2dc8c59a46364c6df93525">bb_pos</a> );</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;dumping_spot&quot;</span>, <a class="code" href="classbasecamp.html#ab4ba9e037b763ac9cb5d0aaf0ede847c">dumping_spot</a> );</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;liquid_dumping_spots&quot;</span>, <a class="code" href="classbasecamp.html#ac8708d7cbd1043ee22080c9e4e31606c">liquid_dumping_spots</a> );</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;hidden_missions&quot;</span> );</div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;        json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::vector&lt;ui_mission_id&gt; &amp;list : <a class="code" href="classbasecamp.html#a94cf9a27ff09dafc3b40eaa5f8844560">hidden_missions</a> ) {</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;            json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;            json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;dir&quot;</span> );</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;            json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structui__mission__id.html">ui_mission_id</a> &amp;miss_id : list ) {</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;                json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;                json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;mission_id&quot;</span>, miss_id.id );</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;                json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;            }</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;            json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;            json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;        }</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;        json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;expansions&quot;</span> );</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;        json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;expansion : <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a> ) {</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;            json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;            json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;dir&quot;</span>, expansion.first );</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;            json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;type&quot;</span>, expansion.second.type );</div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;            json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;provides&quot;</span> );</div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;            json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;provide : expansion.second.provides ) {</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;                json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;                json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;id&quot;</span>, provide.first );</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;                json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;amount&quot;</span>, provide.second );</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;                json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;            }</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;            json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;            json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;in_progress&quot;</span> );</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;            json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02cac327b49efdca2668f28cd7b4beee54b3">working</a> : expansion.second.in_progress ) {</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;                json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;                json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;id&quot;</span>, <a class="code" href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02cac327b49efdca2668f28cd7b4beee54b3">working</a>.first );</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;                json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;amount&quot;</span>, <a class="code" href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02cac327b49efdca2668f28cd7b4beee54b3">working</a>.second );</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;                json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;            }</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;            json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;            json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;pos&quot;</span>, expansion.second.pos );</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;            json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;        }</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;        json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;fortifications&quot;</span> );</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;        json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;fortification : <a class="code" href="classbasecamp.html#a6faf0213165ad5b7b2d8f06317833c15">fortifications</a> ) {</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;            json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;            json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;pos&quot;</span>, fortification );</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;            json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;        }</div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;        json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;salt_water_pipes&quot;</span> );</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;        json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="structexpansion__salt__water__pipe.html">expansion_salt_water_pipe</a> * <span class="keyword">const</span> &amp;pipe : <a class="code" href="classbasecamp.html#a9465f218c84c5322a1709b420ce8c225">salt_water_pipes</a> ) {</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;            json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;            json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;expansion&quot;</span>, pipe-&gt;expansion );</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;            json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;connection_direction&quot;</span>, pipe-&gt;connection_direction );</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;            json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;segments&quot;</span> );</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;            json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structexpansion__salt__water__pipe__segment.html">expansion_salt_water_pipe_segment</a> &amp;segment : pipe-&gt;segments ) {</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;                json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;                json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;point&quot;</span>, <a class="code" href="namespacecoords.html#aefed5186be640da17dc0e723c536715aafdd32b9061681edb52c554bd9bbf0712">segment</a>.point );</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;                json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;started&quot;</span>, <a class="code" href="namespacecoords.html#aefed5186be640da17dc0e723c536715aafdd32b9061681edb52c554bd9bbf0712">segment</a>.started );</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;                json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;finished&quot;</span>, <a class="code" href="namespacecoords.html#aefed5186be640da17dc0e723c536715aafdd32b9061681edb52c554bd9bbf0712">segment</a>.finished );</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;                json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;            }</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;            json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;            json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;        }</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;        json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;        json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160; </div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;    }</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;}</div>
<div class="ttc" id="aclassJsonOut_html_a44cdd853d4c6913b37caa9f0131eeff2"><div class="ttname"><a href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">JsonOut::end_array</a></div><div class="ttdeci">void end_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02346">json.cpp:2346</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4550e2036b904c4d4a90e440dd41c684"><div class="ttname"><a href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">JsonOut::start_array</a></div><div class="ttdeci">void start_array(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02335">json.cpp:2335</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4756f9a569adbfc60de127f7c335d82f"><div class="ttname"><a href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">JsonOut::start_object</a></div><div class="ttdeci">void start_object(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02316">json.cpp:2316</a></div></div>
<div class="ttc" id="aclassJsonOut_html_aa38d37840ed6ba168b78a43570e98681"><div class="ttname"><a href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">JsonOut::end_object</a></div><div class="ttdeci">void end_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02327">json.cpp:2327</a></div></div>
<div class="ttc" id="aclassJsonOut_html_afb935698620b87ff71b01e7763004de1"><div class="ttname"><a href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">JsonOut::member</a></div><div class="ttdeci">void member(std::string_view name)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02422">json.cpp:2422</a></div></div>
<div class="ttc" id="avehicle_8h_html_ad9a221cee9ae7a69d6f09d4de701f02cac327b49efdca2668f28cd7b4beee54b3"><div class="ttname"><a href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02cac327b49efdca2668f28cd7b4beee54b3">part_status_flag::working</a></div><div class="ttdeci">@ working</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l02346">JsonOut::end_array()</a>, <a class="el" href="json_8cpp_source.html#l02327">JsonOut::end_object()</a>, <a class="el" href="json_8cpp_source.html#l02422">JsonOut::member()</a>, <a class="el" href="overmap_8cpp_source.html#l06412">om_direction::name()</a>, <a class="el" href="json_8cpp_source.html#l02335">JsonOut::start_array()</a>, <a class="el" href="json_8cpp_source.html#l02316">JsonOut::start_object()</a>, and <a class="el" href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02cac327b49efdca2668f28cd7b4beee54b3">working</a>.</p>

</div>
</div>
<a id="a0daed3f8b7711b53ce4e598f6a0e97ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0daed3f8b7711b53ce4e598f6a0e97ed">&#9670;&nbsp;</a></span>set_bb_pos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::set_bb_pos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>new_abs_pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00189">189</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                                                       {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <a class="code" href="classbasecamp.html#a0dc4ec3c6a2dc8c59a46364c6df93525">bb_pos</a> = new_abs_pos;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00492">bb_pos</a>.</p>

</div>
</div>
<a id="ae589ad011146be27d180bd6638f6086f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae589ad011146be27d180bd6638f6086f">&#9670;&nbsp;</a></span>set_by_radio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::set_by_radio </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>access_by_radio</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00145">145</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="classbasecamp.html#ac74df444febf86c4bef85f88f2d94d65">by_radio</a> = access_by_radio;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00506">by_radio</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00747">talk_function::basecamp_mission()</a>, and <a class="el" href="iexamine_8cpp_source.html#l01971">iexamine::bulletin_board()</a>.</p>

</div>
</div>
<a id="ac0dc9d6f3e753ea9b8b820fdbbb80755"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0dc9d6f3e753ea9b8b820fdbbb80755">&#9670;&nbsp;</a></span>set_dumping_spot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::set_dumping_spot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>spot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00309">309</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                                                                    {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <a class="code" href="classbasecamp.html#ab4ba9e037b763ac9cb5d0aaf0ede847c">dumping_spot</a> = spot;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00496">dumping_spot</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00666">form_storage_zones()</a>.</p>

</div>
</div>
<a id="a8df147b5a1abd5f4015a25697ede03eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8df147b5a1abd5f4015a25697ede03eb">&#9670;&nbsp;</a></span>set_liquid_dumping_spot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::set_liquid_dumping_spot </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>liquid_dumps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00312">312</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                                                                                              {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="comment">// Nowhere qualified to dump liquid? Dump it wherever everything else goes.</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="keywordflow">if</span>( liquid_dumps.empty() ) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                <a class="code" href="classbasecamp.html#ac8708d7cbd1043ee22080c9e4e31606c">liquid_dumping_spots</a>.clear();</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <a class="code" href="classbasecamp.html#ac8708d7cbd1043ee22080c9e4e31606c">liquid_dumping_spots</a>.emplace_back( <a class="code" href="classbasecamp.html#ab4ba9e037b763ac9cb5d0aaf0ede847c">dumping_spot</a> );</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            } <span class="comment">//else</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <a class="code" href="classbasecamp.html#ac8708d7cbd1043ee22080c9e4e31606c">liquid_dumping_spots</a>.clear();</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <a class="code" href="classbasecamp.html#ac8708d7cbd1043ee22080c9e4e31606c">liquid_dumping_spots</a> = liquid_dumps;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00496">dumping_spot</a>, and <a class="el" href="basecamp_8h_source.html#l00498">liquid_dumping_spots</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00666">form_storage_zones()</a>.</p>

</div>
</div>
<a id="a95086abb7f86c54d25d1d06d1db46beb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95086abb7f86c54d25d1d06d1db46beb">&#9670;&nbsp;</a></span>set_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::set_name </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>new_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00636">636</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;{</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <a class="code" href="classbasecamp.html#a2995473daa7257a33d3412e6e5a08efb">name</a> = new_name;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00199">name</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l01803">game::validate_camps()</a>.</p>

</div>
</div>
<a id="ab8c26d0b2828f08061553b28e2d1c3f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8c26d0b2828f08061553b28e2d1c3f4">&#9670;&nbsp;</a></span>set_owner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::set_owner </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="basecamp_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>&#160;</td>
          <td class="paramname"><em>new_owner</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00809">809</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;{</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;faction_id, faction&gt; <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a> : <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;faction_manager_ptr-&gt;all() ) {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>.first == new_owner ) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            <a class="code" href="classbasecamp.html#a79b673b1c90a7f62c6fd6dd0658b76bf">owner</a> = new_owner;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="comment">//Fallthrough, id must be invalid</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Could not find matching faction for new owner&#39;s faction_id!&quot;</span> );</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="faction__camp_8cpp_source.html#l00664">fac()</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, and <a class="el" href="basecamp_8h_source.html#l00482">owner</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00638">get_basecamp()</a>.</p>

</div>
</div>
<a id="ac47cef787a568e256539140923ea2502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac47cef787a568e256539140923ea2502">&#9670;&nbsp;</a></span>set_sort_points()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::set_sort_points </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invokes the zone manager and validates that the necessary sort zones exist. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05306">5306</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;{</div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Sorting zones have changed.  Please create some sorting zones.  &quot;</span></div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;              <span class="stringliteral">&quot;You must create a camp food zone, and a camp storage zone.&quot;</span> ) );</div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;    <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;zones_manager();</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#af444c9325e40cf302418a1566abdb4e2">validate_sort_points</a>();</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l05288">validate_sort_points()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l05288">validate_sort_points()</a>.</p>

</div>
</div>
<a id="a5dd99428e24fe7077653118bf43b2b24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dd99428e24fe7077653118bf43b2b24">&#9670;&nbsp;</a></span>set_storage_tiles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::set_storage_tiles </td>
          <td>(</td>
          <td class="paramtype">const std::unordered_set&lt; <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>tiles</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00470">470</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                                                                                        {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <a class="code" href="classbasecamp.html#af79f4de8f8963115c179d1d0174b6115">src_set</a> = tiles;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00500">src_set</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00666">form_storage_zones()</a>.</p>

</div>
</div>
<a id="a7abc9e0fbad9f93a5613190bdebe2007"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7abc9e0fbad9f93a5613190bdebe2007">&#9670;&nbsp;</a></span>set_storage_zone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::set_storage_zone </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; const <a class="el" href="classzone__data.html">zone_data</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>zones</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00463">463</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                                                                                  {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            <a class="code" href="classbasecamp.html#a56d78527800e3e52c36dadfcda71ed2f">storage_zones</a> = <a class="code" href="mapgen_8h.html#afdd0a1598dc015b56a1b46d51da2b06ea26f94136f5db8afd4e9df1e512f7fdc5">zones</a>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00499">storage_zones</a>, and <a class="el" href="mapgen_8h.html#afdd0a1598dc015b56a1b46d51da2b06ea26f94136f5db8afd4e9df1e512f7fdc5">zones</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00666">form_storage_zones()</a>.</p>

</div>
</div>
<a id="a4a3a5cf06c7f9b1883407f5f41290cbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a3a5cf06c7f9b1883407f5f41290cbb">&#9670;&nbsp;</a></span>start_clearcut()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::start_clearcut </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>exertion_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l02602">2602</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;{</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;    std::vector&lt;std::string&gt; log_sources = { <span class="stringliteral">&quot;forest&quot;</span>, <span class="stringliteral">&quot;forest_thick&quot;</span>, <span class="stringliteral">&quot;forest_trail&quot;</span>, <span class="stringliteral">&quot;rural_road_forest&quot;</span>, <span class="stringliteral">&quot;rural_road_turn_forest&quot;</span>, <span class="stringliteral">&quot;rural_road_turn1_forest&quot;</span>, <span class="stringliteral">&quot;rural_road_3way_forest&quot;</span>,</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;                                             <span class="stringliteral">&quot;dirt_road_forest&quot;</span>, <span class="stringliteral">&quot;dirt_road_3way_forest&quot;</span>, <span class="stringliteral">&quot;dirt_road_turn_forest&quot;</span>, <span class="stringliteral">&quot;forest_trail_intersection&quot;</span>, <span class="stringliteral">&quot;special_forest&quot;</span>, <span class="stringliteral">&quot;special_forest_thick&quot;</span>, <span class="stringliteral">&quot;forest_trail_isolated&quot;</span>, <span class="stringliteral">&quot;forest_trail_end&quot;</span></div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;                                           };</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Forests are the only valid cutting locations, with forest dirt roads, forest rural roads, and trails being valid as well.  Note that it&#39;s likely both forest and field roads look exactly the same after having been cleared.&quot;</span> ) );</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a> = <a class="code" href="faction__camp_8cpp.html#acb818361c27d8dcdb7bec136a37bc471">om_target_tile</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, 1, 50, log_sources, <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">ot_match_type::type</a> );</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a> != <a class="code" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>( -999, -999, -999 ) ) {</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;        <a class="code" href="classstandard__npc.html">standard_npc</a> sample_npc( <span class="stringliteral">&quot;Temp&quot;</span> );</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;        sample_npc.set_fake( <span class="keyword">true</span> );</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;        <span class="keywordtype">int</span> tree_est = <a class="code" href="faction__camp_8cpp.html#a641b9ed74605d149c0b2b8edcf6a7120">om_cutdown_trees_est</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, 95 );</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;        <span class="keywordtype">int</span> tree_young_est = <a class="code" href="faction__camp_8cpp.html#a8d2cf3138523eab6fe0db75a692ab582">om_harvest_ter_est</a>( sample_npc, <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>,</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;                             <a class="code" href="faction__camp_8cpp.html#ac14bd4de6307aa83083e2f1d0be234fb">ter_t_tree_young</a>, 95 );</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;        <span class="keywordtype">int</span> dist = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>.xy(), <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() );</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;        <span class="comment">//Very roughly what the player does + 6 hours for prep, clean up, breaks</span></div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> chop_time = 6_hours + 1_hours * tree_est + 7_minutes * tree_young_est;</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> travel_time = <a class="code" href="faction__camp_8cpp.html#a158df75a9cecf13a3320d028110995dd">companion_travel_time_calc</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, 0_minutes, 2 );</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> work_time = travel_time + chop_time;</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Trip Estimate:\n%s&quot;</span> ), <a class="code" href="faction__camp_8cpp.html#ada2b0dae2dff386ef3fc04af8e39653e">camp_trip_description</a>( work_time,</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;                       chop_time, travel_time, dist, 2, <a class="code" href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">time_to_food</a>( work_time, exertion_level ) ) ) ) {</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;        }</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160; </div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;        <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id,</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;                                      work_time,</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;                                      <span class="keyword">true</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;departs to clear a forest&quot;</span> ), <span class="keyword">false</span>, {},</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;                                      <a class="code" href="faction__camp_8cpp.html#a92adaaef73b238fc4ae42c4f0ee72a86">skill_fabrication</a>, 1, exertion_level );</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;        <span class="keywordflow">if</span>( comp != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;            <a class="code" href="faction__camp_8cpp.html#a67d5972862a3c5ae195eefe12ccf757b">om_cutdown_trees_trunks</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, 95 );</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;            <a class="code" href="faction__camp_8cpp.html#afaad15efee8161cd068dafe62e09eaa0">om_harvest_ter_break</a>( *comp, <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, <a class="code" href="faction__camp_8cpp.html#ac14bd4de6307aa83083e2f1d0be234fb">ter_t_tree_young</a>, 95 );</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;            <a class="code" href="faction__camp_8cpp.html#a5207045ea4c5cf3538903d39104e03a1">change_cleared_terrain</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a> );</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;        }</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    }</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;}</div>
<div class="ttc" id="aclasscoords_1_1coord__point_html_a7b5804160d1d0e69a9f2fba098bea723"><div class="ttname"><a href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">coords::coord_point::xy</a></div><div class="ttdeci">constexpr auto xy() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00273">coordinates.h:273</a></div></div>
<div class="ttc" id="aclassstandard__npc_html"><div class="ttname"><a href="classstandard__npc.html">standard_npc</a></div><div class="ttdoc">An NPC with standard stats.</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01481">npc.h:1482</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a8e2cbab6dac12095f06b4cff66857fbb"><div class="ttname"><a href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00769">coordinates.h:769</a></div></div>
<div class="ttc" id="aenums_8h_html_a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a"><div class="ttname"><a href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">ot_match_type::type</a></div><div class="ttdeci">@ type</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a158df75a9cecf13a3320d028110995dd"><div class="ttname"><a href="faction__camp_8cpp.html#a158df75a9cecf13a3320d028110995dd">companion_travel_time_calc</a></div><div class="ttdeci">static time_duration companion_travel_time_calc(const tripoint_abs_omt &amp;pos, const tripoint_abs_omt &amp;tgt, time_duration work, int trips=1, int haulage=0)</div><div class="ttdoc">Can be used to calculate total trip time for an NPC mission or just the traveling portion.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05087">faction_camp.cpp:5087</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a5207045ea4c5cf3538903d39104e03a1"><div class="ttname"><a href="faction__camp_8cpp.html#a5207045ea4c5cf3538903d39104e03a1">change_cleared_terrain</a></div><div class="ttdeci">static void change_cleared_terrain(tripoint_abs_omt forest)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02484">faction_camp.cpp:2484</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a641b9ed74605d149c0b2b8edcf6a7120"><div class="ttname"><a href="faction__camp_8cpp.html#a641b9ed74605d149c0b2b8edcf6a7120">om_cutdown_trees_est</a></div><div class="ttdeci">static int om_cutdown_trees_est(const tripoint_abs_omt &amp;omt_tgt, int chance=100)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04808">faction_camp.cpp:4808</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a67d5972862a3c5ae195eefe12ccf757b"><div class="ttname"><a href="faction__camp_8cpp.html#a67d5972862a3c5ae195eefe12ccf757b">om_cutdown_trees_trunks</a></div><div class="ttdeci">static int om_cutdown_trees_trunks(const tripoint_abs_omt &amp;omt_tgt, int chance=100)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04816">faction_camp.cpp:4816</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a8d2cf3138523eab6fe0db75a692ab582"><div class="ttname"><a href="faction__camp_8cpp.html#a8d2cf3138523eab6fe0db75a692ab582">om_harvest_ter_est</a></div><div class="ttdeci">static int om_harvest_ter_est(npc &amp;comp, const tripoint_abs_omt &amp;omt_tgt, const ter_id &amp;t, int chance=100)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04767">faction_camp.cpp:4767</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a92adaaef73b238fc4ae42c4f0ee72a86"><div class="ttname"><a href="faction__camp_8cpp.html#a92adaaef73b238fc4ae42c4f0ee72a86">skill_fabrication</a></div><div class="ttdeci">static const skill_id skill_fabrication(&quot;fabrication&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_ac14bd4de6307aa83083e2f1d0be234fb"><div class="ttname"><a href="faction__camp_8cpp.html#ac14bd4de6307aa83083e2f1d0be234fb">ter_t_tree_young</a></div><div class="ttdeci">static const ter_str_id ter_t_tree_young(&quot;t_tree_young&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_acb818361c27d8dcdb7bec136a37bc471"><div class="ttname"><a href="faction__camp_8cpp.html#acb818361c27d8dcdb7bec136a37bc471">om_target_tile</a></div><div class="ttdeci">static tripoint_abs_omt om_target_tile(const tripoint_abs_omt &amp;omt_pos, int min_range=1, int range=1, const std::vector&lt; std::string &gt; &amp;possible_om_types={}, ot_match_type match_type=ot_match_type::exact, bool must_see=true, bool popup_notice=true, const tripoint_abs_omt &amp;source=tripoint_abs_omt(-999, -999, -999), bool bounce=false)</div><div class="ttdoc">Opens the overmap so that you can select points for missions or constructions.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04909">faction_camp.cpp:4909</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_ada2b0dae2dff386ef3fc04af8e39653e"><div class="ttname"><a href="faction__camp_8cpp.html#ada2b0dae2dff386ef3fc04af8e39653e">camp_trip_description</a></div><div class="ttdeci">static std::string camp_trip_description(const time_duration &amp;total_time, const time_duration &amp;working_time, const time_duration &amp;travel_time, int distance, int trips, int need_food)</div><div class="ttdoc">Formats the variables into a standard looking description to be displayed in a ynquery window.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05339">faction_camp.cpp:5339</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_afaad15efee8161cd068dafe62e09eaa0"><div class="ttname"><a href="faction__camp_8cpp.html#afaad15efee8161cd068dafe62e09eaa0">om_harvest_ter_break</a></div><div class="ttdeci">static int om_harvest_ter_break(npc &amp;comp, const tripoint_abs_omt &amp;omt_tgt, const ter_id &amp;t, int chance=100)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04771">faction_camp.cpp:4771</a></div></div>
<div class="ttc" id="aomdata_8h_html_a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102"><div class="ttname"><a href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">oter_travel_cost_type::forest</a></div><div class="ttdeci">@ forest</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="faction__camp_8cpp_source.html#l05339">camp_trip_description()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02484">change_cleared_terrain()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05087">companion_travel_time_calc()</a>, <a class="el" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, <a class="el" href="faction__camp_8cpp_source.html#l04808">om_cutdown_trees_est()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04816">om_cutdown_trees_trunks()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04771">om_harvest_ter_break()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04767">om_harvest_ter_est()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04909">om_target_tile()</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="creature_8cpp_source.html#l01523">Creature::set_fake()</a>, <a class="el" href="faction__camp_8cpp.html#a92adaaef73b238fc4ae42c4f0ee72a86">skill_fabrication</a>, <a class="el" href="faction__camp_8cpp_source.html#l01964">start_mission()</a>, <a class="el" href="faction__camp_8cpp.html#ac14bd4de6307aa83083e2f1d0be234fb">ter_t_tree_young</a>, <a class="el" href="faction__camp_8cpp_source.html#l05644">time_to_food()</a>, <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, and <a class="el" href="coordinates_8h_source.html#l00273">coords::coord_point&lt; Point, Origin, Scale, InBounds &gt;::xy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="aaeae9ce26fb316d9543a8c6c4ae1fd3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeae9ce26fb316d9543a8c6c4ae1fd3e">&#9670;&nbsp;</a></span>start_combat_mission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::start_combat_mission </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>exertion_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l03461">3461</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;{</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select checkpoints until you reach maximum range or select the last point again &quot;</span></div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;              <span class="stringliteral">&quot;to end.&quot;</span> ) );</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> start = <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>;</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;    std::vector&lt;tripoint_abs_omt&gt; scout_points = <a class="code" href="faction__camp_8cpp.html#ae1e33d4455349177338a3eb88be20032">om_companion_path</a>( start, 90, <span class="keyword">true</span> );</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;    <span class="keywordflow">if</span>( scout_points.empty() ) {</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;    }</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    <span class="keywordtype">int</span> dist = scout_points.size();</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    <span class="keywordtype">int</span> trips = 2;</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;    <a class="code" href="classtime__duration.html">time_duration</a> travel_time = <a class="code" href="faction__camp_8cpp.html#a158df75a9cecf13a3320d028110995dd">companion_travel_time_calc</a>( scout_points, 0_minutes, trips );</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Trip Estimate:\n%s&quot;</span> ), <a class="code" href="faction__camp_8cpp.html#ada2b0dae2dff386ef3fc04af8e39653e">camp_trip_description</a>( 0_hours, 0_hours,</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;                   travel_time, dist, trips, <a class="code" href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">time_to_food</a>( travel_time, exertion_level ) ) ) ) {</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;    }</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;    <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id, travel_time, <span class="keyword">true</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;departs on patrol&quot;</span> ),</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;                                  <span class="keyword">false</span>, {}, <a class="code" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, 3, exertion_level );</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    <span class="keywordflow">if</span>( comp != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;        comp-&gt;companion_mission_points = scout_points;</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;    }</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;}</div>
<div class="ttc" id="afaction__camp_8cpp_html_ae1e33d4455349177338a3eb88be20032"><div class="ttname"><a href="faction__camp_8cpp.html#ae1e33d4455349177338a3eb88be20032">om_companion_path</a></div><div class="ttdeci">static std::vector&lt; tripoint_abs_omt &gt; om_companion_path(const tripoint_abs_omt &amp;start, int range_start=90, bool bounce=true)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05140">faction_camp.cpp:5140</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="faction__camp_8cpp_source.html#l05339">camp_trip_description()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05087">companion_travel_time_calc()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05140">om_companion_path()</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, <a class="el" href="faction__camp_8cpp_source.html#l01964">start_mission()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l05644">time_to_food()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a5b7d68316ac3423438c7c4f794f03fe9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b7d68316ac3423438c7c4f794f03fe9">&#9670;&nbsp;</a></span>start_crafting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::start_crafting </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l03490">3490</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;{</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;    <span class="keyword">const</span> std::map&lt;recipe_id, translation&gt; &amp;recipes = <a class="code" href="classbasecamp.html#aba6c99a1a18288ac5daa5441414f9241">recipe_deck</a>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> );</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> it = recipes.find( <a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> ) );</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;    <span class="keywordflow">if</span>( it != recipes.end() ) {</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;        <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;making = it-&gt;first.obj();</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160; </div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;        <span class="keywordflow">if</span>( !making.<a class="code" href="classrecipe.html#ab1b55d41175b239729f740aaad63f306">deduped_requirements</a>().<a class="code" href="classdeduped__requirement__data.html#a904e48b7f9ea958a7dfcd06ca614581b">can_make_with_inventory</a>(</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;                <a class="code" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a>, making.<a class="code" href="classrecipe.html#a45b065c59b172ccab9e0630fd036fe09">get_component_filter</a>() ) ) {</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;            <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You don&#39;t have the materials to craft that&quot;</span> ) );</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;        }</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160; </div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;        <span class="keywordtype">int</span> batch_size = 1;</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;        <a class="code" href="classstring__input__popup.html">string_input_popup</a> popup_input;</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;        <span class="keywordtype">int</span> batch_max = <a class="code" href="classbasecamp.html#ab8c0d82084ebc2a0ed36ba88e3b042de">recipe_batch_max</a>( making );</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;        <span class="keyword">const</span> std::string <a class="code" href="namespacemusic.html#a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220">title</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Batch crafting %s [MAX: %d]: &quot;</span> ),</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;                                  making.<a class="code" href="classrecipe.html#a7aab303fc95f1e765db693bc59823ed6">result_name</a>( <span class="comment">/*decorated=*/</span><span class="keyword">true</span> ), batch_max );</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;        popup_input.<a class="code" href="classstring__input__popup.html#aa96aa0184abb3c9740c2a48f098eeb8b">title</a>( <a class="code" href="namespacemusic.html#a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220">title</a> ).<a class="code" href="classstring__input__popup.html#a4bb2ebaf993134aa843f3556eb61d69a">edit</a>( batch_size );</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160; </div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;        <span class="keywordflow">if</span>( popup_input.<a class="code" href="classstring__input__popup.html#a4e92a00b7b63abec83fcd4755470b52e">canceled</a>() || batch_size &lt;= 0 ) {</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;        }</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;        <span class="keywordflow">if</span>( batch_size &gt; <a class="code" href="classbasecamp.html#ab8c0d82084ebc2a0ed36ba88e3b042de">recipe_batch_max</a>( making ) ) {</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;            <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Your batch is too large!&quot;</span> ) );</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;        }</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160; </div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;        <a class="code" href="structmapgen__arguments.html">mapgen_arguments</a> arg;  <span class="comment">//  Created with a default value.</span></div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;        <a class="code" href="classbasecamp__action__components.html">basecamp_action_components</a> components( making, arg, batch_size, *<span class="keyword">this</span> );</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;        <span class="keywordflow">if</span>( !components.choose_components() ) {</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;        }</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160; </div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> work_days = <a class="code" href="namespacebase__camps.html#a8922377c7d85cf4e79f0445b4b6e819c">base_camps::to_workdays</a>( making.<a class="code" href="classrecipe.html#ae6f40cf521235b40c169fbe66a677976">batch_duration</a>( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>(),</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;                                  batch_size ) );</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;        <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id, work_days, <span class="keyword">true</span>,</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;                                      <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;begins to work&quot;</span> ), <span class="keyword">false</span>, {}, making.<a class="code" href="classrecipe.html#a8b1340359e15a704dc0942bfe5f9a5fa">exertion_level</a>(),</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;                                      making.<a class="code" href="classrecipe.html#a0f8a4801e8ff8e2c0310b04ef0c4a245">required_skills</a> );</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;        <span class="keywordflow">if</span>( comp != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;            components.consume_components();</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;results : making.<a class="code" href="classrecipe.html#a5c5dec1b4c4beae3485be0b6bf2ae22b">create_results</a>( batch_size ) ) {</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;                comp-&gt;companion_mission_inv.add_item( results );</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;            }</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;byproducts : making.<a class="code" href="classrecipe.html#a4ed6d7a51cc70ae0190e4f8b4d92b379">create_byproducts</a>( batch_size ) ) {</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;                comp-&gt;companion_mission_inv.add_item( byproducts );</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;            }</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;        }</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;    }</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_ab8c0d82084ebc2a0ed36ba88e3b042de"><div class="ttname"><a href="classbasecamp.html#ab8c0d82084ebc2a0ed36ba88e3b042de">basecamp::recipe_batch_max</a></div><div class="ttdeci">int recipe_batch_max(const recipe &amp;making) const</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04677">faction_camp.cpp:4677</a></div></div>
<div class="ttc" id="aclassrecipe_html_a4ed6d7a51cc70ae0190e4f8b4d92b379"><div class="ttname"><a href="classrecipe.html#a4ed6d7a51cc70ae0190e4f8b4d92b379">recipe::create_byproducts</a></div><div class="ttdeci">std::vector&lt; item &gt; create_byproducts(int batch=1) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00858">recipe.cpp:858</a></div></div>
<div class="ttc" id="aclassrecipe_html_a5c5dec1b4c4beae3485be0b6bf2ae22b"><div class="ttname"><a href="classrecipe.html#a5c5dec1b4c4beae3485be0b6bf2ae22b">recipe::create_results</a></div><div class="ttdeci">std::vector&lt; item &gt; create_results(int batch=1, item_components *used=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00776">recipe.cpp:776</a></div></div>
<div class="ttc" id="aclassrecipe_html_a7aab303fc95f1e765db693bc59823ed6"><div class="ttname"><a href="classrecipe.html#a7aab303fc95f1e765db693bc59823ed6">recipe::result_name</a></div><div class="ttdeci">std::string result_name(bool decorated=false) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01216">recipe.cpp:1216</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_a4bb2ebaf993134aa843f3556eb61d69a"><div class="ttname"><a href="classstring__input__popup.html#a4bb2ebaf993134aa843f3556eb61d69a">string_input_popup::edit</a></div><div class="ttdeci">void edit(std::string &amp;value)</div><div class="ttdoc">Edit values in place.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8cpp_source.html#l00625">string_input_popup.cpp:625</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="basecamp_8h_source.html#l00505">_inv</a>, <a class="el" href="recipe_8cpp_source.html#l00071">recipe::batch_duration()</a>, <a class="el" href="requirements_8cpp_source.html#l01671">deduped_requirement_data::can_make_with_inventory()</a>, <a class="el" href="string__input__popup_8h_source.html#l00255">string_input_popup::canceled()</a>, <a class="el" href="basecamp_8cpp_source.html#l00877">basecamp_action_components::choose_components()</a>, <a class="el" href="basecamp_8cpp_source.html#l00924">basecamp_action_components::consume_components()</a>, <a class="el" href="recipe_8cpp_source.html#l00858">recipe::create_byproducts()</a>, <a class="el" href="recipe_8cpp_source.html#l00776">recipe::create_results()</a>, <a class="el" href="recipe_8h_source.html#l00151">recipe::deduped_requirements()</a>, <a class="el" href="string__input__popup_8cpp_source.html#l00625">string_input_popup::edit()</a>, <a class="el" href="recipe_8cpp_source.html#l01140">recipe::exertion_level()</a>, <a class="el" href="recipe_8cpp_source.html#l01256">recipe::get_component_filter()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="mission__companion_8h_source.html#l00105">mission_id::parameters</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04677">recipe_batch_max()</a>, <a class="el" href="basecamp_8cpp_source.html#l00388">recipe_deck()</a>, <a class="el" href="recipe_8h_source.html#l00189">recipe::required_skills</a>, <a class="el" href="recipe_8cpp_source.html#l01216">recipe::result_name()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01964">start_mission()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="music_8h_source.html#l00014">music::title</a>, <a class="el" href="string__input__popup_8h_source.html#l00113">string_input_popup::title()</a>, <a class="el" href="basecamp_8cpp_source.html#l00092">base_camps::to_workdays()</a>, and <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a92f0d517ecb49e447a41b5a1dda3edd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92f0d517ecb49e447a41b5a1dda3edd8">&#9670;&nbsp;</a></span>start_cut_logs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::start_cut_logs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>exertion_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when a companion is sent to cut logs. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l02563">2563</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;{</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;    std::vector&lt;std::string&gt; log_sources = { <span class="stringliteral">&quot;forest&quot;</span>, <span class="stringliteral">&quot;forest_thick&quot;</span>, <span class="stringliteral">&quot;forest_trail&quot;</span>, <span class="stringliteral">&quot;rural_road_forest&quot;</span>, <span class="stringliteral">&quot;rural_road_turn_forest&quot;</span>, <span class="stringliteral">&quot;rural_road_turn1_forest&quot;</span>, <span class="stringliteral">&quot;rural_road_3way_forest&quot;</span>,</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;                                             <span class="stringliteral">&quot;dirt_road_forest&quot;</span>, <span class="stringliteral">&quot;dirt_road_3way_forest&quot;</span>, <span class="stringliteral">&quot;dirt_road_turn_forest&quot;</span>, <span class="stringliteral">&quot;forest_trail_intersection&quot;</span>, <span class="stringliteral">&quot;special_forest&quot;</span>, <span class="stringliteral">&quot;special_forest_thick&quot;</span>, <span class="stringliteral">&quot;forest_trail_isolated&quot;</span>, <span class="stringliteral">&quot;forest_trail_end&quot;</span></div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;                                           };</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Forests are the only valid cutting locations, with forest dirt roads, forest rural roads, and trails being valid as well.  Note that it&#39;s likely both forest and field roads look exactly the same after having been cleared.&quot;</span> ) );</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a> = <a class="code" href="faction__camp_8cpp.html#acb818361c27d8dcdb7bec136a37bc471">om_target_tile</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, 1, 50, log_sources, <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">ot_match_type::type</a> );</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a> != <a class="code" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>( -999, -999, -999 ) ) {</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;        <a class="code" href="classstandard__npc.html">standard_npc</a> sample_npc( <span class="stringliteral">&quot;Temp&quot;</span> );</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;        sample_npc.set_fake( <span class="keyword">true</span> );</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;        <span class="keywordtype">int</span> tree_est = <a class="code" href="faction__camp_8cpp.html#a641b9ed74605d149c0b2b8edcf6a7120">om_cutdown_trees_est</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, 50 );</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;        <span class="keywordtype">int</span> tree_young_est = <a class="code" href="faction__camp_8cpp.html#a8d2cf3138523eab6fe0db75a692ab582">om_harvest_ter_est</a>( sample_npc, <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>,</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;                             <a class="code" href="faction__camp_8cpp.html#ac14bd4de6307aa83083e2f1d0be234fb">ter_t_tree_young</a>, 50 );</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;        <span class="keywordtype">int</span> dist = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>.xy(), <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() );</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;        <span class="comment">//Very roughly what the player does + 6 hours for prep, clean up, breaks</span></div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> chop_time = 6_hours + 1_hours * tree_est + 7_minutes * tree_young_est;</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;        <span class="keywordtype">int</span> haul_items = 2 * tree_est + 3 * tree_young_est;</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> travel_time = <a class="code" href="faction__camp_8cpp.html#a158df75a9cecf13a3320d028110995dd">companion_travel_time_calc</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, 0_minutes,</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;                                    2, haul_items );</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> work_time = travel_time + chop_time;</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Trip Estimate:\n%s&quot;</span> ), <a class="code" href="faction__camp_8cpp.html#ada2b0dae2dff386ef3fc04af8e39653e">camp_trip_description</a>( work_time,</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;                       chop_time, travel_time, dist, 2, <a class="code" href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">time_to_food</a>( work_time, exertion_level ) ) ) ) {</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;        }</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160; </div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;        <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id,</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;                                      work_time, <span class="keyword">true</span>,</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;                                      <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;departs to cut logs&quot;</span> ), <span class="keyword">false</span>, {},</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;                                      <a class="code" href="faction__camp_8cpp.html#a92adaaef73b238fc4ae42c4f0ee72a86">skill_fabrication</a>, 2, exertion_level );</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;        <span class="keywordflow">if</span>( comp != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;            <a class="code" href="faction__camp_8cpp.html#a693f1335c149901eef94788f921fa7af">om_cutdown_trees_logs</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, 50 );</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;            <a class="code" href="faction__camp_8cpp.html#ae9f047ff1b3fbe33456d624baba244cf">om_harvest_ter</a>( *comp, <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, <a class="code" href="faction__camp_8cpp.html#ac14bd4de6307aa83083e2f1d0be234fb">ter_t_tree_young</a>, 50 );</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;            <a class="code" href="faction__camp_8cpp.html#a9b118df7b76eef1f9f296419a300176f">om_harvest_itm</a>( comp, <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, 95 );</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;            comp-&gt;companion_mission_time_ret = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + work_time;</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;            <a class="code" href="faction__camp_8cpp.html#a5207045ea4c5cf3538903d39104e03a1">change_cleared_terrain</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a> );</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;        }</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;    }</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;}</div>
<div class="ttc" id="afaction__camp_8cpp_html_a693f1335c149901eef94788f921fa7af"><div class="ttname"><a href="faction__camp_8cpp.html#a693f1335c149901eef94788f921fa7af">om_cutdown_trees_logs</a></div><div class="ttdeci">static int om_cutdown_trees_logs(const tripoint_abs_omt &amp;omt_tgt, int chance=100)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04812">faction_camp.cpp:4812</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a9b118df7b76eef1f9f296419a300176f"><div class="ttname"><a href="faction__camp_8cpp.html#a9b118df7b76eef1f9f296419a300176f">om_harvest_itm</a></div><div class="ttdeci">static mass_volume om_harvest_itm(const npc_ptr &amp;comp, const tripoint_abs_omt &amp;omt_tgt, int chance=100, bool take=true)</div><div class="ttdoc">Collects all items in omt_tgt with a chance between 0 - 1.0, returns total mass and volume take,...</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04862">faction_camp.cpp:4862</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_ae9f047ff1b3fbe33456d624baba244cf"><div class="ttname"><a href="faction__camp_8cpp.html#ae9f047ff1b3fbe33456d624baba244cf">om_harvest_ter</a></div><div class="ttdeci">static int om_harvest_ter(npc &amp;comp, const tripoint_abs_omt &amp;omt_tgt, const ter_id &amp;t, int chance=100, bool estimate=false, bool bring_back=true)</div><div class="ttdoc">Counts or destroys and drops the bash items of all terrain that matches t in the map tile.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04775">faction_camp.cpp:4775</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="faction__camp_8cpp_source.html#l05339">camp_trip_description()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02484">change_cleared_terrain()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05087">companion_travel_time_calc()</a>, <a class="el" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, <a class="el" href="faction__camp_8cpp_source.html#l04808">om_cutdown_trees_est()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04812">om_cutdown_trees_logs()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04862">om_harvest_itm()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04775">om_harvest_ter()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04767">om_harvest_ter_est()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04909">om_target_tile()</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="creature_8cpp_source.html#l01523">Creature::set_fake()</a>, <a class="el" href="faction__camp_8cpp.html#a92adaaef73b238fc4ae42c4f0ee72a86">skill_fabrication</a>, <a class="el" href="faction__camp_8cpp_source.html#l01964">start_mission()</a>, <a class="el" href="faction__camp_8cpp.html#ac14bd4de6307aa83083e2f1d0be234fb">ter_t_tree_young</a>, <a class="el" href="faction__camp_8cpp_source.html#l05644">time_to_food()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, and <a class="el" href="coordinates_8h_source.html#l00273">coords::coord_point&lt; Point, Origin, Scale, InBounds &gt;::xy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a9a751780e032be391deb8cba61b624fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a751780e032be391deb8cba61b624fe">&#9670;&nbsp;</a></span>start_farm_op()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::start_farm_op </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;&#160;</td>
          <td class="paramname"><em>omt_tgt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>exertion_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l03679">3679</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;{</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;    <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61">farm_ops</a> op = <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a2e2f5b37ef2f410d6f61665798ec0a5d">farm_ops::plow</a>;</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;    <span class="keywordflow">if</span>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6aea7bf0864ae107743e8d1b018a8115f9">Camp_Plow</a> ) {</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;        op = <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a2e2f5b37ef2f410d6f61665798ec0a5d">farm_ops::plow</a>;</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a913bca7a664f619b40909d0e7c5fa9bf">Camp_Plant</a> ) {</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;        op = <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a9ea0a36b3a20901fafe834eb519a595c">farm_ops::plant</a>;</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( miss_id.<a class="code" href="structmission__id.html#a9a1d9cd3645d8fda2ffdfe1a45b16635">id</a> == <a class="code" href="mission__companion_8h.html#ae3d13334ef71b08dcf0efc599c145bd6a332c22fbdcb568f67e691b1445ed4387">Camp_Harvest</a> ) {</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;        op = <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a430e39cf0eec69892a0fdb6b0dc4aa70">farm_ops::harvest</a>;</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Farm operations called with no matching operation&quot;</span> );</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;    }</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160; </div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;    std::pair&lt;size_t, std::string&gt; farm_data = <a class="code" href="faction__camp_8cpp.html#a43427e363cb8e919f4330dc65aeab29a">farm_action</a>( omt_tgt, op );</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;    <span class="keywordtype">size_t</span> plots_cnt = farm_data.first;</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;    <span class="keywordflow">if</span>( !plots_cnt ) {</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;    }</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160; </div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;    <a class="code" href="classtime__duration.html">time_duration</a> work = 0_minutes;</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;    <span class="keywordflow">switch</span>( op ) {</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a430e39cf0eec69892a0fdb6b0dc4aa70">farm_ops::harvest</a>:</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;            work += 3_minutes * plots_cnt;</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;            <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id, work, <span class="keyword">true</span>,</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;                           <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;begins to harvest the field&quot;</span> ), <span class="keyword">false</span>, {}, <a class="code" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, 1, exertion_level );</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a9ea0a36b3a20901fafe834eb519a595c">farm_ops::plant</a>: {</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;            <a class="code" href="classinventory__filter__preset.html">inventory_filter_preset</a> seed_filter( []( <span class="keyword">const</span> <a class="code" href="classitem__location.html">item_location</a> &amp; loc ) {</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;                <span class="keywordflow">return</span> loc-&gt;<a class="code" href="classitem.html#ab00eaab576446da90f829d1ceae66c98">is_seed</a>() &amp;&amp; loc-&gt;<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>() != <a class="code" href="faction__camp_8cpp.html#a398ef54be46ee27b157365a389e9d4e5">itype_marloss_seed</a> &amp;&amp; loc-&gt;<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>() != <a class="code" href="faction__camp_8cpp.html#a1dde15b62a88d05d0f3218beccaedc4e">itype_fungal_seeds</a>;</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;            } );</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;            <a class="code" href="activity__item__handling_8cpp.html#a14dcded7a48aa4f96aeecf1e76f8f947">drop_locations</a> seed_selection = <a class="code" href="classbasecamp.html#a126bce0fe3b580079e2250c9a9cfdc0a">give_basecamp_equipment</a>( seed_filter,</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;                                            <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Which seeds do you wish to have planted?&quot;</span> ), <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Selected seeds&quot;</span> ),</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;                                            <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You have no additional seeds to give your companions&quot;</span> ) );</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;            <span class="keywordflow">if</span>( seed_selection.empty() ) {</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;            }</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;            <span class="keywordtype">size_t</span> seed_cnt = 0;</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;            std::vector&lt;item *&gt; to_plant;</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;            <span class="keywordflow">for</span>( std::pair&lt;item_location, int&gt; &amp;seeds : seed_selection ) {</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;                <span class="keywordtype">size_t</span> num_seeds = seeds.second;</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;                <a class="code" href="classitem__location.html">item_location</a> <a class="code" href="namespaceiuse.html#ae81079151986b7a91874751dae6720a5">seed</a> = seeds.first;</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;                <a class="code" href="namespaceiuse.html#ae81079151986b7a91874751dae6720a5">seed</a>.overflow();</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="namespaceiuse.html#ae81079151986b7a91874751dae6720a5">seed</a>-&gt;count_by_charges() ) {</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;                    <a class="code" href="namespaceiuse.html#ae81079151986b7a91874751dae6720a5">seed</a>-&gt;charges = num_seeds;</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;                }</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;                to_plant.push_back( &amp;*<a class="code" href="namespaceiuse.html#ae81079151986b7a91874751dae6720a5">seed</a> );</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;                seed_cnt += num_seeds;</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;            }</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160; </div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;            <span class="keywordflow">if</span>( !seed_cnt ) {</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;            }</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;            work += 1_minutes * seed_cnt;</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;            <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id, work, <span class="keyword">true</span>,</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;                           <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;begins planting the field&quot;</span> ), <span class="keyword">false</span>, to_plant,</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;                           <a class="code" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, 1, exertion_level );</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;        }</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a2e2f5b37ef2f410d6f61665798ec0a5d">farm_ops::plow</a>:</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;            work += 5_minutes * plots_cnt;</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;            <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id, work, <span class="keyword">true</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;begins plowing the field&quot;</span> ), <span class="keyword">false</span>, {}, exertion_level );</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Farm operations called with no operation&quot;</span> );</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;    }</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a126bce0fe3b580079e2250c9a9cfdc0a"><div class="ttname"><a href="classbasecamp.html#a126bce0fe3b580079e2250c9a9cfdc0a">basecamp::give_basecamp_equipment</a></div><div class="ttdeci">drop_locations give_basecamp_equipment(inventory_filter_preset &amp;preset, const std::string &amp;title, const std::string &amp;column_title, const std::string &amp;msg_empty) const</div><div class="ttdoc">Display items listed in equipment to let the player pick what to give the departing NPC,...</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05178">faction_camp.cpp:5178</a></div></div>
<div class="ttc" id="aclassinventory__filter__preset_html"><div class="ttname"><a href="classinventory__filter__preset.html">inventory_filter_preset</a></div><div class="ttdef"><b>Definition:</b> <a href="game__inventory_8h_source.html#l00026">game_inventory.h:27</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00028">item_location.h:29</a></div></div>
<div class="ttc" id="aclassitem_html_a4a9972e826d25be6736b749ab94b230f"><div class="ttname"><a href="classitem.html#a4a9972e826d25be6736b749ab94b230f">item::typeId</a></div><div class="ttdeci">itype_id typeId() const</div><div class="ttdoc">return the unique identifier of the items underlying type</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l11850">item.cpp:11850</a></div></div>
<div class="ttc" id="aclassitem_html_ab00eaab576446da90f829d1ceae66c98"><div class="ttname"><a href="classitem.html#ab00eaab576446da90f829d1ceae66c98">item::is_seed</a></div><div class="ttdeci">bool is_seed() const</div><div class="ttdoc">Whether this is actually a seed, the seed functions won't be of much use for non-seeds.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14201">item.cpp:14201</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a1dde15b62a88d05d0f3218beccaedc4e"><div class="ttname"><a href="faction__camp_8cpp.html#a1dde15b62a88d05d0f3218beccaedc4e">itype_fungal_seeds</a></div><div class="ttdeci">static const itype_id itype_fungal_seeds(&quot;fungal_seeds&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a398ef54be46ee27b157365a389e9d4e5"><div class="ttname"><a href="faction__camp_8cpp.html#a398ef54be46ee27b157365a389e9d4e5">itype_marloss_seed</a></div><div class="ttdeci">static const itype_id itype_marloss_seed(&quot;marloss_seed&quot;)</div></div>
<div class="ttc" id="anamespaceiuse_html_ae81079151986b7a91874751dae6720a5"><div class="ttname"><a href="namespaceiuse.html#ae81079151986b7a91874751dae6720a5">iuse::seed</a></div><div class="ttdeci">std::optional&lt; int &gt; seed(Character *, item *, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05301">iuse.cpp:5301</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="mission__companion_8h_source.html#l00080">Camp_Harvest</a>, <a class="el" href="mission__companion_8h_source.html#l00079">Camp_Plant</a>, <a class="el" href="mission__companion_8h_source.html#l00078">Camp_Plow</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="faction__camp_8cpp_source.html#l03547">farm_action()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05178">give_basecamp_equipment()</a>, <a class="el" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a430e39cf0eec69892a0fdb6b0dc4aa70">harvest</a>, <a class="el" href="mission__companion_8h_source.html#l00104">mission_id::id</a>, <a class="el" href="item_8cpp_source.html#l14201">item::is_seed()</a>, <a class="el" href="faction__camp_8cpp.html#a1dde15b62a88d05d0f3218beccaedc4e">itype_fungal_seeds</a>, <a class="el" href="faction__camp_8cpp.html#a398ef54be46ee27b157365a389e9d4e5">itype_marloss_seed</a>, <a class="el" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a9ea0a36b3a20901fafe834eb519a595c">plant</a>, <a class="el" href="faction__camp_8h.html#ab6b01bd98db40fc2331dc0bc2ae73d61a2e2f5b37ef2f410d6f61665798ec0a5d">plow</a>, <a class="el" href="iuse_8cpp_source.html#l05301">iuse::seed()</a>, <a class="el" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, <a class="el" href="faction__camp_8cpp_source.html#l01964">start_mission()</a>, and <a class="el" href="item_8cpp_source.html#l11850">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="ae714ffb9daa48be6d0963bb5d3dd2876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae714ffb9daa48be6d0963bb5d3dd2876">&#9670;&nbsp;</a></span>start_fortifications()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::start_fortifications </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>exertion_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when a companion is sent to start fortifications. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l02811">2811</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;{</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    std::vector&lt;std::string&gt; allowed_locations = {</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;        <span class="stringliteral">&quot;forest&quot;</span>, <span class="stringliteral">&quot;forest_thick&quot;</span>, <span class="stringliteral">&quot;forest_water&quot;</span>, <span class="stringliteral">&quot;forest_trail&quot;</span>, <span class="stringliteral">&quot;field&quot;</span></div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    };</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select a start and end point.  Line must be straight.  Fields, forests, and &quot;</span></div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;              <span class="stringliteral">&quot;swamps are valid fortification locations.  In addition to existing fortification &quot;</span></div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;              <span class="stringliteral">&quot;constructions.&quot;</span> ) );</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> start = <a class="code" href="faction__camp_8cpp.html#acb818361c27d8dcdb7bec136a37bc471">om_target_tile</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, 2, 90, allowed_locations, <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">ot_match_type::type</a> );</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select an end point.&quot;</span> ) );</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> stop = <a class="code" href="faction__camp_8cpp.html#acb818361c27d8dcdb7bec136a37bc471">om_target_tile</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, 2, 90, allowed_locations, <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">ot_match_type::type</a>,</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;                                            <span class="keyword">true</span>, <span class="keyword">false</span>, start );</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;    <span class="keywordflow">if</span>( start != <a class="code" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>( -999, -999, -999 ) &amp;&amp;</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;        stop != <a class="code" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>( -999, -999, -999 ) ) {</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;        <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;making = <a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> ).<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;        <span class="keywordtype">bool</span> change_x = start.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() != stop.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>();</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;        <span class="keywordtype">bool</span> change_y = start.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() != stop.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>();</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;        <span class="keywordflow">if</span>( change_x &amp;&amp; change_y ) {</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;            <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Construction line must be straight!&quot;</span> ) );</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;        }</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;        <span class="keywordflow">if</span>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> == <a class="code" href="faction__camp_8cpp.html#aa03fd35c1923b773c7affa5046db3226">faction_wall_level_n_1_string</a> ) {</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;            std::vector&lt;tripoint_abs_omt&gt; tmp_line = <a class="code" href="coordinates_8h.html#a31847b31c6ef002e9d16afd7fd0005e3">line_to</a>( stop, start );</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;            <span class="keywordtype">int</span> line_count = tmp_line.size();</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;            <span class="keywordtype">int</span> yes_count = 0;</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;elem : tmp_line ) {</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;                <span class="keywordflow">if</span>( std::find( <a class="code" href="classbasecamp.html#a6faf0213165ad5b7b2d8f06317833c15">fortifications</a>.begin(), <a class="code" href="classbasecamp.html#a6faf0213165ad5b7b2d8f06317833c15">fortifications</a>.end(), elem ) != <a class="code" href="classbasecamp.html#a6faf0213165ad5b7b2d8f06317833c15">fortifications</a>.end() ) {</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;                    yes_count += 1;</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;                }</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;            }</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;            <span class="keywordflow">if</span>( yes_count &lt; line_count ) {</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;                <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Spiked pits must be built over existing trenches!&quot;</span> ) );</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;            }</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;        }</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;        std::vector&lt;tripoint_abs_omt&gt; fortify_om;</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;        <span class="keywordflow">if</span>( ( change_x &amp;&amp; stop.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() &lt; start.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() ) || ( change_y &amp;&amp; stop.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() &lt; start.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() ) ) {</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;            <span class="comment">//line_to doesn&#39;t include the origin point</span></div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;            fortify_om.push_back( stop );</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;            std::vector&lt;tripoint_abs_omt&gt; tmp_line = <a class="code" href="coordinates_8h.html#a31847b31c6ef002e9d16afd7fd0005e3">line_to</a>( stop, start );</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;            fortify_om.insert( fortify_om.end(), tmp_line.begin(), tmp_line.end() );</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;            fortify_om.push_back( start );</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;            std::vector&lt;tripoint_abs_omt&gt; tmp_line = <a class="code" href="coordinates_8h.html#a31847b31c6ef002e9d16afd7fd0005e3">line_to</a>( start, stop );</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;            fortify_om.insert( fortify_om.end(), tmp_line.begin(), tmp_line.end() );</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;        }</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;        <span class="keywordtype">int</span> trips = 0;</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> build_time = 0_hours;</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> travel_time = 0_hours;</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;        <span class="keywordtype">int</span> dist = 0;</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;fort_om : fortify_om ) {</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;            <span class="keywordtype">bool</span> valid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;            <span class="keyword">const</span> <a class="code" href="classint__id.html">oter_id</a> &amp;omt_ref = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aa9fbf966291f6b82de9c540262324aba">ter</a>( fort_om );</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;pos_om : allowed_locations ) {</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;                <span class="keywordflow">if</span>( omt_ref.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>().<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() == pos_om ) {</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;                    valid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;                }</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;            }</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160; </div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;            <span class="keywordflow">if</span>( !valid ) {</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;                <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Invalid terrain in construction path.&quot;</span> ) );</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;            }</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;            trips += 2;</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;            build_time += making.<a class="code" href="classrecipe.html#ae6f40cf521235b40c169fbe66a677976">batch_duration</a>( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>() );</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;            dist += <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( fort_om.xy(), <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() );</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;            travel_time += <a class="code" href="faction__camp_8cpp.html#a158df75a9cecf13a3320d028110995dd">companion_travel_time_calc</a>( fort_om, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, 0_minutes, 2 );</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;        }</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> total_time = <a class="code" href="namespacebase__camps.html#a8922377c7d85cf4e79f0445b4b6e819c">base_camps::to_workdays</a>( travel_time + build_time );</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="npc_8h.html#a7c691bfc5c3e5258642bbd0e792d9613a2cc6c4b8be0f432ceb1cd114050d6982">need_food</a> = <a class="code" href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">time_to_food</a>( total_time, exertion_level );</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Trip Estimate:\n%s&quot;</span> ), <a class="code" href="faction__camp_8cpp.html#ada2b0dae2dff386ef3fc04af8e39653e">camp_trip_description</a>( total_time, build_time,</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;                       travel_time, dist, trips, <a class="code" href="npc_8h.html#a7c691bfc5c3e5258642bbd0e792d9613a2cc6c4b8be0f432ceb1cd114050d6982">need_food</a> ) ) ) {</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !making.<a class="code" href="classrecipe.html#ab1b55d41175b239729f740aaad63f306">deduped_requirements</a>().<a class="code" href="classdeduped__requirement__data.html#a904e48b7f9ea958a7dfcd06ca614581b">can_make_with_inventory</a>( <a class="code" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a>,</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;                   making.<a class="code" href="classrecipe.html#a45b065c59b172ccab9e0630fd036fe09">get_component_filter</a>(), ( fortify_om.size() * 2 ) - 2 ) ) {</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;            <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You don&#39;t have the material to build the fortification.&quot;</span> ) );</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;        }</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160; </div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> batch_size = fortify_om.size() * 2 - 2;</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;        <a class="code" href="structmapgen__arguments.html">mapgen_arguments</a> arg;  <span class="comment">//  Created with a default value.</span></div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;        <a class="code" href="classbasecamp__action__components.html">basecamp_action_components</a> components( making, arg, batch_size, *<span class="keyword">this</span> );</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;        <span class="keywordflow">if</span>( !components.choose_components() ) {</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;        }</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160; </div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;        <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>(</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;                           miss_id, total_time, <span class="keyword">true</span>,</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;                           <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;begins constructing fortifications&quot;</span> ), <span class="keyword">false</span>, {},</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;                           exertion_level, making.<a class="code" href="classrecipe.html#a0f8a4801e8ff8e2c0310b04ef0c4a245">required_skills</a> );</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;        <span class="keywordflow">if</span>( comp != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;            components.consume_components();</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;pt : fortify_om ) {</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;                comp-&gt;companion_mission_points.push_back( pt );</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;            }</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160; </div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;            <a class="code" href="faction__camp_8cpp.html#a3f6bc49f99ca83d980cfd85b2708eb63">apply_fortifications</a>( miss_id, &amp;comp, <span class="keyword">true</span> );</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;        }</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    }</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;}</div>
<div class="ttc" id="acoordinates_8h_html_a31847b31c6ef002e9d16afd7fd0005e3"><div class="ttname"><a href="coordinates_8h.html#a31847b31c6ef002e9d16afd7fd0005e3">line_to</a></div><div class="ttdeci">std::vector&lt; coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &amp;&amp;RhsInBounds &gt; &gt; line_to(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00798">coordinates.h:798</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="basecamp_8h_source.html#l00505">_inv</a>, <a class="el" href="faction__camp_8cpp_source.html#l02755">apply_fortifications()</a>, <a class="el" href="recipe_8cpp_source.html#l00071">recipe::batch_duration()</a>, <a class="el" href="string__id_8h_source.html#l00252">string_id&lt; T &gt;::c_str()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05339">camp_trip_description()</a>, <a class="el" href="requirements_8cpp_source.html#l01671">deduped_requirement_data::can_make_with_inventory()</a>, <a class="el" href="basecamp_8cpp_source.html#l00877">basecamp_action_components::choose_components()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05087">companion_travel_time_calc()</a>, <a class="el" href="basecamp_8cpp_source.html#l00924">basecamp_action_components::consume_components()</a>, <a class="el" href="recipe_8h_source.html#l00151">recipe::deduped_requirements()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00193">faction_wall_level_n_1_string</a>, <a class="el" href="basecamp_8h_source.html#l00197">fortifications</a>, <a class="el" href="recipe_8cpp_source.html#l01256">recipe::get_component_filter()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00033">int_id&lt; T &gt;::id()</a>, <a class="el" href="coordinates_8h_source.html#l00798">line_to()</a>, <a class="el" href="npc_8h_source.html#l00202">need_food</a>, <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04909">om_target_tile()</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>, <a class="el" href="mission__companion_8h_source.html#l00105">mission_id::parameters</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="recipe_8h_source.html#l00189">recipe::required_skills</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01964">start_mission()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00780">overmapbuffer::ter()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05644">time_to_food()</a>, <a class="el" href="basecamp_8cpp_source.html#l00092">base_camps::to_workdays()</a>, <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, <a class="el" href="coordinates_8h_source.html#l00161">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::x()</a>, <a class="el" href="coordinates_8h_source.html#l00273">coords::coord_point&lt; Point, Origin, Scale, InBounds &gt;::xy()</a>, and <a class="el" href="coordinates_8h_source.html#l00164">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a418cfaa9121a706b452cb4b0a922fe1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a418cfaa9121a706b452cb4b0a922fe1a">&#9670;&nbsp;</a></span>start_menial_labor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::start_menial_labor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l02468">2468</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;{</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;food_supply.kcal() &lt; <a class="code" href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">time_to_food</a>( 3_hours ) ) {</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You don&#39;t have enough food stored to feed your companion.&quot;</span> ) );</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    }</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    <a class="code" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;npc&gt;</a> comp = <a class="code" href="namespacetalk__function.html#a0e75c53ff2fba9c066820d0bbcfd2667">talk_function::companion_choose</a>();</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;    <span class="keywordflow">if</span>( comp == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;    }</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    <a class="code" href="classbasecamp.html#af444c9325e40cf302418a1566abdb4e2">validate_sort_points</a>();</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160; </div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    comp-&gt;assign_activity( <a class="code" href="faction__camp_8cpp.html#a0313dde9b91b312463fd84bf985b42a6">ACT_MOVE_LOOT</a> );</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s goes off to clean toilets and sort loot.&quot;</span> ), comp-&gt;disp_name() );</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;}</div>
<div class="ttc" id="afaction__camp_8cpp_html_a0313dde9b91b312463fd84bf985b42a6"><div class="ttname"><a href="faction__camp_8cpp.html#a0313dde9b91b312463fd84bf985b42a6">ACT_MOVE_LOOT</a></div><div class="ttdeci">static const activity_id ACT_MOVE_LOOT(&quot;ACT_MOVE_LOOT&quot;)</div></div>
<div class="ttc" id="anamespacetalk__function_html_a0e75c53ff2fba9c066820d0bbcfd2667"><div class="ttname"><a href="namespacetalk__function.html#a0e75c53ff2fba9c066820d0bbcfd2667">talk_function::companion_choose</a></div><div class="ttdeci">npc_ptr companion_choose(const std::map&lt; skill_id, int &gt; &amp;required_skills={}, bool silent_failure=false)</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8cpp_source.html#l02614">mission_companion.cpp:2614</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="faction__camp_8cpp.html#a0313dde9b91b312463fd84bf985b42a6">ACT_MOVE_LOOT</a>, <a class="el" href="mission__companion_8cpp_source.html#l02614">talk_function::companion_choose()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00664">fac()</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05644">time_to_food()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l05288">validate_sort_points()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a84ee01594d047048258c9bf59880e1fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84ee01594d047048258c9bf59880e1fc">&#9670;&nbsp;</a></span>start_mission() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> basecamp::start_mission </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>must_feed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>equipment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;&#160;</td>
          <td class="paramname"><em>skill_tested</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>skill_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>exertion_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>generic mission start function that wraps individual mission </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l01964">1964</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;{</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    std::map&lt;skill_id, int&gt; required_skills;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    required_skills[ skill_tested ] = skill_level;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id, duration, must_feed, desc, <span class="keyword">false</span>, equipment, exertion_level,</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;                          required_skills );</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02602">start_clearcut()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03461">start_combat_mission()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03490">start_crafting()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02563">start_cut_logs()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03679">start_farm_op()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02811">start_fortifications()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02686">start_relay_hide_site()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l02637">start_setup_hide_site()</a>.</p>

</div>
</div>
<a id="a9efffbcfbcc19edd879fe21a0128dae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9efffbcfbcc19edd879fe21a0128dae1">&#9670;&nbsp;</a></span>start_mission() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> basecamp::start_mission </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>must_feed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>equipment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>exertion_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>required_skills</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l01975">1975</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;{</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <span class="keywordflow">if</span>( must_feed &amp;&amp; <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;food_supply.kcal() &lt; <a class="code" href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">time_to_food</a>( duration, exertion_level ) ) {</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You don&#39;t have enough food stored to feed your companion.&quot;</span> ) );</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    }</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="namespacetalk__function.html#a10ae58628d7b0b83444b7fe819937349">talk_function::individual_mission</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, <a class="code" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">base_camps::id</a>, desc, miss_id,</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;                   <span class="keyword">false</span>, equipment, required_skills );</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="keywordflow">if</span>( comp != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;        comp-&gt;companion_mission_time_ret = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + duration;</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;        <span class="keywordflow">if</span>( must_feed ) {</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;            <a class="code" href="classbasecamp.html#a6e9c0b6c28a8826d7822ad8f9ab3ae1a">feed_workers</a>( *comp.get()-&gt;as_character(), <a class="code" href="classbasecamp.html#a399448deb1704654be0979c9a763db03">camp_food_supply</a>( duration, exertion_level ) );</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;        }</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;        <span class="keywordflow">if</span>( !equipment.empty() ) {</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;            <a class="code" href="classmap.html">map</a> &amp;target_map = <a class="code" href="classbasecamp.html#aada281e7799622225de08dd341bdd2f6">get_camp_map</a>();</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;            std::vector&lt;tripoint&gt; src_set_pt;</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;            src_set_pt.resize( <a class="code" href="classbasecamp.html#af79f4de8f8963115c179d1d0174b6115">src_set</a>.size() );</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> &amp;p : <a class="code" href="classbasecamp.html#af79f4de8f8963115c179d1d0174b6115">src_set</a> ) {</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;                src_set_pt.emplace_back( target_map.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( p ) );</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;            }</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> *i : equipment ) {</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;                <span class="keywordtype">int</span> count = i-&gt;count();</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;                <span class="keywordflow">if</span>( i-&gt;count_by_charges() ) {</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;                    target_map.<a class="code" href="classmap.html#abb94e8c2cfd4cdd632a6f99c2d67a894">use_charges</a>( src_set_pt, i-&gt;typeId(), count );</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;                    target_map.<a class="code" href="classmap.html#a89a10bef5dd4202245a337ed74a508b7">use_amount</a>( src_set_pt, i-&gt;typeId(), count );</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;                }</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;            }</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;            target_map.<a class="code" href="classmap.html#a6bc669c8915ae41469ef8f0b5e925c3e">save</a>();</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        }</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    }</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    <span class="keywordflow">return</span> comp;</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_a89a10bef5dd4202245a337ed74a508b7"><div class="ttname"><a href="classmap.html#a89a10bef5dd4202245a337ed74a508b7">map::use_amount</a></div><div class="ttdeci">std::list&lt; item &gt; use_amount(const tripoint &amp;origin, int range, const itype_id &amp;type, int &amp;quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;, bool select_ind=false)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06014">map.cpp:6014</a></div></div>
<div class="ttc" id="aclassmap_html_abb94e8c2cfd4cdd632a6f99c2d67a894"><div class="ttname"><a href="classmap.html#abb94e8c2cfd4cdd632a6f99c2d67a894">map::use_charges</a></div><div class="ttdeci">std::list&lt; item &gt; use_charges(const tripoint &amp;origin, int range, const itype_id &amp;type, int &amp;quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;, basecamp *bcp=nullptr, bool in_tools=false)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06140">map.cpp:6140</a></div></div>
<div class="ttc" id="anamespacetalk__function_html_a10ae58628d7b0b83444b7fe819937349"><div class="ttname"><a href="namespacetalk__function.html#a10ae58628d7b0b83444b7fe819937349">talk_function::individual_mission</a></div><div class="ttdeci">npc_ptr individual_mission(npc &amp;p, const std::string &amp;desc, const mission_id &amp;miss_id, bool group=false, const std::vector&lt; item * &gt; &amp;equipment={}, const std::map&lt; skill_id, int &gt; &amp;required_skills={}, bool silent_failure=false)</div><div class="ttdoc">Send a companion on an individual mission or attaches them to a group to depart later Set submap_coor...</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8cpp_source.html#l01298">mission_companion.cpp:1298</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="faction__camp_8cpp_source.html#l05522">camp_food_supply()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00664">fac()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05569">feed_workers()</a>, <a class="el" href="basecamp_8cpp_source.html#l00790">get_camp_map()</a>, <a class="el" href="map_8cpp_source.html#l09635">map::getlocal()</a>, <a class="el" href="basecamp_8h_source.html#l00105">base_camps::id</a>, <a class="el" href="mission__companion_8cpp_source.html#l01298">talk_function::individual_mission()</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="map_8cpp_source.html#l07879">map::save()</a>, <a class="el" href="basecamp_8h_source.html#l00500">src_set</a>, <a class="el" href="faction__camp_8cpp_source.html#l05644">time_to_food()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="map_8cpp_source.html#l06014">map::use_amount()</a>, and <a class="el" href="map_8cpp_source.html#l06140">map::use_charges()</a>.</p>

</div>
</div>
<a id="adc36f57775b55c418c99e9085666c8bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc36f57775b55c418c99e9085666c8bd">&#9670;&nbsp;</a></span>start_multi_mission() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> basecamp::start_multi_mission </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>must_feed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;&#160;</td>
          <td class="paramname"><em>skill_tested</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>skill_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l02012">2012</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;{</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    std::map&lt;skill_id, int&gt; required_skills;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    required_skills[skill_tested] = skill_level;</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#adc36f57775b55c418c99e9085666c8bd">start_multi_mission</a>( miss_id, must_feed, desc, required_skills );</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l03114">common_salt_water_pipe_construction()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l02084">start_upgrade()</a>.</p>

</div>
</div>
<a id="a27d912ac5fbcb1a711c24cedefdb7fc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27d912ac5fbcb1a711c24cedefdb7fc8">&#9670;&nbsp;</a></span>start_multi_mission() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> basecamp::start_multi_mission </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>must_feed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>required_skills</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l02022">2022</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;{</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;making = *<a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> );</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    <span class="keyword">auto</span> req_it = making.<a class="code" href="classrecipe.html#a6bf6a221531a705e16bd859596050d4a">blueprint_build_reqs</a>().<a class="code" href="structparameterized__build__reqs.html#ab9c7e2f44e3a3c6bbbfe79369e7b2d11">reqs_by_parameters</a>.find( miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a> );</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( req_it != making.<a class="code" href="classrecipe.html#a6bf6a221531a705e16bd859596050d4a">blueprint_build_reqs</a>().<a class="code" href="structparameterized__build__reqs.html#ab9c7e2f44e3a3c6bbbfe79369e7b2d11">reqs_by_parameters</a>.end() );</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <span class="keyword">const</span> <a class="code" href="structbuild__reqs.html">build_reqs</a> &amp;bld_reqs = req_it-&gt;second;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <a class="code" href="classtime__duration.html">time_duration</a> base_time = <a class="code" href="classtime__duration.html#aacd074821aecb38a24d9ce6ca42a9127">time_duration::from_moves</a>( bld_reqs.<a class="code" href="structbuild__reqs.html#ad90bc6a5658073c2f2fe0e02fa4ff7fd">time</a> );</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160; </div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> result;</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160; </div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    <a class="code" href="classtime__duration.html">time_duration</a> work_days;</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160; </div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) { <span class="comment">//  We&#39;ll break out of the loop when all the workers have been assigned</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;        work_days = <a class="code" href="namespacebase__camps.html#a8922377c7d85cf4e79f0445b4b6e819c">base_camps::to_workdays</a>( base_time / ( result.size() + 1 ) );</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160; </div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;        <span class="keywordflow">if</span>( must_feed &amp;&amp;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;            <a class="code" href="classbasecamp.html#af8c707d2d6f0a93ba6c05c863c19b2c0">fac</a>()-&gt;food_supply.kcal() &lt; <a class="code" href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">time_to_food</a>( work_days * ( result.size() + 1 ),</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;                    making.<a class="code" href="classrecipe.html#a8b1340359e15a704dc0942bfe5f9a5fa">exertion_level</a>() ) ) {</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;            <span class="keywordflow">if</span>( result.empty() ) {</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;                <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You don&#39;t have enough food stored to feed your companion for this task.&quot;</span> ) );</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;                <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;                <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You don&#39;t have enough food stored to feed a larger work crew.&quot;</span> ) );</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;            }</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;        }</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160; </div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;        <span class="comment">//  We should allocate the full set of tools to each companion sent off on a mission,</span></div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;        <span class="comment">//  but currently recipes only provides a function to check for the full set of requirement,</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        <span class="comment">//  with no access to the tool subset, so no tools are actually assigned.</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;        <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="namespacetalk__function.html#a10ae58628d7b0b83444b7fe819937349">talk_function::individual_mission</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, <a class="code" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">base_camps::id</a>, desc, miss_id,</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;                       <span class="keyword">false</span>, {}, required_skills, !result.empty() );</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160; </div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;        <span class="keywordflow">if</span>( comp == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;            result.push_back( comp );</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;        }</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    }</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160; </div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <span class="keywordflow">if</span>( result.empty() ) {</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;        work_days = <a class="code" href="namespacebase__camps.html#a8922377c7d85cf4e79f0445b4b6e819c">base_camps::to_workdays</a>( base_time / result.size() );</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160; </div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> &amp;comp : result ) {</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;            comp-&gt;companion_mission_time_ret = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + work_days;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;        }</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;        <span class="keywordflow">if</span>( must_feed ) {</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;            std::vector&lt;std::reference_wrapper &lt;Character&gt;&gt; work_party;</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> &amp;comp : result ) {</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;                work_party.emplace_back( *comp.get()-&gt;as_character() );</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;            }</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;            <a class="code" href="classbasecamp.html#a6e9c0b6c28a8826d7822ad8f9ab3ae1a">feed_workers</a>( work_party, <a class="code" href="classbasecamp.html#a399448deb1704654be0979c9a763db03">camp_food_supply</a>( work_days * result.size(), making.<a class="code" href="classrecipe.html#a8b1340359e15a704dc0942bfe5f9a5fa">exertion_level</a>() ) );</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;        }</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;        <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    }</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="character_8h_source.html#l00532">Character::as_character()</a>, <a class="el" href="recipe_8cpp_source.html#l01404">recipe::blueprint_build_reqs()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05522">camp_food_supply()</a>, <a class="el" href="cata__assert_8h_source.html#l00036">cata_assert</a>, <a class="el" href="npc_8h_source.html#l01398">npc::companion_mission_time_ret</a>, <a class="el" href="recipe_8cpp_source.html#l01140">recipe::exertion_level()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00664">fac()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05569">feed_workers()</a>, <a class="el" href="calendar_8h_source.html#l00225">time_duration::from_moves()</a>, <a class="el" href="basecamp_8h_source.html#l00105">base_camps::id</a>, <a class="el" href="mission__companion_8cpp_source.html#l01298">talk_function::individual_mission()</a>, <a class="el" href="mission__companion_8h_source.html#l00106">mission_id::mapgen_args</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="mission__companion_8h_source.html#l00105">mission_id::parameters</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="build__reqs_8h_source.html#l00038">parameterized_build_reqs::reqs_by_parameters</a>, <a class="el" href="build__reqs_8h_source.html#l00017">build_reqs::time</a>, <a class="el" href="faction__camp_8cpp_source.html#l05644">time_to_food()</a>, <a class="el" href="basecamp_8cpp_source.html#l00092">base_camps::to_workdays()</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

</div>
</div>
<a id="af21d9bca61606198a0514f304f6ac9d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af21d9bca61606198a0514f304f6ac9d9">&#9670;&nbsp;</a></span>start_relay_hide_site()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::start_relay_hide_site </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>exertion_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l02686">2686</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;{</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    std::vector&lt;std::string&gt; hide_locations = { <a class="code" href="faction__camp_8cpp.html#a187ee053a41ba1d7601dbb54e5e78562">faction_hide_site_0_string</a> };</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You must select an existing hide site.&quot;</span> ) );</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a> = <a class="code" href="faction__camp_8cpp.html#acb818361c27d8dcdb7bec136a37bc471">om_target_tile</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, 10, 90, hide_locations, <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a3b7efa09444a31c5d58596e5bbf87d47">ot_match_type::exact</a>,</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;                              <span class="keyword">true</span>, <span class="keyword">true</span>, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a> != <a class="code" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>( -999, -999, -999 ) ) {</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;        <span class="keywordtype">int</span> dist = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>.xy(), <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() );</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;        <a class="code" href="classCharacter.html">Character</a> *pc = &amp;<a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;        <span class="keyword">const</span> <a class="code" href="classinventory__filter__preset.html">inventory_filter_preset</a> preset( []( <span class="keyword">const</span> <a class="code" href="classitem__location.html">item_location</a> &amp; <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a> ) {</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;            <span class="keywordflow">return</span> !<a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>-&gt;can_revive() &amp;&amp; !<a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>-&gt;will_spill();</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;        } );</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160; </div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;        <a class="code" href="classunits_1_1quantity.html">units::volume</a> total_export_volume;</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;        <a class="code" href="classunits_1_1quantity.html">units::mass</a> total_export_mass;</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160; </div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;        <a class="code" href="activity__item__handling_8cpp.html#a14dcded7a48aa4f96aeecf1e76f8f947">drop_locations</a> losing_equipment = <a class="code" href="classbasecamp.html#a0c73abeb013c066e91b9a85244dfbf94">give_equipment</a>( pc, preset,</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;                                          <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;These are the items you&#39;ve selected so far.&quot;</span> ), <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select items to send&quot;</span> ),</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;                                          total_export_volume, total_export_mass );</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160; </div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;        <span class="comment">//Check items in improvised shelters at hide site</span></div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;        <a class="code" href="classtinymap.html">tinymap</a> target_bay;</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;        target_bay.<a class="code" href="classtinymap.html#a7f913ba5d8facdb8c3d6b759593095fc">load</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160; </div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;        <a class="code" href="classunits_1_1quantity.html">units::volume</a> total_import_volume;</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;        <a class="code" href="classunits_1_1quantity.html">units::mass</a> total_import_mass;</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160; </div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;        <a class="code" href="activity__item__handling_8cpp.html#a14dcded7a48aa4f96aeecf1e76f8f947">drop_locations</a> gaining_equipment = <a class="code" href="classbasecamp.html#a3e2da69c0fb7cc1be2824220de4d733a">get_equipment</a>( &amp;target_bay, <a class="code" href="faction__camp_8cpp.html#ae23e04c5e48d88fd78dbbbe8c220d07b">relay_site_stash</a>, pc, preset,</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;                                           <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;These are the items you&#39;ve selected so far.&quot;</span> ), <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select items to bring back&quot;</span> ),</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;                                           total_import_volume, total_import_mass );</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160; </div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;        <span class="keywordflow">if</span>( !losing_equipment.empty() || !gaining_equipment.empty() ) {</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;            <span class="comment">//Only get charged the greater trips since return is free for both</span></div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;            <span class="keywordtype">int</span> trips = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( <a class="code" href="faction__camp_8cpp.html#aee39546dd426e1f354a5d16b03128edd">om_carry_weight_to_trips</a>( total_import_mass, total_import_volume, <span class="keyword">nullptr</span> ),</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;                                  <a class="code" href="faction__camp_8cpp.html#aee39546dd426e1f354a5d16b03128edd">om_carry_weight_to_trips</a>( total_export_mass, total_export_volume, <span class="keyword">nullptr</span> ) );</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;            <span class="keywordtype">int</span> haulage = trips &lt;= 2 ? 0 : <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( gaining_equipment.size(),</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;                          losing_equipment.size() );</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;            <a class="code" href="classtime__duration.html">time_duration</a> build_time =</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;                5_minutes;  <span class="comment">//  We&#39;re not actually constructing anything, just loading/unloading/performing very light maintenance</span></div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;            <a class="code" href="classtime__duration.html">time_duration</a> travel_time = <a class="code" href="faction__camp_8cpp.html#a158df75a9cecf13a3320d028110995dd">companion_travel_time_calc</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, 0_minutes,</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;                                        trips, haulage );</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;            <a class="code" href="classtime__duration.html">time_duration</a> work_time = travel_time + build_time;</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Trip Estimate:\n%s&quot;</span> ), <a class="code" href="faction__camp_8cpp.html#ada2b0dae2dff386ef3fc04af8e39653e">camp_trip_description</a>( work_time, build_time,</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;                           travel_time, dist, trips, <a class="code" href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">time_to_food</a>( work_time, exertion_level ) ) ) ) {</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;            }</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160; </div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;            <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id,</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;                                          work_time, <span class="keyword">true</span>,</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;                                          <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;departs for the hide site&quot;</span> ), <span class="keyword">false</span>, {},</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;                                          <a class="code" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, 3, exertion_level );</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;            <span class="keywordflow">if</span>( comp != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;                <span class="comment">// recalculate trips based on actual load</span></div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;                trips = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( <a class="code" href="faction__camp_8cpp.html#aee39546dd426e1f354a5d16b03128edd">om_carry_weight_to_trips</a>( total_import_mass, total_import_volume, comp ),</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;                                  <a class="code" href="faction__camp_8cpp.html#aee39546dd426e1f354a5d16b03128edd">om_carry_weight_to_trips</a>( total_export_mass, total_export_volume, comp ) );</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;                <span class="keywordtype">int</span> haulage = trips &lt;= 2 ? 0 : <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( gaining_equipment.size(),</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;                              losing_equipment.size() );</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;                work_time = <a class="code" href="faction__camp_8cpp.html#a158df75a9cecf13a3320d028110995dd">companion_travel_time_calc</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, 0_minutes, trips,</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;                                                        haulage ) + build_time;</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;                comp-&gt;companion_mission_time_ret = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + work_time;</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;                <a class="code" href="faction__camp_8cpp.html#a476f4ba6502a417ea18c5ebcd639711d">om_set_hide_site</a>( *comp, <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, losing_equipment, gaining_equipment );</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;            }</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;            <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You need equipment to transport between the hide site&quot;</span> ) );</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;        }</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;    }</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a6fe65b9e39049b6d361709241a23d1b6"><div class="ttname"><a href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a></div><div class="ttdeci">static lat_long location</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00034">calendar.cpp:34</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a0c73abeb013c066e91b9a85244dfbf94"><div class="ttname"><a href="classbasecamp.html#a0c73abeb013c066e91b9a85244dfbf94">basecamp::give_equipment</a></div><div class="ttdeci">drop_locations give_equipment(Character *pc, const inventory_filter_preset &amp;preset, const std::string &amp;msg, const std::string &amp;title, units::volume &amp;total_volume, units::mass &amp;total_mass)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05194">faction_camp.cpp:5194</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a3e2da69c0fb7cc1be2824220de4d733a"><div class="ttname"><a href="classbasecamp.html#a3e2da69c0fb7cc1be2824220de4d733a">basecamp::get_equipment</a></div><div class="ttdeci">drop_locations get_equipment(tinymap *target_bay, const tripoint &amp;target, Character *pc, const inventory_filter_preset &amp;preset, const std::string &amp;msg, const std::string &amp;title, units::volume &amp;total_volume, units::mass &amp;total_mass)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05241">faction_camp.cpp:5241</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00028">units.h:29</a></div></div>
<div class="ttc" id="aenums_8h_html_a02646717f97faa05c11dbda0aac2c716a3b7efa09444a31c5d58596e5bbf87d47"><div class="ttname"><a href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a3b7efa09444a31c5d58596e5bbf87d47">ot_match_type::exact</a></div><div class="ttdeci">@ exact</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a187ee053a41ba1d7601dbb54e5e78562"><div class="ttname"><a href="faction__camp_8cpp.html#a187ee053a41ba1d7601dbb54e5e78562">faction_hide_site_0_string</a></div><div class="ttdeci">static const std::string faction_hide_site_0_string</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00194">faction_camp.cpp:194</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a476f4ba6502a417ea18c5ebcd639711d"><div class="ttname"><a href="faction__camp_8cpp.html#a476f4ba6502a417ea18c5ebcd639711d">om_set_hide_site</a></div><div class="ttdeci">static bool om_set_hide_site(npc &amp;comp, const tripoint_abs_omt &amp;omt_tgt, const drop_locations &amp;itms, const drop_locations &amp;itms_rem={})</div><div class="ttdoc">Creates an improvised shelter at omt_tgt and dumps the itms into the building.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05037">faction_camp.cpp:5037</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_ae23e04c5e48d88fd78dbbbe8c220d07b"><div class="ttname"><a href="faction__camp_8cpp.html#ae23e04c5e48d88fd78dbbbe8c220d07b">relay_site_stash</a></div><div class="ttdeci">static const tripoint relay_site_stash</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02684">faction_camp.cpp:2684</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_aee39546dd426e1f354a5d16b03128edd"><div class="ttname"><a href="faction__camp_8cpp.html#aee39546dd426e1f354a5d16b03128edd">om_carry_weight_to_trips</a></div><div class="ttdeci">static int om_carry_weight_to_trips(const units::mass &amp;total_mass, const units::volume &amp;total_volume, const npc_ptr &amp;comp=nullptr)</div><div class="ttdoc">Determines how many trips it takes to move mass and volume of items with carry_mass and carry_volume ...</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05129">faction_camp.cpp:5129</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="faction__camp_8cpp_source.html#l05339">camp_trip_description()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05087">companion_travel_time_calc()</a>, <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a3b7efa09444a31c5d58596e5bbf87d47">exact</a>, <a class="el" href="faction__camp_8cpp_source.html#l00194">faction_hide_site_0_string</a>, <a class="el" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, <a class="el" href="faction__camp_8cpp_source.html#l05241">get_equipment()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05194">give_equipment()</a>, <a class="el" href="map_8h_source.html#l02447">tinymap::load()</a>, <a class="el" href="calendar_8cpp_source.html#l00034">location</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05129">om_carry_weight_to_trips()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05037">om_set_hide_site()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04909">om_target_tile()</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02684">relay_site_stash</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, <a class="el" href="faction__camp_8cpp_source.html#l01964">start_mission()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05644">time_to_food()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, and <a class="el" href="coordinates_8h_source.html#l00273">coords::coord_point&lt; Point, Origin, Scale, InBounds &gt;::xy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a017be7d3cd26ee47553246cf42cb5770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a017be7d3cd26ee47553246cf42cb5770">&#9670;&nbsp;</a></span>start_salt_water_pipe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::start_salt_water_pipe </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l03239">3239</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;{</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> dir = miss_id.<a class="code" href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">dir</a>.value();  <span class="comment">//  Will always have a value</span></div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;    <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;making = <a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> ).<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;    <a class="code" href="structpoint.html">point</a> connection_dir = <a class="code" href="faction__camp_8cpp.html#a99cd11e7c20498cc4a1a0f39ddb0512e">connection_direction_of</a>( dir, making );</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160; </div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;    <span class="keywordflow">if</span>( connection_dir.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> == -999 &amp;&amp; connection_dir.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> == -999 ) {</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;    }</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160; </div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;    <a class="code" href="structexpansion__salt__water__pipe.html">expansion_salt_water_pipe</a> *pipe = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;    <span class="keywordtype">bool</span> pipe_is_new = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160; </div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structexpansion__salt__water__pipe.html">expansion_salt_water_pipe</a> *element : <a class="code" href="classbasecamp.html#a9465f218c84c5322a1709b420ce8c225">salt_water_pipes</a> ) {</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;        <span class="keywordflow">if</span>( element-&gt;expansion == dir ) {</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;            <span class="keywordflow">if</span>( element-&gt;segments[0].finished ) {</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Trying to start construction of a salt water pipe that&#39;s already been constructed&quot;</span> );</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;            }</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;            <span class="comment">//  Assume we&#39;ve started the construction but it has been cancelled.</span></div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;            pipe = element;</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;            pipe_is_new = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;        }</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;    }</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160; </div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;    <span class="keywordflow">if</span>( pipe_is_new ) {</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;        pipe = <span class="keyword">new</span> <a class="code" href="structexpansion__salt__water__pipe.html">expansion_salt_water_pipe</a>;</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;        pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#ae3aadf6fdd0ea4e5e05f456464fb293c">expansion</a> = dir;</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;        pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#ae7b59b91e8530f7e154b7116d0af0be4">connection_direction</a> = connection_dir;</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160; </div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;        std::string allowed_start_location =</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;            <span class="stringliteral">&quot;forest_water&quot;</span>;  <span class="comment">//  That&#39;s what a swamp is called, for some reason.</span></div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;        std::vector&lt;std::string&gt; allowed_locations = {</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;            <span class="stringliteral">&quot;forest&quot;</span>, <span class="stringliteral">&quot;forest_thick&quot;</span>, <span class="stringliteral">&quot;forest_trail&quot;</span>, <span class="stringliteral">&quot;field&quot;</span>, <span class="stringliteral">&quot;road&quot;</span></div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;        };</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;        <a class="code" href="classcata_1_1mdarray.html">PathMap</a> path_map;</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160; </div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = -<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a>; i &lt;= <a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a>; i++ ) {</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> k = -<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a>; k &lt;= <a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a>; k++ ) {</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;                <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> tile = <a class="code" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() + dir.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> + connection_dir.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> + i,</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;                                        <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() + dir.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> + connection_dir.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> + k, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() );</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;                <span class="keyword">const</span> <a class="code" href="classint__id.html">oter_id</a> &amp;omt_ref = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aa9fbf966291f6b82de9c540262324aba">ter</a>( tile );</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;                <span class="keywordtype">bool</span> match = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;pos_om : allowed_locations ) {</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;                    <span class="keywordflow">if</span>( omt_ref-&gt;<a class="code" href="structoter__t.html#ab1638475c8650985ec100f0bc7fcafe7">get_type_id</a>() == <a class="code" href="classstring__id.html">oter_type_str_id</a>( pos_om ) ) {</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;                        match = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;                    }</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;                }</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;                <span class="keywordflow">if</span>( match ) {</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;                    path_map[<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + i][<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + k] = <a class="code" href="faction__camp_8cpp.html#a9e637d1592971a93a828443c03e7961a">salt_pipe_legal</a>;</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( omt_ref-&gt;<a class="code" href="structoter__t.html#ab1638475c8650985ec100f0bc7fcafe7">get_type_id</a>() == <a class="code" href="classstring__id.html">oter_type_str_id</a>( allowed_start_location ) ) {</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;                    path_map[<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + i][<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + k] = <a class="code" href="faction__camp_8cpp.html#a7fc587562ef5c5d250865ba39d77446d">salt_pipe_swamp</a>;</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;                    path_map[<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + i][<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + k] = <a class="code" href="faction__camp_8cpp.html#afe3a2bdbc0a1d7b2538ae0a2e42bbecf">salt_pipe_illegal</a>;</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;                }</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;                <span class="comment">//  if this is an expansion tile, forbid it. Only allocated ones have their type changed.</span></div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;                <span class="keywordflow">if</span>( i &gt;= -dir.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> - connection_dir.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> - 1 &amp;&amp; i &lt;= -dir.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> - connection_dir.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> + 1 &amp;&amp;</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;                    k &gt;= -dir.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> - connection_dir.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> - 1 &amp;&amp; k &lt;= -dir.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> - connection_dir.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> + 1 ) {</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;                    path_map[<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + i][<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + k] = <a class="code" href="faction__camp_8cpp.html#afe3a2bdbc0a1d7b2538ae0a2e42bbecf">salt_pipe_illegal</a>;</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;                }</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;            }</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;        }</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160; </div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;        <span class="keywordflow">if</span>( path_map[<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a>][<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a>] == <a class="code" href="faction__camp_8cpp.html#afe3a2bdbc0a1d7b2538ae0a2e42bbecf">salt_pipe_illegal</a> ) {</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;            <span class="keyword">auto</span> e = <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( dir );</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;            <a class="code" href="classbasecamp.html#adb18f0e442ddb5df1ad80622382833df">basecamp::update_provides</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a>, e-&gt;second );</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160; </div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;            <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;This functionality cannot be constructed as the tile directly adjacent to &quot;</span></div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;                      <span class="stringliteral">&quot;this expansion is not of a type a pipe can be constructed through.  Supported &quot;</span></div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;                      <span class="stringliteral">&quot;terrain is forest, field, road, and swamp.  This recipe will now be &quot;</span></div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;                      <span class="stringliteral">&quot;removed from the set of available recipes and won&#39;t show up again.&quot;</span> ) );</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;        }</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160; </div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;        <a class="code" href="structpoint.html">point</a> destination;</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;        <span class="keywordtype">double</span> destination_cost = -10000.0;</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;        <span class="keywordtype">bool</span> path_found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160; </div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;        <span class="keywordflow">if</span>( path_map[<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a>][<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a>] ==</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;            <a class="code" href="faction__camp_8cpp.html#a7fc587562ef5c5d250865ba39d77446d">salt_pipe_swamp</a> ) { <span class="comment">//  The connection_dir tile is a swamp tile</span></div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;            destination = <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>;</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;            path_found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;            path_map[<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a>][<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a>] =</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;                1.0;  <span class="comment">//  Always an orthogonal connection to the connection tile.</span></div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160; </div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> distance = 1; distance &lt;= <a class="code" href="faction__camp_8cpp.html#a2d175c9fd32a8983eeb2009429716613">max_salt_water_pipe_length</a>; distance++ ) {</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;                <span class="keywordtype">int</span> dist = distance &gt; <a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> ? <a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> : distance;</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = -dist; i &lt;= dist; i++ ) { <span class="comment">//  No path that can be extended can reach further than dist.</span></div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;                    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> k = -dist; k &lt;= dist; k++ ) {</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;                        <span class="keywordflow">if</span>( path_map[<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + i][<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + k] &gt;</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;                            0.0 ) { <span class="comment">// Tile has been assigned a distance and isn&#39;t a swamp</span></div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;                            <a class="code" href="structpoint.html">point</a> <a class="code" href="display_8h.html#ad55df0d7f625a78f1afc728ee1a6d6a4a3d801aa532c1cec3ee82d87a99fdf63f">temp</a> = <a class="code" href="faction__camp_8cpp.html#ab002a7e8558c2eea16e0a66c62cbc0ff">check_salt_pipe_neighbors</a>( path_map, { i, k } );</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;                            <span class="keywordflow">if</span>( <a class="code" href="display_8h.html#ad55df0d7f625a78f1afc728ee1a6d6a4a3d801aa532c1cec3ee82d87a99fdf63f">temp</a> != <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( -999, -999 ) ) {</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;                                <span class="keywordflow">if</span>( path_map[<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + <a class="code" href="display_8h.html#ad55df0d7f625a78f1afc728ee1a6d6a4a3d801aa532c1cec3ee82d87a99fdf63f">temp</a>.x][<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + <a class="code" href="display_8h.html#ad55df0d7f625a78f1afc728ee1a6d6a4a3d801aa532c1cec3ee82d87a99fdf63f">temp</a>.y] &gt;</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;                                    destination_cost ) {</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;                                    destination_cost = path_map[<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + <a class="code" href="display_8h.html#ad55df0d7f625a78f1afc728ee1a6d6a4a3d801aa532c1cec3ee82d87a99fdf63f">temp</a>.x][<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> +</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;                                                       <a class="code" href="display_8h.html#ad55df0d7f625a78f1afc728ee1a6d6a4a3d801aa532c1cec3ee82d87a99fdf63f">temp</a>.y];</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;                                    destination = <a class="code" href="display_8h.html#ad55df0d7f625a78f1afc728ee1a6d6a4a3d801aa532c1cec3ee82d87a99fdf63f">temp</a>;</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;                                    path_found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;                                }</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;                            }</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;                        }</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;                    }</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;                }</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;            }</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;        }</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160; </div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;        <span class="keywordflow">if</span>( !path_found ) {</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;            <span class="keyword">auto</span> e = <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( dir );</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;            <a class="code" href="classbasecamp.html#adb18f0e442ddb5df1ad80622382833df">basecamp::update_provides</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a>, e-&gt;second );</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160; </div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;            <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;This functionality cannot be constructed as no valid path to a swamp has &quot;</span></div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;                      <span class="stringliteral">&quot;been found with a maximum length (20 tiles) at a maximum range of 10 tiles.  &quot;</span></div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;                      <span class="stringliteral">&quot;Supported terrain is forest, field, and road.  This recipe will now be &quot;</span></div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;                      <span class="stringliteral">&quot;removed from the set of available recipes and won&#39;t show up again.&quot;</span> ) );</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;        };</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160; </div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;        <a class="code" href="structpoint.html">point</a> candidate;</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;        <span class="comment">//  Flip the sign of the starting swamp tile to fit the logic expecting positive values rather than check that it isn&#39;t the first one every time.</span></div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;        path_map[<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + destination.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + destination.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>]</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;            = -path_map[<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + destination.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> +</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;                    destination.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160; </div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;        <span class="keywordflow">while</span>( destination != <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> ) {</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;            pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>.push_back( { <a class="code" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() + dir.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> + connection_dir.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> + destination.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() + dir.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> + connection_dir.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> + destination.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() ), <span class="keyword">false</span>, <span class="keyword">false</span> } );</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;            path_found = <span class="keyword">false</span>;  <span class="comment">//  Reuse of existing variable after its original usability has been passed.</span></div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = -1; i &lt;= 1; i++ ) {</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> k = -1; k &lt;= 1; k++ ) {</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;                    <span class="keywordflow">if</span>( destination.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> + i &gt; -<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> &amp;&amp;</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;                        destination.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> + i &lt; <a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> &amp;&amp;</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;                        destination.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> + k &gt; -<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> &amp;&amp;</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;                        destination.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> + k &lt; <a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> ) {</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;                        <span class="keywordflow">if</span>( path_map[<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + destination.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> + i][<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> +</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;                                destination.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> + k] &gt; 0.0 &amp;&amp;</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;                            path_map[<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + destination.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> + i][<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> +</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;                                    destination.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> + k] &lt; path_map[<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> +</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;                                            destination.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + destination.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] ) {</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;                            <span class="keywordflow">if</span>( path_found ) {</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;                                <span class="keywordflow">if</span>( path_map [<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + candidate.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> +</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;                                        candidate.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] &gt;</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;                                    path_map[<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> + destination.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> + i][<a class="code" href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a> +</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;                                            destination.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> + k] ) {</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;                                    candidate = destination + <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( i, k );</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;                                }</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;                                candidate = destination +  <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( i, k );</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;                                path_found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;                            }</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;                        }</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;                    }</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;                }</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;            }</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;            destination = candidate;</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;        }</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160; </div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;        pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>.push_back( { <a class="code" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() + dir.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> + connection_dir.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() + dir.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> + connection_dir.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() ), <span class="keyword">false</span>, <span class="keyword">false</span> } );</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;    }</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160; </div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#ae6c113adcd32bb815a5a88e624b79fda">common_salt_water_pipe_construction</a>( miss_id, pipe, 0 ) ) {</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;        <span class="keywordflow">if</span>( pipe_is_new ) {</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;            pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>[0].started = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;            <a class="code" href="classbasecamp.html#a9465f218c84c5322a1709b420ce8c225">salt_water_pipes</a>.push_back( pipe );</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160; </div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;            <span class="comment">//  Provide &quot;salt_water_pipe_*_scheduled&quot; for all the segments needed.</span></div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;            <span class="comment">//  The guts of basecamp::update_provides modified to feed it generated tokens rather than</span></div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;            <span class="comment">//  those actually in the recipe, as the tokens needed can&#39;t be determined by the recipe.</span></div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;            <span class="comment">//  Shouldn&#39;t need to check that the tokens don&#39;t exist previously, so could just set them to 1.</span></div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;            <span class="keyword">auto</span> e = <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( dir );</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 1; i &lt; pipe-&gt;<a class="code" href="structexpansion__salt__water__pipe.html#a01c66f4cc7bf9c9df58f9e989781f7a5">segments</a>.size(); i++ ) {</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;                std::string token = <a class="code" href="faction__camp_8cpp.html#a73d95a2fe234d4b0ff00dddc73a91378">salt_water_pipe_string_base</a>;</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;                token += <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">std::to_string</a>( i );</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;                token += <a class="code" href="faction__camp_8cpp.html#aca2bb4215b6b0c8e0bc90668edb14d6b">salt_water_pipe_string_suffix</a>;</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;                <span class="keywordflow">if</span>( e-&gt;second.provides.find( token ) == e-&gt;second.provides.end() ) {</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;                    e-&gt;second.provides[token] = 0;</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;                }</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;                e-&gt;second.provides[token]++;</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;            }</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;        }</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( pipe_is_new ) {</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;        <span class="keyword">delete</span> pipe;</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;    }</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;}</div>
<div class="ttc" id="aclasscata_1_1mdarray_html"><div class="ttname"><a href="classcata_1_1mdarray.html">cata::mdarray</a></div><div class="ttdef"><b>Definition:</b> <a href="mdarray_8h_source.html#l00105">mdarray.h:108</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a2d175c9fd32a8983eeb2009429716613"><div class="ttname"><a href="faction__camp_8cpp.html#a2d175c9fd32a8983eeb2009429716613">max_salt_water_pipe_length</a></div><div class="ttdeci">static const int max_salt_water_pipe_length</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02914">faction_camp.cpp:2914</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a7fc587562ef5c5d250865ba39d77446d"><div class="ttname"><a href="faction__camp_8cpp.html#a7fc587562ef5c5d250865ba39d77446d">salt_pipe_swamp</a></div><div class="ttdeci">static const double salt_pipe_swamp</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02923">faction_camp.cpp:2923</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a99cd11e7c20498cc4a1a0f39ddb0512e"><div class="ttname"><a href="faction__camp_8cpp.html#a99cd11e7c20498cc4a1a0f39ddb0512e">connection_direction_of</a></div><div class="ttdeci">static point connection_direction_of(const point &amp;dir, const recipe &amp;making)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03033">faction_camp.cpp:3033</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a9e637d1592971a93a828443c03e7961a"><div class="ttname"><a href="faction__camp_8cpp.html#a9e637d1592971a93a828443c03e7961a">salt_pipe_legal</a></div><div class="ttdeci">static const double salt_pipe_legal</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02921">faction_camp.cpp:2921</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_ab002a7e8558c2eea16e0a66c62cbc0ff"><div class="ttname"><a href="faction__camp_8cpp.html#ab002a7e8558c2eea16e0a66c62cbc0ff">check_salt_pipe_neighbors</a></div><div class="ttdeci">static point check_salt_pipe_neighbors(PathMap &amp;path_map, point pt)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02932">faction_camp.cpp:2932</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_afa4de70e5c31fba35d6b3f4ee9014c83"><div class="ttname"><a href="faction__camp_8cpp.html#afa4de70e5c31fba35d6b3f4ee9014c83">max_salt_water_pipe_distance</a></div><div class="ttdeci">static const int max_salt_water_pipe_distance</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02913">faction_camp.cpp:2913</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_afe3a2bdbc0a1d7b2538ae0a2e42bbecf"><div class="ttname"><a href="faction__camp_8cpp.html#afe3a2bdbc0a1d7b2538ae0a2e42bbecf">salt_pipe_illegal</a></div><div class="ttdeci">static const double salt_pipe_illegal</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l02922">faction_camp.cpp:2922</a></div></div>
<div class="ttc" id="apoint_8h_html_a0ee2195dcb488ae55fbf4316f5011172"><div class="ttname"><a href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></div><div class="ttdeci">constexpr point point_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00251">point.h:251</a></div></div>
<div class="ttc" id="astructoter__t_html_ab1638475c8650985ec100f0bc7fcafe7"><div class="ttname"><a href="structoter__t.html#ab1638475c8650985ec100f0bc7fcafe7">oter_t::get_type_id</a></div><div class="ttdeci">const string_id&lt; oter_type_t &gt; &amp; get_type_id() const</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00323">omdata.h:323</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="faction__camp_8cpp_source.html#l02932">check_salt_pipe_neighbors()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03114">common_salt_water_pipe_construction()</a>, <a class="el" href="basecamp_8h_source.html#l00143">expansion_salt_water_pipe::connection_direction</a>, <a class="el" href="faction__camp_8cpp_source.html#l03033">connection_direction_of()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="mission__companion_8h_source.html#l00107">mission_id::dir</a>, <a class="el" href="basecamp_8h_source.html#l00142">expansion_salt_water_pipe::expansion</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="omdata_8h_source.html#l00323">oter_t::get_type_id()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02913">max_salt_water_pipe_distance</a>, <a class="el" href="faction__camp_8cpp_source.html#l02914">max_salt_water_pipe_length</a>, <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>, <a class="el" href="mission__companion_8h_source.html#l00105">mission_id::parameters</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="point_8h_source.html#l00251">point_zero</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02922">salt_pipe_illegal</a>, <a class="el" href="faction__camp_8cpp_source.html#l02921">salt_pipe_legal</a>, <a class="el" href="faction__camp_8cpp_source.html#l02923">salt_pipe_swamp</a>, <a class="el" href="faction__camp_8cpp_source.html#l02918">salt_water_pipe_string_base</a>, <a class="el" href="faction__camp_8cpp_source.html#l02919">salt_water_pipe_string_suffix</a>, <a class="el" href="basecamp_8h_source.html#l00198">salt_water_pipes</a>, <a class="el" href="basecamp_8h_source.html#l00144">expansion_salt_water_pipe::segments</a>, <a class="el" href="display_8h.html#ad55df0d7f625a78f1afc728ee1a6d6a4a3d801aa532c1cec3ee82d87a99fdf63f">temp</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00780">overmapbuffer::ter()</a>, <a class="el" href="calendar_8cpp_source.html#l00546">to_string()</a>, <a class="el" href="basecamp_8cpp_source.html#l00429">update_provides()</a>, <a class="el" href="coordinates_8h_source.html#l00161">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::x()</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, <a class="el" href="coordinates_8h_source.html#l00164">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::y()</a>, <a class="el" href="point_8h_source.html#l00024">point::y</a>, and <a class="el" href="coordinates_8h_source.html#l00167">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::z()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l02084">start_upgrade()</a>.</p>

</div>
</div>
<a id="a871e793e6f40aaba900349ade05cd0a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a871e793e6f40aaba900349ade05cd0a9">&#9670;&nbsp;</a></span>start_setup_hide_site()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::start_setup_hide_site </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>exertion_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l02637">2637</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;{</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    std::vector&lt;std::string&gt; hide_locations = { <span class="stringliteral">&quot;forest&quot;</span>, <span class="stringliteral">&quot;forest_thick&quot;</span>, <span class="stringliteral">&quot;forest_water&quot;</span>, <span class="stringliteral">&quot;forest_trail&quot;</span></div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;                                                <span class="stringliteral">&quot;field&quot;</span></div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;                                              };</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Forests, swamps, and fields are valid hide site locations.&quot;</span> ) );</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a> = <a class="code" href="faction__camp_8cpp.html#acb818361c27d8dcdb7bec136a37bc471">om_target_tile</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, 10, 90, hide_locations, <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">ot_match_type::type</a>,</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;                              <span class="keyword">true</span>, <span class="keyword">true</span>, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a> != <a class="code" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>( -999, -999, -999 ) ) {</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;        <span class="keywordtype">int</span> dist = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>.xy(), <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() );</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;        <a class="code" href="classCharacter.html">Character</a> *pc = &amp;<a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;        <span class="keyword">const</span> <a class="code" href="classinventory__filter__preset.html">inventory_filter_preset</a> preset( []( <span class="keyword">const</span> <a class="code" href="classitem__location.html">item_location</a> &amp; <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a> ) {</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;            <span class="keywordflow">return</span> !<a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>-&gt;can_revive() &amp;&amp; !<a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>-&gt;will_spill();</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;        } );</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160; </div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;        <a class="code" href="classunits_1_1quantity.html">units::volume</a> total_volume;</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;        <a class="code" href="classunits_1_1quantity.html">units::mass</a> total_mass;</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160; </div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;        <a class="code" href="activity__item__handling_8cpp.html#a14dcded7a48aa4f96aeecf1e76f8f947">drop_locations</a> losing_equipment = <a class="code" href="classbasecamp.html#a0c73abeb013c066e91b9a85244dfbf94">give_equipment</a>( pc, preset,</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;                                          <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;These are the items you&#39;ve selected so far.&quot;</span> ), <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select items to send&quot;</span> ), total_volume,</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;                                          total_mass );</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160; </div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;        <span class="keywordtype">int</span> trips = <a class="code" href="faction__camp_8cpp.html#aee39546dd426e1f354a5d16b03128edd">om_carry_weight_to_trips</a>( total_mass, total_volume, <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;        <span class="keywordtype">int</span> haulage = trips &lt;= 2 ? 0 : losing_equipment.size();</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> build_time = 6_hours;</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> travel_time = <a class="code" href="faction__camp_8cpp.html#a158df75a9cecf13a3320d028110995dd">companion_travel_time_calc</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, 0_minutes,</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;                                    2, haulage );</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> work_time = travel_time + build_time;</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Trip Estimate:\n%s&quot;</span> ), <a class="code" href="faction__camp_8cpp.html#ada2b0dae2dff386ef3fc04af8e39653e">camp_trip_description</a>( work_time,</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;                       build_time, travel_time, dist, trips, <a class="code" href="classbasecamp.html#ac8b09a6253b1bcaa15d1735caa5c7644">time_to_food</a>( work_time, exertion_level ) ) ) ) {</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;        }</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;        <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="classbasecamp.html#a84ee01594d047048258c9bf59880e1fc">start_mission</a>( miss_id,</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;                                      work_time, <span class="keyword">true</span>,</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;                                      <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;departs to build a hide site&quot;</span> ), <span class="keyword">false</span>, {},</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;                                      <a class="code" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, 3, exertion_level );</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;        <span class="keywordflow">if</span>( comp != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;            trips = <a class="code" href="faction__camp_8cpp.html#aee39546dd426e1f354a5d16b03128edd">om_carry_weight_to_trips</a>( total_mass, total_volume, comp );</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;            haulage = trips &lt;= 2 ? 0 : losing_equipment.size();</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;            work_time = <a class="code" href="faction__camp_8cpp.html#a158df75a9cecf13a3320d028110995dd">companion_travel_time_calc</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, 0_minutes, 2, haulage ) +</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;                        build_time;</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;            comp-&gt;companion_mission_time_ret = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + work_time;</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;            <a class="code" href="faction__camp_8cpp.html#a476f4ba6502a417ea18c5ebcd639711d">om_set_hide_site</a>( *comp, <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, losing_equipment );</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;        }</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    }</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="faction__camp_8cpp_source.html#l05339">camp_trip_description()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05087">companion_travel_time_calc()</a>, <a class="el" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05194">give_equipment()</a>, <a class="el" href="calendar_8cpp_source.html#l00034">location</a>, <a class="el" href="faction__camp_8cpp_source.html#l05129">om_carry_weight_to_trips()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05037">om_set_hide_site()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04909">om_target_tile()</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="faction__camp_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, <a class="el" href="faction__camp_8cpp_source.html#l01964">start_mission()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05644">time_to_food()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, and <a class="el" href="coordinates_8h_source.html#l00273">coords::coord_point&lt; Point, Origin, Scale, InBounds &gt;::xy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a450d97de3568eb96548dd736e9a4f5c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a450d97de3568eb96548dd736e9a4f5c6">&#9670;&nbsp;</a></span>start_upgrade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::start_upgrade </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l02084">2084</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;{</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;making = *<a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a> );</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    <span class="keywordflow">if</span>( making.<a class="code" href="classrecipe.html#a4aed0efd87df1fbcc7c67bcb2ca14005">get_blueprint</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() == <a class="code" href="faction__camp_8cpp.html#a335794f4a5cb0da4e3d56d97b94642a8">faction_expansion_salt_water_pipe_swamp_N</a> ) {</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;        <a class="code" href="classbasecamp.html#a017be7d3cd26ee47553246cf42cb5770">start_salt_water_pipe</a>( miss_id );</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( making.<a class="code" href="classrecipe.html#a4aed0efd87df1fbcc7c67bcb2ca14005">get_blueprint</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() == <a class="code" href="faction__camp_8cpp.html#a7937e40ba0e98e4562287788be7dd431">faction_expansion_salt_water_pipe_N</a> ) {</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;        <a class="code" href="classbasecamp.html#a2c38e3963f08f483ddaeee78f95709c5">continue_salt_water_pipe</a>( miss_id );</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    }</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160; </div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    <span class="keyword">auto</span> req_it = making.<a class="code" href="classrecipe.html#a6bf6a221531a705e16bd859596050d4a">blueprint_build_reqs</a>().<a class="code" href="structparameterized__build__reqs.html#ab9c7e2f44e3a3c6bbbfe79369e7b2d11">reqs_by_parameters</a>.find( miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a> );</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( req_it != making.<a class="code" href="classrecipe.html#a6bf6a221531a705e16bd859596050d4a">blueprint_build_reqs</a>().<a class="code" href="structparameterized__build__reqs.html#ab9c7e2f44e3a3c6bbbfe79369e7b2d11">reqs_by_parameters</a>.end() );</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    <span class="keyword">const</span> <a class="code" href="structbuild__reqs.html">build_reqs</a> &amp;bld_reqs = req_it-&gt;second;</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    <span class="keyword">const</span> <a class="code" href="structrequirement__data.html">requirement_data</a> &amp;reqs = bld_reqs.<a class="code" href="structbuild__reqs.html#a7cfffd75159c7f6e4008161a3519602a">consolidated_reqs</a>;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160; </div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    <span class="comment">//Stop upgrade if you don&#39;t have materials</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <span class="keywordflow">if</span>( reqs.<a class="code" href="structrequirement__data.html#a07c67f146358ed0de2aface7588c20d2">can_make_with_inventory</a>( <a class="code" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a>, making.<a class="code" href="classrecipe.html#a45b065c59b172ccab9e0630fd036fe09">get_component_filter</a>() ) ) {</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;        <span class="keywordtype">bool</span> must_feed = !making.<a class="code" href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">has_flag</a>( <span class="stringliteral">&quot;NO_FOOD_REQ&quot;</span> );</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160; </div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;        <a class="code" href="classbasecamp__action__components.html">basecamp_action_components</a> components( making, miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a>, 1, *<span class="keyword">this</span> );</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;        <span class="keywordflow">if</span>( !components.choose_components() ) {</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;        }</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160; </div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;        <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> comp;</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;        <span class="keywordflow">if</span>( bld_reqs.<a class="code" href="structbuild__reqs.html#a304dc1a580a2fac74f3e2e337d8ce877">skills</a>.empty() ) {</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;            <span class="keywordflow">if</span>( making.<a class="code" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a>.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;                comp = <a class="code" href="classbasecamp.html#adc36f57775b55c418c99e9085666c8bd">start_multi_mission</a>( miss_id, must_feed,</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;                                            <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;begins to upgrade the camp&quot;</span> ),</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;                                            making.<a class="code" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a>, making.<a class="code" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a> );</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;                comp = <a class="code" href="classbasecamp.html#adc36f57775b55c418c99e9085666c8bd">start_multi_mission</a>( miss_id, must_feed,</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;                                            <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;begins to upgrade the camp&quot;</span> ) );</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;            }</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;            comp = <a class="code" href="classbasecamp.html#adc36f57775b55c418c99e9085666c8bd">start_multi_mission</a>( miss_id, must_feed, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;begins to upgrade the camp&quot;</span> ),</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;                                        bld_reqs.<a class="code" href="structbuild__reqs.html#a304dc1a580a2fac74f3e2e337d8ce877">skills</a> );</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;        }</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;        <span class="keywordflow">if</span>( comp.empty() ) {</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;        }</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;        components.consume_components();</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> dir = miss_id.<a class="code" href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">dir</a>.value();  <span class="comment">//  Will always have a value</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160; </div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        <a class="code" href="classbasecamp.html#a9c287c78fafdbec24724b3b1f049fe11">update_in_progress</a>( miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a>,</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;                            dir );</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160; </div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;        <span class="keywordtype">bool</span> mirror_horizontal;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;        <span class="keywordtype">bool</span> mirror_vertical;</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;        <span class="keywordtype">int</span> rotation;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160; </div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;        <span class="keyword">auto</span> e = <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( dir );</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        <span class="keywordflow">if</span>( e == <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.end() ) {</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        }</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> upos = e-&gt;second.pos;</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160; </div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;        <a class="code" href="faction__camp_8cpp.html#a4eef6392cb6826d17c71efef1e00e61a">extract_and_check_orientation_flags</a>( making.<a class="code" href="classrecipe.html#aa75469c5d2213a774931a5abf668a9dc">ident</a>(),</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;                                             dir,</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;                                             mirror_horizontal,</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;                                             mirror_vertical,</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;                                             rotation,</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;                                             <span class="stringliteral">&quot;%s failed to build the %s upgrade&quot;</span>,</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;                                             <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160; </div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;        <a class="code" href="mapgen_8cpp.html#a3f043a26f6795bdf1cdffc73134bce33">apply_construction_marker</a>( making.<a class="code" href="classrecipe.html#a4aed0efd87df1fbcc7c67bcb2ca14005">get_blueprint</a>(), upos,</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;                                   miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a>, mirror_horizontal,</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;                                   mirror_vertical, rotation, <span class="keyword">true</span> );</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You don&#39;t have the materials for the upgrade.&quot;</span> ) );</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    }</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a017be7d3cd26ee47553246cf42cb5770"><div class="ttname"><a href="classbasecamp.html#a017be7d3cd26ee47553246cf42cb5770">basecamp::start_salt_water_pipe</a></div><div class="ttdeci">void start_salt_water_pipe(const mission_id &amp;miss_id)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03239">faction_camp.cpp:3239</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a2c38e3963f08f483ddaeee78f95709c5"><div class="ttname"><a href="classbasecamp.html#a2c38e3963f08f483ddaeee78f95709c5">basecamp::continue_salt_water_pipe</a></div><div class="ttdeci">void continue_salt_water_pipe(const mission_id &amp;miss_id)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l03426">faction_camp.cpp:3426</a></div></div>
<div class="ttc" id="aclassrecipe_html_a4aed0efd87df1fbcc7c67bcb2ca14005"><div class="ttname"><a href="classrecipe.html#a4aed0efd87df1fbcc7c67bcb2ca14005">recipe::get_blueprint</a></div><div class="ttdeci">const update_mapgen_id &amp; get_blueprint() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01351">recipe.cpp:1351</a></div></div>
<div class="ttc" id="aclassrecipe_html_aa75469c5d2213a774931a5abf668a9dc"><div class="ttname"><a href="classrecipe.html#aa75469c5d2213a774931a5abf668a9dc">recipe::ident</a></div><div class="ttdeci">const recipe_id &amp; ident() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00155">recipe.h:155</a></div></div>
<div class="ttc" id="aclassrecipe_html_aca293605940df4e5c431fa8ba5009074"><div class="ttname"><a href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">recipe::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag_name) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00145">recipe.cpp:145</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a4eef6392cb6826d17c71efef1e00e61a"><div class="ttname"><a href="faction__camp_8cpp.html#a4eef6392cb6826d17c71efef1e00e61a">extract_and_check_orientation_flags</a></div><div class="ttdeci">static bool extract_and_check_orientation_flags(const recipe_id &amp;recipe, const point &amp;dir, bool &amp;mirror_horizontal, bool &amp;mirror_vertical, int &amp;rotation, const std::string_view base_error_message, const std::string &amp;actor)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00542">faction_camp.cpp:542</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="basecamp_8h_source.html#l00505">_inv</a>, <a class="el" href="mapgen_8cpp_source.html#l07960">apply_construction_marker()</a>, <a class="el" href="recipe_8cpp_source.html#l01404">recipe::blueprint_build_reqs()</a>, <a class="el" href="requirements_8cpp_source.html#l00840">requirement_data::can_make_with_inventory()</a>, <a class="el" href="cata__assert_8h_source.html#l00036">cata_assert</a>, <a class="el" href="basecamp_8cpp_source.html#l00877">basecamp_action_components::choose_components()</a>, <a class="el" href="build__reqs_8h_source.html#l00019">build_reqs::consolidated_reqs</a>, <a class="el" href="basecamp_8cpp_source.html#l00924">basecamp_action_components::consume_components()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03426">continue_salt_water_pipe()</a>, <a class="el" href="recipe_8h_source.html#l00133">recipe::difficulty</a>, <a class="el" href="mission__companion_8h_source.html#l00107">mission_id::dir</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="faction__camp_8cpp_source.html#l00542">extract_and_check_orientation_flags()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00344">faction_expansion_salt_water_pipe_N</a>, <a class="el" href="faction__camp_8cpp_source.html#l00338">faction_expansion_salt_water_pipe_swamp_N</a>, <a class="el" href="recipe_8cpp_source.html#l01351">recipe::get_blueprint()</a>, <a class="el" href="recipe_8cpp_source.html#l01256">recipe::get_component_filter()</a>, <a class="el" href="recipe_8cpp_source.html#l00145">recipe::has_flag()</a>, <a class="el" href="recipe_8h_source.html#l00155">recipe::ident()</a>, <a class="el" href="achievement_8cpp_source.html#l00078">string_id&lt; T &gt;::is_valid()</a>, <a class="el" href="mission__companion_8h_source.html#l00106">mission_id::mapgen_args</a>, <a class="el" href="mission__companion_8h_source.html#l00105">mission_id::parameters</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="build__reqs_8h_source.html#l00038">parameterized_build_reqs::reqs_by_parameters</a>, <a class="el" href="recipe_8h_source.html#l00188">recipe::skill_used</a>, <a class="el" href="build__reqs_8h_source.html#l00015">build_reqs::skills</a>, <a class="el" href="faction__camp_8cpp_source.html#l02012">start_multi_mission()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03239">start_salt_water_pipe()</a>, <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00444">update_in_progress()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="afc753bfacd929dfcaf4c4058880dc3de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc753bfacd929dfcaf4c4058880dc3de">&#9670;&nbsp;</a></span>survey_field_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::survey_field_return </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Choose which expansion slot to check for field conversion. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l04425">4425</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;{</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;    <span class="keyword">const</span> std::string abort_msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;stops looking for terrain to turn into fields&quot;</span> );</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;    <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="classbasecamp.html#acf5ed5fde0f408c8978fb50097196efe">companion_choose_return</a>( miss_id, 0_hours );</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;    <span class="keywordflow">if</span>( comp == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;    }</div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160; </div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select a tile up to %d tiles away.&quot;</span> ), 1 );</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> where( <a class="code" href="namespaceui_1_1omap.html#ac7acc85229398a074d820b340c59d1cf">ui::omap::choose_point</a>() );</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;    <span class="keywordflow">if</span>( where == <a class="code" href="classovermap.html#aa0999e49bed45fc1eb5e30498b8934f4">overmap::invalid_tripoint</a> ) {</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;    }</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160; </div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;    <span class="keywordtype">int</span> dist = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( where.xy(), <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() );</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;    <span class="keywordflow">if</span>( dist != 1 ) {</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You must select a tile within %d range of the camp&quot;</span> ), 1 );</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;    }</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() != where.z() ) {</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Expansions must be on the same level as the camp&quot;</span> ) );</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;    }</div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> dir = <a class="code" href="namespacetalk__function.html#aadedf0687f4d2cc5ed56a0f329eb0bca">talk_function::om_simple_dir</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, where );</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( dir ) != <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.end() ) {</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>(</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You already have an expansion at that location.  Do you want to finish this mission?  If not, the mission remains active and another tile can be checked.&quot;</span> ) ) ) {</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;            <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">true</span>, abort_msg, <a class="code" href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 0 );</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;        }</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;    }</div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160; </div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a232145b434bc1f83bc6df7221d15310b">ter_existing</a>( where ) == <a class="code" href="classint__id.html">oter_id</a>( <span class="stringliteral">&quot;field&quot;</span> ) ) {</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>(</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;This location is already a field.  Do you want to finish this mission?  If not, the mission remains active and another tile can be checked.&quot;</span> ) ) ) {</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;            <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">true</span>, abort_msg, <a class="code" href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 0 );</div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;        }</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;    }</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160; </div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;    <a class="code" href="classtinymap.html">tinymap</a> target;</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;    target.<a class="code" href="classtinymap.html#a7f913ba5d8facdb8c3d6b759593095fc">load</a>( where, <span class="keyword">false</span> );</div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;    <span class="keywordtype">int</span> mismatch_tiles = 0;</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> mapmin = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>( 0, 0, where.z() );</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> mapmax = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>( 2 * <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> - 1, 2 * <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> - 1, where.z() );</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;    <span class="keyword">const</span> std::unordered_set&lt;ter_str_id&gt; match_terrains = { <a class="code" href="faction__camp_8cpp.html#a8df064af5f1ba517cc858bf39b5da275">ter_t_clay</a>, <a class="code" href="faction__camp_8cpp.html#a39faa1c7d3f986d7dd89f347f4e2f43f">ter_t_dirt</a>, <a class="code" href="faction__camp_8cpp.html#ad360eeb9caef5284f4139bc57cfcebe8">ter_t_dirtmound</a>, <a class="code" href="faction__camp_8cpp.html#afa18c8c17b0b33f364c72c636824686f">ter_t_grass</a>, <a class="code" href="faction__camp_8cpp.html#a135094a0fb90484f3e2813b76b765916">ter_t_grass_dead</a>, <a class="code" href="faction__camp_8cpp.html#a256309836e4eeb5bf3b560883cac04f9">ter_t_grass_golf</a>, <a class="code" href="faction__camp_8cpp.html#a68c85fff52ddd1194243e4435e7955fa">ter_t_grass_long</a>, <a class="code" href="faction__camp_8cpp.html#a6f020273b4600ac2ef922a9f8cb2f816">ter_t_grass_tall</a>, <a class="code" href="faction__camp_8cpp.html#a5d1579cc8b05d03b703b149d0fc0d29d">ter_t_moss</a>, <a class="code" href="faction__camp_8cpp.html#aa97140c8aea2d1d10175fc60f47ff47c">ter_t_sand</a> };</div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : target.<a class="code" href="classtinymap.html#a794a96c8240bf6ff8d040009ab06b0f4">points_in_rectangle</a>( mapmin, mapmax ) ) {</div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;        <span class="keywordflow">if</span>( match_terrains.find( target.<a class="code" href="classtinymap.html#a041d5fbaa136000aa438cab074331634">ter</a>( p ).<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>() ) == match_terrains.end() ) {</div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;            mismatch_tiles++;</div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;        }</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;    }</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160; </div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;    <span class="keywordflow">if</span>( mismatch_tiles &gt; 0 ) {</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>(</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;This location has %d tiles blocking it from being converted.  Do you want to finish this mission?  If not, the mission remains active and another tile can be checked.&quot;</span> ),</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;                mismatch_tiles ) ) {</div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;            <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">true</span>, abort_msg, <a class="code" href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 0 );</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;        }</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;    }</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160; </div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;    <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ac1827a678e822c8c9d1d4cae79b032c7">ter_set</a>( where, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a7a31b1ffae29e9cf34557c69b2026056">oter_id</a>( <span class="stringliteral">&quot;field&quot;</span> ) );</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>(</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;            <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;This location has now been converted into a field!  Do you want to finish the mission?  If not, the mission remains active and another tile can be checked.&quot;</span> ) ) ) {</div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;        <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">true</span>, abort_msg, <a class="code" href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 0 );</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;    }</div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a7a31b1ffae29e9cf34557c69b2026056"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a7a31b1ffae29e9cf34557c69b2026056">cata_variant_type::oter_id</a></div><div class="ttdeci">@ oter_id</div></div>
<div class="ttc" id="aclassovermap_html_aa0999e49bed45fc1eb5e30498b8934f4"><div class="ttname"><a href="classovermap.html#aa0999e49bed45fc1eb5e30498b8934f4">overmap::invalid_tripoint</a></div><div class="ttdeci">static constexpr tripoint_abs_omt invalid_tripoint</div><div class="ttdoc">Dummy value, used to indicate that a point returned by a function is invalid.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8h_source.html#l00277">overmap.h:277</a></div></div>
<div class="ttc" id="aclasstinymap_html_a041d5fbaa136000aa438cab074331634"><div class="ttname"><a href="classtinymap.html#a041d5fbaa136000aa438cab074331634">tinymap::ter</a></div><div class="ttdeci">ter_id ter(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02471">map.h:2471</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a135094a0fb90484f3e2813b76b765916"><div class="ttname"><a href="faction__camp_8cpp.html#a135094a0fb90484f3e2813b76b765916">ter_t_grass_dead</a></div><div class="ttdeci">static const ter_str_id ter_t_grass_dead(&quot;t_grass_dead&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a256309836e4eeb5bf3b560883cac04f9"><div class="ttname"><a href="faction__camp_8cpp.html#a256309836e4eeb5bf3b560883cac04f9">ter_t_grass_golf</a></div><div class="ttdeci">static const ter_str_id ter_t_grass_golf(&quot;t_grass_golf&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a39faa1c7d3f986d7dd89f347f4e2f43f"><div class="ttname"><a href="faction__camp_8cpp.html#a39faa1c7d3f986d7dd89f347f4e2f43f">ter_t_dirt</a></div><div class="ttdeci">static const ter_str_id ter_t_dirt(&quot;t_dirt&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a5d1579cc8b05d03b703b149d0fc0d29d"><div class="ttname"><a href="faction__camp_8cpp.html#a5d1579cc8b05d03b703b149d0fc0d29d">ter_t_moss</a></div><div class="ttdeci">static const ter_str_id ter_t_moss(&quot;t_moss&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a68c85fff52ddd1194243e4435e7955fa"><div class="ttname"><a href="faction__camp_8cpp.html#a68c85fff52ddd1194243e4435e7955fa">ter_t_grass_long</a></div><div class="ttdeci">static const ter_str_id ter_t_grass_long(&quot;t_grass_long&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a6f020273b4600ac2ef922a9f8cb2f816"><div class="ttname"><a href="faction__camp_8cpp.html#a6f020273b4600ac2ef922a9f8cb2f816">ter_t_grass_tall</a></div><div class="ttdeci">static const ter_str_id ter_t_grass_tall(&quot;t_grass_tall&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_a8df064af5f1ba517cc858bf39b5da275"><div class="ttname"><a href="faction__camp_8cpp.html#a8df064af5f1ba517cc858bf39b5da275">ter_t_clay</a></div><div class="ttdeci">static const ter_str_id ter_t_clay(&quot;t_clay&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_aa97140c8aea2d1d10175fc60f47ff47c"><div class="ttname"><a href="faction__camp_8cpp.html#aa97140c8aea2d1d10175fc60f47ff47c">ter_t_sand</a></div><div class="ttdeci">static const ter_str_id ter_t_sand(&quot;t_sand&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_ad360eeb9caef5284f4139bc57cfcebe8"><div class="ttname"><a href="faction__camp_8cpp.html#ad360eeb9caef5284f4139bc57cfcebe8">ter_t_dirtmound</a></div><div class="ttdeci">static const ter_str_id ter_t_dirtmound(&quot;t_dirtmound&quot;)</div></div>
<div class="ttc" id="afaction__camp_8cpp_html_afa18c8c17b0b33f364c72c636824686f"><div class="ttname"><a href="faction__camp_8cpp.html#afa18c8c17b0b33f364c72c636824686f">ter_t_grass</a></div><div class="ttdeci">static const ter_str_id ter_t_grass(&quot;t_grass&quot;)</div></div>
<div class="ttc" id="anamespaceui_1_1omap_html_ac7acc85229398a074d820b340c59d1cf"><div class="ttname"><a href="namespaceui_1_1omap.html#ac7acc85229398a074d820b340c59d1cf">ui::omap::choose_point</a></div><div class="ttdeci">tripoint_abs_omt choose_point(bool show_debug_info=false)</div><div class="ttdoc">Interactive point choosing; used as the map screen.</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l02103">overmap_ui.cpp:2103</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="overmap__ui_8cpp_source.html#l02103">ui::omap::choose_point()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03748">companion_choose_return()</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00033">int_id&lt; T &gt;::id()</a>, <a class="el" href="overmap_8h_source.html#l00277">overmap::invalid_tripoint</a>, <a class="el" href="map_8h_source.html#l02447">tinymap::load()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05331">talk_function::om_simple_dir()</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a7a31b1ffae29e9cf34557c69b2026056">oter_id</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>, <a class="el" href="map_8cpp_source.html#l09099">tinymap::points_in_rectangle()</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="game__constants_8h_source.html#l00042">SEEX</a>, <a class="el" href="game__constants_8h_source.html#l00043">SEEY</a>, <a class="el" href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a>, <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>, <a class="el" href="map_8h_source.html#l02471">tinymap::ter()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00786">overmapbuffer::ter_existing()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00796">overmapbuffer::ter_set()</a>, <a class="el" href="faction__camp_8cpp.html#a8df064af5f1ba517cc858bf39b5da275">ter_t_clay</a>, <a class="el" href="faction__camp_8cpp.html#a39faa1c7d3f986d7dd89f347f4e2f43f">ter_t_dirt</a>, <a class="el" href="faction__camp_8cpp.html#ad360eeb9caef5284f4139bc57cfcebe8">ter_t_dirtmound</a>, <a class="el" href="faction__camp_8cpp.html#afa18c8c17b0b33f364c72c636824686f">ter_t_grass</a>, <a class="el" href="faction__camp_8cpp.html#a135094a0fb90484f3e2813b76b765916">ter_t_grass_dead</a>, <a class="el" href="faction__camp_8cpp.html#a256309836e4eeb5bf3b560883cac04f9">ter_t_grass_golf</a>, <a class="el" href="faction__camp_8cpp.html#a68c85fff52ddd1194243e4435e7955fa">ter_t_grass_long</a>, <a class="el" href="faction__camp_8cpp.html#a6f020273b4600ac2ef922a9f8cb2f816">ter_t_grass_tall</a>, <a class="el" href="faction__camp_8cpp.html#a5d1579cc8b05d03b703b149d0fc0d29d">ter_t_moss</a>, <a class="el" href="faction__camp_8cpp.html#aa97140c8aea2d1d10175fc60f47ff47c">ter_t_sand</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>, <a class="el" href="coordinates_8h_source.html#l00273">coords::coord_point&lt; Point, Origin, Scale, InBounds &gt;::xy()</a>, and <a class="el" href="coordinates_8h_source.html#l00167">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::z()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="a9e7b1bdc1a005293019b9f77538cb3c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e7b1bdc1a005293019b9f77538cb3c9">&#9670;&nbsp;</a></span>survey_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::survey_return </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Choose which expansion you should start, called when a survey mission is completed. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l04502">4502</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;{</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;    <span class="keyword">const</span> std::string abort_msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;gives up trying to create an expansion&quot;</span> );</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;    <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> comp = <a class="code" href="classbasecamp.html#acf5ed5fde0f408c8978fb50097196efe">companion_choose_return</a>( miss_id, 3_hours );</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;    <span class="keywordflow">if</span>( comp == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;    }</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160; </div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select a tile up to %d tiles away.&quot;</span> ), 1 );</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> where( <a class="code" href="namespaceui_1_1omap.html#ac7acc85229398a074d820b340c59d1cf">ui::omap::choose_point</a>() );</div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;    <span class="keywordflow">if</span>( where == <a class="code" href="classovermap.html#aa0999e49bed45fc1eb5e30498b8934f4">overmap::invalid_tripoint</a> ) {</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;    }</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160; </div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;    <span class="keywordtype">int</span> dist = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( where.xy(), <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() );</div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;    <span class="keywordflow">if</span>( dist != 1 ) {</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You must select a tile within %d range of the camp&quot;</span> ), 1 );</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;    }</div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() != where.z() ) {</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Expansions must be on the same level as the camp&quot;</span> ) );</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;    }</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> dir = <a class="code" href="namespacetalk__function.html#aadedf0687f4d2cc5ed56a0f329eb0bca">talk_function::om_simple_dir</a>( <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a>, where );</div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( dir ) != <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.end() ) {</div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>(</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You already have an expansion at that location.  Do you want to finish this mission?  If not, the mission remains active and another tile can be checked.&quot;</span> ) ) ) {</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;            <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">true</span>, abort_msg, <a class="code" href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 0 );</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;        }</div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;    }</div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160; </div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;    <span class="keyword">const</span> <a class="code" href="classint__id.html">oter_id</a> &amp;omt_ref = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aa9fbf966291f6b82de9c540262324aba">ter</a>( where );</div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;    <span class="keyword">const</span> std::optional&lt;mapgen_arguments&gt; *maybe_args = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ae5789098e078c16d272e2383f6af35ec">mapgen_args</a>( where );</div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;pos_expansions = <a class="code" href="namespacerecipe__group.html#ae9b4436933871983aa244e128e75c33a">recipe_group::get_recipes_by_id</a>( <span class="stringliteral">&quot;all_faction_base_expansions&quot;</span>,</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;                                 omt_ref, maybe_args );</div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;    <span class="keywordflow">if</span>( pos_expansions.empty() ) {</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You can&#39;t build any expansions in a %s.&quot;</span> ), omt_ref.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>().<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() );</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>(</div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You can&#39;t build any expansion in a %s.  Do you want to finish this mission?  If not, the mission remains active and another tile can be checked.&quot;</span> ),</div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;                omt_ref.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>().<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() ) ) {</div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;            <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">true</span>, abort_msg, <a class="code" href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 0 );</div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;        }</div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;    }</div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160; </div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;    <span class="keyword">const</span> <a class="code" href="classstring__id.html">recipe_id</a> expansion_type = <a class="code" href="namespacebase__camps.html#ad118b9792d4f9847673e5fb5411545ff">base_camps::select_camp_option</a>( pos_expansions,</div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;                                     <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select an expansion:&quot;</span> ) );</div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160; </div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;    <span class="keywordtype">bool</span> mirror_horizontal;</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;    <span class="keywordtype">bool</span> mirror_vertical;</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;    <span class="keywordtype">int</span> rotation;</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160; </div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="faction__camp_8cpp.html#a4eef6392cb6826d17c71efef1e00e61a">extract_and_check_orientation_flags</a>( expansion_type,</div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;            dir,</div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;            mirror_horizontal,</div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;            mirror_vertical,</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;            rotation,</div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;            <span class="stringliteral">&quot;%s failed to build the %s expansion&quot;</span>,</div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;            comp-&gt;disp_name() ) ) {</div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>(</div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Do you want to finish this mission?  If not, the mission remains active and another tile can be checked.&quot;</span> ) ) ) {</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;            <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">true</span>, abort_msg, <a class="code" href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 0 );</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;        }</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;    }</div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160; </div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="mapgen_8cpp.html#a6a25dca035599e6f281495d39d0768a6">run_mapgen_update_func</a>( <a class="code" href="type__id_8h.html#a9703e9c28f208c9af0bee38564a5df0b">update_mapgen_id</a>( expansion_type.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() ), where, {}, <span class="keyword">nullptr</span>, <span class="keyword">true</span>,</div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;                                 mirror_horizontal, mirror_vertical, rotation ) ) {</div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s failed to add the %s expansion, perhaps there is a vehicle in the way.&quot;</span> ),</div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;               comp-&gt;disp_name(),</div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;               expansion_type-&gt;<a class="code" href="classrecipe.html#af656bb1f377d67673a7f5aeefeb1fbc9">blueprint_name</a>() );</div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>(</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Do you want to finish this mission?  If not, the mission remains active and another tile can be checked (e.g. after clearing away the obstacle).&quot;</span> ) ) ) {</div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;            <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">true</span>, abort_msg, <a class="code" href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 0 );</div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;        }</div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;    }</div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;    <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ac1827a678e822c8c9d1d4cae79b032c7">ter_set</a>( where, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a7a31b1ffae29e9cf34557c69b2026056">oter_id</a>( expansion_type.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() ) );</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;    <a class="code" href="classbasecamp.html#a428d9bd0a4236d5b24b58c6daa461adf">add_expansion</a>( expansion_type.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), where, dir );</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;    <span class="keyword">const</span> std::string msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns from surveying for the expansion.&quot;</span> );</div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;    <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">true</span>, msg, <a class="code" href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), 2 );</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;}</div>
<div class="ttc" id="anamespacebase__camps_html_ad118b9792d4f9847673e5fb5411545ff"><div class="ttname"><a href="namespacebase__camps.html#ad118b9792d4f9847673e5fb5411545ff">base_camps::select_camp_option</a></div><div class="ttdeci">static recipe_id select_camp_option(const std::map&lt; recipe_id, translation &gt; &amp;pos_options, const std::string &amp;option)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l00669">faction_camp.cpp:669</a></div></div>
<div class="ttc" id="atype__id_8h_html_a9703e9c28f208c9af0bee38564a5df0b"><div class="ttname"><a href="type__id_8h.html#a9703e9c28f208c9af0bee38564a5df0b">update_mapgen_id</a></div><div class="ttdeci">string_id&lt; update_mapgen &gt; update_mapgen_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00283">type_id.h:283</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="basecamp_8cpp_source.html#l00165">add_expansion()</a>, <a class="el" href="recipe_8cpp_source.html#l01356">recipe::blueprint_name()</a>, <a class="el" href="string__id_8h_source.html#l00252">string_id&lt; T &gt;::c_str()</a>, <a class="el" href="overmap__ui_8cpp_source.html#l02103">ui::omap::choose_point()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03748">companion_choose_return()</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="faction__camp_8cpp_source.html#l00542">extract_and_check_orientation_flags()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>, <a class="el" href="recipe__groups_8cpp_source.html#l00104">recipe_group::get_recipes_by_id()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00033">int_id&lt; T &gt;::id()</a>, <a class="el" href="overmap_8h_source.html#l00277">overmap::invalid_tripoint</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00802">overmapbuffer::mapgen_args()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05331">talk_function::om_simple_dir()</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a7a31b1ffae29e9cf34557c69b2026056">oter_id</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="mapgen_8cpp_source.html#l07925">run_mapgen_update_func()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00669">base_camps::select_camp_option()</a>, <a class="el" href="faction__camp_8cpp.html#a8e60d5a75047fc4095c6afe268a414b6">skill_construction</a>, <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00780">overmapbuffer::ter()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00796">overmapbuffer::ter_set()</a>, <a class="el" href="coordinates_8h_source.html#l00273">coords::coord_point&lt; Point, Origin, Scale, InBounds &gt;::xy()</a>, and <a class="el" href="coordinates_8h_source.html#l00167">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::z()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="ac8b09a6253b1bcaa15d1735caa5c7644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8b09a6253b1bcaa15d1735caa5c7644">&#9670;&nbsp;</a></span>time_to_food()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int basecamp::time_to_food </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td>
          <td class="paramname"><em>work</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>exertion_level</em> = <code><a class="el" href="game__constants_8h.html#a2ff11848079530402510dded26ad7b71">NO_EXERCISE</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the total charges of food <a class="el" href="classtime__duration.html" title="A duration defined as a number of specific time units.">time_duration</a> work costs. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05644">5644</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;{</div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> days = to_hours&lt;int&gt;( work ) / 24;</div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> work_time = days * <a class="code" href="basecamp_8h.html#a278373dc292429bf4eefe6d00dbd6032">work_day_hours</a> + to_hours&lt;int&gt;( work ) - days * 24;</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160; </div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="itype_8h.html#a5aaa0efeab989fe1afbc025b4b84d3c2">base_metabolic_rate</a> * ( work_time * exertion_level + days * <a class="code" href="basecamp_8h.html#a43713d2f7edf1ca7113f3180dc21cc24">work_day_rest_hours</a> * <a class="code" href="game__constants_8h.html#a2ff11848079530402510dded26ad7b71">NO_EXERCISE</a></div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;                                   + days * <a class="code" href="basecamp_8h.html#a6589de47b3f30234738e5df6edc5c39e">work_day_idle_hours</a> * <a class="code" href="game__constants_8h.html#a81cb9f7f10147d30b078e70a2d1399ec">SLEEP_EXERCISE</a> ) / 24;</div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;}</div>
<div class="ttc" id="abasecamp_8h_html_a278373dc292429bf4eefe6d00dbd6032"><div class="ttname"><a href="basecamp_8h.html#a278373dc292429bf4eefe6d00dbd6032">work_day_hours</a></div><div class="ttdeci">const int work_day_hours</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00049">basecamp.h:49</a></div></div>
<div class="ttc" id="abasecamp_8h_html_a43713d2f7edf1ca7113f3180dc21cc24"><div class="ttname"><a href="basecamp_8h.html#a43713d2f7edf1ca7113f3180dc21cc24">work_day_rest_hours</a></div><div class="ttdeci">const int work_day_rest_hours</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00050">basecamp.h:50</a></div></div>
<div class="ttc" id="abasecamp_8h_html_a6589de47b3f30234738e5df6edc5c39e"><div class="ttname"><a href="basecamp_8h.html#a6589de47b3f30234738e5df6edc5c39e">work_day_idle_hours</a></div><div class="ttdeci">const int work_day_idle_hours</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00051">basecamp.h:51</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a81cb9f7f10147d30b078e70a2d1399ec"><div class="ttname"><a href="game__constants_8h.html#a81cb9f7f10147d30b078e70a2d1399ec">SLEEP_EXERCISE</a></div><div class="ttdeci">constexpr float SLEEP_EXERCISE</div><div class="ttdoc">activity levels, used for BMR.</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00180">game_constants.h:180</a></div></div>
<div class="ttc" id="aitype_8h_html_a5aaa0efeab989fe1afbc025b4b84d3c2"><div class="ttname"><a href="itype_8h.html#a5aaa0efeab989fe1afbc025b4b84d3c2">base_metabolic_rate</a></div><div class="ttdeci">constexpr float base_metabolic_rate</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00117">itype.h:117</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00117">base_metabolic_rate</a>, <a class="el" href="game__constants_8h_source.html#l00181">NO_EXERCISE</a>, <a class="el" href="game__constants_8h_source.html#l00180">SLEEP_EXERCISE</a>, <a class="el" href="basecamp_8h_source.html#l00049">work_day_hours</a>, <a class="el" href="basecamp_8h_source.html#l00051">work_day_idle_hours</a>, and <a class="el" href="basecamp_8h_source.html#l00050">work_day_rest_hours</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l05564">camp_food_supply()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05517">camp_food_supply_days()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05364">craft_description()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00787">get_available_missions_by_dir()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04677">recipe_batch_max()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02602">start_clearcut()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03461">start_combat_mission()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02563">start_cut_logs()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02811">start_fortifications()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02468">start_menial_labor()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01975">start_mission()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02022">start_multi_mission()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02686">start_relay_hide_site()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l02637">start_setup_hide_site()</a>.</p>

</div>
</div>
<a id="a09149da70be3e009cd1383cb444f1825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09149da70be3e009cd1383cb444f1825">&#9670;&nbsp;</a></span>unload_camp_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::unload_camp_map </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00802">802</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;{</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#ac6de0d0880ef088a0beceaf4fbf2d861">camp_map</a>.<a class="code" href="classbasecamp__map.html#af09bf3388dd41f2f0d4e21058d2bf19c">map_</a> ) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <a class="code" href="classbasecamp.html#ac6de0d0880ef088a0beceaf4fbf2d861">camp_map</a>.<a class="code" href="classbasecamp__map.html#af09bf3388dd41f2f0d4e21058d2bf19c">map_</a>.reset();</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00495">camp_map</a>, and <a class="el" href="basecamp_8h_source.html#l00151">basecamp_map::map_</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00747">talk_function::basecamp_mission()</a>.</p>

</div>
</div>
<a id="a9c287c78fafdbec24724b3b1f049fe11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c287c78fafdbec24724b3b1f049fe11">&#9670;&nbsp;</a></span>update_in_progress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::update_in_progress </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>bldg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00444">444</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;{</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( bldg ).<a class="code" href="classbasecamp.html#a3a97495a2d8dc70dd6395679d75dd7ab">is_valid</a>() ) {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keyword">auto</span> e = <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( dir );</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">if</span>( e == <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.end() ) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <a class="code" href="structexpansion__data.html">expansion_data</a> &amp;e_data = e-&gt;second;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;making = <a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( bldg ).<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bp_provides : making.<a class="code" href="classrecipe.html#a9020ad471bf83dde807500b78e8ccc38">blueprint_provides</a>() ) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">if</span>( e_data.<a class="code" href="structexpansion__data.html#abbbbbfd04949438d881dcb929af979c5">in_progress</a>.find( bp_provides.first ) == e_data.<a class="code" href="structexpansion__data.html#abbbbbfd04949438d881dcb929af979c5">in_progress</a>.end() ) {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            e_data.<a class="code" href="structexpansion__data.html#abbbbbfd04949438d881dcb929af979c5">in_progress</a>[bp_provides.first] = 0;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        e_data.<a class="code" href="structexpansion__data.html#abbbbbfd04949438d881dcb929af979c5">in_progress</a>[bp_provides.first] += bp_provides.second;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_a3a97495a2d8dc70dd6395679d75dd7ab"><div class="ttname"><a href="classbasecamp.html#a3a97495a2d8dc70dd6395679d75dd7ab">basecamp::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00166">basecamp.h:166</a></div></div>
<div class="ttc" id="aclassrecipe_html_a9020ad471bf83dde807500b78e8ccc38"><div class="ttname"><a href="classrecipe.html#a9020ad471bf83dde807500b78e8ccc38">recipe::blueprint_provides</a></div><div class="ttdeci">const std::vector&lt; std::pair&lt; std::string, int &gt; &gt; &amp; blueprint_provides() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01389">recipe.cpp:1389</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="recipe_8cpp_source.html#l01389">recipe::blueprint_provides()</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="basecamp_8h_source.html#l00057">expansion_data::in_progress</a>, <a class="el" href="basecamp_8h_source.html#l00166">is_valid()</a>, and <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l03114">common_salt_water_pipe_construction()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l02084">start_upgrade()</a>.</p>

</div>
</div>
<a id="adb18f0e442ddb5df1ad80622382833df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb18f0e442ddb5df1ad80622382833df">&#9670;&nbsp;</a></span>update_provides()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::update_provides </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>bldg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structexpansion__data.html">expansion_data</a> &amp;&#160;</td>
          <td class="paramname"><em>e_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00429">429</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;{</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( bldg ).<a class="code" href="classbasecamp.html#a3a97495a2d8dc70dd6395679d75dd7ab">is_valid</a>() ) {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;making = <a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( bldg ).<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bp_provides : making.<a class="code" href="classrecipe.html#a9020ad471bf83dde807500b78e8ccc38">blueprint_provides</a>() ) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordflow">if</span>( e_data.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>.find( bp_provides.first ) == e_data.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>.end() ) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            e_data.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>[bp_provides.first] = 0;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        e_data.<a class="code" href="structexpansion__data.html#a85ec7fd868eb65d34208fe5ac0ecf413">provides</a>[bp_provides.first] += bp_provides.second;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="recipe_8cpp_source.html#l01389">recipe::blueprint_provides()</a>, <a class="el" href="basecamp_8h_source.html#l00166">is_valid()</a>, <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>, and <a class="el" href="basecamp_8h_source.html#l00056">expansion_data::provides</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00165">add_expansion()</a>, <a class="el" href="basecamp_8cpp_source.html#l00190">define_camp()</a>, <a class="el" href="basecamp_8cpp_source.html#l00464">reset_camp_resources()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04151">salt_water_pipe_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04060">salt_water_pipe_swamp_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03239">start_salt_water_pipe()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l03875">upgrade_return()</a>.</p>

</div>
</div>
<a id="a38f564976b4c46a367b94d683c508f3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38f564976b4c46a367b94d683c508f3b">&#9670;&nbsp;</a></span>update_resources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::update_resources </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>bldg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00417">417</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;{</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( bldg ).<a class="code" href="classbasecamp.html#a3a97495a2d8dc70dd6395679d75dd7ab">is_valid</a>() ) {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;making = <a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( bldg ).<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> &amp;bp_resource : making.<a class="code" href="classrecipe.html#a3d152b55123c021d8e93f38c52c62b90">blueprint_resources</a>() ) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="classbasecamp.html#afc886372356be0375b10ab9612539d93">add_resource</a>( bp_resource );</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;}</div>
<div class="ttc" id="aclassrecipe_html_a3d152b55123c021d8e93f38c52c62b90"><div class="ttname"><a href="classrecipe.html#a3d152b55123c021d8e93f38c52c62b90">recipe::blueprint_resources</a></div><div class="ttdeci">const std::vector&lt; itype_id &gt; &amp; blueprint_resources() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01384">recipe.cpp:1384</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8cpp_source.html#l00407">add_resource()</a>, <a class="el" href="recipe_8cpp_source.html#l01384">recipe::blueprint_resources()</a>, <a class="el" href="basecamp_8h_source.html#l00166">is_valid()</a>, and <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00177">add_expansion()</a>, <a class="el" href="basecamp_8cpp_source.html#l00464">reset_camp_resources()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04151">salt_water_pipe_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04060">salt_water_pipe_swamp_return()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l03875">upgrade_return()</a>.</p>

</div>
</div>
<a id="af25512a9a77bf712b5b13be8cb4c4300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af25512a9a77bf712b5b13be8cb4c4300">&#9670;&nbsp;</a></span>upgrade_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::upgrade_return </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmission__id.html">mission_id</a> &amp;&#160;</td>
          <td class="paramname"><em>miss_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called to close upgrade missions, miss is the name of the mission id and dir is the direction of the location to be upgraded. </p>

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l03875">3875</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;{</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> dir = miss_id.<a class="code" href="structmission__id.html#a311e8257bc9b3772e01e7acfa77fce26">dir</a>.value();  <span class="comment">//  Will always have a value</span></div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;    <span class="keyword">const</span> std::string bldg = miss_id.<a class="code" href="structmission__id.html#a26953b0df01b73f23af4baaddb98e746">parameters</a>.empty() ? <a class="code" href="classbasecamp.html#a91a411d614d10dc5c507058518613740">next_upgrade</a>( dir, 1 ) : miss_id.parameters;</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;    <span class="keywordflow">if</span>( bldg == <span class="stringliteral">&quot;null&quot;</span> ) {</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;    }</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160; </div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;    <span class="keyword">auto</span> e = <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.find( dir );</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;    <span class="keywordflow">if</span>( e == <a class="code" href="classbasecamp.html#a0895effe7b204127266c9439fa3dbf01">expansions</a>.end() ) {</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;    }</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> upos = e-&gt;second.pos;</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;    <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;making = *<a class="code" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( bldg );</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160; </div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;    <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> npc_list = <a class="code" href="classbasecamp.html#ae8de3b4b3dcff471756188647b68fc92">get_mission_workers</a>( miss_id );</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;    <span class="keywordflow">if</span>( npc_list.empty() ) {</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;    }</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160; </div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;    std::string <a class="code" href="namespacetalk__function.html#ae404e058d5ee712965b9f4ed40fec3e8">companion_list</a>;</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> &amp;comp : npc_list ) {</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;        <span class="keywordflow">if</span>( comp != npc_list[0] ) {</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;            <a class="code" href="namespacetalk__function.html#ae404e058d5ee712965b9f4ed40fec3e8">companion_list</a> += <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;        }</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;        <a class="code" href="namespacetalk__function.html#ae404e058d5ee712965b9f4ed40fec3e8">companion_list</a> += comp-&gt;disp_name();</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;    }</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160; </div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;    <span class="keywordtype">bool</span> mirror_horizontal;</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;    <span class="keywordtype">bool</span> mirror_vertical;</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;    <span class="keywordtype">int</span> rotation;</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160; </div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="faction__camp_8cpp.html#a4eef6392cb6826d17c71efef1e00e61a">extract_and_check_orientation_flags</a>( making.<a class="code" href="classrecipe.html#aa75469c5d2213a774931a5abf668a9dc">ident</a>(),</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;            dir,</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;            mirror_horizontal,</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;            mirror_vertical,</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;            rotation,</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;            <span class="stringliteral">&quot;%s failed to build the %s upgrade&quot;</span>,</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;            <a class="code" href="namespacetalk__function.html#ae404e058d5ee712965b9f4ed40fec3e8">companion_list</a> ) ) {</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;    }</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160; </div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;    <span class="keywordflow">if</span>( making.<a class="code" href="classrecipe.html#a4aed0efd87df1fbcc7c67bcb2ca14005">get_blueprint</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() == <a class="code" href="faction__camp_8cpp.html#a335794f4a5cb0da4e3d56d97b94642a8">faction_expansion_salt_water_pipe_swamp_N</a> ) {</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#ac3a517b4b692a7f5d2a3876595785a06">salt_water_pipe_swamp_return</a>( miss_id, npc_list );</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( making.<a class="code" href="classrecipe.html#a4aed0efd87df1fbcc7c67bcb2ca14005">get_blueprint</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() == <a class="code" href="faction__camp_8cpp.html#a7937e40ba0e98e4562287788be7dd431">faction_expansion_salt_water_pipe_N</a> ) {</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#af9b85f55f5f955ae67b5d98fcd2a5b32">salt_water_pipe_return</a>( miss_id, npc_list );</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;    }</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160; </div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="mapgen_8cpp.html#a6a25dca035599e6f281495d39d0768a6">run_mapgen_update_func</a>( making.<a class="code" href="classrecipe.html#a4aed0efd87df1fbcc7c67bcb2ca14005">get_blueprint</a>(), upos, miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a>, <span class="keyword">nullptr</span>, <span class="keyword">true</span>,</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;                                 mirror_horizontal, mirror_vertical, rotation ) ) {</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s failed to build the %s upgrade, perhaps there is a vehicle in the way.&quot;</span> ),</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;               <a class="code" href="namespacetalk__function.html#ae404e058d5ee712965b9f4ed40fec3e8">companion_list</a>,</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;               making.<a class="code" href="classrecipe.html#a4aed0efd87df1fbcc7c67bcb2ca14005">get_blueprint</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;    }</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160; </div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;    <a class="code" href="mapgen_8cpp.html#a3f043a26f6795bdf1cdffc73134bce33">apply_construction_marker</a>( making.<a class="code" href="classrecipe.html#a4aed0efd87df1fbcc7c67bcb2ca14005">get_blueprint</a>(), upos,</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;                               miss_id.<a class="code" href="structmission__id.html#a06a466a1249ca25fd2892efd769ebc5b">mapgen_args</a>, mirror_horizontal,</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;                               mirror_vertical, rotation, <span class="keyword">false</span> );</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160; </div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;    <a class="code" href="classbasecamp.html#adb18f0e442ddb5df1ad80622382833df">update_provides</a>( bldg, e-&gt;second );</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;    <a class="code" href="classbasecamp.html#a38f564976b4c46a367b94d683c508f3b">update_resources</a>( bldg );</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="type__id_8h.html#a62a00ee11c034c0eaf855dc51bf92337">oter_str_id</a>( bldg ).<a class="code" href="classbasecamp.html#a3a97495a2d8dc70dd6395679d75dd7ab">is_valid</a>() ) {</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;        <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ac1827a678e822c8c9d1d4cae79b032c7">ter_set</a>( upos, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a7a31b1ffae29e9cf34557c69b2026056">oter_id</a>( bldg ) );</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;    }</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;    <span class="keyword">const</span> std::string msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;returns from upgrading the camp having earned a bit of &quot;</span></div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;                               <span class="stringliteral">&quot;experience&quot;</span> );</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160; </div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> &amp;comp : npc_list ) {</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;        <a class="code" href="classbasecamp.html#aa59dbea7eb265132eeb3ba88767ccbcc">finish_return</a>( *comp, <span class="keyword">false</span>, msg, <span class="stringliteral">&quot;construction&quot;</span>, making.<a class="code" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a> );</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;    }</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160; </div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_ac3a517b4b692a7f5d2a3876595785a06"><div class="ttname"><a href="classbasecamp.html#ac3a517b4b692a7f5d2a3876595785a06">basecamp::salt_water_pipe_swamp_return</a></div><div class="ttdeci">bool salt_water_pipe_swamp_return(const mission_id &amp;miss_id, const comp_list &amp;npc_list)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04060">faction_camp.cpp:4060</a></div></div>
<div class="ttc" id="aclassbasecamp_html_af9b85f55f5f955ae67b5d98fcd2a5b32"><div class="ttname"><a href="classbasecamp.html#af9b85f55f5f955ae67b5d98fcd2a5b32">basecamp::salt_water_pipe_return</a></div><div class="ttdeci">bool salt_water_pipe_return(const mission_id &amp;miss_id, const comp_list &amp;npc_list)</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l04151">faction_camp.cpp:4151</a></div></div>
<div class="ttc" id="anamespacetalk__function_html_ae404e058d5ee712965b9f4ed40fec3e8"><div class="ttname"><a href="namespacetalk__function.html#ae404e058d5ee712965b9f4ed40fec3e8">talk_function::companion_list</a></div><div class="ttdeci">comp_list companion_list(const npc &amp;p, const mission_id &amp;miss_id, bool contains=false)</div><div class="ttdoc">Returns npcs that have the given companion mission.</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8cpp_source.html#l02493">mission_companion.cpp:2493</a></div></div>
<div class="ttc" id="atype__id_8h_html_a62a00ee11c034c0eaf855dc51bf92337"><div class="ttname"><a href="type__id_8h.html#a62a00ee11c034c0eaf855dc51bf92337">oter_str_id</a></div><div class="ttdeci">string_id&lt; oter_t &gt; oter_str_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00189">type_id.h:189</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="mapgen_8cpp_source.html#l07960">apply_construction_marker()</a>, <a class="el" href="mission__companion_8cpp_source.html#l02493">talk_function::companion_list()</a>, <a class="el" href="recipe_8h_source.html#l00133">recipe::difficulty</a>, <a class="el" href="mission__companion_8h_source.html#l00107">mission_id::dir</a>, <a class="el" href="character_8cpp_source.html#l00829">Character::disp_name()</a>, <a class="el" href="basecamp_8h_source.html#l00493">expansions</a>, <a class="el" href="faction__camp_8cpp_source.html#l00542">extract_and_check_orientation_flags()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00344">faction_expansion_salt_water_pipe_N</a>, <a class="el" href="faction__camp_8cpp_source.html#l00338">faction_expansion_salt_water_pipe_swamp_N</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>, <a class="el" href="recipe_8cpp_source.html#l01351">recipe::get_blueprint()</a>, <a class="el" href="basecamp_8cpp_source.html#l00597">get_mission_workers()</a>, <a class="el" href="recipe_8h_source.html#l00155">recipe::ident()</a>, <a class="el" href="basecamp_8h_source.html#l00166">is_valid()</a>, <a class="el" href="mission__companion_8h_source.html#l00106">mission_id::mapgen_args</a>, <a class="el" href="basecamp_8cpp_source.html#l00265">next_upgrade()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a7a31b1ffae29e9cf34557c69b2026056">oter_id</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>, <a class="el" href="mission__companion_8h_source.html#l00105">mission_id::parameters</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="mapgen_8cpp_source.html#l07925">run_mapgen_update_func()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04151">salt_water_pipe_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04060">salt_water_pipe_swamp_return()</a>, <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00796">overmapbuffer::ter_set()</a>, <a class="el" href="basecamp_8cpp_source.html#l00429">update_provides()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00417">update_resources()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<a id="aba023ca60803f222b7b71581c908c6d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba023ca60803f222b7b71581c908c6d2">&#9670;&nbsp;</a></span>use_charges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="classitem.html">item</a> &gt; basecamp::use_charges </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>fake_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>quantity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00645">645</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;{</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    std::list&lt;item&gt; <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">if</span>( quantity &lt;= 0 ) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structbasecamp__resource.html">basecamp_resource</a> &amp;bcp_r : <a class="code" href="classbasecamp.html#a9aa80ec0bbae71687ace4150b5896ff8">resources</a> ) {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keywordflow">if</span>( bcp_r.fake_id == fake_id ) {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <a class="code" href="classitem.html">item</a> camp_item( bcp_r.fake_id, <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> );</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            camp_item.charges = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( bcp_r.available, quantity );</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            quantity -= camp_item.charges;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            bcp_r.available -= camp_item.charges;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            bcp_r.consumed += camp_item.charges;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.push_back( camp_item );</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="keywordflow">if</span>( quantity &lt;= 0 ) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;}</div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l03133">item::charges</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="basecamp_8h_source.html#l00503">resources</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="calendar_8h_source.html#l00541">calendar::turn_zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l06084">map::use_charges()</a>.</p>

</div>
</div>
<a id="aaabb991fdf80cf5ad1c2eb38b2b6ab84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaabb991fdf80cf5ad1c2eb38b2b6ab84">&#9670;&nbsp;</a></span>validate_assignees()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::validate_assignees </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00522">522</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;{</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    std::vector&lt;npc_ptr&gt;::iterator iter = <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.begin();</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">while</span>( iter != <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.end() ) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keywordflow">if</span>( !( *iter ) || !( *iter )-&gt;assigned_camp || *( *iter )-&gt;assigned_camp != <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a> ) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            iter = <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.erase( iter );</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            ++iter;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classcharacter__id.html">character_id</a> elem : <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_follower_list() ) {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <a class="code" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a> npc_to_add = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#abe3397983bdf2419ede84ee43bdf587f">find_npc</a>( elem );</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keywordflow">if</span>( !npc_to_add ) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">if</span>( std::find( <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.begin(), <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.end(), npc_to_add ) != <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.end() ) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <span class="keywordflow">if</span>( npc_to_add-&gt;assigned_camp &amp;&amp; *npc_to_add-&gt;assigned_camp == <a class="code" href="classbasecamp.html#aa23443799ab9ae6cbe7cda89fb13abaf">omt_pos</a> ) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.push_back( npc_to_add );</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="comment">// remove duplicates - for legacy handling.</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    std::sort( <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.begin(), <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.end() );</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keyword">auto</span> <a class="code" href="achievement_8cpp.html#a89b60f534d269451d6fdb9be657dcb09a98bd1c45684cf587ac2347a92dd7bb51">last</a> = std::unique( <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.begin(), <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.end() );</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.erase( <a class="code" href="achievement_8cpp.html#a89b60f534d269451d6fdb9be657dcb09a98bd1c45684cf587ac2347a92dd7bb51">last</a>, <a class="code" href="classbasecamp.html#a949421e716da966146e99e746144d180">assigned_npcs</a>.end() );</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;}</div>
<div class="ttc" id="aachievement_8cpp_html_a89b60f534d269451d6fdb9be657dcb09a98bd1c45684cf587ac2347a92dd7bb51"><div class="ttname"><a href="achievement_8cpp.html#a89b60f534d269451d6fdb9be657dcb09a98bd1c45684cf587ac2347a92dd7bb51">requirement_visibility::last</a></div><div class="ttdeci">@ last</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00490">assigned_npcs</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01234">overmapbuffer::find_npc()</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="achievement_8cpp.html#a89b60f534d269451d6fdb9be657dcb09a98bd1c45684cf587ac2347a92dd7bb51">last</a>, <a class="el" href="basecamp_8h_source.html#l00489">omt_pos</a>, and <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l02158">abandon_camp()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00430">talk_function::assign_camp()</a>, <a class="el" href="iexamine_8cpp_source.html#l01971">iexamine::bulletin_board()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">finish_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01393">get_available_missions()</a>, <a class="el" href="basecamp_8cpp_source.html#l00551">get_npcs_assigned()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02326">job_assignment_ui()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l02232">worker_assignment_ui()</a>.</p>

</div>
</div>
<a id="a9aeca574216eb4715b478f9349185bab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aeca574216eb4715b478f9349185bab">&#9670;&nbsp;</a></span>validate_bb_pos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::validate_bb_pos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>new_abs_pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00184">184</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                                            {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classbasecamp.html#a0dc4ec3c6a2dc8c59a46364c6df93525">bb_pos</a> == <a class="code" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a> ) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <a class="code" href="classbasecamp.html#a0dc4ec3c6a2dc8c59a46364c6df93525">bb_pos</a> = new_abs_pos;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        }</div>
<div class="ttc" id="apoint_8h_html_a4b1a6bcaa42d2c06ecc3afc63305bfdf"><div class="ttname"><a href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></div><div class="ttdeci">constexpr tripoint tripoint_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00250">point.h:250</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00492">bb_pos</a>, and <a class="el" href="point_8h_source.html#l00250">tripoint_zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="iexamine_8cpp_source.html#l01971">iexamine::bulletin_board()</a>.</p>

</div>
</div>
<a id="af444c9325e40cf302418a1566abdb4e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af444c9325e40cf302418a1566abdb4e2">&#9670;&nbsp;</a></span>validate_sort_points()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::validate_sort_points </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l05288">5288</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;{</div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;    <a class="code" href="classzone__manager.html">zone_manager</a> &amp;mgr = <a class="code" href="classzone__manager.html#a54609d51d21bd8f370ee8b59525eb750">zone_manager::get_manager</a>();</div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;    <a class="code" href="classmap.html">map</a> *here = &amp;<a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> abspos = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>();</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;    <span class="keywordflow">if</span>( !mgr.<a class="code" href="classzone__manager.html#aff01780bd615c3b526e071efdce01b70">has_near</a>( <a class="code" href="faction__camp_8cpp.html#afdfa0c2d2f3924a26f2adf2560b94eae">zone_type_CAMP_STORAGE</a>, abspos, 60 ) ||</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;        !mgr.<a class="code" href="classzone__manager.html#aff01780bd615c3b526e071efdce01b70">has_near</a>( <a class="code" href="faction__camp_8cpp.html#a51ebb91062b74a92f01598039b6b4a46">zone_type_CAMP_FOOD</a>, abspos, 60 ) ) {</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You do not have sufficient sort zones.  Do you want to add them?&quot;</span> ) ) ) {</div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classbasecamp.html#ac47cef787a568e256539140923ea2502">set_sort_points</a>();</div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;        }</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;        <a class="code" href="classbasecamp.html#aa5035a6fb7b72c1b5897689fbd7f3d28">form_storage_zones</a>( *here, abspos );</div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;    }</div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp_html_ac47cef787a568e256539140923ea2502"><div class="ttname"><a href="classbasecamp.html#ac47cef787a568e256539140923ea2502">basecamp::set_sort_points</a></div><div class="ttdeci">bool set_sort_points()</div><div class="ttdoc">Invokes the zone manager and validates that the necessary sort zones exist.</div><div class="ttdef"><b>Definition:</b> <a href="faction__camp_8cpp_source.html#l05306">faction_camp.cpp:5306</a></div></div>
<div class="ttc" id="afaction__camp_8cpp_html_afdfa0c2d2f3924a26f2adf2560b94eae"><div class="ttname"><a href="faction__camp_8cpp.html#afdfa0c2d2f3924a26f2adf2560b94eae">zone_type_CAMP_STORAGE</a></div><div class="ttdeci">static const zone_type_id zone_type_CAMP_STORAGE(&quot;CAMP_STORAGE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="basecamp_8cpp_source.html#l00666">form_storage_zones()</a>, <a class="el" href="creature_8cpp_source.html#l03232">Creature::get_location()</a>, <a class="el" href="clzones_8h_source.html#l00550">zone_manager::get_manager()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="clzones_8cpp_source.html#l01011">zone_manager::has_near()</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05306">set_sort_points()</a>, <a class="el" href="faction__camp_8cpp.html#a51ebb91062b74a92f01598039b6b4a46">zone_type_CAMP_FOOD</a>, and <a class="el" href="faction__camp_8cpp.html#afdfa0c2d2f3924a26f2adf2560b94eae">zone_type_CAMP_STORAGE</a>.</p>

<p class="reference">Referenced by <a class="el" href="iexamine_8cpp_source.html#l01971">iexamine::bulletin_board()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05676">distribute_food()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05306">set_sort_points()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l02468">start_menial_labor()</a>.</p>

</div>
</div>
<a id="a727e961f24b5096c2e65c4462a3a650d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a727e961f24b5096c2e65c4462a3a650d">&#9670;&nbsp;</a></span>worker_assignment_ui()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp::worker_assignment_ui </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction__camp_8cpp_source.html#l02232">2232</a> of file <a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;{</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <span class="keywordtype">int</span> entries_per_page = 0;</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> w_followers;</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160; </div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <a class="code" href="classui__adaptor.html">ui_adaptor</a> <a class="code" href="namespaceui.html">ui</a>;</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.on_screen_resize( [&amp;]( <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;        <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> term( <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> &gt; <a class="code" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> ? ( <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> - <a class="code" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> ) / 2 : 0,</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;                          <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> &gt; <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> ? ( <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> ) / 2 : 0 );</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160; </div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;        w_followers = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a>, <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a>,</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;                                          <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( term.y, term.x ) );</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;        entries_per_page = <a class="code" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> - 5;</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160; </div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;        <a class="code" href="namespaceui.html">ui</a>.position_from_window( w_followers );</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    } );</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160; </div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;    <span class="keywordtype">size_t</span> selection = 0;</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;    <a class="code" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;FACTION_MANAGER&quot;</span> );</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;INSPECT_NPC&quot;</span> );</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;    ctxt.register_navigate_ui_list();</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;CONFIRM&quot;</span> );</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> );</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    <a class="code" href="classbasecamp.html#aaabb991fdf80cf5ad1c2eb38b2b6ab84">validate_assignees</a>();</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;validate_npc_followers();</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160; </div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    std::vector&lt;npc *&gt; followers;</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    <a class="code" href="classnpc.html">npc</a> *cur_npc = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160; </div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.on_redraw( [&amp;]( <span class="keyword">const</span> <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_followers );</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160; </div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;        <span class="comment">// entries_per_page * page number</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">size_t</span> top_of_page = entries_per_page * ( selection / entries_per_page );</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160; </div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> - 2; i++ ) {</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w_followers, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 45, i ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> );</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        }</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;        <a class="code" href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a>( w_followers );</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;        <span class="keyword">const</span> <a class="code" href="classnc__color.html">nc_color</a> col = <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>;</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;        <span class="keyword">const</span> std::string no_npcs = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You have no companions following you.&quot;</span> );</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;        <span class="keywordflow">if</span>( !followers.empty() ) {</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;            <a class="code" href="output_8cpp.html#a37db5c581b2a20faa11b14164de305df">draw_scrollbar</a>( w_followers, selection, entries_per_page, followers.size(),</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;                            <a class="code" href="structpoint.html">point</a>( 0, 3 ) );</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = top_of_page; i &lt; followers.size(); i++ ) {</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> y = i - top_of_page + 3;</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;                <a class="code" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( w_followers, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, y ), 43, selection == i ? <a class="code" href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a>( col ) : col,</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;                                followers[i]-&gt;disp_name() );</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;            }</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_followers, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, 4 ), <a class="code" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>, no_npcs );</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;        }</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_followers, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, <a class="code" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> - 2 ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;                   <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Press %s to inspect this follower.&quot;</span> ), ctxt.get_desc( <span class="stringliteral">&quot;INSPECT_NPC&quot;</span> ) );</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_followers, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, <a class="code" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> - 1 ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;                   <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Press %s to assign this follower to this camp.&quot;</span> ), ctxt.get_desc( <span class="stringliteral">&quot;CONFIRM&quot;</span> ) );</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_followers );</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    } );</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160; </div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;        <span class="comment">// create a list of npcs stationed at this camp</span></div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;        followers.clear();</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classcharacter__id.html">character_id</a> &amp;elem : <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_follower_list() ) {</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;            <a class="code" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;npc&gt;</a> npc_to_get = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#abe3397983bdf2419ede84ee43bdf587f">find_npc</a>( elem );</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;            <span class="keywordflow">if</span>( !npc_to_get || !npc_to_get-&gt;is_following() || npc_to_get-&gt;is_hallucination() ) {</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;            }</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;            <a class="code" href="classnpc.html">npc</a> *npc_to_add = npc_to_get.get();</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;            followers.push_back( npc_to_add );</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;        }</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;        cur_npc = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;        <span class="keywordflow">if</span>( !followers.empty() ) {</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;            cur_npc = followers[selection];</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;        }</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160; </div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;        <a class="code" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;        <span class="keyword">const</span> std::string <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = ctxt.handle_input();</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;INSPECT_NPC&quot;</span> ) {</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;            <span class="keywordflow">if</span>( cur_npc ) {</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;                cur_npc-&gt;<a class="code" href="classCharacter.html#af5c5e43841a3f4bfbb4fa458edc14275">disp_info</a>();</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;            }</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="ui_8cpp.html#a30f314df91df066807f8f0e735ada959">navigate_ui_list</a>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>, selection, 5, followers.size(), <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CONFIRM&quot;</span> ) {</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;            <span class="keywordflow">if</span>( !followers.empty() &amp;&amp; cur_npc ) {</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;                <a class="code" href="namespacetalk__function.html#ab81e5fda24cca7cc77fd85ccd9499e46">talk_function::assign_camp</a>( *cur_npc );</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;            }</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;        }</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    }</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;}</div>
<div class="ttc" id="anamespacetalk__function_html_ab81e5fda24cca7cc77fd85ccd9499e46"><div class="ttname"><a href="namespacetalk__function.html#ab81e5fda24cca7cc77fd85ccd9499e46">talk_function::assign_camp</a></div><div class="ttdeci">void assign_camp(npc &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk__funcs_8cpp_source.html#l00430">npctalk_funcs.cpp:430</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="dialogue_8h_source.html#l00043">action</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00430">talk_function::assign_camp()</a>, <a class="el" href="output_8h_source.html#l00098">BORDER_COLOR</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00025">c_light_red</a>, <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="player__display_8cpp_source.html#l01534">Character::disp_info()</a>, <a class="el" href="output_8cpp_source.html#l00688">draw_border()</a>, <a class="el" href="output_8cpp_source.html#l01704">draw_scrollbar()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01234">overmapbuffer::find_npc()</a>, <a class="el" href="output_8cpp_source.html#l00058">FULL_SCREEN_HEIGHT</a>, <a class="el" href="output_8cpp_source.html#l00057">FULL_SCREEN_WIDTH</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="input__context_8cpp_source.html#l00269">input_context::get_desc()</a>, <a class="el" href="input__context_8cpp_source.html#l00427">input_context::handle_input()</a>, <a class="el" href="color_8cpp_source.html#l00546">hilite()</a>, <a class="el" href="output_8h_source.html#l00046">LINE_XOXO</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="output_8cpp_source.html#l00590">mvwputch()</a>, <a class="el" href="ui_8cpp_source.html#l01421">navigate_ui_list()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00058">catacurses::newwin()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="ui__manager_8cpp_source.html#l00504">ui_manager::redraw()</a>, <a class="el" href="input__context_8cpp_source.html#l00180">input_context::register_action()</a>, <a class="el" href="input__context_8cpp_source.html#l00519">input_context::register_navigate_ui_list()</a>, <a class="el" href="output_8cpp_source.html#l00049">TERMX</a>, <a class="el" href="output_8cpp_source.html#l00050">TERMY</a>, <a class="el" href="output_8cpp_source.html#l00268">trim_and_print()</a>, <a class="el" href="basecamp_8cpp_source.html#l00522">validate_assignees()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00083">catacurses::werase()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a439f7165020e5071db6fd8ceb9ea9f4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a439f7165020e5071db6fd8ceb9ea9f4d">&#9670;&nbsp;</a></span>basecamp_action_components</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classbasecamp__action__components.html">basecamp_action_components</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00479">479</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a74acb873cc584c649a8b4aedac8efdca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74acb873cc584c649a8b4aedac8efdca">&#9670;&nbsp;</a></span>_inv</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> basecamp::_inv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00505">505</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00771">add_available_recipes()</a>, <a class="el" href="basecamp_8cpp_source.html#l00322">available_upgrades()</a>, <a class="el" href="basecamp_8cpp_source.html#l00877">basecamp_action_components::choose_components()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05364">craft_description()</a>, <a class="el" href="basecamp_8cpp_source.html#l00708">form_crafting_inventory()</a>, <a class="el" href="basecamp_8cpp_source.html#l00219">om_upgrade_description()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04677">recipe_batch_max()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03490">start_crafting()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02811">start_fortifications()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l02084">start_upgrade()</a>.</p>

</div>
</div>
<a id="a949421e716da966146e99e746144d180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a949421e716da966146e99e746144d180">&#9670;&nbsp;</a></span>assigned_npcs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="basecamp_8h.html#aa2838647b026e305ac396622371b828e">npc_ptr</a>&gt; basecamp::assigned_npcs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00490">490</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00499">add_assignee()</a>, <a class="el" href="basecamp_8cpp_source.html#l00551">get_npcs_assigned()</a>, <a class="el" href="basecamp_8cpp_source.html#l00510">remove_assignee()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00522">validate_assignees()</a>.</p>

</div>
</div>
<a id="a0dc4ec3c6a2dc8c59a46364c6df93525"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dc4ec3c6a2dc8c59a46364c6df93525">&#9670;&nbsp;</a></span>bb_pos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtripoint.html">tripoint</a> basecamp::bb_pos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00492">492</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8h_source.html#l00169">board_x()</a>, <a class="el" href="basecamp_8h_source.html#l00172">board_y()</a>, <a class="el" href="basecamp_8cpp_source.html#l00666">form_storage_zones()</a>, <a class="el" href="basecamp_8h_source.html#l00181">get_bb_pos()</a>, <a class="el" href="basecamp_8cpp_source.html#l00860">load_data()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05964">place_results()</a>, <a class="el" href="basecamp_8h_source.html#l00189">set_bb_pos()</a>, and <a class="el" href="basecamp_8h_source.html#l00184">validate_bb_pos()</a>.</p>

</div>
</div>
<a id="ac74df444febf86c4bef85f88f2d94d65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac74df444febf86c4bef85f88f2d94d65">&#9670;&nbsp;</a></span>by_radio</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp::by_radio = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00506">506</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00877">basecamp_action_components::choose_components()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01393">get_available_missions()</a>, <a class="el" href="basecamp_8cpp_source.html#l00790">get_camp_map()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00145">set_by_radio()</a>.</p>

</div>
</div>
<a id="ac6de0d0880ef088a0beceaf4fbf2d861"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6de0d0880ef088a0beceaf4fbf2d861">&#9670;&nbsp;</a></span>camp_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbasecamp__map.html">basecamp_map</a> basecamp::camp_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00495">495</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00790">get_camp_map()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00802">unload_camp_map()</a>.</p>

</div>
</div>
<a id="aef86b8776b43f65a60a0af1871dc2884"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef86b8776b43f65a60a0af1871dc2884">&#9670;&nbsp;</a></span>camp_workers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> basecamp::camp_workers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00494">494</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01393">get_available_missions()</a>, <a class="el" href="basecamp_8cpp_source.html#l00597">get_mission_workers()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00488">reset_camp_workers()</a>.</p>

</div>
</div>
<a id="aa031c294bd423a1b1445f96b930b55f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa031c294bd423a1b1445f96b930b55f2">&#9670;&nbsp;</a></span>directions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structpoint.html">point</a>&gt; basecamp::directions</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00195">195</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00165">add_expansion()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01393">get_available_missions()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l05390">recruit_evaluation()</a>.</p>

</div>
</div>
<a id="ab4ba9e037b763ac9cb5d0aaf0ede847c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4ba9e037b763ac9cb5d0aaf0ede847c">&#9670;&nbsp;</a></span>dumping_spot</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> basecamp::dumping_spot</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00496">496</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8h_source.html#l00302">get_dumping_spot()</a>, <a class="el" href="basecamp_8h_source.html#l00309">set_dumping_spot()</a>, and <a class="el" href="basecamp_8h_source.html#l00312">set_liquid_dumping_spot()</a>.</p>

</div>
</div>
<a id="a0895effe7b204127266c9439fa3dbf01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0895effe7b204127266c9439fa3dbf01">&#9670;&nbsp;</a></span>expansions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="structpoint.html">point</a>, <a class="el" href="structexpansion__data.html">expansion_data</a>&gt; basecamp::expansions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00493">493</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00165">add_expansion()</a>, <a class="el" href="basecamp_8cpp_source.html#l00322">available_upgrades()</a>, <a class="el" href="basecamp_8cpp_source.html#l00190">define_camp()</a>, <a class="el" href="basecamp_8cpp_source.html#l00834">expansion_tab()</a>, <a class="el" href="basecamp_8cpp_source.html#l00708">form_crafting_inventory()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01393">get_available_missions()</a>, <a class="el" href="basecamp_8cpp_source.html#l00298">has_provides()</a>, <a class="el" href="basecamp_8cpp_source.html#l00265">next_upgrade()</a>, <a class="el" href="basecamp_8cpp_source.html#l00852">point_within_camp()</a>, <a class="el" href="basecamp_8cpp_source.html#l00388">recipe_deck()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05390">recruit_evaluation()</a>, <a class="el" href="basecamp_8cpp_source.html#l00464">reset_camp_resources()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04151">salt_water_pipe_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04060">salt_water_pipe_swamp_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02182">scan_pseudo_items()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03239">start_salt_water_pipe()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02084">start_upgrade()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04425">survey_field_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04502">survey_return()</a>, <a class="el" href="basecamp_8cpp_source.html#l00444">update_in_progress()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l03875">upgrade_return()</a>.</p>

</div>
</div>
<a id="a6faf0213165ad5b7b2d8f06317833c15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6faf0213165ad5b7b2d8f06317833c15">&#9670;&nbsp;</a></span>fortifications</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>&gt; basecamp::fortifications</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00197">197</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l04038">fortifications_return()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l02811">start_fortifications()</a>.</p>

</div>
</div>
<a id="a04ac834378079016f7b65abc2236c13d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04ac834378079016f7b65abc2236c13d">&#9670;&nbsp;</a></span>fuel_types</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>&gt; basecamp::fuel_types</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00501">501</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00407">add_resource()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00708">form_crafting_inventory()</a>.</p>

</div>
</div>
<a id="a1669371ffad28eca6681ba28598bd704"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1669371ffad28eca6681ba28598bd704">&#9670;&nbsp;</a></span>fuels</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structbasecamp__fuel.html">basecamp_fuel</a>&gt; basecamp::fuels</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00502">502</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00708">form_crafting_inventory()</a>.</p>

</div>
</div>
<a id="a94cf9a27ff09dafc3b40eaa5f8844560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94cf9a27ff09dafc3b40eaa5f8844560">&#9670;&nbsp;</a></span>hidden_missions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;<a class="el" href="structui__mission__id.html">ui_mission_id</a>&gt; &gt; basecamp::hidden_missions</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00196">196</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00787">get_available_missions_by_dir()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05908">handle_hide_mission()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05880">handle_reveal_mission()</a>, <a class="el" href="basecamp_8cpp_source.html#l00557">hide_mission()</a>, <a class="el" href="basecamp_8cpp_source.html#l00581">is_hidden()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00568">reveal_mission()</a>.</p>

</div>
</div>
<a id="ac8708d7cbd1043ee22080c9e4e31606c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8708d7cbd1043ee22080c9e4e31606c">&#9670;&nbsp;</a></span>liquid_dumping_spots</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>&gt; basecamp::liquid_dumping_spots</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00498">498</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8h_source.html#l00305">get_liquid_dumping_spot()</a>, and <a class="el" href="basecamp_8h_source.html#l00312">set_liquid_dumping_spot()</a>.</p>

</div>
</div>
<a id="a2995473daa7257a33d3412e6e5a08efb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2995473daa7257a33d3412e6e5a08efb">&#9670;&nbsp;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string basecamp::name</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00199">199</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l02158">abandon_camp()</a>, <a class="el" href="basecamp_8cpp_source.html#l00139">board_name()</a>, <a class="el" href="basecamp_8h_source.html#l00178">camp_name()</a>, <a class="el" href="basecamp_8h_source.html#l00166">is_valid()</a>, <a class="el" href="basecamp_8cpp_source.html#l00860">load_data()</a>, <a class="el" href="basecamp_8cpp_source.html#l00611">query_new_name()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04270">recruit_return()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00636">set_name()</a>.</p>

</div>
</div>
<a id="aa23443799ab9ae6cbe7cda89fb13abaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa23443799ab9ae6cbe7cda89fb13abaf">&#9670;&nbsp;</a></span>omt_pos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> basecamp::omt_pos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00489">489</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l02158">abandon_camp()</a>, <a class="el" href="basecamp_8cpp_source.html#l00499">add_assignee()</a>, <a class="el" href="basecamp_8cpp_source.html#l00165">add_expansion()</a>, <a class="el" href="basecamp_8h_source.html#l00175">camp_omt_pos()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03748">companion_choose_return()</a>, <a class="el" href="basecamp_8cpp_source.html#l00190">define_camp()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03840">emergency_recall()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04595">farm_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01393">get_available_missions()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00787">get_available_missions_by_dir()</a>, <a class="el" href="basecamp_8cpp_source.html#l00790">get_camp_map()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01716">handle_mission()</a>, <a class="el" href="basecamp_8h_source.html#l00166">is_valid()</a>, <a class="el" href="basecamp_8cpp_source.html#l00488">reset_camp_workers()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02182">scan_pseudo_items()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02602">start_clearcut()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03461">start_combat_mission()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02563">start_cut_logs()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02811">start_fortifications()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01975">start_mission()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02022">start_multi_mission()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02686">start_relay_hide_site()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03239">start_salt_water_pipe()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02637">start_setup_hide_site()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04425">survey_field_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04502">survey_return()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00522">validate_assignees()</a>.</p>

</div>
</div>
<a id="a79b673b1c90a7f62c6fd6dd0658b76bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79b673b1c90a7f62c6fd6dd0658b76bf">&#9670;&nbsp;</a></span>owner</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basecamp_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> basecamp::owner = <a class="el" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">faction_id::NULL_ID</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00482">482</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l00664">fac()</a>, <a class="el" href="basecamp_8cpp_source.html#l00821">get_owner()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00809">set_owner()</a>.</p>

</div>
</div>
<a id="a9aa80ec0bbae71687ace4150b5896ff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aa80ec0bbae71687ace4150b5896ff8">&#9670;&nbsp;</a></span>resources</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structbasecamp__resource.html">basecamp_resource</a>&gt; basecamp::resources</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00503">503</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00407">add_resource()</a>, <a class="el" href="basecamp_8cpp_source.html#l00924">basecamp_action_components::consume_components()</a>, <a class="el" href="basecamp_8cpp_source.html#l00708">form_crafting_inventory()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00645">use_charges()</a>.</p>

</div>
</div>
<a id="a9465f218c84c5322a1709b420ce8c225"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9465f218c84c5322a1709b420ce8c225">&#9670;&nbsp;</a></span>salt_water_pipes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structexpansion__salt__water__pipe.html">expansion_salt_water_pipe</a> *&gt; basecamp::salt_water_pipes</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00198">198</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l03426">continue_salt_water_pipe()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04151">salt_water_pipe_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04060">salt_water_pipe_swamp_return()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l03239">start_salt_water_pipe()</a>.</p>

</div>
</div>
<a id="af79f4de8f8963115c179d1d0174b6115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af79f4de8f8963115c179d1d0174b6115">&#9670;&nbsp;</a></span>src_set</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_set&lt;<a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>&gt; basecamp::src_set</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00500">500</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00924">basecamp_action_components::consume_components()</a>, <a class="el" href="basecamp_8cpp_source.html#l00708">form_crafting_inventory()</a>, <a class="el" href="basecamp_8cpp_source.html#l00666">form_storage_zones()</a>, <a class="el" href="basecamp_8h_source.html#l00466">get_storage_tiles()</a>, <a class="el" href="basecamp_8h_source.html#l00470">set_storage_tiles()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l01975">start_mission()</a>.</p>

</div>
</div>
<a id="a56d78527800e3e52c36dadfcda71ed2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56d78527800e3e52c36dadfcda71ed2f">&#9670;&nbsp;</a></span>storage_zones</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;const <a class="el" href="classzone__data.html">zone_data</a> *&gt; basecamp::storage_zones</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00499">499</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00666">form_storage_zones()</a>, <a class="el" href="basecamp_8h_source.html#l00459">get_storage_zone()</a>, and <a class="el" href="basecamp_8h_source.html#l00463">set_storage_zone()</a>.</p>

</div>
</div>
<a id="af3d06822349589e739041ff9996ce78c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3d06822349589e739041ff9996ce78c">&#9670;&nbsp;</a></span>temp_ui_mission_keys</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;<a class="el" href="structui__mission__id.html">ui_mission_id</a>&gt; &gt; basecamp::temp_ui_mission_keys</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00504">504</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l01393">get_available_missions()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l05908">handle_hide_mission()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="basecamp_8h_source.html">basecamp.h</a></li>
<li>src/<a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a></li>
<li>src/<a class="el" href="faction_8cpp_source.html">faction.cpp</a></li>
<li>src/<a class="el" href="faction__camp_8cpp_source.html">faction_camp.cpp</a></li>
<li>src/<a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:35 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
