<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: generic_factory&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classgeneric__factory-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">generic_factory&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgeneric__factory_1_1T__has__handle__inheritance.html">T_has_handle_inheritance</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgeneric__factory_1_1T__has__handle__inheritance_3_01U_00_01std_1_1void__t_3_01T__has__hand00fe3b1d91fc6242e1ae2279d848edd1.html">T_has_handle_inheritance&lt; U, std::void_t&lt; T_has_handle_inheritance_t&lt; U &gt; &gt; &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory_1_1Version.html">Version</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper around <a class="el" href="classgeneric__factory.html#afc807b15c1016c7425d02caeaaa5cade">generic_factory::version</a>.  <a href="classgeneric__factory_1_1Version.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a6cc6885d3982d582a1b847e5c164f383"><td class="memTemplParams" colspan="2">template&lt;typename U &gt; </td></tr>
<tr class="memitem:a6cc6885d3982d582a1b847e5c164f383"><td class="memTemplItemLeft" align="right" valign="top">using&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a6cc6885d3982d582a1b847e5c164f383">T_has_handle_inheritance_t</a> = decltype(std::declval&lt; U &gt;().<a class="el" href="classgeneric__factory.html#ae434ad40173f2a5d274149d97cf16883">handle_inheritance</a>(std::declval&lt; const T &amp; &gt;(), std::declval&lt; const std::unordered_map&lt; std::string, T &gt; &amp; &gt;()))</td></tr>
<tr class="separator:a6cc6885d3982d582a1b847e5c164f383"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac81948054184724132ac12c4bf58619b"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#ac81948054184724132ac12c4bf58619b">~generic_factory</a> ()=default</td></tr>
<tr class="separator:ac81948054184724132ac12c4bf58619b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f633c95f6d60ef344753ed81facad1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a92f633c95f6d60ef344753ed81facad1">generic_factory</a> (const std::string &amp;<a class="el" href="classgeneric__factory.html#a00b41f19d8226b9cfae4976d937a07d7">type_name</a>, const std::string &amp;<a class="el" href="classgeneric__factory.html#a3f97491bc83df78228a7f47c313a72eb">id_member_name</a>=&quot;id&quot;, const std::string &amp;<a class="el" href="classgeneric__factory.html#a278bbb310d6cd8f2416ab06d5650b600">alias_member_name</a>=&quot;alias&quot;)</td></tr>
<tr class="separator:a92f633c95f6d60ef344753ed81facad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3600aee15d31185da6492fec81110b35"><td class="memTemplParams" colspan="2">template&lt;typename U  = T, std::enable_if_t&lt; T_has_handle_inheritance&lt; U &gt;::value &gt; *  = nullptr&gt; </td></tr>
<tr class="memitem:a3600aee15d31185da6492fec81110b35"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a3600aee15d31185da6492fec81110b35">handle_inheritance_on_T</a> (T &amp;def, const T &amp;copy_from)</td></tr>
<tr class="separator:a3600aee15d31185da6492fec81110b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3600aee15d31185da6492fec81110b35"><td class="memTemplParams" colspan="2">template&lt;typename U  = T, std::enable_if_t&lt;!T_has_handle_inheritance&lt; U &gt;::value &gt; *  = nullptr&gt; </td></tr>
<tr class="memitem:a3600aee15d31185da6492fec81110b35"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a3600aee15d31185da6492fec81110b35">handle_inheritance_on_T</a> (T &amp;def, const T &amp;copy_from)</td></tr>
<tr class="separator:a3600aee15d31185da6492fec81110b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae434ad40173f2a5d274149d97cf16883"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#ae434ad40173f2a5d274149d97cf16883">handle_inheritance</a> (T &amp;def, const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jo, const std::string &amp;src)</td></tr>
<tr class="memdesc:ae434ad40173f2a5d274149d97cf16883"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform JSON inheritance handling for <code>T def</code> and returns true if <a class="el" href="classJsonObject.html">JsonObject</a> is real.  <a href="classgeneric__factory.html#ae434ad40173f2a5d274149d97cf16883">More...</a><br /></td></tr>
<tr class="separator:ae434ad40173f2a5d274149d97cf16883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a188c69a1ec8af93cb8ffa4b656165cec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a188c69a1ec8af93cb8ffa4b656165cec">load</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jo, const std::string &amp;src)</td></tr>
<tr class="memdesc:a188c69a1ec8af93cb8ffa4b656165cec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load an object of type T with the data from the given JSON object.  <a href="classgeneric__factory.html#a188c69a1ec8af93cb8ffa4b656165cec">More...</a><br /></td></tr>
<tr class="separator:a188c69a1ec8af93cb8ffa4b656165cec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28acb5569ab205dd08d5e51a366f39ca"><td class="memItemLeft" align="right" valign="top">T &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a28acb5569ab205dd08d5e51a366f39ca">insert</a> (const T &amp;<a class="el" href="classgeneric__factory.html#a83fa4ecd92b558ac1b1a4250c7e61f43">obj</a>)</td></tr>
<tr class="memdesc:a28acb5569ab205dd08d5e51a366f39ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an object to the factory, without loading from JSON.  <a href="classgeneric__factory.html#a28acb5569ab205dd08d5e51a366f39ca">More...</a><br /></td></tr>
<tr class="separator:a28acb5569ab205dd08d5e51a366f39ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f6861a332883433117af88013e78300"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a0f6861a332883433117af88013e78300">finalize</a> ()</td></tr>
<tr class="memdesc:a0f6861a332883433117af88013e78300"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalize all entries (derived classes should chain to this method)  <a href="classgeneric__factory.html#a0f6861a332883433117af88013e78300">More...</a><br /></td></tr>
<tr class="separator:a0f6861a332883433117af88013e78300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab510000177bd0841ac2b3888ec0659e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#ab510000177bd0841ac2b3888ec0659e9">check</a> () const</td></tr>
<tr class="memdesc:ab510000177bd0841ac2b3888ec0659e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks loaded/inserted objects for consistency.  <a href="classgeneric__factory.html#ab510000177bd0841ac2b3888ec0659e9">More...</a><br /></td></tr>
<tr class="separator:ab510000177bd0841ac2b3888ec0659e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28cb2cc91b5bb273f041ab97fc5f755c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a28cb2cc91b5bb273f041ab97fc5f755c">size</a> () const</td></tr>
<tr class="memdesc:a28cb2cc91b5bb273f041ab97fc5f755c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of loaded objects.  <a href="classgeneric__factory.html#a28cb2cc91b5bb273f041ab97fc5f755c">More...</a><br /></td></tr>
<tr class="separator:a28cb2cc91b5bb273f041ab97fc5f755c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a3f2d756d54a48db03f1f95334919d1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a1a3f2d756d54a48db03f1f95334919d1">empty</a> () const</td></tr>
<tr class="memdesc:a1a3f2d756d54a48db03f1f95334919d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether factory is empty.  <a href="classgeneric__factory.html#a1a3f2d756d54a48db03f1f95334919d1">More...</a><br /></td></tr>
<tr class="separator:a1a3f2d756d54a48db03f1f95334919d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec0a5f6472294607c250b9692386d9e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#aec0a5f6472294607c250b9692386d9e1">reset</a> ()</td></tr>
<tr class="memdesc:aec0a5f6472294607c250b9692386d9e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all loaded objects.  <a href="classgeneric__factory.html#aec0a5f6472294607c250b9692386d9e1">More...</a><br /></td></tr>
<tr class="separator:aec0a5f6472294607c250b9692386d9e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2aefbaf23e1f686d235cb050ed0a9b3"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; T &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#ae2aefbaf23e1f686d235cb050ed0a9b3">get_all</a> () const</td></tr>
<tr class="memdesc:ae2aefbaf23e1f686d235cb050ed0a9b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all the loaded objects.  <a href="classgeneric__factory.html#ae2aefbaf23e1f686d235cb050ed0a9b3">More...</a><br /></td></tr>
<tr class="separator:ae2aefbaf23e1f686d235cb050ed0a9b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e2b519c9a3eb42fa7e552b02f4c1fcf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgeneric__factory_1_1Version.html">Version</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a0e2b519c9a3eb42fa7e552b02f4c1fcf">get_version</a> ()</td></tr>
<tr class="separator:a0e2b519c9a3eb42fa7e552b02f4c1fcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9662f3e04a7d9f2a88184c8bd8429368"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a9662f3e04a7d9f2a88184c8bd8429368">is_valid</a> (const <a class="el" href="classgeneric__factory_1_1Version.html">Version</a> &amp;v)</td></tr>
<tr class="separator:a9662f3e04a7d9f2a88184c8bd8429368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">&lt;tt&gt;string_id/int_id&lt;/tt&gt; interface functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>The functions here are supposed to be used by the id classes, they have the same behavior as described in the id classes and can be used directly by forwarding the parameters to them and returning their result. </p>
</div></td></tr>
<tr class="memitem:a83fa4ecd92b558ac1b1a4250c7e61f43"><td class="memItemLeft" align="right" valign="top">const T &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a83fa4ecd92b558ac1b1a4250c7e61f43">obj</a> (const <a class="el" href="classint__id.html">int_id</a>&lt; T &gt; &amp;id) const</td></tr>
<tr class="memdesc:a83fa4ecd92b558ac1b1a4250c7e61f43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the object with the given id.  <a href="classgeneric__factory.html#a83fa4ecd92b558ac1b1a4250c7e61f43">More...</a><br /></td></tr>
<tr class="separator:a83fa4ecd92b558ac1b1a4250c7e61f43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5bb3f9c64c34186437c70fec3db729f"><td class="memItemLeft" align="right" valign="top">const T &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#ac5bb3f9c64c34186437c70fec3db729f">obj</a> (const <a class="el" href="classstring__id.html">string_id</a>&lt; T &gt; &amp;id) const</td></tr>
<tr class="memdesc:ac5bb3f9c64c34186437c70fec3db729f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the object with the given id.  <a href="classgeneric__factory.html#ac5bb3f9c64c34186437c70fec3db729f">More...</a><br /></td></tr>
<tr class="separator:ac5bb3f9c64c34186437c70fec3db729f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad791b795d79eff9d5298c11dce4f4cae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#ad791b795d79eff9d5298c11dce4f4cae">is_valid</a> (const <a class="el" href="classint__id.html">int_id</a>&lt; T &gt; &amp;id) const</td></tr>
<tr class="memdesc:ad791b795d79eff9d5298c11dce4f4cae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the factory contains an object with the given id.  <a href="classgeneric__factory.html#ad791b795d79eff9d5298c11dce4f4cae">More...</a><br /></td></tr>
<tr class="separator:ad791b795d79eff9d5298c11dce4f4cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6693230bb29ac610ba4f40b035c3111"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#aa6693230bb29ac610ba4f40b035c3111">is_valid</a> (const <a class="el" href="classstring__id.html">string_id</a>&lt; T &gt; &amp;id) const</td></tr>
<tr class="memdesc:aa6693230bb29ac610ba4f40b035c3111"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the factory contains an object with the given id.  <a href="classgeneric__factory.html#aa6693230bb29ac610ba4f40b035c3111">More...</a><br /></td></tr>
<tr class="separator:aa6693230bb29ac610ba4f40b035c3111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af65ed70b575eff1e0e2db6ccbf5031dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classint__id.html">int_id</a>&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#af65ed70b575eff1e0e2db6ccbf5031dc">convert</a> (const <a class="el" href="classstring__id.html">string_id</a>&lt; T &gt; &amp;id, const <a class="el" href="classint__id.html">int_id</a>&lt; T &gt; &amp;null_id, const bool warn=true) const</td></tr>
<tr class="memdesc:af65ed70b575eff1e0e2db6ccbf5031dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts string_id&lt;T&gt; to int_id&lt;T&gt;.  <a href="classgeneric__factory.html#af65ed70b575eff1e0e2db6ccbf5031dc">More...</a><br /></td></tr>
<tr class="separator:af65ed70b575eff1e0e2db6ccbf5031dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea2d529e63fe4026805dff285cfc07f0"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classstring__id.html">string_id</a>&lt; T &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#aea2d529e63fe4026805dff285cfc07f0">convert</a> (const <a class="el" href="classint__id.html">int_id</a>&lt; T &gt; &amp;id) const</td></tr>
<tr class="memdesc:aea2d529e63fe4026805dff285cfc07f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts int_id&lt;T&gt; to string_id&lt;T&gt;.  <a href="classgeneric__factory.html#aea2d529e63fe4026805dff285cfc07f0">More...</a><br /></td></tr>
<tr class="separator:aea2d529e63fe4026805dff285cfc07f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad53ebd3a18d417c6faaf7a1a11349fe0"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#ad53ebd3a18d417c6faaf7a1a11349fe0">initialized</a></td></tr>
<tr class="separator:ad53ebd3a18d417c6faaf7a1a11349fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a9fc0770288024f0a9f4ccf1e40e4831f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a9fc0770288024f0a9f4ccf1e40e4831f">find_id</a> (const <a class="el" href="classstring__id.html">string_id</a>&lt; T &gt; &amp;id, <a class="el" href="classint__id.html">int_id</a>&lt; T &gt; &amp;result) const</td></tr>
<tr class="separator:a9fc0770288024f0a9f4ccf1e40e4831f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ca51ed828af83a8a6a6b094416ce10d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a9ca51ed828af83a8a6a6b094416ce10d">remove_aliases</a> (const <a class="el" href="classstring__id.html">string_id</a>&lt; T &gt; &amp;id)</td></tr>
<tr class="separator:a9ca51ed828af83a8a6a6b094416ce10d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ab1533a20b5cec8bbca9477ca423799c2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#ab1533a20b5cec8bbca9477ca423799c2">list</a></td></tr>
<tr class="separator:ab1533a20b5cec8bbca9477ca423799c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0371431fff4081a19ccea603069765d"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; <a class="el" href="classstring__id.html">string_id</a>&lt; T &gt;, <a class="el" href="classint__id.html">int_id</a>&lt; T &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#ac0371431fff4081a19ccea603069765d">map</a></td></tr>
<tr class="separator:ac0371431fff4081a19ccea603069765d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4f2f975c0ec0556558d9f6098bb2eb5"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::string, T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#ac4f2f975c0ec0556558d9f6098bb2eb5">abstracts</a></td></tr>
<tr class="separator:ac4f2f975c0ec0556558d9f6098bb2eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00b41f19d8226b9cfae4976d937a07d7"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a00b41f19d8226b9cfae4976d937a07d7">type_name</a></td></tr>
<tr class="separator:a00b41f19d8226b9cfae4976d937a07d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f97491bc83df78228a7f47c313a72eb"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a3f97491bc83df78228a7f47c313a72eb">id_member_name</a></td></tr>
<tr class="separator:a3f97491bc83df78228a7f47c313a72eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a278bbb310d6cd8f2416ab06d5650b600"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a278bbb310d6cd8f2416ab06d5650b600">alias_member_name</a></td></tr>
<tr class="separator:a278bbb310d6cd8f2416ab06d5650b600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59e6a1bce525ae42ab4dc74715fa961d"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a59e6a1bce525ae42ab4dc74715fa961d">legacy_id_member_name</a> = &quot;ident&quot;</td></tr>
<tr class="separator:a59e6a1bce525ae42ab4dc74715fa961d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac475c071a057a30e42e81361855068be"><td class="memItemLeft" align="right" valign="top">const T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#ac475c071a057a30e42e81361855068be">dummy_obj</a></td></tr>
<tr class="separator:ac475c071a057a30e42e81361855068be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a44d61db322979fc7fe1f92b57b9e28c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a44d61db322979fc7fe1f92b57b9e28c4">inc_version</a> ()</td></tr>
<tr class="separator:a44d61db322979fc7fe1f92b57b9e28c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0e1925c814a88ec115f315f8d3ec354a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDynamicDataLoader.html#a3586416b8ec3f7829e449c74d0dc1666">DynamicDataLoader::deferred_json</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#a0e1925c814a88ec115f315f8d3ec354a">deferred</a></td></tr>
<tr class="separator:a0e1925c814a88ec115f315f8d3ec354a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc807b15c1016c7425d02caeaaa5cade"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeneric__factory.html#afc807b15c1016c7425d02caeaaa5cade">version</a> = 0</td></tr>
<tr class="separator:afc807b15c1016c7425d02caeaaa5cade"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br />
class generic_factory&lt; T &gt;</h3>


<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00119">119</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a6cc6885d3982d582a1b847e5c164f383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cc6885d3982d582a1b847e5c164f383">&#9670;&nbsp;</a></span>T_has_handle_inheritance_t</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<div class="memtemplate">
template&lt;typename U &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::<a class="el" href="classgeneric__factory.html#a6cc6885d3982d582a1b847e5c164f383">T_has_handle_inheritance_t</a> =  decltype( std::declval&lt;U&gt;().<a class="el" href="classgeneric__factory.html#ae434ad40173f2a5d274149d97cf16883">handle_inheritance</a>( std::declval&lt;const T &amp;&gt;(), std::declval&lt;const std::unordered_map&lt;std::string, T&gt;&amp;&gt;() ) )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00210">210</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac81948054184724132ac12c4bf58619b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac81948054184724132ac12c4bf58619b">&#9670;&nbsp;</a></span>~generic_factory()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::~<a class="el" href="classgeneric__factory.html">generic_factory</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a92f633c95f6d60ef344753ed81facad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92f633c95f6d60ef344753ed81facad1">&#9670;&nbsp;</a></span>generic_factory()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::<a class="el" href="classgeneric__factory.html">generic_factory</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>type_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>id_member_name</em> = <code>&quot;id&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>alias_member_name</em> = <code>&quot;alias&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type_name</td><td>A string used in debug messages as the name of <code>T</code>, for example "vehicle type". </td></tr>
    <tr><td class="paramname">id_member_name</td><td>The name of the JSON member that contains the id(s) of the loaded <a class="el" href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aa8cfde6331bd59eb2ac96f8911c4b666">object(s)</a>. </td></tr>
    <tr><td class="paramname">alias_member_name</td><td>Alternate names of the JSON member that contains the id(s) of the loaded object alias(es). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00195">195</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            : <a class="code" href="classgeneric__factory.html#a00b41f19d8226b9cfae4976d937a07d7">type_name</a>( <a class="code" href="classgeneric__factory.html#a00b41f19d8226b9cfae4976d937a07d7">type_name</a> ),</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;              <a class="code" href="classgeneric__factory.html#a3f97491bc83df78228a7f47c313a72eb">id_member_name</a>( <a class="code" href="classgeneric__factory.html#a3f97491bc83df78228a7f47c313a72eb">id_member_name</a> ),</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;              <a class="code" href="classgeneric__factory.html#a278bbb310d6cd8f2416ab06d5650b600">alias_member_name</a>( <a class="code" href="classgeneric__factory.html#a278bbb310d6cd8f2416ab06d5650b600">alias_member_name</a> ),</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;              <a class="code" href="classgeneric__factory.html#ac475c071a057a30e42e81361855068be">dummy_obj</a>(),</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;              <a class="code" href="classgeneric__factory.html#ad53ebd3a18d417c6faaf7a1a11349fe0">initialized</a>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        }</div>
<div class="ttc" id="aclassgeneric__factory_html_a00b41f19d8226b9cfae4976d937a07d7"><div class="ttname"><a href="classgeneric__factory.html#a00b41f19d8226b9cfae4976d937a07d7">generic_factory::type_name</a></div><div class="ttdeci">std::string type_name</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00144">generic_factory.h:144</a></div></div>
<div class="ttc" id="aclassgeneric__factory_html_a278bbb310d6cd8f2416ab06d5650b600"><div class="ttname"><a href="classgeneric__factory.html#a278bbb310d6cd8f2416ab06d5650b600">generic_factory::alias_member_name</a></div><div class="ttdeci">std::string alias_member_name</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00146">generic_factory.h:146</a></div></div>
<div class="ttc" id="aclassgeneric__factory_html_a3f97491bc83df78228a7f47c313a72eb"><div class="ttname"><a href="classgeneric__factory.html#a3f97491bc83df78228a7f47c313a72eb">generic_factory::id_member_name</a></div><div class="ttdeci">std::string id_member_name</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00145">generic_factory.h:145</a></div></div>
<div class="ttc" id="aclassgeneric__factory_html_ac475c071a057a30e42e81361855068be"><div class="ttname"><a href="classgeneric__factory.html#ac475c071a057a30e42e81361855068be">generic_factory::dummy_obj</a></div><div class="ttdeci">const T dummy_obj</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00183">generic_factory.h:183</a></div></div>
<div class="ttc" id="aclassgeneric__factory_html_ad53ebd3a18d417c6faaf7a1a11349fe0"><div class="ttname"><a href="classgeneric__factory.html#ad53ebd3a18d417c6faaf7a1a11349fe0">generic_factory::initialized</a></div><div class="ttdeci">const bool initialized</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00186">generic_factory.h:186</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab510000177bd0841ac2b3888ec0659e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab510000177bd0841ac2b3888ec0659e9">&#9670;&nbsp;</a></span>check()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::check </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks loaded/inserted objects for consistency. </p>

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00413">413</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                           {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> T &amp;<a class="code" href="classgeneric__factory.html#a83fa4ecd92b558ac1b1a4250c7e61f43">obj</a> : <a class="code" href="classgeneric__factory.html#ab1533a20b5cec8bbca9477ca423799c2">list</a> ) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                <a class="code" href="classgeneric__factory.html#a83fa4ecd92b558ac1b1a4250c7e61f43">obj</a>.check();</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        }</div>
<div class="ttc" id="aclassgeneric__factory_html_a83fa4ecd92b558ac1b1a4250c7e61f43"><div class="ttname"><a href="classgeneric__factory.html#a83fa4ecd92b558ac1b1a4250c7e61f43">generic_factory::obj</a></div><div class="ttdeci">const T &amp; obj(const int_id&lt; T &gt; &amp;id) const</div><div class="ttdoc">Returns the object with the given id.</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00465">generic_factory.h:465</a></div></div>
<div class="ttc" id="aclassgeneric__factory_html_ab1533a20b5cec8bbca9477ca423799c2"><div class="ttname"><a href="classgeneric__factory.html#ab1533a20b5cec8bbca9477ca423799c2">generic_factory::list</a></div><div class="ttdeci">std::vector&lt; T &gt; list</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00140">generic_factory.h:140</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="generic__factory_8h_source.html#l00140">generic_factory&lt; T &gt;::list</a>, and <a class="el" href="generic__factory_8h_source.html#l00465">generic_factory&lt; T &gt;::obj()</a>.</p>

</div>
</div>
<a id="aea2d529e63fe4026805dff285cfc07f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea2d529e63fe4026805dff285cfc07f0">&#9670;&nbsp;</a></span>convert() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classstring__id.html">string_id</a>&lt;T&gt;&amp; <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::convert </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classint__id.html">int_id</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts int_id&lt;T&gt; to string_id&lt;T&gt;. </p>
<p>Returns null_id on failure. </p>

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00520">520</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                                                                 {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classgeneric__factory.html#a83fa4ecd92b558ac1b1a4250c7e61f43">obj</a>( <span class="keywordtype">id</span> ).id;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="generic__factory_8h_source.html#l00465">generic_factory&lt; T &gt;::obj()</a>.</p>

</div>
</div>
<a id="af65ed70b575eff1e0e2db6ccbf5031dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af65ed70b575eff1e0e2db6ccbf5031dc">&#9670;&nbsp;</a></span>convert() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classint__id.html">int_id</a>&lt;T&gt; <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::convert </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstring__id.html">string_id</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classint__id.html">int_id</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>null_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>warn</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts string_id&lt;T&gt; to int_id&lt;T&gt;. </p>
<p>Returns null_id on failure. When optional flag warn is true, issues a warning if <code>id</code> is not found and null_id was returned. </p>

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00506">506</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                                                          {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            <a class="code" href="classint__id.html">int_id&lt;T&gt;</a> result;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classgeneric__factory.html#a9fc0770288024f0a9f4ccf1e40e4831f">find_id</a>( <span class="keywordtype">id</span>, result ) ) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <span class="keywordflow">if</span>( warn ) {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;invalid %s id \&quot;%s\&quot;&quot;</span>, <a class="code" href="classgeneric__factory.html#a00b41f19d8226b9cfae4976d937a07d7">type_name</a>, <span class="keywordtype">id</span>.c_str() );</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <span class="keywordflow">return</span> null_id;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        }</div>
<div class="ttc" id="aclassgeneric__factory_html_a9fc0770288024f0a9f4ccf1e40e4831f"><div class="ttname"><a href="classgeneric__factory.html#a9fc0770288024f0a9f4ccf1e40e4831f">generic_factory::find_id</a></div><div class="ttdeci">bool find_id(const string_id&lt; T &gt; &amp;id, int_id&lt; T &gt; &amp;result) const</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00150">generic_factory.h:150</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id</a></div><div class="ttdoc">Just like the string_id, this is a wrapper for int based identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="int__id_8h_source.html#l00021">int_id.h:22</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="generic__factory_8h_source.html#l00150">generic_factory&lt; T &gt;::find_id()</a>, and <a class="el" href="generic__factory_8h_source.html#l00144">generic_factory&lt; T &gt;::type_name</a>.</p>

</div>
</div>
<a id="a1a3f2d756d54a48db03f1f95334919d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a3f2d756d54a48db03f1f95334919d1">&#9670;&nbsp;</a></span>empty()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether factory is empty. </p>

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00427">427</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                           {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classgeneric__factory.html#ab1533a20b5cec8bbca9477ca423799c2">list</a>.empty();</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="generic__factory_8h_source.html#l00140">generic_factory&lt; T &gt;::list</a>.</p>

</div>
</div>
<a id="a0f6861a332883433117af88013e78300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f6861a332883433117af88013e78300">&#9670;&nbsp;</a></span>finalize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::finalize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finalize all entries (derived classes should chain to this method) </p>

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00400">400</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                                {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <a class="code" href="classDynamicDataLoader.html#adca1972b6d79ffd55d6d7ca1a0c329b9">DynamicDataLoader::get_instance</a>().<a class="code" href="classDynamicDataLoader.html#adf725674a5fcd11a4e8a248e14717d27">load_deferred</a>( <a class="code" href="classgeneric__factory.html#a0e1925c814a88ec115f315f8d3ec354a">deferred</a> );</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <a class="code" href="classgeneric__factory.html#ac4f2f975c0ec0556558d9f6098bb2eb5">abstracts</a>.clear();</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <a class="code" href="classgeneric__factory.html#a44d61db322979fc7fe1f92b57b9e28c4">inc_version</a>();</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classgeneric__factory.html#ab1533a20b5cec8bbca9477ca423799c2">list</a>.size(); i++ ) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                <a class="code" href="classgeneric__factory.html#ab1533a20b5cec8bbca9477ca423799c2">list</a>[i].id.set_cid_version( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( i ), <a class="code" href="classgeneric__factory.html#afc807b15c1016c7425d02caeaaa5cade">version</a> );</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        }</div>
<div class="ttc" id="aclassDynamicDataLoader_html_adca1972b6d79ffd55d6d7ca1a0c329b9"><div class="ttname"><a href="classDynamicDataLoader.html#adca1972b6d79ffd55d6d7ca1a0c329b9">DynamicDataLoader::get_instance</a></div><div class="ttdeci">static DynamicDataLoader &amp; get_instance()</div><div class="ttdoc">Returns the single instance of this class.</div><div class="ttdef"><b>Definition:</b> <a href="init_8cpp_source.html#l00119">init.cpp:119</a></div></div>
<div class="ttc" id="aclassDynamicDataLoader_html_adf725674a5fcd11a4e8a248e14717d27"><div class="ttname"><a href="classDynamicDataLoader.html#adf725674a5fcd11a4e8a248e14717d27">DynamicDataLoader::load_deferred</a></div><div class="ttdeci">void load_deferred(deferred_json &amp;data)</div><div class="ttdoc">Loads and then removes entries from.</div><div class="ttdef"><b>Definition:</b> <a href="init_8cpp_source.html#l00160">init.cpp:160</a></div></div>
<div class="ttc" id="aclassgeneric__factory_html_a0e1925c814a88ec115f315f8d3ec354a"><div class="ttname"><a href="classgeneric__factory.html#a0e1925c814a88ec115f315f8d3ec354a">generic_factory::deferred</a></div><div class="ttdeci">DynamicDataLoader::deferred_json deferred</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00126">generic_factory.h:126</a></div></div>
<div class="ttc" id="aclassgeneric__factory_html_a44d61db322979fc7fe1f92b57b9e28c4"><div class="ttname"><a href="classgeneric__factory.html#a44d61db322979fc7fe1f92b57b9e28c4">generic_factory::inc_version</a></div><div class="ttdeci">void inc_version()</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00133">generic_factory.h:133</a></div></div>
<div class="ttc" id="aclassgeneric__factory_html_ac4f2f975c0ec0556558d9f6098bb2eb5"><div class="ttname"><a href="classgeneric__factory.html#ac4f2f975c0ec0556558d9f6098bb2eb5">generic_factory::abstracts</a></div><div class="ttdeci">std::unordered_map&lt; std::string, T &gt; abstracts</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00142">generic_factory.h:142</a></div></div>
<div class="ttc" id="aclassgeneric__factory_html_afc807b15c1016c7425d02caeaaa5cade"><div class="ttname"><a href="classgeneric__factory.html#afc807b15c1016c7425d02caeaaa5cade">generic_factory::version</a></div><div class="ttdeci">int64_t version</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00131">generic_factory.h:131</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="generic__factory_8h_source.html#l00142">generic_factory&lt; T &gt;::abstracts</a>, <a class="el" href="generic__factory_8h_source.html#l00126">generic_factory&lt; T &gt;::deferred</a>, <a class="el" href="init_8cpp_source.html#l00119">DynamicDataLoader::get_instance()</a>, <a class="el" href="generic__factory_8h_source.html#l00133">generic_factory&lt; T &gt;::inc_version()</a>, <a class="el" href="generic__factory_8h_source.html#l00140">generic_factory&lt; T &gt;::list</a>, <a class="el" href="init_8cpp_source.html#l00160">DynamicDataLoader::load_deferred()</a>, and <a class="el" href="generic__factory_8h_source.html#l00131">generic_factory&lt; T &gt;::version</a>.</p>

</div>
</div>
<a id="a9fc0770288024f0a9f4ccf1e40e4831f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fc0770288024f0a9f4ccf1e40e4831f">&#9670;&nbsp;</a></span>find_id()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::find_id </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstring__id.html">string_id</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint__id.html">int_id</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00150">150</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                                                        {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="keywordflow">if</span>( <span class="keywordtype">id</span>._version == <a class="code" href="classgeneric__factory.html#afc807b15c1016c7425d02caeaaa5cade">version</a> ) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                result = <a class="code" href="classint__id.html">int_id&lt;T&gt;</a>( <span class="keywordtype">id</span>._cid );</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classgeneric__factory.html#ad791b795d79eff9d5298c11dce4f4cae">is_valid</a>( result );</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> iter = <a class="code" href="classmap.html">map</a>.find( <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="comment">// map lookup happens at most once per string_id instance per generic_factory::version</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="comment">// id was not found, explicitly marking it as &quot;invalid&quot;</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keywordflow">if</span>( iter == <a class="code" href="classmap.html">map</a>.end() ) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                <span class="keywordtype">id</span>.set_cid_version( <a class="code" href="string__id_8h.html#ad53e3d7feda47d8d7c1d9cbf3242ff81">INVALID_CID</a>, <a class="code" href="classgeneric__factory.html#afc807b15c1016c7425d02caeaaa5cade">version</a> );</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            result = iter-&gt;second;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="keywordtype">id</span>.set_cid_version( result.<a class="code" href="classint__id.html#a99e80dcc802865c122fc1dfd8db8fc85">to_i</a>(), <a class="code" href="classgeneric__factory.html#afc807b15c1016c7425d02caeaaa5cade">version</a> );</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        }</div>
<div class="ttc" id="aclassgeneric__factory_html_ad791b795d79eff9d5298c11dce4f4cae"><div class="ttname"><a href="classgeneric__factory.html#ad791b795d79eff9d5298c11dce4f4cae">generic_factory::is_valid</a></div><div class="ttdeci">bool is_valid(const int_id&lt; T &gt; &amp;id) const</div><div class="ttdoc">Checks whether the factory contains an object with the given id.</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00491">generic_factory.h:491</a></div></div>
<div class="ttc" id="aclassint__id_html_a99e80dcc802865c122fc1dfd8db8fc85"><div class="ttname"><a href="classint__id.html#a99e80dcc802865c122fc1dfd8db8fc85">int_id::to_i</a></div><div class="ttdeci">int to_i() const</div><div class="ttdoc">Returns the identifier as plain int.</div><div class="ttdef"><b>Definition:</b> <a href="int__id_8h_source.html#l00087">int_id.h:87</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="astring__id_8h_html_ad53e3d7feda47d8d7c1d9cbf3242ff81"><div class="ttname"><a href="string__id_8h.html#ad53e3d7feda47d8d7c1d9cbf3242ff81">INVALID_CID</a></div><div class="ttdeci">constexpr int INVALID_CID</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00013">string_id.h:13</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="string__id_8h_source.html#l00013">INVALID_CID</a>, <a class="el" href="generic__factory_8h_source.html#l00491">generic_factory&lt; T &gt;::is_valid()</a>, <a class="el" href="int__id_8h_source.html#l00087">int_id&lt; T &gt;::to_i()</a>, and <a class="el" href="generic__factory_8h_source.html#l00131">generic_factory&lt; T &gt;::version</a>.</p>

<p class="reference">Referenced by <a class="el" href="generic__factory_8h_source.html#l00506">generic_factory&lt; T &gt;::convert()</a>, <a class="el" href="generic__factory_8h_source.html#l00498">generic_factory&lt; T &gt;::is_valid()</a>, <a class="el" href="generic__factory_8h_source.html#l00479">generic_factory&lt; T &gt;::obj()</a>, and <a class="el" href="generic__factory_8h_source.html#l00167">generic_factory&lt; T &gt;::remove_aliases()</a>.</p>

</div>
</div>
<a id="ae2aefbaf23e1f686d235cb050ed0a9b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2aefbaf23e1f686d235cb050ed0a9b3">&#9670;&nbsp;</a></span>get_all()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;T&gt;&amp; <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::get_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns all the loaded objects. </p>
<p>It can be used to iterate over them. </p>

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00447">447</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                                            {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classgeneric__factory.html#ab1533a20b5cec8bbca9477ca423799c2">list</a>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="generic__factory_8h_source.html#l00140">generic_factory&lt; T &gt;::list</a>.</p>

</div>
</div>
<a id="a0e2b519c9a3eb42fa7e552b02f4c1fcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e2b519c9a3eb42fa7e552b02f4c1fcf">&#9670;&nbsp;</a></span>get_version()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgeneric__factory_1_1Version.html">Version</a> <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::get_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00548">548</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                              {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            <span class="keywordflow">return</span> Version( <a class="code" href="classgeneric__factory.html#afc807b15c1016c7425d02caeaaa5cade">version</a> );</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="generic__factory_8h_source.html#l00131">generic_factory&lt; T &gt;::version</a>.</p>

</div>
</div>
<a id="ae434ad40173f2a5d274149d97cf16883"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae434ad40173f2a5d274149d97cf16883">&#9670;&nbsp;</a></span>handle_inheritance()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::handle_inheritance </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform JSON inheritance handling for <code>T def</code> and returns true if <a class="el" href="classJsonObject.html">JsonObject</a> is real. </p>
<p>If the object contains a "copy-from" member the corresponding abstract gets copied if found. If abstract is not found, object is added to deferred. If the object is abstract, it is loaded via <code>T::load</code> and added to <code>abstracts</code></p>
<dl class="section return"><dt>Returns</dt><dd>true if <code>jo</code> is loaded and false if loading is deferred. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classJsonError.html">JsonError</a></td><td>If <code>jo</code> is both abstract and real. (contains "abstract" and "id" members) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00240">240</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                                                                      {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="keyword">static</span> <span class="keyword">const</span> std::string copy_from_member_name( <span class="stringliteral">&quot;copy-from&quot;</span> );</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keyword">static</span> <span class="keyword">const</span> std::string abstract_member_name( <span class="stringliteral">&quot;abstract&quot;</span> );</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">has_string</a>( copy_from_member_name ) ) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <span class="keyword">const</span> std::string source = jo.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( copy_from_member_name );</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                <span class="keyword">auto</span> base = <a class="code" href="classmap.html">map</a>.find( <a class="code" href="classstring__id.html">string_id&lt;T&gt;</a>( source ) );</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <span class="keywordflow">if</span>( base != <a class="code" href="classmap.html">map</a>.end() ) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                    <span class="keyword">const</span> T &amp;base_obj = <a class="code" href="classgeneric__factory.html#a83fa4ecd92b558ac1b1a4250c7e61f43">obj</a>( base-&gt;second );</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    <a class="code" href="classgeneric__factory.html#a3600aee15d31185da6492fec81110b35">handle_inheritance_on_T</a>( def, base_obj );</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                    <span class="keyword">auto</span> ab = <a class="code" href="classgeneric__factory.html#ac4f2f975c0ec0556558d9f6098bb2eb5">abstracts</a>.find( source );</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                    <span class="keywordflow">if</span>( ab != <a class="code" href="classgeneric__factory.html#ac4f2f975c0ec0556558d9f6098bb2eb5">abstracts</a>.end() ) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                        <span class="keyword">const</span> T &amp;base_obj = ab-&gt;second;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                        <a class="code" href="classgeneric__factory.html#a3600aee15d31185da6492fec81110b35">handle_inheritance_on_T</a>( def, base_obj );</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                        def.was_loaded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                        <a class="code" href="classgeneric__factory.html#a0e1925c814a88ec115f315f8d3ec354a">deferred</a>.emplace_back( jo, src );</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                        jo.<a class="code" href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">allow_omitted_members</a>();</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                    }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                def.was_loaded = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">has_string</a>( abstract_member_name ) ) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">has_string</a>( <a class="code" href="classgeneric__factory.html#a3f97491bc83df78228a7f47c313a72eb">id_member_name</a> ) || jo.<a class="code" href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">has_string</a>( <a class="code" href="classgeneric__factory.html#a59e6a1bce525ae42ab4dc74715fa961d">legacy_id_member_name</a> ) ) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                    jo.<a class="code" href="classJsonObject.html#af3e3ae76afc340c1fa3510acaaba57b8">throw_error</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;cannot specify both &#39;%s&#39; and &#39;%s&#39;/&#39;%s&#39;&quot;</span>,</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                                                   abstract_member_name, <a class="code" href="classgeneric__factory.html#a3f97491bc83df78228a7f47c313a72eb">id_member_name</a>, <a class="code" href="classgeneric__factory.html#a59e6a1bce525ae42ab4dc74715fa961d">legacy_id_member_name</a> ) );</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                <a class="code" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;check_plural_t&gt;</a> restore_check_plural( <a class="code" href="cached__options_8cpp.html#ae70cf836c2c19d6b14b0332b18798766">check_plural</a> );</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                <a class="code" href="cached__options_8cpp.html#ae70cf836c2c19d6b14b0332b18798766">check_plural</a> = <a class="code" href="cached__options_8h.html#ac77e04889b244d7c30f308cbb8b8aea4a334c4a4c42fdb79d7ebc3e73b517e6f8">check_plural_t::none</a>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keyword">const</span> std::string abstract_id =  jo.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( abstract_member_name );</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                def.id = <a class="code" href="classstring__id.html">string_id&lt;T&gt;</a>( abstract_id );</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                def.load( jo, src );</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                <a class="code" href="classgeneric__factory.html#ac4f2f975c0ec0556558d9f6098bb2eb5">abstracts</a>[abstract_id] = def;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        }</div>
<div class="ttc" id="acached__options_8cpp_html_ae70cf836c2c19d6b14b0332b18798766"><div class="ttname"><a href="cached__options_8cpp.html#ae70cf836c2c19d6b14b0332b18798766">check_plural</a></div><div class="ttdeci">check_plural_t check_plural</div><div class="ttdef"><b>Definition:</b> <a href="cached__options_8cpp_source.html#l00033">cached_options.cpp:33</a></div></div>
<div class="ttc" id="acached__options_8h_html_ac77e04889b244d7c30f308cbb8b8aea4a334c4a4c42fdb79d7ebc3e73b517e6f8"><div class="ttname"><a href="cached__options_8h.html#ac77e04889b244d7c30f308cbb8b8aea4a334c4a4c42fdb79d7ebc3e73b517e6f8">check_plural_t::none</a></div><div class="ttdeci">@ none</div></div>
<div class="ttc" id="aclassJsonObject_html_a1abb3808bb2a992716d5ef6f27a32b3c"><div class="ttname"><a href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">JsonObject::get_string</a></div><div class="ttdeci">std::string get_string(const std::string &amp;key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00813">flexbuffer_json-inl.h:813</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ac8dd6467300eb62e7ce842c3d99c083e"><div class="ttname"><a href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">JsonObject::has_string</a></div><div class="ttdeci">bool has_string(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00972">flexbuffer_json-inl.h:972</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae00f195360e3783cf50527cf07344202"><div class="ttname"><a href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">JsonObject::allow_omitted_members</a></div><div class="ttdeci">void allow_omitted_members() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00662">flexbuffer_json.h:662</a></div></div>
<div class="ttc" id="aclassJsonObject_html_af3e3ae76afc340c1fa3510acaaba57b8"><div class="ttname"><a href="classJsonObject.html#af3e3ae76afc340c1fa3510acaaba57b8">JsonObject::throw_error</a></div><div class="ttdeci">void throw_error(const std::string &amp;err) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8cpp_source.html#l00353">flexbuffer_json.cpp:353</a></div></div>
<div class="ttc" id="aclassgeneric__factory_html_a3600aee15d31185da6492fec81110b35"><div class="ttname"><a href="classgeneric__factory.html#a3600aee15d31185da6492fec81110b35">generic_factory::handle_inheritance_on_T</a></div><div class="ttdeci">void handle_inheritance_on_T(T &amp;def, const T &amp;copy_from)</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00220">generic_factory.h:220</a></div></div>
<div class="ttc" id="aclassgeneric__factory_html_a59e6a1bce525ae42ab4dc74715fa961d"><div class="ttname"><a href="classgeneric__factory.html#a59e6a1bce525ae42ab4dc74715fa961d">generic_factory::legacy_id_member_name</a></div><div class="ttdeci">const std::string legacy_id_member_name</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00148">generic_factory.h:148</a></div></div>
<div class="ttc" id="aclassrestore__on__out__of__scope_html"><div class="ttname"><a href="classrestore__on__out__of__scope.html">restore_on_out_of_scope</a></div><div class="ttdef"><b>Definition:</b> <a href="cata__scope__helpers_8h_source.html#l00031">cata_scope_helpers.h:32</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id</a></div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00197">string_id.h:198</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="generic__factory_8h_source.html#l00142">generic_factory&lt; T &gt;::abstracts</a>, <a class="el" href="flexbuffer__json_8h_source.html#l00662">JsonObject::allow_omitted_members()</a>, <a class="el" href="cached__options_8cpp_source.html#l00033">check_plural</a>, <a class="el" href="generic__factory_8h_source.html#l00126">generic_factory&lt; T &gt;::deferred</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00813">JsonObject::get_string()</a>, <a class="el" href="generic__factory_8h_source.html#l00220">generic_factory&lt; T &gt;::handle_inheritance_on_T()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00972">JsonObject::has_string()</a>, <a class="el" href="generic__factory_8h_source.html#l00145">generic_factory&lt; T &gt;::id_member_name</a>, <a class="el" href="generic__factory_8h_source.html#l00148">generic_factory&lt; T &gt;::legacy_id_member_name</a>, <a class="el" href="cached__options_8h.html#ac77e04889b244d7c30f308cbb8b8aea4a334c4a4c42fdb79d7ebc3e73b517e6f8">none</a>, <a class="el" href="generic__factory_8h_source.html#l00465">generic_factory&lt; T &gt;::obj()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, and <a class="el" href="flexbuffer__json_8cpp_source.html#l00353">JsonObject::throw_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="generic__factory_8h_source.html#l00290">generic_factory&lt; T &gt;::load()</a>.</p>

</div>
</div>
<a id="a3600aee15d31185da6492fec81110b35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3600aee15d31185da6492fec81110b35">&#9670;&nbsp;</a></span>handle_inheritance_on_T() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<div class="memtemplate">
template&lt;typename U  = T, std::enable_if_t&lt; T_has_handle_inheritance&lt; U &gt;::value &gt; *  = nullptr&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::handle_inheritance_on_T </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>copy_from</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00220">220</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                                                                   {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            def.handle_inheritance( copy_from, <a class="code" href="classgeneric__factory.html#ac4f2f975c0ec0556558d9f6098bb2eb5">abstracts</a> ); <span class="comment">// let the function handle it</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="generic__factory_8h_source.html#l00142">generic_factory&lt; T &gt;::abstracts</a>.</p>

<p class="reference">Referenced by <a class="el" href="generic__factory_8h_source.html#l00240">generic_factory&lt; T &gt;::handle_inheritance()</a>.</p>

</div>
</div>
<a id="a3600aee15d31185da6492fec81110b35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3600aee15d31185da6492fec81110b35">&#9670;&nbsp;</a></span>handle_inheritance_on_T() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<div class="memtemplate">
template&lt;typename U  = T, std::enable_if_t&lt;!T_has_handle_inheritance&lt; U &gt;::value &gt; *  = nullptr&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::handle_inheritance_on_T </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>copy_from</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00224">224</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                                                   {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            def = copy_from; <span class="comment">// just use assignment</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a44d61db322979fc7fe1f92b57b9e28c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44d61db322979fc7fe1f92b57b9e28c4">&#9670;&nbsp;</a></span>inc_version()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::inc_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00133">133</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                           {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                <a class="code" href="classgeneric__factory.html#afc807b15c1016c7425d02caeaaa5cade">version</a>++;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            } <span class="keywordflow">while</span>( <a class="code" href="classgeneric__factory.html#afc807b15c1016c7425d02caeaaa5cade">version</a> == <a class="code" href="string__id_8h.html#a47da636e020963abb2b101b4d3ec4cc9">INVALID_VERSION</a> );</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        }</div>
<div class="ttc" id="astring__id_8h_html_a47da636e020963abb2b101b4d3ec4cc9"><div class="ttname"><a href="string__id_8h.html#a47da636e020963abb2b101b4d3ec4cc9">INVALID_VERSION</a></div><div class="ttdeci">constexpr int64_t INVALID_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00012">string_id.h:12</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="string__id_8h_source.html#l00012">INVALID_VERSION</a>, and <a class="el" href="generic__factory_8h_source.html#l00131">generic_factory&lt; T &gt;::version</a>.</p>

<p class="reference">Referenced by <a class="el" href="generic__factory_8h_source.html#l00400">generic_factory&lt; T &gt;::finalize()</a>, <a class="el" href="generic__factory_8h_source.html#l00374">generic_factory&lt; T &gt;::insert()</a>, and <a class="el" href="generic__factory_8h_source.html#l00434">generic_factory&lt; T &gt;::reset()</a>.</p>

</div>
</div>
<a id="a28acb5569ab205dd08d5e51a366f39ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28acb5569ab205dd08d5e51a366f39ca">&#9670;&nbsp;</a></span>insert()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T&amp; <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::insert </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add an object to the factory, without loading from JSON. </p>
<p>The new object replaces any existing object of the same id. The function returns the actual object reference. </p>

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00374">374</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                  {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="comment">// this invalidates `_cid` cache for all previously added string_ids,</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <span class="comment">// but! it&#39;s necessary to invalidate cache for all possibly cached &quot;missed&quot; lookups</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="comment">// (lookups for not-yet-inserted elements)</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="comment">// in the common scenario there is no loss of performance, as `finalize` will make cache</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <span class="comment">// for all ids valid again</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <a class="code" href="classgeneric__factory.html#a44d61db322979fc7fe1f92b57b9e28c4">inc_version</a>();</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> iter = <a class="code" href="classmap.html">map</a>.find( <a class="code" href="classgeneric__factory.html#a83fa4ecd92b558ac1b1a4250c7e61f43">obj</a>.id );</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <span class="keywordflow">if</span>( iter != <a class="code" href="classmap.html">map</a>.end() ) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                <a class="code" href="structmod__tracker.html#af90cb04b24483b9acbabe29829fe7e2b">mod_tracker::check_duplicate_entries</a>( <a class="code" href="classgeneric__factory.html#a83fa4ecd92b558ac1b1a4250c7e61f43">obj</a>, <a class="code" href="classgeneric__factory.html#ab1533a20b5cec8bbca9477ca423799c2">list</a>[iter-&gt;second.to_i()] );</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                T &amp;result = <a class="code" href="classgeneric__factory.html#ab1533a20b5cec8bbca9477ca423799c2">list</a>[iter-&gt;second.to_i()];</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                result = <a class="code" href="classgeneric__factory.html#a83fa4ecd92b558ac1b1a4250c7e61f43">obj</a>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                result.id.set_cid_version( iter-&gt;second.to_i(), <a class="code" href="classgeneric__factory.html#afc807b15c1016c7425d02caeaaa5cade">version</a> );</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <span class="keyword">const</span> <a class="code" href="classint__id.html">int_id&lt;T&gt;</a> cid( <a class="code" href="classgeneric__factory.html#ab1533a20b5cec8bbca9477ca423799c2">list</a>.size() );</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <a class="code" href="classgeneric__factory.html#ab1533a20b5cec8bbca9477ca423799c2">list</a>.push_back( <a class="code" href="classgeneric__factory.html#a83fa4ecd92b558ac1b1a4250c7e61f43">obj</a> );</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            T &amp;result = <a class="code" href="classgeneric__factory.html#ab1533a20b5cec8bbca9477ca423799c2">list</a>.back();</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            result.id.set_cid_version( cid.to_i(), <a class="code" href="classgeneric__factory.html#afc807b15c1016c7425d02caeaaa5cade">version</a> );</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <a class="code" href="classmap.html">map</a>[result.id] = cid;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        }</div>
<div class="ttc" id="astructmod__tracker_html_af90cb04b24483b9acbabe29829fe7e2b"><div class="ttname"><a href="structmod__tracker.html#af90cb04b24483b9acbabe29829fe7e2b">mod_tracker::check_duplicate_entries</a></div><div class="ttdeci">static void check_duplicate_entries(const T &amp;n, const T &amp;)</div><div class="ttdoc">Dummy function, for if those conditions are not satisfied.</div><div class="ttdef"><b>Definition:</b> <a href="mod__tracker_8h_source.html#l00061">mod_tracker.h:61</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mod__tracker_8h_source.html#l00061">mod_tracker::check_duplicate_entries()</a>, <a class="el" href="generic__factory_8h_source.html#l00133">generic_factory&lt; T &gt;::inc_version()</a>, <a class="el" href="generic__factory_8h_source.html#l00140">generic_factory&lt; T &gt;::list</a>, <a class="el" href="generic__factory_8h_source.html#l00465">generic_factory&lt; T &gt;::obj()</a>, <a class="el" href="int__id_8h_source.html#l00087">int_id&lt; T &gt;::to_i()</a>, and <a class="el" href="generic__factory_8h_source.html#l00131">generic_factory&lt; T &gt;::version</a>.</p>

<p class="reference">Referenced by <a class="el" href="generic__factory_8h_source.html#l00290">generic_factory&lt; T &gt;::load()</a>.</p>

</div>
</div>
<a id="ad791b795d79eff9d5298c11dce4f4cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad791b795d79eff9d5298c11dce4f4cae">&#9670;&nbsp;</a></span>is_valid() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::is_valid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classint__id.html">int_id</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether the factory contains an object with the given id. </p>
<p>This function can be used to implement <a class="el" href="classint__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">int_id::is_valid()</a>. </p>

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00491">491</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                                                   {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( <span class="keywordtype">id</span>.to_i() ) &lt; <a class="code" href="classgeneric__factory.html#ab1533a20b5cec8bbca9477ca423799c2">list</a>.size();</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="generic__factory_8h_source.html#l00140">generic_factory&lt; T &gt;::list</a>.</p>

<p class="reference">Referenced by <a class="el" href="generic__factory_8h_source.html#l00150">generic_factory&lt; T &gt;::find_id()</a>, and <a class="el" href="generic__factory_8h_source.html#l00465">generic_factory&lt; T &gt;::obj()</a>.</p>

</div>
</div>
<a id="aa6693230bb29ac610ba4f40b035c3111"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6693230bb29ac610ba4f40b035c3111">&#9670;&nbsp;</a></span>is_valid() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::is_valid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstring__id.html">string_id</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether the factory contains an object with the given id. </p>
<p>This function can be used to implement <a class="el" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid()</a>. </p>

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00498">498</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                                                      {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <a class="code" href="classint__id.html">int_id&lt;T&gt;</a> dummy;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classgeneric__factory.html#a9fc0770288024f0a9f4ccf1e40e4831f">find_id</a>( <span class="keywordtype">id</span>, dummy );</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="generic__factory_8h_source.html#l00150">generic_factory&lt; T &gt;::find_id()</a>.</p>

</div>
</div>
<a id="a9662f3e04a7d9f2a88184c8bd8429368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9662f3e04a7d9f2a88184c8bd8429368">&#9670;&nbsp;</a></span>is_valid() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::is_valid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeneric__factory_1_1Version.html">Version</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00553">553</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                                          {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <span class="keywordflow">return</span> v.version == <a class="code" href="classgeneric__factory.html#afc807b15c1016c7425d02caeaaa5cade">version</a>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="generic__factory_8h_source.html#l00131">generic_factory&lt; T &gt;::version</a>, and <a class="el" href="generic__factory_8h_source.html#l00537">generic_factory&lt; T &gt;::Version::version</a>.</p>

</div>
</div>
<a id="a188c69a1ec8af93cb8ffa4b656165cec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a188c69a1ec8af93cb8ffa4b656165cec">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::load </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load an object of type T with the data from the given JSON object. </p>
<p>The id of the object is taken from the JSON object. The object data is loaded by calling <code>T::load(jo)</code> (either on a new object or on an existing object). See class documentation for intended behavior of that function.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classJsonError.html">JsonError</a></td><td>If loading fails for any reason (thrown by <code>T::load</code>). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00290">290</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                                                                {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> = src == <span class="stringliteral">&quot;dda&quot;</span>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keyword">static</span> <span class="keyword">const</span> std::string abstract_member_name( <span class="stringliteral">&quot;abstract&quot;</span> );</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            T def;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classgeneric__factory.html#ae434ad40173f2a5d274149d97cf16883">handle_inheritance</a>( def, jo, src ) ) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">has_string</a>( <a class="code" href="classgeneric__factory.html#a3f97491bc83df78228a7f47c313a72eb">id_member_name</a> ) ) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                def.id = <a class="code" href="classstring__id.html">string_id&lt;T&gt;</a>( jo.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <a class="code" href="classgeneric__factory.html#a3f97491bc83df78228a7f47c313a72eb">id_member_name</a> ) );</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                <a class="code" href="structmod__tracker.html#a272aa086947c2f7a400ce763afef64e0">mod_tracker::assign_src</a>( def, src );</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                def.load( jo, src );</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                <a class="code" href="classgeneric__factory.html#a28acb5569ab205dd08d5e51a366f39ca">insert</a>( def );</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">has_member</a>( <a class="code" href="classgeneric__factory.html#a278bbb310d6cd8f2416ab06d5650b600">alias_member_name</a> ) ) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    std::set&lt;string_id&lt;T&gt;&gt; aliases;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <a class="code" href="classgeneric__factory.html#a278bbb310d6cd8f2416ab06d5650b600">alias_member_name</a>, aliases, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classint__id.html">int_id&lt;T&gt;</a> ref = <a class="code" href="classmap.html">map</a>[def.id];</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : aliases ) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                        <a class="code" href="classmap.html">map</a>[e] = ref;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">has_array</a>( <a class="code" href="classgeneric__factory.html#a3f97491bc83df78228a7f47c313a72eb">id_member_name</a> ) ) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <span class="keywordflow">for</span>( <a class="code" href="classJsonValue.html">JsonValue</a> e : jo.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <a class="code" href="classgeneric__factory.html#a3f97491bc83df78228a7f47c313a72eb">id_member_name</a> ) ) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                    T def;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                    <span class="keywordflow">if</span>( !<a class="code" href="classgeneric__factory.html#ae434ad40173f2a5d274149d97cf16883">handle_inheritance</a>( def, jo, src ) ) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                    }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                    def.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a> = <a class="code" href="classstring__id.html">string_id&lt;T&gt;</a>( e );</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                    <a class="code" href="structmod__tracker.html#a272aa086947c2f7a400ce763afef64e0">mod_tracker::assign_src</a>( def, src );</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                    def.load( jo, src );</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                    <a class="code" href="classgeneric__factory.html#a28acb5569ab205dd08d5e51a366f39ca">insert</a>( def );</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">has_member</a>( <a class="code" href="classgeneric__factory.html#a278bbb310d6cd8f2416ab06d5650b600">alias_member_name</a> ) ) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                    jo.<a class="code" href="classJsonObject.html#af3e3ae76afc340c1fa3510acaaba57b8">throw_error</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;can not specify &#39;%s&#39; when &#39;%s&#39; is array&quot;</span>,</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                                                   <a class="code" href="classgeneric__factory.html#a278bbb310d6cd8f2416ab06d5650b600">alias_member_name</a>, <a class="code" href="classgeneric__factory.html#a3f97491bc83df78228a7f47c313a72eb">id_member_name</a> ) );</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">has_string</a>( <a class="code" href="classgeneric__factory.html#a59e6a1bce525ae42ab4dc74715fa961d">legacy_id_member_name</a> ) ) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                def.id = <a class="code" href="classstring__id.html">string_id&lt;T&gt;</a>( jo.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <a class="code" href="classgeneric__factory.html#a59e6a1bce525ae42ab4dc74715fa961d">legacy_id_member_name</a> ) );</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                <a class="code" href="structmod__tracker.html#a272aa086947c2f7a400ce763afef64e0">mod_tracker::assign_src</a>( def, src );</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                def.load( jo, src );</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                <a class="code" href="classgeneric__factory.html#a28acb5569ab205dd08d5e51a366f39ca">insert</a>( def );</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">has_member</a>( <a class="code" href="classgeneric__factory.html#a278bbb310d6cd8f2416ab06d5650b600">alias_member_name</a> ) ) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                    std::set&lt;string_id&lt;T&gt;&gt; aliases;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <a class="code" href="classgeneric__factory.html#a278bbb310d6cd8f2416ab06d5650b600">alias_member_name</a>, aliases, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classint__id.html">int_id&lt;T&gt;</a> ref = <a class="code" href="classmap.html">map</a>[def.id];</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : aliases ) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                        <a class="code" href="classmap.html">map</a>[e] = ref;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                    }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">has_array</a>( <a class="code" href="classgeneric__factory.html#a59e6a1bce525ae42ab4dc74715fa961d">legacy_id_member_name</a> ) ) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classJsonValue.html">JsonValue</a> e : jo.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <a class="code" href="classgeneric__factory.html#a59e6a1bce525ae42ab4dc74715fa961d">legacy_id_member_name</a> ) ) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                    T def;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    <span class="keywordflow">if</span>( !<a class="code" href="classgeneric__factory.html#ae434ad40173f2a5d274149d97cf16883">handle_inheritance</a>( def, jo, src ) ) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                    }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                    def.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a> = <a class="code" href="classstring__id.html">string_id&lt;T&gt;</a>( e );</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                    <a class="code" href="structmod__tracker.html#a272aa086947c2f7a400ce763afef64e0">mod_tracker::assign_src</a>( def, src );</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                    def.load( jo, src );</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                    <a class="code" href="classgeneric__factory.html#a28acb5569ab205dd08d5e51a366f39ca">insert</a>( def );</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">has_member</a>( <a class="code" href="classgeneric__factory.html#a278bbb310d6cd8f2416ab06d5650b600">alias_member_name</a> ) ) {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                    jo.<a class="code" href="classJsonObject.html#af3e3ae76afc340c1fa3510acaaba57b8">throw_error</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;can not specify &#39;%s&#39; when &#39;%s&#39; is array&quot;</span>,</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                                                   <a class="code" href="classgeneric__factory.html#a278bbb310d6cd8f2416ab06d5650b600">alias_member_name</a>, <a class="code" href="classgeneric__factory.html#a59e6a1bce525ae42ab4dc74715fa961d">legacy_id_member_name</a> ) );</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !jo.<a class="code" href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">has_string</a>( abstract_member_name ) ) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                jo.<a class="code" href="classJsonObject.html#af3e3ae76afc340c1fa3510acaaba57b8">throw_error</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;must specify either &#39;%s&#39; or &#39;%s&#39;/&#39;%s&#39;&quot;</span>,</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                                               abstract_member_name, <a class="code" href="classgeneric__factory.html#a3f97491bc83df78228a7f47c313a72eb">id_member_name</a>, <a class="code" href="classgeneric__factory.html#a59e6a1bce525ae42ab4dc74715fa961d">legacy_id_member_name</a> ) );</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        }</div>
<div class="ttc" id="aassign_8cpp_html_a5581e512c94617323eeed670afe0e49a"><div class="ttname"><a href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a></div><div class="ttdeci">bool assign(const JsonObject &amp;jo, const std::string_view name, bool &amp;val, bool strict)</div><div class="ttdef"><b>Definition:</b> <a href="assign_8cpp_source.html#l00023">assign.cpp:23</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a4d917fcb285203f91b74002565375dce"><div class="ttname"><a href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00984">flexbuffer_json-inl.h:984</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a619cb4eae7922f357db47479fc71cf9b"><div class="ttname"><a href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">JsonObject::has_member</a></div><div class="ttdeci">bool has_member(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00944">flexbuffer_json-inl.h:944</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a88142edb1dd9ea1e7a96c7a99cd70896"><div class="ttname"><a href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00855">flexbuffer_json-inl.h:855</a></div></div>
<div class="ttc" id="aclassJsonValue_html"><div class="ttname"><a href="classJsonValue.html">JsonValue</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00166">flexbuffer_json.h:167</a></div></div>
<div class="ttc" id="aclassgeneric__factory_html_a28acb5569ab205dd08d5e51a366f39ca"><div class="ttname"><a href="classgeneric__factory.html#a28acb5569ab205dd08d5e51a366f39ca">generic_factory::insert</a></div><div class="ttdeci">T &amp; insert(const T &amp;obj)</div><div class="ttdoc">Add an object to the factory, without loading from JSON.</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00374">generic_factory.h:374</a></div></div>
<div class="ttc" id="aclassgeneric__factory_html_ae434ad40173f2a5d274149d97cf16883"><div class="ttname"><a href="classgeneric__factory.html#ae434ad40173f2a5d274149d97cf16883">generic_factory::handle_inheritance</a></div><div class="ttdeci">bool handle_inheritance(T &amp;def, const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdoc">Perform JSON inheritance handling for T def and returns true if JsonObject is real.</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00240">generic_factory.h:240</a></div></div>
<div class="ttc" id="aclassint__id_html_a88b1e0c550f4d6f36cac7a73feca7f01"><div class="ttname"><a href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">int_id::id</a></div><div class="ttdeci">const string_id&lt; T &gt; &amp; id() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00033">ammo_effect.cpp:33</a></div></div>
<div class="ttc" id="acreature_8h_html_a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792"><div class="ttname"><a href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">body_part_filter::strict</a></div><div class="ttdeci">@ strict</div></div>
<div class="ttc" id="astructmod__tracker_html_a272aa086947c2f7a400ce763afef64e0"><div class="ttname"><a href="structmod__tracker.html#a272aa086947c2f7a400ce763afef64e0">mod_tracker::assign_src</a></div><div class="ttdeci">static void assign_src(T &amp;, const std::string_view)</div><div class="ttdoc">Dummy function, for if those conditions are not satisfied.</div><div class="ttdef"><b>Definition:</b> <a href="mod__tracker_8h_source.html#l00045">mod_tracker.h:45</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="generic__factory_8h_source.html#l00146">generic_factory&lt; T &gt;::alias_member_name</a>, <a class="el" href="assign_8cpp_source.html#l00023">assign()</a>, <a class="el" href="mod__tracker_8h_source.html#l00045">mod_tracker::assign_src()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00855">JsonObject::get_array()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00813">JsonObject::get_string()</a>, <a class="el" href="generic__factory_8h_source.html#l00240">generic_factory&lt; T &gt;::handle_inheritance()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00984">JsonObject::has_array()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00944">JsonObject::has_member()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00972">JsonObject::has_string()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00033">int_id&lt; T &gt;::id()</a>, <a class="el" href="generic__factory_8h_source.html#l00145">generic_factory&lt; T &gt;::id_member_name</a>, <a class="el" href="generic__factory_8h_source.html#l00374">generic_factory&lt; T &gt;::insert()</a>, <a class="el" href="generic__factory_8h_source.html#l00148">generic_factory&lt; T &gt;::legacy_id_member_name</a>, <a class="el" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, and <a class="el" href="flexbuffer__json_8cpp_source.html#l00353">JsonObject::throw_error()</a>.</p>

</div>
</div>
<a id="a83fa4ecd92b558ac1b1a4250c7e61f43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83fa4ecd92b558ac1b1a4250c7e61f43">&#9670;&nbsp;</a></span>obj() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const T&amp; <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::obj </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classint__id.html">int_id</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the object with the given id. </p>
<p>The input id should be valid, otherwise a debug message is issued. This function can be used to implement <a class="el" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">int_id::obj()</a>. Note: If the id was valid, the returned object can be modified (after casting the const away). </p>

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00465">465</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                                                  {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classgeneric__factory.html#ad791b795d79eff9d5298c11dce4f4cae">is_valid</a>( <span class="keywordtype">id</span> ) ) {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;invalid %s id \&quot;%d\&quot;&quot;</span>, <a class="code" href="classgeneric__factory.html#a00b41f19d8226b9cfae4976d937a07d7">type_name</a>, <span class="keywordtype">id</span>.to_i() );</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classgeneric__factory.html#ac475c071a057a30e42e81361855068be">dummy_obj</a>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classgeneric__factory.html#ab1533a20b5cec8bbca9477ca423799c2">list</a>[<span class="keywordtype">id</span>.to_i()];</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="generic__factory_8h_source.html#l00183">generic_factory&lt; T &gt;::dummy_obj</a>, <a class="el" href="generic__factory_8h_source.html#l00491">generic_factory&lt; T &gt;::is_valid()</a>, <a class="el" href="generic__factory_8h_source.html#l00140">generic_factory&lt; T &gt;::list</a>, and <a class="el" href="generic__factory_8h_source.html#l00144">generic_factory&lt; T &gt;::type_name</a>.</p>

<p class="reference">Referenced by <a class="el" href="generic__factory_8h_source.html#l00413">generic_factory&lt; T &gt;::check()</a>, <a class="el" href="generic__factory_8h_source.html#l00520">generic_factory&lt; T &gt;::convert()</a>, <a class="el" href="generic__factory_8h_source.html#l00240">generic_factory&lt; T &gt;::handle_inheritance()</a>, and <a class="el" href="generic__factory_8h_source.html#l00374">generic_factory&lt; T &gt;::insert()</a>.</p>

</div>
</div>
<a id="ac5bb3f9c64c34186437c70fec3db729f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5bb3f9c64c34186437c70fec3db729f">&#9670;&nbsp;</a></span>obj() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const T&amp; <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::obj </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstring__id.html">string_id</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the object with the given id. </p>
<p>The input id should be valid, otherwise a debug message is issued. This function can be used to implement <a class="el" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj()</a>. Note: If the id was valid, the returned object can be modified (after casting the const away). </p>

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00479">479</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                                                     {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <a class="code" href="classint__id.html">int_id&lt;T&gt;</a> i_id;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classgeneric__factory.html#a9fc0770288024f0a9f4ccf1e40e4831f">find_id</a>( <span class="keywordtype">id</span>, i_id ) ) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;invalid %s id \&quot;%s\&quot;&quot;</span>, <a class="code" href="classgeneric__factory.html#a00b41f19d8226b9cfae4976d937a07d7">type_name</a>, <span class="keywordtype">id</span>.c_str() );</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classgeneric__factory.html#ac475c071a057a30e42e81361855068be">dummy_obj</a>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classgeneric__factory.html#ab1533a20b5cec8bbca9477ca423799c2">list</a>[i_id.<a class="code" href="classint__id.html#a99e80dcc802865c122fc1dfd8db8fc85">to_i</a>()];</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="generic__factory_8h_source.html#l00183">generic_factory&lt; T &gt;::dummy_obj</a>, <a class="el" href="generic__factory_8h_source.html#l00150">generic_factory&lt; T &gt;::find_id()</a>, <a class="el" href="generic__factory_8h_source.html#l00140">generic_factory&lt; T &gt;::list</a>, <a class="el" href="int__id_8h_source.html#l00087">int_id&lt; T &gt;::to_i()</a>, and <a class="el" href="generic__factory_8h_source.html#l00144">generic_factory&lt; T &gt;::type_name</a>.</p>

</div>
</div>
<a id="a9ca51ed828af83a8a6a6b094416ce10d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ca51ed828af83a8a6a6b094416ce10d">&#9670;&nbsp;</a></span>remove_aliases()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::remove_aliases </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstring__id.html">string_id</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00167">167</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                                                      {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <a class="code" href="classint__id.html">int_id&lt;T&gt;</a> i_id;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classgeneric__factory.html#a9fc0770288024f0a9f4ccf1e40e4831f">find_id</a>( <span class="keywordtype">id</span>, i_id ) ) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keyword">auto</span> iter = <a class="code" href="classmap.html">map</a>.begin();</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a> = <a class="code" href="classmap.html">map</a>.end();</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="keywordflow">while</span>( iter != <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a> ) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                <span class="keywordflow">if</span>( iter-&gt;second == i_id &amp;&amp; iter-&gt;first != <span class="keywordtype">id</span> ) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    <a class="code" href="classmap.html">map</a>.erase( iter++ );</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    ++iter;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        }</div>
<div class="ttc" id="anamespacekeycode_html_a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac"><div class="ttname"><a href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">keycode::end</a></div><div class="ttdeci">@ end</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00095">input.h:95</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8h_source.html#l00095">keycode::end</a>, and <a class="el" href="generic__factory_8h_source.html#l00150">generic_factory&lt; T &gt;::find_id()</a>.</p>

</div>
</div>
<a id="aec0a5f6472294607c250b9692386d9e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec0a5f6472294607c250b9692386d9e1">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes all loaded objects. </p>
<p>Postcondition: <code><a class="el" href="classgeneric__factory.html#a28cb2cc91b5bb273f041ab97fc5f755c" title="Returns the number of loaded objects.">size()</a> == 0</code> </p>

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00434">434</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                     {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="comment">/* Avoid unvisited member errors when iterating on json */</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <span class="keywordflow">for</span>( std::pair&lt;JsonObject, std::string&gt; &amp;deferred_json : <a class="code" href="classgeneric__factory.html#a0e1925c814a88ec115f315f8d3ec354a">deferred</a> ) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                deferred_json.first.allow_omitted_members();</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <a class="code" href="classgeneric__factory.html#a0e1925c814a88ec115f315f8d3ec354a">deferred</a>.clear();</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <a class="code" href="classgeneric__factory.html#ab1533a20b5cec8bbca9477ca423799c2">list</a>.clear();</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <a class="code" href="classmap.html">map</a>.clear();</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <a class="code" href="classgeneric__factory.html#a44d61db322979fc7fe1f92b57b9e28c4">inc_version</a>();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="generic__factory_8h_source.html#l00126">generic_factory&lt; T &gt;::deferred</a>, <a class="el" href="generic__factory_8h_source.html#l00133">generic_factory&lt; T &gt;::inc_version()</a>, and <a class="el" href="generic__factory_8h_source.html#l00140">generic_factory&lt; T &gt;::list</a>.</p>

</div>
</div>
<a id="a28cb2cc91b5bb273f041ab97fc5f755c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28cb2cc91b5bb273f041ab97fc5f755c">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of loaded objects. </p>

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00421">421</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                            {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classgeneric__factory.html#ab1533a20b5cec8bbca9477ca423799c2">list</a>.size();</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="generic__factory_8h_source.html#l00140">generic_factory&lt; T &gt;::list</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac4f2f975c0ec0556558d9f6098bb2eb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4f2f975c0ec0556558d9f6098bb2eb5">&#9670;&nbsp;</a></span>abstracts</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;std::string, T&gt; <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::abstracts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00142">142</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="generic__factory_8h_source.html#l00400">generic_factory&lt; T &gt;::finalize()</a>, <a class="el" href="generic__factory_8h_source.html#l00240">generic_factory&lt; T &gt;::handle_inheritance()</a>, and <a class="el" href="generic__factory_8h_source.html#l00220">generic_factory&lt; T &gt;::handle_inheritance_on_T()</a>.</p>

</div>
</div>
<a id="a278bbb310d6cd8f2416ab06d5650b600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a278bbb310d6cd8f2416ab06d5650b600">&#9670;&nbsp;</a></span>alias_member_name</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::alias_member_name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00146">146</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="generic__factory_8h_source.html#l00290">generic_factory&lt; T &gt;::load()</a>.</p>

</div>
</div>
<a id="a0e1925c814a88ec115f315f8d3ec354a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e1925c814a88ec115f315f8d3ec354a">&#9670;&nbsp;</a></span>deferred</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDynamicDataLoader.html#a3586416b8ec3f7829e449c74d0dc1666">DynamicDataLoader::deferred_json</a> <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::deferred</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00126">126</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="generic__factory_8h_source.html#l00400">generic_factory&lt; T &gt;::finalize()</a>, <a class="el" href="generic__factory_8h_source.html#l00240">generic_factory&lt; T &gt;::handle_inheritance()</a>, and <a class="el" href="generic__factory_8h_source.html#l00434">generic_factory&lt; T &gt;::reset()</a>.</p>

</div>
</div>
<a id="ac475c071a057a30e42e81361855068be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac475c071a057a30e42e81361855068be">&#9670;&nbsp;</a></span>dummy_obj</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const T <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::dummy_obj</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00183">183</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="generic__factory_8h_source.html#l00465">generic_factory&lt; T &gt;::obj()</a>.</p>

</div>
</div>
<a id="a3f97491bc83df78228a7f47c313a72eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f97491bc83df78228a7f47c313a72eb">&#9670;&nbsp;</a></span>id_member_name</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::id_member_name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00145">145</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="generic__factory_8h_source.html#l00240">generic_factory&lt; T &gt;::handle_inheritance()</a>, and <a class="el" href="generic__factory_8h_source.html#l00290">generic_factory&lt; T &gt;::load()</a>.</p>

</div>
</div>
<a id="ad53ebd3a18d417c6faaf7a1a11349fe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad53ebd3a18d417c6faaf7a1a11349fe0">&#9670;&nbsp;</a></span>initialized</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const bool <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::initialized</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00186">186</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>

</div>
</div>
<a id="a59e6a1bce525ae42ab4dc74715fa961d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59e6a1bce525ae42ab4dc74715fa961d">&#9670;&nbsp;</a></span>legacy_id_member_name</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::legacy_id_member_name = &quot;ident&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00148">148</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="generic__factory_8h_source.html#l00240">generic_factory&lt; T &gt;::handle_inheritance()</a>, and <a class="el" href="generic__factory_8h_source.html#l00290">generic_factory&lt; T &gt;::load()</a>.</p>

</div>
</div>
<a id="ab1533a20b5cec8bbca9477ca423799c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1533a20b5cec8bbca9477ca423799c2">&#9670;&nbsp;</a></span>list</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;T&gt; <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00140">140</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="generic__factory_8h_source.html#l00413">generic_factory&lt; T &gt;::check()</a>, <a class="el" href="generic__factory_8h_source.html#l00427">generic_factory&lt; T &gt;::empty()</a>, <a class="el" href="generic__factory_8h_source.html#l00400">generic_factory&lt; T &gt;::finalize()</a>, <a class="el" href="generic__factory_8h_source.html#l00447">generic_factory&lt; T &gt;::get_all()</a>, <a class="el" href="generic__factory_8h_source.html#l00374">generic_factory&lt; T &gt;::insert()</a>, <a class="el" href="generic__factory_8h_source.html#l00491">generic_factory&lt; T &gt;::is_valid()</a>, <a class="el" href="generic__factory_8h_source.html#l00465">generic_factory&lt; T &gt;::obj()</a>, <a class="el" href="generic__factory_8h_source.html#l00434">generic_factory&lt; T &gt;::reset()</a>, and <a class="el" href="generic__factory_8h_source.html#l00421">generic_factory&lt; T &gt;::size()</a>.</p>

</div>
</div>
<a id="ac0371431fff4081a19ccea603069765d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0371431fff4081a19ccea603069765d">&#9670;&nbsp;</a></span>map</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;<a class="el" href="classstring__id.html">string_id</a>&lt;T&gt;, <a class="el" href="classint__id.html">int_id</a>&lt;T&gt; &gt; <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::<a class="el" href="classmap.html">map</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00141">141</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>

</div>
</div>
<a id="a00b41f19d8226b9cfae4976d937a07d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00b41f19d8226b9cfae4976d937a07d7">&#9670;&nbsp;</a></span>type_name</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::type_name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00144">144</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="generic__factory_8h_source.html#l00506">generic_factory&lt; T &gt;::convert()</a>, and <a class="el" href="generic__factory_8h_source.html#l00465">generic_factory&lt; T &gt;::obj()</a>.</p>

</div>
</div>
<a id="afc807b15c1016c7425d02caeaaa5cade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc807b15c1016c7425d02caeaaa5cade">&#9670;&nbsp;</a></span>version</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t <a class="el" href="classgeneric__factory.html">generic_factory</a>&lt; T &gt;::version = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="generic__factory_8h_source.html#l00131">131</a> of file <a class="el" href="generic__factory_8h_source.html">generic_factory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="generic__factory_8h_source.html#l00400">generic_factory&lt; T &gt;::finalize()</a>, <a class="el" href="generic__factory_8h_source.html#l00150">generic_factory&lt; T &gt;::find_id()</a>, <a class="el" href="generic__factory_8h_source.html#l00548">generic_factory&lt; T &gt;::get_version()</a>, <a class="el" href="generic__factory_8h_source.html#l00133">generic_factory&lt; T &gt;::inc_version()</a>, <a class="el" href="generic__factory_8h_source.html#l00374">generic_factory&lt; T &gt;::insert()</a>, and <a class="el" href="generic__factory_8h_source.html#l00553">generic_factory&lt; T &gt;::is_valid()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="ammo__effect_8h_source.html">ammo_effect.h</a></li>
<li>src/<a class="el" href="generic__factory_8h_source.html">generic_factory.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:38 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
