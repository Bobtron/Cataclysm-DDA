<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: src/mission_start.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">mission_start.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="mission__start_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mission_8h.html">mission.h</a>&quot;</span> <span class="comment">// IWYU pragma: associated</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;new&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avatar_8h.html">avatar.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="character_8h.html">character.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="computer_8h.html">computer.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="coordinates_8h.html">coordinates.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="debug_8h.html">debug.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="enum__traits_8h.html">enum_traits.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="game_8h.html">game.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="game__constants_8h.html">game_constants.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="item_8h.html">item.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="line_8h.html">line.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="map_8h.html">map.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="map__iterator_8h.html">map_iterator.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mapdata_8h.html">mapdata.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="messages_8h.html">messages.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="npc_8h.html">npc.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="npc__class_8h.html">npc_class.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="omdata_8h.html">omdata.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="overmap_8h.html">overmap.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="overmapbuffer_8h.html">overmapbuffer.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="point_8h.html">point.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rng_8h.html">rng.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string__formatter_8h.html">string_formatter.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="translations_8h.html">translations.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="units_8h.html">units.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="mission__start_8cpp.html#a3dde9e2cf73d1265bb52f8fb655cab9d">   33</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">furn_str_id</a> <a class="code" href="mission__start_8cpp.html#a3dde9e2cf73d1265bb52f8fb655cab9d">furn_f_bed</a>( <span class="stringliteral">&quot;f_bed&quot;</span> );</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="mission__start_8cpp.html#a3730e68044d56bf12a097adf135f083a">   34</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">furn_str_id</a> <a class="code" href="mission__start_8cpp.html#a3730e68044d56bf12a097adf135f083a">furn_f_console</a>( <span class="stringliteral">&quot;f_console&quot;</span> );</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="mission__start_8cpp.html#ad7c5192820b87a225e2cec6014c0286e">   35</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">furn_str_id</a> <a class="code" href="mission__start_8cpp.html#ad7c5192820b87a225e2cec6014c0286e">furn_f_console_broken</a>( <span class="stringliteral">&quot;f_console_broken&quot;</span> );</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="mission__start_8cpp.html#a6675e0d0852e7b6bb4af62bf9cb9b935">   36</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">furn_str_id</a> <a class="code" href="mission__start_8cpp.html#a6675e0d0852e7b6bb4af62bf9cb9b935">furn_f_dresser</a>( <span class="stringliteral">&quot;f_dresser&quot;</span> );</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="mission__start_8cpp.html#abcb9fc1c70e20215e07cc8a4559a9374">   38</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> <a class="code" href="mission__start_8cpp.html#abcb9fc1c70e20215e07cc8a4559a9374">itype_software_hacking</a>( <span class="stringliteral">&quot;software_hacking&quot;</span> );</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="mission__start_8cpp.html#a66935a96203e3079422bd9bf8b4d9994">   39</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> <a class="code" href="mission__start_8cpp.html#a66935a96203e3079422bd9bf8b4d9994">itype_software_math</a>( <span class="stringliteral">&quot;software_math&quot;</span> );</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="mission__start_8cpp.html#a1b232745a34e6b6ed514c6f4de2b9dd0">   40</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> <a class="code" href="mission__start_8cpp.html#a1b232745a34e6b6ed514c6f4de2b9dd0">itype_software_medical</a>( <span class="stringliteral">&quot;software_medical&quot;</span> );</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="mission__start_8cpp.html#aec2168b922e35574966b8374c8226795">   41</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> <a class="code" href="mission__start_8cpp.html#aec2168b922e35574966b8374c8226795">itype_software_useless</a>( <span class="stringliteral">&quot;software_useless&quot;</span> );</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">mission_type_id</a></div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="mission__start_8cpp.html#ac549abdfabe57ff3fc23a0454f126e66">   44</a></span>&#160;<a class="code" href="mission__start_8cpp.html#ac549abdfabe57ff3fc23a0454f126e66">mission_MISSION_GET_ZOMBIE_BLOOD_ANAL</a>( <span class="stringliteral">&quot;MISSION_GET_ZOMBIE_BLOOD_ANAL&quot;</span> );</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="mission__start_8cpp.html#af2540b2bf274cc61340154c538845226">   46</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">ter_str_id</a> <a class="code" href="mission__start_8cpp.html#af2540b2bf274cc61340154c538845226">ter_t_floor</a>( <span class="stringliteral">&quot;t_floor&quot;</span> );</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="mission__start_8cpp.html#a45826cbee011da2da18e278447ca09cd">   47</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">ter_str_id</a> <a class="code" href="mission__start_8cpp.html#a45826cbee011da2da18e278447ca09cd">ter_t_wall_metal</a>( <span class="stringliteral">&quot;t_wall_metal&quot;</span> );</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">/* These functions are responsible for making changes to the game at the moment</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> * the mission is accepted by the player.  They are also responsible for</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> * updating *miss with the target and any other important information.</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="structmission__start.html#a2ffbfc8ed14ed72c28852ede7f8d5c4e">   54</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structmission__start.html#a2ffbfc8ed14ed72c28852ede7f8d5c4e">mission_start::standard</a>( <a class="code" href="classmission.html">mission</a> * )</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="structmission__start.html#ace095b81ae63a1f44041e4dba0ec0755">   58</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structmission__start.html#ace095b81ae63a1f44041e4dba0ec0755">mission_start::kill_nemesis</a>( <a class="code" href="classmission.html">mission</a> * )</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">// Pick an area for the nemesis to spawn</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// Force z = 0 for overmapbuffer::find_random. (spawning on a rooftop is valid!)</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="cata__tiles_8h.html#affa90804269b044a43867f93746f8f8eaadb115059e28d960fa8badfac5516667">center</a> = { <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>().<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>(), 0 };</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> site = <a class="code" href="classovermap.html#aa0999e49bed45fc1eb5e30498b8934f4">overmap::invalid_tripoint</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> std::array&lt;float, 3&gt; attempts_multipliers {1.0f, 1.5f, 2.f};</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordtype">size_t</span> attempt = 0;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keywordflow">if</span>( attempt++ &gt;= attempts_multipliers.size() ) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Failed adding a nemesis mission&quot;</span> );</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordtype">int</span> range = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 40, 80 ) * attempts_multipliers[attempt - 1];</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        site = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a40603f9effad6b0348669d75feeb136f">find_random</a>( <a class="code" href="cata__tiles_8h.html#affa90804269b044a43867f93746f8f8eaadb115059e28d960fa8badfac5516667">center</a>, <span class="stringliteral">&quot;field&quot;</span>, range, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    } <span class="keywordflow">while</span>( site == <a class="code" href="classovermap.html#aa0999e49bed45fc1eb5e30498b8934f4">overmap::invalid_tripoint</a> );</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a9eadb45bd37ceaecd0075fdf3ef80987">add_nemesis</a>( site );</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"> * Find a location to place a computer.  In order, prefer:</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"> * 1) Broken consoles.</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment"> * 2) Corners or coords adjacent to a bed/dresser? (this logic may be flawed, dates from Whales in 2011)</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment"> * 3) A spot near the center of the tile that is not a console</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment"> * 4) A random spot near the center of the tile.</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="mission__start_8cpp.html#a6c5b69497314c873013f76a7d12819f3">   87</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structtripoint.html">tripoint</a> <a class="code" href="mission__start_8cpp.html#a6c5b69497314c873013f76a7d12819f3">find_potential_computer_point</a>( <span class="keyword">const</span> <a class="code" href="classtinymap.html">tinymap</a> &amp;compmap )</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;{</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    constexpr <span class="keywordtype">int</span> rng_x_min = 10;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    constexpr <span class="keywordtype">int</span> rng_x_max = <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> * 2 - 11;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    constexpr <span class="keywordtype">int</span> rng_y_min = 10;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    constexpr <span class="keywordtype">int</span> rng_y_max = <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> * 2 - 11;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    static_assert( rng_x_min &lt;= rng_x_max &amp;&amp; rng_y_min &lt;= rng_y_max, <span class="stringliteral">&quot;invalid randomization range&quot;</span> );</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    std::vector&lt;tripoint&gt; <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9a1f85e94c05010d1308d67d1d918944e4">broken</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    std::vector&lt;tripoint&gt; potential;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    std::vector&lt;tripoint&gt; last_resort;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : compmap.<a class="code" href="classtinymap.html#a34209f3f56186ca73cff932299a9a7ee">points_on_zlevel</a>() ) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">if</span>( compmap.<a class="code" href="classtinymap.html#a1ff55141b309333acfeac9cd975ec5a9">furn</a>( p ) == <a class="code" href="mission__start_8cpp.html#ad7c5192820b87a225e2cec6014c0286e">furn_f_console_broken</a> ) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9a1f85e94c05010d1308d67d1d918944e4">broken</a>.emplace_back( p );</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9a1f85e94c05010d1308d67d1d918944e4">broken</a>.empty() &amp;&amp; compmap.<a class="code" href="classtinymap.html#a041d5fbaa136000aa438cab074331634">ter</a>( p ) == <a class="code" href="mission__start_8cpp.html#af2540b2bf274cc61340154c538845226">ter_t_floor</a> &amp;&amp;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                   compmap.<a class="code" href="classtinymap.html#a1ff55141b309333acfeac9cd975ec5a9">furn</a>( p ) == <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">furn_str_id::NULL_ID</a>() ) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p2 : compmap.<a class="code" href="classtinymap.html#a047ffc5979b3163eaf01d03eda485b8e">points_in_radius</a>( p, 1 ) ) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <span class="keywordflow">if</span>( compmap.<a class="code" href="classtinymap.html#a1ff55141b309333acfeac9cd975ec5a9">furn</a>( p2 ) == <a class="code" href="mission__start_8cpp.html#a3dde9e2cf73d1265bb52f8fb655cab9d">furn_f_bed</a> || compmap.<a class="code" href="classtinymap.html#a1ff55141b309333acfeac9cd975ec5a9">furn</a>( p2 ) == <a class="code" href="mission__start_8cpp.html#a6675e0d0852e7b6bb4af62bf9cb9b935">furn_f_dresser</a> ) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                    potential.emplace_back( p );</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="keywordtype">int</span> wall = 0;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p2 : compmap.<a class="code" href="classtinymap.html#a047ffc5979b3163eaf01d03eda485b8e">points_in_radius</a>( p, 1 ) ) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                <span class="keywordflow">if</span>( compmap.<a class="code" href="classtinymap.html#acd71fd6c75a3fc644051b61605d9b5b0">has_flag_ter</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a6701f7dc0aa6dba5a2a7cbb3568c3673">ter_furn_flag::TFLAG_WALL</a>, p2 ) ) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                    wall++;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="keywordflow">if</span>( wall == 5 ) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                <span class="keywordflow">if</span>( compmap.<a class="code" href="classtinymap.html#a1c681608e142164b1470af6be5b0dad3">is_last_ter_wall</a>( <span class="keyword">true</span>, p.xy(), <a class="code" href="structpoint.html">point</a>( <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> * 2, <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> * 2 ), <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a2bf8f791695c70efa9c14e6f1c326403">direction::NORTH</a> ) &amp;&amp;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    compmap.<a class="code" href="classtinymap.html#a1c681608e142164b1470af6be5b0dad3">is_last_ter_wall</a>( <span class="keyword">true</span>, p.xy(), <a class="code" href="structpoint.html">point</a>( <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> * 2, <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> * 2 ), <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a96e44fa82e5a5263fb92337be422d3eb">direction::SOUTH</a> ) &amp;&amp;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    compmap.<a class="code" href="classtinymap.html#a1c681608e142164b1470af6be5b0dad3">is_last_ter_wall</a>( <span class="keyword">true</span>, p.xy(), <a class="code" href="structpoint.html">point</a>( <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> * 2, <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> * 2 ), <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a83c9f5692281bf59471b13dfddb3af91">direction::WEST</a> ) &amp;&amp;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    compmap.<a class="code" href="classtinymap.html#a1c681608e142164b1470af6be5b0dad3">is_last_ter_wall</a>( <span class="keyword">true</span>, p.xy(), <a class="code" href="structpoint.html">point</a>( <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> * 2, <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> * 2 ), <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a45ac78bf3d4882ac520f4e7fb08d55c5">direction::EAST</a> ) ) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                    potential.emplace_back( p );</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9a1f85e94c05010d1308d67d1d918944e4">broken</a>.empty() &amp;&amp; potential.empty() &amp;&amp; p.x &gt;= rng_x_min &amp;&amp; p.x &lt;= rng_x_max</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                   &amp;&amp; p.y &gt;= rng_y_min &amp;&amp; p.y &lt;= rng_y_max &amp;&amp; compmap.<a class="code" href="classtinymap.html#a1ff55141b309333acfeac9cd975ec5a9">furn</a>( p ) != <a class="code" href="mission__start_8cpp.html#a3730e68044d56bf12a097adf135f083a">furn_f_console</a> ) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            last_resort.emplace_back( p );</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    std::vector&lt;tripoint&gt; *used = &amp;<a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9a1f85e94c05010d1308d67d1d918944e4">broken</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">if</span>( used-&gt;empty() ) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        used = &amp;potential;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span>( used-&gt;empty() ) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        used = &amp;last_resort;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">// if there&#39;s no possible location, then we have to overwrite an existing console...</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> fallback( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( rng_x_min, rng_x_max ), <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( rng_y_min, rng_y_max ),</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                             compmap.<a class="code" href="classtinymap.html#a35c31a2ab009ea1dcbd5d8cddd0ecdb7">get_abs_sub</a>().<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() );</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( *used, fallback );</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="structmission__start.html#a97ca191190e4a9f25c5ccfecb23660cb">  140</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structmission__start.html#a97ca191190e4a9f25c5ccfecb23660cb">mission_start::place_npc_software</a>( <a class="code" href="classmission.html">mission</a> *miss )</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="classnpc.html">npc</a> *dev = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;find_npc( miss-&gt;<a class="code" href="classmission.html#a4223b378e6f88e6d649b5cce29a21f2d">npc_id</a> );</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span>( dev == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Couldn&#39;t find NPC!  %d&quot;</span>, miss-&gt;<a class="code" href="classmission.html#a4223b378e6f88e6d649b5cce29a21f2d">npc_id</a>.<a class="code" href="classcharacter__id.html#a57a3bebd5dc5168d0b278cfccdbdcd18">get_value</a>() );</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCharacter.html#af04d061e415da9cb6f1fc234b04f3dfb">i_add</a>( <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( <span class="stringliteral">&quot;usb_drive&quot;</span>, <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> ) );</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s gave you a USB drive.&quot;</span> ), dev-&gt;<a class="code" href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">get_name</a>() );</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    std::string <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> = <span class="stringliteral">&quot;house&quot;</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">if</span>( dev-&gt;<a class="code" href="classnpc.html#a2d47ff8926fed9a85d1168e7e514f871">myclass</a> == <a class="code" href="npc__class_8cpp.html#a0d4a4ff1ff57b07fa4e4cea0ffeae4fd">NC_HACKER</a> ) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        miss-&gt;<a class="code" href="classmission.html#a8b056593b5b178c01806735bfe8e791d">item_id</a> = <a class="code" href="mission__start_8cpp.html#abcb9fc1c70e20215e07cc8a4559a9374">itype_software_hacking</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( dev-&gt;<a class="code" href="classnpc.html#a2d47ff8926fed9a85d1168e7e514f871">myclass</a> == <a class="code" href="npc__class_8cpp.html#a5b518312a35b00ba83dd76948bf1cf17">NC_DOCTOR</a> ) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        miss-&gt;<a class="code" href="classmission.html#a8b056593b5b178c01806735bfe8e791d">item_id</a> = <a class="code" href="mission__start_8cpp.html#a1b232745a34e6b6ed514c6f4de2b9dd0">itype_software_medical</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> std::set&lt;std::string&gt; pharmacies = { <span class="stringliteral">&quot;s_pharm&quot;</span>, <span class="stringliteral">&quot;s_pharm_1&quot;</span> };</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> = <a class="code" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( pharmacies );</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        miss-&gt;<a class="code" href="classmission.html#a00ae6d517faedf476eb89f88b916af53">follow_up</a> = <a class="code" href="mission__start_8cpp.html#ac549abdfabe57ff3fc23a0454f126e66">mission_MISSION_GET_ZOMBIE_BLOOD_ANAL</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( dev-&gt;<a class="code" href="classnpc.html#a2d47ff8926fed9a85d1168e7e514f871">myclass</a> == <a class="code" href="npc__class_8cpp.html#a772f41522bcef43f8b507a5716de65c6">NC_SCIENTIST</a> ) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        miss-&gt;<a class="code" href="classmission.html#a8b056593b5b178c01806735bfe8e791d">item_id</a> = <a class="code" href="mission__start_8cpp.html#a66935a96203e3079422bd9bf8b4d9994">itype_software_math</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        miss-&gt;<a class="code" href="classmission.html#a8b056593b5b178c01806735bfe8e791d">item_id</a> = <a class="code" href="mission__start_8cpp.html#aec2168b922e35574966b8374c8226795">itype_software_useless</a>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> place;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <span class="stringliteral">&quot;house&quot;</span> ) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        place = <a class="code" href="namespacemission__util.html#af70d949aa4ca6aa9ab3e6288f88fdb5d">mission_util::random_house_in_closest_city</a>();</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        place = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a60309f685adc56b0b7e5f69206e3cff4">find_closest</a>( dev-&gt;<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>(), <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, 0, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    miss-&gt;<a class="code" href="classmission.html#ad4ed25753c8c02bdfcd3f1590afa5488">target</a> = place;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a2d8c6ac98f85113aa8d9ce40be1f59d0">reveal</a>( place, 6 );</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="classtinymap.html">tinymap</a> compmap;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    compmap.<a class="code" href="classtinymap.html#a7f913ba5d8facdb8c3d6b759593095fc">load</a>( place, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> comppoint;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="classint__id.html">oter_id</a> oter = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aa9fbf966291f6b82de9c540262324aba">ter</a>( place );</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="overmap_8cpp.html#aa1967e14c4ef0be6b81c5405dae79281">is_ot_match</a>( <span class="stringliteral">&quot;house&quot;</span>, oter, <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a851f5ac9941d720844d143ed9cfcf60a">ot_match_type::prefix</a> ) ||</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="overmap_8cpp.html#aa1967e14c4ef0be6b81c5405dae79281">is_ot_match</a>( <span class="stringliteral">&quot;s_pharm&quot;</span>, oter, <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a851f5ac9941d720844d143ed9cfcf60a">ot_match_type::prefix</a> ) || oter.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>().<a class="code" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        comppoint = <a class="code" href="mission__start_8cpp.html#a6c5b69497314c873013f76a7d12819f3">find_potential_computer_point</a>( compmap );</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    compmap.<a class="code" href="classtinymap.html#a790e257e5c5602680a0640e18f8a7f87">i_clear</a>( comppoint );</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    compmap.<a class="code" href="classtinymap.html#a02c08cde7480ea6b856b661e6217ac59">furn_set</a>( comppoint, <a class="code" href="mission__start_8cpp.html#a3730e68044d56bf12a097adf135f083a">furn_f_console</a> );</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="classcomputer.html">computer</a> *tmpcomp = compmap.<a class="code" href="classtinymap.html#a252395f1689e685dac6508131569a3ca">add_computer</a>( comppoint, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s&#39;s Terminal&quot;</span> ),</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                        dev-&gt;<a class="code" href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">get_name</a>() ), 0 );</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    tmpcomp-&gt;<a class="code" href="classcomputer.html#a15cdaf5db62a3e81b8ef055f71e3d83c">set_mission</a>( miss-&gt;<a class="code" href="classmission.html#aac16dc2a81e99d01d5006ddfb7bf04c0">get_id</a>() );</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    tmpcomp-&gt;<a class="code" href="classcomputer.html#ae8f8e91897e627c168d10e4f4a07aa7f">add_option</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Download Software&quot;</span> ), <a class="code" href="computer_8h.html#a15e56cfb989e3db6887a8d1e0e94137da5b236600d298d81286dde31dc4be44b1">COMPACT_DOWNLOAD_SOFTWARE</a>, 0 );</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    compmap.<a class="code" href="classtinymap.html#a6bc669c8915ae41469ef8f0b5e925c3e">save</a>();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;}</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="structmission__start.html#a49b3d7ddc009dc2e7dca489582c23117">  193</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structmission__start.html#a49b3d7ddc009dc2e7dca489582c23117">mission_start::place_deposit_box</a>( <a class="code" href="classmission.html">mission</a> *miss )</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;{</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="classnpc.html">npc</a> *p = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;find_npc( miss-&gt;<a class="code" href="classmission.html#a4223b378e6f88e6d649b5cce29a21f2d">npc_id</a> );</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span>( p == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;could not find mission NPC %d&quot;</span>, miss-&gt;<a class="code" href="classmission.html#a4223b378e6f88e6d649b5cce29a21f2d">npc_id</a>.<a class="code" href="classcharacter__id.html#a57a3bebd5dc5168d0b278cfccdbdcd18">get_value</a>() );</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// Npc joins you</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    p-&gt;<a class="code" href="classnpc.html#a53c9eb784312e0594c5a9922668d630e">set_attitude</a>( <a class="code" href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4aee568a181e2bf1f4ef5122e0674b162d">NPCATT_FOLLOW</a> );</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> site =</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a60309f685adc56b0b7e5f69206e3cff4">find_closest</a>( p-&gt;<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>(), <span class="stringliteral">&quot;bank&quot;</span>, 0, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">if</span>( site == <a class="code" href="classovermap.html#aa0999e49bed45fc1eb5e30498b8934f4">overmap::invalid_tripoint</a> ) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        site = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a60309f685adc56b0b7e5f69206e3cff4">find_closest</a>( p-&gt;<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>(), <span class="stringliteral">&quot;office_tower_1&quot;</span>, 0, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">if</span>( site == <a class="code" href="classovermap.html#aa0999e49bed45fc1eb5e30498b8934f4">overmap::invalid_tripoint</a> ) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        site = p-&gt;<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Couldn&#39;t find a place for deposit box&quot;</span> );</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    miss-&gt;<a class="code" href="classmission.html#ad4ed25753c8c02bdfcd3f1590afa5488">target</a> = site;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a2d8c6ac98f85113aa8d9ce40be1f59d0">reveal</a>( site, 2 );</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="classtinymap.html">tinymap</a> compmap;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    compmap.<a class="code" href="classtinymap.html#a7f913ba5d8facdb8c3d6b759593095fc">load</a>( site, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    std::vector&lt;tripoint&gt; valid;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : compmap.<a class="code" href="classtinymap.html#a34209f3f56186ca73cff932299a9a7ee">points_on_zlevel</a>() ) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">if</span>( compmap.<a class="code" href="classtinymap.html#a041d5fbaa136000aa438cab074331634">ter</a>( p ) == <a class="code" href="mission__start_8cpp.html#af2540b2bf274cc61340154c538845226">ter_t_floor</a> ) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p2 : compmap.<a class="code" href="classtinymap.html#a047ffc5979b3163eaf01d03eda485b8e">points_in_radius</a>( p, 1 ) ) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                <span class="keywordflow">if</span>( compmap.<a class="code" href="classtinymap.html#a041d5fbaa136000aa438cab074331634">ter</a>( p2 ) == <a class="code" href="mission__start_8cpp.html#a45826cbee011da2da18e278447ca09cd">ter_t_wall_metal</a> ) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    valid.push_back( p );</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> fallback( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 6, <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> * 2 - 7 ), <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 6, <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> * 2 - 7 ), site.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() );</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> comppoint = <a class="code" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( valid, fallback );</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    compmap.<a class="code" href="classtinymap.html#a5c4a549cfa32cc593291e6f309aa9a40">spawn_item</a>( comppoint, <span class="stringliteral">&quot;safe_box&quot;</span> );</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    compmap.<a class="code" href="classtinymap.html#a6bc669c8915ae41469ef8f0b5e925c3e">save</a>();</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="structmission__start.html#a2c739c6be27b5e6b54f63c33a755892f">  235</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structmission__start.html#a2c739c6be27b5e6b54f63c33a755892f">mission_start::find_safety</a>( <a class="code" href="classmission.html">mission</a> *miss )</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;{</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> place = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> radius = 0; radius &lt;= 20; radius++ ) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> dist = 0 - radius; dist &lt;= radius; dist++ ) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordtype">int</span> offset = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, 3 ); <span class="comment">// Randomizes the direction we check first</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt;= 3; i++ ) { <span class="comment">// Which direction?</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="martialarts_8cpp.html#a614e20af50995a2d1c6e9710b61c0573">check</a> = place;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <span class="keywordflow">switch</span>( ( offset + i ) % 4 ) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                    <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                        <a class="code" href="martialarts_8cpp.html#a614e20af50995a2d1c6e9710b61c0573">check</a>.x() += dist;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                        <a class="code" href="martialarts_8cpp.html#a614e20af50995a2d1c6e9710b61c0573">check</a>.y() -= radius;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                        <a class="code" href="martialarts_8cpp.html#a614e20af50995a2d1c6e9710b61c0573">check</a>.x() += dist;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                        <a class="code" href="martialarts_8cpp.html#a614e20af50995a2d1c6e9710b61c0573">check</a>.y() += radius;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                        <a class="code" href="martialarts_8cpp.html#a614e20af50995a2d1c6e9710b61c0573">check</a>.y() += dist;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                        <a class="code" href="martialarts_8cpp.html#a614e20af50995a2d1c6e9710b61c0573">check</a>.x() -= radius;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                    <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                        <a class="code" href="martialarts_8cpp.html#a614e20af50995a2d1c6e9710b61c0573">check</a>.y() += dist;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                        <a class="code" href="martialarts_8cpp.html#a614e20af50995a2d1c6e9710b61c0573">check</a>.x() += radius;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ab643f05b84b2d91b68f5348eeaaa6824">is_safe</a>( <a class="code" href="martialarts_8cpp.html#a614e20af50995a2d1c6e9710b61c0573">check</a> ) ) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                    miss-&gt;<a class="code" href="classmission.html#ad4ed25753c8c02bdfcd3f1590afa5488">target</a> = <a class="code" href="martialarts_8cpp.html#a614e20af50995a2d1c6e9710b61c0573">check</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">// Couldn&#39;t find safety; so just set the target to far away</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">switch</span>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, 3 ) ) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            miss-&gt;<a class="code" href="classmission.html#ad4ed25753c8c02bdfcd3f1590afa5488">target</a> = place + <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( -20, -20 );</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            miss-&gt;<a class="code" href="classmission.html#ad4ed25753c8c02bdfcd3f1590afa5488">target</a> = place + <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( -20, 20 );</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            miss-&gt;<a class="code" href="classmission.html#ad4ed25753c8c02bdfcd3f1590afa5488">target</a> = place + <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 20, -20 );</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            miss-&gt;<a class="code" href="classmission.html#ad4ed25753c8c02bdfcd3f1590afa5488">target</a> = place + <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 20, 20 );</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="structmission__start.html#a273b2b3e478bf260a6836c200607cb8f">  285</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structmission__start.html#a273b2b3e478bf260a6836c200607cb8f">mission_start::place_book</a>( <a class="code" href="classmission.html">mission</a> * )</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;{</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;}</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="structmission__start.html#a8f6648820d61ea5ae0da43b679fc0abe">  289</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structmission__start.html#a8f6648820d61ea5ae0da43b679fc0abe">mission_start::reveal_refugee_center</a>( <a class="code" href="classmission.html">mission</a> *miss )</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;{</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="structmission__target__params.html">mission_target_params</a> t;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="structabstract__str__or__var.html">str_or_var</a> overmap_terrain;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    overmap_terrain.str_val = <span class="stringliteral">&quot;refctr_S3e&quot;</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    t.<a class="code" href="structmission__target__params.html#a3581f494cc6cd11dd4e8b8c15e65e9f9">overmap_terrain</a> = overmap_terrain;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="structabstract__str__or__var.html">str_or_var</a> <a class="code" href="mapgen__parameter_8h.html#a3ae906f0a8bbbef8d2b0fc9fb7f7c2f0aa2f9c4bea2399306343ba118ab08aab1">overmap_special</a>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="classovermap__special.html">overmap_special</a>.str_val = <span class="stringliteral">&quot;evac_center&quot;</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    t.<a class="code" href="structmission__target__params.html#a80345988ae01ffc70749039db584647f">overmap_special</a> = <a class="code" href="mapgen__parameter_8h.html#a3ae906f0a8bbbef8d2b0fc9fb7f7c2f0aa2f9c4bea2399306343ba118ab08aab1">overmap_special</a>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    t.<a class="code" href="structmission__target__params.html#a9cc7905f5a9f560ed4a8fa28bfeefc09">mission_pointer</a> = miss;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="structdbl__or__var.html">dbl_or_var</a> search_range;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    search_range.<a class="code" href="structdbl__or__var.html#ab426d2cadf2a580c189c84dd2374911c">min</a>.<a class="code" href="structdbl__or__var__part.html#adcd0dc06e0a6dd870f4b73e9dfcb37f0">dbl_val</a> = 0;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    t.<a class="code" href="structmission__target__params.html#a2bde2f22f6f5b43964b7cadd20588db0">search_range</a> = search_range;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="structdbl__or__var.html">dbl_or_var</a> reveal_radius;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    reveal_radius.<a class="code" href="structdbl__or__var.html#ab426d2cadf2a580c189c84dd2374911c">min</a>.<a class="code" href="structdbl__or__var__part.html#adcd0dc06e0a6dd870f4b73e9dfcb37f0">dbl_val</a> = 1;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    t.<a class="code" href="structmission__target__params.html#a871cf6e2011dcb712ae74a0261349ea6">reveal_radius</a> = reveal_radius;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="structdbl__or__var.html">dbl_or_var</a> min_distance;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    min_distance.<a class="code" href="structdbl__or__var.html#ab426d2cadf2a580c189c84dd2374911c">min</a>.<a class="code" href="structdbl__or__var__part.html#adcd0dc06e0a6dd870f4b73e9dfcb37f0">dbl_val</a> = 0;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    t.<a class="code" href="structmission__target__params.html#afd5c9e078442f5be807622f5c8fc9002">min_distance</a> = min_distance;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="structdialogue.html">dialogue</a> d( <a class="code" href="avatar_8cpp.html#a75dcf1534079311161f26d7250306379">get_talker_for</a>( <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>() ), <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    std::optional&lt;tripoint_abs_omt&gt; target_pos = <a class="code" href="namespacemission__util.html#a5709b87839cd597d8d8acc3d0f95bb33">mission_util::assign_mission_target</a>( t, d );</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span>( !target_pos ) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You don&#39;t know where the address could be&quot;</span> ) );</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> source_road = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a60309f685adc56b0b7e5f69206e3cff4">find_closest</a>(</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().global_omt_location(), <span class="stringliteral">&quot;road&quot;</span>,</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            3, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> dest_road = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a60309f685adc56b0b7e5f69206e3cff4">find_closest</a>( *target_pos, <span class="stringliteral">&quot;road&quot;</span>, 3, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a8d019fc27ae4425448ed6e7ecc7a9d5c">reveal_route</a>( source_road, dest_road, 1, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="comment">//reset the mission target to the refugee center entrance and reveal path from the road</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <a class="code" href="structabstract__str__or__var.html">str_or_var</a> overmap_terrain;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        overmap_terrain.str_val = <span class="stringliteral">&quot;refctr_S3e&quot;</span>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        t.<a class="code" href="structmission__target__params.html#a3581f494cc6cd11dd4e8b8c15e65e9f9">overmap_terrain</a> = overmap_terrain;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <a class="code" href="structdbl__or__var.html">dbl_or_var</a> reveal_radius;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        reveal_radius.<a class="code" href="structdbl__or__var.html#ab426d2cadf2a580c189c84dd2374911c">min</a>.<a class="code" href="structdbl__or__var__part.html#adcd0dc06e0a6dd870f4b73e9dfcb37f0">dbl_val</a> = 3;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        t.<a class="code" href="structmission__target__params.html#a871cf6e2011dcb712ae74a0261349ea6">reveal_radius</a> = reveal_radius;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        target_pos = <a class="code" href="namespacemission__util.html#a5709b87839cd597d8d8acc3d0f95bb33">mission_util::assign_mission_target</a>( t, d );</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> dest_refugee_center = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a60309f685adc56b0b7e5f69206e3cff4">find_closest</a>( *target_pos,</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                <span class="stringliteral">&quot;evac_center_18&quot;</span>, 1, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a8d019fc27ae4425448ed6e7ecc7a9d5c">reveal_route</a>( dest_road, dest_refugee_center, 1, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You mark the refugee center and the road that leads to it&quot;</span> ) );</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You mark the refugee center, but you have no idea how to get there by road&quot;</span> ) );</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;}</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">// Creates multiple lab consoles near tripoint place, which must have its z-level set to where consoles should go.</span></div>
<div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="mission__start_8cpp.html#adbc41b3c26019d1c811d876374e7670e">  342</a></span>&#160;<span class="keywordtype">void</span> <span class="keyword">static</span> <a class="code" href="mission__start_8cpp.html#adbc41b3c26019d1c811d876374e7670e">create_lab_consoles</a>(</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="classmission.html">mission</a> *miss, <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;place, <span class="keyword">const</span> std::string &amp;otype, <span class="keywordtype">int</span> security,</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keyword">const</span> std::string &amp;comp_name, <span class="keyword">const</span> std::string &amp;download_name )</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;{</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="comment">// Drop four computers in nearby lab spaces so the player can stumble upon one of them.</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; 4; ++i ) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> om_place = <a class="code" href="namespacemission__util.html#a8a6643145284af777633b4dc9c2aa29a">mission_util::target_om_ter_random</a>(</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                                        otype, -1, miss, <span class="keyword">false</span>, 4, place );</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <a class="code" href="classtinymap.html">tinymap</a> compmap;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        compmap.<a class="code" href="classtinymap.html#a7f913ba5d8facdb8c3d6b759593095fc">load</a>( om_place, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <a class="code" href="structtripoint.html">tripoint</a> comppoint = <a class="code" href="mission__start_8cpp.html#a6c5b69497314c873013f76a7d12819f3">find_potential_computer_point</a>( compmap );</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <a class="code" href="classcomputer.html">computer</a> *tmpcomp = compmap.<a class="code" href="classtinymap.html#a252395f1689e685dac6508131569a3ca">add_computer</a>( comppoint, comp_name, security );</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        tmpcomp-&gt;<a class="code" href="classcomputer.html#a15cdaf5db62a3e81b8ef055f71e3d83c">set_mission</a>( miss-&gt;<a class="code" href="classmission.html#aac16dc2a81e99d01d5006ddfb7bf04c0">get_id</a>() );</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        tmpcomp-&gt;<a class="code" href="classcomputer.html#ae8f8e91897e627c168d10e4f4a07aa7f">add_option</a>( download_name, <a class="code" href="computer_8h.html#a15e56cfb989e3db6887a8d1e0e94137da5b236600d298d81286dde31dc4be44b1">COMPACT_DOWNLOAD_SOFTWARE</a>, security );</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        tmpcomp-&gt;<a class="code" href="classcomputer.html#a2725d0c5dba07befd93233c89c29d2d0">add_failure</a>( <a class="code" href="computer_8h.html#a3509dba5a05e2d4dcf56fee3abd392d5afddf26b46cbae763b19ad67971fadc4c">COMPFAIL_ALARM</a> );</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        tmpcomp-&gt;<a class="code" href="classcomputer.html#a2725d0c5dba07befd93233c89c29d2d0">add_failure</a>( <a class="code" href="computer_8h.html#a3509dba5a05e2d4dcf56fee3abd392d5a2b9b7b37c8fcf7bdff181808c84ad6da">COMPFAIL_DAMAGE</a> );</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        tmpcomp-&gt;<a class="code" href="classcomputer.html#a2725d0c5dba07befd93233c89c29d2d0">add_failure</a>( <a class="code" href="computer_8h.html#a3509dba5a05e2d4dcf56fee3abd392d5aa8a048bc13028530cde1bf02fa25b646">COMPFAIL_MANHACKS</a> );</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        compmap.<a class="code" href="classtinymap.html#a6bc669c8915ae41469ef8f0b5e925c3e">save</a>();</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="structmission__start.html#a25ec5e32ba140185c2c8277312539730">  367</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structmission__start.html#a25ec5e32ba140185c2c8277312539730">mission_start::create_lab_console</a>( <a class="code" href="classmission.html">mission</a> *miss )</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="comment">// Pick a lab that has spaces on z = -1: e.g., in hidden labs.</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> loc = player_character.<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>();</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    loc.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() = -1;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> place = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a60309f685adc56b0b7e5f69206e3cff4">find_closest</a>( loc, <span class="stringliteral">&quot;lab&quot;</span>, 0, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="mission__start_8cpp.html#adbc41b3c26019d1c811d876374e7670e">create_lab_consoles</a>( miss, place, <span class="stringliteral">&quot;lab&quot;</span>, 2, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Workstation&quot;</span> ),</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                         <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Download Memory Contents&quot;</span> ) );</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">// Target the lab entrance.</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> target = <a class="code" href="namespacemission__util.html#a752e6ac417c1a86945643b0c9cfe2f5f">mission_util::target_closest_lab_entrance</a>( place, 2, miss );</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="namespacemission__util.html#a43aa82a359bd744170c7c41483e52479">mission_util::reveal_road</a>( player_character.<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>(), target, <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a> );</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;}</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="structmission__start.html#a4128dc24df1b6566dc7364118c0cfa44">  383</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structmission__start.html#a4128dc24df1b6566dc7364118c0cfa44">mission_start::create_hidden_lab_console</a>( <a class="code" href="classmission.html">mission</a> *miss )</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;{</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment">// Pick a hidden lab entrance.</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> loc = player_character.<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>();</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    loc.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() = -1;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> place = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a60309f685adc56b0b7e5f69206e3cff4">find_closest</a>( loc, <span class="stringliteral">&quot;basement_hidden_lab_stairs&quot;</span>, 0, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    place.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() = -2;  <span class="comment">// then go down 1 z-level to place consoles.</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="mission__start_8cpp.html#adbc41b3c26019d1c811d876374e7670e">create_lab_consoles</a>( miss, place, <span class="stringliteral">&quot;lab&quot;</span>, 3, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Workstation&quot;</span> ),</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                         <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Download Encryption Routines&quot;</span> ) );</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="comment">// Target the lab entrance.</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> target = <a class="code" href="namespacemission__util.html#a752e6ac417c1a86945643b0c9cfe2f5f">mission_util::target_closest_lab_entrance</a>( place, 2, miss );</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="namespacemission__util.html#a43aa82a359bd744170c7c41483e52479">mission_util::reveal_road</a>( player_character.<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>(), target, <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a> );</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;}</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="structmission__start.html#ae2da2a2a63aa54fc8b0e5ccc8b3cfec9">  400</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structmission__start.html#ae2da2a2a63aa54fc8b0e5ccc8b3cfec9">mission_start::create_ice_lab_console</a>( <a class="code" href="classmission.html">mission</a> *miss )</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;{</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">// Pick an ice lab with spaces on z = -4.</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> loc = player_character.<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>();</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    loc.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() = -4;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> place = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a60309f685adc56b0b7e5f69206e3cff4">find_closest</a>( loc, <span class="stringliteral">&quot;ice_lab&quot;</span>, 0, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="mission__start_8cpp.html#adbc41b3c26019d1c811d876374e7670e">create_lab_consoles</a>( miss, place, <span class="stringliteral">&quot;ice_lab&quot;</span>, 3, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Durable Storage Archive&quot;</span> ),</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                         <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Download Archives&quot;</span> ) );</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="comment">// Target the lab entrance.</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> target = <a class="code" href="namespacemission__util.html#a752e6ac417c1a86945643b0c9cfe2f5f">mission_util::target_closest_lab_entrance</a>( place, 2, miss );</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="namespacemission__util.html#a43aa82a359bd744170c7c41483e52479">mission_util::reveal_road</a>( player_character.<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>(), target, <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a> );</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div>
<div class="ttc" id="aavatar_8cpp_html_a75dcf1534079311161f26d7250306379"><div class="ttname"><a href="avatar_8cpp.html#a75dcf1534079311161f26d7250306379">get_talker_for</a></div><div class="ttdeci">std::unique_ptr&lt; talker &gt; get_talker_for(avatar &amp;me)</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l01795">avatar.cpp:1795</a></div></div>
<div class="ttc" id="aavatar_8h_html"><div class="ttname"><a href="avatar_8h.html">avatar.h</a></div></div>
<div class="ttc" id="aavatar_8h_html_a7fe2c1a3376948380f856732d4f34c5c"><div class="ttname"><a href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a></div><div class="ttdeci">avatar &amp; get_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13817">game.cpp:13817</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_a4249b6f1d0842211bfe53e5f9e206a10"><div class="ttname"><a href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a></div><div class="ttdeci">time_duration rng(time_duration lo, time_duration hi)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00779">calendar.cpp:779</a></div></div>
<div class="ttc" id="acata__tiles_8h_html_affa90804269b044a43867f93746f8f8eaadb115059e28d960fa8badfac5516667"><div class="ttname"><a href="cata__tiles_8h.html#affa90804269b044a43867f93746f8f8eaadb115059e28d960fa8badfac5516667">text_alignment::center</a></div><div class="ttdeci">@ center</div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">cata_variant_type::point</a></div><div class="ttdeci">@ point</div></div>
<div class="ttc" id="acharacter_8h_html"><div class="ttname"><a href="character_8h.html">character.h</a></div></div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae47514f140700c67ea21ccbadf66d106"><div class="ttname"><a href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">Character::get_name</a></div><div class="ttdeci">std::string get_name() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l05731">character.cpp:5731</a></div></div>
<div class="ttc" id="aclassCharacter_html_af04d061e415da9cb6f1fc234b04f3dfb"><div class="ttname"><a href="classCharacter.html#af04d061e415da9cb6f1fc234b04f3dfb">Character::i_add</a></div><div class="ttdeci">item_location i_add(item it, bool should_stack=true, const item *avoid=nullptr, const item *original_inventory_item=nullptr, bool allow_drop=true, bool allow_wield=true, bool ignore_pkt_settings=false)</div><div class="ttdoc">Adds the item to the character's worn items or wields it, or prompts if the Character cannot pick it ...</div><div class="ttdef"><b>Definition:</b> <a href="character__inventory_8cpp_source.html#l00326">character_inventory.cpp:326</a></div></div>
<div class="ttc" id="aclassCreature_html_a14ecbd8f044628463354090421a805b4"><div class="ttname"><a href="classCreature.html#a14ecbd8f044628463354090421a805b4">Creature::global_omt_location</a></div><div class="ttdeci">tripoint_abs_omt global_omt_location() const</div><div class="ttdoc">Returns the location of the creature in global overmap terrain coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03242">creature.cpp:3242</a></div></div>
<div class="ttc" id="aclasscharacter__id_html_a57a3bebd5dc5168d0b278cfccdbdcd18"><div class="ttname"><a href="classcharacter__id.html#a57a3bebd5dc5168d0b278cfccdbdcd18">character_id::get_value</a></div><div class="ttdeci">int get_value() const</div><div class="ttdef"><b>Definition:</b> <a href="character__id_8h_source.html#l00021">character_id.h:21</a></div></div>
<div class="ttc" id="aclasscomputer_html"><div class="ttname"><a href="classcomputer.html">computer</a></div><div class="ttdef"><b>Definition:</b> <a href="computer_8h_source.html#l00119">computer.h:120</a></div></div>
<div class="ttc" id="aclasscomputer_html_a15cdaf5db62a3e81b8ef055f71e3d83c"><div class="ttname"><a href="classcomputer.html#a15cdaf5db62a3e81b8ef055f71e3d83c">computer::set_mission</a></div><div class="ttdeci">void set_mission(int id)</div><div class="ttdef"><b>Definition:</b> <a href="computer_8cpp_source.html#l00115">computer.cpp:115</a></div></div>
<div class="ttc" id="aclasscomputer_html_a2725d0c5dba07befd93233c89c29d2d0"><div class="ttname"><a href="classcomputer.html#a2725d0c5dba07befd93233c89c29d2d0">computer::add_failure</a></div><div class="ttdeci">void add_failure(const computer_failure &amp;failure)</div><div class="ttdef"><b>Definition:</b> <a href="computer_8cpp_source.html#l00100">computer.cpp:100</a></div></div>
<div class="ttc" id="aclasscomputer_html_ae8f8e91897e627c168d10e4f4a07aa7f"><div class="ttname"><a href="classcomputer.html#ae8f8e91897e627c168d10e4f4a07aa7f">computer::add_option</a></div><div class="ttdeci">void add_option(const computer_option &amp;opt)</div><div class="ttdef"><b>Definition:</b> <a href="computer_8cpp_source.html#l00079">computer.cpp:79</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__mut_html_aa94b8bd33e85ce94a3634e6e27ab0cdd"><div class="ttname"><a href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">coords::coord_point_mut::z</a></div><div class="ttdeci">constexpr auto z() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00167">coordinates.h:167</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::abs, coords::omt &gt;</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html_a7b5804160d1d0e69a9f2fba098bea723"><div class="ttname"><a href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">coords::coord_point::xy</a></div><div class="ttdeci">constexpr auto xy() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00273">coordinates.h:273</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; oter_t &gt;</a></div></div>
<div class="ttc" id="aclassint__id_html_a88b1e0c550f4d6f36cac7a73feca7f01"><div class="ttname"><a href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">int_id::id</a></div><div class="ttdeci">const string_id&lt; T &gt; &amp; id() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00033">ammo_effect.cpp:33</a></div></div>
<div class="ttc" id="aclassmission_html"><div class="ttname"><a href="classmission.html">mission</a></div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00272">mission.h:273</a></div></div>
<div class="ttc" id="aclassmission_html_a00ae6d517faedf476eb89f88b916af53"><div class="ttname"><a href="classmission.html#a00ae6d517faedf476eb89f88b916af53">mission::follow_up</a></div><div class="ttdeci">mission_type_id follow_up</div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00327">mission.h:327</a></div></div>
<div class="ttc" id="aclassmission_html_a4223b378e6f88e6d649b5cce29a21f2d"><div class="ttname"><a href="classmission.html#a4223b378e6f88e6d649b5cce29a21f2d">mission::npc_id</a></div><div class="ttdeci">character_id npc_id</div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00320">mission.h:320</a></div></div>
<div class="ttc" id="aclassmission_html_a8b056593b5b178c01806735bfe8e791d"><div class="ttname"><a href="classmission.html#a8b056593b5b178c01806735bfe8e791d">mission::item_id</a></div><div class="ttdeci">itype_id item_id</div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00301">mission.h:301</a></div></div>
<div class="ttc" id="aclassmission_html_aac16dc2a81e99d01d5006ddfb7bf04c0"><div class="ttname"><a href="classmission.html#aac16dc2a81e99d01d5006ddfb7bf04c0">mission::get_id</a></div><div class="ttdeci">int get_id() const</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00739">mission.cpp:739</a></div></div>
<div class="ttc" id="aclassmission_html_ad4ed25753c8c02bdfcd3f1590afa5488"><div class="ttname"><a href="classmission.html#ad4ed25753c8c02bdfcd3f1590afa5488">mission::target</a></div><div class="ttdeci">tripoint_abs_omt target</div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00299">mission.h:299</a></div></div>
<div class="ttc" id="aclassnpc_html"><div class="ttname"><a href="classnpc.html">npc</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00791">npc.h:792</a></div></div>
<div class="ttc" id="aclassnpc_html_a2d47ff8926fed9a85d1168e7e514f871"><div class="ttname"><a href="classnpc.html#a2d47ff8926fed9a85d1168e7e514f871">npc::myclass</a></div><div class="ttdeci">npc_class_id myclass</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01329">npc.h:1329</a></div></div>
<div class="ttc" id="aclassnpc_html_a53c9eb784312e0594c5a9922668d630e"><div class="ttname"><a href="classnpc.html#a53c9eb784312e0594c5a9922668d630e">npc::set_attitude</a></div><div class="ttdeci">void set_attitude(npc_attitude new_attitude)</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03551">npc.cpp:3551</a></div></div>
<div class="ttc" id="aclassovermap__special_html"><div class="ttname"><a href="classovermap__special.html">overmap_special</a></div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00545">omdata.h:546</a></div></div>
<div class="ttc" id="aclassovermap_html_aa0999e49bed45fc1eb5e30498b8934f4"><div class="ttname"><a href="classovermap.html#aa0999e49bed45fc1eb5e30498b8934f4">overmap::invalid_tripoint</a></div><div class="ttdeci">static constexpr tripoint_abs_omt invalid_tripoint</div><div class="ttdoc">Dummy value, used to indicate that a point returned by a function is invalid.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8h_source.html#l00277">overmap.h:277</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a2d8c6ac98f85113aa8d9ce40be1f59d0"><div class="ttname"><a href="classovermapbuffer.html#a2d8c6ac98f85113aa8d9ce40be1f59d0">overmapbuffer::reveal</a></div><div class="ttdeci">bool reveal(const point_abs_omt &amp;center, int radius, int z)</div><div class="ttdoc">Mark a square area around center on Z-level z as seen.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00820">overmapbuffer.cpp:820</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a40603f9effad6b0348669d75feeb136f"><div class="ttname"><a href="classovermapbuffer.html#a40603f9effad6b0348669d75feeb136f">overmapbuffer::find_random</a></div><div class="ttdeci">tripoint_abs_omt find_random(const tripoint_abs_omt &amp;origin, const omt_find_params &amp;params)</div><div class="ttdoc">Returns a random point of specific terrain type among those found in certain search radius.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01218">overmapbuffer.cpp:1218</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a60309f685adc56b0b7e5f69206e3cff4"><div class="ttname"><a href="classovermapbuffer.html#a60309f685adc56b0b7e5f69206e3cff4">overmapbuffer::find_closest</a></div><div class="ttdeci">tripoint_abs_omt find_closest(const tripoint_abs_omt &amp;origin, const omt_find_params &amp;params)</div><div class="ttdoc">Returns the closest point of terrain type.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01137">overmapbuffer.cpp:1137</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a8d019fc27ae4425448ed6e7ecc7a9d5c"><div class="ttname"><a href="classovermapbuffer.html#a8d019fc27ae4425448ed6e7ecc7a9d5c">overmapbuffer::reveal_route</a></div><div class="ttdeci">bool reveal_route(const tripoint_abs_omt &amp;source, const tripoint_abs_omt &amp;dest, int radius=0, bool road_only=false)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00952">overmapbuffer.cpp:952</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a9eadb45bd37ceaecd0075fdf3ef80987"><div class="ttname"><a href="classovermapbuffer.html#a9eadb45bd37ceaecd0075fdf3ef80987">overmapbuffer::add_nemesis</a></div><div class="ttdeci">void add_nemesis(const tripoint_abs_omt &amp;p)</div><div class="ttdoc">adds a nemesis horde into the hordes list of the overmap where the kill_nemesis mision is targeted</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00586">overmapbuffer.cpp:586</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_aa9fbf966291f6b82de9c540262324aba"><div class="ttname"><a href="classovermapbuffer.html#aa9fbf966291f6b82de9c540262324aba">overmapbuffer::ter</a></div><div class="ttdeci">const oter_id &amp; ter(const tripoint_abs_omt &amp;p)</div><div class="ttdoc">Returns the overmap terrain at the given OMT coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00780">overmapbuffer.cpp:780</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_ab643f05b84b2d91b68f5348eeaaa6824"><div class="ttname"><a href="classovermapbuffer.html#ab643f05b84b2d91b68f5348eeaaa6824">overmapbuffer::is_safe</a></div><div class="ttdeci">bool is_safe(const tripoint_abs_omt &amp;p)</div><div class="ttdoc">Check for any dangerous monster groups at the global overmap terrain coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01659">overmapbuffer.cpp:1659</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; furn_t &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_a1b2100ed077789ba45aaf5081791b36c"><div class="ttname"><a href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">string_id&lt; furn_t &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; furn_t &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="aclassstring__id_html_ac180a60056901aaf79f5c4b728a257bd"><div class="ttname"><a href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">string_id::is_empty</a></div><div class="ttdeci">bool is_empty() const</div><div class="ttdoc">Returns whether this id is empty.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00303">string_id.h:303</a></div></div>
<div class="ttc" id="aclasstinymap_html"><div class="ttname"><a href="classtinymap.html">tinymap</a></div><div class="ttdoc">Tinymap is a small version of the map which covers a single overmap terrain (OMT) tile,...</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02422">map.h:2423</a></div></div>
<div class="ttc" id="aclasstinymap_html_a02c08cde7480ea6b856b661e6217ac59"><div class="ttname"><a href="classtinymap.html#a02c08cde7480ea6b856b661e6217ac59">tinymap::furn_set</a></div><div class="ttdeci">bool furn_set(const point &amp;p, const furn_id &amp;new_furniture, bool avoid_creatures=false)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02510">map.h:2510</a></div></div>
<div class="ttc" id="aclasstinymap_html_a041d5fbaa136000aa438cab074331634"><div class="ttname"><a href="classtinymap.html#a041d5fbaa136000aa438cab074331634">tinymap::ter</a></div><div class="ttdeci">ter_id ter(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02471">map.h:2471</a></div></div>
<div class="ttc" id="aclasstinymap_html_a047ffc5979b3163eaf01d03eda485b8e"><div class="ttname"><a href="classtinymap.html#a047ffc5979b3163eaf01d03eda485b8e">tinymap::points_in_radius</a></div><div class="ttdeci">tripoint_range&lt; tripoint &gt; points_in_radius(const tripoint &amp;center, size_t radius, size_t radiusz=0) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09114">map.cpp:9114</a></div></div>
<div class="ttc" id="aclasstinymap_html_a1c681608e142164b1470af6be5b0dad3"><div class="ttname"><a href="classtinymap.html#a1c681608e142164b1470af6be5b0dad3">tinymap::is_last_ter_wall</a></div><div class="ttdeci">bool is_last_ter_wall(bool no_furn, const point &amp;p, const point &amp;max, direction dir) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02491">map.h:2491</a></div></div>
<div class="ttc" id="aclasstinymap_html_a1ff55141b309333acfeac9cd975ec5a9"><div class="ttname"><a href="classtinymap.html#a1ff55141b309333acfeac9cd975ec5a9">tinymap::furn</a></div><div class="ttdeci">furn_id furn(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02495">map.h:2495</a></div></div>
<div class="ttc" id="aclasstinymap_html_a252395f1689e685dac6508131569a3ca"><div class="ttname"><a href="classtinymap.html#a252395f1689e685dac6508131569a3ca">tinymap::add_computer</a></div><div class="ttdeci">computer * add_computer(const tripoint &amp;p, const std::string &amp;name, int security)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02529">map.h:2529</a></div></div>
<div class="ttc" id="aclasstinymap_html_a34209f3f56186ca73cff932299a9a7ee"><div class="ttname"><a href="classtinymap.html#a34209f3f56186ca73cff932299a9a7ee">tinymap::points_on_zlevel</a></div><div class="ttdeci">tripoint_range&lt; tripoint &gt; points_on_zlevel() const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09089">map.cpp:9089</a></div></div>
<div class="ttc" id="aclasstinymap_html_a35c31a2ab009ea1dcbd5d8cddd0ecdb7"><div class="ttname"><a href="classtinymap.html#a35c31a2ab009ea1dcbd5d8cddd0ecdb7">tinymap::get_abs_sub</a></div><div class="ttdeci">tripoint_abs_sm get_abs_sub() const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02666">map.h:2666</a></div></div>
<div class="ttc" id="aclasstinymap_html_a5c4a549cfa32cc593291e6f309aa9a40"><div class="ttname"><a href="classtinymap.html#a5c4a549cfa32cc593291e6f309aa9a40">tinymap::spawn_item</a></div><div class="ttdeci">void spawn_item(const tripoint &amp;p, const itype_id &amp;type_id, unsigned quantity=1, int charges=0, const time_point &amp;birthday=calendar::start_of_cataclysm, int damlevel=0, const std::set&lt; flag_id &gt; &amp;flags={}, const std::string &amp;variant=&quot;&quot;, const std::string &amp;faction=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02552">map.h:2552</a></div></div>
<div class="ttc" id="aclasstinymap_html_a6bc669c8915ae41469ef8f0b5e925c3e"><div class="ttname"><a href="classtinymap.html#a6bc669c8915ae41469ef8f0b5e925c3e">tinymap::save</a></div><div class="ttdeci">void save()</div><div class="ttdoc">Add currently loaded submaps (in grid) to the mapbuffer.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00485">map.cpp:7879</a></div></div>
<div class="ttc" id="aclasstinymap_html_a790e257e5c5602680a0640e18f8a7f87"><div class="ttname"><a href="classtinymap.html#a790e257e5c5602680a0640e18f8a7f87">tinymap::i_clear</a></div><div class="ttdeci">void i_clear(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02597">map.h:2597</a></div></div>
<div class="ttc" id="aclasstinymap_html_a7f913ba5d8facdb8c3d6b759593095fc"><div class="ttname"><a href="classtinymap.html#a7f913ba5d8facdb8c3d6b759593095fc">tinymap::load</a></div><div class="ttdeci">void load(const tripoint_abs_omt &amp;w, bool update_vehicles, bool pump_events=false)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02447">map.h:2447</a></div></div>
<div class="ttc" id="aclasstinymap_html_acd71fd6c75a3fc644051b61605d9b5b0"><div class="ttname"><a href="classtinymap.html#acd71fd6c75a3fc644051b61605d9b5b0">tinymap::has_flag_ter</a></div><div class="ttdeci">bool has_flag_ter(ter_furn_flag flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02480">map.h:2480</a></div></div>
<div class="ttc" id="acomputer_8h_html"><div class="ttname"><a href="computer_8h.html">computer.h</a></div></div>
<div class="ttc" id="acomputer_8h_html_a15e56cfb989e3db6887a8d1e0e94137da5b236600d298d81286dde31dc4be44b1"><div class="ttname"><a href="computer_8h.html#a15e56cfb989e3db6887a8d1e0e94137da5b236600d298d81286dde31dc4be44b1">COMPACT_DOWNLOAD_SOFTWARE</a></div><div class="ttdeci">@ COMPACT_DOWNLOAD_SOFTWARE</div><div class="ttdef"><b>Definition:</b> <a href="computer_8h_source.html#l00031">computer.h:31</a></div></div>
<div class="ttc" id="acomputer_8h_html_a3509dba5a05e2d4dcf56fee3abd392d5a2b9b7b37c8fcf7bdff181808c84ad6da"><div class="ttname"><a href="computer_8h.html#a3509dba5a05e2d4dcf56fee3abd392d5a2b9b7b37c8fcf7bdff181808c84ad6da">COMPFAIL_DAMAGE</a></div><div class="ttdeci">@ COMPFAIL_DAMAGE</div><div class="ttdef"><b>Definition:</b> <a href="computer_8h_source.html#l00081">computer.h:81</a></div></div>
<div class="ttc" id="acomputer_8h_html_a3509dba5a05e2d4dcf56fee3abd392d5aa8a048bc13028530cde1bf02fa25b646"><div class="ttname"><a href="computer_8h.html#a3509dba5a05e2d4dcf56fee3abd392d5aa8a048bc13028530cde1bf02fa25b646">COMPFAIL_MANHACKS</a></div><div class="ttdeci">@ COMPFAIL_MANHACKS</div><div class="ttdef"><b>Definition:</b> <a href="computer_8h_source.html#l00084">computer.h:84</a></div></div>
<div class="ttc" id="acomputer_8h_html_a3509dba5a05e2d4dcf56fee3abd392d5afddf26b46cbae763b19ad67971fadc4c"><div class="ttname"><a href="computer_8h.html#a3509dba5a05e2d4dcf56fee3abd392d5afddf26b46cbae763b19ad67971fadc4c">COMPFAIL_ALARM</a></div><div class="ttdeci">@ COMPFAIL_ALARM</div><div class="ttdef"><b>Definition:</b> <a href="computer_8h_source.html#l00079">computer.h:79</a></div></div>
<div class="ttc" id="acoordinates_8h_html"><div class="ttname"><a href="coordinates_8h.html">coordinates.h</a></div></div>
<div class="ttc" id="adebug_8h_html"><div class="ttname"><a href="debug_8h.html">debug.h</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="aenum__traits_8h_html"><div class="ttname"><a href="enum__traits_8h.html">enum_traits.h</a></div></div>
<div class="ttc" id="aenums_8h_html_a00763863874f01b868849b27ceee73c9a1f85e94c05010d1308d67d1d918944e4"><div class="ttname"><a href="enums_8h.html#a00763863874f01b868849b27ceee73c9a1f85e94c05010d1308d67d1d918944e4">broken</a></div><div class="ttdeci">@ broken</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00417">enums.h:417</a></div></div>
<div class="ttc" id="aenums_8h_html_a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a"><div class="ttname"><a href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">ot_match_type::type</a></div><div class="ttdeci">@ type</div></div>
<div class="ttc" id="aenums_8h_html_a02646717f97faa05c11dbda0aac2c716a851f5ac9941d720844d143ed9cfcf60a"><div class="ttname"><a href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a851f5ac9941d720844d143ed9cfcf60a">ot_match_type::prefix</a></div><div class="ttdeci">@ prefix</div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00382">game.cpp:382</a></div></div>
<div class="ttc" id="agame_8h_html"><div class="ttname"><a href="game_8h.html">game.h</a></div></div>
<div class="ttc" id="agame__constants_8h_html"><div class="ttname"><a href="game__constants_8h.html">game_constants.h</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a39fd8a829e3dc412646663066dbdb54c"><div class="ttname"><a href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a></div><div class="ttdeci">constexpr int SEEX</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00042">game_constants.h:42</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a4cfa35de359af17f7bc6c2a424339eb5"><div class="ttname"><a href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a></div><div class="ttdeci">constexpr int SEEY</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00043">game_constants.h:43</a></div></div>
<div class="ttc" id="aitem_8h_html"><div class="ttname"><a href="item_8h.html">item.h</a></div></div>
<div class="ttc" id="aline_8h_html"><div class="ttname"><a href="line_8h.html">line.h</a></div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3a2bf8f791695c70efa9c14e6f1c326403"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a2bf8f791695c70efa9c14e6f1c326403">direction::NORTH</a></div><div class="ttdeci">@ NORTH</div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3a45ac78bf3d4882ac520f4e7fb08d55c5"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a45ac78bf3d4882ac520f4e7fb08d55c5">direction::EAST</a></div><div class="ttdeci">@ EAST</div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3a83c9f5692281bf59471b13dfddb3af91"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a83c9f5692281bf59471b13dfddb3af91">direction::WEST</a></div><div class="ttdeci">@ WEST</div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3a96e44fa82e5a5263fb92337be422d3eb"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a96e44fa82e5a5263fb92337be422d3eb">direction::SOUTH</a></div><div class="ttdeci">@ SOUTH</div></div>
<div class="ttc" id="amagic_8h_html_a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc"><div class="ttname"><a href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">spell_target::item</a></div><div class="ttdeci">@ item</div></div>
<div class="ttc" id="amap_8h_html"><div class="ttname"><a href="map_8h.html">map.h</a></div></div>
<div class="ttc" id="amap__iterator_8h_html"><div class="ttname"><a href="map__iterator_8h.html">map_iterator.h</a></div></div>
<div class="ttc" id="amapdata_8h_html"><div class="ttname"><a href="mapdata_8h.html">mapdata.h</a></div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a6701f7dc0aa6dba5a2a7cbb3568c3673"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a6701f7dc0aa6dba5a2a7cbb3568c3673">ter_furn_flag::TFLAG_WALL</a></div><div class="ttdeci">@ TFLAG_WALL</div></div>
<div class="ttc" id="amapgen__parameter_8h_html_a3ae906f0a8bbbef8d2b0fc9fb7f7c2f0aa2f9c4bea2399306343ba118ab08aab1"><div class="ttname"><a href="mapgen__parameter_8h.html#a3ae906f0a8bbbef8d2b0fc9fb7f7c2f0aa2f9c4bea2399306343ba118ab08aab1">mapgen_parameter_scope::overmap_special</a></div><div class="ttdeci">@ overmap_special</div></div>
<div class="ttc" id="amartialarts_8cpp_html_a614e20af50995a2d1c6e9710b61c0573"><div class="ttname"><a href="martialarts_8cpp.html#a614e20af50995a2d1c6e9710b61c0573">check</a></div><div class="ttdeci">static void check(const ma_requirements &amp;req, const std::string &amp;display_text)</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8cpp_source.html#l00475">martialarts.cpp:475</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00997">messages.cpp:997</a></div></div>
<div class="ttc" id="amessages_8h_html"><div class="ttname"><a href="messages_8h.html">messages.h</a></div></div>
<div class="ttc" id="amission_8h_html"><div class="ttname"><a href="mission_8h.html">mission.h</a></div></div>
<div class="ttc" id="amission__start_8cpp_html_a1b232745a34e6b6ed514c6f4de2b9dd0"><div class="ttname"><a href="mission__start_8cpp.html#a1b232745a34e6b6ed514c6f4de2b9dd0">itype_software_medical</a></div><div class="ttdeci">static const itype_id itype_software_medical(&quot;software_medical&quot;)</div></div>
<div class="ttc" id="amission__start_8cpp_html_a3730e68044d56bf12a097adf135f083a"><div class="ttname"><a href="mission__start_8cpp.html#a3730e68044d56bf12a097adf135f083a">furn_f_console</a></div><div class="ttdeci">static const furn_str_id furn_f_console(&quot;f_console&quot;)</div></div>
<div class="ttc" id="amission__start_8cpp_html_a3dde9e2cf73d1265bb52f8fb655cab9d"><div class="ttname"><a href="mission__start_8cpp.html#a3dde9e2cf73d1265bb52f8fb655cab9d">furn_f_bed</a></div><div class="ttdeci">static const furn_str_id furn_f_bed(&quot;f_bed&quot;)</div></div>
<div class="ttc" id="amission__start_8cpp_html_a45826cbee011da2da18e278447ca09cd"><div class="ttname"><a href="mission__start_8cpp.html#a45826cbee011da2da18e278447ca09cd">ter_t_wall_metal</a></div><div class="ttdeci">static const ter_str_id ter_t_wall_metal(&quot;t_wall_metal&quot;)</div></div>
<div class="ttc" id="amission__start_8cpp_html_a6675e0d0852e7b6bb4af62bf9cb9b935"><div class="ttname"><a href="mission__start_8cpp.html#a6675e0d0852e7b6bb4af62bf9cb9b935">furn_f_dresser</a></div><div class="ttdeci">static const furn_str_id furn_f_dresser(&quot;f_dresser&quot;)</div></div>
<div class="ttc" id="amission__start_8cpp_html_a66935a96203e3079422bd9bf8b4d9994"><div class="ttname"><a href="mission__start_8cpp.html#a66935a96203e3079422bd9bf8b4d9994">itype_software_math</a></div><div class="ttdeci">static const itype_id itype_software_math(&quot;software_math&quot;)</div></div>
<div class="ttc" id="amission__start_8cpp_html_a6c5b69497314c873013f76a7d12819f3"><div class="ttname"><a href="mission__start_8cpp.html#a6c5b69497314c873013f76a7d12819f3">find_potential_computer_point</a></div><div class="ttdeci">static tripoint find_potential_computer_point(const tinymap &amp;compmap)</div><div class="ttdef"><b>Definition:</b> <a href="mission__start_8cpp_source.html#l00087">mission_start.cpp:87</a></div></div>
<div class="ttc" id="amission__start_8cpp_html_abcb9fc1c70e20215e07cc8a4559a9374"><div class="ttname"><a href="mission__start_8cpp.html#abcb9fc1c70e20215e07cc8a4559a9374">itype_software_hacking</a></div><div class="ttdeci">static const itype_id itype_software_hacking(&quot;software_hacking&quot;)</div></div>
<div class="ttc" id="amission__start_8cpp_html_ac549abdfabe57ff3fc23a0454f126e66"><div class="ttname"><a href="mission__start_8cpp.html#ac549abdfabe57ff3fc23a0454f126e66">mission_MISSION_GET_ZOMBIE_BLOOD_ANAL</a></div><div class="ttdeci">static const mission_type_id mission_MISSION_GET_ZOMBIE_BLOOD_ANAL(&quot;MISSION_GET_ZOMBIE_BLOOD_ANAL&quot;)</div></div>
<div class="ttc" id="amission__start_8cpp_html_ad7c5192820b87a225e2cec6014c0286e"><div class="ttname"><a href="mission__start_8cpp.html#ad7c5192820b87a225e2cec6014c0286e">furn_f_console_broken</a></div><div class="ttdeci">static const furn_str_id furn_f_console_broken(&quot;f_console_broken&quot;)</div></div>
<div class="ttc" id="amission__start_8cpp_html_adbc41b3c26019d1c811d876374e7670e"><div class="ttname"><a href="mission__start_8cpp.html#adbc41b3c26019d1c811d876374e7670e">create_lab_consoles</a></div><div class="ttdeci">static void create_lab_consoles(mission *miss, const tripoint_abs_omt &amp;place, const std::string &amp;otype, int security, const std::string &amp;comp_name, const std::string &amp;download_name)</div><div class="ttdef"><b>Definition:</b> <a href="mission__start_8cpp_source.html#l00342">mission_start.cpp:342</a></div></div>
<div class="ttc" id="amission__start_8cpp_html_aec2168b922e35574966b8374c8226795"><div class="ttname"><a href="mission__start_8cpp.html#aec2168b922e35574966b8374c8226795">itype_software_useless</a></div><div class="ttdeci">static const itype_id itype_software_useless(&quot;software_useless&quot;)</div></div>
<div class="ttc" id="amission__start_8cpp_html_af2540b2bf274cc61340154c538845226"><div class="ttname"><a href="mission__start_8cpp.html#af2540b2bf274cc61340154c538845226">ter_t_floor</a></div><div class="ttdeci">static const ter_str_id ter_t_floor(&quot;t_floor&quot;)</div></div>
<div class="ttc" id="anamespacecalendar_html_a2830b54b0424fe452c0933f87d6201b3"><div class="ttname"><a href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a></div><div class="ttdeci">constexpr time_point turn_zero</div><div class="ttdoc">Represents time point 0.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00541">calendar.h:541</a></div></div>
<div class="ttc" id="anamespacemission__util_html_a43aa82a359bd744170c7c41483e52479"><div class="ttname"><a href="namespacemission__util.html#a43aa82a359bd744170c7c41483e52479">mission_util::reveal_road</a></div><div class="ttdeci">bool reveal_road(const tripoint_abs_omt &amp;source, const tripoint_abs_omt &amp;dest, overmapbuffer &amp;omb)</div><div class="ttdef"><b>Definition:</b> <a href="mission__util_8cpp_source.html#l00094">mission_util.cpp:94</a></div></div>
<div class="ttc" id="anamespacemission__util_html_a5709b87839cd597d8d8acc3d0f95bb33"><div class="ttname"><a href="namespacemission__util.html#a5709b87839cd597d8d8acc3d0f95bb33">mission_util::assign_mission_target</a></div><div class="ttdeci">std::optional&lt; tripoint_abs_omt &gt; assign_mission_target(const mission_target_params &amp;params, dialogue &amp;d)</div><div class="ttdef"><b>Definition:</b> <a href="mission__util_8cpp_source.html#l00286">mission_util.cpp:286</a></div></div>
<div class="ttc" id="anamespacemission__util_html_a752e6ac417c1a86945643b0c9cfe2f5f"><div class="ttname"><a href="namespacemission__util.html#a752e6ac417c1a86945643b0c9cfe2f5f">mission_util::target_closest_lab_entrance</a></div><div class="ttdeci">tripoint_abs_omt target_closest_lab_entrance(const tripoint_abs_omt &amp;origin, int reveal_rad, mission *miss)</div><div class="ttdef"><b>Definition:</b> <a href="mission__util_8cpp_source.html#l00148">mission_util.cpp:148</a></div></div>
<div class="ttc" id="anamespacemission__util_html_a8a6643145284af777633b4dc9c2aa29a"><div class="ttname"><a href="namespacemission__util.html#a8a6643145284af777633b4dc9c2aa29a">mission_util::target_om_ter_random</a></div><div class="ttdeci">tripoint_abs_omt target_om_ter_random(const std::string &amp;omter, int reveal_rad, mission *miss, bool must_see, int range, tripoint_abs_omt loc=overmap::invalid_tripoint)</div><div class="ttdef"><b>Definition:</b> <a href="mission__util_8cpp_source.html#l00350">mission_util.cpp:350</a></div></div>
<div class="ttc" id="anamespacemission__util_html_af70d949aa4ca6aa9ab3e6288f88fdb5d"><div class="ttname"><a href="namespacemission__util.html#af70d949aa4ca6aa9ab3e6288f88fdb5d">mission_util::random_house_in_closest_city</a></div><div class="ttdeci">tripoint_abs_omt random_house_in_closest_city()</div><div class="ttdef"><b>Definition:</b> <a href="mission__util_8cpp_source.html#l00136">mission_util.cpp:136</a></div></div>
<div class="ttc" id="anpc_8h_html"><div class="ttname"><a href="npc_8h.html">npc.h</a></div></div>
<div class="ttc" id="anpc_8h_html_a0b36e2ae8f588616c1fd7a3788452cd4aee568a181e2bf1f4ef5122e0674b162d"><div class="ttname"><a href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4aee568a181e2bf1f4ef5122e0674b162d">NPCATT_FOLLOW</a></div><div class="ttdeci">@ NPCATT_FOLLOW</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00110">npc.h:110</a></div></div>
<div class="ttc" id="anpc__class_8cpp_html_a0d4a4ff1ff57b07fa4e4cea0ffeae4fd"><div class="ttname"><a href="npc__class_8cpp.html#a0d4a4ff1ff57b07fa4e4cea0ffeae4fd">NC_HACKER</a></div><div class="ttdeci">const npc_class_id NC_HACKER(&quot;NC_HACKER&quot;)</div></div>
<div class="ttc" id="anpc__class_8cpp_html_a5b518312a35b00ba83dd76948bf1cf17"><div class="ttname"><a href="npc__class_8cpp.html#a5b518312a35b00ba83dd76948bf1cf17">NC_DOCTOR</a></div><div class="ttdeci">const npc_class_id NC_DOCTOR(&quot;NC_DOCTOR&quot;)</div></div>
<div class="ttc" id="anpc__class_8cpp_html_a772f41522bcef43f8b507a5716de65c6"><div class="ttname"><a href="npc__class_8cpp.html#a772f41522bcef43f8b507a5716de65c6">NC_SCIENTIST</a></div><div class="ttdeci">const npc_class_id NC_SCIENTIST(&quot;NC_SCIENTIST&quot;)</div></div>
<div class="ttc" id="anpc__class_8h_html"><div class="ttname"><a href="npc__class_8h.html">npc_class.h</a></div></div>
<div class="ttc" id="aomdata_8h_html"><div class="ttname"><a href="omdata_8h.html">omdata.h</a></div></div>
<div class="ttc" id="aovermap_8cpp_html_aa1967e14c4ef0be6b81c5405dae79281"><div class="ttname"><a href="overmap_8cpp.html#aa1967e14c4ef0be6b81c5405dae79281">is_ot_match</a></div><div class="ttdeci">bool is_ot_match(const std::string &amp;name, const oter_id &amp;oter, const ot_match_type match_type)</div><div class="ttdoc">Determine if the provided name is a match with the provided overmap terrain based on the specified ma...</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l00594">overmap.cpp:594</a></div></div>
<div class="ttc" id="aovermap_8h_html"><div class="ttname"><a href="overmap_8h.html">overmap.h</a></div></div>
<div class="ttc" id="aovermapbuffer_8cpp_html_ab3cf8344ec3e473f9ce96a33dc3425af"><div class="ttname"><a href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a></div><div class="ttdeci">overmapbuffer overmap_buffer</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00051">overmapbuffer.cpp:51</a></div></div>
<div class="ttc" id="aovermapbuffer_8h_html"><div class="ttname"><a href="overmapbuffer_8h.html">overmapbuffer.h</a></div></div>
<div class="ttc" id="apoint_8h_html"><div class="ttname"><a href="point_8h.html">point.h</a></div></div>
<div class="ttc" id="arng_8h_html"><div class="ttname"><a href="rng_8h.html">rng.h</a></div></div>
<div class="ttc" id="arng_8h_html_a12244355ee77108f1b08618e9962e4d1"><div class="ttname"><a href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a></div><div class="ttdeci">V random_entry(const C &amp;container, D default_value)</div><div class="ttdoc">Returns a random entry in the container.</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00104">rng.h:104</a></div></div>
<div class="ttc" id="astring__formatter_8h_html"><div class="ttname"><a href="string__formatter_8h.html">string_formatter.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
<div class="ttc" id="astructabstract__str__or__var_html"><div class="ttname"><a href="structabstract__str__or__var.html">abstract_str_or_var&lt; std::string &gt;</a></div></div>
<div class="ttc" id="astructdbl__or__var__part_html_adcd0dc06e0a6dd870f4b73e9dfcb37f0"><div class="ttname"><a href="structdbl__or__var__part.html#adcd0dc06e0a6dd870f4b73e9dfcb37f0">dbl_or_var_part::dbl_val</a></div><div class="ttdeci">std::optional&lt; double &gt; dbl_val</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__helpers_8h_source.html#l00137">dialogue_helpers.h:137</a></div></div>
<div class="ttc" id="astructdbl__or__var_html"><div class="ttname"><a href="structdbl__or__var.html">dbl_or_var</a></div><div class="ttdef"><b>Definition:</b> <a href="dialogue__helpers_8h_source.html#l00165">dialogue_helpers.h:165</a></div></div>
<div class="ttc" id="astructdbl__or__var_html_ab426d2cadf2a580c189c84dd2374911c"><div class="ttname"><a href="structdbl__or__var.html#ab426d2cadf2a580c189c84dd2374911c">dbl_or_var::min</a></div><div class="ttdeci">dbl_or_var_part min</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__helpers_8h_source.html#l00167">dialogue_helpers.h:167</a></div></div>
<div class="ttc" id="astructdialogue_html"><div class="ttname"><a href="structdialogue.html">dialogue</a></div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00184">dialogue.h:184</a></div></div>
<div class="ttc" id="astructmission__start_html_a25ec5e32ba140185c2c8277312539730"><div class="ttname"><a href="structmission__start.html#a25ec5e32ba140185c2c8277312539730">mission_start::create_lab_console</a></div><div class="ttdeci">static void create_lab_console(mission *)</div><div class="ttdef"><b>Definition:</b> <a href="mission__start_8cpp_source.html#l00367">mission_start.cpp:367</a></div></div>
<div class="ttc" id="astructmission__start_html_a273b2b3e478bf260a6836c200607cb8f"><div class="ttname"><a href="structmission__start.html#a273b2b3e478bf260a6836c200607cb8f">mission_start::place_book</a></div><div class="ttdeci">static void place_book(mission *)</div><div class="ttdef"><b>Definition:</b> <a href="mission__start_8cpp_source.html#l00285">mission_start.cpp:285</a></div></div>
<div class="ttc" id="astructmission__start_html_a2c739c6be27b5e6b54f63c33a755892f"><div class="ttname"><a href="structmission__start.html#a2c739c6be27b5e6b54f63c33a755892f">mission_start::find_safety</a></div><div class="ttdeci">static void find_safety(mission *)</div><div class="ttdef"><b>Definition:</b> <a href="mission__start_8cpp_source.html#l00235">mission_start.cpp:235</a></div></div>
<div class="ttc" id="astructmission__start_html_a2ffbfc8ed14ed72c28852ede7f8d5c4e"><div class="ttname"><a href="structmission__start.html#a2ffbfc8ed14ed72c28852ede7f8d5c4e">mission_start::standard</a></div><div class="ttdeci">static void standard(mission *)</div><div class="ttdef"><b>Definition:</b> <a href="mission__start_8cpp_source.html#l00054">mission_start.cpp:54</a></div></div>
<div class="ttc" id="astructmission__start_html_a4128dc24df1b6566dc7364118c0cfa44"><div class="ttname"><a href="structmission__start.html#a4128dc24df1b6566dc7364118c0cfa44">mission_start::create_hidden_lab_console</a></div><div class="ttdeci">static void create_hidden_lab_console(mission *)</div><div class="ttdef"><b>Definition:</b> <a href="mission__start_8cpp_source.html#l00383">mission_start.cpp:383</a></div></div>
<div class="ttc" id="astructmission__start_html_a49b3d7ddc009dc2e7dca489582c23117"><div class="ttname"><a href="structmission__start.html#a49b3d7ddc009dc2e7dca489582c23117">mission_start::place_deposit_box</a></div><div class="ttdeci">static void place_deposit_box(mission *)</div><div class="ttdef"><b>Definition:</b> <a href="mission__start_8cpp_source.html#l00193">mission_start.cpp:193</a></div></div>
<div class="ttc" id="astructmission__start_html_a8f6648820d61ea5ae0da43b679fc0abe"><div class="ttname"><a href="structmission__start.html#a8f6648820d61ea5ae0da43b679fc0abe">mission_start::reveal_refugee_center</a></div><div class="ttdeci">static void reveal_refugee_center(mission *)</div><div class="ttdef"><b>Definition:</b> <a href="mission__start_8cpp_source.html#l00289">mission_start.cpp:289</a></div></div>
<div class="ttc" id="astructmission__start_html_a97ca191190e4a9f25c5ccfecb23660cb"><div class="ttname"><a href="structmission__start.html#a97ca191190e4a9f25c5ccfecb23660cb">mission_start::place_npc_software</a></div><div class="ttdeci">static void place_npc_software(mission *)</div><div class="ttdef"><b>Definition:</b> <a href="mission__start_8cpp_source.html#l00140">mission_start.cpp:140</a></div></div>
<div class="ttc" id="astructmission__start_html_ace095b81ae63a1f44041e4dba0ec0755"><div class="ttname"><a href="structmission__start.html#ace095b81ae63a1f44041e4dba0ec0755">mission_start::kill_nemesis</a></div><div class="ttdeci">static void kill_nemesis(mission *)</div><div class="ttdef"><b>Definition:</b> <a href="mission__start_8cpp_source.html#l00058">mission_start.cpp:58</a></div></div>
<div class="ttc" id="astructmission__start_html_ae2da2a2a63aa54fc8b0e5ccc8b3cfec9"><div class="ttname"><a href="structmission__start.html#ae2da2a2a63aa54fc8b0e5ccc8b3cfec9">mission_start::create_ice_lab_console</a></div><div class="ttdeci">static void create_ice_lab_console(mission *)</div><div class="ttdef"><b>Definition:</b> <a href="mission__start_8cpp_source.html#l00400">mission_start.cpp:400</a></div></div>
<div class="ttc" id="astructmission__target__params_html"><div class="ttname"><a href="structmission__target__params.html">mission_target_params</a></div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00127">mission.h:127</a></div></div>
<div class="ttc" id="astructmission__target__params_html_a2bde2f22f6f5b43964b7cadd20588db0"><div class="ttname"><a href="structmission__target__params.html#a2bde2f22f6f5b43964b7cadd20588db0">mission_target_params::search_range</a></div><div class="ttdeci">dbl_or_var search_range</div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00144">mission.h:144</a></div></div>
<div class="ttc" id="astructmission__target__params_html_a3581f494cc6cd11dd4e8b8c15e65e9f9"><div class="ttname"><a href="structmission__target__params.html#a3581f494cc6cd11dd4e8b8c15e65e9f9">mission_target_params::overmap_terrain</a></div><div class="ttdeci">str_or_var overmap_terrain</div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00128">mission.h:128</a></div></div>
<div class="ttc" id="astructmission__target__params_html_a80345988ae01ffc70749039db584647f"><div class="ttname"><a href="structmission__target__params.html#a80345988ae01ffc70749039db584647f">mission_target_params::overmap_special</a></div><div class="ttdeci">std::optional&lt; str_or_var &gt; overmap_special</div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00135">mission.h:135</a></div></div>
<div class="ttc" id="astructmission__target__params_html_a871cf6e2011dcb712ae74a0261349ea6"><div class="ttname"><a href="structmission__target__params.html#a871cf6e2011dcb712ae74a0261349ea6">mission_target_params::reveal_radius</a></div><div class="ttdeci">std::optional&lt; dbl_or_var &gt; reveal_radius</div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00136">mission.h:136</a></div></div>
<div class="ttc" id="astructmission__target__params_html_a9cc7905f5a9f560ed4a8fa28bfeefc09"><div class="ttname"><a href="structmission__target__params.html#a9cc7905f5a9f560ed4a8fa28bfeefc09">mission_target_params::mission_pointer</a></div><div class="ttdeci">mission * mission_pointer</div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00130">mission.h:130</a></div></div>
<div class="ttc" id="astructmission__target__params_html_afd5c9e078442f5be807622f5c8fc9002"><div class="ttname"><a href="structmission__target__params.html#afd5c9e078442f5be807622f5c8fc9002">mission_target_params::min_distance</a></div><div class="ttdeci">dbl_or_var min_distance</div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00138">mission.h:138</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
<div class="ttc" id="atranslations_8h_html"><div class="ttname"><a href="translations_8h.html">translations.h</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
<div class="ttc" id="aunits_8h_html"><div class="ttname"><a href="units_8h.html">units.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:29 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
