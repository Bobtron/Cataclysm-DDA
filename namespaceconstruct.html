<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: construct Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">construct Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4128530cbe234f1ca876835a9a8fa381"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a4128530cbe234f1ca876835a9a8fa381">check_nothing</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;)</td></tr>
<tr class="separator:a4128530cbe234f1ca876835a9a8fa381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad01b4acaa825b09e0ed213341a68c324"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#ad01b4acaa825b09e0ed213341a68c324">check_channel</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;)</td></tr>
<tr class="separator:ad01b4acaa825b09e0ed213341a68c324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a822dbd678e12ef4a55897776f44aa23f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a822dbd678e12ef4a55897776f44aa23f">check_empty_lite</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;)</td></tr>
<tr class="separator:a822dbd678e12ef4a55897776f44aa23f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13caa578445034e848cbcbc26f1a4afa"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a13caa578445034e848cbcbc26f1a4afa">check_empty</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;)</td></tr>
<tr class="separator:a13caa578445034e848cbcbc26f1a4afa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7df1d4cd0ba2e419ee2c07a8536f5a2a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a7df1d4cd0ba2e419ee2c07a8536f5a2a">check_support</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;)</td></tr>
<tr class="separator:a7df1d4cd0ba2e419ee2c07a8536f5a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25eab0702d3f323f9918927662b2b32"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#aa25eab0702d3f323f9918927662b2b32">check_support_below</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;)</td></tr>
<tr class="separator:aa25eab0702d3f323f9918927662b2b32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a612e6d7fa20cce12554431bee1c9e675"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a612e6d7fa20cce12554431bee1c9e675">check_single_support</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;p)</td></tr>
<tr class="separator:a612e6d7fa20cce12554431bee1c9e675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ad001ab90a1b721c24693c5fa25e3f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a93ad001ab90a1b721c24693c5fa25e3f">check_stable</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;)</td></tr>
<tr class="separator:a93ad001ab90a1b721c24693c5fa25e3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a181f672db4de56fa3ecf1d0c8cc3235d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a181f672db4de56fa3ecf1d0c8cc3235d">check_nofloor_above</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;)</td></tr>
<tr class="separator:a181f672db4de56fa3ecf1d0c8cc3235d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21ad9000d57a53226e3445d3b1b068a5"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a21ad9000d57a53226e3445d3b1b068a5">check_deconstruct</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;)</td></tr>
<tr class="separator:a21ad9000d57a53226e3445d3b1b068a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2943e2f90d3a66464c601e1ed6bc80"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#afe2943e2f90d3a66464c601e1ed6bc80">check_up_OK</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;)</td></tr>
<tr class="separator:afe2943e2f90d3a66464c601e1ed6bc80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65834ac68be5fcc286e4d16c297d072e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a65834ac68be5fcc286e4d16c297d072e">check_down_OK</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;)</td></tr>
<tr class="separator:a65834ac68be5fcc286e4d16c297d072e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a9fd822d44798947ab8fd1f196aa2af"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a4a9fd822d44798947ab8fd1f196aa2af">check_no_trap</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;)</td></tr>
<tr class="separator:a4a9fd822d44798947ab8fd1f196aa2af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd67cf9a6c96ee0fb716b1bf59f27e9f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#acd67cf9a6c96ee0fb716b1bf59f27e9f">check_ramp_high</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;)</td></tr>
<tr class="separator:acd67cf9a6c96ee0fb716b1bf59f27e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a387dd15913639eabed742b5c54a76058"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a387dd15913639eabed742b5c54a76058">check_no_wiring</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;)</td></tr>
<tr class="separator:a387dd15913639eabed742b5c54a76058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01e7ac09b9aface7751aeb1f5dd2ace1"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a01e7ac09b9aface7751aeb1f5dd2ace1">check_matching_down_above</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;p)</td></tr>
<tr class="separator:a01e7ac09b9aface7751aeb1f5dd2ace1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6553780f412f6255614ddf7a4dfed0ab"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a6553780f412f6255614ddf7a4dfed0ab">done_nothing</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:a6553780f412f6255614ddf7a4dfed0ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c726552bf43ff9099d428ab9a37ca36"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a6c726552bf43ff9099d428ab9a37ca36">done_trunk_plank</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:a6c726552bf43ff9099d428ab9a37ca36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea188ff8253a85a6bdc1906ac683fd7f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#aea188ff8253a85a6bdc1906ac683fd7f">done_grave</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:aea188ff8253a85a6bdc1906ac683fd7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1defe457098e25238dc8a65b5143a43a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a1defe457098e25238dc8a65b5143a43a">done_vehicle</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:a1defe457098e25238dc8a65b5143a43a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88fb9c72ab8d4f2e30178bc4ef04c603"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a88fb9c72ab8d4f2e30178bc4ef04c603">done_appliance</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:a88fb9c72ab8d4f2e30178bc4ef04c603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49fd277e35bb85ae319609b57e72dfbb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a49fd277e35bb85ae319609b57e72dfbb">done_wiring</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:a49fd277e35bb85ae319609b57e72dfbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a071830fb8b2b308bc5fa01f44a1873f9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a071830fb8b2b308bc5fa01f44a1873f9">done_deconstruct</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:a071830fb8b2b308bc5fa01f44a1873f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8806d39e0eb546694fd58164ccadaa37"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a8806d39e0eb546694fd58164ccadaa37">done_digormine_stair</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, bool, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:a8806d39e0eb546694fd58164ccadaa37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0c156535478d57029a043e58379a0ec"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#af0c156535478d57029a043e58379a0ec">done_dig_grave</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;p, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:af0c156535478d57029a043e58379a0ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4dbaabef411b6a814a329d564e97bdd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#ad4dbaabef411b6a814a329d564e97bdd">done_dig_grave_nospawn</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;p, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:ad4dbaabef411b6a814a329d564e97bdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0d7c9eff5acc7fc5a334a2c1f0995d8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#ab0d7c9eff5acc7fc5a334a2c1f0995d8">done_dig_stair</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:ab0d7c9eff5acc7fc5a334a2c1f0995d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95412aa089292f871576f1a8103a0c59"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a95412aa089292f871576f1a8103a0c59">done_mine_downstair</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:a95412aa089292f871576f1a8103a0c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef5ee9218591fded0adb8d98e02375f1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#aef5ee9218591fded0adb8d98e02375f1">done_mine_upstair</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:aef5ee9218591fded0adb8d98e02375f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc526f1583f2bbc0ddc6712597be6384"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#adc526f1583f2bbc0ddc6712597be6384">done_wood_stairs</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:adc526f1583f2bbc0ddc6712597be6384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad24679854f7c6c7b64650cbb99dea630"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#ad24679854f7c6c7b64650cbb99dea630">done_window_curtains</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:ad24679854f7c6c7b64650cbb99dea630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4891e4690429fb902bab71a8a176051"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#ab4891e4690429fb902bab71a8a176051">done_extract_maybe_revert_to_dirt</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:ab4891e4690429fb902bab71a8a176051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86ec701f2c36256728e22142345c7fc3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a86ec701f2c36256728e22142345c7fc3">done_mark_firewood</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:a86ec701f2c36256728e22142345c7fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f0a2e7848428545de68932f6724d2ec"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a8f0a2e7848428545de68932f6724d2ec">done_mark_practice_target</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:a8f0a2e7848428545de68932f6724d2ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79bde7d4b79d3409d95ffe826d06ca3d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a79bde7d4b79d3409d95ffe826d06ca3d">done_ramp_low</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:a79bde7d4b79d3409d95ffe826d06ca3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1904f27c90e5c83d0272612bf3e543eb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a1904f27c90e5c83d0272612bf3e543eb">done_ramp_high</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:a1904f27c90e5c83d0272612bf3e543eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a859392c75aac64c88b7d8c52f374c13d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a859392c75aac64c88b7d8c52f374c13d">add_matching_down_above</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;p, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:a859392c75aac64c88b7d8c52f374c13d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2551dd2a518214f1420c09872dd3311"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#ac2551dd2a518214f1420c09872dd3311">remove_above</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;p, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:ac2551dd2a518214f1420c09872dd3311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1b29f13f411851907b3242709e0c251"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#aa1b29f13f411851907b3242709e0c251">add_roof</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;p, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:aa1b29f13f411851907b3242709e0c251"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae341977c44997a604973240f202d86fb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#ae341977c44997a604973240f202d86fb">do_turn_shovel</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:ae341977c44997a604973240f202d86fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e356958b3fdc7e748e436d8619fb311"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a2e356958b3fdc7e748e436d8619fb311">do_turn_exhume</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;, <a class="el" href="classCharacter.html">Character</a> &amp;)</td></tr>
<tr class="separator:a2e356958b3fdc7e748e436d8619fb311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f4c302ec792520e29801372bf9ea1d6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a6f4c302ec792520e29801372bf9ea1d6">failure_standard</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;)</td></tr>
<tr class="separator:a6f4c302ec792520e29801372bf9ea1d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca379a01d73d1a4d9aaa84956423caf4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#aca379a01d73d1a4d9aaa84956423caf4">failure_deconstruct</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;)</td></tr>
<tr class="separator:aca379a01d73d1a4d9aaa84956423caf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a859392c75aac64c88b7d8c52f374c13d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a859392c75aac64c88b7d8c52f374c13d">&#9670;&nbsp;</a></span>add_matching_down_above()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::add_matching_down_above </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01807">1807</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;{</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <span class="keyword">const</span> std::string ter_here = here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ).<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>();</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="keyword">const</span> std::string ter_above = here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p + <a class="code" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a> ).<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>();</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> separation = ter_here.find_last_of( <span class="charliteral">&#39;_&#39;</span> );</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <span class="keywordflow">if</span>( separation &gt; 0 ) {</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        here.<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( p + <a class="code" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a>, <a class="code" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a>( ter_here.substr( 0, separation + 1 ) + <span class="stringliteral">&quot;down&quot;</span> ) );</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    }</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;}</div>
<div class="ttc" id="aclassint__id_html_a88b1e0c550f4d6f36cac7a73feca7f01"><div class="ttname"><a href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">int_id::id</a></div><div class="ttdeci">const string_id&lt; T &gt; &amp; id() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00033">ammo_effect.cpp:33</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="aclassmap_html_a59bdb65280e5e1461469b0e1275c402e"><div class="ttname"><a href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">map::ter_set</a></div><div class="ttdeci">bool ter_set(const tripoint &amp;p, const ter_id &amp;new_terrain, bool avoid_creatures=false)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02226">map.cpp:2226</a></div></div>
<div class="ttc" id="aclassmap_html_aba8f330c2cc25be0652489b42d8dd530"><div class="ttname"><a href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">map::ter</a></div><div class="ttdeci">ter_id ter(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01922">map.cpp:1922</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae75b0a209b55081a67c5fe6c17a4be00"><div class="ttname"><a href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00260">string_id.h:260</a></div></div>
<div class="ttc" id="agame_8cpp_html_afa1063326b0c16b43c6f3dc8c3df403d"><div class="ttname"><a href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13822">game.cpp:13822</a></div></div>
<div class="ttc" id="apoint_8h_html_aff85224e35f4fc5c8ac34e20a1007c4c"><div class="ttname"><a href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a></div><div class="ttdeci">constexpr tripoint tripoint_above</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00271">point.h:271</a></div></div>
<div class="ttc" id="atype__id_8h_html_a52570fdf9996c7b72d444f8020a741e8"><div class="ttname"><a href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a></div><div class="ttdeci">int_id&lt; ter_t &gt; ter_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00262">type_id.h:262</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00033">int_id&lt; T &gt;::id()</a>, <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>, <a class="el" href="map_8cpp_source.html#l01922">map::ter()</a>, <a class="el" href="map_8cpp_source.html#l02226">map::ter_set()</a>, and <a class="el" href="point_8h_source.html#l00271">tripoint_above</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="aa1b29f13f411851907b3242709e0c251"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1b29f13f411851907b3242709e0c251">&#9670;&nbsp;</a></span>add_roof()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::add_roof </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01824">1824</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;{</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <a class="code" href="classint__id.html">ter_id</a> roof = here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ).<a class="code" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="structter__t.html#a9a74706de0ca397d012761de59d3d13b">roof</a>;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordflow">if</span>( !roof ) {</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;add_roof post_ter called on terrain lacking roof definition, %s.&quot;</span>,</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;                  here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ).<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>().<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() );</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    }</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    here.<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( p + <a class="code" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a>, roof );</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;}</div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; ter_t &gt;</a></div></div>
<div class="ttc" id="aclassint__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">int_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00026">ammo_effect.cpp:26</a></div></div>
<div class="ttc" id="aclassstring__id_html_a2c0e3a434bcb9e3c353b337053ff22d8"><div class="ttname"><a href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">string_id::c_str</a></div><div class="ttdeci">const char * c_str() const</div><div class="ttdoc">Interface to the plain C-string of the id.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00252">string_id.h:252</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="astructter__t_html_a9a74706de0ca397d012761de59d3d13b"><div class="ttname"><a href="structter__t.html#a9a74706de0ca397d012761de59d3d13b">ter_t::roof</a></div><div class="ttdeci">ter_str_id roof</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00616">mapdata.h:616</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="string__id_8h_source.html#l00252">string_id&lt; T &gt;::c_str()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00033">int_id&lt; T &gt;::id()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00026">int_id&lt; T &gt;::obj()</a>, <a class="el" href="mapdata_8h_source.html#l00616">ter_t::roof</a>, <a class="el" href="map_8cpp_source.html#l01922">map::ter()</a>, <a class="el" href="map_8cpp_source.html#l02226">map::ter_set()</a>, and <a class="el" href="point_8h_source.html#l00271">tripoint_above</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="ad01b4acaa825b09e0ed213341a68c324"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad01b4acaa825b09e0ed213341a68c324">&#9670;&nbsp;</a></span>check_channel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_channel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01225">1225</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;{</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> &amp;offset : <a class="code" href="point_8h.html#aad28d8d682bc8e5628fd2b04df87decd">four_adjacent_offsets</a> ) {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054afd7a56d77fa53a62ec27ac7a1c3df716">ter_furn_flag::TFLAG_CURRENT</a>, p + offset ) ) {</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        }</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    }</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_a27e22f0999ea03eff18babc48643c568"><div class="ttname"><a href="classmap.html#a27e22f0999ea03eff18babc48643c568">map::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03077">map.cpp:3077</a></div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054afd7a56d77fa53a62ec27ac7a1c3df716"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054afd7a56d77fa53a62ec27ac7a1c3df716">ter_furn_flag::TFLAG_CURRENT</a></div><div class="ttdeci">@ TFLAG_CURRENT</div></div>
<div class="ttc" id="apoint_8h_html_aad28d8d682bc8e5628fd2b04df87decd"><div class="ttname"><a href="point_8h.html#aad28d8d682bc8e5628fd2b04df87decd">four_adjacent_offsets</a></div><div class="ttdeci">constexpr std::array&lt; point, 4 &gt; four_adjacent_offsets</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00333">point.h:333</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="point_8h_source.html#l00333">four_adjacent_offsets</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, and <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054afd7a56d77fa53a62ec27ac7a1c3df716">TFLAG_CURRENT</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a21ad9000d57a53226e3445d3b1b068a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21ad9000d57a53226e3445d3b1b068a5">&#9670;&nbsp;</a></span>check_deconstruct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_deconstruct </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01334">1334</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;{</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a00008f407a53edc2445622618d7ed071">has_furn</a>( p ) ) {</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <span class="comment">// Can deconstruct furniture here, make sure regular deconstruction isn&#39;t available if easy deconstruction is possible</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a09ef3e8c2e6664e3ed98d1e1e18a4b4f">has_flag_furn</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a5110fb449434a78d2d6d993c701e9ea6">ter_furn_flag::TFLAG_EASY_DECONSTRUCT</a>, p ) ) {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        }</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        <span class="keywordflow">return</span> here.<a class="code" href="classmap.html#af55e014aab791bbe4c8630361c1311dd">furn</a>( p ).<a class="code" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code" href="structmap__deconstruct__info.html#acc3374a5eef731288660e91285b5a920">can_do</a>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    }</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="comment">// terrain can only be deconstructed when there is no furniture in the way</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="keywordflow">return</span> here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ).<a class="code" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code" href="structmap__deconstruct__info.html#acc3374a5eef731288660e91285b5a920">can_do</a>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_a00008f407a53edc2445622618d7ed071"><div class="ttname"><a href="classmap.html#a00008f407a53edc2445622618d7ed071">map::has_furn</a></div><div class="ttdeci">bool has_furn(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01712">map.cpp:1712</a></div></div>
<div class="ttc" id="aclassmap_html_a09ef3e8c2e6664e3ed98d1e1e18a4b4f"><div class="ttname"><a href="classmap.html#a09ef3e8c2e6664e3ed98d1e1e18a4b4f">map::has_flag_furn</a></div><div class="ttdeci">bool has_flag_furn(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03112">map.cpp:3112</a></div></div>
<div class="ttc" id="aclassmap_html_af55e014aab791bbe4c8630361c1311dd"><div class="ttname"><a href="classmap.html#af55e014aab791bbe4c8630361c1311dd">map::furn</a></div><div class="ttdeci">furn_id furn(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01722">map.cpp:1722</a></div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a5110fb449434a78d2d6d993c701e9ea6"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a5110fb449434a78d2d6d993c701e9ea6">ter_furn_flag::TFLAG_EASY_DECONSTRUCT</a></div><div class="ttdeci">@ TFLAG_EASY_DECONSTRUCT</div></div>
<div class="ttc" id="astructmap__data__common__t_html_a01b48c24a4af4af4060c8e461b5df580"><div class="ttname"><a href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">map_data_common_t::deconstruct</a></div><div class="ttdeci">map_deconstruct_info deconstruct</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00454">mapdata.h:454</a></div></div>
<div class="ttc" id="astructmap__deconstruct__info_html_acc3374a5eef731288660e91285b5a920"><div class="ttname"><a href="structmap__deconstruct__info.html#acc3374a5eef731288660e91285b5a920">map_deconstruct_info::can_do</a></div><div class="ttdeci">bool can_do</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00081">mapdata.h:81</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mapdata_8h_source.html#l00081">map_deconstruct_info::can_do</a>, <a class="el" href="mapdata_8h_source.html#l00454">map_data_common_t::deconstruct</a>, <a class="el" href="map_8cpp_source.html#l01722">map::furn()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l03112">map::has_flag_furn()</a>, <a class="el" href="map_8cpp_source.html#l01712">map::has_furn()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00026">int_id&lt; T &gt;::obj()</a>, <a class="el" href="map_8cpp_source.html#l01922">map::ter()</a>, and <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a5110fb449434a78d2d6d993c701e9ea6">TFLAG_EASY_DECONSTRUCT</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a65834ac68be5fcc286e4d16c297d072e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65834ac68be5fcc286e4d16c297d072e">&#9670;&nbsp;</a></span>check_down_OK()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_down_OK </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01354">1354</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;{</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="comment">// You&#39;re not going below -OVERMAP_DEPTH.</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keywordflow">return</span> ( <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().get_abs_sub().z() &gt; -<a class="code" href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a> );</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;}</div>
<div class="ttc" id="agame__constants_8h_html_aad0eacfa516a8f7e005674027d7640fe"><div class="ttname"><a href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a></div><div class="ttdeci">constexpr int OVERMAP_DEPTH</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00073">game_constants.h:73</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, and <a class="el" href="game__constants_8h_source.html#l00073">OVERMAP_DEPTH</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a13caa578445034e848cbcbc26f1a4afa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13caa578445034e848cbcbc26f1a4afa">&#9670;&nbsp;</a></span>check_empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_empty </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01243">1243</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;{</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="comment">// @TODO should check for *visible* traps only. But calling code must</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="comment">// first know how to handle constructing on top of an invisible trap!</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keywordflow">return</span> ( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a30e2c1c17c8b07188b9c4cbb80fbdf65">ter_furn_flag::TFLAG_FLAT</a>, p ) &amp;&amp; !here.<a class="code" href="classmap.html#a00008f407a53edc2445622618d7ed071">has_furn</a>( p ) &amp;&amp;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;             <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_empty( p ) &amp;&amp; here.<a class="code" href="classmap.html#a30ccb67ed3651d350f2caf214e0b5176">tr_at</a>( p ).<a class="code" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a>() &amp;&amp;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;             here.<a class="code" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( p ).<a class="code" href="classitem__stack.html#a83fd3bd296c75326b3709280804acef4">empty</a>() &amp;&amp; !here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( p ) );</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;}</div>
<div class="ttc" id="aclassitem__stack_html_a83fd3bd296c75326b3709280804acef4"><div class="ttname"><a href="classitem__stack.html#a83fd3bd296c75326b3709280804acef4">item_stack::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8cpp_source.html#l00019">item_stack.cpp:19</a></div></div>
<div class="ttc" id="aclassmap_html_a30ccb67ed3651d350f2caf214e0b5176"><div class="ttname"><a href="classmap.html#a30ccb67ed3651d350f2caf214e0b5176">map::tr_at</a></div><div class="ttdeci">const trap &amp; tr_at(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06213">map.cpp:6213</a></div></div>
<div class="ttc" id="aclassmap_html_a5130a127601b67e569eaef37a1a88610"><div class="ttname"><a href="classmap.html#a5130a127601b67e569eaef37a1a88610">map::i_at</a></div><div class="ttdeci">map_stack i_at(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04978">map.cpp:4978</a></div></div>
<div class="ttc" id="aclassmap_html_aa487d96256c3d35db7a1bf273156b64a"><div class="ttname"><a href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">map::veh_at</a></div><div class="ttdeci">optional_vpart_position veh_at(const tripoint &amp;p) const</div><div class="ttdoc">Checks if tile is occupied by vehicle and by which part.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01316">map.cpp:1316</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00382">game.cpp:382</a></div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a30e2c1c17c8b07188b9c4cbb80fbdf65"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a30e2c1c17c8b07188b9c4cbb80fbdf65">ter_furn_flag::TFLAG_FLAT</a></div><div class="ttdeci">@ TFLAG_FLAT</div></div>
<div class="ttc" id="astructtrap_html_a6a9ac96c5c81eb31093e049ffeac8b4f"><div class="ttname"><a href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">trap::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Whether this is the null-traps, aka no trap at all.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00366">trap.cpp:366</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__stack_8cpp_source.html#l00019">item_stack::empty()</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l01712">map::has_furn()</a>, <a class="el" href="map_8cpp_source.html#l04978">map::i_at()</a>, <a class="el" href="trap_8cpp_source.html#l00366">trap::is_null()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a30e2c1c17c8b07188b9c4cbb80fbdf65">TFLAG_FLAT</a>, <a class="el" href="map_8cpp_source.html#l06213">map::tr_at()</a>, and <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a822dbd678e12ef4a55897776f44aa23f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a822dbd678e12ef4a55897776f44aa23f">&#9670;&nbsp;</a></span>check_empty_lite()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_empty_lite </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01236">1236</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;{</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="keywordflow">return</span> ( !here.<a class="code" href="classmap.html#a00008f407a53edc2445622618d7ed071">has_furn</a>( p ) &amp;&amp; <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_empty( p ) &amp;&amp; here.<a class="code" href="classmap.html#a30ccb67ed3651d350f2caf214e0b5176">tr_at</a>( p ).<a class="code" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a>() &amp;&amp;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;             here.<a class="code" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( p ).<a class="code" href="classitem__stack.html#a83fd3bd296c75326b3709280804acef4">empty</a>() &amp;&amp; !here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( p ) );</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__stack_8cpp_source.html#l00019">item_stack::empty()</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l01712">map::has_furn()</a>, <a class="el" href="map_8cpp_source.html#l04978">map::i_at()</a>, <a class="el" href="trap_8cpp_source.html#l00366">trap::is_null()</a>, <a class="el" href="map_8cpp_source.html#l06213">map::tr_at()</a>, and <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a01e7ac09b9aface7751aeb1f5dd2ace1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01e7ac09b9aface7751aeb1f5dd2ace1">&#9670;&nbsp;</a></span>check_matching_down_above()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_matching_down_above </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01387">1387</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;{</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="keyword">const</span> std::string ter_here = here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ).<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>();</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keyword">const</span> std::string ter_above = here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p + <a class="code" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a> ).<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>();</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> separation = ter_here.find_last_of( <span class="charliteral">&#39;_&#39;</span> );</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <span class="keywordflow">return</span> separation &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;           ter_here.substr( 0, separation + 1 ) + <span class="stringliteral">&quot;down&quot;</span> == ter_above;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00033">int_id&lt; T &gt;::id()</a>, <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>, <a class="el" href="map_8cpp_source.html#l01922">map::ter()</a>, and <a class="el" href="point_8h_source.html#l00271">tripoint_above</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a4a9fd822d44798947ab8fd1f196aa2af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a9fd822d44798947ab8fd1f196aa2af">&#9670;&nbsp;</a></span>check_no_trap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_no_trap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01360">1360</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;{</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a30ccb67ed3651d350f2caf214e0b5176">tr_at</a>( p ).<a class="code" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a>();</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="trap_8cpp_source.html#l00366">trap::is_null()</a>, and <a class="el" href="map_8cpp_source.html#l06213">map::tr_at()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a387dd15913639eabed742b5c54a76058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a387dd15913639eabed742b5c54a76058">&#9670;&nbsp;</a></span>check_no_wiring()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_no_wiring </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01376">1376</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;{</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keyword">const</span> <a class="code" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( p );</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keywordflow">if</span>( !vp ) {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    }</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160; </div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <span class="keyword">const</span> <a class="code" href="classvehicle.html">vehicle</a> &amp;veh_target = vp-&gt;vehicle();</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="keywordflow">return</span> !veh_target.<a class="code" href="classvehicle.html#a49d95a40e5b719680e0c4a173ec9bb12">has_tag</a>( <a class="code" href="construction_8cpp.html#a115bca2a89704ba924436d7a88955842">flag_WIRING</a> );</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;}</div>
<div class="ttc" id="aclassoptional__vpart__position_html"><div class="ttname"><a href="classoptional__vpart__position.html">optional_vpart_position</a></div><div class="ttdoc">Simple wrapper to forward functions that may return a std::optional to vpart_position.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00124">vpart_position.h:125</a></div></div>
<div class="ttc" id="aclassvehicle_html"><div class="ttname"><a href="classvehicle.html">vehicle</a></div><div class="ttdoc">A vehicle as a whole with all its components.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00801">vehicle.h:802</a></div></div>
<div class="ttc" id="aclassvehicle_html_a49d95a40e5b719680e0c4a173ec9bb12"><div class="ttname"><a href="classvehicle.html#a49d95a40e5b719680e0c4a173ec9bb12">vehicle::has_tag</a></div><div class="ttdeci">bool has_tag(const std::string &amp;tag) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l08322">vehicle.cpp:8322</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_a115bca2a89704ba924436d7a88955842"><div class="ttname"><a href="construction_8cpp.html#a115bca2a89704ba924436d7a88955842">flag_WIRING</a></div><div class="ttdeci">static const std::string flag_WIRING(&quot;WIRING&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="construction_8cpp.html#a115bca2a89704ba924436d7a88955842">flag_WIRING()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="vehicle_8cpp_source.html#l08322">vehicle::has_tag()</a>, and <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a181f672db4de56fa3ecf1d0c8cc3235d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a181f672db4de56fa3ecf1d0c8cc3235d">&#9670;&nbsp;</a></span>check_nofloor_above()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_nofloor_above </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01329">1329</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;{</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054af607730a38ff7975c6724b22881e0e58">ter_furn_flag::TFLAG_NO_FLOOR</a>, p + <a class="code" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a> );</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;}</div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054af607730a38ff7975c6724b22881e0e58"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054af607730a38ff7975c6724b22881e0e58">ter_furn_flag::TFLAG_NO_FLOOR</a></div><div class="ttdeci">@ TFLAG_NO_FLOOR</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054af607730a38ff7975c6724b22881e0e58">TFLAG_NO_FLOOR</a>, and <a class="el" href="point_8h_source.html#l00271">tripoint_above</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a4128530cbe234f1ca876835a9a8fa381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4128530cbe234f1ca876835a9a8fa381">&#9670;&nbsp;</a></span>check_nothing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool construct::check_nothing </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l00153">153</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="acd67cf9a6c96ee0fb716b1bf59f27e9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd67cf9a6c96ee0fb716b1bf59f27e9f">&#9670;&nbsp;</a></span>check_ramp_high()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_ramp_high </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01365">1365</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;{</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> &amp;offset : <a class="code" href="point_8h.html#aad28d8d682bc8e5628fd2b04df87decd">four_adjacent_offsets</a> ) {</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a26a026d844907da147f1350754b5210b">ter_furn_flag::TFLAG_RAMP_DOWN</a>, p + offset + <a class="code" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a> ) ) {</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        }</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    }</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;}</div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a26a026d844907da147f1350754b5210b"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a26a026d844907da147f1350754b5210b">ter_furn_flag::TFLAG_RAMP_DOWN</a></div><div class="ttdeci">@ TFLAG_RAMP_DOWN</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="point_8h_source.html#l00333">four_adjacent_offsets</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a26a026d844907da147f1350754b5210b">TFLAG_RAMP_DOWN</a>, and <a class="el" href="point_8h_source.html#l00271">tripoint_above</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a612e6d7fa20cce12554431bee1c9e675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a612e6d7fa20cce12554431bee1c9e675">&#9670;&nbsp;</a></span>check_single_support()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_single_support </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01315">1315</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;{</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">impassable</a>( p ) ) {</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    }</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">return</span> here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aeacda9d4b24c9c856277859caed47ba7">ter_furn_flag::TFLAG_SUPPORTS_ROOF</a>, p + <a class="code" href="point_8h.html#a53f9f23b765219169daffe4c54ad5b8f">tripoint_below</a> );</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_a802cc11379d4be61f4e2b13a50f6390e"><div class="ttname"><a href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">map::impassable</a></div><div class="ttdeci">bool impassable(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02462">map.cpp:2462</a></div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054aeacda9d4b24c9c856277859caed47ba7"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aeacda9d4b24c9c856277859caed47ba7">ter_furn_flag::TFLAG_SUPPORTS_ROOF</a></div><div class="ttdeci">@ TFLAG_SUPPORTS_ROOF</div></div>
<div class="ttc" id="apoint_8h_html_a53f9f23b765219169daffe4c54ad5b8f"><div class="ttname"><a href="point_8h.html#a53f9f23b765219169daffe4c54ad5b8f">tripoint_below</a></div><div class="ttdeci">constexpr tripoint tripoint_below</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00272">point.h:272</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l02462">map::impassable()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aeacda9d4b24c9c856277859caed47ba7">TFLAG_SUPPORTS_ROOF</a>, and <a class="el" href="point_8h_source.html#l00272">tripoint_below</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a93ad001ab90a1b721c24693c5fa25e3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93ad001ab90a1b721c24693c5fa25e3f">&#9670;&nbsp;</a></span>check_stable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_stable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01324">1324</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;{</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aeacda9d4b24c9c856277859caed47ba7">ter_furn_flag::TFLAG_SUPPORTS_ROOF</a>, p + <a class="code" href="point_8h.html#a53f9f23b765219169daffe4c54ad5b8f">tripoint_below</a> );</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aeacda9d4b24c9c856277859caed47ba7">TFLAG_SUPPORTS_ROOF</a>, and <a class="el" href="point_8h_source.html#l00272">tripoint_below</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a7df1d4cd0ba2e419ee2c07a8536f5a2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7df1d4cd0ba2e419ee2c07a8536f5a2a">&#9670;&nbsp;</a></span>check_support()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_support </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01253">1253</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;{</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="comment">// need two or more orthogonally adjacent supports</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">impassable</a>( p ) ) {</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    }</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordtype">int</span> num_supports = 0;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> &amp;offset : <a class="code" href="point_8h.html#aad28d8d682bc8e5628fd2b04df87decd">four_adjacent_offsets</a> ) {</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aeacda9d4b24c9c856277859caed47ba7">ter_furn_flag::TFLAG_SUPPORTS_ROOF</a>, p + offset ) &amp;&amp;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            !here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a5177a6d862166e09787fe325ccbf0a29">ter_furn_flag::TFLAG_SINGLE_SUPPORT</a>, p + offset ) ) {</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;            num_supports++;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        }</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    }</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="comment">// We want to find &quot;walls&quot; below (including windows and doors), but not open rooms and the like.</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aeacda9d4b24c9c856277859caed47ba7">ter_furn_flag::TFLAG_SUPPORTS_ROOF</a>, p + <a class="code" href="point_8h.html#a53f9f23b765219169daffe4c54ad5b8f">tripoint_below</a> ) &amp;&amp;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        ( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a6701f7dc0aa6dba5a2a7cbb3568c3673">ter_furn_flag::TFLAG_WALL</a>, p + <a class="code" href="point_8h.html#a53f9f23b765219169daffe4c54ad5b8f">tripoint_below</a> ) ||</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;          here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054afbc624e1618a941cdd6da348de6e3a7b">ter_furn_flag::TFLAG_CONNECT_WITH_WALL</a>, p + <a class="code" href="point_8h.html#a53f9f23b765219169daffe4c54ad5b8f">tripoint_below</a> ) ) ) {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        num_supports += 2;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    }</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">return</span> num_supports &gt;= 2;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;}</div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a5177a6d862166e09787fe325ccbf0a29"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a5177a6d862166e09787fe325ccbf0a29">ter_furn_flag::TFLAG_SINGLE_SUPPORT</a></div><div class="ttdeci">@ TFLAG_SINGLE_SUPPORT</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a6701f7dc0aa6dba5a2a7cbb3568c3673"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a6701f7dc0aa6dba5a2a7cbb3568c3673">ter_furn_flag::TFLAG_WALL</a></div><div class="ttdeci">@ TFLAG_WALL</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054afbc624e1618a941cdd6da348de6e3a7b"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054afbc624e1618a941cdd6da348de6e3a7b">ter_furn_flag::TFLAG_CONNECT_WITH_WALL</a></div><div class="ttdeci">@ TFLAG_CONNECT_WITH_WALL</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="point_8h_source.html#l00333">four_adjacent_offsets</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l02462">map::impassable()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054afbc624e1618a941cdd6da348de6e3a7b">TFLAG_CONNECT_WITH_WALL</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a5177a6d862166e09787fe325ccbf0a29">TFLAG_SINGLE_SUPPORT</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aeacda9d4b24c9c856277859caed47ba7">TFLAG_SUPPORTS_ROOF</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a6701f7dc0aa6dba5a2a7cbb3568c3673">TFLAG_WALL</a>, and <a class="el" href="point_8h_source.html#l00272">tripoint_below</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="aa25eab0702d3f323f9918927662b2b32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa25eab0702d3f323f9918927662b2b32">&#9670;&nbsp;</a></span>check_support_below()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_support_below </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01276">1276</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;{</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="keywordtype">bool</span> blocking_creature = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_creature_if( [&amp;]( <span class="keyword">const</span> <a class="code" href="classCreature.html">Creature</a> &amp; creature ) {</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72">creature</a>.pos() == p.<a class="code" href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">raw</a>();</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    } ) != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160; </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="comment">// These checks are based on check_empty_lite, but accept no floor and the traps associated</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="comment">// with it, i.e. ledge, and various forms of pits.</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <span class="comment">// - Check if there&#39;s nothing in the way. The &quot;passable&quot; check rejects tiles you can&#39;t</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="comment">//   pass through, but we want air and water to be OK as well (that&#39;s what we want to bridge).</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="comment">// - Apart from that, vehicles, items, creatures, and furniture also have to be absent.</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="comment">// - Then we have traps, and, unfortunately, there are &quot;ledge&quot; traps on all the open</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <span class="comment">//   space tiles adjacent to passable tiles, so we can&#39;t just reject all traps outright,</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="comment">//   but have to accept those.</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <span class="keywordflow">if</span>( !( here.<a class="code" href="classmap.html#af563dc2397e71a053569cb45c6bb7e77">passable</a>( p.<a class="code" href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">raw</a>() ) || here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a7518f40a34b4cbfbc922c4888af267cc">ter_furn_flag::TFLAG_LIQUID</a>, p ) ||</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;           here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054af607730a38ff7975c6724b22881e0e58">ter_furn_flag::TFLAG_NO_FLOOR</a>, p ) ) ||</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        blocking_creature || here.<a class="code" href="classmap.html#a00008f407a53edc2445622618d7ed071">has_furn</a>( p ) || !( here.<a class="code" href="classmap.html#a30ccb67ed3651d350f2caf214e0b5176">tr_at</a>( p ).<a class="code" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a>() ||</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                here.<a class="code" href="classmap.html#a30ccb67ed3651d350f2caf214e0b5176">tr_at</a>( p ).<a class="code" href="structtrap.html#af4ff2a16113fc1dd7c53285c0f91c126">id</a> == <a class="code" href="trap_8cpp.html#a9d7e5dc72cb6e99095b4cb3d0d26ecd4">tr_ledge</a>  || here.<a class="code" href="classmap.html#a30ccb67ed3651d350f2caf214e0b5176">tr_at</a>( p ).<a class="code" href="structtrap.html#a7e4cdf3b26a6dae70dd4f078680531a8">has_flag</a>( <a class="code" href="construction_8cpp.html#a778e801641ecec96c53677ca4120df1b">json_flag_PIT</a> ) ) ||</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        !here.<a class="code" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( p ).<a class="code" href="classitem__stack.html#a83fd3bd296c75326b3709280804acef4">empty</a>() || here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( p ) ) {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    }</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="comment">// need two or more orthogonally adjacent supports at the Z level below</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordtype">int</span> num_supports = 0;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> &amp;offset : <a class="code" href="point_8h.html#aad28d8d682bc8e5628fd2b04df87decd">four_adjacent_offsets</a> ) {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aeacda9d4b24c9c856277859caed47ba7">ter_furn_flag::TFLAG_SUPPORTS_ROOF</a>, p + offset + <a class="code" href="point_8h.html#a53f9f23b765219169daffe4c54ad5b8f">tripoint_below</a> ) &amp;&amp;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            !here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a5177a6d862166e09787fe325ccbf0a29">ter_furn_flag::TFLAG_SINGLE_SUPPORT</a>, p + offset + <a class="code" href="point_8h.html#a53f9f23b765219169daffe4c54ad5b8f">tripoint_below</a> ) ) {</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            num_supports++;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        }</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    }</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="comment">// We want to find &quot;walls&quot; below (including windows and doors), but not open rooms and the like.</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aeacda9d4b24c9c856277859caed47ba7">ter_furn_flag::TFLAG_SUPPORTS_ROOF</a>, p + <a class="code" href="point_8h.html#a53f9f23b765219169daffe4c54ad5b8f">tripoint_below</a> ) &amp;&amp;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        ( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a6701f7dc0aa6dba5a2a7cbb3568c3673">ter_furn_flag::TFLAG_WALL</a>, p + <a class="code" href="point_8h.html#a53f9f23b765219169daffe4c54ad5b8f">tripoint_below</a> ) ||</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;          here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054afbc624e1618a941cdd6da348de6e3a7b">ter_furn_flag::TFLAG_CONNECT_WITH_WALL</a>, p + <a class="code" href="point_8h.html#a53f9f23b765219169daffe4c54ad5b8f">tripoint_below</a> ) ) ) {</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        num_supports += 2;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    }</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keywordflow">return</span> num_supports &gt;= 2;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html"><div class="ttname"><a href="classCreature.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00250">creature.h:251</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__mut_html_a5a5454f4ce144b5b3a84c2698a54ab8c"><div class="ttname"><a href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">coords::coord_point_mut::raw</a></div><div class="ttdeci">constexpr const Point &amp; raw() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00157">coordinates.h:157</a></div></div>
<div class="ttc" id="aclassmap_html_af563dc2397e71a053569cb45c6bb7e77"><div class="ttname"><a href="classmap.html#af563dc2397e71a053569cb45c6bb7e77">map::passable</a></div><div class="ttdeci">bool passable(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02472">map.cpp:2472</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_a778e801641ecec96c53677ca4120df1b"><div class="ttname"><a href="construction_8cpp.html#a778e801641ecec96c53677ca4120df1b">json_flag_PIT</a></div><div class="ttdeci">static const flag_id json_flag_PIT(&quot;PIT&quot;)</div></div>
<div class="ttc" id="adescriptions_8cpp_html_aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72"><div class="ttname"><a href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72">description_target::creature</a></div><div class="ttdeci">@ creature</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a7518f40a34b4cbfbc922c4888af267cc"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a7518f40a34b4cbfbc922c4888af267cc">ter_furn_flag::TFLAG_LIQUID</a></div><div class="ttdeci">@ TFLAG_LIQUID</div></div>
<div class="ttc" id="astructtrap_html_a7e4cdf3b26a6dae70dd4f078680531a8"><div class="ttname"><a href="structtrap.html#a7e4cdf3b26a6dae70dd4f078680531a8">trap::has_flag</a></div><div class="ttdeci">bool has_flag(const flag_id &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00183">trap.h:183</a></div></div>
<div class="ttc" id="astructtrap_html_af4ff2a16113fc1dd7c53285c0f91c126"><div class="ttname"><a href="structtrap.html#af4ff2a16113fc1dd7c53285c0f91c126">trap::id</a></div><div class="ttdeci">trap_str_id id</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00110">trap.h:110</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a9d7e5dc72cb6e99095b4cb3d0d26ecd4"><div class="ttname"><a href="trap_8cpp.html#a9d7e5dc72cb6e99095b4cb3d0d26ecd4">tr_ledge</a></div><div class="ttdeci">const trap_str_id tr_ledge(&quot;tr_ledge&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72">creature</a>, <a class="el" href="item__stack_8cpp_source.html#l00019">item_stack::empty()</a>, <a class="el" href="point_8h_source.html#l00333">four_adjacent_offsets</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="trap_8h_source.html#l00183">trap::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l01712">map::has_furn()</a>, <a class="el" href="map_8cpp_source.html#l04978">map::i_at()</a>, <a class="el" href="trap_8h_source.html#l00110">trap::id</a>, <a class="el" href="trap_8cpp_source.html#l00366">trap::is_null()</a>, <a class="el" href="construction_8cpp.html#a778e801641ecec96c53677ca4120df1b">json_flag_PIT</a>, <a class="el" href="map_8cpp_source.html#l02472">map::passable()</a>, <a class="el" href="coordinates_8h_source.html#l00157">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::raw()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054afbc624e1618a941cdd6da348de6e3a7b">TFLAG_CONNECT_WITH_WALL</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a7518f40a34b4cbfbc922c4888af267cc">TFLAG_LIQUID</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054af607730a38ff7975c6724b22881e0e58">TFLAG_NO_FLOOR</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a5177a6d862166e09787fe325ccbf0a29">TFLAG_SINGLE_SUPPORT</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aeacda9d4b24c9c856277859caed47ba7">TFLAG_SUPPORTS_ROOF</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a6701f7dc0aa6dba5a2a7cbb3568c3673">TFLAG_WALL</a>, <a class="el" href="map_8cpp_source.html#l06213">map::tr_at()</a>, <a class="el" href="trap_8cpp.html#a9d7e5dc72cb6e99095b4cb3d0d26ecd4">tr_ledge</a>, <a class="el" href="point_8h_source.html#l00272">tripoint_below</a>, and <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="afe2943e2f90d3a66464c601e1ed6bc80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe2943e2f90d3a66464c601e1ed6bc80">&#9670;&nbsp;</a></span>check_up_OK()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_up_OK </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01348">1348</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;{</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="comment">// You&#39;re not going above +OVERMAP_HEIGHT.</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="keywordflow">return</span> ( <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().get_abs_sub().z() &lt; <a class="code" href="game__constants_8h.html#a3984a9476d1edc78e4e7b886a08d4d4b">OVERMAP_HEIGHT</a> );</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;}</div>
<div class="ttc" id="agame__constants_8h_html_a3984a9476d1edc78e4e7b886a08d4d4b"><div class="ttname"><a href="game__constants_8h.html#a3984a9476d1edc78e4e7b886a08d4d4b">OVERMAP_HEIGHT</a></div><div class="ttdeci">constexpr int OVERMAP_HEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00075">game_constants.h:75</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, and <a class="el" href="game__constants_8h_source.html#l00075">OVERMAP_HEIGHT</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01076">complete_construction()</a>, and <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a2e356958b3fdc7e748e436d8619fb311"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e356958b3fdc7e748e436d8619fb311">&#9670;&nbsp;</a></span>do_turn_exhume()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::do_turn_exhume </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>who</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01850">1850</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;{</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <a class="code" href="namespaceconstruct.html#ae341977c44997a604973240f202d86fb">do_turn_shovel</a>( p, who );</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <span class="keywordflow">if</span>( !who.<a class="code" href="classCharacter.html#a74cf2e51a768e3d2e2114aeaddb5fda4">has_morale</a>( <a class="code" href="morale__types_8cpp.html#a74cb853ac917ecb6d7326aed52853f41">MORALE_GRAVEDIGGER</a> ) ) {</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;        <span class="keywordflow">if</span>( who.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="construction_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a> ) &amp;&amp; !who.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="construction_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a> ) )  {</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;            <span class="keywordflow">if</span>( who.<a class="code" href="classCharacter.html#a358731acbb8b137aa540bb8d49109ca3">query_yn</a>(</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Would you really touch the sacred resting place of the dead?&quot;</span> ) ) ) {</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Exhuming a grave is really against your beliefs.&quot;</span> ) );</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;                who.<a class="code" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code" href="morale__types_8cpp.html#a74cb853ac917ecb6d7326aed52853f41">MORALE_GRAVEDIGGER</a>, -50, -100, 48_hours, 12_hours );</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;                    who.<a class="code" href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">vomit</a>();</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;                }</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;                who.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">set_to_null</a>();</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;            }</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( who.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="construction_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a> ) ) {</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;            who.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>(</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;                <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Exhuming a grave is fun now, when there is no one to object.&quot;</span> ) );</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;            who.<a class="code" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code" href="morale__types_8cpp.html#a74cb853ac917ecb6d7326aed52853f41">MORALE_GRAVEDIGGER</a>, 25, 50, 2_hours, 1_hours );</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( who.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="construction_8cpp.html#a6db3d9062ed6e48e68856916aa7d0306">trait_NUMB</a> ) ) {</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;            who.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You wonder if you dig up anything useful.&quot;</span> ) );</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;            who.<a class="code" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code" href="morale__types_8cpp.html#a74cb853ac917ecb6d7326aed52853f41">MORALE_GRAVEDIGGER</a>, -25, -50, 2_hours, 1_hours );</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !who.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="construction_8cpp.html#a1eb34af6b7fba64663cb266638373e1b">trait_EATDEAD</a> ) &amp;&amp; !who.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="construction_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a> ) ) {</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;            who.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Exhuming this grave is utterly disgusting!&quot;</span> ) );</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;            who.<a class="code" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code" href="morale__types_8cpp.html#a74cb853ac917ecb6d7326aed52853f41">MORALE_GRAVEDIGGER</a>, -25, -50, 2_hours, 1_hours );</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 5 ) ) {</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;                who.<a class="code" href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">vomit</a>();</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;            }</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;        }</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    }</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a20839520f569c4f05876a55e89f67361"><div class="ttname"><a href="classCharacter.html#a20839520f569c4f05876a55e89f67361">Character::activity</a></div><div class="ttdeci">player_activity activity</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02709">character.h:2709</a></div></div>
<div class="ttc" id="aclassCharacter_html_a358731acbb8b137aa540bb8d49109ca3"><div class="ttname"><a href="classCharacter.html#a358731acbb8b137aa540bb8d49109ca3">Character::query_yn</a></div><div class="ttdeci">bool query_yn(const char *const msg, Args &amp;&amp;... args) const</div><div class="ttdoc">It is supposed to hide the query_yn to simplify player vs.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02544">character.h:2544</a></div></div>
<div class="ttc" id="aclassCharacter_html_a72b82d2498ae823e0cd6cad311215327"><div class="ttname"><a href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">Character::vomit</a></div><div class="ttdeci">void vomit()</div><div class="ttdoc">Handles Character vomiting effects.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07521">character.cpp:7521</a></div></div>
<div class="ttc" id="aclassCharacter_html_a74cf2e51a768e3d2e2114aeaddb5fda4"><div class="ttname"><a href="classCharacter.html#a74cf2e51a768e3d2e2114aeaddb5fda4">Character::has_morale</a></div><div class="ttdeci">int has_morale(const morale_type &amp;type) const</div><div class="ttdef"><b>Definition:</b> <a href="character__morale_8cpp_source.html#l00149">character_morale.cpp:149</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab6b6b317ae10bfb8f358fe289d645c96"><div class="ttname"><a href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">Character::add_morale</a></div><div class="ttdeci">void add_morale(const morale_type &amp;type, int bonus, int max_bonus=0, const time_duration &amp;duration=1_hours, const time_duration &amp;decay_start=30_minutes, bool capped=false, const itype *item_type=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="character__morale_8cpp_source.html#l00142">character_morale.cpp:142</a></div></div>
<div class="ttc" id="aclassCharacter_html_af0503012f1ff927cbb5ad126e39cb103"><div class="ttname"><a href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">Character::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00856">character.cpp:856</a></div></div>
<div class="ttc" id="aclassCharacter_html_af06dd97724f4f05df782e7a4b4f9cfe1"><div class="ttname"><a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">Character::has_trait</a></div><div class="ttdeci">bool has_trait(const trait_id &amp;b) const override</div><div class="ttdoc">Returns true if the player has the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00111">mutation.cpp:111</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a765ca7b3410253c05939a8c1f1999c4a"><div class="ttname"><a href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">player_activity::set_to_null</a></div><div class="ttdeci">void set_to_null()</div><div class="ttdoc">This replaces the former usage act.type = ACT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00091">player_activity.cpp:91</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_a1eb34af6b7fba64663cb266638373e1b"><div class="ttname"><a href="construction_8cpp.html#a1eb34af6b7fba64663cb266638373e1b">trait_EATDEAD</a></div><div class="ttdeci">static const trait_id trait_EATDEAD(&quot;EATDEAD&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a6db3d9062ed6e48e68856916aa7d0306"><div class="ttname"><a href="construction_8cpp.html#a6db3d9062ed6e48e68856916aa7d0306">trait_NUMB</a></div><div class="ttdeci">static const trait_id trait_NUMB(&quot;NUMB&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a92fc92f8871feb56f05a24b582966275"><div class="ttname"><a href="construction_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a></div><div class="ttdeci">static const trait_id trait_SAPROVORE(&quot;SAPROVORE&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a9bbf692360c0fe96f9fccf41db5756be"><div class="ttname"><a href="construction_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a></div><div class="ttdeci">static const trait_id trait_PSYCHOPATH(&quot;PSYCHOPATH&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_abf47c050c3a01d3496c3eb251fa9c517"><div class="ttname"><a href="construction_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a></div><div class="ttdeci">static const trait_id trait_SPIRITUAL(&quot;SPIRITUAL&quot;)</div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a></div><div class="ttdeci">@ m_good</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00347">enums.h:347</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a></div><div class="ttdeci">@ m_info</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00352">enums.h:352</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a></div><div class="ttdeci">@ m_bad</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00348">enums.h:348</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00997">messages.cpp:997</a></div></div>
<div class="ttc" id="amorale__types_8cpp_html_a74cb853ac917ecb6d7326aed52853f41"><div class="ttname"><a href="morale__types_8cpp.html#a74cb853ac917ecb6d7326aed52853f41">MORALE_GRAVEDIGGER</a></div><div class="ttdeci">const morale_type MORALE_GRAVEDIGGER(&quot;morale_gravedigger&quot;)</div></div>
<div class="ttc" id="anamespaceconstruct_html_ae341977c44997a604973240f202d86fb"><div class="ttname"><a href="namespaceconstruct.html#ae341977c44997a604973240f202d86fb">construct::do_turn_shovel</a></div><div class="ttdeci">static void do_turn_shovel(const tripoint_bub_ms &amp;, Character &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cpp_source.html#l01835">construction.cpp:1835</a></div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00108">rng.cpp:108</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="character_8h_source.html#l02709">Character::activity</a>, <a class="el" href="character__morale_8cpp_source.html#l00142">Character::add_morale()</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="character_8cpp_source.html#l00856">Character::add_msg_if_player()</a>, <a class="el" href="construction_8cpp_source.html#l01835">do_turn_shovel()</a>, <a class="el" href="character__morale_8cpp_source.html#l00149">Character::has_morale()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="enums_8h_source.html#l00348">m_bad</a>, <a class="el" href="enums_8h_source.html#l00347">m_good</a>, <a class="el" href="enums_8h_source.html#l00352">m_info</a>, <a class="el" href="morale__types_8cpp.html#a74cb853ac917ecb6d7326aed52853f41">MORALE_GRAVEDIGGER</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="character_8h_source.html#l02544">Character::query_yn()</a>, <a class="el" href="player__activity_8cpp_source.html#l00091">player_activity::set_to_null()</a>, <a class="el" href="construction_8cpp.html#a1eb34af6b7fba64663cb266638373e1b">trait_EATDEAD</a>, <a class="el" href="construction_8cpp.html#a6db3d9062ed6e48e68856916aa7d0306">trait_NUMB</a>, <a class="el" href="construction_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a>, <a class="el" href="construction_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a>, <a class="el" href="construction_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a>, and <a class="el" href="character_8cpp_source.html#l07521">Character::vomit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="ae341977c44997a604973240f202d86fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae341977c44997a604973240f202d86fb">&#9670;&nbsp;</a></span>do_turn_shovel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::do_turn_shovel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>who</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01835">1835</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;{</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <span class="comment">// TODO: fix point types</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <a class="code" href="namespacesfx.html#acf064bba0f45858127b6c4372c0a37cf">sfx::play_activity_sound</a>( <span class="stringliteral">&quot;tool&quot;</span>, <span class="stringliteral">&quot;shovel&quot;</span>, <a class="code" href="namespacesfx.html#a1f138eaa92db132e81ce591751c512cc">sfx::get_heard_volume</a>( p.<a class="code" href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">raw</a>() ) );</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( 1_minutes ) ) {</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;        <span class="comment">// TODO: fix point types</span></div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;        <span class="comment">//~ Sound of a shovel digging a pit at work!</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;        <a class="code" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( p.<a class="code" href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">raw</a>(), 10, <a class="code" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a69a256025f66e4ce5d15c9dd7225d357">sounds::sound_t::activity</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;hsh!&quot;</span> ) );</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    }</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <span class="comment">// TODO: fix point types</span></div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="keywordflow">if</span>( !who.<a class="code" href="classCharacter.html#a7cf3a039fed01ee44525ea41940cb00d">knows_trap</a>( p.<a class="code" href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">raw</a>() ) ) {</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;        <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a00a3d2744e9303305f042532cf4ba314">maybe_trigger_trap</a>( p, who, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    }</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a7cf3a039fed01ee44525ea41940cb00d"><div class="ttname"><a href="classCharacter.html#a7cf3a039fed01ee44525ea41940cb00d">Character::knows_trap</a></div><div class="ttdeci">bool knows_trap(const tripoint &amp;pos) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l10700">character.cpp:10700</a></div></div>
<div class="ttc" id="aclassmap_html_a00a3d2744e9303305f042532cf4ba314"><div class="ttname"><a href="classmap.html#a00a3d2744e9303305f042532cf4ba314">map::maybe_trigger_trap</a></div><div class="ttdeci">void maybe_trigger_trap(const tripoint &amp;pos, Creature &amp;c, bool may_avoid) const</div><div class="ttdoc">Handles activating a trap.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09955">map.cpp:9955</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a356df28513f4d655ae35c312ab6e7d55"><div class="ttname"><a href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a></div><div class="ttdeci">bool once_every(const time_duration &amp;event_frequency)</div><div class="ttdoc">Predicate to handle rate-limiting.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00753">calendar.cpp:753</a></div></div>
<div class="ttc" id="anamespacesfx_html_a1f138eaa92db132e81ce591751c512cc"><div class="ttname"><a href="namespacesfx.html#a1f138eaa92db132e81ce591751c512cc">sfx::get_heard_volume</a></div><div class="ttdeci">int get_heard_volume(const tripoint &amp;source)</div><div class="ttdoc">Functions from sfx that do not use the SDL_mixer API at all.</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l02045">sounds.cpp:2045</a></div></div>
<div class="ttc" id="anamespacesfx_html_acf064bba0f45858127b6c4372c0a37cf"><div class="ttname"><a href="namespacesfx.html#acf064bba0f45858127b6c4372c0a37cf">sfx::play_activity_sound</a></div><div class="ttdeci">void play_activity_sound(const std::string &amp;id, const std::string &amp;variant, int volume)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l02004">sounds.cpp:2004</a></div></div>
<div class="ttc" id="anamespacesounds_html_a6bb79ae1c9c3dcd8c8e0b28c66b0398d"><div class="ttname"><a href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a></div><div class="ttdeci">void sound(const tripoint &amp;p, int vol, sound_t category, const std::string &amp;description, bool ambient=false, const std::string &amp;id=&quot;&quot;, const std::string &amp;variant=&quot;default&quot;)</div><div class="ttdoc">Sound at (p) of intensity (vol)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00318">sounds.cpp:318</a></div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3a69a256025f66e4ce5d15c9dd7225d357"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a69a256025f66e4ce5d15c9dd7225d357">sounds::sound_t::activity</a></div><div class="ttdeci">@ activity</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a69a256025f66e4ce5d15c9dd7225d357">sounds::activity</a>, <a class="el" href="sounds_8cpp_source.html#l02045">sfx::get_heard_volume()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="character_8cpp_source.html#l10700">Character::knows_trap()</a>, <a class="el" href="map_8cpp_source.html#l09955">map::maybe_trigger_trap()</a>, <a class="el" href="calendar_8cpp_source.html#l00753">calendar::once_every()</a>, <a class="el" href="sounds_8cpp_source.html#l02004">sfx::play_activity_sound()</a>, <a class="el" href="coordinates_8h_source.html#l00157">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::raw()</a>, and <a class="el" href="sounds_8cpp_source.html#l00318">sounds::sound()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01850">do_turn_exhume()</a>, and <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a88fb9c72ab8d4f2e30178bc4ef04c603"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88fb9c72ab8d4f2e30178bc4ef04c603">&#9670;&nbsp;</a></span>done_appliance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_appliance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01519">1519</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;{</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160; </div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <a class="code" href="structpartial__con.html">partial_con</a> *pc = here.<a class="code" href="classmap.html#a4dfba170dba1792376456ac2e6a6fd20">partial_con_at</a>( p );</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keywordflow">if</span>( !pc ) {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;constructing failed: can&#39;t find partial construction&quot;</span> );</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    }</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160; </div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="keyword">const</span> std::list&lt;item&gt; components = pc-&gt;<a class="code" href="structpartial__con.html#a4660d0ab4eb556e12889b93c20742923">components</a>;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    here.<a class="code" href="classmap.html#add8cb29014b062c35adc1dbf73781def">partial_con_remove</a>( p );</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160; </div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keywordflow">if</span>( components.size() != 1 ) {</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;constructing failed: components size expected 1 actual %d&quot;</span>, components.size() );</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    }</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160; </div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;base = components.front();</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="keyword">const</span> <a class="code" href="classstring__id.html">vpart_id</a> &amp;vpart = <a class="code" href="veh__appliance_8cpp.html#ab90ee0b0838be15a0b7207ccc7750870">vpart_appliance_from_item</a>( base.<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>() );</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160; </div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <span class="comment">// TODO: fix point types</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <a class="code" href="veh__appliance_8cpp.html#ae23e3280d6f46be475e49a680a4fce0b">place_appliance</a>( p.<a class="code" href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">raw</a>(), vpart, base );</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;}</div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassitem_html_a4a9972e826d25be6736b749ab94b230f"><div class="ttname"><a href="classitem.html#a4a9972e826d25be6736b749ab94b230f">item::typeId</a></div><div class="ttdeci">itype_id typeId() const</div><div class="ttdoc">return the unique identifier of the items underlying type</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l11850">item.cpp:11850</a></div></div>
<div class="ttc" id="aclassmap_html_a4dfba170dba1792376456ac2e6a6fd20"><div class="ttname"><a href="classmap.html#a4dfba170dba1792376456ac2e6a6fd20">map::partial_con_at</a></div><div class="ttdeci">partial_con * partial_con_at(const tripoint_bub_ms &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06244">map.cpp:6244</a></div></div>
<div class="ttc" id="aclassmap_html_add8cb29014b062c35adc1dbf73781def"><div class="ttname"><a href="classmap.html#add8cb29014b062c35adc1dbf73781def">map::partial_con_remove</a></div><div class="ttdeci">void partial_con_remove(const tripoint_bub_ms &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06262">map.cpp:6262</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; vpart_info &gt;</a></div></div>
<div class="ttc" id="astructpartial__con_html"><div class="ttname"><a href="structpartial__con.html">partial_con</a></div><div class="ttdef"><b>Definition:</b> <a href="construction_8h_source.html#l00032">construction.h:32</a></div></div>
<div class="ttc" id="astructpartial__con_html_a4660d0ab4eb556e12889b93c20742923"><div class="ttname"><a href="structpartial__con.html#a4660d0ab4eb556e12889b93c20742923">partial_con::components</a></div><div class="ttdeci">std::list&lt; item &gt; components</div><div class="ttdef"><b>Definition:</b> <a href="construction_8h_source.html#l00034">construction.h:34</a></div></div>
<div class="ttc" id="aveh__appliance_8cpp_html_ab90ee0b0838be15a0b7207ccc7750870"><div class="ttname"><a href="veh__appliance_8cpp.html#ab90ee0b0838be15a0b7207ccc7750870">vpart_appliance_from_item</a></div><div class="ttdeci">vpart_id vpart_appliance_from_item(const itype_id &amp;item_id)</div><div class="ttdef"><b>Definition:</b> <a href="veh__appliance_8cpp_source.html#l00045">veh_appliance.cpp:45</a></div></div>
<div class="ttc" id="aveh__appliance_8cpp_html_ae23e3280d6f46be475e49a680a4fce0b"><div class="ttname"><a href="veh__appliance_8cpp.html#ae23e3280d6f46be475e49a680a4fce0b">place_appliance</a></div><div class="ttdeci">void place_appliance(const tripoint &amp;p, const vpart_id &amp;vpart, const std::optional&lt; item &gt; &amp;base)</div><div class="ttdef"><b>Definition:</b> <a href="veh__appliance_8cpp_source.html#l00056">veh_appliance.cpp:56</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="construction_8h_source.html#l00034">partial_con::components</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l06244">map::partial_con_at()</a>, <a class="el" href="map_8cpp_source.html#l06262">map::partial_con_remove()</a>, <a class="el" href="veh__appliance_8cpp_source.html#l00056">place_appliance()</a>, <a class="el" href="coordinates_8h_source.html#l00157">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::raw()</a>, <a class="el" href="item_8cpp_source.html#l11850">item::typeId()</a>, and <a class="el" href="veh__appliance_8cpp_source.html#l00045">vpart_appliance_from_item()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a071830fb8b2b308bc5fa01f44a1873f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a071830fb8b2b308bc5fa01f44a1873f9">&#9670;&nbsp;</a></span>done_deconstruct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_deconstruct </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>player_character</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01544">1544</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;{</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160; </div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="keyword">auto</span> deconstruction_practice_skill = [ &amp;player_character ]( <span class="keyword">auto</span> &amp; skill ) {</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#a93a3570e884214ba5c0eb3cdf1af75cc">get_skill_level</a>( skill.id ) &gt;= skill.min ) {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            <span class="comment">// Uses a modified version of the complete_construction formula using 20 minutes with halved yield before the multiplier</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            player_character.<a class="code" href="classCharacter.html#a6535a02158a1d6b23b0a6bb623dfae19">practice</a>( skill.id,</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                                       <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( skill.multiplier * ( 5.0 / 6.0 ) * ( 10 + 7.5 * ( skill.min +</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                                               skill.max ) ) ), skill.max );</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        }</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    };</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160; </div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="comment">// TODO: Make this the argument</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a00008f407a53edc2445622618d7ed071">has_furn</a>( p ) ) {</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;        <span class="keyword">const</span> <a class="code" href="structfurn__t.html">furn_t</a> &amp;f = here.<a class="code" href="classmap.html#af55e014aab791bbe4c8630361c1311dd">furn</a>( p ).<a class="code" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        <span class="keywordflow">if</span>( !f.<a class="code" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code" href="structmap__deconstruct__info.html#acc3374a5eef731288660e91285b5a920">can_do</a> ) {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;That %s can not be disassembled!&quot;</span> ), f.<a class="code" href="structmap__data__common__t.html#a1e749bfdff8adff5829dc013dcac0cc1">name</a>() );</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;        }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;        <span class="keywordflow">if</span>( f.<a class="code" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code" href="structmap__deconstruct__info.html#ad91e2d4d5d8b4889587681bcc4e8a390">furn_set</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>().empty() ) {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;            here.<a class="code" href="classmap.html#a410a8dcd3e1ee0e87da584bf878d6f83">furn_set</a>( p, <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">furn_str_id::NULL_ID</a>() );</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;            here.<a class="code" href="classmap.html#a410a8dcd3e1ee0e87da584bf878d6f83">furn_set</a>( p, f.<a class="code" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code" href="structmap__deconstruct__info.html#ad91e2d4d5d8b4889587681bcc4e8a390">furn_set</a> );</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;        }</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s is disassembled.&quot;</span> ), f.<a class="code" href="structmap__data__common__t.html#a1e749bfdff8adff5829dc013dcac0cc1">name</a>() );</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        <a class="code" href="classitem.html">item</a> &amp;item_here = here.<a class="code" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( p ).<a class="code" href="classitem__stack.html#a09718022e82be5bc5dd6d84463521751">size</a>() != 1 ? <a class="code" href="item_8cpp.html#a69e37326c7c5f142d13f8ac8e070b728">null_item_reference</a>() : here.i_at( p ).only_item();</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        <span class="keyword">const</span> std::vector&lt;item *&gt; drop = here.<a class="code" href="classmap.html#a4648afd5a1ecdebba3dc5c5068363f8e">spawn_items</a>( p,</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                                         <a class="code" href="namespaceitem__group.html#a2d51a14b1504b58288fd1b3e5060f528">item_group::items_from</a>( f.<a class="code" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code" href="structmap__deconstruct__info.html#a0ae525d6d28a1ac38c3d841428ddf859">drop_group</a>, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) );</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        <span class="keywordflow">if</span>( f.<a class="code" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code" href="structmap__deconstruct__info.html#a310890e8615cdb3acfa026fcbf6eed12">skill</a>.has_value() ) {</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;            deconstruction_practice_skill( f.<a class="code" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code" href="structmap__deconstruct__info.html#a310890e8615cdb3acfa026fcbf6eed12">skill</a>.value() );</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        }</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        <span class="comment">// if furniture has liquid in it and deconstructs into watertight containers then fill them</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        <span class="keywordflow">if</span>( f.<a class="code" href="structmap__data__common__t.html#a630778707744fb147436b9aa0c370a7e">has_flag</a>( <span class="stringliteral">&quot;LIQUIDCONT&quot;</span> ) &amp;&amp; item_here.<a class="code" href="classitem.html#a0795ac0d3e2ba958ab3a6ff4e282482b">made_of</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) ) {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> *it : drop ) {</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                <span class="keywordflow">if</span>( it-&gt;get_remaining_capacity_for_liquid( item_here ) &lt;= 0 ) {</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;                }</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                item_here.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= it-&gt;fill_with( item_here, item_here.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>, <span class="keyword">false</span>, <span class="keyword">true</span>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                <span class="keywordflow">if</span>( item_here.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt;= 0 ) {</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;                    here.<a class="code" href="classmap.html#ab075f4bc498a7cbf386b8f53b86b017d">i_rem</a>( p, &amp;item_here );</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                }</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            }</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        }</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;        <span class="comment">// HACK: Hack alert.</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        <span class="comment">// Signs have cosmetics associated with them on the submap since</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        <span class="comment">// furniture can&#39;t store dynamic data to disk. To prevent writing</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;        <span class="comment">// mysteriously appearing for a sign later built here, remove the</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;        <span class="comment">// writing from the submap.</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        here.<a class="code" href="classmap.html#aa55da55fc4c07bbd2f8d6efcc12d8797">delete_signage</a>( p );</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;        <span class="keyword">const</span> <a class="code" href="structter__t.html">ter_t</a> &amp;t = here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ).<a class="code" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        <span class="keywordflow">if</span>( !t.<a class="code" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code" href="structmap__deconstruct__info.html#acc3374a5eef731288660e91285b5a920">can_do</a> ) {</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;That %s can not be disassembled!&quot;</span> ), t.<a class="code" href="structmap__data__common__t.html#a1e749bfdff8adff5829dc013dcac0cc1">name</a>() );</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        }</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;        <span class="keywordflow">if</span>( t.<a class="code" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code" href="structmap__deconstruct__info.html#a7b94ae9e42b23db3f9ab25cc4121af21">deconstruct_above</a> ) {</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;            <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_bub_ms</a> top = p + <a class="code" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a>;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;            <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a00008f407a53edc2445622618d7ed071">has_furn</a>( top ) ) {</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;That %s can not be disassembled, since there is furniture above it.&quot;</span> ), t.<a class="code" href="structmap__data__common__t.html#a1e749bfdff8adff5829dc013dcac0cc1">name</a>() );</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;            }</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            <a class="code" href="namespaceconstruct.html#a071830fb8b2b308bc5fa01f44a1873f9">done_deconstruct</a>( top, player_character );</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        }</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;        here.<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( p, t.<a class="code" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code" href="structmap__deconstruct__info.html#a7d6868d2c34723ca32ef1d0b8c237a3b">ter_set</a> );</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s is disassembled.&quot;</span> ), t.<a class="code" href="structmap__data__common__t.html#a1e749bfdff8adff5829dc013dcac0cc1">name</a>() );</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;        here.<a class="code" href="classmap.html#a4648afd5a1ecdebba3dc5c5068363f8e">spawn_items</a>( p, <a class="code" href="namespaceitem__group.html#a2d51a14b1504b58288fd1b3e5060f528">item_group::items_from</a>( t.<a class="code" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code" href="structmap__deconstruct__info.html#a0ae525d6d28a1ac38c3d841428ddf859">drop_group</a>, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) );</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        <span class="keywordflow">if</span>( t.<a class="code" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code" href="structmap__deconstruct__info.html#a310890e8615cdb3acfa026fcbf6eed12">skill</a>.has_value() ) {</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;            deconstruction_practice_skill( t.<a class="code" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code" href="structmap__deconstruct__info.html#a310890e8615cdb3acfa026fcbf6eed12">skill</a>.value() );</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        }</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    }</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a6535a02158a1d6b23b0a6bb623dfae19"><div class="ttname"><a href="classCharacter.html#a6535a02158a1d6b23b0a6bb623dfae19">Character::practice</a></div><div class="ttdeci">bool practice(const skill_id &amp;id, int amount, int cap=99, bool suppress_warning=false)</div><div class="ttdoc">This handles giving xp for a skill.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02683">character.cpp:2683</a></div></div>
<div class="ttc" id="aclassCharacter_html_a93a3570e884214ba5c0eb3cdf1af75cc"><div class="ttname"><a href="classCharacter.html#a93a3570e884214ba5c0eb3cdf1af75cc">Character::get_skill_level</a></div><div class="ttdeci">float get_skill_level(const skill_id &amp;ident) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03428">character.cpp:3428</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::reality_bubble, coords::ms &gt;</a></div></div>
<div class="ttc" id="aclassitem__stack_html_a09718022e82be5bc5dd6d84463521751"><div class="ttname"><a href="classitem__stack.html#a09718022e82be5bc5dd6d84463521751">item_stack::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8cpp_source.html#l00014">item_stack.cpp:14</a></div></div>
<div class="ttc" id="aclassitem_html_a0795ac0d3e2ba958ab3a6ff4e282482b"><div class="ttname"><a href="classitem.html#a0795ac0d3e2ba958ab3a6ff4e282482b">item::made_of</a></div><div class="ttdeci">const std::map&lt; material_id, int &gt; &amp; made_of() const</div><div class="ttdoc">The ids of all the materials this is made of.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09146">item.cpp:9146</a></div></div>
<div class="ttc" id="aclassitem_html_a6bfb92ab5d41e0eb3a1da160fac71b0e"><div class="ttname"><a href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">item::charges</a></div><div class="ttdeci">int charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03133">item.h:3133</a></div></div>
<div class="ttc" id="aclassmap_html_a410a8dcd3e1ee0e87da584bf878d6f83"><div class="ttname"><a href="classmap.html#a410a8dcd3e1ee0e87da584bf878d6f83">map::furn_set</a></div><div class="ttdeci">bool furn_set(const tripoint &amp;p, const furn_id &amp;new_furniture, bool furn_reset=false, bool avoid_creatures=false)</div><div class="ttdoc">furn_reset should be true if new_furniture is being set to f_null when the player is grab-moving furn...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01743">map.cpp:1743</a></div></div>
<div class="ttc" id="aclassmap_html_a4648afd5a1ecdebba3dc5c5068363f8e"><div class="ttname"><a href="classmap.html#a4648afd5a1ecdebba3dc5c5068363f8e">map::spawn_items</a></div><div class="ttdeci">std::vector&lt; item * &gt; spawn_items(const tripoint &amp;p, const std::vector&lt; item &gt; &amp;new_items)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05048">map.cpp:5048</a></div></div>
<div class="ttc" id="aclassmap_html_aa55da55fc4c07bbd2f8d6efcc12d8797"><div class="ttname"><a href="classmap.html#aa55da55fc4c07bbd2f8d6efcc12d8797">map::delete_signage</a></div><div class="ttdeci">void delete_signage(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04879">map.cpp:4879</a></div></div>
<div class="ttc" id="aclassmap_html_ab075f4bc498a7cbf386b8f53b86b017d"><div class="ttname"><a href="classmap.html#ab075f4bc498a7cbf386b8f53b86b017d">map::i_rem</a></div><div class="ttdeci">map_stack::iterator i_rem(const tripoint &amp;p, const map_stack::const_iterator &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05001">map.cpp:5001</a></div></div>
<div class="ttc" id="aclassstring__id_html_a1b2100ed077789ba45aaf5081791b36c"><div class="ttname"><a href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">string_id&lt; furn_t &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; furn_t &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a></div><div class="ttdeci">@ LIQUID</div></div>
<div class="ttc" id="aitem_8cpp_html_a69e37326c7c5f142d13f8ac8e070b728"><div class="ttname"><a href="item_8cpp.html#a69e37326c7c5f142d13f8ac8e070b728">null_item_reference</a></div><div class="ttdeci">item &amp; null_item_reference()</div><div class="ttdoc">Returns a reference to a null item (see item::is_null).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00248">item.cpp:248</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00038">calendar.cpp:38</a></div></div>
<div class="ttc" id="anamespaceconstruct_html_a071830fb8b2b308bc5fa01f44a1873f9"><div class="ttname"><a href="namespaceconstruct.html#a071830fb8b2b308bc5fa01f44a1873f9">construct::done_deconstruct</a></div><div class="ttdeci">static void done_deconstruct(const tripoint_bub_ms &amp;, Character &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cpp_source.html#l01544">construction.cpp:1544</a></div></div>
<div class="ttc" id="anamespaceitem__group_html_a2d51a14b1504b58288fd1b3e5060f528"><div class="ttname"><a href="namespaceitem__group.html#a2d51a14b1504b58288fd1b3e5060f528">item_group::items_from</a></div><div class="ttdeci">ItemList items_from(const item_group_id &amp;group_id, const time_point &amp;birthday, spawn_flags flags=spawn_flags::none)</div><div class="ttdoc">Create items from the given group.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8cpp_source.html#l00979">item_group.cpp:979</a></div></div>
<div class="ttc" id="astructfurn__t_html"><div class="ttname"><a href="structfurn__t.html">furn_t</a></div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00641">mapdata.h:641</a></div></div>
<div class="ttc" id="astructmap__data__common__t_html_a1e749bfdff8adff5829dc013dcac0cc1"><div class="ttname"><a href="structmap__data__common__t.html#a1e749bfdff8adff5829dc013dcac0cc1">map_data_common_t::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00563">mapdata.cpp:563</a></div></div>
<div class="ttc" id="astructmap__data__common__t_html_a630778707744fb147436b9aa0c370a7e"><div class="ttname"><a href="structmap__data__common__t.html#a630778707744fb147436b9aa0c370a7e">map_data_common_t::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00534">mapdata.h:534</a></div></div>
<div class="ttc" id="astructmap__deconstruct__info_html_a0ae525d6d28a1ac38c3d841428ddf859"><div class="ttname"><a href="structmap__deconstruct__info.html#a0ae525d6d28a1ac38c3d841428ddf859">map_deconstruct_info::drop_group</a></div><div class="ttdeci">item_group_id drop_group</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00085">mapdata.h:85</a></div></div>
<div class="ttc" id="astructmap__deconstruct__info_html_a310890e8615cdb3acfa026fcbf6eed12"><div class="ttname"><a href="structmap__deconstruct__info.html#a310890e8615cdb3acfa026fcbf6eed12">map_deconstruct_info::skill</a></div><div class="ttdeci">std::optional&lt; map_deconstruct_skill &gt; skill</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00089">mapdata.h:89</a></div></div>
<div class="ttc" id="astructmap__deconstruct__info_html_a7b94ae9e42b23db3f9ab25cc4121af21"><div class="ttname"><a href="structmap__deconstruct__info.html#a7b94ae9e42b23db3f9ab25cc4121af21">map_deconstruct_info::deconstruct_above</a></div><div class="ttdeci">bool deconstruct_above</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00083">mapdata.h:83</a></div></div>
<div class="ttc" id="astructmap__deconstruct__info_html_a7d6868d2c34723ca32ef1d0b8c237a3b"><div class="ttname"><a href="structmap__deconstruct__info.html#a7d6868d2c34723ca32ef1d0b8c237a3b">map_deconstruct_info::ter_set</a></div><div class="ttdeci">ter_str_id ter_set</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00086">mapdata.h:86</a></div></div>
<div class="ttc" id="astructmap__deconstruct__info_html_ad91e2d4d5d8b4889587681bcc4e8a390"><div class="ttname"><a href="structmap__deconstruct__info.html#ad91e2d4d5d8b4889587681bcc4e8a390">map_deconstruct_info::furn_set</a></div><div class="ttdeci">furn_str_id furn_set</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00087">mapdata.h:87</a></div></div>
<div class="ttc" id="astructter__t_html"><div class="ttname"><a href="structter__t.html">ter_t</a></div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00598">mapdata.h:598</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="mapdata_8h_source.html#l00081">map_deconstruct_info::can_do</a>, <a class="el" href="item_8h_source.html#l03133">item::charges</a>, <a class="el" href="mapdata_8h_source.html#l00454">map_data_common_t::deconstruct</a>, <a class="el" href="mapdata_8h_source.html#l00083">map_deconstruct_info::deconstruct_above</a>, <a class="el" href="map_8cpp_source.html#l04879">map::delete_signage()</a>, <a class="el" href="mapdata_8h_source.html#l00085">map_deconstruct_info::drop_group</a>, <a class="el" href="map_8cpp_source.html#l01722">map::furn()</a>, <a class="el" href="map_8cpp_source.html#l01743">map::furn_set()</a>, <a class="el" href="mapdata_8h_source.html#l00087">map_deconstruct_info::furn_set</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="character_8cpp_source.html#l03428">Character::get_skill_level()</a>, <a class="el" href="mapdata_8h_source.html#l00534">map_data_common_t::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l01712">map::has_furn()</a>, <a class="el" href="map_8cpp_source.html#l04978">map::i_at()</a>, <a class="el" href="map_8cpp_source.html#l05001">map::i_rem()</a>, <a class="el" href="item__group_8cpp_source.html#l00979">item_group::items_from()</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">LIQUID</a>, <a class="el" href="enums_8h_source.html#l00352">m_info</a>, <a class="el" href="item_8cpp_source.html#l09146">item::made_of()</a>, <a class="el" href="mapdata_8cpp_source.html#l00563">map_data_common_t::name()</a>, <a class="el" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">string_id&lt; furn_t &gt;::NULL_ID()</a>, <a class="el" href="item_8cpp_source.html#l00248">null_item_reference()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00026">int_id&lt; T &gt;::obj()</a>, <a class="el" href="item__stack_8cpp_source.html#l00087">item_stack::only_item()</a>, <a class="el" href="character_8cpp_source.html#l02683">Character::practice()</a>, <a class="el" href="item__stack_8cpp_source.html#l00014">item_stack::size()</a>, <a class="el" href="mapdata_8h_source.html#l00089">map_deconstruct_info::skill</a>, <a class="el" href="map_8cpp_source.html#l05048">map::spawn_items()</a>, <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>, <a class="el" href="map_8cpp_source.html#l01922">map::ter()</a>, <a class="el" href="map_8cpp_source.html#l02226">map::ter_set()</a>, <a class="el" href="mapdata_8h_source.html#l00086">map_deconstruct_info::ter_set</a>, <a class="el" href="point_8h_source.html#l00271">tripoint_above</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="af0c156535478d57029a043e58379a0ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0c156535478d57029a043e58379a0ec">&#9670;&nbsp;</a></span>done_dig_grave()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_dig_grave </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>who</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01670">1670</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;{</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 10 ) ) {</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> std::array&lt;mtype_id, 5&gt; monids = {</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            { <a class="code" href="construction_8cpp.html#aaacc93acc84b2a93e4d15c1ffd7b5d87">mon_zombie</a>, <a class="code" href="construction_8cpp.html#a5af7c0aed5b456d91a8f73dd44dc8e30">mon_zombie_fat</a>, <a class="code" href="construction_8cpp.html#a7fb2d6b85fdd9aeb34ff1adf666cd6d4">mon_zombie_rot</a>, <a class="code" href="construction_8cpp.html#a1f0dfdc95f9188717f3948bbd8dcf116">mon_skeleton</a>, <a class="code" href="construction_8cpp.html#ad4e440b0a61d58374808f8052b8cb64f">mon_zombie_crawler</a> }</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;        };</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160; </div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;        <span class="comment">// TODO: fix point types</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;        <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_at( <a class="code" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( monids ), p.<a class="code" href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">raw</a>() );</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;        here.<a class="code" href="classmap.html#a410a8dcd3e1ee0e87da584bf878d6f83">furn_set</a>( p, <a class="code" href="construction_8cpp.html#a7e43977162a05e900545ca75218a7e44">furn_f_coffin_o</a> );</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;        who.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Something crawls out of the coffin!&quot;</span> ) );</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;        <span class="comment">// TODO: fix point types</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        here.<a class="code" href="classmap.html#a4417ea41f79e4b624612ae64ebac1d07">spawn_item</a>( p.<a class="code" href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">raw</a>(), <a class="code" href="construction_8cpp.html#aa65c915d0f42f037fddc80cc3f31332c">itype_bone_human</a>, <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 5, 15 ) );</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        here.<a class="code" href="classmap.html#a410a8dcd3e1ee0e87da584bf878d6f83">furn_set</a>( p, <a class="code" href="construction_8cpp.html#a163f64fb8c7fe7ec075b4510e1e3b884">furn_f_coffin_c</a> );</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    }</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    std::vector&lt;item *&gt; dropped =</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        here.<a class="code" href="classmap.html#ab13252e80a967e4dba887fbbdef9ec64">place_items</a>( <a class="code" href="construction_8cpp.html#aac52b49e6fbdd5f7e6098515f42d2a54">Item_spawn_data_allclothes</a>, 50, p, p, <span class="keyword">false</span>, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    here.<a class="code" href="classmap.html#ab13252e80a967e4dba887fbbdef9ec64">place_items</a>( <a class="code" href="construction_8cpp.html#a65a25a31699a4081b97a2af1a9d59cef">Item_spawn_data_grave</a>, 25, p, p, <span class="keyword">false</span>, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    here.<a class="code" href="classmap.html#ab13252e80a967e4dba887fbbdef9ec64">place_items</a>( <a class="code" href="construction_8cpp.html#a30849a6e5cff6cc04f08ce5e01ee8c5d">Item_spawn_data_jewelry_front</a>, 20, p, p, <span class="keyword">false</span>, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> * <span class="keyword">const</span> &amp;it : dropped ) {</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        <span class="keywordflow">if</span>( it-&gt;is_armor() ) {</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;            it-&gt;set_flag( <a class="code" href="construction_8cpp.html#a4df4dd60924cd337468bb34326d879a7">json_flag_FILTHY</a> );</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;            it-&gt;set_damage( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 1, it-&gt;max_damage() - 1 ) );</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            it-&gt;rand_degradation();</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        }</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    }</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <a class="code" href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a>().<a class="code" href="classevent__bus.html#ab753616a3a663185377ac52560068194">send</a>&lt;<a class="code" href="event_8h.html#a333a7721472705fe444b24f107f9a731a9136ccc53292b84eedb07505a9707316">event_type::exhumes_grave</a>&gt;( who.<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() );</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a4249b6f1d0842211bfe53e5f9e206a10"><div class="ttname"><a href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a></div><div class="ttdeci">time_duration rng(time_duration lo, time_duration hi)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00779">calendar.cpp:779</a></div></div>
<div class="ttc" id="aclassCharacter_html_adb54bdcb284abb66b6be99c8ae225065"><div class="ttname"><a href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">Character::getID</a></div><div class="ttdeci">character_id getID() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00652">character.cpp:652</a></div></div>
<div class="ttc" id="aclassevent__bus_html_ab753616a3a663185377ac52560068194"><div class="ttname"><a href="classevent__bus.html#ab753616a3a663185377ac52560068194">event_bus::send</a></div><div class="ttdeci">void send(const cata::event &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="event__bus_8cpp_source.html#l00072">event_bus.cpp:72</a></div></div>
<div class="ttc" id="aclassmap_html_a4417ea41f79e4b624612ae64ebac1d07"><div class="ttname"><a href="classmap.html#a4417ea41f79e4b624612ae64ebac1d07">map::spawn_item</a></div><div class="ttdeci">void spawn_item(const tripoint &amp;p, const itype_id &amp;type_id, unsigned quantity=1, int charges=0, const time_point &amp;birthday=calendar::start_of_cataclysm, int damlevel=0, const std::set&lt; flag_id &gt; &amp;flags={}, const std::string &amp;variant=&quot;&quot;, const std::string &amp;faction=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05100">map.cpp:5100</a></div></div>
<div class="ttc" id="aclassmap_html_ab13252e80a967e4dba887fbbdef9ec64"><div class="ttname"><a href="classmap.html#ab13252e80a967e4dba887fbbdef9ec64">map::place_items</a></div><div class="ttdeci">std::vector&lt; item * &gt; place_items(const item_group_id &amp;group_id, int chance, const tripoint &amp;p1, const tripoint &amp;p2, bool ongrass, const time_point &amp;turn, int magazine=0, int ammo=0, const std::string &amp;faction=&quot;&quot;)</div><div class="ttdoc">Place items from item group in the rectangle f - t.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l06558">mapgen.cpp:6558</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_a163f64fb8c7fe7ec075b4510e1e3b884"><div class="ttname"><a href="construction_8cpp.html#a163f64fb8c7fe7ec075b4510e1e3b884">furn_f_coffin_c</a></div><div class="ttdeci">static const furn_str_id furn_f_coffin_c(&quot;f_coffin_c&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a1f0dfdc95f9188717f3948bbd8dcf116"><div class="ttname"><a href="construction_8cpp.html#a1f0dfdc95f9188717f3948bbd8dcf116">mon_skeleton</a></div><div class="ttdeci">static const mtype_id mon_skeleton(&quot;mon_skeleton&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a30849a6e5cff6cc04f08ce5e01ee8c5d"><div class="ttname"><a href="construction_8cpp.html#a30849a6e5cff6cc04f08ce5e01ee8c5d">Item_spawn_data_jewelry_front</a></div><div class="ttdeci">static const item_group_id Item_spawn_data_jewelry_front(&quot;jewelry_front&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a4df4dd60924cd337468bb34326d879a7"><div class="ttname"><a href="construction_8cpp.html#a4df4dd60924cd337468bb34326d879a7">json_flag_FILTHY</a></div><div class="ttdeci">static const flag_id json_flag_FILTHY(&quot;FILTHY&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a5af7c0aed5b456d91a8f73dd44dc8e30"><div class="ttname"><a href="construction_8cpp.html#a5af7c0aed5b456d91a8f73dd44dc8e30">mon_zombie_fat</a></div><div class="ttdeci">static const mtype_id mon_zombie_fat(&quot;mon_zombie_fat&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a65a25a31699a4081b97a2af1a9d59cef"><div class="ttname"><a href="construction_8cpp.html#a65a25a31699a4081b97a2af1a9d59cef">Item_spawn_data_grave</a></div><div class="ttdeci">static const item_group_id Item_spawn_data_grave(&quot;grave&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a7e43977162a05e900545ca75218a7e44"><div class="ttname"><a href="construction_8cpp.html#a7e43977162a05e900545ca75218a7e44">furn_f_coffin_o</a></div><div class="ttdeci">static const furn_str_id furn_f_coffin_o(&quot;f_coffin_o&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a7fb2d6b85fdd9aeb34ff1adf666cd6d4"><div class="ttname"><a href="construction_8cpp.html#a7fb2d6b85fdd9aeb34ff1adf666cd6d4">mon_zombie_rot</a></div><div class="ttdeci">static const mtype_id mon_zombie_rot(&quot;mon_zombie_rot&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_aa65c915d0f42f037fddc80cc3f31332c"><div class="ttname"><a href="construction_8cpp.html#aa65c915d0f42f037fddc80cc3f31332c">itype_bone_human</a></div><div class="ttdeci">static const itype_id itype_bone_human(&quot;bone_human&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_aaacc93acc84b2a93e4d15c1ffd7b5d87"><div class="ttname"><a href="construction_8cpp.html#aaacc93acc84b2a93e4d15c1ffd7b5d87">mon_zombie</a></div><div class="ttdeci">static const mtype_id mon_zombie(&quot;mon_zombie&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_aac52b49e6fbdd5f7e6098515f42d2a54"><div class="ttname"><a href="construction_8cpp.html#aac52b49e6fbdd5f7e6098515f42d2a54">Item_spawn_data_allclothes</a></div><div class="ttdeci">static const item_group_id Item_spawn_data_allclothes(&quot;allclothes&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_ad4e440b0a61d58374808f8052b8cb64f"><div class="ttname"><a href="construction_8cpp.html#ad4e440b0a61d58374808f8052b8cb64f">mon_zombie_crawler</a></div><div class="ttdeci">static const mtype_id mon_zombie_crawler(&quot;mon_zombie_crawler&quot;)</div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a></div><div class="ttdeci">@ m_warning</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00351">enums.h:351</a></div></div>
<div class="ttc" id="aevent_8h_html_a333a7721472705fe444b24f107f9a731a9136ccc53292b84eedb07505a9707316"><div class="ttname"><a href="event_8h.html#a333a7721472705fe444b24f107f9a731a9136ccc53292b84eedb07505a9707316">event_type::exhumes_grave</a></div><div class="ttdeci">@ exhumes_grave</div></div>
<div class="ttc" id="aevent__bus_8h_html_a4f760194b9225ccf92a1419748def636"><div class="ttname"><a href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a></div><div class="ttdeci">event_bus &amp; get_event_bus()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13832">game.cpp:13832</a></div></div>
<div class="ttc" id="arng_8h_html_a12244355ee77108f1b08618e9962e4d1"><div class="ttname"><a href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a></div><div class="ttdeci">V random_entry(const C &amp;container, D default_value)</div><div class="ttdoc">Returns a random entry in the container.</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00104">rng.h:104</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="character_8cpp_source.html#l00856">Character::add_msg_if_player()</a>, <a class="el" href="event_8h.html#a333a7721472705fe444b24f107f9a731a9136ccc53292b84eedb07505a9707316">exhumes_grave</a>, <a class="el" href="construction_8cpp.html#a163f64fb8c7fe7ec075b4510e1e3b884">furn_f_coffin_c</a>, <a class="el" href="construction_8cpp.html#a7e43977162a05e900545ca75218a7e44">furn_f_coffin_o</a>, <a class="el" href="map_8cpp_source.html#l01743">map::furn_set()</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13832">get_event_bus()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="character_8cpp_source.html#l00652">Character::getID()</a>, <a class="el" href="construction_8cpp.html#aac52b49e6fbdd5f7e6098515f42d2a54">Item_spawn_data_allclothes</a>, <a class="el" href="construction_8cpp.html#a65a25a31699a4081b97a2af1a9d59cef">Item_spawn_data_grave</a>, <a class="el" href="construction_8cpp.html#a30849a6e5cff6cc04f08ce5e01ee8c5d">Item_spawn_data_jewelry_front</a>, <a class="el" href="construction_8cpp.html#aa65c915d0f42f037fddc80cc3f31332c">itype_bone_human</a>, <a class="el" href="construction_8cpp.html#a4df4dd60924cd337468bb34326d879a7">json_flag_FILTHY</a>, <a class="el" href="enums_8h_source.html#l00351">m_warning</a>, <a class="el" href="construction_8cpp.html#a1f0dfdc95f9188717f3948bbd8dcf116">mon_skeleton</a>, <a class="el" href="construction_8cpp.html#aaacc93acc84b2a93e4d15c1ffd7b5d87">mon_zombie</a>, <a class="el" href="construction_8cpp.html#ad4e440b0a61d58374808f8052b8cb64f">mon_zombie_crawler</a>, <a class="el" href="construction_8cpp.html#a5af7c0aed5b456d91a8f73dd44dc8e30">mon_zombie_fat</a>, <a class="el" href="construction_8cpp.html#a7fb2d6b85fdd9aeb34ff1adf666cd6d4">mon_zombie_rot</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="mapgen_8cpp_source.html#l06558">map::place_items()</a>, <a class="el" href="rng_8h_source.html#l00104">random_entry()</a>, <a class="el" href="coordinates_8h_source.html#l00157">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::raw()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="event__bus_8cpp_source.html#l00072">event_bus::send()</a>, <a class="el" href="map_8cpp_source.html#l05100">map::spawn_item()</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="ad4dbaabef411b6a814a329d564e97bdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4dbaabef411b6a814a329d564e97bdd">&#9670;&nbsp;</a></span>done_dig_grave_nospawn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_dig_grave_nospawn </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>who</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01701">1701</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;{</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a410a8dcd3e1ee0e87da584bf878d6f83">furn_set</a>( p, <a class="code" href="construction_8cpp.html#a163f64fb8c7fe7ec075b4510e1e3b884">furn_f_coffin_c</a> );</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    <a class="code" href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a>().<a class="code" href="classevent__bus.html#ab753616a3a663185377ac52560068194">send</a>&lt;<a class="code" href="event_8h.html#a333a7721472705fe444b24f107f9a731a9136ccc53292b84eedb07505a9707316">event_type::exhumes_grave</a>&gt;( who.<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() );</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="event_8h.html#a333a7721472705fe444b24f107f9a731a9136ccc53292b84eedb07505a9707316">exhumes_grave</a>, <a class="el" href="construction_8cpp.html#a163f64fb8c7fe7ec075b4510e1e3b884">furn_f_coffin_c</a>, <a class="el" href="map_8cpp_source.html#l01743">map::furn_set()</a>, <a class="el" href="game_8cpp_source.html#l13832">get_event_bus()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="character_8cpp_source.html#l00652">Character::getID()</a>, and <a class="el" href="event__bus_8cpp_source.html#l00072">event_bus::send()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="ab0d7c9eff5acc7fc5a334a2c1f0995d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0d7c9eff5acc7fc5a334a2c1f0995d8">&#9670;&nbsp;</a></span>done_dig_stair()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_dig_stair </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>who</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01707">1707</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;{</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <a class="code" href="namespaceconstruct.html#a8806d39e0eb546694fd58164ccadaa37">done_digormine_stair</a>( p, <span class="keyword">true</span>, who );</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;}</div>
<div class="ttc" id="anamespaceconstruct_html_a8806d39e0eb546694fd58164ccadaa37"><div class="ttname"><a href="namespaceconstruct.html#a8806d39e0eb546694fd58164ccadaa37">construct::done_digormine_stair</a></div><div class="ttdeci">static void done_digormine_stair(const tripoint_bub_ms &amp;, bool, Character &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cpp_source.html#l01629">construction.cpp:1629</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="construction_8cpp_source.html#l01629">done_digormine_stair()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a8806d39e0eb546694fd58164ccadaa37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8806d39e0eb546694fd58164ccadaa37">&#9670;&nbsp;</a></span>done_digormine_stair()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_digormine_stair </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>dig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>player_character</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01629">1629</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;{</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_bub_ms</a> p_below = p + <a class="code" href="point_8h.html#a53f9f23b765219169daffe4c54ad5b8f">tripoint_below</a>;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160; </div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="keywordtype">bool</span> dig_muts = player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="construction_8cpp.html#a4b2257876364d774f1eb52ef6e585bbb">trait_PAINRESIST_TROGLO</a> ) ||</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                    player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="construction_8cpp.html#adc9440401f2c588a525027a5d636869d">trait_STOCKY_TROGLO</a> );</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160; </div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="keywordtype">int</span> no_mut_penalty = dig_muts ? 10 : 0;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <span class="keywordtype">int</span> mine_penalty = <a class="code" href="namespaceiuse.html#a5a1c625609c7a13fb0833cc0259aed92">dig</a> ? 0 : 10;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    player_character.<a class="code" href="classCharacter.html#a04fc1337bdd5b0865a7c47e36b034b7e">mod_stored_kcal</a>( -43 - 9 * mine_penalty - 9 * no_mut_penalty );</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    player_character.<a class="code" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( 5 + mine_penalty + no_mut_penalty );</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    player_character.<a class="code" href="classCharacter.html#ae7eecab0795b77cbd6fabebc0e140486">mod_sleepiness</a>( 10 + mine_penalty + no_mut_penalty );</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160; </div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p_below ) == <a class="code" href="construction_8cpp.html#ada6977f9f2935b5c864914ed26ba70be">ter_t_lava</a> ) {</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The rock feels much warmer than normal.  Proceed?&quot;</span> ) ) ) {</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;            here.<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( p, <a class="code" href="construction_8cpp.html#aaa258c5465ca70ec4568914f0975902c">ter_t_pit</a> ); <span class="comment">// You dug down a bit before detecting the problem</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;            <a class="code" href="construction_8cpp.html#a2ac36f0e677f95bae899a655255334cd">unroll_digging</a>( <a class="code" href="namespaceiuse.html#a5a1c625609c7a13fb0833cc0259aed92">dig</a> ? 8 : 12 );</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You just tunneled into lava!&quot;</span> ) );</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;            <a class="code" href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a>().<a class="code" href="classevent__bus.html#ab753616a3a663185377ac52560068194">send</a>&lt;<a class="code" href="event_8h.html#a333a7721472705fe444b24f107f9a731a4e1d40b9faafb4cce1e627ed46ef3d67">event_type::digs_into_lava</a>&gt;();</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;            here.<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( p, <a class="code" href="construction_8cpp.html#a247cdd4e50f0d4d61f29e4fc4f646032">ter_t_hole</a> );</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        }</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160; </div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    }</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160; </div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf5e7a346d6681f66585d00619d9e1d65">impassable</a> = here.<a class="code" href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">impassable</a>( p_below );</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="keywordflow">if</span>( !impassable ) {</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You dig into a preexisting space, and improvise a ladder.&quot;</span> ) );</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="namespaceiuse.html#a5a1c625609c7a13fb0833cc0259aed92">dig</a> ) {</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You dig a stairway, adding sturdy timbers and a rope for safety.&quot;</span> ) );</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You drill out a passage, heading deeper underground.&quot;</span> ) );</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    }</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    here.<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( p, <a class="code" href="construction_8cpp.html#a0e8e11fa2f1915fae23254153f30276e">ter_t_stairs_down</a> ); <span class="comment">// There&#39;s the top half</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    here.<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( p_below, impassable ? <a class="code" href="construction_8cpp.html#acc943f5480f6cfee0247de4fc393a47a">ter_t_stairs_up</a> :</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;                  <a class="code" href="construction_8cpp.html#a079edf41838b31a10148bb4ee5d34c58">ter_t_ladder_up</a> ); <span class="comment">// and there&#39;s the bottom half.</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a04fc1337bdd5b0865a7c47e36b034b7e"><div class="ttname"><a href="classCharacter.html#a04fc1337bdd5b0865a7c47e36b034b7e">Character::mod_stored_kcal</a></div><div class="ttdeci">void mod_stored_kcal(int nkcal, bool ignore_weariness=false)</div><div class="ttdoc">Modifiers for need values exclusive to characters.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04426">character.cpp:4426</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9ce2644a98b526b5e453b043f5fa49bc"><div class="ttname"><a href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">Character::mod_thirst</a></div><div class="ttdeci">void mod_thirst(int nthirst)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04528">character.cpp:4528</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae7eecab0795b77cbd6fabebc0e140486"><div class="ttname"><a href="classCharacter.html#ae7eecab0795b77cbd6fabebc0e140486">Character::mod_sleepiness</a></div><div class="ttdeci">void mod_sleepiness(int nsleepiness)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04544">character.cpp:4544</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_a079edf41838b31a10148bb4ee5d34c58"><div class="ttname"><a href="construction_8cpp.html#a079edf41838b31a10148bb4ee5d34c58">ter_t_ladder_up</a></div><div class="ttdeci">static const ter_str_id ter_t_ladder_up(&quot;t_ladder_up&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a0e8e11fa2f1915fae23254153f30276e"><div class="ttname"><a href="construction_8cpp.html#a0e8e11fa2f1915fae23254153f30276e">ter_t_stairs_down</a></div><div class="ttdeci">static const ter_str_id ter_t_stairs_down(&quot;t_stairs_down&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a247cdd4e50f0d4d61f29e4fc4f646032"><div class="ttname"><a href="construction_8cpp.html#a247cdd4e50f0d4d61f29e4fc4f646032">ter_t_hole</a></div><div class="ttdeci">static const ter_str_id ter_t_hole(&quot;t_hole&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a2ac36f0e677f95bae899a655255334cd"><div class="ttname"><a href="construction_8cpp.html#a2ac36f0e677f95bae899a655255334cd">unroll_digging</a></div><div class="ttdeci">static void unroll_digging(const int numer_of_2x4s)</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cpp_source.html#l01618">construction.cpp:1618</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_a4b2257876364d774f1eb52ef6e585bbb"><div class="ttname"><a href="construction_8cpp.html#a4b2257876364d774f1eb52ef6e585bbb">trait_PAINRESIST_TROGLO</a></div><div class="ttdeci">static const trait_id trait_PAINRESIST_TROGLO(&quot;PAINRESIST_TROGLO&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_aaa258c5465ca70ec4568914f0975902c"><div class="ttname"><a href="construction_8cpp.html#aaa258c5465ca70ec4568914f0975902c">ter_t_pit</a></div><div class="ttdeci">static const ter_str_id ter_t_pit(&quot;t_pit&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_acc943f5480f6cfee0247de4fc393a47a"><div class="ttname"><a href="construction_8cpp.html#acc943f5480f6cfee0247de4fc393a47a">ter_t_stairs_up</a></div><div class="ttdeci">static const ter_str_id ter_t_stairs_up(&quot;t_stairs_up&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_ada6977f9f2935b5c864914ed26ba70be"><div class="ttname"><a href="construction_8cpp.html#ada6977f9f2935b5c864914ed26ba70be">ter_t_lava</a></div><div class="ttdeci">static const ter_str_id ter_t_lava(&quot;t_lava&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_adc9440401f2c588a525027a5d636869d"><div class="ttname"><a href="construction_8cpp.html#adc9440401f2c588a525027a5d636869d">trait_STOCKY_TROGLO</a></div><div class="ttdeci">static const trait_id trait_STOCKY_TROGLO(&quot;STOCKY_TROGLO&quot;)</div></div>
<div class="ttc" id="aevent_8h_html_a333a7721472705fe444b24f107f9a731a4e1d40b9faafb4cce1e627ed46ef3d67"><div class="ttname"><a href="event_8h.html#a333a7721472705fe444b24f107f9a731a4e1d40b9faafb4cce1e627ed46ef3d67">event_type::digs_into_lava</a></div><div class="ttdeci">@ digs_into_lava</div></div>
<div class="ttc" id="anamespaceiuse_html_a5a1c625609c7a13fb0833cc0259aed92"><div class="ttname"><a href="namespaceiuse.html#a5a1c625609c7a13fb0833cc0259aed92">iuse::dig</a></div><div class="ttdeci">std::optional&lt; int &gt; dig(Character *, item *, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02830">iuse.cpp:2830</a></div></div>
<div class="ttc" id="aomdata_8h_html_a34fa26d94d253aff79aacd4ffbc1505daf5e7a346d6681f66585d00619d9e1d65"><div class="ttname"><a href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf5e7a346d6681f66585d00619d9e1d65">oter_travel_cost_type::impassable</a></div><div class="ttdeci">@ impassable</div></div>
<div class="ttc" id="aoutput_8cpp_html_ab62599a77867b8f416669b92f60f4900"><div class="ttname"><a href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a></div><div class="ttdeci">bool query_yn(const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00811">output.cpp:811</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="iuse_8cpp_source.html#l02830">iuse::dig()</a>, <a class="el" href="event_8h.html#a333a7721472705fe444b24f107f9a731a4e1d40b9faafb4cce1e627ed46ef3d67">digs_into_lava</a>, <a class="el" href="game_8cpp_source.html#l13832">get_event_bus()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="map_8cpp_source.html#l02462">map::impassable()</a>, <a class="el" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf5e7a346d6681f66585d00619d9e1d65">impassable</a>, <a class="el" href="enums_8h_source.html#l00351">m_warning</a>, <a class="el" href="character_8cpp_source.html#l04544">Character::mod_sleepiness()</a>, <a class="el" href="character_8cpp_source.html#l04426">Character::mod_stored_kcal()</a>, <a class="el" href="character_8cpp_source.html#l04528">Character::mod_thirst()</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="event__bus_8cpp_source.html#l00072">event_bus::send()</a>, <a class="el" href="map_8cpp_source.html#l01922">map::ter()</a>, <a class="el" href="map_8cpp_source.html#l02226">map::ter_set()</a>, <a class="el" href="construction_8cpp.html#a247cdd4e50f0d4d61f29e4fc4f646032">ter_t_hole</a>, <a class="el" href="construction_8cpp.html#a079edf41838b31a10148bb4ee5d34c58">ter_t_ladder_up</a>, <a class="el" href="construction_8cpp.html#ada6977f9f2935b5c864914ed26ba70be">ter_t_lava</a>, <a class="el" href="construction_8cpp.html#aaa258c5465ca70ec4568914f0975902c">ter_t_pit</a>, <a class="el" href="construction_8cpp.html#a0e8e11fa2f1915fae23254153f30276e">ter_t_stairs_down</a>, <a class="el" href="construction_8cpp.html#acc943f5480f6cfee0247de4fc393a47a">ter_t_stairs_up</a>, <a class="el" href="construction_8cpp.html#a4b2257876364d774f1eb52ef6e585bbb">trait_PAINRESIST_TROGLO</a>, <a class="el" href="construction_8cpp.html#adc9440401f2c588a525027a5d636869d">trait_STOCKY_TROGLO</a>, <a class="el" href="point_8h_source.html#l00272">tripoint_below</a>, and <a class="el" href="construction_8cpp_source.html#l01618">unroll_digging()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01707">done_dig_stair()</a>, and <a class="el" href="construction_8cpp_source.html#l01712">done_mine_downstair()</a>.</p>

</div>
</div>
<a id="ab4891e4690429fb902bab71a8a176051"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4891e4690429fb902bab71a8a176051">&#9670;&nbsp;</a></span>done_extract_maybe_revert_to_dirt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_extract_maybe_revert_to_dirt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01768">1768</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;{</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 10 ) ) {</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        here.<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( p, <a class="code" href="construction_8cpp.html#a39faa1c7d3f986d7dd89f347f4e2f43f">ter_t_dirt</a> );</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    }</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160; </div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ) == <a class="code" href="construction_8cpp.html#a8df064af5f1ba517cc858bf39b5da275">ter_t_clay</a> ) {</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You gather some clay.&quot;</span> ) );</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ) == <a class="code" href="construction_8cpp.html#aa97140c8aea2d1d10175fc60f47ff47c">ter_t_sand</a> ) {</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You gather some sand.&quot;</span> ) );</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        <span class="comment">// Fall through to an undefined material.</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You gather some materials.&quot;</span> ) );</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    }</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;}</div>
<div class="ttc" id="aconstruction_8cpp_html_a39faa1c7d3f986d7dd89f347f4e2f43f"><div class="ttname"><a href="construction_8cpp.html#a39faa1c7d3f986d7dd89f347f4e2f43f">ter_t_dirt</a></div><div class="ttdeci">static const ter_str_id ter_t_dirt(&quot;t_dirt&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a8df064af5f1ba517cc858bf39b5da275"><div class="ttname"><a href="construction_8cpp.html#a8df064af5f1ba517cc858bf39b5da275">ter_t_clay</a></div><div class="ttdeci">static const ter_str_id ter_t_clay(&quot;t_clay&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_aa97140c8aea2d1d10175fc60f47ff47c"><div class="ttname"><a href="construction_8cpp.html#aa97140c8aea2d1d10175fc60f47ff47c">ter_t_sand</a></div><div class="ttdeci">static const ter_str_id ter_t_sand(&quot;t_sand&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="map_8cpp_source.html#l01922">map::ter()</a>, <a class="el" href="map_8cpp_source.html#l02226">map::ter_set()</a>, <a class="el" href="construction_8cpp.html#a8df064af5f1ba517cc858bf39b5da275">ter_t_clay</a>, <a class="el" href="construction_8cpp.html#a39faa1c7d3f986d7dd89f347f4e2f43f">ter_t_dirt</a>, and <a class="el" href="construction_8cpp.html#aa97140c8aea2d1d10175fc60f47ff47c">ter_t_sand</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="aea188ff8253a85a6bdc1906ac683fd7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea188ff8253a85a6bdc1906ac683fd7f">&#9670;&nbsp;</a></span>done_grave()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_grave </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>player_character</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01406">1406</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;{</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <a class="code" href="classmap__stack.html">map_stack</a> its = here.<a class="code" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( p );</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it : its ) {</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <span class="keywordflow">if</span>( it.is_corpse() ) {</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;            <span class="keywordflow">if</span>( it.get_corpse_name().empty() ) {</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                <span class="keywordflow">if</span>( it.get_mtype()-&gt;has_flag( <a class="code" href="mtype_8cpp.html#a7420d59aee572242024a886f275a58c7">mon_flag_HUMAN</a> ) ) {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                    <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="construction_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a> ) ) {</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                        player_character.<a class="code" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code" href="morale__types_8cpp.html#a197b88838168809ea3a7a9d39e6271ae">MORALE_FUNERAL</a>, 50, 75, 1_days, 1_hours );</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                                 <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You feel relieved after providing last rites for this human being, whose name is lost in the Cataclysm.&quot;</span> ) );</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You bury remains of a human, whose name is lost in the Cataclysm.&quot;</span> ) );</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                    }</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                }</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="construction_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a> ) ) {</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                    player_character.<a class="code" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code" href="morale__types_8cpp.html#a197b88838168809ea3a7a9d39e6271ae">MORALE_FUNERAL</a>, 50, 75, 1_days, 1_hours );</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                             <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You feel sadness, but also relief after providing last rites for %s, whose name you will keep in your memory.&quot;</span> ),</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                             it.get_corpse_name() );</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>,</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                             <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You bury remains of %s, who joined uncounted masses perished in the Cataclysm.&quot;</span> ),</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                             it.get_corpse_name() );</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                }</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;            }</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;            <a class="code" href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a>().<a class="code" href="classevent__bus.html#ab753616a3a663185377ac52560068194">send</a>&lt;<a class="code" href="event_8h.html#a333a7721472705fe444b24f107f9a731adcba7660a5b51b1ec3e08796083a1229">event_type::buries_corpse</a>&gt;(</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                player_character.<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>(), it.get_mtype()-&gt;id, it.get_corpse_name() );</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        }</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    }</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#a4fbb9c4ed21da8c03ce7d04036beea63">has_quality</a>( <a class="code" href="construction_8cpp.html#ac5ae8cf30e2c087307ed0d8f18d3209f">qual_CUT</a> ) ) {</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        <span class="comment">// TODO: fix point types</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        <a class="code" href="namespaceiuse.html#a32100cdc409ab595ebbb4e5d2115883a">iuse::handle_ground_graffiti</a>( player_character, <span class="keyword">nullptr</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Inscribe something on the grave?&quot;</span> ),</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                                      p.<a class="code" href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">raw</a>() );</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>,</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                 <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Unfortunately you don&#39;t have anything sharp to place an inscription on the grave.&quot;</span> ) );</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    }</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160; </div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    here.<a class="code" href="classmap.html#aa9876f3b15b72bae95b49982fb1bc1a5">destroy_furn</a>( p, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a4fbb9c4ed21da8c03ce7d04036beea63"><div class="ttname"><a href="classCharacter.html#a4fbb9c4ed21da8c03ce7d04036beea63">Character::has_quality</a></div><div class="ttdeci">bool has_quality(const quality_id &amp;qual, int level=1, int qty=1) const override</div><div class="ttdoc">Returns true if instance has amount (or more) items of at least quality level.</div></div>
<div class="ttc" id="aclassmap__stack_html"><div class="ttname"><a href="classmap__stack.html">map_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00106">map.h:107</a></div></div>
<div class="ttc" id="aclassmap_html_aa9876f3b15b72bae95b49982fb1bc1a5"><div class="ttname"><a href="classmap.html#aa9876f3b15b72bae95b49982fb1bc1a5">map::destroy_furn</a></div><div class="ttdeci">void destroy_furn(const tripoint &amp;p, bool silent=false)</div><div class="ttdoc">Keeps bashing a square until there is no more furniture.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04404">map.cpp:4404</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_ac5ae8cf30e2c087307ed0d8f18d3209f"><div class="ttname"><a href="construction_8cpp.html#ac5ae8cf30e2c087307ed0d8f18d3209f">qual_CUT</a></div><div class="ttdeci">static const quality_id qual_CUT(&quot;CUT&quot;)</div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a></div><div class="ttdeci">@ m_neutral</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00354">enums.h:354</a></div></div>
<div class="ttc" id="aevent_8h_html_a333a7721472705fe444b24f107f9a731adcba7660a5b51b1ec3e08796083a1229"><div class="ttname"><a href="event_8h.html#a333a7721472705fe444b24f107f9a731adcba7660a5b51b1ec3e08796083a1229">event_type::buries_corpse</a></div><div class="ttdeci">@ buries_corpse</div></div>
<div class="ttc" id="amorale__types_8cpp_html_a197b88838168809ea3a7a9d39e6271ae"><div class="ttname"><a href="morale__types_8cpp.html#a197b88838168809ea3a7a9d39e6271ae">MORALE_FUNERAL</a></div><div class="ttdeci">const morale_type MORALE_FUNERAL(&quot;morale_funeral&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_a7420d59aee572242024a886f275a58c7"><div class="ttname"><a href="mtype_8cpp.html#a7420d59aee572242024a886f275a58c7">mon_flag_HUMAN</a></div><div class="ttdeci">mon_flag_id mon_flag_HUMAN</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00099">mtype.cpp:99</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a32100cdc409ab595ebbb4e5d2115883a"><div class="ttname"><a href="namespaceiuse.html#a32100cdc409ab595ebbb4e5d2115883a">iuse::handle_ground_graffiti</a></div><div class="ttdeci">std::optional&lt; int &gt; handle_ground_graffiti(Character &amp;p, item *it, const std::string &amp;prefix, const tripoint &amp;where)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04817">iuse.cpp:4817</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="character__morale_8cpp_source.html#l00142">Character::add_morale()</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="event_8h.html#a333a7721472705fe444b24f107f9a731adcba7660a5b51b1ec3e08796083a1229">buries_corpse</a>, <a class="el" href="map_8cpp_source.html#l04404">map::destroy_furn()</a>, <a class="el" href="game_8cpp_source.html#l13832">get_event_bus()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="character_8cpp_source.html#l00652">Character::getID()</a>, <a class="el" href="iuse_8cpp_source.html#l04817">iuse::handle_ground_graffiti()</a>, <a class="el" href="classCharacter.html#a4fbb9c4ed21da8c03ce7d04036beea63">Character::has_quality()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="map_8cpp_source.html#l04978">map::i_at()</a>, <a class="el" href="enums_8h_source.html#l00347">m_good</a>, <a class="el" href="enums_8h_source.html#l00354">m_neutral</a>, <a class="el" href="mtype_8cpp_source.html#l00099">mon_flag_HUMAN</a>, <a class="el" href="morale__types_8cpp.html#a197b88838168809ea3a7a9d39e6271ae">MORALE_FUNERAL</a>, <a class="el" href="construction_8cpp.html#ac5ae8cf30e2c087307ed0d8f18d3209f">qual_CUT</a>, <a class="el" href="coordinates_8h_source.html#l00157">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::raw()</a>, <a class="el" href="event__bus_8cpp_source.html#l00072">event_bus::send()</a>, and <a class="el" href="construction_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a86ec701f2c36256728e22142345c7fc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86ec701f2c36256728e22142345c7fc3">&#9670;&nbsp;</a></span>done_mark_firewood()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_mark_firewood </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01785">1785</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;{</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#ade82e480520c05f5a4e8917df19cef8c">trap_set</a>( p, <a class="code" href="construction_8cpp.html#abd2a46da10bd062f42abf5ecd382dc35">tr_firewood_source</a> );</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_ade82e480520c05f5a4e8917df19cef8c"><div class="ttname"><a href="classmap.html#ade82e480520c05f5a4e8917df19cef8c">map::trap_set</a></div><div class="ttdeci">void trap_set(const tripoint &amp;p, const trap_id &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06297">map.cpp:6297</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_abd2a46da10bd062f42abf5ecd382dc35"><div class="ttname"><a href="construction_8cpp.html#abd2a46da10bd062f42abf5ecd382dc35">tr_firewood_source</a></div><div class="ttdeci">static const trap_str_id tr_firewood_source(&quot;tr_firewood_source&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="construction_8cpp.html#abd2a46da10bd062f42abf5ecd382dc35">tr_firewood_source</a>, and <a class="el" href="map_8cpp_source.html#l06297">map::trap_set()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a8f0a2e7848428545de68932f6724d2ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f0a2e7848428545de68932f6724d2ec">&#9670;&nbsp;</a></span>done_mark_practice_target()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_mark_practice_target </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01790">1790</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;{</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#ade82e480520c05f5a4e8917df19cef8c">trap_set</a>( p, <a class="code" href="construction_8cpp.html#a26f773999c96865544c00b5496637d56">tr_practice_target</a> );</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;}</div>
<div class="ttc" id="aconstruction_8cpp_html_a26f773999c96865544c00b5496637d56"><div class="ttname"><a href="construction_8cpp.html#a26f773999c96865544c00b5496637d56">tr_practice_target</a></div><div class="ttdeci">static const trap_str_id tr_practice_target(&quot;tr_practice_target&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="construction_8cpp.html#a26f773999c96865544c00b5496637d56">tr_practice_target</a>, and <a class="el" href="map_8cpp_source.html#l06297">map::trap_set()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a95412aa089292f871576f1a8103a0c59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95412aa089292f871576f1a8103a0c59">&#9670;&nbsp;</a></span>done_mine_downstair()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_mine_downstair </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>who</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01712">1712</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;{</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <a class="code" href="namespaceconstruct.html#a8806d39e0eb546694fd58164ccadaa37">done_digormine_stair</a>( p, <span class="keyword">false</span>, who );</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="construction_8cpp_source.html#l01629">done_digormine_stair()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="aef5ee9218591fded0adb8d98e02375f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef5ee9218591fded0adb8d98e02375f1">&#9670;&nbsp;</a></span>done_mine_upstair()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_mine_upstair </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>player_character</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01717">1717</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;{</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_bub_ms</a> p_above = p + <a class="code" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a>;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160; </div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p_above ) == <a class="code" href="construction_8cpp.html#ada6977f9f2935b5c864914ed26ba70be">ter_t_lava</a> ) {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        here.<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( p, <a class="code" href="construction_8cpp.html#aac746a69fccdce55c55a9fe973501393">ter_t_rock_floor</a> ); <span class="comment">// You dug a bit before discovering the problem</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The rock overhead feels hot.  You decide *not* to mine magma.&quot;</span> ) );</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        <a class="code" href="construction_8cpp.html#a2ac36f0e677f95bae899a655255334cd">unroll_digging</a>( 12 );</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    }</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160; </div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#af0e872a5d0a7bf1e9745aeb18d3b5e44">has_flag_ter</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a7de97a0bb289f6e3177be7916d329c93">ter_furn_flag::TFLAG_SHALLOW_WATER</a>, p_above.<a class="code" href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">raw</a>() ) ||</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        here.<a class="code" href="classmap.html#af0e872a5d0a7bf1e9745aeb18d3b5e44">has_flag_ter</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac6e19e1c41724be67b2bff2870539ca1">ter_furn_flag::TFLAG_DEEP_WATER</a>, p_above.<a class="code" href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">raw</a>() ) ) {</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        here.<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( p, <a class="code" href="construction_8cpp.html#aac746a69fccdce55c55a9fe973501393">ter_t_rock_floor</a> ); <span class="comment">// You dug a bit before discovering the problem</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The rock above is rather damp.  You decide *not* to mine water.&quot;</span> ) );</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <a class="code" href="construction_8cpp.html#a2ac36f0e677f95bae899a655255334cd">unroll_digging</a>( 12 );</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    }</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160; </div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="keywordtype">bool</span> dig_muts = player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="construction_8cpp.html#a4b2257876364d774f1eb52ef6e585bbb">trait_PAINRESIST_TROGLO</a> ) ||</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;                    player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="construction_8cpp.html#adc9440401f2c588a525027a5d636869d">trait_STOCKY_TROGLO</a> );</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160; </div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordtype">int</span> no_mut_penalty = dig_muts ? 15 : 0;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    player_character.<a class="code" href="classCharacter.html#a04fc1337bdd5b0865a7c47e36b034b7e">mod_stored_kcal</a>( -174 - 9 * no_mut_penalty );</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    player_character.<a class="code" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( 20 + no_mut_penalty );</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    player_character.<a class="code" href="classCharacter.html#ae7eecab0795b77cbd6fabebc0e140486">mod_sleepiness</a>( 25 + no_mut_penalty );</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160; </div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You drill out a passage, heading for the surface.&quot;</span> ) );</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    here.<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( p, <a class="code" href="construction_8cpp.html#acc943f5480f6cfee0247de4fc393a47a">ter_t_stairs_up</a> ); <span class="comment">// There&#39;s the bottom half</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    here.<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( p_above, <a class="code" href="construction_8cpp.html#a0e8e11fa2f1915fae23254153f30276e">ter_t_stairs_down</a> ); <span class="comment">// and there&#39;s the top half.</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_af0e872a5d0a7bf1e9745aeb18d3b5e44"><div class="ttname"><a href="classmap.html#af0e872a5d0a7bf1e9745aeb18d3b5e44">map::has_flag_ter</a></div><div class="ttdeci">bool has_flag_ter(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03107">map.cpp:3107</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_aac746a69fccdce55c55a9fe973501393"><div class="ttname"><a href="construction_8cpp.html#aac746a69fccdce55c55a9fe973501393">ter_t_rock_floor</a></div><div class="ttdeci">static const ter_str_id ter_t_rock_floor(&quot;t_rock_floor&quot;)</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a7de97a0bb289f6e3177be7916d329c93"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a7de97a0bb289f6e3177be7916d329c93">ter_furn_flag::TFLAG_SHALLOW_WATER</a></div><div class="ttdeci">@ TFLAG_SHALLOW_WATER</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054ac6e19e1c41724be67b2bff2870539ca1"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac6e19e1c41724be67b2bff2870539ca1">ter_furn_flag::TFLAG_DEEP_WATER</a></div><div class="ttdeci">@ TFLAG_DEEP_WATER</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l03107">map::has_flag_ter()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="enums_8h_source.html#l00351">m_warning</a>, <a class="el" href="character_8cpp_source.html#l04544">Character::mod_sleepiness()</a>, <a class="el" href="character_8cpp_source.html#l04426">Character::mod_stored_kcal()</a>, <a class="el" href="character_8cpp_source.html#l04528">Character::mod_thirst()</a>, <a class="el" href="coordinates_8h_source.html#l00157">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::raw()</a>, <a class="el" href="map_8cpp_source.html#l01922">map::ter()</a>, <a class="el" href="map_8cpp_source.html#l02226">map::ter_set()</a>, <a class="el" href="construction_8cpp.html#ada6977f9f2935b5c864914ed26ba70be">ter_t_lava</a>, <a class="el" href="construction_8cpp.html#aac746a69fccdce55c55a9fe973501393">ter_t_rock_floor</a>, <a class="el" href="construction_8cpp.html#a0e8e11fa2f1915fae23254153f30276e">ter_t_stairs_down</a>, <a class="el" href="construction_8cpp.html#acc943f5480f6cfee0247de4fc393a47a">ter_t_stairs_up</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac6e19e1c41724be67b2bff2870539ca1">TFLAG_DEEP_WATER</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a7de97a0bb289f6e3177be7916d329c93">TFLAG_SHALLOW_WATER</a>, <a class="el" href="construction_8cpp.html#a4b2257876364d774f1eb52ef6e585bbb">trait_PAINRESIST_TROGLO</a>, <a class="el" href="construction_8cpp.html#adc9440401f2c588a525027a5d636869d">trait_STOCKY_TROGLO</a>, <a class="el" href="point_8h_source.html#l00271">tripoint_above</a>, and <a class="el" href="construction_8cpp_source.html#l01618">unroll_digging()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a6553780f412f6255614ddf7a4dfed0ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6553780f412f6255614ddf7a4dfed0ab">&#9670;&nbsp;</a></span>done_nothing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void construct::done_nothing </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l00181">181</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;{}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a1904f27c90e5c83d0272612bf3e543eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1904f27c90e5c83d0272612bf3e543eb">&#9670;&nbsp;</a></span>done_ramp_high()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_ramp_high </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01801">1801</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;{</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_bub_ms</a> top = p + <a class="code" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a>;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( top, <a class="code" href="construction_8cpp.html#aed16a31a9ee737bb700e5a3275000b76">ter_t_ramp_down_high</a> );</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;}</div>
<div class="ttc" id="aconstruction_8cpp_html_aed16a31a9ee737bb700e5a3275000b76"><div class="ttname"><a href="construction_8cpp.html#aed16a31a9ee737bb700e5a3275000b76">ter_t_ramp_down_high</a></div><div class="ttdeci">static const ter_str_id ter_t_ramp_down_high(&quot;t_ramp_down_high&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l02226">map::ter_set()</a>, <a class="el" href="construction_8cpp.html#aed16a31a9ee737bb700e5a3275000b76">ter_t_ramp_down_high</a>, and <a class="el" href="point_8h_source.html#l00271">tripoint_above</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a79bde7d4b79d3409d95ffe826d06ca3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79bde7d4b79d3409d95ffe826d06ca3d">&#9670;&nbsp;</a></span>done_ramp_low()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_ramp_low </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01795">1795</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;{</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_bub_ms</a> top = p + <a class="code" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a>;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( top, <a class="code" href="construction_8cpp.html#a9a33b6646c2081ecb3fce4ee3f62756c">ter_t_ramp_down_low</a> );</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;}</div>
<div class="ttc" id="aconstruction_8cpp_html_a9a33b6646c2081ecb3fce4ee3f62756c"><div class="ttname"><a href="construction_8cpp.html#a9a33b6646c2081ecb3fce4ee3f62756c">ter_t_ramp_down_low</a></div><div class="ttdeci">static const ter_str_id ter_t_ramp_down_low(&quot;t_ramp_down_low&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l02226">map::ter_set()</a>, <a class="el" href="construction_8cpp.html#a9a33b6646c2081ecb3fce4ee3f62756c">ter_t_ramp_down_low</a>, and <a class="el" href="point_8h_source.html#l00271">tripoint_above</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a6c726552bf43ff9099d428ab9a37ca36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c726552bf43ff9099d428ab9a37ca36">&#9670;&nbsp;</a></span>done_trunk_plank()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_trunk_plank </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01397">1397</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;{</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="keywordtype">int</span> num_logs = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 2, 3 );</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; num_logs; ++i ) {</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        <a class="code" href="namespaceiuse.html#a33c918bef9271c1ce52f049bffb28596">iuse::cut_log_into_planks</a>( player_character );</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    }</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;}</div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a33c918bef9271c1ce52f049bffb28596"><div class="ttname"><a href="namespaceiuse.html#a33c918bef9271c1ce52f049bffb28596">iuse::cut_log_into_planks</a></div><div class="ttdeci">void cut_log_into_planks(Character &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04479">iuse.cpp:4479</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iuse_8cpp_source.html#l04479">iuse::cut_log_into_planks()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, and <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a1defe457098e25238dc8a65b5143a43a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1defe457098e25238dc8a65b5143a43a">&#9670;&nbsp;</a></span>done_vehicle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_vehicle </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01469">1469</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;{</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    std::string <a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> = <a class="code" href="classstring__input__popup.html">string_input_popup</a>()</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                       .<a class="code" href="classstring__input__popup.html#aa96aa0184abb3c9740c2a48f098eeb8b">title</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Enter new vehicle name:&quot;</span> ) )</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                       .<a class="code" href="classstring__input__popup.html#ab3273f9bfdeac38fff067187b1d3715c">width</a>( 20 )</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                       .<a class="code" href="classstring__input__popup.html#acd7eba6664e8c473cc2b754f5d8d2cde">query_string</a>();</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>.empty() ) {</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        <a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Car&quot;</span> );</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    }</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160; </div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <a class="code" href="structpartial__con.html">partial_con</a> *pc = here.<a class="code" href="classmap.html#a4dfba170dba1792376456ac2e6a6fd20">partial_con_at</a>( p );</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <span class="keywordflow">if</span>( !pc ) {</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;constructing failed: can&#39;t find partial construction&quot;</span> );</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    }</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160; </div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="keyword">const</span> std::list&lt;item&gt; components = pc-&gt;<a class="code" href="structpartial__con.html#a4660d0ab4eb556e12889b93c20742923">components</a>;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    here.<a class="code" href="classmap.html#add8cb29014b062c35adc1dbf73781def">partial_con_remove</a>( p );</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160; </div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <span class="keywordflow">if</span>( components.size() != 1 ) {</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;constructing failed: components size expected 1 actual %d&quot;</span>, components.size() );</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="comment">// TODO: fix point types</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <a class="code" href="classvehicle.html">vehicle</a> *veh = here.<a class="code" href="classmap.html#a1403e3957323f266e1323b02717641e2">add_vehicle</a>( <a class="code" href="construction_8cpp.html#abffcc44c816e7db2f2fa293c0f8bc077">vehicle_prototype_none</a>, p.<a class="code" href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">raw</a>(), 270_degrees, 0, 0 );</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160; </div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <span class="keywordflow">if</span>( !veh ) {</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;constructing failed: add_vehicle returned null&quot;</span> );</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    }</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;base = components.front();</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160; </div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    veh-&gt;<a class="code" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> = <a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> partnum = veh-&gt;<a class="code" href="classvehicle.html#a030263e1db60c034caa9e6f24199cd33">install_part</a>( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code" href="construction_8cpp.html#aaad62e57a75049f14dd56fea9dba9365">vpart_from_item</a>( base.<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>() ), <a class="code" href="classitem.html">item</a>( base ) );</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    veh-&gt;<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( partnum ).<a class="code" href="structvehicle__part.html#a80245eb0489bb37a9f3ed666a5589182">set_flag</a>( <a class="code" href="vehicle_8h.html#acba70ff9f8381a17fbca8057d0def3cea0f7280d3d9096dc5b2bcfd6b549e74c9">vp_flag::unsalvageable_flag</a> );</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160; </div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="comment">// Update the vehicle cache immediately,</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="comment">// or the vehicle will be invisible for the first couple of turns.</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    here.<a class="code" href="classmap.html#aa51d3d7bfa9acfbc62e9dbaac9450fc1">add_vehicle_to_cache</a>( veh );</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_a1403e3957323f266e1323b02717641e2"><div class="ttname"><a href="classmap.html#a1403e3957323f266e1323b02717641e2">map::add_vehicle</a></div><div class="ttdeci">vehicle * add_vehicle(const vproto_id &amp;type, const tripoint &amp;p, const units::angle &amp;dir, int init_veh_fuel=-1, int init_veh_status=-1, bool merge_wrecks=true)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l06713">mapgen.cpp:6713</a></div></div>
<div class="ttc" id="aclassmap_html_aa51d3d7bfa9acfbc62e9dbaac9450fc1"><div class="ttname"><a href="classmap.html#aa51d3d7bfa9acfbc62e9dbaac9450fc1">map::add_vehicle_to_cache</a></div><div class="ttdeci">void add_vehicle_to_cache(vehicle *)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00459">map.cpp:459</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html"><div class="ttname"><a href="classstring__input__popup.html">string_input_popup</a></div><div class="ttdoc">Shows a window querying the user for input.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00048">string_input_popup.h:49</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_aa96aa0184abb3c9740c2a48f098eeb8b"><div class="ttname"><a href="classstring__input__popup.html#aa96aa0184abb3c9740c2a48f098eeb8b">string_input_popup::title</a></div><div class="ttdeci">string_input_popup &amp; title(const std::string &amp;value)</div><div class="ttdoc">The title: short string before the actual input field.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00113">string_input_popup.h:113</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_ab3273f9bfdeac38fff067187b1d3715c"><div class="ttname"><a href="classstring__input__popup.html#ab3273f9bfdeac38fff067187b1d3715c">string_input_popup::width</a></div><div class="ttdeci">string_input_popup &amp; width(int value)</div><div class="ttdoc">Width (in console cells) of the input field itself.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00151">string_input_popup.h:151</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_acd7eba6664e8c473cc2b754f5d8d2cde"><div class="ttname"><a href="classstring__input__popup.html#acd7eba6664e8c473cc2b754f5d8d2cde">string_input_popup::query_string</a></div><div class="ttdeci">const std::string &amp; query_string(bool loop=true, bool draw_only=false)</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8cpp_source.html#l00371">string_input_popup.cpp:371</a></div></div>
<div class="ttc" id="aclassvehicle_html_a030263e1db60c034caa9e6f24199cd33"><div class="ttname"><a href="classvehicle.html#a030263e1db60c034caa9e6f24199cd33">vehicle::install_part</a></div><div class="ttdeci">int install_part(const point &amp;dp, const vpart_id &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l01450">vehicle.cpp:1450</a></div></div>
<div class="ttc" id="aclassvehicle_html_a441fa41f264fb7bc45df81d71244a0d1"><div class="ttname"><a href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">vehicle::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02201">vehicle.h:2201</a></div></div>
<div class="ttc" id="aclassvehicle_html_acdb2ebf673a32f657ac9e29b842ee7f5"><div class="ttname"><a href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">vehicle::part</a></div><div class="ttdeci">vehicle_part &amp; part(int part_num)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l08098">vehicle.cpp:8098</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_aaad62e57a75049f14dd56fea9dba9365"><div class="ttname"><a href="construction_8cpp.html#aaad62e57a75049f14dd56fea9dba9365">vpart_from_item</a></div><div class="ttdeci">static vpart_id vpart_from_item(const itype_id &amp;item_id)</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cpp_source.html#l01450">construction.cpp:1450</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_abffcc44c816e7db2f2fa293c0f8bc077"><div class="ttname"><a href="construction_8cpp.html#abffcc44c816e7db2f2fa293c0f8bc077">vehicle_prototype_none</a></div><div class="ttdeci">static const vproto_id vehicle_prototype_none(&quot;none&quot;)</div></div>
<div class="ttc" id="anamespaceom__direction_html_a8ba958ccfad28c0a5572a04dd1428f32"><div class="ttname"><a href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">om_direction::name</a></div><div class="ttdeci">std::string name(type dir)</div><div class="ttdoc">Get Human readable name of a direction.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l06412">overmap.cpp:6412</a></div></div>
<div class="ttc" id="apoint_8h_html_a0ee2195dcb488ae55fbf4316f5011172"><div class="ttname"><a href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></div><div class="ttdeci">constexpr point point_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00251">point.h:251</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a80245eb0489bb37a9f3ed666a5589182"><div class="ttname"><a href="structvehicle__part.html#a80245eb0489bb37a9f3ed666a5589182">vehicle_part::set_flag</a></div><div class="ttdeci">void set_flag(const vp_flag flag) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00280">vehicle.h:280</a></div></div>
<div class="ttc" id="avehicle_8h_html_acba70ff9f8381a17fbca8057d0def3cea0f7280d3d9096dc5b2bcfd6b549e74c9"><div class="ttname"><a href="vehicle_8h.html#acba70ff9f8381a17fbca8057d0def3cea0f7280d3d9096dc5b2bcfd6b549e74c9">vp_flag::unsalvageable_flag</a></div><div class="ttdeci">@ unsalvageable_flag</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="mapgen_8cpp_source.html#l06713">map::add_vehicle()</a>, <a class="el" href="map_8cpp_source.html#l00459">map::add_vehicle_to_cache()</a>, <a class="el" href="construction_8h_source.html#l00034">partial_con::components</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="vehicle_8cpp_source.html#l01450">vehicle::install_part()</a>, <a class="el" href="overmap_8cpp_source.html#l06412">om_direction::name()</a>, <a class="el" href="vehicle_8h_source.html#l02201">vehicle::name</a>, <a class="el" href="vehicle_8cpp_source.html#l08098">vehicle::part()</a>, <a class="el" href="map_8cpp_source.html#l06244">map::partial_con_at()</a>, <a class="el" href="map_8cpp_source.html#l06262">map::partial_con_remove()</a>, <a class="el" href="point_8h_source.html#l00251">point_zero</a>, <a class="el" href="string__input__popup_8cpp_source.html#l00371">string_input_popup::query_string()</a>, <a class="el" href="coordinates_8h_source.html#l00157">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::raw()</a>, <a class="el" href="vehicle_8h_source.html#l00280">vehicle_part::set_flag()</a>, <a class="el" href="string__input__popup_8h_source.html#l00113">string_input_popup::title()</a>, <a class="el" href="item_8cpp_source.html#l11850">item::typeId()</a>, <a class="el" href="vehicle_8h.html#acba70ff9f8381a17fbca8057d0def3cea0f7280d3d9096dc5b2bcfd6b549e74c9">unsalvageable_flag</a>, <a class="el" href="construction_8cpp.html#abffcc44c816e7db2f2fa293c0f8bc077">vehicle_prototype_none</a>, <a class="el" href="construction_8cpp_source.html#l01450">vpart_from_item()</a>, and <a class="el" href="string__input__popup_8h_source.html#l00151">string_input_popup::width()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="ad24679854f7c6c7b64650cbb99dea630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad24679854f7c6c7b64650cbb99dea630">&#9670;&nbsp;</a></span>done_window_curtains()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_window_curtains </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>who</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01756">1756</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;{</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> avatar_pos = who.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>();</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="comment">// copied from iexamine::curtains</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    here.<a class="code" href="classmap.html#a4417ea41f79e4b624612ae64ebac1d07">spawn_item</a>( avatar_pos, <a class="code" href="construction_8cpp.html#a9579eda537b28a33a9d7027f67524ee3">itype_nail</a>, 1, 4 );</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    here.<a class="code" href="classmap.html#a4417ea41f79e4b624612ae64ebac1d07">spawn_item</a>( avatar_pos, <a class="code" href="construction_8cpp.html#a8177cdbd5018d9944687a9ec28eafcc1">itype_sheet</a>, 2 );</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    here.<a class="code" href="classmap.html#a4417ea41f79e4b624612ae64ebac1d07">spawn_item</a>( avatar_pos, <a class="code" href="construction_8cpp.html#a507edb748d0809febec3f0ccb457c760">itype_stick</a> );</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    here.<a class="code" href="classmap.html#a4417ea41f79e4b624612ae64ebac1d07">spawn_item</a>( avatar_pos, <a class="code" href="construction_8cpp.html#a02e82e402a863e0dc999947e5d4ca47c">itype_string_36</a> );</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;After boarding up the window the curtains and curtain rod are left.&quot;</span> ) );</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a1a65722d07102550f16d17ebd79e2743"><div class="ttname"><a href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">Creature::pos</a></div><div class="ttdeci">tripoint pos() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00178">creature.cpp:178</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_a02e82e402a863e0dc999947e5d4ca47c"><div class="ttname"><a href="construction_8cpp.html#a02e82e402a863e0dc999947e5d4ca47c">itype_string_36</a></div><div class="ttdeci">static const itype_id itype_string_36(&quot;string_36&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a507edb748d0809febec3f0ccb457c760"><div class="ttname"><a href="construction_8cpp.html#a507edb748d0809febec3f0ccb457c760">itype_stick</a></div><div class="ttdeci">static const itype_id itype_stick(&quot;stick&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a8177cdbd5018d9944687a9ec28eafcc1"><div class="ttname"><a href="construction_8cpp.html#a8177cdbd5018d9944687a9ec28eafcc1">itype_sheet</a></div><div class="ttdeci">static const itype_id itype_sheet(&quot;sheet&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a9579eda537b28a33a9d7027f67524ee3"><div class="ttname"><a href="construction_8cpp.html#a9579eda537b28a33a9d7027f67524ee3">itype_nail</a></div><div class="ttdeci">static const itype_id itype_nail(&quot;nail&quot;)</div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="construction_8cpp.html#a9579eda537b28a33a9d7027f67524ee3">itype_nail</a>, <a class="el" href="construction_8cpp.html#a8177cdbd5018d9944687a9ec28eafcc1">itype_sheet</a>, <a class="el" href="construction_8cpp.html#a507edb748d0809febec3f0ccb457c760">itype_stick</a>, <a class="el" href="construction_8cpp.html#a02e82e402a863e0dc999947e5d4ca47c">itype_string_36</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, and <a class="el" href="map_8cpp_source.html#l05100">map::spawn_item()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a49fd277e35bb85ae319609b57e72dfbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49fd277e35bb85ae319609b57e72dfbb">&#9670;&nbsp;</a></span>done_wiring()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_wiring </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01512">1512</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;{</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#add8cb29014b062c35adc1dbf73781def">partial_con_remove</a>( p );</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160; </div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <a class="code" href="veh__appliance_8cpp.html#ae23e3280d6f46be475e49a680a4fce0b">place_appliance</a>( p.<a class="code" href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">raw</a>(), <a class="code" href="construction_8cpp.html#aaad62e57a75049f14dd56fea9dba9365">vpart_from_item</a>( <a class="code" href="construction_8cpp.html#a7c1225792ccc7d81ad2d63958e50474c">itype_wall_wiring</a> ) );</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;}</div>
<div class="ttc" id="aconstruction_8cpp_html_a7c1225792ccc7d81ad2d63958e50474c"><div class="ttname"><a href="construction_8cpp.html#a7c1225792ccc7d81ad2d63958e50474c">itype_wall_wiring</a></div><div class="ttdeci">static const itype_id itype_wall_wiring(&quot;wall_wiring&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="construction_8cpp.html#a7c1225792ccc7d81ad2d63958e50474c">itype_wall_wiring</a>, <a class="el" href="map_8cpp_source.html#l06262">map::partial_con_remove()</a>, <a class="el" href="veh__appliance_8cpp_source.html#l00056">place_appliance()</a>, <a class="el" href="coordinates_8h_source.html#l00157">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::raw()</a>, and <a class="el" href="construction_8cpp_source.html#l01450">vpart_from_item()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="adc526f1583f2bbc0ddc6712597be6384"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc526f1583f2bbc0ddc6712597be6384">&#9670;&nbsp;</a></span>done_wood_stairs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_wood_stairs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01750">1750</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;{</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_bub_ms</a> top = p + <a class="code" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a>;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( top, <a class="code" href="construction_8cpp.html#a6097a1f21658b875a32c019e367470c3">ter_t_wood_stairs_down</a> );</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;}</div>
<div class="ttc" id="aconstruction_8cpp_html_a6097a1f21658b875a32c019e367470c3"><div class="ttname"><a href="construction_8cpp.html#a6097a1f21658b875a32c019e367470c3">ter_t_wood_stairs_down</a></div><div class="ttdeci">static const ter_str_id ter_t_wood_stairs_down(&quot;t_wood_stairs_down&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l02226">map::ter_set()</a>, <a class="el" href="construction_8cpp.html#a6097a1f21658b875a32c019e367470c3">ter_t_wood_stairs_down</a>, and <a class="el" href="point_8h_source.html#l00271">tripoint_above</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="aca379a01d73d1a4d9aaa84956423caf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca379a01d73d1a4d9aaa84956423caf4">&#9670;&nbsp;</a></span>failure_deconstruct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::failure_deconstruct </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01887">1887</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;{</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You cannot deconstruct this!&quot;</span> ) );</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, and <a class="el" href="enums_8h_source.html#l00352">m_info</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="a6f4c302ec792520e29801372bf9ea1d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f4c302ec792520e29801372bf9ea1d6">&#9670;&nbsp;</a></span>failure_standard()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::failure_standard </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01882">1882</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;{</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You cannot build there!&quot;</span> ) );</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, and <a class="el" href="enums_8h_source.html#l00352">m_info</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
<a id="ac2551dd2a518214f1420c09872dd3311"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2551dd2a518214f1420c09872dd3311">&#9670;&nbsp;</a></span>remove_above()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct::remove_above </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01818">1818</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;{</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    here.<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( p + <a class="code" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a>, <a class="code" href="construction_8cpp.html#a890df1b49c21f9d28da3859d98e147a3">ter_t_open_air</a> );</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;}</div>
<div class="ttc" id="aconstruction_8cpp_html_a890df1b49c21f9d28da3859d98e147a3"><div class="ttname"><a href="construction_8cpp.html#a890df1b49c21f9d28da3859d98e147a3">ter_t_open_air</a></div><div class="ttdeci">static const ter_str_id ter_t_open_air(&quot;t_open_air&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l02226">map::ter_set()</a>, <a class="el" href="construction_8cpp.html#a890df1b49c21f9d28da3859d98e147a3">ter_t_open_air</a>, and <a class="el" href="point_8h_source.html#l00271">tripoint_above</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01909">load_construction()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:47 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
