<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: monster Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classmonster-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">monster Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="monster_8h_source.html">monster.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for monster:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classmonster.png" usemap="#monster_map" alt=""/>
  <map id="monster_map" name="monster_map">
<area href="classCreature.html" alt="Creature" shape="rect" coords="0,56,62,80"/>
<area href="classviewer.html" alt="viewer" shape="rect" coords="0,0,62,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa06fe45ef2076f6f62b5b84defddcd25"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa06fe45ef2076f6f62b5b84defddcd25">monster</a> ()</td></tr>
<tr class="separator:aa06fe45ef2076f6f62b5b84defddcd25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d85b1a1ff0d69ada8bdf04d02535044"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a9d85b1a1ff0d69ada8bdf04d02535044">monster</a> (const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a> &amp;id)</td></tr>
<tr class="separator:a9d85b1a1ff0d69ada8bdf04d02535044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a986ff9835bbe69a0b2401e91d01a79c6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a986ff9835bbe69a0b2401e91d01a79c6">monster</a> (const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a> &amp;id, const <a class="el" href="structtripoint.html">tripoint</a> &amp;<a class="el" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>)</td></tr>
<tr class="separator:a986ff9835bbe69a0b2401e91d01a79c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff2a83519e921dd43520ea850bf79db7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aff2a83519e921dd43520ea850bf79db7">monster</a> (const <a class="el" href="classmonster.html">monster</a> &amp;)</td></tr>
<tr class="separator:aff2a83519e921dd43520ea850bf79db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae677d6c6e6133866b610d4cc02da6747"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ae677d6c6e6133866b610d4cc02da6747">monster</a> (<a class="el" href="classmonster.html">monster</a> &amp;&amp;) noexcept(<a class="el" href="compatibility_8h.html#a7d2d6538db629ada5554da88c83bcdd1">map_is_noexcept</a>)</td></tr>
<tr class="separator:ae677d6c6e6133866b610d4cc02da6747"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8cc695d34404070671ee2bc28ef8df4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#af8cc695d34404070671ee2bc28ef8df4">~monster</a> () override</td></tr>
<tr class="separator:af8cc695d34404070671ee2bc28ef8df4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a376cc4abcca57ae2e858d360f7d9926a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmonster.html">monster</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a376cc4abcca57ae2e858d360f7d9926a">operator=</a> (const <a class="el" href="classmonster.html">monster</a> &amp;)</td></tr>
<tr class="separator:a376cc4abcca57ae2e858d360f7d9926a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a130f757910556df5bad83d01692a6fcf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmonster.html">monster</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a130f757910556df5bad83d01692a6fcf">operator=</a> (<a class="el" href="classmonster.html">monster</a> &amp;&amp;) noexcept(<a class="el" href="compatibility_8h.html#ae999cb9719476b46d7e6a47be968d0cb">string_is_noexcept</a>)</td></tr>
<tr class="separator:a130f757910556df5bad83d01692a6fcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4458caf65b6e8f630f601597748adf85"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a4458caf65b6e8f630f601597748adf85">is_monster</a> () const override</td></tr>
<tr class="separator:a4458caf65b6e8f630f601597748adf85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02fa605494e946663ddd216166828f2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmonster.html">monster</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a02fa605494e946663ddd216166828f2a">as_monster</a> () override</td></tr>
<tr class="separator:a02fa605494e946663ddd216166828f2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafb6e25f59338f89b167bdf34e3cccc2"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classmonster.html">monster</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aafb6e25f59338f89b167bdf34e3cccc2">as_monster</a> () const override</td></tr>
<tr class="separator:aafb6e25f59338f89b167bdf34e3cccc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59dc4bfb91a20a90617455986a9d4567"><td class="memItemLeft" align="right" valign="top"><a class="el" href="npc_8h.html#a3472a8986ea9d6078ab02871b7791add">mfaction_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a59dc4bfb91a20a90617455986a9d4567">get_monster_faction</a> () const override</td></tr>
<tr class="separator:a59dc4bfb91a20a90617455986a9d4567"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39d78be1e47deaf970439c3b9504e5d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a39d78be1e47deaf970439c3b9504e5d9">poly</a> (const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a> &amp;id)</td></tr>
<tr class="separator:a39d78be1e47deaf970439c3b9504e5d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a6be7cfbce50ad161774221638f356e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a5a6be7cfbce50ad161774221638f356e">can_upgrade</a> () const</td></tr>
<tr class="separator:a5a6be7cfbce50ad161774221638f356e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0efe8a7c1afcfe788aa886e49c27a3f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a0efe8a7c1afcfe788aa886e49c27a3f5">hasten_upgrade</a> ()</td></tr>
<tr class="separator:a0efe8a7c1afcfe788aa886e49c27a3f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7d28bfb064ffed8272b320e56da7623"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ae7d28bfb064ffed8272b320e56da7623">get_upgrade_time</a> () const</td></tr>
<tr class="separator:ae7d28bfb064ffed8272b320e56da7623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca57bd31eec87f957ca9854e5cfed768"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aca57bd31eec87f957ca9854e5cfed768">allow_upgrade</a> ()</td></tr>
<tr class="separator:aca57bd31eec87f957ca9854e5cfed768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63cfaab5c6126ecc3f3c3e966f4bf574"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a63cfaab5c6126ecc3f3c3e966f4bf574">try_upgrade</a> (bool pin_time)</td></tr>
<tr class="separator:a63cfaab5c6126ecc3f3c3e966f4bf574"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02e7dee3b3f096d760d7332395ba54f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a02e7dee3b3f096d760d7332395ba54f3">try_reproduce</a> ()</td></tr>
<tr class="separator:a02e7dee3b3f096d760d7332395ba54f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5419be03caffc0d80b49a9317beb00cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a5419be03caffc0d80b49a9317beb00cf">try_biosignature</a> ()</td></tr>
<tr class="separator:a5419be03caffc0d80b49a9317beb00cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae054bfde7618d0ff8c7dff70a9e3e392"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ae054bfde7618d0ff8c7dff70a9e3e392">refill_udders</a> ()</td></tr>
<tr class="separator:ae054bfde7618d0ff8c7dff70a9e3e392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e5cda6283d3a6bbf243bafe93ed8d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa6e5cda6283d3a6bbf243bafe93ed8d0">digest_food</a> ()</td></tr>
<tr class="separator:aa6e5cda6283d3a6bbf243bafe93ed8d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82664fe81ce8c11ed9bbd28ef0cfded8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a82664fe81ce8c11ed9bbd28ef0cfded8">reset_digestion</a> ()</td></tr>
<tr class="separator:a82664fe81ce8c11ed9bbd28ef0cfded8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5b4a624cd62dba138b7e882d694a3b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ac5b4a624cd62dba138b7e882d694a3b5">spawn</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p)</td></tr>
<tr class="separator:ac5b4a624cd62dba138b7e882d694a3b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a689af3aca7e498f125a76f661298c260"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a689af3aca7e498f125a76f661298c260">spawn</a> (const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;loc)</td></tr>
<tr class="separator:a689af3aca7e498f125a76f661298c260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8779e8d84e13936266d4d2863a8b476c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a8779e8d84e13936266d4d2863a8b476c">get_absorb_material</a> () const</td></tr>
<tr class="separator:a8779e8d84e13936266d4d2863a8b476c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60a43443a1d2c28f67887ea8d5500bf2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a60a43443a1d2c28f67887ea8d5500bf2">get_no_absorb_material</a> () const</td></tr>
<tr class="separator:a60a43443a1d2c28f67887ea8d5500bf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab92cac0ecb2b2062fd4f821b671f86ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2">creature_size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ab92cac0ecb2b2062fd4f821b671f86ac">get_size</a> () const override</td></tr>
<tr class="separator:ab92cac0ecb2b2062fd4f821b671f86ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac657665936ef8e009e683c2fa02f4ce3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ac657665936ef8e009e683c2fa02f4ce3">get_weight</a> () const override</td></tr>
<tr class="separator:ac657665936ef8e009e683c2fa02f4ce3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c49beaccb216bf74bec21f9b7330076"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a0c49beaccb216bf74bec21f9b7330076">weight_capacity</a> () const override</td></tr>
<tr class="separator:a0c49beaccb216bf74bec21f9b7330076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a304aeb741c4ac28d879d3951dee4cf30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a304aeb741c4ac28d879d3951dee4cf30">get_volume</a> () const</td></tr>
<tr class="separator:a304aeb741c4ac28d879d3951dee4cf30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d0e466b9d25796cd99402ddd5d3ce20"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a2d0e466b9d25796cd99402ddd5d3ce20">get_hp</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;) const override</td></tr>
<tr class="separator:a2d0e466b9d25796cd99402ddd5d3ce20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2801a2f23fcaf2199b904c8bbf9fcab0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a2801a2f23fcaf2199b904c8bbf9fcab0">get_hp</a> () const override</td></tr>
<tr class="separator:a2801a2f23fcaf2199b904c8bbf9fcab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a551f4a380282f8ec082c74f410c397de"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a551f4a380282f8ec082c74f410c397de">get_hp_max</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;) const override</td></tr>
<tr class="separator:a551f4a380282f8ec082c74f410c397de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ca0faca8bfdf51f301903ab4ed56467"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7ca0faca8bfdf51f301903ab4ed56467">get_hp_max</a> () const override</td></tr>
<tr class="separator:a7ca0faca8bfdf51f301903ab4ed56467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed44761b8e8ac00ee8ffef0347265e4c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aed44761b8e8ac00ee8ffef0347265e4c">hp_percentage</a> () const override</td></tr>
<tr class="separator:aed44761b8e8ac00ee8ffef0347265e4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b7d95395d0be970484f8539db916089"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a0b7d95395d0be970484f8539db916089">get_eff_per</a> () const override</td></tr>
<tr class="separator:a0b7d95395d0be970484f8539db916089"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada0edb1d5af1422cfffd94fb3811919a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ada0edb1d5af1422cfffd94fb3811919a">witness_thievery</a> (<a class="el" href="classitem.html">item</a> *it) override</td></tr>
<tr class="separator:ada0edb1d5af1422cfffd94fb3811919a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5a95de73cf74896f56346a1ff02c572"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ad5a95de73cf74896f56346a1ff02c572">get_mountable_weight_ratio</a> () const</td></tr>
<tr class="separator:ad5a95de73cf74896f56346a1ff02c572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4fba0b9aea36097d8b972e05e66d914"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ad4fba0b9aea36097d8b972e05e66d914">get_name</a> () const override</td></tr>
<tr class="separator:ad4fba0b9aea36097d8b972e05e66d914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cb9d9786d11c2c0926d3482d3f51ffe"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a> (unsigned int quantity=1) const</td></tr>
<tr class="separator:a7cb9d9786d11c2c0926d3482d3f51ffe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b115a9b93d5cd2f4f53a849aac6cfa9"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a0b115a9b93d5cd2f4f53a849aac6cfa9">name_with_armor</a> () const</td></tr>
<tr class="separator:a0b115a9b93d5cd2f4f53a849aac6cfa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3444e4763b1dd53e75c5ea50fd8ba9f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#af3444e4763b1dd53e75c5ea50fd8ba9f">disp_name</a> (bool possessive=false, bool capitalize_first=false) const override</td></tr>
<tr class="separator:af3444e4763b1dd53e75c5ea50fd8ba9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace25eb1c0a0fdacbcd379f27cd40c6ff"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ace25eb1c0a0fdacbcd379f27cd40c6ff">skin_name</a> () const override</td></tr>
<tr class="separator:ace25eb1c0a0fdacbcd379f27cd40c6ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8a1c3e7751cf9cc06c2293b2dbc1021"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ad8a1c3e7751cf9cc06c2293b2dbc1021">get_HP_Bar</a> (<a class="el" href="classnc__color.html">nc_color</a> &amp;<a class="el" href="editmap_8cpp.html#a87385d720a3aba24286fd8b799cc55d3">color</a>, std::string &amp;text) const</td></tr>
<tr class="separator:ad8a1c3e7751cf9cc06c2293b2dbc1021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae808866ea52bc8b079ee607547acfb5f"><td class="memItemLeft" align="right" valign="top">std::pair&lt; std::string, <a class="el" href="classnc__color.html">nc_color</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ae808866ea52bc8b079ee607547acfb5f">get_attitude</a> () const</td></tr>
<tr class="separator:ae808866ea52bc8b079ee607547acfb5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8214716bae5ea3955cc6937c12a7eb81"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a8214716bae5ea3955cc6937c12a7eb81">print_info</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, int vStart, int vLines, int column) const override</td></tr>
<tr class="memdesc:a8214716bae5ea3955cc6937c12a7eb81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write information about this creature.  <a href="classmonster.html#a8214716bae5ea3955cc6937c12a7eb81">More...</a><br /></td></tr>
<tr class="separator:a8214716bae5ea3955cc6937c12a7eb81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bce8bde3c0ee3824c875264f30c47cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a8bce8bde3c0ee3824c875264f30c47cf">basic_symbol_color</a> () const override</td></tr>
<tr class="memdesc:a8bce8bde3c0ee3824c875264f30c47cf"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classCreature.html">Creature</a> symbol color.  <a href="classmonster.html#a8bce8bde3c0ee3824c875264f30c47cf">More...</a><br /></td></tr>
<tr class="separator:a8bce8bde3c0ee3824c875264f30c47cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd289978ae73cfeebbcc7d3e89647498"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#abd289978ae73cfeebbcc7d3e89647498">symbol_color</a> () const override</td></tr>
<tr class="memdesc:abd289978ae73cfeebbcc7d3e89647498"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classCreature.html">Creature</a> symbol background color.  <a href="classmonster.html#abd289978ae73cfeebbcc7d3e89647498">More...</a><br /></td></tr>
<tr class="separator:abd289978ae73cfeebbcc7d3e89647498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75545ec99050815b0c30d93a2152319b"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a75545ec99050815b0c30d93a2152319b">symbol</a> () const override</td></tr>
<tr class="memdesc:a75545ec99050815b0c30d93a2152319b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classCreature.html">Creature</a> symbol.  <a href="classmonster.html#a75545ec99050815b0c30d93a2152319b">More...</a><br /></td></tr>
<tr class="separator:a75545ec99050815b0c30d93a2152319b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a984dad86484381638f068d2f1a32f7c6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a984dad86484381638f068d2f1a32f7c6">is_symbol_highlighted</a> () const override</td></tr>
<tr class="separator:a984dad86484381638f068d2f1a32f7c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a404ac744f6b202d5ea3d09a3f1d7a35c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a404ac744f6b202d5ea3d09a3f1d7a35c">color_with_effects</a> () const</td></tr>
<tr class="separator:a404ac744f6b202d5ea3d09a3f1d7a35c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af51b831fad0abe852f25a0166c421d84"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#af51b831fad0abe852f25a0166c421d84">extended_description</a> () const override</td></tr>
<tr class="separator:af51b831fad0abe852f25a0166c421d84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43202b3e829143741862e0f5f1e826a7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a> (const <a class="el" href="type__id_8h.html#ab20bea1fe050a111618c76cc3e390caf">mon_flag_id</a> &amp;f) const final</td></tr>
<tr class="separator:a43202b3e829143741862e0f5f1e826a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09f92d117f8ebf997ac64b3740e92f9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ad09f92d117f8ebf997ac64b3740e92f9">has_flag</a> (<a class="el" href="type__id_8h.html#a65869bf196f1d97bcfd690e07ffbbd7d">flag_id</a> f) const</td></tr>
<tr class="separator:ad09f92d117f8ebf997ac64b3740e92f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79c1aef59cccba881fc60e52fb6d8cb9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a79c1aef59cccba881fc60e52fb6d8cb9">can_see</a> () const</td></tr>
<tr class="separator:a79c1aef59cccba881fc60e52fb6d8cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e799308a5bfe0f6c1f3d47a5c10987a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a1e799308a5bfe0f6c1f3d47a5c10987a">can_hear</a> () const</td></tr>
<tr class="separator:a1e799308a5bfe0f6c1f3d47a5c10987a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55fd0614c264b7e89a5735270ff6d2c7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a55fd0614c264b7e89a5735270ff6d2c7">can_submerge</a> () const</td></tr>
<tr class="separator:a55fd0614c264b7e89a5735270ff6d2c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac654df3156626ea7e474365b5fd0056e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ac654df3156626ea7e474365b5fd0056e">can_drown</a> () const</td></tr>
<tr class="separator:ac654df3156626ea7e474365b5fd0056e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abca4913777aa7ed67c109de4b667ed54"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#abca4913777aa7ed67c109de4b667ed54">can_climb</a> () const</td></tr>
<tr class="separator:abca4913777aa7ed67c109de4b667ed54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af705eea6e40e12d7866010955602c7b5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#af705eea6e40e12d7866010955602c7b5">digging</a> () const override</td></tr>
<tr class="separator:af705eea6e40e12d7866010955602c7b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14e16a6d2e0a675a85b8794c8f5114cf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a14e16a6d2e0a675a85b8794c8f5114cf">can_dig</a> () const</td></tr>
<tr class="separator:a14e16a6d2e0a675a85b8794c8f5114cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22e929800e08d5458140ec4dbaad53a5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a22e929800e08d5458140ec4dbaad53a5">digs</a> () const</td></tr>
<tr class="separator:a22e929800e08d5458140ec4dbaad53a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedaf54c4048d596420fae0d32bb1f586"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a> () const</td></tr>
<tr class="separator:aedaf54c4048d596420fae0d32bb1f586"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9288bd726bcf264e3626dfbb7a01e25"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ab9288bd726bcf264e3626dfbb7a01e25">climbs</a> () const</td></tr>
<tr class="separator:ab9288bd726bcf264e3626dfbb7a01e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4be04fecf05b13bc290b5b1dcc6b9137"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a4be04fecf05b13bc290b5b1dcc6b9137">swims</a> () const</td></tr>
<tr class="separator:a4be04fecf05b13bc290b5b1dcc6b9137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f83a7ee7bd8d96efc80200c5a5caf5b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a0f83a7ee7bd8d96efc80200c5a5caf5b">can_act</a> () const</td></tr>
<tr class="separator:a0f83a7ee7bd8d96efc80200c5a5caf5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3c02b36896c6f75cbce492d5c4a6150"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#af3c02b36896c6f75cbce492d5c4a6150">sight_range</a> (float light_level) const override</td></tr>
<tr class="memdesc:af3c02b36896c6f75cbce492d5c4a6150"><td class="mdescLeft">&#160;</td><td class="mdescRight">How far the creature sees under the given light.  <a href="classmonster.html#af3c02b36896c6f75cbce492d5c4a6150">More...</a><br /></td></tr>
<tr class="separator:af3c02b36896c6f75cbce492d5c4a6150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e03e18c6ea5e5adb496634b2bbaea52"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a> (const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &amp;m) const override</td></tr>
<tr class="separator:a6e03e18c6ea5e5adb496634b2bbaea52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4092c04058a74fa078c89763d11e53ee"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a4092c04058a74fa078c89763d11e53ee">made_of_any</a> (const std::set&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt; &amp;ms) const override</td></tr>
<tr class="separator:a4092c04058a74fa078c89763d11e53ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad535fc3334b4f0bdb9f788b38f26e432"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ad535fc3334b4f0bdb9f788b38f26e432">made_of</a> (<a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5">phase_id</a> p) const</td></tr>
<tr class="separator:ad535fc3334b4f0bdb9f788b38f26e432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4df190a76da148153fe489beddca352"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ad4df190a76da148153fe489beddca352">shearable</a> () const</td></tr>
<tr class="separator:ad4df190a76da148153fe489beddca352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a784f306b9fa14d685f4fa56e255652f0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a784f306b9fa14d685f4fa56e255652f0">is_pet</a> () const</td></tr>
<tr class="separator:a784f306b9fa14d685f4fa56e255652f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28fd163537c2f82c7a733d69c8c8da75"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a28fd163537c2f82c7a733d69c8c8da75">is_pet_follow</a> () const</td></tr>
<tr class="separator:a28fd163537c2f82c7a733d69c8c8da75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0f32b1f18afffaa98c73767eb059ec9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ad0f32b1f18afffaa98c73767eb059ec9">has_intelligence</a> () const</td></tr>
<tr class="separator:ad0f32b1f18afffaa98c73767eb059ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50b66bfc32f196ee2649ea311f593916"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a50b66bfc32f196ee2649ea311f593916">avoid_trap</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;<a class="el" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>, const <a class="el" href="structtrap.html">trap</a> &amp;tr) const override</td></tr>
<tr class="memdesc:a50b66bfc32f196ee2649ea311f593916"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a creature triggers a trap, returns true if they don't set it off.  <a href="classmonster.html#a50b66bfc32f196ee2649ea311f593916">More...</a><br /></td></tr>
<tr class="separator:a50b66bfc32f196ee2649ea311f593916"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af313a62c8ecf3df3919cace7627c7079"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#af313a62c8ecf3df3919cace7627c7079">serialize</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;json) const</td></tr>
<tr class="separator:af313a62c8ecf3df3919cace7627c7079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4417ce9e2648a4667f0d4e358caf4e9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a4417ce9e2648a4667f0d4e358caf4e9b">deserialize</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;data)</td></tr>
<tr class="separator:a4417ce9e2648a4667f0d4e358caf4e9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c6ac316e3184b7c42d2319ae6432aa6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7c6ac316e3184b7c42d2319ae6432aa6">deserialize</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;data, const <a class="el" href="coordinates_8h.html#ae72b84003f239e5e878a036da3758331">tripoint_abs_sm</a> &amp;submap_loc)</td></tr>
<tr class="separator:a7c6ac316e3184b7c42d2319ae6432aa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace222aa389f6fa2aa23596b9b0c2ce83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ace222aa389f6fa2aa23596b9b0c2ce83">shift</a> (const <a class="el" href="structpoint.html">point</a> &amp;sm_shift)</td></tr>
<tr class="separator:ace222aa389f6fa2aa23596b9b0c2ce83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59cf36dc1839ff6765216afb377b1eb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a59cf36dc1839ff6765216afb377b1eb0">set_patrol_route</a> (const std::vector&lt; <a class="el" href="structpoint.html">point</a> &gt; &amp;patrol_pts_rel_ms)</td></tr>
<tr class="separator:a59cf36dc1839ff6765216afb377b1eb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a241bdfccd5d6b2200c0bfd5eca9ce8ab"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a241bdfccd5d6b2200c0bfd5eca9ce8ab">can_move_to</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p) const</td></tr>
<tr class="memdesc:a241bdfccd5d6b2200c0bfd5eca9ce8ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether we can move to/through p.  <a href="classmonster.html#a241bdfccd5d6b2200c0bfd5eca9ce8ab">More...</a><br /></td></tr>
<tr class="separator:a241bdfccd5d6b2200c0bfd5eca9ce8ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3971d4421cdc9f956213c9aef2ff9ae3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a3971d4421cdc9f956213c9aef2ff9ae3">can_reach_to</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p) const</td></tr>
<tr class="separator:a3971d4421cdc9f956213c9aef2ff9ae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d8135ba3578b7ad43d4e7b5acc9269d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7d8135ba3578b7ad43d4e7b5acc9269d">will_move_to</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p) const</td></tr>
<tr class="separator:a7d8135ba3578b7ad43d4e7b5acc9269d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0c29edb1633fd1090a0a5ff3efa3fe3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ac0c29edb1633fd1090a0a5ff3efa3fe3">know_danger_at</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p) const</td></tr>
<tr class="separator:ac0c29edb1633fd1090a0a5ff3efa3fe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04e580433cf344a504468495ba2d1ee3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a04e580433cf344a504468495ba2d1ee3">monster_move_in_vehicle</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p) const</td></tr>
<tr class="separator:a04e580433cf344a504468495ba2d1ee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73aa45942033a7c02529df8ab4b229af"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a73aa45942033a7c02529df8ab4b229af">will_reach</a> (const <a class="el" href="structpoint.html">point</a> &amp;p)</td></tr>
<tr class="separator:a73aa45942033a7c02529df8ab4b229af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa411814aee066a5e242f51efe6daec65"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa411814aee066a5e242f51efe6daec65">turns_to_reach</a> (const <a class="el" href="structpoint.html">point</a> &amp;p)</td></tr>
<tr class="separator:aa411814aee066a5e242f51efe6daec65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bfdcc078e39c06a1cf7047803610204"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a1bfdcc078e39c06a1cf7047803610204">has_dest</a> () const</td></tr>
<tr class="separator:a1bfdcc078e39c06a1cf7047803610204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1045089ac9dd6efe4ce04941f9196398"><td class="memItemLeft" align="right" valign="top"><a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a> () const</td></tr>
<tr class="separator:a1045089ac9dd6efe4ce04941f9196398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3414f60cd7b63132b8ab605f6949edf4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCreature.html">Creature</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a3414f60cd7b63132b8ab605f6949edf4">attack_target</a> ()</td></tr>
<tr class="separator:a3414f60cd7b63132b8ab605f6949edf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59dab0b0d7e791038c18d01277393686"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a59dab0b0d7e791038c18d01277393686">set_dest</a> (const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;p)</td></tr>
<tr class="separator:a59dab0b0d7e791038c18d01277393686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1488f5a618c74a508fb87b82be05ef11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a1488f5a618c74a508fb87b82be05ef11">unset_dest</a> ()</td></tr>
<tr class="separator:a1488f5a618c74a508fb87b82be05ef11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa58e9ab3e08e72fd37c757b761d2671c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa58e9ab3e08e72fd37c757b761d2671c">is_wandering</a> () const</td></tr>
<tr class="separator:aa58e9ab3e08e72fd37c757b761d2671c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a552098ce86a22d30643078a9ea191648"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a552098ce86a22d30643078a9ea191648">wander_to</a> (const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;p, int f)</td></tr>
<tr class="memdesc:a552098ce86a22d30643078a9ea191648"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set p as wander destination.  <a href="classmonster.html#a552098ce86a22d30643078a9ea191648">More...</a><br /></td></tr>
<tr class="separator:a552098ce86a22d30643078a9ea191648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac5e0ccac0ace79a458f219f8778f223"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aac5e0ccac0ace79a458f219f8778f223">rate_target</a> (<a class="el" href="classCreature.html">Creature</a> &amp;<a class="el" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>, float best, bool smart=false) const</td></tr>
<tr class="separator:aac5e0ccac0ace79a458f219f8778f223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ddaee6769a480c655bdbc09e4086040"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a9ddaee6769a480c655bdbc09e4086040">mating_angry</a> () const</td></tr>
<tr class="separator:a9ddaee6769a480c655bdbc09e4086040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7577aacda4ad32c8ce9e443cceec0a1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7577aacda4ad32c8ce9e443cceec0a1a">plan</a> ()</td></tr>
<tr class="separator:a7577aacda4ad32c8ce9e443cceec0a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49eaa3645377b9873ceefc3418c34e82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a49eaa3645377b9873ceefc3418c34e82">anger_hostile_seen</a> (const <a class="el" href="structmonster__plan.html">monster_plan</a> &amp;mon_plan)</td></tr>
<tr class="separator:a49eaa3645377b9873ceefc3418c34e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a740a0ee7c4c9baa7150fc8b0d0e5d237"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a740a0ee7c4c9baa7150fc8b0d0e5d237">anger_mating_season</a> (const <a class="el" href="structmonster__plan.html">monster_plan</a> &amp;mon_plan)</td></tr>
<tr class="separator:a740a0ee7c4c9baa7150fc8b0d0e5d237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24bcf1eb9c4beb329036ad01b5f062dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a24bcf1eb9c4beb329036ad01b5f062dd">anger_cub_threatened</a> (<a class="el" href="structmonster__plan.html">monster_plan</a> &amp;mon_plan)</td></tr>
<tr class="separator:a24bcf1eb9c4beb329036ad01b5f062dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbc2b2a9fe75356ff70d4c6ec64eb0b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#adbc2b2a9fe75356ff70d4c6ec64eb0b5">move</a> ()</td></tr>
<tr class="separator:adbc2b2a9fe75356ff70d4c6ec64eb0b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7f8b49829445e6663e273473841fc22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ab7f8b49829445e6663e273473841fc22">footsteps</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p)</td></tr>
<tr class="separator:ab7f8b49829445e6663e273473841fc22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad18dfb6454b3ce4172d476af3a042f4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ad18dfb6454b3ce4172d476af3a042f4b">shove_vehicle</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;remote_destination, const <a class="el" href="structtripoint.html">tripoint</a> &amp;nearby_destination)</td></tr>
<tr class="separator:ad18dfb6454b3ce4172d476af3a042f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee5ef0428af50c1c78fd68d8c92c98a5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aee5ef0428af50c1c78fd68d8c92c98a5">is_aquatic_danger</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;at_pos) const</td></tr>
<tr class="memdesc:aee5ef0428af50c1c78fd68d8c92c98a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the given square presents a possibility of drowning for the monster: it's deep water, it's liquid, the monster can drown, and there is no boardable vehicle part present.  <a href="classmonster.html#aee5ef0428af50c1c78fd68d8c92c98a5">More...</a><br /></td></tr>
<tr class="separator:aee5ef0428af50c1c78fd68d8c92c98a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9118d0de36f4dbb72c28cc0832bba897"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a9118d0de36f4dbb72c28cc0832bba897">die_if_drowning</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;at_pos, int chance=1)</td></tr>
<tr class="separator:a9118d0de36f4dbb72c28cc0832bba897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace81cf5d7ddd0385d3cf2e66d4c47ff7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ace81cf5d7ddd0385d3cf2e66d4c47ff7">scent_move</a> ()</td></tr>
<tr class="separator:ace81cf5d7ddd0385d3cf2e66d4c47ff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98cfa6c825f373b60a0a4021a8dbf750"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a98cfa6c825f373b60a0a4021a8dbf750">calc_movecost</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;f, const <a class="el" href="structtripoint.html">tripoint</a> &amp;t) const</td></tr>
<tr class="separator:a98cfa6c825f373b60a0a4021a8dbf750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab370bb6801a47533c44b28894f910702"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ab370bb6801a47533c44b28894f910702">calc_climb_cost</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;f, const <a class="el" href="structtripoint.html">tripoint</a> &amp;t) const</td></tr>
<tr class="separator:ab370bb6801a47533c44b28894f910702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a463ca0ea362cc5ea7b3b9a808c0de85c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a463ca0ea362cc5ea7b3b9a808c0de85c">is_immune_field</a> (const <a class="el" href="type__id_8h.html#a2a56520b7eef7294fc98230cb883c9d2">field_type_id</a> &amp;fid) const override</td></tr>
<tr class="memdesc:a463ca0ea362cc5ea7b3b9a808c0de85c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if we are immune to the field type with the given fid.  <a href="classmonster.html#a463ca0ea362cc5ea7b3b9a808c0de85c">More...</a><br /></td></tr>
<tr class="separator:a463ca0ea362cc5ea7b3b9a808c0de85c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3c07bd4cb325287741fa2e561168e56"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ab3c07bd4cb325287741fa2e561168e56">move_to</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p, bool <a class="el" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>=false, bool step_on_critter=false, float stagger_adjustment=1.0)</td></tr>
<tr class="memdesc:ab3c07bd4cb325287741fa2e561168e56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to move to p.  <a href="classmonster.html#ab3c07bd4cb325287741fa2e561168e56">More...</a><br /></td></tr>
<tr class="separator:ab3c07bd4cb325287741fa2e561168e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32a4800fc20a7d229c66cce32ce9e417"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a32a4800fc20a7d229c66cce32ce9e417">attack_at</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p)</td></tr>
<tr class="memdesc:a32a4800fc20a7d229c66cce32ce9e417"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attack any enemies at the given location.  <a href="classmonster.html#a32a4800fc20a7d229c66cce32ce9e417">More...</a><br /></td></tr>
<tr class="separator:a32a4800fc20a7d229c66cce32ce9e417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfa82509ae31b5201072274dc6b9c407"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#abfa82509ae31b5201072274dc6b9c407">bash_at</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p)</td></tr>
<tr class="memdesc:abfa82509ae31b5201072274dc6b9c407"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to smash/bash/destroy your way through the terrain at p.  <a href="classmonster.html#abfa82509ae31b5201072274dc6b9c407">More...</a><br /></td></tr>
<tr class="separator:abfa82509ae31b5201072274dc6b9c407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a829284017aa69618d25208a53061d1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a1a829284017aa69618d25208a53061d1">push_to</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p, int boost, size_t depth)</td></tr>
<tr class="memdesc:a1a829284017aa69618d25208a53061d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to push away whatever occupies p, then step in.  <a href="classmonster.html#a1a829284017aa69618d25208a53061d1">More...</a><br /></td></tr>
<tr class="separator:a1a829284017aa69618d25208a53061d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7410372f55ca62ae5eda0fcc63b48622"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7410372f55ca62ae5eda0fcc63b48622">bash_skill</a> () const</td></tr>
<tr class="memdesc:a7410372f55ca62ae5eda0fcc63b48622"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns innate monster bash skill, without calculating additional from helpers.  <a href="classmonster.html#a7410372f55ca62ae5eda0fcc63b48622">More...</a><br /></td></tr>
<tr class="separator:a7410372f55ca62ae5eda0fcc63b48622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22061ca6aa966283a748d84ce4352fb4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a22061ca6aa966283a748d84ce4352fb4">bash_estimate</a> () const</td></tr>
<tr class="separator:a22061ca6aa966283a748d84ce4352fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3552d13d872776e2201892e3f6480742"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a3552d13d872776e2201892e3f6480742">group_bash_skill</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;target)</td></tr>
<tr class="memdesc:a3552d13d872776e2201892e3f6480742"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns ability of monster and any cooperative helpers to bash the designated target.  <a href="classmonster.html#a3552d13d872776e2201892e3f6480742">More...</a><br /></td></tr>
<tr class="separator:a3552d13d872776e2201892e3f6480742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6adba28c21a8b6e6cc1b81f2f31d1947"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a6adba28c21a8b6e6cc1b81f2f31d1947">stumble</a> ()</td></tr>
<tr class="memdesc:a6adba28c21a8b6e6cc1b81f2f31d1947"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stumble in a random direction, but with some caveats.  <a href="classmonster.html#a6adba28c21a8b6e6cc1b81f2f31d1947">More...</a><br /></td></tr>
<tr class="separator:a6adba28c21a8b6e6cc1b81f2f31d1947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6c57b6cbf413727ea33c467f2bc886b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa6c57b6cbf413727ea33c467f2bc886b">knock_back_to</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;to) override</td></tr>
<tr class="separator:aa6c57b6cbf413727ea33c467f2bc886b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f5047243bc2dc00f32c39b5d0918002"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a0f5047243bc2dc00f32c39b5d0918002">is_fleeing</a> (<a class="el" href="classCharacter.html">Character</a> &amp;<a class="el" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>) const</td></tr>
<tr class="separator:a0f5047243bc2dc00f32c39b5d0918002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f9b80e613e46d2a7ebbb21ea5e11e4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4">monster_attitude</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a6f9b80e613e46d2a7ebbb21ea5e11e4c">attitude</a> (const <a class="el" href="classCharacter.html">Character</a> *<a class="el" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>=nullptr) const</td></tr>
<tr class="separator:a6f9b80e613e46d2a7ebbb21ea5e11e4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a125622587c2069dc4dbbe07943c81336"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217">Attitude</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a125622587c2069dc4dbbe07943c81336">attitude_to</a> (const <a class="el" href="classCreature.html">Creature</a> &amp;<a class="el" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>) const override</td></tr>
<tr class="memdesc:a125622587c2069dc4dbbe07943c81336"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attitude (of this creature) towards another creature.  <a href="classmonster.html#a125622587c2069dc4dbbe07943c81336">More...</a><br /></td></tr>
<tr class="separator:a125622587c2069dc4dbbe07943c81336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe6d440a8d4424aa73ae4c0d6d02e18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#adfe6d440a8d4424aa73ae4c0d6d02e18">process_triggers</a> ()</td></tr>
<tr class="separator:adfe6d440a8d4424aa73ae4c0d6d02e18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1343022e00717c50f8ac53048723ea8a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a1343022e00717c50f8ac53048723ea8a">is_underwater</a> () const override</td></tr>
<tr class="separator:a1343022e00717c50f8ac53048723ea8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7520b8538309813ac6c146fcb3df70fc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7520b8538309813ac6c146fcb3df70fc">is_on_ground</a> () const override</td></tr>
<tr class="separator:a7520b8538309813ac6c146fcb3df70fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae56c644d9acdf2249f236f0523e83227"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ae56c644d9acdf2249f236f0523e83227">is_warm</a> () const override</td></tr>
<tr class="separator:ae56c644d9acdf2249f236f0523e83227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a803a0cab3aaf93e62ff8db223908dc6c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a803a0cab3aaf93e62ff8db223908dc6c">in_species</a> (const <a class="el" href="type__id_8h.html#aabb3ae1a3aec00a1aa497b29c81ed527">species_id</a> &amp;spec) const override</td></tr>
<tr class="separator:a803a0cab3aaf93e62ff8db223908dc6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18f2e8acb4dd2bfad739bcf7eba885a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a18f2e8acb4dd2bfad739bcf7eba885a7">respond_to_light</a> (float light_level)</td></tr>
<tr class="separator:a18f2e8acb4dd2bfad739bcf7eba885a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaf3b6ce3ae296abccbfd5a497b3d20f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#adaf3b6ce3ae296abccbfd5a497b3d20f">has_weapon</a> () const override</td></tr>
<tr class="separator:adaf3b6ce3ae296abccbfd5a497b3d20f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a6be5e2dd4d5b14d1b9ccb61b1b4f6d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7a6be5e2dd4d5b14d1b9ccb61b1b4f6d">is_dead_state</a> () const override</td></tr>
<tr class="separator:a7a6be5e2dd4d5b14d1b9ccb61b1b4f6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7eed08e243bf4be1ac8d3faa45e9c96"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ae7eed08e243bf4be1ac8d3faa45e9c96">is_elec_immune</a> () const override</td></tr>
<tr class="separator:ae7eed08e243bf4be1ac8d3faa45e9c96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a997d7fb58cdf5a5fe53216fd3ad3b62c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a997d7fb58cdf5a5fe53216fd3ad3b62c">is_immune_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;) const override</td></tr>
<tr class="separator:a997d7fb58cdf5a5fe53216fd3ad3b62c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa438b330dcce731464afb38f2597e374"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa438b330dcce731464afb38f2597e374">is_immune_damage</a> (const <a class="el" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a> &amp;) const override</td></tr>
<tr class="separator:aa438b330dcce731464afb38f2597e374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad077f15b8dd09041e41c7bf8b61ddd0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ad077f15b8dd09041e41c7bf8b61ddd0b">make_bleed</a> (const <a class="el" href="classeffect__source.html">effect_source</a> &amp;source, <a class="el" href="classtime__duration.html">time_duration</a> duration, int <a class="el" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>=1, bool <a class="el" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>=false, bool <a class="el" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>=false, bool defferred=false)</td></tr>
<tr class="separator:ad077f15b8dd09041e41c7bf8b61ddd0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b5b23d86bdc0f49d00190ee19a807d6"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structweakpoint.html">weakpoint</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a1b5b23d86bdc0f49d00190ee19a807d6">absorb_hit</a> (const <a class="el" href="structweakpoint__attack.html">weakpoint_attack</a> &amp;attack, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;<a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, <a class="el" href="structdamage__instance.html">damage_instance</a> &amp;dam) override</td></tr>
<tr class="separator:a1b5b23d86bdc0f49d00190ee19a807d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34c23a00051674235ed13bb0b5e4778c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a34c23a00051674235ed13bb0b5e4778c">weakpoint_skill</a> () const</td></tr>
<tr class="separator:a34c23a00051674235ed13bb0b5e4778c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a918611ed3f15584f6e4734e1b249ad98"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a918611ed3f15584f6e4734e1b249ad98">block_hit</a> (<a class="el" href="classCreature.html">Creature</a> *source, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp_hit, <a class="el" href="structdamage__instance.html">damage_instance</a> &amp;d) override</td></tr>
<tr class="separator:a918611ed3f15584f6e4734e1b249ad98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a712aeab26697f5ede4eab4eacdc71c8a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a712aeab26697f5ede4eab4eacdc71c8a">melee_attack</a> (<a class="el" href="classCreature.html">Creature</a> &amp;target)</td></tr>
<tr class="separator:a712aeab26697f5ede4eab4eacdc71c8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59032e25126893a91a74d98d5137c113"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a59032e25126893a91a74d98d5137c113">melee_attack</a> (<a class="el" href="classCreature.html">Creature</a> &amp;target, float accuracy)</td></tr>
<tr class="separator:a59032e25126893a91a74d98d5137c113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68492e539a3d763d8ca6c7be1d8cacb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a68492e539a3d763d8ca6c7be1d8cacb2">melee_attack</a> (<a class="el" href="classCreature.html">Creature</a> &amp;p, bool)=delete</td></tr>
<tr class="separator:a68492e539a3d763d8ca6c7be1d8cacb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab21a4fc3d7798d421d25fa4f7879743c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ab21a4fc3d7798d421d25fa4f7879743c">deal_projectile_attack</a> (<a class="el" href="classCreature.html">Creature</a> *source, <a class="el" href="structdealt__projectile__attack.html">dealt_projectile_attack</a> &amp;attack, bool print_messages=true, const <a class="el" href="structweakpoint__attack.html">weakpoint_attack</a> &amp;wp_attack=<a class="el" href="structweakpoint__attack.html">weakpoint_attack</a>()) override</td></tr>
<tr class="memdesc:ab21a4fc3d7798d421d25fa4f7879743c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to harm a creature with a projectile.  <a href="classmonster.html#ab21a4fc3d7798d421d25fa4f7879743c">More...</a><br /></td></tr>
<tr class="separator:ab21a4fc3d7798d421d25fa4f7879743c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f9117347fb7981f71aac01f58435007"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a6f9117347fb7981f71aac01f58435007">deal_damage_handle_type</a> (const <a class="el" href="classeffect__source.html">effect_source</a> &amp;source, const <a class="el" href="structdamage__unit.html">damage_unit</a> &amp;du, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> <a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, int &amp;damage, int &amp;<a class="el" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a>) override</td></tr>
<tr class="separator:a6f9117347fb7981f71aac01f58435007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc6e6f5443145732310dd4901a394b4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#afc6e6f5443145732310dd4901a394b4f">apply_damage</a> (<a class="el" href="classCreature.html">Creature</a> *source, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> <a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, int dam, bool bypass_med=false) override</td></tr>
<tr class="separator:afc6e6f5443145732310dd4901a394b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ac04beb9df9783b5b8100c87ea75390"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a4ac04beb9df9783b5b8100c87ea75390">explode</a> ()</td></tr>
<tr class="separator:a4ac04beb9df9783b5b8100c87ea75390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee322ddbd0d998f61aa928c4392396e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aee322ddbd0d998f61aa928c4392396e8">die_in_explosion</a> (<a class="el" href="classCreature.html">Creature</a> *source)</td></tr>
<tr class="separator:aee322ddbd0d998f61aa928c4392396e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67645fecb3639720c0fb7fe4481b419"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa67645fecb3639720c0fb7fe4481b419">heal_bp</a> (<a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> <a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, int dam) override</td></tr>
<tr class="separator:aa67645fecb3639720c0fb7fe4481b419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7763c0da8025aea231a29272f25d5fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#af7763c0da8025aea231a29272f25d5fc">heal</a> (int delta_hp, bool overheal=false)</td></tr>
<tr class="memdesc:af7763c0da8025aea231a29272f25d5fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flat addition to the monsters <a class="el" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a>.  <a href="classmonster.html#af7763c0da8025aea231a29272f25d5fc">More...</a><br /></td></tr>
<tr class="separator:af7763c0da8025aea231a29272f25d5fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98c421c82c34706735f13afe25ea7f1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a98c421c82c34706735f13afe25ea7f1f">set_hp</a> (int <a class="el" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a>)</td></tr>
<tr class="memdesc:a98c421c82c34706735f13afe25ea7f1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Directly set the current <a class="el" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> of the monster (not capped at the maximal hp).  <a href="classmonster.html#a98c421c82c34706735f13afe25ea7f1f">More...</a><br /></td></tr>
<tr class="separator:a98c421c82c34706735f13afe25ea7f1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4469c5dffabf4f23d22217747e93a093"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a4469c5dffabf4f23d22217747e93a093">process_effects</a> () override</td></tr>
<tr class="memdesc:a4469c5dffabf4f23d22217747e93a093"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes monster-specific effects before calling <a class="el" href="classCreature.html#a7c4224e3e3ce5b7bf6af5da26c622af6" title="Processes through all the effects on the Creature.">Creature::process_effects()</a>.  <a href="classmonster.html#a4469c5dffabf4f23d22217747e93a093">More...</a><br /></td></tr>
<tr class="separator:a4469c5dffabf4f23d22217747e93a093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ff46700c4e8b9527cb331151d7b7c26"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a3ff46700c4e8b9527cb331151d7b7c26">movement_impaired</a> ()</td></tr>
<tr class="memdesc:a3ff46700c4e8b9527cb331151d7b7c26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the monster has its movement impaired.  <a href="classmonster.html#a3ff46700c4e8b9527cb331151d7b7c26">More...</a><br /></td></tr>
<tr class="separator:a3ff46700c4e8b9527cb331151d7b7c26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaed6da4f001755d7fdd7ea56df8ac44d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aaed6da4f001755d7fdd7ea56df8ac44d">move_effects</a> (bool attacking) override</td></tr>
<tr class="memdesc:aaed6da4f001755d7fdd7ea56df8ac44d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes effects which may prevent the monster from moving (bear traps, crushed, etc.).  <a href="classmonster.html#aaed6da4f001755d7fdd7ea56df8ac44d">More...</a><br /></td></tr>
<tr class="separator:aaed6da4f001755d7fdd7ea56df8ac44d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33b7b408cf37cf721ff9775c4f137820"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a33b7b408cf37cf721ff9775c4f137820">get_effect_status</a> () const</td></tr>
<tr class="memdesc:a33b7b408cf37cf721ff9775c4f137820"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a std::string containing effects for descriptions.  <a href="classmonster.html#a33b7b408cf37cf721ff9775c4f137820">More...</a><br /></td></tr>
<tr class="separator:a33b7b408cf37cf721ff9775c4f137820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a5cf1efd547b8140a2379598ab387c8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7a5cf1efd547b8140a2379598ab387c8">power_rating</a> () const override</td></tr>
<tr class="memdesc:a7a5cf1efd547b8140a2379598ab387c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an approximation of the creature's strength.  <a href="classmonster.html#a7a5cf1efd547b8140a2379598ab387c8">More...</a><br /></td></tr>
<tr class="separator:a7a5cf1efd547b8140a2379598ab387c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa726a9074840d376b00a575d4079bcbc"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa726a9074840d376b00a575d4079bcbc">speed_rating</a> () const override</td></tr>
<tr class="memdesc:aa726a9074840d376b00a575d4079bcbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an approximate number of tiles this creature can travel per turn.  <a href="classmonster.html#aa726a9074840d376b00a575d4079bcbc">More...</a><br /></td></tr>
<tr class="separator:aa726a9074840d376b00a575d4079bcbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbb7e9e724bb308488bf0df6c257f71d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#acbb7e9e724bb308488bf0df6c257f71d">get_worn_armor_val</a> (const <a class="el" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a> &amp;dt) const</td></tr>
<tr class="separator:acbb7e9e724bb308488bf0df6c257f71d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab55cbaa78e9a77935dfc63e5c292317b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ab55cbaa78e9a77935dfc63e5c292317b">get_armor_type</a> (const <a class="el" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a> &amp;dt, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> <a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>) const override</td></tr>
<tr class="separator:ab55cbaa78e9a77935dfc63e5c292317b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6d9e90a89c63faf465f02731a15d819"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ac6d9e90a89c63faf465f02731a15d819">get_hit_base</a> () const override</td></tr>
<tr class="separator:ac6d9e90a89c63faf465f02731a15d819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19edab4bc2fa15fab46829e9447f2a08"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a19edab4bc2fa15fab46829e9447f2a08">get_dodge_base</a> () const override</td></tr>
<tr class="separator:a19edab4bc2fa15fab46829e9447f2a08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b731badad539e0f37595cea907ea256"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a3b731badad539e0f37595cea907ea256">get_dodge</a> () const override</td></tr>
<tr class="separator:a3b731badad539e0f37595cea907ea256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf27771f9ea3c042a462295303c75af6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#acf27771f9ea3c042a462295303c75af6">get_melee</a> () const override</td></tr>
<tr class="separator:acf27771f9ea3c042a462295303c75af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b6494853af5785575f9b353f0838908"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a1b6494853af5785575f9b353f0838908">hit_roll</a> () const override</td></tr>
<tr class="memdesc:a1b6494853af5785575f9b353f0838908"><td class="mdescLeft">&#160;</td><td class="mdescRight">Should always be overwritten by the appropriate player/NPC/monster version.  <a href="classmonster.html#a1b6494853af5785575f9b353f0838908">More...</a><br /></td></tr>
<tr class="separator:a1b6494853af5785575f9b353f0838908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b0b1f7ae3356688cdfd9bb84c604289"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7b0b1f7ae3356688cdfd9bb84c604289">dodge_roll</a> () const override</td></tr>
<tr class="separator:a7b0b1f7ae3356688cdfd9bb84c604289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1aecae5a61a8c735c8045c1fa4ac505"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ad1aecae5a61a8c735c8045c1fa4ac505">can_attack_high</a> () const override</td></tr>
<tr class="separator:ad1aecae5a61a8c735c8045c1fa4ac505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d58ee8d254387dacfd4a497957e4afa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a1d58ee8d254387dacfd4a497957e4afa">get_grab_strength</a> () const</td></tr>
<tr class="separator:a1d58ee8d254387dacfd4a497957e4afa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7761dca00a9d12e6037303dad457f631"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7761dca00a9d12e6037303dad457f631">add_grab</a> (<a class="el" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a> <a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>)</td></tr>
<tr class="separator:a7761dca00a9d12e6037303dad457f631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa16651738b2e1ab517fde90b5108fc89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa16651738b2e1ab517fde90b5108fc89">remove_grab</a> (<a class="el" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a> <a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>)</td></tr>
<tr class="separator:aa16651738b2e1ab517fde90b5108fc89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ff84827bdbc7ba7be2fffb53f5362e6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a1ff84827bdbc7ba7be2fffb53f5362e6">is_grabbing</a> (<a class="el" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a> <a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>)</td></tr>
<tr class="separator:a1ff84827bdbc7ba7be2fffb53f5362e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef26e967fc1e2cd13ddfc752c086c3b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022a">monster_horde_attraction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aef26e967fc1e2cd13ddfc752c086c3b8">get_horde_attraction</a> ()</td></tr>
<tr class="separator:aef26e967fc1e2cd13ddfc752c086c3b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33b23afe9e525edecfd1c9f2edff0593"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a33b23afe9e525edecfd1c9f2edff0593">set_horde_attraction</a> (<a class="el" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022a">monster_horde_attraction</a> mha)</td></tr>
<tr class="separator:a33b23afe9e525edecfd1c9f2edff0593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a781dd02df67ea9e0395b0bafb6d2f6f2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a781dd02df67ea9e0395b0bafb6d2f6f2">will_join_horde</a> (int size)</td></tr>
<tr class="separator:a781dd02df67ea9e0395b0bafb6d2f6f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a605daf3158f1dea4cf92e075aa02d027"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a605daf3158f1dea4cf92e075aa02d027">fall_damage_mod</a> () const override</td></tr>
<tr class="memdesc:a605daf3158f1dea4cf92e075aa02d027"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns multiplier on fall damage at low velocity (knockback/pit/1 z-level, not 5 z-levels)  <a href="classmonster.html#a605daf3158f1dea4cf92e075aa02d027">More...</a><br /></td></tr>
<tr class="separator:a605daf3158f1dea4cf92e075aa02d027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa97a46ad65185c3ff2fa76e2a89e6e1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aaa97a46ad65185c3ff2fa76e2a89e6e1">impact</a> (int <a class="el" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>, const <a class="el" href="structtripoint.html">tripoint</a> &amp;<a class="el" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>) override</td></tr>
<tr class="memdesc:aaa97a46ad65185c3ff2fa76e2a89e6e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deals falling/collision damage with terrain/creature at pos.  <a href="classmonster.html#aaa97a46ad65185c3ff2fa76e2a89e6e1">More...</a><br /></td></tr>
<tr class="separator:aaa97a46ad65185c3ff2fa76e2a89e6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62c3af1c7aae4af06bcbf069e9597129"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a62c3af1c7aae4af06bcbf069e9597129">has_grab_break_tec</a> () const override</td></tr>
<tr class="separator:a62c3af1c7aae4af06bcbf069e9597129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d2c8b9ef1d6562d8b08c9d89e04b5c9"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a1d2c8b9ef1d6562d8b08c9d89e04b5c9">stability_roll</a> () const override</td></tr>
<tr class="separator:a1d2c8b9ef1d6562d8b08c9d89e04b5c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63a3ac24a8bfae6331b5bbc2fe7883d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a63a3ac24a8bfae6331b5bbc2fe7883d8">on_dodge</a> (<a class="el" href="classCreature.html">Creature</a> *source, float difficulty, float training_level=0.0) override</td></tr>
<tr class="memdesc:a63a3ac24a8bfae6331b5bbc2fe7883d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This creature just dodged an attack - possibly special/ranged attack - from source.  <a href="classmonster.html#a63a3ac24a8bfae6331b5bbc2fe7883d8">More...</a><br /></td></tr>
<tr class="separator:a63a3ac24a8bfae6331b5bbc2fe7883d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adddc15b785c2e80527177d188419cfc8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#adddc15b785c2e80527177d188419cfc8">on_try_dodge</a> () override</td></tr>
<tr class="memdesc:adddc15b785c2e80527177d188419cfc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoked when the creature attempts to dodge, regardless of success or failure.  <a href="classmonster.html#adddc15b785c2e80527177d188419cfc8">More...</a><br /></td></tr>
<tr class="separator:adddc15b785c2e80527177d188419cfc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5864ff57cc2915379bb5e644aa8d25a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa5864ff57cc2915379bb5e644aa8d25a">on_hit</a> (<a class="el" href="classCreature.html">Creature</a> *source, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> bp_hit, float difficulty=INT_MIN, <a class="el" href="structdealt__projectile__attack.html">dealt_projectile_attack</a> const *proj=nullptr) override</td></tr>
<tr class="memdesc:aa5864ff57cc2915379bb5e644aa8d25a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This creature just got hit by an attack - possibly special/ranged attack - from source.  <a href="classmonster.html#aa5864ff57cc2915379bb5e644aa8d25a">More...</a><br /></td></tr>
<tr class="separator:aa5864ff57cc2915379bb5e644aa8d25a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60ae9c29710c56417f769dea8381becf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a60ae9c29710c56417f769dea8381becf">reset_special</a> (const std::string &amp;special_name)</td></tr>
<tr class="memdesc:a60ae9c29710c56417f769dea8381becf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets a given special to its monster type cooldown value.  <a href="classmonster.html#a60ae9c29710c56417f769dea8381becf">More...</a><br /></td></tr>
<tr class="separator:a60ae9c29710c56417f769dea8381becf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8b3b69b1cc4029b7b2166f65ca5a23b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#af8b3b69b1cc4029b7b2166f65ca5a23b">reset_special_rng</a> (const std::string &amp;special_name)</td></tr>
<tr class="memdesc:af8b3b69b1cc4029b7b2166f65ca5a23b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets a given special to a value between 0 and its monster type cooldown value.  <a href="classmonster.html#af8b3b69b1cc4029b7b2166f65ca5a23b">More...</a><br /></td></tr>
<tr class="separator:af8b3b69b1cc4029b7b2166f65ca5a23b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82a2a2617c817a34c892e793c3b6a407"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a82a2a2617c817a34c892e793c3b6a407">set_special</a> (const std::string &amp;special_name, int time)</td></tr>
<tr class="memdesc:a82a2a2617c817a34c892e793c3b6a407"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a given special to the given value.  <a href="classmonster.html#a82a2a2617c817a34c892e793c3b6a407">More...</a><br /></td></tr>
<tr class="separator:a82a2a2617c817a34c892e793c3b6a407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68ac3a1fd2a1ecf8b80470af3d3d0433"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a68ac3a1fd2a1ecf8b80470af3d3d0433">disable_special</a> (const std::string &amp;special_name)</td></tr>
<tr class="memdesc:a68ac3a1fd2a1ecf8b80470af3d3d0433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the enabled flag for the given special to false.  <a href="classmonster.html#a68ac3a1fd2a1ecf8b80470af3d3d0433">More...</a><br /></td></tr>
<tr class="separator:a68ac3a1fd2a1ecf8b80470af3d3d0433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb740c48fe2bf73555367d0545b85e81"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#adb740c48fe2bf73555367d0545b85e81">has_special</a> (const std::string &amp;special_name) const</td></tr>
<tr class="memdesc:adb740c48fe2bf73555367d0545b85e81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether the monster has the specified special regardless of readiness.  <a href="classmonster.html#adb740c48fe2bf73555367d0545b85e81">More...</a><br /></td></tr>
<tr class="separator:adb740c48fe2bf73555367d0545b85e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7b7aac18bcc472f8d257b74df80ad28"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa7b7aac18bcc472f8d257b74df80ad28">special_available</a> (std::string_view special_name) const</td></tr>
<tr class="memdesc:aa7b7aac18bcc472f8d257b74df80ad28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether the specified special is ready.  <a href="classmonster.html#aa7b7aac18bcc472f8d257b74df80ad28">More...</a><br /></td></tr>
<tr class="separator:aa7b7aac18bcc472f8d257b74df80ad28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a077b0f7e49bc596862b531e47565b194"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a077b0f7e49bc596862b531e47565b194">process_turn</a> () override</td></tr>
<tr class="memdesc:a077b0f7e49bc596862b531e47565b194"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes effects and bonuses and allocates move points based on speed.  <a href="classmonster.html#a077b0f7e49bc596862b531e47565b194">More...</a><br /></td></tr>
<tr class="separator:a077b0f7e49bc596862b531e47565b194"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a325bdd1f920294d677cc67ead42e4e3c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a325bdd1f920294d677cc67ead42e4e3c">reset_bonuses</a> () override</td></tr>
<tr class="memdesc:a325bdd1f920294d677cc67ead42e4e3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the value of all bonus fields to 0, clears special effect flags.  <a href="classmonster.html#a325bdd1f920294d677cc67ead42e4e3c">More...</a><br /></td></tr>
<tr class="separator:a325bdd1f920294d677cc67ead42e4e3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af473270f1a26f86ced6123e1aa7bf134"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#af473270f1a26f86ced6123e1aa7bf134">reset_stats</a> () override</td></tr>
<tr class="memdesc:af473270f1a26f86ced6123e1aa7bf134"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets stats, and applies effects in an idempotent manner.  <a href="classmonster.html#af473270f1a26f86ced6123e1aa7bf134">More...</a><br /></td></tr>
<tr class="separator:af473270f1a26f86ced6123e1aa7bf134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82ae41773b05af94d4b678cb33bfb329"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a82ae41773b05af94d4b678cb33bfb329">die</a> (<a class="el" href="classCreature.html">Creature</a> *<a class="el" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a>) override</td></tr>
<tr class="memdesc:a82ae41773b05af94d4b678cb33bfb329"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty function.  <a href="classmonster.html#a82ae41773b05af94d4b678cb33bfb329">More...</a><br /></td></tr>
<tr class="separator:a82ae41773b05af94d4b678cb33bfb329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1485d4a5c67b12d76d055afd699a85f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a1485d4a5c67b12d76d055afd699a85f2">drop_items_on_death</a> (<a class="el" href="classitem.html">item</a> *<a class="el" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>)</td></tr>
<tr class="separator:a1485d4a5c67b12d76d055afd699a85f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af42a60922d1d070414fa6ca7e8a1f282"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#af42a60922d1d070414fa6ca7e8a1f282">spawn_dissectables_on_death</a> (<a class="el" href="classitem.html">item</a> *<a class="el" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>)</td></tr>
<tr class="separator:af42a60922d1d070414fa6ca7e8a1f282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05f8c2f20e4981ce5f9cffdf395af8b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a05f8c2f20e4981ce5f9cffdf395af8b7">generate_inventory</a> (bool disableDrops=true)</td></tr>
<tr class="separator:a05f8c2f20e4981ce5f9cffdf395af8b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fddab3f065220c8b7c015572a5de408"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a4fddab3f065220c8b7c015572a5de408">make_fungus</a> ()</td></tr>
<tr class="memdesc:a4fddab3f065220c8b7c015572a5de408"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes this monster into a fungus version Returns false if no such monster exists Returns true if monster is immune or if it got fungalized.  <a href="classmonster.html#a4fddab3f065220c8b7c015572a5de408">More...</a><br /></td></tr>
<tr class="separator:a4fddab3f065220c8b7c015572a5de408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a508e0ecc5726af06eaccf219c4252477"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a508e0ecc5726af06eaccf219c4252477">make_friendly</a> ()</td></tr>
<tr class="separator:a508e0ecc5726af06eaccf219c4252477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea6c3c57440f7456b8376d9750af4e4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aea6c3c57440f7456b8376d9750af4e4a">make_ally</a> (const <a class="el" href="classmonster.html">monster</a> &amp;z)</td></tr>
<tr class="memdesc:aea6c3c57440f7456b8376d9750af4e4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes this monster an ally of the given monster.  <a href="classmonster.html#aea6c3c57440f7456b8376d9750af4e4a">More...</a><br /></td></tr>
<tr class="separator:aea6c3c57440f7456b8376d9750af4e4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a50c1ca1b7405a717c95bac530e9e07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a6a50c1ca1b7405a717c95bac530e9e07">add_item</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="separator:a6a50c1ca1b7405a717c95bac530e9e07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78fcc19cb31f6bf97b2d9f0d2d34304f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a2dcfce0ba186227c52bb1083744871bb">units::energy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a78fcc19cb31f6bf97b2d9f0d2d34304f">use_mech_power</a> (<a class="el" href="namespaceunits.html#a2dcfce0ba186227c52bb1083744871bb">units::energy</a> amt)</td></tr>
<tr class="memdesc:a78fcc19cb31f6bf97b2d9f0d2d34304f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consume UPS from mech battery.  <a href="classmonster.html#a78fcc19cb31f6bf97b2d9f0d2d34304f">More...</a><br /></td></tr>
<tr class="separator:a78fcc19cb31f6bf97b2d9f0d2d34304f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36642aa60e233616102cb9a4e37db955"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a36642aa60e233616102cb9a4e37db955">check_mech_powered</a> () const</td></tr>
<tr class="separator:a36642aa60e233616102cb9a4e37db955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad104be109ff1d39a6e96cfb133e08ef0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ad104be109ff1d39a6e96cfb133e08ef0">mech_str_addition</a> () const</td></tr>
<tr class="separator:ad104be109ff1d39a6e96cfb133e08ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e9c36dc57363e1f9f42d34b270cf152"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a9e9c36dc57363e1f9f42d34b270cf152">hear_sound</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;source, int vol, int distance, bool provocative)</td></tr>
<tr class="memdesc:a9e9c36dc57363e1f9f42d34b270cf152"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes monster react to heard sound.  <a href="classmonster.html#a9e9c36dc57363e1f9f42d34b270cf152">More...</a><br /></td></tr>
<tr class="separator:a9e9c36dc57363e1f9f42d34b270cf152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70c250ac59c7d91b374dfa5d7b8da66c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a> () const override</td></tr>
<tr class="separator:a70c250ac59c7d91b374dfa5d7b8da66c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9d1524633d867a9c7702d7b5c56233"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#afa9d1524633d867a9c7702d7b5c56233">is_electrical</a> () const override</td></tr>
<tr class="separator:afa9d1524633d867a9c7702d7b5c56233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b64a4a072b0250feaa6bb592231b1f4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a1b64a4a072b0250feaa6bb592231b1f4">is_fae</a> () const override</td></tr>
<tr class="separator:a1b64a4a072b0250feaa6bb592231b1f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bbb510d289c958fef94afddf234df0a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a0bbb510d289c958fef94afddf234df0a">is_nether</a> () const override</td></tr>
<tr class="separator:a0bbb510d289c958fef94afddf234df0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a370aa2fa45a0028e921de47eff0ff3c6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a370aa2fa45a0028e921de47eff0ff3c6">has_mind</a> () const override</td></tr>
<tr class="separator:a370aa2fa45a0028e921de47eff0ff3c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19f8524caa7fa7b0156d4262fb33a341"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a2a56520b7eef7294fc98230cb883c9d2">field_type_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a19f8524caa7fa7b0156d4262fb33a341">bloodType</a> () const override</td></tr>
<tr class="separator:a19f8524caa7fa7b0156d4262fb33a341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae48d048c8c53f7563bf7edc6a38a0018"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a2a56520b7eef7294fc98230cb883c9d2">field_type_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ae48d048c8c53f7563bf7edc6a38a0018">gibType</a> () const override</td></tr>
<tr class="separator:ae48d048c8c53f7563bf7edc6a38a0018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca82dd4277ed7b988728548156ada2cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aca82dd4277ed7b988728548156ada2cf">add_msg_if_npc</a> (const std::string &amp;msg) const override</td></tr>
<tr class="separator:aca82dd4277ed7b988728548156ada2cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a463a5f201d8cedc0c5b06ba5d5cb06f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a463a5f201d8cedc0c5b06ba5d5cb06f6">add_msg_if_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const std::string &amp;msg) const override</td></tr>
<tr class="separator:a463a5f201d8cedc0c5b06ba5d5cb06f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a39340063a86558974791b1affedc91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7a39340063a86558974791b1affedc91">add_msg_player_or_npc</a> (const std::string &amp;player_msg, const std::string &amp;npc_msg) const override</td></tr>
<tr class="separator:a7a39340063a86558974791b1affedc91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c280c38471e4812578fb74e076d082f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a3c280c38471e4812578fb74e076d082f">add_msg_player_or_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const std::string &amp;player_msg, const std::string &amp;npc_msg) const override</td></tr>
<tr class="separator:a3c280c38471e4812578fb74e076d082f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6893b7073ca0f1e06cfe2f07c00b8e43"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a6893b7073ca0f1e06cfe2f07c00b8e43">get_carried_weight</a> () const</td></tr>
<tr class="separator:a6893b7073ca0f1e06cfe2f07c00b8e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dd3ceaa79271d24864a8ebfb4e55983"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a3dd3ceaa79271d24864a8ebfb4e55983">get_carried_volume</a> () const</td></tr>
<tr class="separator:a3dd3ceaa79271d24864a8ebfb4e55983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e56ec847ba2c6c33f61e3a176747fb5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a9e56ec847ba2c6c33f61e3a176747fb5">move_special_item_to_inv</a> (<a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;it)</td></tr>
<tr class="separator:a9e56ec847ba2c6c33f61e3a176747fb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af033816139df1dfa154c27b199b51da6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#af033816139df1dfa154c27b199b51da6">is_dead</a> () const</td></tr>
<tr class="separator:af033816139df1dfa154c27b199b51da6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8489f3022eccd25b5a5efb67bedfba6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa8489f3022eccd25b5a5efb67bedfba6">is_nemesis</a> () const</td></tr>
<tr class="separator:aa8489f3022eccd25b5a5efb67bedfba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a219672c5ddbdc58b41dcb8182572e1b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a219672c5ddbdc58b41dcb8182572e1b0">to_item</a> () const</td></tr>
<tr class="memdesc:a219672c5ddbdc58b41dcb8182572e1b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert this monster into an item (see <a class="el" href="structmtype.html#a02618ceb25281f59dc290714769cd987">mtype::revert_to_itype</a>).  <a href="classmonster.html#a219672c5ddbdc58b41dcb8182572e1b0">More...</a><br /></td></tr>
<tr class="separator:a219672c5ddbdc58b41dcb8182572e1b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb07fb02cc8e1452ca81f71dfc995afd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#afb07fb02cc8e1452ca81f71dfc995afd">init_from_item</a> (<a class="el" href="classitem.html">item</a> &amp;itm)</td></tr>
<tr class="memdesc:afb07fb02cc8e1452ca81f71dfc995afd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize values like speed / hp from data of an item.  <a href="classmonster.html#afb07fb02cc8e1452ca81f71dfc995afd">More...</a><br /></td></tr>
<tr class="separator:afb07fb02cc8e1452ca81f71dfc995afd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b1d540688fa0a359032b9a8ab9d3080"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7b1d540688fa0a359032b9a8ab9d3080">on_unload</a> ()</td></tr>
<tr class="memdesc:a7b1d540688fa0a359032b9a8ab9d3080"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do some cleanup and caching as monster is being unloaded from map.  <a href="classmonster.html#a7b1d540688fa0a359032b9a8ab9d3080">More...</a><br /></td></tr>
<tr class="separator:a7b1d540688fa0a359032b9a8ab9d3080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7665943b7fd94fa6aa4a7389b4199d24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7665943b7fd94fa6aa4a7389b4199d24">on_load</a> ()</td></tr>
<tr class="memdesc:a7665943b7fd94fa6aa4a7389b4199d24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retroactively update monster.  <a href="classmonster.html#a7665943b7fd94fa6aa4a7389b4199d24">More...</a><br /></td></tr>
<tr class="separator:a7665943b7fd94fa6aa4a7389b4199d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a873925c09bec361ffd2363626828a362"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structpathfinding__settings.html">pathfinding_settings</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a873925c09bec361ffd2363626828a362">get_pathfinding_settings</a> () const override</td></tr>
<tr class="memdesc:a873925c09bec361ffd2363626828a362"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns settings for pathfinding.  <a href="classmonster.html#a873925c09bec361ffd2363626828a362">More...</a><br /></td></tr>
<tr class="separator:a873925c09bec361ffd2363626828a362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12d0f90c38e7463844592281c87dd250"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a12d0f90c38e7463844592281c87dd250">get_path_avoid</a> () const override</td></tr>
<tr class="memdesc:a12d0f90c38e7463844592281c87dd250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a set of points we do not want to path through.  <a href="classmonster.html#a12d0f90c38e7463844592281c87dd250">More...</a><br /></td></tr>
<tr class="separator:a12d0f90c38e7463844592281c87dd250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1182f5685e5de114ebf316c732a866f5"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a1182f5685e5de114ebf316c732a866f5">calculate_by_enchantment</a> (double modify, <a class="el" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">enchant_vals::mod</a> value, bool round_output=false) const</td></tr>
<tr class="separator:a1182f5685e5de114ebf316c732a866f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5da3a2470cbe9db76174216826307c1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a> (const std::string &amp;) const</td></tr>
<tr class="separator:aa5da3a2470cbe9db76174216826307c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a2d18231b856df1947c0f2c51768cc"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa6a2d18231b856df1947c0f2c51768cc">add_msg_if_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;, const std::string &amp;) const</td></tr>
<tr class="separator:aa6a2d18231b856df1947c0f2c51768cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3b0f9beac863a48f4e7b1b375ecc7cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#af3b0f9beac863a48f4e7b1b375ecc7cf">add_msg_if_npc</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:af3b0f9beac863a48f4e7b1b375ecc7cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff08a0fd32630c9d3ea6dd7320048028"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aff08a0fd32630c9d3ea6dd7320048028">add_msg_if_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:aff08a0fd32630c9d3ea6dd7320048028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa8bbf304094b1f21b2740518d6630e"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:aaaa8bbf304094b1f21b2740518d6630e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmonster.html#aaaa8bbf304094b1f21b2740518d6630e">add_msg_if_npc</a> (const char *const msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:aaaa8bbf304094b1f21b2740518d6630e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48279f8a14d84719495e7589230e3576"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a48279f8a14d84719495e7589230e3576"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmonster.html#a48279f8a14d84719495e7589230e3576">add_msg_if_npc</a> (const std::string &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a48279f8a14d84719495e7589230e3576"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31796e0c637397ee99aa363d9fff619a"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a31796e0c637397ee99aa363d9fff619a"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmonster.html#a31796e0c637397ee99aa363d9fff619a">add_msg_if_npc</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a31796e0c637397ee99aa363d9fff619a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab829716b1c7d34c74a6be5f7cbb8d8dc"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:ab829716b1c7d34c74a6be5f7cbb8d8dc"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmonster.html#ab829716b1c7d34c74a6be5f7cbb8d8dc">add_msg_if_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const char *const msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:ab829716b1c7d34c74a6be5f7cbb8d8dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae472c038258be0005ac20376ee68be3b"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:ae472c038258be0005ac20376ee68be3b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmonster.html#ae472c038258be0005ac20376ee68be3b">add_msg_if_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const std::string &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:ae472c038258be0005ac20376ee68be3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1593ee1fc7ab6bf0ae760fdabc9f1ce"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:ae1593ee1fc7ab6bf0ae760fdabc9f1ce"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmonster.html#ae1593ee1fc7ab6bf0ae760fdabc9f1ce">add_msg_if_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const <a class="el" href="classtranslation.html">translation</a> &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:ae1593ee1fc7ab6bf0ae760fdabc9f1ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cf71d2bd6c350f2ceda3f1d64046e63"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a> (const std::string &amp;, const std::string &amp;) const</td></tr>
<tr class="separator:a7cf71d2bd6c350f2ceda3f1d64046e63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addf2eb746446a370a7a7cb4bd00bc6c3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#addf2eb746446a370a7a7cb4bd00bc6c3">add_msg_player_or_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;, const std::string &amp;, const std::string &amp;) const</td></tr>
<tr class="separator:addf2eb746446a370a7a7cb4bd00bc6c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b6938eb560ebd8f5d2518632c0d21ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7b6938eb560ebd8f5d2518632c0d21ea">add_msg_player_or_npc</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:a7b6938eb560ebd8f5d2518632c0d21ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba59f7f156a1a85ed266b0458fd6be2e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aba59f7f156a1a85ed266b0458fd6be2e">add_msg_player_or_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:aba59f7f156a1a85ed266b0458fd6be2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f62360e42c8429e2f6dbc06c0b998da"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a6f62360e42c8429e2f6dbc06c0b998da"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmonster.html#a6f62360e42c8429e2f6dbc06c0b998da">add_msg_player_or_npc</a> (const char *const player_msg, const char *const npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a6f62360e42c8429e2f6dbc06c0b998da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c1a6d047f771eb8087eee69e9743fe"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a67c1a6d047f771eb8087eee69e9743fe"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmonster.html#a67c1a6d047f771eb8087eee69e9743fe">add_msg_player_or_npc</a> (const std::string &amp;player_msg, const std::string &amp;npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a67c1a6d047f771eb8087eee69e9743fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a203cbfdf79509fb8331551031b86e75b"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a203cbfdf79509fb8331551031b86e75b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmonster.html#a203cbfdf79509fb8331551031b86e75b">add_msg_player_or_npc</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;player_msg, const <a class="el" href="classtranslation.html">translation</a> &amp;npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a203cbfdf79509fb8331551031b86e75b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1641f7cd3c45babcf065beeb2d341d71"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a1641f7cd3c45babcf065beeb2d341d71"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmonster.html#a1641f7cd3c45babcf065beeb2d341d71">add_msg_player_or_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const char *const player_msg, const char *const npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a1641f7cd3c45babcf065beeb2d341d71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2310e011bcb43c7f0129bfc994a194aa"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a2310e011bcb43c7f0129bfc994a194aa"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmonster.html#a2310e011bcb43c7f0129bfc994a194aa">add_msg_player_or_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const std::string &amp;player_msg, const std::string &amp;npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a2310e011bcb43c7f0129bfc994a194aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa76a8657010c9d1ddb06cba966f48822"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:aa76a8657010c9d1ddb06cba966f48822"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmonster.html#aa76a8657010c9d1ddb06cba966f48822">add_msg_player_or_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const <a class="el" href="classtranslation.html">translation</a> &amp;player_msg, const <a class="el" href="classtranslation.html">translation</a> &amp;npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:aa76a8657010c9d1ddb06cba966f48822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classCreature"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classCreature')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classCreature.html">Creature</a></td></tr>
<tr class="memitem:a1255ca80112e0b022f718bbf5b44ef2c inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1255ca80112e0b022f718bbf5b44ef2c">~Creature</a> () override</td></tr>
<tr class="separator:a1255ca80112e0b022f718bbf5b44ef2c inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd9af93b322d04729ae5e81c826cbc4f inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#abd9af93b322d04729ae5e81c826cbc4f">get_grammatical_genders</a> () const</td></tr>
<tr class="separator:abd9af93b322d04729ae5e81c826cbc4f inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac209d32cbfd3774af3d5c0500e2fae52 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a> () const</td></tr>
<tr class="separator:ac209d32cbfd3774af3d5c0500e2fae52 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed84fe52e1335d48d53f482f8a278c87 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">is_npc</a> () const</td></tr>
<tr class="separator:aed84fe52e1335d48d53f482f8a278c87 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55d12f92d62a7c89c44b466d7e7cb00d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classCharacter.html">Character</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a> ()</td></tr>
<tr class="separator:a55d12f92d62a7c89c44b466d7e7cb00d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f8de601d86753707b331330fb1b942a inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classCharacter.html">Character</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a3f8de601d86753707b331330fb1b942a">as_character</a> () const</td></tr>
<tr class="separator:a3f8de601d86753707b331330fb1b942a inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3efb920d8e3d22ee766b62012ad0f9cd inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classavatar.html">avatar</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a3efb920d8e3d22ee766b62012ad0f9cd">as_avatar</a> ()</td></tr>
<tr class="separator:a3efb920d8e3d22ee766b62012ad0f9cd inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f50126db1b115a683a17dbff3e7a3f inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classavatar.html">avatar</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a93f50126db1b115a683a17dbff3e7a3f">as_avatar</a> () const</td></tr>
<tr class="separator:a93f50126db1b115a683a17dbff3e7a3f inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5de5f5e0d08deb03b68749608eb360b2 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classnpc.html">npc</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a5de5f5e0d08deb03b68749608eb360b2">as_npc</a> ()</td></tr>
<tr class="separator:a5de5f5e0d08deb03b68749608eb360b2 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52c2eb8d1e80a3c2ce62a44d1231242c inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classnpc.html">npc</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a52c2eb8d1e80a3c2ce62a44d1231242c">as_npc</a> () const</td></tr>
<tr class="separator:a52c2eb8d1e80a3c2ce62a44d1231242c inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ef8437aca8647165ccbe2ebb2e1f2c inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">is_fake</a> () const</td></tr>
<tr class="memdesc:a98ef8437aca8647165ccbe2ebb2e1f2c inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true for non-real Creatures used temporarily; i.e.  <a href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">More...</a><br /></td></tr>
<tr class="separator:a98ef8437aca8647165ccbe2ebb2e1f2c inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad76a5de4e1a09c774c1fea1c3405075b inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ad76a5de4e1a09c774c1fea1c3405075b">set_fake</a> (bool fake_value)</td></tr>
<tr class="memdesc:ad76a5de4e1a09c774c1fea1c3405075b inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a <a class="el" href="classCreature.html">Creature</a>'s fake boolean.  <a href="classCreature.html#ad76a5de4e1a09c774c1fea1c3405075b">More...</a><br /></td></tr>
<tr class="separator:ad76a5de4e1a09c774c1fea1c3405075b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a65722d07102550f16d17ebd79e2743 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a> () const</td></tr>
<tr class="separator:a1a65722d07102550f16d17ebd79e2743 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7172e571c5c69240d9f71a01fddf035 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af7172e571c5c69240d9f71a01fddf035">pos_bub</a> () const</td></tr>
<tr class="separator:af7172e571c5c69240d9f71a01fddf035 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecea7d852ffba499ec12350c95340b9d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a> () const</td></tr>
<tr class="separator:aecea7d852ffba499ec12350c95340b9d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f0365208b65ab1c45d23f03f402f491 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a> () const</td></tr>
<tr class="separator:a9f0365208b65ab1c45d23f03f402f491 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88c28bc08aa3e0d6fa1b187cee97d1c4 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a> () const</td></tr>
<tr class="separator:a88c28bc08aa3e0d6fa1b187cee97d1c4 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac16dcdb688f6f47c594c98c83528a670 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac16dcdb688f6f47c594c98c83528a670">setpos</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p)</td></tr>
<tr class="separator:ac16dcdb688f6f47c594c98c83528a670 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e2f65bf9e0412193ebaaf60d02cc0cc inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a5e2f65bf9e0412193ebaaf60d02cc0cc">move_to</a> (const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;loc)</td></tr>
<tr class="memdesc:a5e2f65bf9e0412193ebaaf60d02cc0cc inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves the creature to the given location and calls the <a class="el" href="classCreature.html#a8e5fa5a8918563efe031ed0fe41c4dc6">on_move()</a> handler.  <a href="classCreature.html#a5e2f65bf9e0412193ebaaf60d02cc0cc">More...</a><br /></td></tr>
<tr class="separator:a5e2f65bf9e0412193ebaaf60d02cc0cc inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24d762d37cd6bfbf98cda9b278f5ccf2 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a24d762d37cd6bfbf98cda9b278f5ccf2">normalize</a> ()</td></tr>
<tr class="memdesc:a24d762d37cd6bfbf98cda9b278f5ccf2 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recreates the <a class="el" href="classCreature.html">Creature</a> from scratch.  <a href="classCreature.html#a24d762d37cd6bfbf98cda9b278f5ccf2">More...</a><br /></td></tr>
<tr class="separator:a24d762d37cd6bfbf98cda9b278f5ccf2 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d8f0e96ad41fd5d962c4fdbbed9a32b inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a2d8f0e96ad41fd5d962c4fdbbed9a32b">reset</a> ()</td></tr>
<tr class="memdesc:a2d8f0e96ad41fd5d962c4fdbbed9a32b inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles stat and bonus reset.  <a href="classCreature.html#a2d8f0e96ad41fd5d962c4fdbbed9a32b">More...</a><br /></td></tr>
<tr class="separator:a2d8f0e96ad41fd5d962c4fdbbed9a32b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a303fcc58869f10f44be1d598ed1aa26f inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a303fcc58869f10f44be1d598ed1aa26f">bleed</a> () const</td></tr>
<tr class="memdesc:a303fcc58869f10f44be1d598ed1aa26f inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an appropriate blood splatter.  <a href="classCreature.html#a303fcc58869f10f44be1d598ed1aa26f">More...</a><br /></td></tr>
<tr class="separator:a303fcc58869f10f44be1d598ed1aa26f inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f818f1aa899ba2e2765f327a020a878 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a> (const <a class="el" href="classCreature.html">Creature</a> &amp;critter) const override</td></tr>
<tr class="memdesc:a5f818f1aa899ba2e2765f327a020a878 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">The functions check whether this creature can see the target.  <a href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">More...</a><br /></td></tr>
<tr class="separator:a5f818f1aa899ba2e2765f327a020a878 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64e54c8885bd9f94a1454f847b1d77f9 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a64e54c8885bd9f94a1454f847b1d77f9">sees</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;t, bool <a class="el" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>=false, int range_mod=0) const override</td></tr>
<tr class="separator:a64e54c8885bd9f94a1454f847b1d77f9 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfe420ab28e2fef66fa1efea3ca46a02 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#abfe420ab28e2fef66fa1efea3ca46a02">sees</a> (const <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> &amp;t, bool <a class="el" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>=false, int range_mod=0) const override</td></tr>
<tr class="separator:abfe420ab28e2fef66fa1efea3ca46a02 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb91e1cd5610658124d40623e7e4d698 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCreature.html">Creature</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#abb91e1cd5610658124d40623e7e4d698">auto_find_hostile_target</a> (int range, int &amp;boo_hoo, int area=0)</td></tr>
<tr class="memdesc:abb91e1cd5610658124d40623e7e4d698 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">For fake-players (turrets, mounted turrets) this functions chooses a target.  <a href="classCreature.html#abb91e1cd5610658124d40623e7e4d698">More...</a><br /></td></tr>
<tr class="separator:abb91e1cd5610658124d40623e7e4d698 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c8ea56d06ff96a720201c46a40969aa inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1c8ea56d06ff96a720201c46a40969aa">ranged_target_size</a> () const</td></tr>
<tr class="memdesc:a1c8ea56d06ff96a720201c46a40969aa inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the target this creature presents to ranged weapons.  <a href="classCreature.html#a1c8ea56d06ff96a720201c46a40969aa">More...</a><br /></td></tr>
<tr class="separator:a1c8ea56d06ff96a720201c46a40969aa inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa39af83d946765e7e652fd66d50e807c inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aa39af83d946765e7e652fd66d50e807c">knock_back_from</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p)</td></tr>
<tr class="separator:aa39af83d946765e7e652fd66d50e807c inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a19a19318a38c3192f42e903e692bf0 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a0a19a19318a38c3192f42e903e692bf0">get_crit_factor</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;<a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>) const</td></tr>
<tr class="separator:a0a19a19318a38c3192f42e903e692bf0 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6748055fb3a5922e1fa55c4214aff48f inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6748055fb3a5922e1fa55c4214aff48f">size_melee_penalty</a> () const</td></tr>
<tr class="separator:a6748055fb3a5922e1fa55c4214aff48f inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ed7b87167039b2cf0ecb2464d62f802 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a2ed7b87167039b2cf0ecb2464d62f802">deal_melee_attack</a> (<a class="el" href="classCreature.html">Creature</a> *source, int hitroll)</td></tr>
<tr class="separator:a2ed7b87167039b2cf0ecb2464d62f802 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50742ba2b2e90cf50327ea90c8d636dd inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a50742ba2b2e90cf50327ea90c8d636dd">is_adjacent</a> (const <a class="el" href="classCreature.html">Creature</a> *target, bool allow_z_levels) const</td></tr>
<tr class="separator:a50742ba2b2e90cf50327ea90c8d636dd inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4887c928d768b8e4a7cb177ab52c6eab inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="structdamage__instance.html">damage_instance</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a4887c928d768b8e4a7cb177ab52c6eab">modify_damage_dealt_with_enchantments</a> (const <a class="el" href="structdamage__instance.html">damage_instance</a> &amp;dam) const</td></tr>
<tr class="separator:a4887c928d768b8e4a7cb177ab52c6eab inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbfb6067cd74b31799fe312fbe0fd1cf inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#abbfb6067cd74b31799fe312fbe0fd1cf">deal_melee_hit</a> (<a class="el" href="classCreature.html">Creature</a> *source, int hit_spread, bool critical_hit, <a class="el" href="structdamage__instance.html">damage_instance</a> dam, <a class="el" href="structdealt__damage__instance.html">dealt_damage_instance</a> &amp;dealt_dam, const <a class="el" href="structweakpoint__attack.html">weakpoint_attack</a> &amp;attack=<a class="el" href="structweakpoint__attack.html">weakpoint_attack</a>(), const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> *<a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>=nullptr)</td></tr>
<tr class="separator:abbfb6067cd74b31799fe312fbe0fd1cf inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1f141f381984e2d0f119dc94429f1d3 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="structdealt__damage__instance.html">dealt_damage_instance</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af1f141f381984e2d0f119dc94429f1d3">deal_damage</a> (<a class="el" href="classCreature.html">Creature</a> *source, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> <a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, const <a class="el" href="structdamage__instance.html">damage_instance</a> &amp;dam, const <a class="el" href="structweakpoint__attack.html">weakpoint_attack</a> &amp;attack=<a class="el" href="structweakpoint__attack.html">weakpoint_attack</a>())</td></tr>
<tr class="memdesc:af1f141f381984e2d0f119dc94429f1d3 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deals the damage via an attack.  <a href="classCreature.html#af1f141f381984e2d0f119dc94429f1d3">More...</a><br /></td></tr>
<tr class="separator:af1f141f381984e2d0f119dc94429f1d3 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe6022b1e8465afa8f672d77cbbe5680 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#abe6022b1e8465afa8f672d77cbbe5680">longpull</a> (const std::string &amp;name, const <a class="el" href="structtripoint.html">tripoint</a> &amp;p)</td></tr>
<tr class="memdesc:abe6022b1e8465afa8f672d77cbbe5680 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to pull the target at point p towards this creature.  <a href="classCreature.html#abe6022b1e8465afa8f672d77cbbe5680">More...</a><br /></td></tr>
<tr class="separator:abe6022b1e8465afa8f672d77cbbe5680 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25d21c9537d90ecb5648dd27721e7d2d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a25d21c9537d90ecb5648dd27721e7d2d">dodge_check</a> (float <a class="el" href="classCreature.html#ae92d2444aa89afae41c107cf6fcf6851">hit_roll</a>, bool force_try=false, float training_level=0.0f)</td></tr>
<tr class="memdesc:a25d21c9537d90ecb5648dd27721e7d2d inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">If training_level is anything but 0, the check will only train target's skill to that level.  <a href="classCreature.html#a25d21c9537d90ecb5648dd27721e7d2d">More...</a><br /></td></tr>
<tr class="separator:a25d21c9537d90ecb5648dd27721e7d2d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a676c4d5abf838cef76b85fac511d1d42 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a676c4d5abf838cef76b85fac511d1d42">dodge_check</a> (<a class="el" href="classmonster.html">monster</a> *z, float training_level=0.0f)</td></tr>
<tr class="separator:a676c4d5abf838cef76b85fac511d1d42 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2020e399ed6d20cb49f0cc14fe4ac5a1 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a2020e399ed6d20cb49f0cc14fe4ac5a1">dodge_check</a> (<a class="el" href="classmonster.html">monster</a> *z, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> <a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, const <a class="el" href="structdamage__instance.html">damage_instance</a> &amp;dam_inst, float training_level=0.0f)</td></tr>
<tr class="separator:a2020e399ed6d20cb49f0cc14fe4ac5a1 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6410520bceb652ba361502f404fc1005 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6410520bceb652ba361502f404fc1005">stumble_invis</a> (const <a class="el" href="classCreature.html">Creature</a> &amp;<a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa912af0dff974604f1321254ca8ff38b6">player</a>, bool stumblemsg=true)</td></tr>
<tr class="separator:a6410520bceb652ba361502f404fc1005 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e322a5b9e8f42f840ddffa01ec2787f inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a3e322a5b9e8f42f840ddffa01ec2787f">attack_air</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p)</td></tr>
<tr class="separator:a3e322a5b9e8f42f840ddffa01ec2787f inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f25d00d7403a9b318a6e54847169bd inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a47f25d00d7403a9b318a6e54847169bd">is_ranged_attacker</a> () const</td></tr>
<tr class="memdesc:a47f25d00d7403a9b318a6e54847169bd inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this monster has a gun-type attack or the RANGED_ATTACKER flag.  <a href="classCreature.html#a47f25d00d7403a9b318a6e54847169bd">More...</a><br /></td></tr>
<tr class="separator:a47f25d00d7403a9b318a6e54847169bd inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada7a49ad443c0522cdd7422d53bef2c1 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ada7a49ad443c0522cdd7422d53bef2c1">cant_do_underwater</a> (bool msg=true) const</td></tr>
<tr class="separator:ada7a49ad443c0522cdd7422d53bef2c1 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae25a137e18ca7d92a4ba6c18c0eab97c inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ae25a137e18ca7d92a4ba6c18c0eab97c">is_likely_underwater</a> () const</td></tr>
<tr class="separator:ae25a137e18ca7d92a4ba6c18c0eab97c inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a4c43d66f5a8b50a879d78682b00976 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6a4c43d66f5a8b50a879d78682b00976">is_dangerous_fields</a> (const <a class="el" href="classfield.html">field</a> &amp;fld) const</td></tr>
<tr class="memdesc:a6a4c43d66f5a8b50a879d78682b00976 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if there is a field in the field set that is dangerous to us.  <a href="classCreature.html#a6a4c43d66f5a8b50a879d78682b00976">More...</a><br /></td></tr>
<tr class="separator:a6a4c43d66f5a8b50a879d78682b00976 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5c36ca5b43c92f6cb02afb52a448372 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af5c36ca5b43c92f6cb02afb52a448372">is_dangerous_field</a> (const <a class="el" href="classfield__entry.html">field_entry</a> &amp;entry) const</td></tr>
<tr class="memdesc:af5c36ca5b43c92f6cb02afb52a448372 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the given field entry is dangerous to us.  <a href="classCreature.html#af5c36ca5b43c92f6cb02afb52a448372">More...</a><br /></td></tr>
<tr class="separator:af5c36ca5b43c92f6cb02afb52a448372 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab21419e08f3047e081d34638e8673c71 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ab21419e08f3047e081d34638e8673c71">check_immunity_data</a> (const <a class="el" href="structfield__immunity__data.html">field_immunity_data</a> &amp;) const</td></tr>
<tr class="separator:ab21419e08f3047e081d34638e8673c71 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36dcf5a04ddc0cf9fa29c08b7b099158 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158">check_dead_state</a> ()</td></tr>
<tr class="memdesc:a36dcf5a04ddc0cf9fa29c08b7b099158 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function checks the creatures <a class="el" href="classCreature.html#ab4c318885f6b9947a7c85d3328d25ffe">is_dead_state</a> and (if true) calls <a class="el" href="classCreature.html#a330dad28f732a1cf3af695eedb54877d">die</a>.  <a href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158">More...</a><br /></td></tr>
<tr class="separator:a36dcf5a04ddc0cf9fa29c08b7b099158 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a666022fd3ed772fa109d273c20e8de55 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a> (const <a class="el" href="classeffect.html">effect</a> &amp;eff, bool <a class="el" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>=false, bool <a class="el" href="recipe__dictionary_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a>=false)</td></tr>
<tr class="separator:a666022fd3ed772fa109d273c20e8de55 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbfc23dd0e0da1b82310c004ebf7bbb2 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#abbfc23dd0e0da1b82310c004ebf7bbb2">add_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="classtime__duration.html">time_duration</a> &amp;<a class="el" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> <a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, bool <a class="el" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>=false, int <a class="el" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>=0, bool <a class="el" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>=false, bool <a class="el" href="recipe__dictionary_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a>=false)</td></tr>
<tr class="separator:abbfc23dd0e0da1b82310c004ebf7bbb2 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92e7ebc1716033979c5db036cab7685b inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a92e7ebc1716033979c5db036cab7685b">add_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="classtime__duration.html">time_duration</a> &amp;<a class="el" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, bool <a class="el" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>=false, int <a class="el" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>=0, bool <a class="el" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>=false, bool <a class="el" href="recipe__dictionary_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a>=false)</td></tr>
<tr class="separator:a92e7ebc1716033979c5db036cab7685b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af45b5a980d7a70440acee8ff848d4aa1 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af45b5a980d7a70440acee8ff848d4aa1">add_effect</a> (const <a class="el" href="classeffect__source.html">effect_source</a> &amp;source, const <a class="el" href="classeffect.html">effect</a> &amp;eff, bool <a class="el" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>=false, bool <a class="el" href="recipe__dictionary_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a>=false)</td></tr>
<tr class="separator:af45b5a980d7a70440acee8ff848d4aa1 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa27d33c30743c9ff885b1085eae3be4d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aa27d33c30743c9ff885b1085eae3be4d">add_effect</a> (const <a class="el" href="classeffect__source.html">effect_source</a> &amp;source, const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="classtime__duration.html">time_duration</a> &amp;<a class="el" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> <a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, bool <a class="el" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>=false, int <a class="el" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>=0, bool <a class="el" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>=false, bool <a class="el" href="recipe__dictionary_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a>=false)</td></tr>
<tr class="memdesc:aa27d33c30743c9ff885b1085eae3be4d inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds or modifies an effect.  <a href="classCreature.html#aa27d33c30743c9ff885b1085eae3be4d">More...</a><br /></td></tr>
<tr class="separator:aa27d33c30743c9ff885b1085eae3be4d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee108e04949017aea1e417f7114dde11 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aee108e04949017aea1e417f7114dde11">add_effect</a> (const <a class="el" href="classeffect__source.html">effect_source</a> &amp;source, const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="classtime__duration.html">time_duration</a> &amp;<a class="el" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, bool <a class="el" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>=false, int <a class="el" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>=0, bool <a class="el" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>=false, bool <a class="el" href="recipe__dictionary_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a>=false)</td></tr>
<tr class="separator:aee108e04949017aea1e417f7114dde11 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a32c3f76a077285e8f0420a2dea4542 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a8a32c3f76a077285e8f0420a2dea4542">schedule_effect</a> (const <a class="el" href="classeffect.html">effect</a> &amp;eff, bool <a class="el" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>=false, bool <a class="el" href="recipe__dictionary_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a>=false)</td></tr>
<tr class="memdesc:a8a32c3f76a077285e8f0420a2dea4542 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules a new effect to be applied.  <a href="classCreature.html#a8a32c3f76a077285e8f0420a2dea4542">More...</a><br /></td></tr>
<tr class="separator:a8a32c3f76a077285e8f0420a2dea4542 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab817398bffec1c66b19f9e65826c89f4 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ab817398bffec1c66b19f9e65826c89f4">schedule_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="classtime__duration.html">time_duration</a> &amp;<a class="el" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> <a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, bool <a class="el" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>=false, int <a class="el" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>=0, bool <a class="el" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>=false, bool <a class="el" href="recipe__dictionary_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a>=false)</td></tr>
<tr class="separator:ab817398bffec1c66b19f9e65826c89f4 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70463d5787c583b55a366e1d98c542fb inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a70463d5787c583b55a366e1d98c542fb">schedule_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="classtime__duration.html">time_duration</a> &amp;<a class="el" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, bool <a class="el" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>=false, int <a class="el" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>=0, bool <a class="el" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>=false, bool <a class="el" href="recipe__dictionary_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a>=false)</td></tr>
<tr class="separator:a70463d5787c583b55a366e1d98c542fb inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2023c106ee9103c630f054f748018218 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a2023c106ee9103c630f054f748018218">add_env_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;vector, int <a class="el" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>, const <a class="el" href="classtime__duration.html">time_duration</a> &amp;<a class="el" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;<a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, bool <a class="el" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>=false, int <a class="el" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>=1, bool <a class="el" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>=false)</td></tr>
<tr class="memdesc:a2023c106ee9103c630f054f748018218 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives chance to save via environmental resist, returns false if resistance was successful.  <a href="classCreature.html#a2023c106ee9103c630f054f748018218">More...</a><br /></td></tr>
<tr class="separator:a2023c106ee9103c630f054f748018218 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacb73ba2eca175f8f6de915db9803e7e inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aacb73ba2eca175f8f6de915db9803e7e">add_env_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;vector, int <a class="el" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>, const <a class="el" href="classtime__duration.html">time_duration</a> &amp;<a class="el" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, bool <a class="el" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>=false, int <a class="el" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>=1, bool <a class="el" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>=false)</td></tr>
<tr class="separator:aacb73ba2eca175f8f6de915db9803e7e inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c6d98c5a339561c989ba3e1ca34eeb8 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;<a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>)</td></tr>
<tr class="memdesc:a1c6d98c5a339561c989ba3e1ca34eeb8 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a listed effect.  <a href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">More...</a><br /></td></tr>
<tr class="separator:a1c6d98c5a339561c989ba3e1ca34eeb8 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b416e19d82db3f6b8be221e8347248 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a22b416e19d82db3f6b8be221e8347248">remove_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id)</td></tr>
<tr class="separator:a22b416e19d82db3f6b8be221e8347248 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73a4ee44970f1fdaa34c5c4bc97932d8 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a73a4ee44970f1fdaa34c5c4bc97932d8">schedule_effect_removal</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;<a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>)</td></tr>
<tr class="memdesc:a73a4ee44970f1fdaa34c5c4bc97932d8 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedule effect removal.  <a href="classCreature.html#a73a4ee44970f1fdaa34c5c4bc97932d8">More...</a><br /></td></tr>
<tr class="separator:a73a4ee44970f1fdaa34c5c4bc97932d8 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa596fc4f02e22a60a0ba84ae207ab8ed inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aa596fc4f02e22a60a0ba84ae207ab8ed">schedule_effect_removal</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id)</td></tr>
<tr class="separator:aa596fc4f02e22a60a0ba84ae207ab8ed inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade25d295e89504f92aff453b05cd2bbe inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ade25d295e89504f92aff453b05cd2bbe">clear_effects</a> ()</td></tr>
<tr class="memdesc:ade25d295e89504f92aff453b05cd2bbe inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all effects.  <a href="classCreature.html#ade25d295e89504f92aff453b05cd2bbe">More...</a><br /></td></tr>
<tr class="separator:ade25d295e89504f92aff453b05cd2bbe inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bf62f4f36b0475f1f39ea27f3beebb0 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;<a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>) const</td></tr>
<tr class="memdesc:a7bf62f4f36b0475f1f39ea27f3beebb0 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if creature has the matching effect.  <a href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">More...</a><br /></td></tr>
<tr class="separator:a7bf62f4f36b0475f1f39ea27f3beebb0 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03e7494e5ae6ce9c561e74c850541454 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a03e7494e5ae6ce9c561e74c850541454">has_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id) const</td></tr>
<tr class="separator:a03e7494e5ae6ce9c561e74c850541454 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed2af9ad3e8abd06b3c3c4f1adaf607e inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aed2af9ad3e8abd06b3c3c4f1adaf607e">has_effect_with_flag</a> (const <a class="el" href="type__id_8h.html#a65869bf196f1d97bcfd690e07ffbbd7d">flag_id</a> &amp;flag, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;<a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>) const</td></tr>
<tr class="memdesc:aed2af9ad3e8abd06b3c3c4f1adaf607e inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if creature has any effect with the given flag.  <a href="classCreature.html#aed2af9ad3e8abd06b3c3c4f1adaf607e">More...</a><br /></td></tr>
<tr class="separator:aed2af9ad3e8abd06b3c3c4f1adaf607e inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34354b7dceef9518f9fd39084eede735 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a34354b7dceef9518f9fd39084eede735">has_effect_with_flag</a> (const <a class="el" href="type__id_8h.html#a65869bf196f1d97bcfd690e07ffbbd7d">flag_id</a> &amp;flag) const</td></tr>
<tr class="separator:a34354b7dceef9518f9fd39084eede735 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952f5a3103775159e193c6ee4e60979b inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::reference_wrapper&lt; const <a class="el" href="classeffect.html">effect</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a952f5a3103775159e193c6ee4e60979b">get_effects_with_flag</a> (const <a class="el" href="type__id_8h.html#a65869bf196f1d97bcfd690e07ffbbd7d">flag_id</a> &amp;flag) const</td></tr>
<tr class="separator:a952f5a3103775159e193c6ee4e60979b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad41cb6f136d40eec49e9d1679fbacc6d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::reference_wrapper&lt; const <a class="el" href="classeffect.html">effect</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ad41cb6f136d40eec49e9d1679fbacc6d">get_effects_from_bp</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;<a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>) const</td></tr>
<tr class="separator:ad41cb6f136d40eec49e9d1679fbacc6d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38ba5d107fb8b7b5e198e66f489c58e9 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::reference_wrapper&lt; const <a class="el" href="classeffect.html">effect</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a38ba5d107fb8b7b5e198e66f489c58e9">get_effects</a> () const</td></tr>
<tr class="separator:a38ba5d107fb8b7b5e198e66f489c58e9 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8d3d8f5a3260c5b54e4973e957f356d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classeffect.html">effect</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">get_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;<a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>=<a class="el" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>()) const</td></tr>
<tr class="memdesc:aa8d3d8f5a3260c5b54e4973e957f356d inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the effect that matches the given arguments exactly.  <a href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">More...</a><br /></td></tr>
<tr class="separator:aa8d3d8f5a3260c5b54e4973e957f356d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed2fa13a40e14d5e9859ff4113ed05e8 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classeffect.html">effect</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aed2fa13a40e14d5e9859ff4113ed05e8">get_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;<a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>=<a class="el" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>())</td></tr>
<tr class="separator:aed2fa13a40e14d5e9859ff4113ed05e8 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ba25d990e8532dd2b0331bfc6cc694c inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1ba25d990e8532dd2b0331bfc6cc694c">get_effect_dur</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;<a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>=<a class="el" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>()) const</td></tr>
<tr class="memdesc:a1ba25d990e8532dd2b0331bfc6cc694c inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the duration of the matching effect.  <a href="classCreature.html#a1ba25d990e8532dd2b0331bfc6cc694c">More...</a><br /></td></tr>
<tr class="separator:a1ba25d990e8532dd2b0331bfc6cc694c inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9689d4816bc2d1204c53c114190fde50 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a9689d4816bc2d1204c53c114190fde50">get_effect_int</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;<a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>=<a class="el" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>()) const</td></tr>
<tr class="memdesc:a9689d4816bc2d1204c53c114190fde50 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the intensity of the matching effect.  <a href="classCreature.html#a9689d4816bc2d1204c53c114190fde50">More...</a><br /></td></tr>
<tr class="separator:a9689d4816bc2d1204c53c114190fde50 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b40041c12e2c414170aad5511878446 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6b40041c12e2c414170aad5511878446">resists_effect</a> (const <a class="el" href="classeffect.html">effect</a> &amp;e) const</td></tr>
<tr class="memdesc:a6b40041c12e2c414170aad5511878446 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the creature resists an effect.  <a href="classCreature.html#a6b40041c12e2c414170aad5511878446">More...</a><br /></td></tr>
<tr class="separator:a6b40041c12e2c414170aad5511878446 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04c1983abeefbf67db1e3f2b2a9b58ab inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab">set_value</a> (const std::string &amp;key, const std::string &amp;value)</td></tr>
<tr class="separator:a04c1983abeefbf67db1e3f2b2a9b58ab inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ad06869ed97eb2701f5f74b7d36281e inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6ad06869ed97eb2701f5f74b7d36281e">remove_value</a> (const std::string &amp;key)</td></tr>
<tr class="separator:a6ad06869ed97eb2701f5f74b7d36281e inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2acb6e1e19bcb775748403d07d8dc3f0 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a2acb6e1e19bcb775748403d07d8dc3f0">get_value</a> (const std::string &amp;key) const</td></tr>
<tr class="separator:a2acb6e1e19bcb775748403d07d8dc3f0 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b36a61a0abd4731f9bc0806583eea65 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a8b36a61a0abd4731f9bc0806583eea65">maybe_get_value</a> (const std::string &amp;key) const</td></tr>
<tr class="separator:a8b36a61a0abd4731f9bc0806583eea65 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1db7a9a0aac4a2279436eac442bd4e0 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ae1db7a9a0aac4a2279436eac442bd4e0">clear_values</a> ()</td></tr>
<tr class="separator:ae1db7a9a0aac4a2279436eac442bd4e0 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2946d574c3339cf1d3baf7b48802fb42 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a2946d574c3339cf1d3baf7b48802fb42">has_trait</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;flag) const</td></tr>
<tr class="memdesc:a2946d574c3339cf1d3baf7b48802fb42 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has the entered trait, returns false for non-humans.  <a href="classCreature.html#a2946d574c3339cf1d3baf7b48802fb42">More...</a><br /></td></tr>
<tr class="separator:a2946d574c3339cf1d3baf7b48802fb42 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5391e672390a2e5f28f0d5e6742c0b54 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54">mod_pain</a> (int npain)</td></tr>
<tr class="separator:a5391e672390a2e5f28f0d5e6742c0b54 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74f17106e37657f528e42b3fd706766a inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a74f17106e37657f528e42b3fd706766a">mod_pain_noresist</a> (int npain)</td></tr>
<tr class="separator:a74f17106e37657f528e42b3fd706766a inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c2a2ea33a8193bb0779e87f4f67617b inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a0c2a2ea33a8193bb0779e87f4f67617b">set_pain</a> (int npain)</td></tr>
<tr class="separator:a0c2a2ea33a8193bb0779e87f4f67617b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71e8440dfb96a7a870c29e0472b7b85d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a71e8440dfb96a7a870c29e0472b7b85d">get_pain</a> () const</td></tr>
<tr class="separator:a71e8440dfb96a7a870c29e0472b7b85d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a402025ac07eb74792b0885446b912cac inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a402025ac07eb74792b0885446b912cac">get_perceived_pain</a> () const</td></tr>
<tr class="separator:a402025ac07eb74792b0885446b912cac inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3d3fb7cfb98cf3c36f0f0681414274a inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af3d3fb7cfb98cf3c36f0f0681414274a">get_moves</a> () const</td></tr>
<tr class="separator:af3d3fb7cfb98cf3c36f0f0681414274a inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a891bc2d0c564449cb462178317819254 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a> (int nmoves)</td></tr>
<tr class="separator:a891bc2d0c564449cb462178317819254 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af826bfbdc9d7f81a8b9e53775f43d080 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af826bfbdc9d7f81a8b9e53775f43d080">set_moves</a> (int nmoves)</td></tr>
<tr class="separator:af826bfbdc9d7f81a8b9e53775f43d080 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7516d970e4db80cfcf8c0c8d345a2fa inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac7516d970e4db80cfcf8c0c8d345a2fa">in_sleep_state</a> () const</td></tr>
<tr class="separator:ac7516d970e4db80cfcf8c0c8d345a2fa inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3175e1b479b42298f197f5a41de45f50 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classCreature.html">Creature</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a3175e1b479b42298f197f5a41de45f50">get_killer</a> () const</td></tr>
<tr class="separator:a3175e1b479b42298f197f5a41de45f50 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a805a8d90db2178529997b355e8898d70 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a805a8d90db2178529997b355e8898d70">get_num_blocks</a> () const</td></tr>
<tr class="separator:a805a8d90db2178529997b355e8898d70 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a655af12aa145ee7fe2340c24a3b4b856 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a655af12aa145ee7fe2340c24a3b4b856">get_num_dodges</a> () const</td></tr>
<tr class="separator:a655af12aa145ee7fe2340c24a3b4b856 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e5459c1b7ff6fee815a1f15643a972c inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a5e5459c1b7ff6fee815a1f15643a972c">get_num_blocks_bonus</a> () const</td></tr>
<tr class="separator:a5e5459c1b7ff6fee815a1f15643a972c inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae498ac0177ab95ad88e80a454e67f721 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ae498ac0177ab95ad88e80a454e67f721">get_num_dodges_bonus</a> () const</td></tr>
<tr class="separator:ae498ac0177ab95ad88e80a454e67f721 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6596f10b3ecc70bf4ece4a13eac31cb9 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6596f10b3ecc70bf4ece4a13eac31cb9">get_num_dodges_base</a> () const</td></tr>
<tr class="separator:a6596f10b3ecc70bf4ece4a13eac31cb9 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb780bf253606fd68aee32c4e34eccd4 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#adb780bf253606fd68aee32c4e34eccd4">get_num_blocks_base</a> () const</td></tr>
<tr class="separator:adb780bf253606fd68aee32c4e34eccd4 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a270368871cfa3557eaed0492367fa187 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a270368871cfa3557eaed0492367fa187">get_env_resist</a> (<a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> <a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>) const</td></tr>
<tr class="separator:a270368871cfa3557eaed0492367fa187 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c7b3266e9605dd8251569aa7810ac3d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a5c7b3266e9605dd8251569aa7810ac3d">get_armor_res</a> (const <a class="el" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a> &amp;dt, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> <a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>) const</td></tr>
<tr class="separator:a5c7b3266e9605dd8251569aa7810ac3d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fb586176b4fe263956c2f2d9a26aa9b inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6fb586176b4fe263956c2f2d9a26aa9b">get_armor_res_base</a> (const <a class="el" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a> &amp;dt, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> <a class="el" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>) const</td></tr>
<tr class="separator:a6fb586176b4fe263956c2f2d9a26aa9b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6e5e8cb1fcf3243807a15fe65e47057 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ae6e5e8cb1fcf3243807a15fe65e47057">get_armor_res_bonus</a> (const <a class="el" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a> &amp;dt) const</td></tr>
<tr class="separator:ae6e5e8cb1fcf3243807a15fe65e47057 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2db9c4d31aa12577ae0f560314cde84e inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a2db9c4d31aa12577ae0f560314cde84e">get_spell_resist</a> () const</td></tr>
<tr class="separator:a2db9c4d31aa12577ae0f560314cde84e inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b81d1ff0359794554e81c7ae16f370 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a88b81d1ff0359794554e81c7ae16f370">get_hit</a> () const</td></tr>
<tr class="separator:a88b81d1ff0359794554e81c7ae16f370 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a261dff3caa6aabe255ae9d3eaa94d3de inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">get_speed</a> () const</td></tr>
<tr class="separator:a261dff3caa6aabe255ae9d3eaa94d3de inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd2f1b1e5bafdef20afddbb704b1d5a5 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#afd2f1b1e5bafdef20afddbb704b1d5a5">uncanny_dodge</a> ()</td></tr>
<tr class="separator:afd2f1b1e5bafdef20afddbb704b1d5a5 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fa7d4fdded6dbb9570f2fa3840c3f0b inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a8fa7d4fdded6dbb9570f2fa3840c3f0b">check_avoid_friendly_fire</a> () const</td></tr>
<tr class="separator:a8fa7d4fdded6dbb9570f2fa3840c3f0b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ece810d7de77235a50dac03c4f263fd inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a2ece810d7de77235a50dac03c4f263fd">set_reachable_zone</a> (int zone)</td></tr>
<tr class="separator:a2ece810d7de77235a50dac03c4f263fd inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e61868823c3214f844264077d60dc86 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a0e61868823c3214f844264077d60dc86">get_reachable_zone</a> () const</td></tr>
<tr class="separator:a0e61868823c3214f844264077d60dc86 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59d8ead2387b3b99cb2e88c5f1858e17 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="anatomy_8h.html#a1ed57b4e8ea6d9a0e43d3bbb59750771">anatomy_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a59d8ead2387b3b99cb2e88c5f1858e17">get_anatomy</a> () const</td></tr>
<tr class="separator:a59d8ead2387b3b99cb2e88c5f1858e17 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adced27b4b5a49657101ce649e8a761a6 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#adced27b4b5a49657101ce649e8a761a6">set_anatomy</a> (const <a class="el" href="anatomy_8h.html#a1ed57b4e8ea6d9a0e43d3bbb59750771">anatomy_id</a> &amp;anat)</td></tr>
<tr class="separator:adced27b4b5a49657101ce649e8a761a6 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51c96c81ae1ea766b5eead4a265c1492 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a51c96c81ae1ea766b5eead4a265c1492">get_random_body_part</a> (bool <a class="el" href="main_8cpp.html#ac0f2228420376f4db7e1274f2b41667c">main</a>=false) const</td></tr>
<tr class="separator:a51c96c81ae1ea766b5eead4a265c1492 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4537397ede1aea8ecec28183252aabe3 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a4537397ede1aea8ecec28183252aabe3">get_all_body_parts</a> (<a class="el" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfae">get_body_part_flags</a>=<a class="el" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea334c4a4c42fdb79d7ebc3e73b517e6f8">get_body_part_flags::none</a>) const</td></tr>
<tr class="memdesc:a4537397ede1aea8ecec28183252aabe3 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns body parts this creature have.  <a href="classCreature.html#a4537397ede1aea8ecec28183252aabe3">More...</a><br /></td></tr>
<tr class="separator:a4537397ede1aea8ecec28183252aabe3 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa957c7087f200c7b37f8ed06f891cac6 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aa957c7087f200c7b37f8ed06f891cac6">get_all_body_parts_of_type</a> (<a class="el" href="structbody__part__type.html#a5c9ac1217c128e0f487b2f460dd3fad1">body_part_type::type</a> part_type, <a class="el" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfae">get_body_part_flags</a> flags=<a class="el" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea334c4a4c42fdb79d7ebc3e73b517e6f8">get_body_part_flags::none</a>) const</td></tr>
<tr class="separator:aa957c7087f200c7b37f8ed06f891cac6 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936001bd5f590f20d5463f861b032840 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a936001bd5f590f20d5463f861b032840">get_random_body_part_of_type</a> (<a class="el" href="structbody__part__type.html#a5c9ac1217c128e0f487b2f460dd3fad1">body_part_type::type</a> part_type) const</td></tr>
<tr class="separator:a936001bd5f590f20d5463f861b032840 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289cc7e1514ccecc5f1d065c629c8aa2 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a289cc7e1514ccecc5f1d065c629c8aa2">get_root_body_part</a> () const</td></tr>
<tr class="separator:a289cc7e1514ccecc5f1d065c629c8aa2 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f38a3e25013f09f73c69206201553d1 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a5f38a3e25013f09f73c69206201553d1">get_all_body_parts_with_flag</a> (const <a class="el" href="type__id_8h.html#afd88da6401595fae37dec376750634c4">json_character_flag</a> &amp;flag) const</td></tr>
<tr class="separator:a5f38a3e25013f09f73c69206201553d1 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac380c4fbe0ac80511f51477a4ea52846 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbody__part__set.html">body_part_set</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac380c4fbe0ac80511f51477a4ea52846">get_drenching_body_parts</a> (bool upper=true, bool mid=true, bool lower=true) const</td></tr>
<tr class="separator:ac380c4fbe0ac80511f51477a4ea52846 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3003f3854c9f0e439092c44dffb30af inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac3003f3854c9f0e439092c44dffb30af">get_num_body_parts_of_type</a> (<a class="el" href="structbody__part__type.html#a5c9ac1217c128e0f487b2f460dd3fad1">body_part_type::type</a> part_type) const</td></tr>
<tr class="separator:ac3003f3854c9f0e439092c44dffb30af inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16903f8a1c2df84a4c2c09e40750c347 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a16903f8a1c2df84a4c2c09e40750c347">get_num_broken_body_parts_of_type</a> (<a class="el" href="structbody__part__type.html#a5c9ac1217c128e0f487b2f460dd3fad1">body_part_type::type</a> part_type) const</td></tr>
<tr class="separator:a16903f8a1c2df84a4c2c09e40750c347 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4dbde454c86b3296f53681c60612974 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">const std::map&lt; <a class="el" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>, <a class="el" href="classbodypart.html">bodypart</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac4dbde454c86b3296f53681c60612974">get_body</a> () const</td></tr>
<tr class="separator:ac4dbde454c86b3296f53681c60612974 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08520d85381520ff27dc274d5718a989 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a08520d85381520ff27dc274d5718a989">set_body</a> ()</td></tr>
<tr class="separator:a08520d85381520ff27dc274d5718a989 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4034e895cd10ecf87f56916af8341014 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a4034e895cd10ecf87f56916af8341014">has_part</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, <a class="el" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47">body_part_filter</a> <a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>=<a class="el" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">body_part_filter::strict</a>) const</td></tr>
<tr class="separator:a4034e895cd10ecf87f56916af8341014 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af376b238bc80631e8873908f465fe7b2 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbodypart.html">bodypart</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af376b238bc80631e8873908f465fe7b2">get_part</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id)</td></tr>
<tr class="separator:af376b238bc80631e8873908f465fe7b2 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad768a979c0aaeb470cb013fe43e77d83 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classbodypart.html">bodypart</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ad768a979c0aaeb470cb013fe43e77d83">get_part</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:ad768a979c0aaeb470cb013fe43e77d83 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d7da8735fb7944fb1ba9f9abb2e7d3 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a49d7da8735fb7944fb1ba9f9abb2e7d3">get_part_id</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, <a class="el" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47">body_part_filter</a> <a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>=<a class="el" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a101312d8768b5d6a1b56115fb68efffb">body_part_filter::next_best</a>, bool suppress_debugmsg=false) const</td></tr>
<tr class="separator:a49d7da8735fb7944fb1ba9f9abb2e7d3 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab901ee8b150fdad01ff2028ec8dba84c inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ab901ee8b150fdad01ff2028ec8dba84c">get_part_hp_cur</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:ab901ee8b150fdad01ff2028ec8dba84c inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad6dc5532f233030d367ed67e0ea6613 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aad6dc5532f233030d367ed67e0ea6613">get_part_hp_max</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:aad6dc5532f233030d367ed67e0ea6613 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff660cc0df3f660c46142e5362f8ffe inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aeff660cc0df3f660c46142e5362f8ffe">get_part_healed_total</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:aeff660cc0df3f660c46142e5362f8ffe inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a619416cdcb47243507f1295a3d901ada inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a619416cdcb47243507f1295a3d901ada">get_part_damage_disinfected</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:a619416cdcb47243507f1295a3d901ada inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a7ef967ebe5be44a5d4c5ea8158d3cb inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a7a7ef967ebe5be44a5d4c5ea8158d3cb">get_part_damage_bandaged</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:a7a7ef967ebe5be44a5d4c5ea8158d3cb inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae751e29e56563f0aed6fbb462cdca9c4 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ae751e29e56563f0aed6fbb462cdca9c4">get_part_drench_capacity</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:ae751e29e56563f0aed6fbb462cdca9c4 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e646d4365acc80cd729c95588974267 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a8e646d4365acc80cd729c95588974267">get_part_wetness</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:a8e646d4365acc80cd729c95588974267 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb022e34c016f883fb785ab8af715bd0 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#ac1b05fcc499bc294761a8306bbe890a7">units::temperature</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#acb022e34c016f883fb785ab8af715bd0">get_part_temp_cur</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:acb022e34c016f883fb785ab8af715bd0 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5619a04558f7cf1ea1fb24bcbca84cab inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#ac1b05fcc499bc294761a8306bbe890a7">units::temperature</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a5619a04558f7cf1ea1fb24bcbca84cab">get_part_temp_conv</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:a5619a04558f7cf1ea1fb24bcbca84cab inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a617d9f695722c4865c7d60ef30438711 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a617d9f695722c4865c7d60ef30438711">get_part_frostbite_timer</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:a617d9f695722c4865c7d60ef30438711 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37491f0687142da6a1f9fcce9a84b240 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">std::array&lt; int, <a class="el" href="bodypart_8h.html#a95db2cc4201e8252838780ec2d932184aa90fc394f882989df385747c70921e9e">NUM_WATER_TOLERANCE</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a37491f0687142da6a1f9fcce9a84b240">get_part_mut_drench</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:a37491f0687142da6a1f9fcce9a84b240 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b42a11004d8092e0453f9122632de99 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a4b42a11004d8092e0453f9122632de99">get_part_wetness_percentage</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:a4b42a11004d8092e0453f9122632de99 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00892cd6e73ac9ecf7c6eb2a043158fc inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structencumbrance__data.html">encumbrance_data</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a00892cd6e73ac9ecf7c6eb2a043158fc">get_part_encumbrance_data</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:a00892cd6e73ac9ecf7c6eb2a043158fc inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a226d6b1000b12edac3e5adecae7b8928 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a226d6b1000b12edac3e5adecae7b8928">set_part_hp_cur</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int set)</td></tr>
<tr class="separator:a226d6b1000b12edac3e5adecae7b8928 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee8599df32920db133b4d40281fe61e inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6ee8599df32920db133b4d40281fe61e">set_part_hp_max</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int set)</td></tr>
<tr class="separator:a6ee8599df32920db133b4d40281fe61e inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92182fbfd56229f1d8d23b929955b6a4 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a92182fbfd56229f1d8d23b929955b6a4">set_part_healed_total</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int set)</td></tr>
<tr class="separator:a92182fbfd56229f1d8d23b929955b6a4 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d7ce3e004b7ae5b226b95ed615a674a inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a3d7ce3e004b7ae5b226b95ed615a674a">set_part_damage_disinfected</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int set)</td></tr>
<tr class="separator:a3d7ce3e004b7ae5b226b95ed615a674a inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaf5a839711997aff5199ad5285c3204 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aaaf5a839711997aff5199ad5285c3204">set_part_damage_bandaged</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int set)</td></tr>
<tr class="separator:aaaf5a839711997aff5199ad5285c3204 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab25b40c4683f6554f45f76ddb06a089d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ab25b40c4683f6554f45f76ddb06a089d">set_part_encumbrance_data</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, const <a class="el" href="structencumbrance__data.html">encumbrance_data</a> &amp;set)</td></tr>
<tr class="separator:ab25b40c4683f6554f45f76ddb06a089d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a302365853bfdd5351a384c4cc823e1 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a4a302365853bfdd5351a384c4cc823e1">set_part_wetness</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int set)</td></tr>
<tr class="separator:a4a302365853bfdd5351a384c4cc823e1 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50eb7b6f001c10c9ee253ad8b85f57a9 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a50eb7b6f001c10c9ee253ad8b85f57a9">set_part_temp_cur</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, <a class="el" href="namespaceunits.html#ac1b05fcc499bc294761a8306bbe890a7">units::temperature</a> set)</td></tr>
<tr class="separator:a50eb7b6f001c10c9ee253ad8b85f57a9 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad698149db2e025cddd1e774770fc7de8 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ad698149db2e025cddd1e774770fc7de8">set_part_temp_conv</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, <a class="el" href="namespaceunits.html#ac1b05fcc499bc294761a8306bbe890a7">units::temperature</a> set)</td></tr>
<tr class="separator:ad698149db2e025cddd1e774770fc7de8 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a371a35ce9173bd2c444cb08c64726560 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a371a35ce9173bd2c444cb08c64726560">set_part_frostbite_timer</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int set)</td></tr>
<tr class="separator:a371a35ce9173bd2c444cb08c64726560 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae74ff4a6c6e50b71374895f72246a667 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ae74ff4a6c6e50b71374895f72246a667">set_part_mut_drench</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, std::pair&lt; <a class="el" href="bodypart_8h.html#a95db2cc4201e8252838780ec2d932184">water_tolerance</a>, int &gt; set)</td></tr>
<tr class="separator:ae74ff4a6c6e50b71374895f72246a667 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29006b1d624e44def0208134e7f0ac3f inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a29006b1d624e44def0208134e7f0ac3f">mod_part_hp_cur</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int mod)</td></tr>
<tr class="separator:a29006b1d624e44def0208134e7f0ac3f inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b7481562f5db150aa48141a0994ed2 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a29b7481562f5db150aa48141a0994ed2">mod_part_hp_max</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int mod)</td></tr>
<tr class="separator:a29b7481562f5db150aa48141a0994ed2 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55954967387e535b1e52f16946a85a47 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a55954967387e535b1e52f16946a85a47">mod_part_healed_total</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int mod)</td></tr>
<tr class="separator:a55954967387e535b1e52f16946a85a47 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0bd61214218ff0dcd676b0b72fed8e5 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ad0bd61214218ff0dcd676b0b72fed8e5">mod_part_damage_disinfected</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int mod)</td></tr>
<tr class="separator:ad0bd61214218ff0dcd676b0b72fed8e5 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1efc19e2d431a3be98f0d651c97e7cf0 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1efc19e2d431a3be98f0d651c97e7cf0">mod_part_damage_bandaged</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int mod)</td></tr>
<tr class="separator:a1efc19e2d431a3be98f0d651c97e7cf0 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d8cf3a723e8cc8df3666fc49540ce94 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a2d8cf3a723e8cc8df3666fc49540ce94">mod_part_wetness</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int mod)</td></tr>
<tr class="separator:a2d8cf3a723e8cc8df3666fc49540ce94 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a3c6e764ace1edd0dadf641bacd1bec inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1a3c6e764ace1edd0dadf641bacd1bec">mod_part_temp_cur</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, <a class="el" href="namespaceunits.html#a93cd1578a96bdf194d4ec88eb50d904e">units::temperature_delta</a> mod)</td></tr>
<tr class="separator:a1a3c6e764ace1edd0dadf641bacd1bec inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8f80dc1205c60890a41fb5d34ea97a6 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ae8f80dc1205c60890a41fb5d34ea97a6">mod_part_temp_conv</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, <a class="el" href="namespaceunits.html#a93cd1578a96bdf194d4ec88eb50d904e">units::temperature_delta</a> mod)</td></tr>
<tr class="separator:ae8f80dc1205c60890a41fb5d34ea97a6 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d6c44f7a224dca20bd27befb6133db3 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a8d6c44f7a224dca20bd27befb6133db3">mod_part_frostbite_timer</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int mod)</td></tr>
<tr class="separator:a8d6c44f7a224dca20bd27befb6133db3 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d140fa65e8f80987add3259db6cc170 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6d140fa65e8f80987add3259db6cc170">set_all_parts_temp_cur</a> (<a class="el" href="namespaceunits.html#ac1b05fcc499bc294761a8306bbe890a7">units::temperature</a> set)</td></tr>
<tr class="separator:a6d140fa65e8f80987add3259db6cc170 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad783dabe159958ef84fda098adc655fe inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ad783dabe159958ef84fda098adc655fe">set_all_parts_temp_conv</a> (<a class="el" href="namespaceunits.html#ac1b05fcc499bc294761a8306bbe890a7">units::temperature</a> set)</td></tr>
<tr class="separator:ad783dabe159958ef84fda098adc655fe inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f888e61e9f5fb97cbf3a816a1e9c3f1 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1f888e61e9f5fb97cbf3a816a1e9c3f1">set_all_parts_wetness</a> (int set)</td></tr>
<tr class="separator:a1f888e61e9f5fb97cbf3a816a1e9c3f1 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ebcf1d6c0af9f4223695752a5ae3632 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6ebcf1d6c0af9f4223695752a5ae3632">set_all_parts_hp_cur</a> (int set)</td></tr>
<tr class="separator:a6ebcf1d6c0af9f4223695752a5ae3632 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af61264a3d5ac62a64df4899e87d2c1 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6af61264a3d5ac62a64df4899e87d2c1">set_all_parts_hp_to_max</a> ()</td></tr>
<tr class="separator:a6af61264a3d5ac62a64df4899e87d2c1 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe71cd74e297421f79b6b8f3f31f418 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#adfe71cd74e297421f79b6b8f3f31f418">has_atleast_one_wet_part</a> () const</td></tr>
<tr class="separator:adfe71cd74e297421f79b6b8f3f31f418 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a681ce099a21add56451f87e4b35dd0b6 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a681ce099a21add56451f87e4b35dd0b6">is_part_at_max_hp</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:a681ce099a21add56451f87e4b35dd0b6 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfac03f5782f8ea53e1efcb5321ead1b inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a> () const</td></tr>
<tr class="separator:acfac03f5782f8ea53e1efcb5321ead1b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35bbfb9c042ed3cf7e0ae9b7280384c4 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a35bbfb9c042ed3cf7e0ae9b7280384c4">get_speed_bonus</a> () const</td></tr>
<tr class="separator:a35bbfb9c042ed3cf7e0ae9b7280384c4 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a282e131a72c19f24c7f0a56323b47ecb inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a282e131a72c19f24c7f0a56323b47ecb">get_block_bonus</a> () const</td></tr>
<tr class="separator:a282e131a72c19f24c7f0a56323b47ecb inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a165ad6f73178b7840a12775951638aaa inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a165ad6f73178b7840a12775951638aaa">get_bash_bonus</a> () const</td></tr>
<tr class="separator:a165ad6f73178b7840a12775951638aaa inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fa1e5c6f9129b59d4938a9505b5e5ce inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a3fa1e5c6f9129b59d4938a9505b5e5ce">get_cut_bonus</a> () const</td></tr>
<tr class="separator:a3fa1e5c6f9129b59d4938a9505b5e5ce inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7f9ca1f62f41d70a2615dfeb17b7cbc inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ab7f9ca1f62f41d70a2615dfeb17b7cbc">get_dodge_bonus</a> () const</td></tr>
<tr class="separator:ab7f9ca1f62f41d70a2615dfeb17b7cbc inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ca4f66498062afc881d76b82946bac inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a06ca4f66498062afc881d76b82946bac">get_hit_bonus</a> () const</td></tr>
<tr class="separator:a06ca4f66498062afc881d76b82946bac inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e13eef080dac3d3ba5bfc5e38b501df inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a3e13eef080dac3d3ba5bfc5e38b501df">get_bash_mult</a> () const</td></tr>
<tr class="separator:a3e13eef080dac3d3ba5bfc5e38b501df inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97123d70cd215ca43735d5516df5806b inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a97123d70cd215ca43735d5516df5806b">get_cut_mult</a> () const</td></tr>
<tr class="separator:a97123d70cd215ca43735d5516df5806b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9815c564e7ff4db1ccd4b58c94bbcf61 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a9815c564e7ff4db1ccd4b58c94bbcf61">get_melee_quiet</a> () const</td></tr>
<tr class="separator:a9815c564e7ff4db1ccd4b58c94bbcf61 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79480b5d63f82bec8d923844e2095bd2 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a79480b5d63f82bec8d923844e2095bd2">get_throw_resist</a> () const</td></tr>
<tr class="separator:a79480b5d63f82bec8d923844e2095bd2 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafc0c68bbbca5efcf8d82a321b657588 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aafc0c68bbbca5efcf8d82a321b657588">mod_stat</a> (const std::string &amp;stat, float modifier)</td></tr>
<tr class="separator:aafc0c68bbbca5efcf8d82a321b657588 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaed992e8acaf0e9dc182ea8ce1d15423 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aaed992e8acaf0e9dc182ea8ce1d15423">set_num_blocks_bonus</a> (int nblocks)</td></tr>
<tr class="separator:aaed992e8acaf0e9dc182ea8ce1d15423 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dfa3bcb8b83066e4de203238274276d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a5dfa3bcb8b83066e4de203238274276d">mod_num_blocks_bonus</a> (int nblocks)</td></tr>
<tr class="separator:a5dfa3bcb8b83066e4de203238274276d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adffc2b92625bf6103e3e2f95c3a404c3 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#adffc2b92625bf6103e3e2f95c3a404c3">mod_num_dodges_bonus</a> (int ndodges)</td></tr>
<tr class="separator:adffc2b92625bf6103e3e2f95c3a404c3 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa54d9cad484861b5ead6aed8c1abfa0e inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aa54d9cad484861b5ead6aed8c1abfa0e">set_armor_res_bonus</a> (int narm, const <a class="el" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a> &amp;dt)</td></tr>
<tr class="separator:aa54d9cad484861b5ead6aed8c1abfa0e inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afedb5874d4d3438d3c82cb2104ec49fa inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">set_speed_base</a> (int nspeed)</td></tr>
<tr class="separator:afedb5874d4d3438d3c82cb2104ec49fa inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81fd71e521e09908425fc63a64458f59 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a81fd71e521e09908425fc63a64458f59">set_speed_bonus</a> (int nspeed)</td></tr>
<tr class="separator:a81fd71e521e09908425fc63a64458f59 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9993b4cb7492f25fb6eb70568009d90a inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a9993b4cb7492f25fb6eb70568009d90a">set_block_bonus</a> (int nblock)</td></tr>
<tr class="separator:a9993b4cb7492f25fb6eb70568009d90a inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa00c327b305717936ecf94eda194e3cc inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aa00c327b305717936ecf94eda194e3cc">set_bash_bonus</a> (int nbash)</td></tr>
<tr class="separator:aa00c327b305717936ecf94eda194e3cc inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9332a74096bf822b7f9438e0098c4c1f inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a9332a74096bf822b7f9438e0098c4c1f">set_cut_bonus</a> (int ncut)</td></tr>
<tr class="separator:a9332a74096bf822b7f9438e0098c4c1f inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4f09ff71f1aa8562798d47cb4ef0682 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">mod_speed_bonus</a> (int nspeed)</td></tr>
<tr class="separator:aa4f09ff71f1aa8562798d47cb4ef0682 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73dcd9331c055a2cd05d05be0337257d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a73dcd9331c055a2cd05d05be0337257d">mod_block_bonus</a> (int nblock)</td></tr>
<tr class="separator:a73dcd9331c055a2cd05d05be0337257d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23eee2ee9fde4c48750f12ab70fe45c5 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a23eee2ee9fde4c48750f12ab70fe45c5">mod_bash_bonus</a> (int nbash)</td></tr>
<tr class="separator:a23eee2ee9fde4c48750f12ab70fe45c5 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af537fe5ecb67408c498ee4517b4ab603 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af537fe5ecb67408c498ee4517b4ab603">mod_cut_bonus</a> (int ncut)</td></tr>
<tr class="separator:af537fe5ecb67408c498ee4517b4ab603 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f6ab734f2a1291f27a2b0b206f3b5c1 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a3f6ab734f2a1291f27a2b0b206f3b5c1">mod_size_bonus</a> (int nsize)</td></tr>
<tr class="separator:a3f6ab734f2a1291f27a2b0b206f3b5c1 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e9c58c5ee7f2c5780abe8f90bdd6608 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a7e9c58c5ee7f2c5780abe8f90bdd6608">set_dodge_bonus</a> (float ndodge)</td></tr>
<tr class="separator:a7e9c58c5ee7f2c5780abe8f90bdd6608 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1258aef238c0dbd5dd72427a73ab0714 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1258aef238c0dbd5dd72427a73ab0714">set_hit_bonus</a> (float nhit)</td></tr>
<tr class="separator:a1258aef238c0dbd5dd72427a73ab0714 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60ca228583adf18b2e56e1c96ff8b048 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048">mod_dodge_bonus</a> (float ndodge)</td></tr>
<tr class="separator:a60ca228583adf18b2e56e1c96ff8b048 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a089a7123da50e5ffa294e86e0d8dacd6 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a089a7123da50e5ffa294e86e0d8dacd6">mod_hit_bonus</a> (float nhit)</td></tr>
<tr class="separator:a089a7123da50e5ffa294e86e0d8dacd6 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cb13c880d433e508e6101eae249ee92 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a3cb13c880d433e508e6101eae249ee92">set_bash_mult</a> (float nbashmult)</td></tr>
<tr class="separator:a3cb13c880d433e508e6101eae249ee92 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf59bb0bd44c13a69222fb9d9f7796ab inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#abf59bb0bd44c13a69222fb9d9f7796ab">set_cut_mult</a> (float ncutmult)</td></tr>
<tr class="separator:abf59bb0bd44c13a69222fb9d9f7796ab inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fa8727907a0dc765764ad5edf320ab7 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6fa8727907a0dc765764ad5edf320ab7">set_melee_quiet</a> (bool nquiet)</td></tr>
<tr class="separator:a6fa8727907a0dc765764ad5edf320ab7 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d1bca3e7997343b8bbffd7d7257edad inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a4d1bca3e7997343b8bbffd7d7257edad">set_throw_resist</a> (int nthrowres)</td></tr>
<tr class="separator:a4d1bca3e7997343b8bbffd7d7257edad inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f39711701b63d9ae4e74b624c326316 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">draw</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, const <a class="el" href="structpoint.html">point</a> &amp;origin, bool inverted) const</td></tr>
<tr class="separator:a1f39711701b63d9ae4e74b624c326316 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9bcfd9fd983268a76a178dc61869d52 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac9bcfd9fd983268a76a178dc61869d52">draw</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, const <a class="el" href="structtripoint.html">tripoint</a> &amp;origin, bool inverted) const</td></tr>
<tr class="separator:ac9bcfd9fd983268a76a178dc61869d52 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eadbc3e5891d1ff578ac49291e12b66 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1eadbc3e5891d1ff578ac49291e12b66">describe_infrared</a> (std::vector&lt; std::string &gt; &amp;buf) const</td></tr>
<tr class="memdesc:a1eadbc3e5891d1ff578ac49291e12b66 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describe this creature as seen by the avatar via infrared vision.  <a href="classCreature.html#a1eadbc3e5891d1ff578ac49291e12b66">More...</a><br /></td></tr>
<tr class="separator:a1eadbc3e5891d1ff578ac49291e12b66 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6293c17885ef44d613618b4953a1be17 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6293c17885ef44d613618b4953a1be17">describe_specials</a> (std::vector&lt; std::string &gt; &amp;buf) const</td></tr>
<tr class="memdesc:a6293c17885ef44d613618b4953a1be17 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describe this creature as detected by the avatar's special senses.  <a href="classCreature.html#a6293c17885ef44d613618b4953a1be17">More...</a><br /></td></tr>
<tr class="separator:a6293c17885ef44d613618b4953a1be17 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91dc4715c36eef7d116f944be9a4d435 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a> (const std::string &amp;) const</td></tr>
<tr class="separator:a91dc4715c36eef7d116f944be9a4d435 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ca3f79988b1c0dc2faa7e02ea455ca8 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a9ca3f79988b1c0dc2faa7e02ea455ca8">add_msg_if_player</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;, const std::string &amp;) const</td></tr>
<tr class="separator:a9ca3f79988b1c0dc2faa7e02ea455ca8 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a362ab9bed1655e6a8d89500c0a918151 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a362ab9bed1655e6a8d89500c0a918151">add_msg_if_player</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:a362ab9bed1655e6a8d89500c0a918151 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f53ca8ced4f6083f02d47ceef2aeb8b inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a9f53ca8ced4f6083f02d47ceef2aeb8b">add_msg_if_player</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:a9f53ca8ced4f6083f02d47ceef2aeb8b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7b015b4a8a8f1d6565bd447dea4e91e inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:ae7b015b4a8a8f1d6565bd447dea4e91e inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#ae7b015b4a8a8f1d6565bd447dea4e91e">add_msg_if_player</a> (const char *const msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:ae7b015b4a8a8f1d6565bd447dea4e91e inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb3c5a00b0bb0cb6b5cf064bca962e5 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a6cb3c5a00b0bb0cb6b5cf064bca962e5 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a6cb3c5a00b0bb0cb6b5cf064bca962e5">add_msg_if_player</a> (const std::string &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a6cb3c5a00b0bb0cb6b5cf064bca962e5 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2df004655672434d5a9b31cab46fa16b inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a2df004655672434d5a9b31cab46fa16b inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a2df004655672434d5a9b31cab46fa16b">add_msg_if_player</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a2df004655672434d5a9b31cab46fa16b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25e758630f6e0f9a6b017d06a5061027 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a25e758630f6e0f9a6b017d06a5061027 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a25e758630f6e0f9a6b017d06a5061027">add_msg_if_player</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const char *const msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a25e758630f6e0f9a6b017d06a5061027 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be7851858cc262d9f152bc5cfba0b3c inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a1be7851858cc262d9f152bc5cfba0b3c inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a1be7851858cc262d9f152bc5cfba0b3c">add_msg_if_player</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const std::string &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a1be7851858cc262d9f152bc5cfba0b3c inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abec1b60d0dd693076c231f3d24f4455d inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:abec1b60d0dd693076c231f3d24f4455d inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#abec1b60d0dd693076c231f3d24f4455d">add_msg_if_player</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const <a class="el" href="classtranslation.html">translation</a> &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:abec1b60d0dd693076c231f3d24f4455d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3b0f9beac863a48f4e7b1b375ecc7cf inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af3b0f9beac863a48f4e7b1b375ecc7cf">add_msg_if_npc</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:af3b0f9beac863a48f4e7b1b375ecc7cf inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff08a0fd32630c9d3ea6dd7320048028 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aff08a0fd32630c9d3ea6dd7320048028">add_msg_if_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:aff08a0fd32630c9d3ea6dd7320048028 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa8bbf304094b1f21b2740518d6630e inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:aaaa8bbf304094b1f21b2740518d6630e inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#aaaa8bbf304094b1f21b2740518d6630e">add_msg_if_npc</a> (const char *const msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:aaaa8bbf304094b1f21b2740518d6630e inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48279f8a14d84719495e7589230e3576 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a48279f8a14d84719495e7589230e3576 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a48279f8a14d84719495e7589230e3576">add_msg_if_npc</a> (const std::string &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a48279f8a14d84719495e7589230e3576 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31796e0c637397ee99aa363d9fff619a inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a31796e0c637397ee99aa363d9fff619a inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a31796e0c637397ee99aa363d9fff619a">add_msg_if_npc</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a31796e0c637397ee99aa363d9fff619a inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab829716b1c7d34c74a6be5f7cbb8d8dc inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:ab829716b1c7d34c74a6be5f7cbb8d8dc inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#ab829716b1c7d34c74a6be5f7cbb8d8dc">add_msg_if_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const char *const msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:ab829716b1c7d34c74a6be5f7cbb8d8dc inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae472c038258be0005ac20376ee68be3b inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:ae472c038258be0005ac20376ee68be3b inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#ae472c038258be0005ac20376ee68be3b">add_msg_if_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const std::string &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:ae472c038258be0005ac20376ee68be3b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1593ee1fc7ab6bf0ae760fdabc9f1ce inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:ae1593ee1fc7ab6bf0ae760fdabc9f1ce inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#ae1593ee1fc7ab6bf0ae760fdabc9f1ce">add_msg_if_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const <a class="el" href="classtranslation.html">translation</a> &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:ae1593ee1fc7ab6bf0ae760fdabc9f1ce inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b6938eb560ebd8f5d2518632c0d21ea inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a7b6938eb560ebd8f5d2518632c0d21ea">add_msg_player_or_npc</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:a7b6938eb560ebd8f5d2518632c0d21ea inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba59f7f156a1a85ed266b0458fd6be2e inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aba59f7f156a1a85ed266b0458fd6be2e">add_msg_player_or_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:aba59f7f156a1a85ed266b0458fd6be2e inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f62360e42c8429e2f6dbc06c0b998da inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a6f62360e42c8429e2f6dbc06c0b998da inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a6f62360e42c8429e2f6dbc06c0b998da">add_msg_player_or_npc</a> (const char *const player_msg, const char *const npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a6f62360e42c8429e2f6dbc06c0b998da inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c1a6d047f771eb8087eee69e9743fe inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a67c1a6d047f771eb8087eee69e9743fe inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a67c1a6d047f771eb8087eee69e9743fe">add_msg_player_or_npc</a> (const std::string &amp;player_msg, const std::string &amp;npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a67c1a6d047f771eb8087eee69e9743fe inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a203cbfdf79509fb8331551031b86e75b inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a203cbfdf79509fb8331551031b86e75b inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a203cbfdf79509fb8331551031b86e75b">add_msg_player_or_npc</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;player_msg, const <a class="el" href="classtranslation.html">translation</a> &amp;npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a203cbfdf79509fb8331551031b86e75b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1641f7cd3c45babcf065beeb2d341d71 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a1641f7cd3c45babcf065beeb2d341d71 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a1641f7cd3c45babcf065beeb2d341d71">add_msg_player_or_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const char *const player_msg, const char *const npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a1641f7cd3c45babcf065beeb2d341d71 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2310e011bcb43c7f0129bfc994a194aa inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a2310e011bcb43c7f0129bfc994a194aa inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a2310e011bcb43c7f0129bfc994a194aa">add_msg_player_or_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const std::string &amp;player_msg, const std::string &amp;npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a2310e011bcb43c7f0129bfc994a194aa inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa76a8657010c9d1ddb06cba966f48822 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:aa76a8657010c9d1ddb06cba966f48822 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#aa76a8657010c9d1ddb06cba966f48822">add_msg_player_or_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const <a class="el" href="classtranslation.html">translation</a> &amp;player_msg, const <a class="el" href="classtranslation.html">translation</a> &amp;npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:aa76a8657010c9d1ddb06cba966f48822 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a915f59d2cd13a723af0b26fba3703926 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a915f59d2cd13a723af0b26fba3703926">add_msg_player_or_say</a> (const std::string &amp;, const std::string &amp;) const</td></tr>
<tr class="separator:a915f59d2cd13a723af0b26fba3703926 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7970a6ee218aedab3b1a575b04959261 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a7970a6ee218aedab3b1a575b04959261">add_msg_player_or_say</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;, const std::string &amp;, const std::string &amp;) const</td></tr>
<tr class="separator:a7970a6ee218aedab3b1a575b04959261 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44a4fc37b385760d28c9d1ef786ed7c9 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a44a4fc37b385760d28c9d1ef786ed7c9">add_msg_player_or_say</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:a44a4fc37b385760d28c9d1ef786ed7c9 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a71f490d521680c54e485b811129ca2 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a5a71f490d521680c54e485b811129ca2">add_msg_player_or_say</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:a5a71f490d521680c54e485b811129ca2 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab8e21a7dc23122912312f4f1b4e7309 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:aab8e21a7dc23122912312f4f1b4e7309 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#aab8e21a7dc23122912312f4f1b4e7309">add_msg_player_or_say</a> (const char *const player_msg, const char *const npc_speech, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:aab8e21a7dc23122912312f4f1b4e7309 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb957c944f2a65000030415bf9041280 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:afb957c944f2a65000030415bf9041280 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#afb957c944f2a65000030415bf9041280">add_msg_player_or_say</a> (const std::string &amp;player_msg, const std::string &amp;npc_speech, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:afb957c944f2a65000030415bf9041280 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace0149213e778d5f0034af9e26d29111 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:ace0149213e778d5f0034af9e26d29111 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#ace0149213e778d5f0034af9e26d29111">add_msg_player_or_say</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;player_msg, const <a class="el" href="classtranslation.html">translation</a> &amp;npc_speech, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:ace0149213e778d5f0034af9e26d29111 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec7d10af5a2f4c9697590299c9dc29fd inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:aec7d10af5a2f4c9697590299c9dc29fd inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#aec7d10af5a2f4c9697590299c9dc29fd">add_msg_player_or_say</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const char *const player_msg, const char *const npc_speech, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:aec7d10af5a2f4c9697590299c9dc29fd inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af94db5f2e951561ee5ffe083b106a5c5 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:af94db5f2e951561ee5ffe083b106a5c5 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#af94db5f2e951561ee5ffe083b106a5c5">add_msg_player_or_say</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const std::string &amp;player_msg, const std::string &amp;npc_speech, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:af94db5f2e951561ee5ffe083b106a5c5 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea6e417cd7bfc04692f2b754f17b7f29 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:aea6e417cd7bfc04692f2b754f17b7f29 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#aea6e417cd7bfc04692f2b754f17b7f29">add_msg_player_or_say</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const <a class="el" href="classtranslation.html">translation</a> &amp;player_msg, const <a class="el" href="classtranslation.html">translation</a> &amp;npc_speech, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:aea6e417cd7bfc04692f2b754f17b7f29 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add5b4e52817f260a96ddcfdea6d4585e inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::string, std::string &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#add5b4e52817f260a96ddcfdea6d4585e">get_values</a> ()</td></tr>
<tr class="separator:add5b4e52817f260a96ddcfdea6d4585e inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a656cee63b39cd5205193de655185859b inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a656cee63b39cd5205193de655185859b">clear_killer</a> ()</td></tr>
<tr class="separator:a656cee63b39cd5205193de655185859b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36478eccbdd3eab446c0534fbca13644 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a36478eccbdd3eab446c0534fbca13644">set_summon_time</a> (const <a class="el" href="classtime__duration.html">time_duration</a> &amp;<a class="el" href="smart__controller__ui_8h.html#a70311dd7f8c88e8727c2a7567aa555caaa7970bb5f1149f16a82922773632ebe3">length</a>)</td></tr>
<tr class="separator:a36478eccbdd3eab446c0534fbca13644 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc608b798e2e44df25ea0fe26423c9b8 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#afc608b798e2e44df25ea0fe26423c9b8">decrement_summon_timer</a> ()</td></tr>
<tr class="separator:afc608b798e2e44df25ea0fe26423c9b8 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4095a32d376ed62d2dec7dbff95f214 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ab4095a32d376ed62d2dec7dbff95f214">set_summoner</a> (<a class="el" href="classCreature.html">Creature</a> *<a class="el" href="classCreature.html#ab26785c7f4313d601074016eaec2b938">summoner</a>)</td></tr>
<tr class="separator:ab4095a32d376ed62d2dec7dbff95f214 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75d8b3794b5676cf8ebdf3fb52bd8686 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a75d8b3794b5676cf8ebdf3fb52bd8686">set_summoner</a> (<a class="el" href="classcharacter__id.html">character_id</a> <a class="el" href="classCreature.html#ab26785c7f4313d601074016eaec2b938">summoner</a>)</td></tr>
<tr class="separator:a75d8b3794b5676cf8ebdf3fb52bd8686 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae26f38c57c1d967a803a80cb3a3703bf inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCreature.html">Creature</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ae26f38c57c1d967a803a80cb3a3703bf">get_summoner</a> () const</td></tr>
<tr class="separator:ae26f38c57c1d967a803a80cb3a3703bf inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02bfe7dfc1d4636ba78e427102c24810 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a02bfe7dfc1d4636ba78e427102c24810">get_max_hitsize_bodypart</a> () const</td></tr>
<tr class="separator:a02bfe7dfc1d4636ba78e427102c24810 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa48ff59c517a5e07e7dfc702b16007c inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#afa48ff59c517a5e07e7dfc702b16007c">select_body_part</a> (int min_hit, int max_hit, bool <a class="el" href="classCreature.html#a286e7a58c2eb60f8fdc15b4d0d2e7888">can_attack_high</a>, int <a class="el" href="classCreature.html#ae92d2444aa89afae41c107cf6fcf6851">hit_roll</a>) const</td></tr>
<tr class="separator:afa48ff59c517a5e07e7dfc702b16007c inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeddcbc266445b335911f12f216f56cbb inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aeddcbc266445b335911f12f216f56cbb">select_blocking_part</a> (bool arm, bool leg, bool nonstandard) const</td></tr>
<tr class="separator:aeddcbc266445b335911f12f216f56cbb inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a393c7e306d5a59d54da4224bf183f447 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a393c7e306d5a59d54da4224bf183f447">random_body_part</a> (bool main_parts_only=false) const</td></tr>
<tr class="separator:a393c7e306d5a59d54da4224bf183f447 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9df0a066b29a8eedfa048fde96a19a1f inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a9df0a066b29a8eedfa048fde96a19a1f">get_all_eligable_parts</a> (int min_hit, int max_hit, bool <a class="el" href="classCreature.html#a286e7a58c2eb60f8fdc15b4d0d2e7888">can_attack_high</a>) const</td></tr>
<tr class="separator:a9df0a066b29a8eedfa048fde96a19a1f inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85f7bb2576d6f38d117b3714c1e94dee inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a85f7bb2576d6f38d117b3714c1e94dee">add_damage_over_time</a> (const <a class="el" href="classdamage__over__time__data.html">damage_over_time_data</a> &amp;DoT)</td></tr>
<tr class="separator:a85f7bb2576d6f38d117b3714c1e94dee inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6012e6dfc9a77e5771ad4b070b52f313 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6012e6dfc9a77e5771ad4b070b52f313">process_damage_over_time</a> ()</td></tr>
<tr class="separator:a6012e6dfc9a77e5771ad4b070b52f313 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabed1ac65b7fbd67cfb8a3252b16e67d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aabed1ac65b7fbd67cfb8a3252b16e67d">replace_with_npc_name</a> (std::string input) const</td></tr>
<tr class="memdesc:aabed1ac65b7fbd67cfb8a3252b16e67d inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function replaces the "&lt;npcname&gt;" substring with the <a class="el" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a> of this creature.  <a href="classCreature.html#aabed1ac65b7fbd67cfb8a3252b16e67d">More...</a><br /></td></tr>
<tr class="separator:aabed1ac65b7fbd67cfb8a3252b16e67d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3261de1530798f5b934a71b9a4e17f5b inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a> () const</td></tr>
<tr class="memdesc:a3261de1530798f5b934a71b9a4e17f5b inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the location of the creature in map square coordinates (the most detailed coordinate system), relative to a fixed global point of origin.  <a href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">More...</a><br /></td></tr>
<tr class="separator:a3261de1530798f5b934a71b9a4e17f5b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac211737fb0fabb73b28d9aee3922ae50 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="coordinates_8h.html#ae72b84003f239e5e878a036da3758331">tripoint_abs_sm</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac211737fb0fabb73b28d9aee3922ae50">global_sm_location</a> () const</td></tr>
<tr class="memdesc:ac211737fb0fabb73b28d9aee3922ae50 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the location of the creature in global submap coordinates.  <a href="classCreature.html#ac211737fb0fabb73b28d9aee3922ae50">More...</a><br /></td></tr>
<tr class="separator:ac211737fb0fabb73b28d9aee3922ae50 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14ecbd8f044628463354090421a805b4 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a> () const</td></tr>
<tr class="memdesc:a14ecbd8f044628463354090421a805b4 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the location of the creature in global overmap terrain coordinates.  <a href="classCreature.html#a14ecbd8f044628463354090421a805b4">More...</a><br /></td></tr>
<tr class="separator:a14ecbd8f044628463354090421a805b4 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classviewer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classviewer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classviewer.html">viewer</a></td></tr>
<tr class="memitem:ae4192cdb3e3732b749d2c9337479679a inherit pub_methods_classviewer"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classviewer.html#ae4192cdb3e3732b749d2c9337479679a">~viewer</a> ()=default</td></tr>
<tr class="separator:ae4192cdb3e3732b749d2c9337479679a inherit pub_methods_classviewer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a8f374ed84027ba4933a19980bfaf2734"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a8f374ed84027ba4933a19980bfaf2734">speed_description</a> (float mon_speed_rating, bool immobile=false, const <a class="el" href="type__id_8h.html#ab21b18873fac91ea77a29ffc414bb9f3">speed_description_id</a> &amp;speed_desc=<a class="el" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">speed_description_id::NULL_ID</a>())</td></tr>
<tr class="separator:a8f374ed84027ba4933a19980bfaf2734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classCreature"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classCreature')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classCreature.html">Creature</a></td></tr>
<tr class="memitem:ad628fd3820652dc675e2165d3252e6dc inherit pub_static_methods_classCreature"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ad628fd3820652dc675e2165d3252e6dc">attitude_raw_string</a> (<a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217">Attitude</a> att)</td></tr>
<tr class="memdesc:ad628fd3820652dc675e2165d3252e6dc inherit pub_static_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simplified attitude string for unlocalized needs.  <a href="classCreature.html#ad628fd3820652dc675e2165d3252e6dc">More...</a><br /></td></tr>
<tr class="separator:ad628fd3820652dc675e2165d3252e6dc inherit pub_static_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a025b4f9c24e557111c1501d2d7aaccef inherit pub_static_methods_classCreature"><td class="memItemLeft" align="right" valign="top">static const std::pair&lt; <a class="el" href="classtranslation.html">translation</a>, <a class="el" href="classnc__color.html">nc_color</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a025b4f9c24e557111c1501d2d7aaccef">get_attitude_ui_data</a> (<a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217">Attitude</a> att)</td></tr>
<tr class="memdesc:a025b4f9c24e557111c1501d2d7aaccef inherit pub_static_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classCreature.html">Creature</a> Attitude as String and color.  <a href="classCreature.html#a025b4f9c24e557111c1501d2d7aaccef">More...</a><br /></td></tr>
<tr class="separator:a025b4f9c24e557111c1501d2d7aaccef inherit pub_static_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d0965e36bf4e849645d2d24c87cd5f0 inherit pub_static_methods_classCreature"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1d0965e36bf4e849645d2d24c87cd5f0">load_hit_range</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;)</td></tr>
<tr class="separator:a1d0965e36bf4e849645d2d24c87cd5f0 inherit pub_static_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab867ed85af4f78ffd00d7c525fba796b"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; <a class="el" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ab867ed85af4f78ffd00d7c525fba796b">grabbed_limbs</a></td></tr>
<tr class="separator:ab867ed85af4f78ffd00d7c525fba796b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56a49e970812e2317cc67035c33fa96f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">wander_pos</a></td></tr>
<tr class="separator:a56a49e970812e2317cc67035c33fa96f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790b213f8c42018dba14f5358644226f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a790b213f8c42018dba14f5358644226f">provocative_sound</a> = false</td></tr>
<tr class="separator:a790b213f8c42018dba14f5358644226f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88c30bfeb57c6d44b965f92265fc16d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">wandf</a> = 0</td></tr>
<tr class="separator:a88c30bfeb57c6d44b965f92265fc16d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a275d73e1bf3d08e2ea1a0704ac898f7e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a275d73e1bf3d08e2ea1a0704ac898f7e">inv</a></td></tr>
<tr class="separator:a275d73e1bf3d08e2ea1a0704ac898f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a465028b1b8fcd3e2f397549f02cb1719"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a465028b1b8fcd3e2f397549f02cb1719">dissectable_inv</a></td></tr>
<tr class="separator:a465028b1b8fcd3e2f397549f02cb1719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa07ebef40819868b9f7a86383d6cd8c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCharacter.html">Character</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a> = nullptr</td></tr>
<tr class="separator:aa07ebef40819868b9f7a86383d6cd8c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaac3e97cc65bb74fce0de43c73844aa9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcharacter__id.html">character_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aaac3e97cc65bb74fce0de43c73844aa9">mounted_player_id</a></td></tr>
<tr class="separator:aaac3e97cc65bb74fce0de43c73844aa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab00d759ebe29170bf2a166dd155bfeb2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcharacter__id.html">character_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ab00d759ebe29170bf2a166dd155bfeb2">dragged_foe_id</a></td></tr>
<tr class="separator:ab00d759ebe29170bf2a166dd155bfeb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2881507933646bca97ef83c7112595ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a2881507933646bca97ef83c7112595ac">tied_item</a></td></tr>
<tr class="separator:a2881507933646bca97ef83c7112595ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a662acdf990147854bad39a7c128afcaa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a662acdf990147854bad39a7c128afcaa">tack_item</a></td></tr>
<tr class="separator:a662acdf990147854bad39a7c128afcaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae152269bc060756feb09757c9f8c3f0c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ae152269bc060756feb09757c9f8c3f0c">armor_item</a></td></tr>
<tr class="separator:ae152269bc060756feb09757c9f8c3f0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0eaba81bb3c25eecea173d9074f5521"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ab0eaba81bb3c25eecea173d9074f5521">storage_item</a></td></tr>
<tr class="separator:ab0eaba81bb3c25eecea173d9074f5521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d5bdb6389c0388198bda9530620e4af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a5d5bdb6389c0388198bda9530620e4af">battery_item</a></td></tr>
<tr class="separator:a5d5bdb6389c0388198bda9530620e4af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e17d0d504a12d9b2e4de3e7a7503fff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> = 0</td></tr>
<tr class="separator:a4e17d0d504a12d9b2e4de3e7a7503fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b22fe8719e4783fe1896429cedefa8d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> = 0</td></tr>
<tr class="separator:a7b22fe8719e4783fe1896429cedefa8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25af680aabcc13beba81f0d5410d2ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> = 0</td></tr>
<tr class="separator:aa25af680aabcc13beba81f0d5410d2ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aada2988a7383cd60274263184d51303d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aada2988a7383cd60274263184d51303d">stomach_size</a> = 0</td></tr>
<tr class="separator:aada2988a7383cd60274263184d51303d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11074efaf5980ef21e67507fb97232a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a11074efaf5980ef21e67507fb97232a3">amount_eaten</a> = 0</td></tr>
<tr class="separator:a11074efaf5980ef21e67507fb97232a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e30fdb59bcecd8ecb8a609431cb6caf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="npc_8h.html#a3472a8986ea9d6078ab02871b7791add">mfaction_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a8e30fdb59bcecd8ecb8a609431cb6caf">faction</a></td></tr>
<tr class="separator:a8e30fdb59bcecd8ecb8a609431cb6caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b78cfdda7c7750af4020aa9f0d3994"><td class="memItemLeft" align="right" valign="top">std::set&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a01b78cfdda7c7750af4020aa9f0d3994">mission_ids</a></td></tr>
<tr class="separator:a01b78cfdda7c7750af4020aa9f0d3994"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac18a1fa7e650a4c2d927d666a10f84aa"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ac18a1fa7e650a4c2d927d666a10f84aa">mission_fused</a></td></tr>
<tr class="separator:ac18a1fa7e650a4c2d927d666a10f84aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa30f973bf524ba275ada847f6118b048"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structmtype.html">mtype</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a></td></tr>
<tr class="separator:aa30f973bf524ba275ada847f6118b048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f9d03ffee51f0193855490a75511596"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a2f9d03ffee51f0193855490a75511596">no_extra_death_drops</a> = false</td></tr>
<tr class="separator:a2f9d03ffee51f0193855490a75511596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55f85ad0bf2f4d114107820910a42c0a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a55f85ad0bf2f4d114107820910a42c0a">no_corpse_quiet</a> = false</td></tr>
<tr class="separator:a55f85ad0bf2f4d114107820910a42c0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8ac8dd571acf81aad0df01924d335c6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#af8ac8dd571acf81aad0df01924d335c6">death_drops</a> = true</td></tr>
<tr class="separator:af8ac8dd571acf81aad0df01924d335c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ebb9c26fcbaee32919a7cd671761c9d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a4ebb9c26fcbaee32919a7cd671761c9d">quiet_death</a> = false</td></tr>
<tr class="separator:a4ebb9c26fcbaee32919a7cd671761c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0adc4673278e497b75a357040ce2739"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ab0adc4673278e497b75a357040ce2739">made_footstep</a> = false</td></tr>
<tr class="separator:ab0adc4673278e497b75a357040ce2739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e50554c4210ec2a15d9ed44e61bcf3a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a5e50554c4210ec2a15d9ed44e61bcf3a">unique_name</a></td></tr>
<tr class="separator:a5e50554c4210ec2a15d9ed44e61bcf3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fc9e3a231d3eafe78fa2a296a8ce1f5"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7fc9e3a231d3eafe78fa2a296a8ce1f5">nickname</a></td></tr>
<tr class="separator:a7fc9e3a231d3eafe78fa2a296a8ce1f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a2109e8e8394c4580a7a545ab9c04fb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a9a2109e8e8394c4580a7a545ab9c04fb">hallucination</a> = false</td></tr>
<tr class="separator:a9a2109e8e8394c4580a7a545ab9c04fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bcf8c4105ed1ba90775fbdef4afeaf6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a1bcf8c4105ed1ba90775fbdef4afeaf6">fish_population</a> = 1</td></tr>
<tr class="separator:a1bcf8c4105ed1ba90775fbdef4afeaf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65cbbc1b321226ed46f86c8a163b657a"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a65cbbc1b321226ed46f86c8a163b657a">ignoring</a> = 0</td></tr>
<tr class="separator:a65cbbc1b321226ed46f86c8a163b657a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab80f9246aad2b3c22becee9f34dc17d8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> = true</td></tr>
<tr class="separator:ab80f9246aad2b3c22becee9f34dc17d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af46606649876d6d9978b914694f9ca16"><td class="memItemLeft" align="right" valign="top"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="classtime__point.html">time_point</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#af46606649876d6d9978b914694f9ca16">lastseen_turn</a></td></tr>
<tr class="separator:af46606649876d6d9978b914694f9ca16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8878b1cacf3048e2278c80b58fbd9bf1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpimpl.html">pimpl</a>&lt; <a class="el" href="classenchant__cache.html">enchant_cache</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a8878b1cacf3048e2278c80b58fbd9bf1">enchantment_cache</a></td></tr>
<tr class="separator:a8878b1cacf3048e2278c80b58fbd9bf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a779b1b90c8017ca7d84ae0d3aaab97fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a779b1b90c8017ca7d84ae0d3aaab97fa">staircount</a> = 0</td></tr>
<tr class="separator:a779b1b90c8017ca7d84ae0d3aaab97fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5740a03294bcab8ef209151af709c4c"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a></td></tr>
<tr class="separator:aa5740a03294bcab8ef209151af709c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classCreature"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classCreature')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classCreature.html">Creature</a></td></tr>
<tr class="memitem:a21b8fbeb525a28615eec6a6c22beff44 inherit pub_attribs_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="creature_8h.html#ab97a871dbf59ff8692908611795f7642">FacingDirection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a21b8fbeb525a28615eec6a6c22beff44">facing</a> = <a class="el" href="creature_8h.html#ab97a871dbf59ff8692908611795f7642a21507b40c80068eda19865706fdc2403">FacingDirection::RIGHT</a></td></tr>
<tr class="memdesc:a21b8fbeb525a28615eec6a6c22beff44 inherit pub_attribs_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the direction the creature is facing, for sdl horizontal flip  <a href="classCreature.html#a21b8fbeb525a28615eec6a6c22beff44">More...</a><br /></td></tr>
<tr class="separator:a21b8fbeb525a28615eec6a6c22beff44 inherit pub_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a561860988a2692df47476d9a15511e inherit pub_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a></td></tr>
<tr class="separator:a0a561860988a2692df47476d9a15511e inherit pub_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc6e990c7faf2e750a941b8a92f892e2 inherit pub_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#afc6e990c7faf2e750a941b8a92f892e2">archery_aim_counter</a> = 0</td></tr>
<tr class="separator:afc6e990c7faf2e750a941b8a92f892e2 inherit pub_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ad9789c1a8077e047ef45500100c33fe9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ad9789c1a8077e047ef45500100c33fe9">store</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;json) const</td></tr>
<tr class="separator:ad9789c1a8077e047ef45500100c33fe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0b147164500bfd61e71d94ce5b745c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ae0b147164500bfd61e71d94ce5b745c6">load</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;data)</td></tr>
<tr class="separator:ae0b147164500bfd61e71d94ce5b745c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6493d5add2d21dd5c84d88c45a14e59f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a6493d5add2d21dd5c84d88c45a14e59f">load</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;data, const <a class="el" href="coordinates_8h.html#ae72b84003f239e5e878a036da3758331">tripoint_abs_sm</a> &amp;submap_loc)</td></tr>
<tr class="separator:a6493d5add2d21dd5c84d88c45a14e59f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07ecb2c6c03edee8565908c4e52f1c6a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a07ecb2c6c03edee8565908c4e52f1c6a">on_move</a> (const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;old_pos) override</td></tr>
<tr class="separator:a07ecb2c6c03edee8565908c4e52f1c6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8656d9b9ad311f1824287403e546e6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ac8656d9b9ad311f1824287403e546e6e">process_one_effect</a> (<a class="el" href="classeffect.html">effect</a> &amp;it, bool is_new) override</td></tr>
<tr class="memdesc:ac8656d9b9ad311f1824287403e546e6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes monster-specific effects of an effect.  <a href="classmonster.html#ac8656d9b9ad311f1824287403e546e6e">More...</a><br /></td></tr>
<tr class="separator:ac8656d9b9ad311f1824287403e546e6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classCreature"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classCreature')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classCreature.html">Creature</a></td></tr>
<tr class="memitem:a7b94528e3a599dfc8647117bc6741243 inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a7b94528e3a599dfc8647117bc6741243">set_pos_only</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p)</td></tr>
<tr class="separator:a7b94528e3a599dfc8647117bc6741243 inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac93f4ccc1bff76ada002c7e886c941ef inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac93f4ccc1bff76ada002c7e886c941ef">set_location</a> (const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;loc)</td></tr>
<tr class="separator:ac93f4ccc1bff76ada002c7e886c941ef inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad88ff594784edeceaef456d2a08180bc inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ad88ff594784edeceaef456d2a08180bc">set_killer</a> (<a class="el" href="classCreature.html">Creature</a> *<a class="el" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a>)</td></tr>
<tr class="separator:ad88ff594784edeceaef456d2a08180bc inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a597cc3b08ee17de46c3e7ec3cf0d9b58 inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a597cc3b08ee17de46c3e7ec3cf0d9b58">Creature</a> ()</td></tr>
<tr class="separator:a597cc3b08ee17de46c3e7ec3cf0d9b58 inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a9d9c02c5de801390bdb898f276327 inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a97a9d9c02c5de801390bdb898f276327">Creature</a> (const <a class="el" href="classCreature.html">Creature</a> &amp;)</td></tr>
<tr class="separator:a97a9d9c02c5de801390bdb898f276327 inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a326b4f9cfceb7f04c9b57272aeef9760 inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a326b4f9cfceb7f04c9b57272aeef9760">Creature</a> (<a class="el" href="classCreature.html">Creature</a> &amp;&amp;) noexcept(<a class="el" href="compatibility_8h.html#a7d2d6538db629ada5554da88c83bcdd1">map_is_noexcept</a>)</td></tr>
<tr class="separator:a326b4f9cfceb7f04c9b57272aeef9760 inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb69c172636f159bcd79d9e1566734a2 inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#abb69c172636f159bcd79d9e1566734a2">operator=</a> (const <a class="el" href="classCreature.html">Creature</a> &amp;)</td></tr>
<tr class="separator:abb69c172636f159bcd79d9e1566734a2 inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a546b0cd145907460eb4c19beac10a4ed inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a546b0cd145907460eb4c19beac10a4ed">operator=</a> (<a class="el" href="classCreature.html">Creature</a> &amp;&amp;) noexcept</td></tr>
<tr class="separator:a546b0cd145907460eb4c19beac10a4ed inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbfbda1c9112c0551c654337b6176915 inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#afbfbda1c9112c0551c654337b6176915">on_stat_change</a> (const std::string &amp;, int)</td></tr>
<tr class="separator:afbfbda1c9112c0551c654337b6176915 inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acade0ea13817c0eb182bc139f9479e96 inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#acade0ea13817c0eb182bc139f9479e96">on_effect_int_change</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;, int, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;)</td></tr>
<tr class="separator:acade0ea13817c0eb182bc139f9479e96 inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09c1996bf16947fa6f5a6cb971d3274e inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a09c1996bf16947fa6f5a6cb971d3274e">on_damage_of_type</a> (const <a class="el" href="classeffect__source.html">effect_source</a> &amp;, int, const <a class="el" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a> &amp;, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;)</td></tr>
<tr class="separator:a09c1996bf16947fa6f5a6cb971d3274e inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad45b0367bbda008f053447862966d88 inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aad45b0367bbda008f053447862966d88">store</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;jsout) const</td></tr>
<tr class="memdesc:aad45b0367bbda008f053447862966d88 inherit pro_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">These two functions are responsible for storing and loading the members of this class to/from json data.  <a href="classCreature.html#aad45b0367bbda008f053447862966d88">More...</a><br /></td></tr>
<tr class="separator:aad45b0367bbda008f053447862966d88 inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f3c56033514a451ed173180037ff5c7 inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a7f3c56033514a451ed173180037ff5c7">load</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jsin)</td></tr>
<tr class="separator:a7f3c56033514a451ed173180037ff5c7 inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a111b29c27d9c21920d01db403b3659e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a111b29c27d9c21920d01db403b3659e1">process_trigger</a> (<a class="el" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913">mon_trigger</a> trig, int amount)</td></tr>
<tr class="separator:a111b29c27d9c21920d01db403b3659e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31d55a6e7da021f2e33f73f7af1443cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a31d55a6e7da021f2e33f73f7af1443cc">process_trigger</a> (<a class="el" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913">mon_trigger</a> trig, const std::function&lt; int()&gt; &amp;amount_func)</td></tr>
<tr class="separator:a31d55a6e7da021f2e33f73f7af1443cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6d05a3d7157530aba98073fd5166607"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#af6d05a3d7157530aba98073fd5166607">next_upgrade_time</a> ()</td></tr>
<tr class="memdesc:af6d05a3d7157530aba98073fd5166607"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normal upgrades.  <a href="classmonster.html#af6d05a3d7157530aba98073fd5166607">More...</a><br /></td></tr>
<tr class="separator:af6d05a3d7157530aba98073fd5166607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af35316ade396ac63cf5655105a420dbb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#af35316ade396ac63cf5655105a420dbb">can_pathfind</a> () const</td></tr>
<tr class="separator:af35316ade396ac63cf5655105a420dbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a504851437db082b0c62e50ff48ec08fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a504851437db082b0c62e50ff48ec08fb">reset_pathfinding_cd</a> ()</td></tr>
<tr class="separator:a504851437db082b0c62e50ff48ec08fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71b5a8e94a71255502dfd413e135d301"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a71b5a8e94a71255502dfd413e135d301">increment_pathfinding_cd</a> ()</td></tr>
<tr class="separator:a71b5a8e94a71255502dfd413e135d301"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16052a26adbecf002c5d502660ec7434"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCharacter.html">Character</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a16052a26adbecf002c5d502660ec7434">find_dragged_foe</a> ()</td></tr>
<tr class="separator:a16052a26adbecf002c5d502660ec7434"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3078e262a3a130efa9985bfa04a26bd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a3078e262a3a130efa9985bfa04a26bd8">nursebot_operate</a> (<a class="el" href="classCharacter.html">Character</a> *dragged_foe)</td></tr>
<tr class="separator:a3078e262a3a130efa9985bfa04a26bd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a841238b6cd308ba7b54f5f71e7c2c4d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> = 0</td></tr>
<tr class="separator:a841238b6cd308ba7b54f5f71e7c2c4d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a939eb403e417f4b0c032e827fecc9ab3"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <a class="el" href="classmon__special__attack.html">mon_special_attack</a>, std::less&lt;&gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a></td></tr>
<tr class="separator:a939eb403e417f4b0c032e827fecc9ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c3e07d777236b91713d6db073581dd3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a7c3e07d777236b91713d6db073581dd3">goal</a></td></tr>
<tr class="separator:a7c3e07d777236b91713d6db073581dd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2dfdd8d67d988b02c1bba9410df7f79"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa2dfdd8d67d988b02c1bba9410df7f79">dead</a> = false</td></tr>
<tr class="separator:aa2dfdd8d67d988b02c1bba9410df7f79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62679e1efa30cbc49d0ac34082171ed5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a62679e1efa30cbc49d0ac34082171ed5">upgrades</a> = false</td></tr>
<tr class="separator:a62679e1efa30cbc49d0ac34082171ed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ca12eea14dc733e023e5f83ef2dbf4e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> = 0</td></tr>
<tr class="separator:a0ca12eea14dc733e023e5f83ef2dbf4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad040aa7a065e88de5c26f205a590b6dd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ad040aa7a065e88de5c26f205a590b6dd">reproduces</a> = false</td></tr>
<tr class="separator:ad040aa7a065e88de5c26f205a590b6dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57becddfeb3be38da4bf6e982c0a3fa8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="classtime__point.html">time_point</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a></td></tr>
<tr class="separator:a57becddfeb3be38da4bf6e982c0a3fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce0f9e8bbe3751a3051b9ff6c5acd98"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#acce0f9e8bbe3751a3051b9ff6c5acd98">biosignatures</a> = false</td></tr>
<tr class="separator:acce0f9e8bbe3751a3051b9ff6c5acd98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ef22126311aed7f324e1c19f650295a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="classtime__point.html">time_point</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a5ef22126311aed7f324e1c19f650295a">biosig_timer</a></td></tr>
<tr class="separator:a5ef22126311aed7f324e1c19f650295a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afddce3b0ff89fefe1d36b256bf9a03d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#afddce3b0ff89fefe1d36b256bf9a03d0">udder_timer</a></td></tr>
<tr class="separator:afddce3b0ff89fefe1d36b256bf9a03d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2ce96fae9d4693c77d3bd60cee9a452"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#af2ce96fae9d4693c77d3bd60cee9a452">stomach_timer</a></td></tr>
<tr class="separator:af2ce96fae9d4693c77d3bd60cee9a452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e59f031b6007370e42a38bc89a2d1c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022a">monster_horde_attraction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a6e59f031b6007370e42a38bc89a2d1c3">horde_attraction</a> = <a class="el" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aa4ee17bcfcc1218862d5509c8c291b1fb">MHA_NULL</a></td></tr>
<tr class="separator:a6e59f031b6007370e42a38bc89a2d1c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa162caeeef96c7c0aecca97871435d71"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a></td></tr>
<tr class="memdesc:aa162caeeef96c7c0aecca97871435d71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Found path.  <a href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">More...</a><br /></td></tr>
<tr class="separator:aa162caeeef96c7c0aecca97871435d71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a072b02f6b004032034c2d553c1867b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a2a072b02f6b004032034c2d553c1867b">pathfinding_cd</a> = <a class="el" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></td></tr>
<tr class="separator:a2a072b02f6b004032034c2d553c1867b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dda3c789745355b4de568d5d346d932"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a5dda3c789745355b4de568d5d346d932">pathfinding_backoff</a> = 2_seconds</td></tr>
<tr class="separator:a5dda3c789745355b4de568d5d346d932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4ddfd29306c2e768f545aed901be3f9"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#ae4ddfd29306c2e768f545aed901be3f9">patrol_route</a></td></tr>
<tr class="memdesc:ae4ddfd29306c2e768f545aed901be3f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">patrol points for monsters that can pathfind and have a patrol route!  <a href="classmonster.html#ae4ddfd29306c2e768f545aed901be3f9">More...</a><br /></td></tr>
<tr class="separator:ae4ddfd29306c2e768f545aed901be3f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb3743ffee119ce1507af082bb5a0e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#abeb3743ffee119ce1507af082bb5a0e0">next_patrol_point</a> = -1</td></tr>
<tr class="separator:abeb3743ffee119ce1507af082bb5a0e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04c74718e60016b199e7cdff71d5aa90"><td class="memItemLeft" align="right" valign="top">std::bitset&lt; <a class="el" href="monster_8h.html#a84ab55bd738531d991f877a7650b7fd1a5ec6d88e970730e71a4ee4d786a7a761">NUM_MEFF</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a04c74718e60016b199e7cdff71d5aa90">effect_cache</a></td></tr>
<tr class="separator:a04c74718e60016b199e7cdff71d5aa90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9653c5f9353177ecee5aff0197af2fcc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a9653c5f9353177ecee5aff0197af2fcc">turns_since_target</a> = 0</td></tr>
<tr class="separator:a9653c5f9353177ecee5aff0197af2fcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a61f882783d55204dfb52502ca1d5d9db"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonster.html#a61f882783d55204dfb52502ca1d5d9db">editmap</a></td></tr>
<tr class="separator:a61f882783d55204dfb52502ca1d5d9db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classCreature"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classCreature')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classCreature.html">Creature</a></td></tr>
<tr class="memitem:a8a475630b3289c468bd06cf114008217 inherit pub_types_classCreature"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217">Attitude</a> : int { <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">HOSTILE</a>
, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217a31ba17aa58cdb681423f07ca21a6efc7">NEUTRAL</a>
, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">FRIENDLY</a>
, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217a8e1bde3c3d303163521522cf1d62f21f">ANY</a>
 }</td></tr>
<tr class="memdesc:a8a475630b3289c468bd06cf114008217"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simplified attitude towards any creature: hostile - hate, want to kill, etc.  <a href="classCreature.html#a8a475630b3289c468bd06cf114008217">More...</a><br /></td></tr>
<tr class="separator:a8a475630b3289c468bd06cf114008217 inherit pub_types_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classCreature"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classCreature')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classCreature.html">Creature</a></td></tr>
<tr class="memitem:aface2aa918ea59decfc3f71fd891396c inherit pub_static_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">static const std::map&lt; std::string, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2">creature_size</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aface2aa918ea59decfc3f71fd891396c">size_map</a></td></tr>
<tr class="separator:aface2aa918ea59decfc3f71fd891396c inherit pub_static_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81c28d7d1cb83a47794dbf879dede400 inherit pub_static_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">static const std::set&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a81c28d7d1cb83a47794dbf879dede400">cmat_flesh</a></td></tr>
<tr class="separator:a81c28d7d1cb83a47794dbf879dede400 inherit pub_static_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab3ed00f0b1635fcb5efaa93cf3f8336 inherit pub_static_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">static const std::set&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aab3ed00f0b1635fcb5efaa93cf3f8336">cmat_fleshnveg</a></td></tr>
<tr class="separator:aab3ed00f0b1635fcb5efaa93cf3f8336 inherit pub_static_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48bb40fe4132a49d95f26611d7c622a6 inherit pub_static_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">static const std::set&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a48bb40fe4132a49d95f26611d7c622a6">cmat_flammable</a></td></tr>
<tr class="separator:a48bb40fe4132a49d95f26611d7c622a6 inherit pub_static_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5fa405fe6d75e0298051ab413cdfac1 inherit pub_static_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">static const std::set&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac5fa405fe6d75e0298051ab413cdfac1">cmat_flameres</a></td></tr>
<tr class="separator:ac5fa405fe6d75e0298051ab413cdfac1 inherit pub_static_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73b9cb6320e4447addaec375887e7861 inherit pub_static_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a73b9cb6320e4447addaec375887e7861">dispersion_for_even_chance_of_good_hit</a></td></tr>
<tr class="separator:a73b9cb6320e4447addaec375887e7861 inherit pub_static_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classCreature"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classCreature')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classCreature.html">Creature</a></td></tr>
<tr class="memitem:ac339c87d92ebb3cc1092d12e78886184 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="anatomy_8h.html#a1ed57b4e8ea6d9a0e43d3bbb59750771">anatomy_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac339c87d92ebb3cc1092d12e78886184">creature_anatomy</a> = <a class="el" href="anatomy_8h.html#a1ed57b4e8ea6d9a0e43d3bbb59750771">anatomy_id</a>( &quot;default_anatomy&quot; )</td></tr>
<tr class="memdesc:ac339c87d92ebb3cc1092d12e78886184 inherit pro_attribs_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">anatomy is the plan of the creature's body  <a href="classCreature.html#ac339c87d92ebb3cc1092d12e78886184">More...</a><br /></td></tr>
<tr class="separator:ac339c87d92ebb3cc1092d12e78886184 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f36b7308f6193dd46224b951e74f96e inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>, <a class="el" href="classbodypart.html">bodypart</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a></td></tr>
<tr class="memdesc:a6f36b7308f6193dd46224b951e74f96e inherit pro_attribs_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">this is the actual body of the creature  <a href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">More...</a><br /></td></tr>
<tr class="separator:a6f36b7308f6193dd46224b951e74f96e inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c5a392caa213bee9581b47e9f0e2052 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a></td></tr>
<tr class="separator:a8c5a392caa213bee9581b47e9f0e2052 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4d6d569180f457e7d2294946eaf7563 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCreature.html">Creature</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a></td></tr>
<tr class="separator:af4d6d569180f457e7d2294946eaf7563 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d0a16875a988b2662b4115038a3dbfb inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="classtime__point.html">time_point</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a4d0a16875a988b2662b4115038a3dbfb">lifespan_end</a> = std::nullopt</td></tr>
<tr class="separator:a4d0a16875a988b2662b4115038a3dbfb inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab26785c7f4313d601074016eaec2b938 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="classcharacter__id.html">character_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ab26785c7f4313d601074016eaec2b938">summoner</a> = std::nullopt</td></tr>
<tr class="separator:ab26785c7f4313d601074016eaec2b938 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae14e3b3ab4a876a17538cfe38818356c inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpimpl.html">pimpl</a>&lt; <a class="el" href="classeffects__map.html">effects_map</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a></td></tr>
<tr class="separator:ae14e3b3ab4a876a17538cfe38818356c inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2063f610253576d98ab6a69e911c0d9f inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">std::queue&lt; <a class="el" href="creature_8h.html#a6be8a0e37bcadda359d05a12fe025361">scheduled_effect</a>, std::list&lt; <a class="el" href="creature_8h.html#a6be8a0e37bcadda359d05a12fe025361">scheduled_effect</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a2063f610253576d98ab6a69e911c0d9f">scheduled_effects</a></td></tr>
<tr class="separator:a2063f610253576d98ab6a69e911c0d9f inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b6bacc623f2a7cbb7c8f8dbdb6edd51 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">std::queue&lt; <a class="el" href="creature_8h.html#a1302c86e4bb5a9bd567d05fbe31d48f2">terminating_effect</a>, std::list&lt; <a class="el" href="creature_8h.html#a1302c86e4bb5a9bd567d05fbe31d48f2">terminating_effect</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a0b6bacc623f2a7cbb7c8f8dbdb6edd51">terminating_effects</a></td></tr>
<tr class="separator:a0b6bacc623f2a7cbb7c8f8dbdb6edd51 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b567c966e178753b792c7ce91c3be26 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classdamage__over__time__data.html">damage_over_time_data</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a4b567c966e178753b792c7ce91c3be26">damage_over_time_map</a></td></tr>
<tr class="separator:a4b567c966e178753b792c7ce91c3be26 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69d20ce599ed8aa0780a4677c14228f9 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::string, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a69d20ce599ed8aa0780a4677c14228f9">values</a></td></tr>
<tr class="separator:a69d20ce599ed8aa0780a4677c14228f9 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69db025e34e82c34b56df73f56965350 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a69db025e34e82c34b56df73f56965350">num_blocks</a> = 0</td></tr>
<tr class="separator:a69db025e34e82c34b56df73f56965350 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a360b7ab7279423ee61b38d433ba338fd inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a360b7ab7279423ee61b38d433ba338fd">num_dodges</a> = 0</td></tr>
<tr class="separator:a360b7ab7279423ee61b38d433ba338fd inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad773414b7104cae9ac1df7404528a956 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ad773414b7104cae9ac1df7404528a956">num_blocks_bonus</a> = 0</td></tr>
<tr class="separator:ad773414b7104cae9ac1df7404528a956 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4945480df006184bdaf4b5b41ba976ea inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a4945480df006184bdaf4b5b41ba976ea">num_dodges_bonus</a> = 0</td></tr>
<tr class="separator:a4945480df006184bdaf4b5b41ba976ea inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85906b1aaa87603a52024d4dd68a075a inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a>, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a85906b1aaa87603a52024d4dd68a075a">armor_bonus</a></td></tr>
<tr class="separator:a85906b1aaa87603a52024d4dd68a075a inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d6cd41ef532de75cb9bb2aadcc68f06 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a4d6cd41ef532de75cb9bb2aadcc68f06">speed_base</a> = 0</td></tr>
<tr class="separator:a4d6cd41ef532de75cb9bb2aadcc68f06 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae668a71c7a468fe4753374d3d51481bb inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ae668a71c7a468fe4753374d3d51481bb">speed_bonus</a> = 0</td></tr>
<tr class="separator:ae668a71c7a468fe4753374d3d51481bb inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb994679f77dfa6b446c0d36961c6a2 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#adbb994679f77dfa6b446c0d36961c6a2">dodge_bonus</a> = 0.0f</td></tr>
<tr class="separator:adbb994679f77dfa6b446c0d36961c6a2 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0206ab4bdb7c990e917cb5240d2a470 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ab0206ab4bdb7c990e917cb5240d2a470">block_bonus</a> = 0</td></tr>
<tr class="separator:ab0206ab4bdb7c990e917cb5240d2a470 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bb35215732acc025692d329fb3e2e13 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a7bb35215732acc025692d329fb3e2e13">hit_bonus</a> = 0.0f</td></tr>
<tr class="separator:a7bb35215732acc025692d329fb3e2e13 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af545ccf591070589820935240837e2f1 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af545ccf591070589820935240837e2f1">bash_bonus</a> = 0</td></tr>
<tr class="separator:af545ccf591070589820935240837e2f1 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d2e7dffa9969ce9a65582cdfec7b0a6 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6d2e7dffa9969ce9a65582cdfec7b0a6">cut_bonus</a> = 0</td></tr>
<tr class="separator:a6d2e7dffa9969ce9a65582cdfec7b0a6 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09d744e753389b85555df87d01f19bf0 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a09d744e753389b85555df87d01f19bf0">size_bonus</a> = 0</td></tr>
<tr class="separator:a09d744e753389b85555df87d01f19bf0 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f1514886a2391eef7544a6aa2032b8 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a47f1514886a2391eef7544a6aa2032b8">bash_mult</a> = 0.0f</td></tr>
<tr class="separator:a47f1514886a2391eef7544a6aa2032b8 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9fd9bde984c1885a01f1c9b5bb9768 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#afa9fd9bde984c1885a01f1c9b5bb9768">cut_mult</a> = 0.0f</td></tr>
<tr class="separator:afa9fd9bde984c1885a01f1c9b5bb9768 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c689698d40571b61622e3bec6cf36a7 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a9c689698d40571b61622e3bec6cf36a7">melee_quiet</a> = false</td></tr>
<tr class="separator:a9c689698d40571b61622e3bec6cf36a7 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad13bdca3773955224f3bac4591fb5ecd inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ad13bdca3773955224f3bac4591fb5ecd">throw_resist</a> = 0</td></tr>
<tr class="separator:ad13bdca3773955224f3bac4591fb5ecd inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c0a2f5bc6bb8c450f9eddad749cf407 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a9c0a2f5bc6bb8c450f9eddad749cf407">last_updated</a></td></tr>
<tr class="separator:a9c0a2f5bc6bb8c450f9eddad749cf407 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f0f94b1cc3a6759e79c7ffc07c3b0b8 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a5f0f94b1cc3a6759e79c7ffc07c3b0b8">fake</a> = false</td></tr>
<tr class="separator:a5f0f94b1cc3a6759e79c7ffc07c3b0b8 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00085">85</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa06fe45ef2076f6f62b5b84defddcd25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa06fe45ef2076f6f62b5b84defddcd25">&#9670;&nbsp;</a></span>monster() <span class="overload">[1/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">monster::monster </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00260">260</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;{</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="classmonster.html#a1488f5a618c74a508fb87b82be05ef11">unset_dest</a>();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">wandf</a> = 0;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> = 60;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> = 0;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> = 0;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> = 2;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="classfaction.html">faction</a> = <a class="code" href="npc_8h.html#a3472a8986ea9d6078ab02871b7791add">mfaction_id</a>( 0 );</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="classmonster.html#a2f9d03ffee51f0193855490a75511596">no_extra_death_drops</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="classmonster.html#aa2dfdd8d67d988b02c1bba9410df7f79">dead</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="classmonster.html#af8ac8dd571acf81aad0df01924d335c6">death_drops</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="classmonster.html#ab0adc4673278e497b75a357040ce2739">made_footstep</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="classmonster.html#a9a2109e8e8394c4580a7a545ab9c04fb">hallucination</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="classmonster.html#a65cbbc1b321226ed46f86c8a163b657a">ignoring</a> = 0;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="classmonster.html#a62679e1efa30cbc49d0ac34082171ed5">upgrades</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> = -1;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="classmonster.html#af2ce96fae9d4693c77d3bd60cee9a452">stomach_timer</a> = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="classCreature.html#a9c0a2f5bc6bb8c450f9eddad749cf407">last_updated</a> = <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="classmonster.html#a5ef22126311aed7f324e1c19f650295a">biosig_timer</a> = <a class="code" href="namespacecalendar.html#abf9e7bc62ef51f362834af2a093d567b">calendar::before_time_starts</a>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="classmonster.html#afddce3b0ff89fefe1d36b256bf9a03d0">udder_timer</a> = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="classmonster.html#a6e59f031b6007370e42a38bc89a2d1c3">horde_attraction</a> = <a class="code" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aa4ee17bcfcc1218862d5509c8c291b1fb">MHA_NULL</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="classCreature.html#adced27b4b5a49657101ce649e8a761a6">set_anatomy</a>( <a class="code" href="monster_8cpp.html#a572dc2c3ac805121607a52717b53e9ab">anatomy_default_anatomy</a> );</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="classCreature.html#a08520d85381520ff27dc274d5718a989">set_body</a>();</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a08520d85381520ff27dc274d5718a989"><div class="ttname"><a href="classCreature.html#a08520d85381520ff27dc274d5718a989">Creature::set_body</a></div><div class="ttdeci">void set_body()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02172">creature.cpp:2172</a></div></div>
<div class="ttc" id="aclassCreature_html_a8c5a392caa213bee9581b47e9f0e2052"><div class="ttname"><a href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">Creature::moves</a></div><div class="ttdeci">int moves</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01193">creature.h:1193</a></div></div>
<div class="ttc" id="aclassCreature_html_a9c0a2f5bc6bb8c450f9eddad749cf407"><div class="ttname"><a href="classCreature.html#a9c0a2f5bc6bb8c450f9eddad749cf407">Creature::last_updated</a></div><div class="ttdeci">time_point last_updated</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01238">creature.h:1238</a></div></div>
<div class="ttc" id="aclassCreature_html_adced27b4b5a49657101ce649e8a761a6"><div class="ttname"><a href="classCreature.html#adced27b4b5a49657101ce649e8a761a6">Creature::set_anatomy</a></div><div class="ttdeci">void set_anatomy(const anatomy_id &amp;anat)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02162">creature.cpp:2162</a></div></div>
<div class="ttc" id="aclassfaction_html"><div class="ttname"><a href="classfaction.html">faction</a></div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00126">faction.h:127</a></div></div>
<div class="ttc" id="aclassmonster_html_a0ca12eea14dc733e023e5f83ef2dbf4e"><div class="ttname"><a href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">monster::upgrade_time</a></div><div class="ttdeci">int upgrade_time</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00623">monster.h:623</a></div></div>
<div class="ttc" id="aclassmonster_html_a1488f5a618c74a508fb87b82be05ef11"><div class="ttname"><a href="classmonster.html#a1488f5a618c74a508fb87b82be05ef11">monster::unset_dest</a></div><div class="ttdeci">void unset_dest()</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01388">monster.cpp:1388</a></div></div>
<div class="ttc" id="aclassmonster_html_a2f9d03ffee51f0193855490a75511596"><div class="ttname"><a href="classmonster.html#a2f9d03ffee51f0193855490a75511596">monster::no_extra_death_drops</a></div><div class="ttdeci">bool no_extra_death_drops</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00552">monster.h:552</a></div></div>
<div class="ttc" id="aclassmonster_html_a4e17d0d504a12d9b2e4de3e7a7503fff"><div class="ttname"><a href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">monster::friendly</a></div><div class="ttdeci">int friendly</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00539">monster.h:539</a></div></div>
<div class="ttc" id="aclassmonster_html_a5ef22126311aed7f324e1c19f650295a"><div class="ttname"><a href="classmonster.html#a5ef22126311aed7f324e1c19f650295a">monster::biosig_timer</a></div><div class="ttdeci">std::optional&lt; time_point &gt; biosig_timer</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00627">monster.h:627</a></div></div>
<div class="ttc" id="aclassmonster_html_a62679e1efa30cbc49d0ac34082171ed5"><div class="ttname"><a href="classmonster.html#a62679e1efa30cbc49d0ac34082171ed5">monster::upgrades</a></div><div class="ttdeci">bool upgrades</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00622">monster.h:622</a></div></div>
<div class="ttc" id="aclassmonster_html_a65cbbc1b321226ed46f86c8a163b657a"><div class="ttname"><a href="classmonster.html#a65cbbc1b321226ed46f86c8a163b657a">monster::ignoring</a></div><div class="ttdeci">short ignoring</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00571">monster.h:571</a></div></div>
<div class="ttc" id="aclassmonster_html_a6e59f031b6007370e42a38bc89a2d1c3"><div class="ttname"><a href="classmonster.html#a6e59f031b6007370e42a38bc89a2d1c3">monster::horde_attraction</a></div><div class="ttdeci">monster_horde_attraction horde_attraction</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00630">monster.h:630</a></div></div>
<div class="ttc" id="aclassmonster_html_a7b22fe8719e4783fe1896429cedefa8d"><div class="ttname"><a href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">monster::anger</a></div><div class="ttdeci">int anger</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00540">monster.h:540</a></div></div>
<div class="ttc" id="aclassmonster_html_a841238b6cd308ba7b54f5f71e7c2c4d4"><div class="ttname"><a href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">monster::hp</a></div><div class="ttdeci">int hp</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00616">monster.h:616</a></div></div>
<div class="ttc" id="aclassmonster_html_a88c30bfeb57c6d44b965f92265fc16d2"><div class="ttname"><a href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">monster::wandf</a></div><div class="ttdeci">int wandf</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00523">monster.h:523</a></div></div>
<div class="ttc" id="aclassmonster_html_a9a2109e8e8394c4580a7a545ab9c04fb"><div class="ttname"><a href="classmonster.html#a9a2109e8e8394c4580a7a545ab9c04fb">monster::hallucination</a></div><div class="ttdeci">bool hallucination</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00567">monster.h:567</a></div></div>
<div class="ttc" id="aclassmonster_html_aa25af680aabcc13beba81f0d5410d2ff"><div class="ttname"><a href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">monster::morale</a></div><div class="ttdeci">int morale</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00541">monster.h:541</a></div></div>
<div class="ttc" id="aclassmonster_html_aa2dfdd8d67d988b02c1bba9410df7f79"><div class="ttname"><a href="classmonster.html#aa2dfdd8d67d988b02c1bba9410df7f79">monster::dead</a></div><div class="ttdeci">bool dead</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00619">monster.h:619</a></div></div>
<div class="ttc" id="aclassmonster_html_ab0adc4673278e497b75a357040ce2739"><div class="ttname"><a href="classmonster.html#ab0adc4673278e497b75a357040ce2739">monster::made_footstep</a></div><div class="ttdeci">bool made_footstep</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00560">monster.h:560</a></div></div>
<div class="ttc" id="aclassmonster_html_ab80f9246aad2b3c22becee9f34dc17d8"><div class="ttname"><a href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">monster::aggro_character</a></div><div class="ttdeci">bool aggro_character</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00572">monster.h:572</a></div></div>
<div class="ttc" id="aclassmonster_html_af2ce96fae9d4693c77d3bd60cee9a452"><div class="ttname"><a href="classmonster.html#af2ce96fae9d4693c77d3bd60cee9a452">monster::stomach_timer</a></div><div class="ttdeci">time_point stomach_timer</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00629">monster.h:629</a></div></div>
<div class="ttc" id="aclassmonster_html_af8ac8dd571acf81aad0df01924d335c6"><div class="ttname"><a href="classmonster.html#af8ac8dd571acf81aad0df01924d335c6">monster::death_drops</a></div><div class="ttdeci">bool death_drops</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00556">monster.h:556</a></div></div>
<div class="ttc" id="aclassmonster_html_afddce3b0ff89fefe1d36b256bf9a03d0"><div class="ttname"><a href="classmonster.html#afddce3b0ff89fefe1d36b256bf9a03d0">monster::udder_timer</a></div><div class="ttdeci">time_point udder_timer</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00628">monster.h:628</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a572dc2c3ac805121607a52717b53e9ab"><div class="ttname"><a href="monster_8cpp.html#a572dc2c3ac805121607a52717b53e9ab">anatomy_default_anatomy</a></div><div class="ttdeci">static const anatomy_id anatomy_default_anatomy(&quot;default_anatomy&quot;)</div></div>
<div class="ttc" id="amonster_8h_html_aa13c8de924aae342f9bcb80fb3e7022aa4ee17bcfcc1218862d5509c8c291b1fb"><div class="ttname"><a href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aa4ee17bcfcc1218862d5509c8c291b1fb">MHA_NULL</a></div><div class="ttdeci">@ MHA_NULL</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00076">monster.h:76</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a2830b54b0424fe452c0933f87d6201b3"><div class="ttname"><a href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a></div><div class="ttdeci">constexpr time_point turn_zero</div><div class="ttdoc">Represents time point 0.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00541">calendar.h:541</a></div></div>
<div class="ttc" id="anamespacecalendar_html_abf9e7bc62ef51f362834af2a093d567b"><div class="ttname"><a href="namespacecalendar.html#abf9e7bc62ef51f362834af2a093d567b">calendar::before_time_starts</a></div><div class="ttdeci">constexpr time_point before_time_starts</div><div class="ttdoc">A time point that is always before the current turn, even when the game has just started.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00535">calendar.h:535</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00038">calendar.cpp:38</a></div></div>
<div class="ttc" id="anpc_8h_html_a3472a8986ea9d6078ab02871b7791add"><div class="ttname"><a href="npc_8h.html#a3472a8986ea9d6078ab02871b7791add">mfaction_id</a></div><div class="ttdeci">int_id&lt; monfaction &gt; mfaction_id</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00082">npc.h:82</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00572">aggro_character</a>, <a class="el" href="monster_8cpp.html#a572dc2c3ac805121607a52717b53e9ab">anatomy_default_anatomy</a>, <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="calendar_8h_source.html#l00535">calendar::before_time_starts</a>, <a class="el" href="monster_8h_source.html#l00627">biosig_timer</a>, <a class="el" href="monster_8h_source.html#l00619">dead</a>, <a class="el" href="monster_8h_source.html#l00556">death_drops</a>, <a class="el" href="monster_8h_source.html#l00539">friendly</a>, <a class="el" href="monster_8h_source.html#l00567">hallucination</a>, <a class="el" href="monster_8h_source.html#l00630">horde_attraction</a>, <a class="el" href="monster_8h_source.html#l00616">hp</a>, <a class="el" href="monster_8h_source.html#l00571">ignoring</a>, <a class="el" href="creature_8h_source.html#l01238">Creature::last_updated</a>, <a class="el" href="monster_8h_source.html#l00560">made_footstep</a>, <a class="el" href="monster_8h_source.html#l00076">MHA_NULL</a>, <a class="el" href="monster_8h_source.html#l00541">morale</a>, <a class="el" href="creature_8h_source.html#l01193">Creature::moves</a>, <a class="el" href="monster_8h_source.html#l00552">no_extra_death_drops</a>, <a class="el" href="creature_8cpp_source.html#l02162">Creature::set_anatomy()</a>, <a class="el" href="creature_8cpp_source.html#l02172">Creature::set_body()</a>, <a class="el" href="monster_8h_source.html#l00629">stomach_timer</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="calendar_8h_source.html#l00541">calendar::turn_zero</a>, <a class="el" href="monster_8h_source.html#l00628">udder_timer</a>, <a class="el" href="monster_8cpp_source.html#l01388">unset_dest()</a>, <a class="el" href="monster_8h_source.html#l00623">upgrade_time</a>, <a class="el" href="monster_8h_source.html#l00622">upgrades</a>, and <a class="el" href="monster_8h_source.html#l00523">wandf</a>.</p>

</div>
</div>
<a id="a9d85b1a1ff0d69ada8bdf04d02535044"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d85b1a1ff0d69ada8bdf04d02535044">&#9670;&nbsp;</a></span>monster() <span class="overload">[2/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">monster::monster </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00288">288</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                                     : <a class="code" href="classmonster.html#aa06fe45ef2076f6f62b5b84defddcd25">monster</a>()</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;{</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a> = &amp;<span class="keywordtype">id</span>.obj();</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#addfa6852e581c8cebbd1bbf9c4ebbd9a">speed</a>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">Creature::set_speed_base</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#addfa6852e581c8cebbd1bbf9c4ebbd9a">speed</a> );</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">hp</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;sa : <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">special_attacks</a> ) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="classmon__special__attack.html">mon_special_attack</a> &amp;entry = <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>[sa.first];</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        entry.<a class="code" href="classmon__special__attack.html#a0f121c831a2ecb77efe06aa048f60e58">cooldown</a> = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, sa.second-&gt;cooldown );</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a59bfdad7bfcd71c923ae8463630c95">agro</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8a889ba3d1d6eb87ca31ce8999c9e6d0">morale</a>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="classmonster.html#aada2988a7383cd60274263184d51303d">stomach_size</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a668414d3e49844ce0237eb124d825d2c">stomach_size</a>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="classfaction.html">faction</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ac5d8669b2e2b6e98c6288b8d87a29e51">default_faction</a>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="classmonster.html#a62679e1efa30cbc49d0ac34082171ed5">upgrades</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a1050d0f186ffaf805c7a3bce1f5d72b0">upgrades</a> &amp;&amp; ( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9e9e707bf8f83b24296e21b6eaa414a2">half_life</a> || <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ac5d26fd8f0685f847029c3d34a0a7a17">age_grow</a> );</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="classmonster.html#ad040aa7a065e88de5c26f205a590b6dd">reproduces</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa5d095d022d8661fbadcd45a916a4388">reproduces</a> &amp;&amp; <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a65f2b779578b589c2f85c0047f86b7bf">baby_timer</a> &amp;&amp; !<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">monster::has_flag</a>( <a class="code" href="mtype_8cpp.html#aeeff818c42a162b17d501f8f50abd3dc">mon_flag_NO_BREED</a> );</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="classmonster.html#acce0f9e8bbe3751a3051b9ff6c5acd98">biosignatures</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8172db8cb8992550dbe1a446cca7245a">biosignatures</a>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">monster::has_flag</a>( <a class="code" href="mtype_8cpp.html#a10899530fa212da51fd92b98b0cacdb5">mon_flag_AQUATIC</a> ) ) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <a class="code" href="classmonster.html#a1bcf8c4105ed1ba90775fbdef4afeaf6">fish_population</a> = <a class="code" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 1, 20 );</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">monster::has_flag</a>( <a class="code" href="mtype_8cpp.html#a1ce59be15eeebc2aa195dc5a5cf38358">mon_flag_RIDEABLE_MECH</a> ) ) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <a class="code" href="classstring__id.html">itype_id</a> mech_bat = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ae806ca327abafc5a50b7f0214d4b6f02">mech_battery</a> );</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keyword">const</span> <a class="code" href="structitype.html">itype</a> &amp;<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a> = *<a class="code" href="classitem.html#a11cf8d500b6d8106302470dce5ca9177">item::find_type</a>( mech_bat );</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordtype">int</span> max_charge = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>.magazine-&gt;capacity;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <a class="code" href="classitem.html">item</a> mech_bat_item = <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( mech_bat, <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> );</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        mech_bat_item.<a class="code" href="classitem.html#a57b10fc9db286a3449ddc92ab3d896f5">ammo_consume</a>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, max_charge ), <a class="code" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>, <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <a class="code" href="classmonster.html#a5d5bdb6389c0388198bda9530620e4af">battery_item</a> = cata::make_value&lt;item&gt;( mech_bat_item );</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">monster::has_flag</a>( <a class="code" href="mtype_8cpp.html#ada7c9e7242ae6cab937fdeec0513f6d8">mon_flag_PET_MOUNTABLE</a> ) ) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a2cbbcd7af6116cc11968adf67535e649">mount_items</a>.<a class="code" href="structmount__item__data.html#ac0f9170cb64f51393af47ba8cb7ebee7">tied</a>.<a class="code" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <a class="code" href="classstring__id.html">itype_id</a> tied_item_id = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a2cbbcd7af6116cc11968adf67535e649">mount_items</a>.<a class="code" href="structmount__item__data.html#ac0f9170cb64f51393af47ba8cb7ebee7">tied</a> );</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <a class="code" href="classitem.html">item</a> tied_item_item = <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( tied_item_id, <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> );</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a41489747d02c835175487ed787af59a4">effect_leashed</a>, 1_turns, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <a class="code" href="classmonster.html#a2881507933646bca97ef83c7112595ac">tied_item</a> = cata::make_value&lt;item&gt;( tied_item_item );</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a2cbbcd7af6116cc11968adf67535e649">mount_items</a>.<a class="code" href="structmount__item__data.html#a97448c9a0c2658c8663848f16687bbea">tack</a>.<a class="code" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <a class="code" href="classstring__id.html">itype_id</a> tack_item_id = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a2cbbcd7af6116cc11968adf67535e649">mount_items</a>.<a class="code" href="structmount__item__data.html#a97448c9a0c2658c8663848f16687bbea">tack</a> );</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <a class="code" href="classitem.html">item</a> tack_item_item = <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( tack_item_id, <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> );</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#aa6649cc368dd3608a8b09a9a6f66798f">effect_monster_saddled</a>, 1_turns, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <a class="code" href="classmonster.html#a662acdf990147854bad39a7c128afcaa">tack_item</a> = cata::make_value&lt;item&gt;( tack_item_item );</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a2cbbcd7af6116cc11968adf67535e649">mount_items</a>.<a class="code" href="structmount__item__data.html#a9cd9d225fd6930b6d4d7eaa158166de3">armor</a>.<a class="code" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <a class="code" href="classstring__id.html">itype_id</a> armor_item_id = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a2cbbcd7af6116cc11968adf67535e649">mount_items</a>.<a class="code" href="structmount__item__data.html#a9cd9d225fd6930b6d4d7eaa158166de3">armor</a> );</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <a class="code" href="classitem.html">item</a> armor_item_item = <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( armor_item_id, <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> );</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a39eb4b84c51b6934941230cd1979b7d0">effect_monster_armor</a>, 1_turns, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <a class="code" href="classmonster.html#ae152269bc060756feb09757c9f8c3f0c">armor_item</a> = cata::make_value&lt;item&gt;( armor_item_item );</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a2cbbcd7af6116cc11968adf67535e649">mount_items</a>.<a class="code" href="structmount__item__data.html#a9625c6b57cf72726f2a7a7e01efd8230">storage</a>.<a class="code" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <a class="code" href="classstring__id.html">itype_id</a> storage_item_id = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a2cbbcd7af6116cc11968adf67535e649">mount_items</a>.<a class="code" href="structmount__item__data.html#a9625c6b57cf72726f2a7a7e01efd8230">storage</a> );</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <a class="code" href="classitem.html">item</a> storage_item_item = <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( storage_item_id, <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> );</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a1d79314c1b7ffad5a2ff37a9fcad59b8">effect_has_bag</a>, 1_turns, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <a class="code" href="classmonster.html#a662acdf990147854bad39a7c128afcaa">tack_item</a> = cata::make_value&lt;item&gt;( storage_item_item );</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa8d13fe74b20a471589013558a91ca2a">aggro_character</a>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a4249b6f1d0842211bfe53e5f9e206a10"><div class="ttname"><a href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a></div><div class="ttdeci">time_duration rng(time_duration lo, time_duration hi)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00779">calendar.cpp:779</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">cata_variant_type::itype_id</a></div><div class="ttdeci">@ itype_id</div></div>
<div class="ttc" id="aclassCreature_html_a666022fd3ed772fa109d273c20e8de55"><div class="ttname"><a href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a></div><div class="ttdeci">void add_effect(const effect &amp;eff, bool force=false, bool deferred=false)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00604">creature.h:604</a></div></div>
<div class="ttc" id="aclassCreature_html_afedb5874d4d3438d3c82cb2104ec49fa"><div class="ttname"><a href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">Creature::set_speed_base</a></div><div class="ttdeci">virtual void set_speed_base(int nspeed)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02873">creature.cpp:2873</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassitem_html_a11cf8d500b6d8106302470dce5ca9177"><div class="ttname"><a href="classitem.html#a11cf8d500b6d8106302470dce5ca9177">item::find_type</a></div><div class="ttdeci">static const itype * find_type(const itype_id &amp;type)</div><div class="ttdoc">Returns the item type of the given identifier.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14581">item.cpp:14581</a></div></div>
<div class="ttc" id="aclassitem_html_a57b10fc9db286a3449ddc92ab3d896f5"><div class="ttname"><a href="classitem.html#a57b10fc9db286a3449ddc92ab3d896f5">item::ammo_consume</a></div><div class="ttdeci">int ammo_consume(int qty, const tripoint &amp;pos, Character *carrier)</div><div class="ttdoc">Consume ammo (if available) and return the amount of ammo that was consumed Consume order: loaded ite...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l10878">item.cpp:10878</a></div></div>
<div class="ttc" id="aclassmon__special__attack_html"><div class="ttname"><a href="classmon__special__attack.html">mon_special_attack</a></div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00047">monster.h:48</a></div></div>
<div class="ttc" id="aclassmon__special__attack_html_a0f121c831a2ecb77efe06aa048f60e58"><div class="ttname"><a href="classmon__special__attack.html#a0f121c831a2ecb77efe06aa048f60e58">mon_special_attack::cooldown</a></div><div class="ttdeci">int cooldown</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00050">monster.h:50</a></div></div>
<div class="ttc" id="aclassmonster_html_a1bcf8c4105ed1ba90775fbdef4afeaf6"><div class="ttname"><a href="classmonster.html#a1bcf8c4105ed1ba90775fbdef4afeaf6">monster::fish_population</a></div><div class="ttdeci">int fish_population</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00569">monster.h:569</a></div></div>
<div class="ttc" id="aclassmonster_html_a2881507933646bca97ef83c7112595ac"><div class="ttname"><a href="classmonster.html#a2881507933646bca97ef83c7112595ac">monster::tied_item</a></div><div class="ttdeci">cata::value_ptr&lt; item &gt; tied_item</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00529">monster.h:529</a></div></div>
<div class="ttc" id="aclassmonster_html_a43202b3e829143741862e0f5f1e826a7"><div class="ttname"><a href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">monster::has_flag</a></div><div class="ttdeci">bool has_flag(const mon_flag_id &amp;f) const final</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01202">monster.cpp:1202</a></div></div>
<div class="ttc" id="aclassmonster_html_a5d5bdb6389c0388198bda9530620e4af"><div class="ttname"><a href="classmonster.html#a5d5bdb6389c0388198bda9530620e4af">monster::battery_item</a></div><div class="ttdeci">cata::value_ptr&lt; item &gt; battery_item</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00533">monster.h:533</a></div></div>
<div class="ttc" id="aclassmonster_html_a662acdf990147854bad39a7c128afcaa"><div class="ttname"><a href="classmonster.html#a662acdf990147854bad39a7c128afcaa">monster::tack_item</a></div><div class="ttdeci">cata::value_ptr&lt; item &gt; tack_item</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00530">monster.h:530</a></div></div>
<div class="ttc" id="aclassmonster_html_a939eb403e417f4b0c032e827fecc9ab3"><div class="ttname"><a href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">monster::special_attacks</a></div><div class="ttdeci">std::map&lt; std::string, mon_special_attack, std::less&lt;&gt; &gt; special_attacks</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00617">monster.h:617</a></div></div>
<div class="ttc" id="aclassmonster_html_aa06fe45ef2076f6f62b5b84defddcd25"><div class="ttname"><a href="classmonster.html#aa06fe45ef2076f6f62b5b84defddcd25">monster::monster</a></div><div class="ttdeci">monster()</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00260">monster.cpp:260</a></div></div>
<div class="ttc" id="aclassmonster_html_aa30f973bf524ba275ada847f6118b048"><div class="ttname"><a href="classmonster.html#aa30f973bf524ba275ada847f6118b048">monster::type</a></div><div class="ttdeci">const mtype * type</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00550">monster.h:550</a></div></div>
<div class="ttc" id="aclassmonster_html_aada2988a7383cd60274263184d51303d"><div class="ttname"><a href="classmonster.html#aada2988a7383cd60274263184d51303d">monster::stomach_size</a></div><div class="ttdeci">int stomach_size</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00542">monster.h:542</a></div></div>
<div class="ttc" id="aclassmonster_html_acce0f9e8bbe3751a3051b9ff6c5acd98"><div class="ttname"><a href="classmonster.html#acce0f9e8bbe3751a3051b9ff6c5acd98">monster::biosignatures</a></div><div class="ttdeci">bool biosignatures</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00626">monster.h:626</a></div></div>
<div class="ttc" id="aclassmonster_html_ad040aa7a065e88de5c26f205a590b6dd"><div class="ttname"><a href="classmonster.html#ad040aa7a065e88de5c26f205a590b6dd">monster::reproduces</a></div><div class="ttdeci">bool reproduces</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00624">monster.h:624</a></div></div>
<div class="ttc" id="aclassmonster_html_ae152269bc060756feb09757c9f8c3f0c"><div class="ttname"><a href="classmonster.html#ae152269bc060756feb09757c9f8c3f0c">monster::armor_item</a></div><div class="ttdeci">cata::value_ptr&lt; item &gt; armor_item</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00531">monster.h:531</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; itype &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_ac180a60056901aaf79f5c4b728a257bd"><div class="ttname"><a href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">string_id::is_empty</a></div><div class="ttdeci">bool is_empty() const</div><div class="ttdoc">Returns whether this id is empty.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00303">string_id.h:303</a></div></div>
<div class="ttc" id="amagic_8h_html_a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc"><div class="ttname"><a href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">spell_target::item</a></div><div class="ttdeci">@ item</div></div>
<div class="ttc" id="amonster_8cpp_html_a1d79314c1b7ffad5a2ff37a9fcad59b8"><div class="ttname"><a href="monster_8cpp.html#a1d79314c1b7ffad5a2ff37a9fcad59b8">effect_has_bag</a></div><div class="ttdeci">static const efftype_id effect_has_bag(&quot;has_bag&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a39eb4b84c51b6934941230cd1979b7d0"><div class="ttname"><a href="monster_8cpp.html#a39eb4b84c51b6934941230cd1979b7d0">effect_monster_armor</a></div><div class="ttdeci">static const efftype_id effect_monster_armor(&quot;monster_armor&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a41489747d02c835175487ed787af59a4"><div class="ttname"><a href="monster_8cpp.html#a41489747d02c835175487ed787af59a4">effect_leashed</a></div><div class="ttdeci">static const efftype_id effect_leashed(&quot;leashed&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_aa6649cc368dd3608a8b09a9a6f66798f"><div class="ttname"><a href="monster_8cpp.html#aa6649cc368dd3608a8b09a9a6f66798f">effect_monster_saddled</a></div><div class="ttdeci">static const efftype_id effect_monster_saddled(&quot;monster_saddled&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_a10899530fa212da51fd92b98b0cacdb5"><div class="ttname"><a href="mtype_8cpp.html#a10899530fa212da51fd92b98b0cacdb5">mon_flag_AQUATIC</a></div><div class="ttdeci">mon_flag_id mon_flag_AQUATIC</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00048">mtype.cpp:48</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a1ce59be15eeebc2aa195dc5a5cf38358"><div class="ttname"><a href="mtype_8cpp.html#a1ce59be15eeebc2aa195dc5a5cf38358">mon_flag_RIDEABLE_MECH</a></div><div class="ttdeci">mon_flag_id mon_flag_RIDEABLE_MECH</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00142">mtype.cpp:142</a></div></div>
<div class="ttc" id="amtype_8cpp_html_ada7c9e7242ae6cab937fdeec0513f6d8"><div class="ttname"><a href="mtype_8cpp.html#ada7c9e7242ae6cab937fdeec0513f6d8">mon_flag_PET_MOUNTABLE</a></div><div class="ttdeci">mon_flag_id mon_flag_PET_MOUNTABLE</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00128">mtype.cpp:128</a></div></div>
<div class="ttc" id="amtype_8cpp_html_aeeff818c42a162b17d501f8f50abd3dc"><div class="ttname"><a href="mtype_8cpp.html#aeeff818c42a162b17d501f8f50abd3dc">mon_flag_NO_BREED</a></div><div class="ttdeci">mon_flag_id mon_flag_NO_BREED</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00117">mtype.cpp:117</a></div></div>
<div class="ttc" id="apoint_8h_html_a4b1a6bcaa42d2c06ecc3afc63305bfdf"><div class="ttname"><a href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></div><div class="ttdeci">constexpr tripoint tripoint_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00250">point.h:250</a></div></div>
<div class="ttc" id="arng_8cpp_html_a7ba03e7147e43d808dc29c54bce9e57f"><div class="ttname"><a href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a></div><div class="ttdeci">int dice(int number, int sides)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00123">rng.cpp:123</a></div></div>
<div class="ttc" id="astructitype_html"><div class="ttname"><a href="structitype.html">itype</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01186">itype.h:1186</a></div></div>
<div class="ttc" id="astructmount__item__data_html_a9625c6b57cf72726f2a7a7e01efd8230"><div class="ttname"><a href="structmount__item__data.html#a9625c6b57cf72726f2a7a7e01efd8230">mount_item_data::storage</a></div><div class="ttdeci">itype_id storage</div><div class="ttdoc">If this monster is a rideable mount that spawns with storage bags, this is the storage item id.</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00281">mtype.h:281</a></div></div>
<div class="ttc" id="astructmount__item__data_html_a97448c9a0c2658c8663848f16687bbea"><div class="ttname"><a href="structmount__item__data.html#a97448c9a0c2658c8663848f16687bbea">mount_item_data::tack</a></div><div class="ttdeci">itype_id tack</div><div class="ttdoc">If this monster is a rideable mount that spawns with a tack item, this is the tack item id.</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00273">mtype.h:273</a></div></div>
<div class="ttc" id="astructmount__item__data_html_a9cd9d225fd6930b6d4d7eaa158166de3"><div class="ttname"><a href="structmount__item__data.html#a9cd9d225fd6930b6d4d7eaa158166de3">mount_item_data::armor</a></div><div class="ttdeci">itype_id armor</div><div class="ttdoc">If this monster is a rideable mount that spawns with armor, this is the armor item id.</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00277">mtype.h:277</a></div></div>
<div class="ttc" id="astructmount__item__data_html_ac0f9170cb64f51393af47ba8cb7ebee7"><div class="ttname"><a href="structmount__item__data.html#ac0f9170cb64f51393af47ba8cb7ebee7">mount_item_data::tied</a></div><div class="ttdeci">itype_id tied</div><div class="ttdoc">If this monster is a rideable mount that spawns with a tied item (leash), this is the tied item id.</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00269">mtype.h:269</a></div></div>
<div class="ttc" id="astructmtype_html_a1050d0f186ffaf805c7a3bce1f5d72b0"><div class="ttname"><a href="structmtype.html#a1050d0f186ffaf805c7a3bce1f5d72b0">mtype::upgrades</a></div><div class="ttdeci">bool upgrades</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00502">mtype.h:502</a></div></div>
<div class="ttc" id="astructmtype_html_a2cbbcd7af6116cc11968adf67535e649"><div class="ttname"><a href="structmtype.html#a2cbbcd7af6116cc11968adf67535e649">mtype::mount_items</a></div><div class="ttdeci">mount_item_data mount_items</div><div class="ttdoc">load-time only</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00385">mtype.h:385</a></div></div>
<div class="ttc" id="astructmtype_html_a65f2b779578b589c2f85c0047f86b7bf"><div class="ttname"><a href="structmtype.html#a65f2b779578b589c2f85c0047f86b7bf">mtype::baby_timer</a></div><div class="ttdeci">std::optional&lt; time_duration &gt; baby_timer</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00485">mtype.h:485</a></div></div>
<div class="ttc" id="astructmtype_html_a668414d3e49844ce0237eb124d825d2c"><div class="ttname"><a href="structmtype.html#a668414d3e49844ce0237eb124d825d2c">mtype::stomach_size</a></div><div class="ttdeci">int stomach_size</div><div class="ttdoc">initial morale level at spawn</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00417">mtype.h:417</a></div></div>
<div class="ttc" id="astructmtype_html_a8172db8cb8992550dbe1a446cca7245a"><div class="ttname"><a href="structmtype.html#a8172db8cb8992550dbe1a446cca7245a">mtype::biosignatures</a></div><div class="ttdeci">bool biosignatures</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00504">mtype.h:504</a></div></div>
<div class="ttc" id="astructmtype_html_a8a889ba3d1d6eb87ca31ce8999c9e6d0"><div class="ttname"><a href="structmtype.html#a8a889ba3d1d6eb87ca31ce8999c9e6d0">mtype::morale</a></div><div class="ttdeci">int morale</div><div class="ttdoc">chance will attack [-100,100]</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00416">mtype.h:416</a></div></div>
<div class="ttc" id="astructmtype_html_a9a59bfdad7bfcd71c923ae8463630c95"><div class="ttname"><a href="structmtype.html#a9a59bfdad7bfcd71c923ae8463630c95">mtype::agro</a></div><div class="ttdeci">int agro</div><div class="ttdoc">e.g.</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00415">mtype.h:415</a></div></div>
<div class="ttc" id="astructmtype_html_a9e9e707bf8f83b24296e21b6eaa414a2"><div class="ttname"><a href="structmtype.html#a9e9e707bf8f83b24296e21b6eaa414a2">mtype::half_life</a></div><div class="ttdeci">int half_life</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00466">mtype.h:466</a></div></div>
<div class="ttc" id="astructmtype_html_aa5d095d022d8661fbadcd45a916a4388"><div class="ttname"><a href="structmtype.html#aa5d095d022d8661fbadcd45a916a4388">mtype::reproduces</a></div><div class="ttdeci">bool reproduces</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00503">mtype.h:503</a></div></div>
<div class="ttc" id="astructmtype_html_aa8d13fe74b20a471589013558a91ca2a"><div class="ttname"><a href="structmtype.html#aa8d13fe74b20a471589013558a91ca2a">mtype::aggro_character</a></div><div class="ttdeci">bool aggro_character</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00507">mtype.h:507</a></div></div>
<div class="ttc" id="astructmtype_html_ac5d26fd8f0685f847029c3d34a0a7a17"><div class="ttname"><a href="structmtype.html#ac5d26fd8f0685f847029c3d34a0a7a17">mtype::age_grow</a></div><div class="ttdeci">int age_grow</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00467">mtype.h:467</a></div></div>
<div class="ttc" id="astructmtype_html_ac5d8669b2e2b6e98c6288b8d87a29e51"><div class="ttname"><a href="structmtype.html#ac5d8669b2e2b6e98c6288b8d87a29e51">mtype::default_faction</a></div><div class="ttdeci">mfaction_str_id default_faction</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00302">mtype.h:302</a></div></div>
<div class="ttc" id="astructmtype_html_ad3d8be7cacb7cd0a19b2c187c9e1ac26"><div class="ttname"><a href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">mtype::special_attacks</a></div><div class="ttdeci">std::map&lt; std::string, mtype_special_attack &gt; special_attacks</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00378">mtype.h:378</a></div></div>
<div class="ttc" id="astructmtype_html_addfa6852e581c8cebbd1bbf9c4ebbd9a"><div class="ttname"><a href="structmtype.html#addfa6852e581c8cebbd1bbf9c4ebbd9a">mtype::speed</a></div><div class="ttdeci">int speed</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00414">mtype.h:414</a></div></div>
<div class="ttc" id="astructmtype_html_ae806ca327abafc5a50b7f0214d4b6f02"><div class="ttname"><a href="structmtype.html#ae806ca327abafc5a50b7f0214d4b6f02">mtype::mech_battery</a></div><div class="ttdeci">itype_id mech_battery</div><div class="ttdoc">If this monster is a rideable mech it needs a power source battery type.</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00331">mtype.h:331</a></div></div>
<div class="ttc" id="astructmtype_html_af242ac55ae2896b040f91b3581e5fcbb"><div class="ttname"><a href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">mtype::hp</a></div><div class="ttdeci">int hp</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00413">mtype.h:413</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="mtype_8h_source.html#l00467">mtype::age_grow</a>, <a class="el" href="monster_8h_source.html#l00572">aggro_character</a>, <a class="el" href="mtype_8h_source.html#l00507">mtype::aggro_character</a>, <a class="el" href="mtype_8h_source.html#l00415">mtype::agro</a>, <a class="el" href="item_8cpp_source.html#l10878">item::ammo_consume()</a>, <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="mtype_8h_source.html#l00277">mount_item_data::armor</a>, <a class="el" href="monster_8h_source.html#l00531">armor_item</a>, <a class="el" href="mtype_8h_source.html#l00485">mtype::baby_timer</a>, <a class="el" href="monster_8h_source.html#l00533">battery_item</a>, <a class="el" href="monster_8h_source.html#l00626">biosignatures</a>, <a class="el" href="mtype_8h_source.html#l00504">mtype::biosignatures</a>, <a class="el" href="monster_8h_source.html#l00050">mon_special_attack::cooldown</a>, <a class="el" href="mtype_8h_source.html#l00302">mtype::default_faction</a>, <a class="el" href="rng_8cpp_source.html#l00123">dice()</a>, <a class="el" href="monster_8cpp.html#a1d79314c1b7ffad5a2ff37a9fcad59b8">effect_has_bag</a>, <a class="el" href="monster_8cpp.html#a41489747d02c835175487ed787af59a4">effect_leashed</a>, <a class="el" href="monster_8cpp.html#a39eb4b84c51b6934941230cd1979b7d0">effect_monster_armor</a>, <a class="el" href="monster_8cpp.html#aa6649cc368dd3608a8b09a9a6f66798f">effect_monster_saddled</a>, <a class="el" href="item_8cpp_source.html#l14581">item::find_type()</a>, <a class="el" href="monster_8h_source.html#l00569">fish_population</a>, <a class="el" href="mtype_8h_source.html#l00466">mtype::half_life</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="monster_8h_source.html#l00616">hp</a>, <a class="el" href="mtype_8h_source.html#l00413">mtype::hp</a>, <a class="el" href="string__id_8h_source.html#l00303">string_id&lt; T &gt;::is_empty()</a>, <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>, <a class="el" href="mtype_8h_source.html#l00331">mtype::mech_battery</a>, <a class="el" href="mtype_8cpp_source.html#l00048">mon_flag_AQUATIC</a>, <a class="el" href="mtype_8cpp_source.html#l00117">mon_flag_NO_BREED</a>, <a class="el" href="mtype_8cpp_source.html#l00128">mon_flag_PET_MOUNTABLE</a>, <a class="el" href="mtype_8cpp_source.html#l00142">mon_flag_RIDEABLE_MECH</a>, <a class="el" href="monster_8h_source.html#l00541">morale</a>, <a class="el" href="mtype_8h_source.html#l00416">mtype::morale</a>, <a class="el" href="mtype_8h_source.html#l00385">mtype::mount_items</a>, <a class="el" href="creature_8h_source.html#l01193">Creature::moves</a>, <a class="el" href="monster_8h_source.html#l00624">reproduces</a>, <a class="el" href="mtype_8h_source.html#l00503">mtype::reproduces</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="creature_8cpp_source.html#l02873">Creature::set_speed_base()</a>, <a class="el" href="monster_8h_source.html#l00617">special_attacks</a>, <a class="el" href="mtype_8h_source.html#l00378">mtype::special_attacks</a>, <a class="el" href="mtype_8h_source.html#l00414">mtype::speed</a>, <a class="el" href="monster_8h_source.html#l00542">stomach_size</a>, <a class="el" href="mtype_8h_source.html#l00417">mtype::stomach_size</a>, <a class="el" href="mtype_8h_source.html#l00281">mount_item_data::storage</a>, <a class="el" href="mtype_8h_source.html#l00273">mount_item_data::tack</a>, <a class="el" href="monster_8h_source.html#l00530">tack_item</a>, <a class="el" href="mtype_8h_source.html#l00269">mount_item_data::tied</a>, <a class="el" href="monster_8h_source.html#l00529">tied_item</a>, <a class="el" href="point_8h_source.html#l00250">tripoint_zero</a>, <a class="el" href="calendar_8h_source.html#l00541">calendar::turn_zero</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, <a class="el" href="monster_8h_source.html#l00622">upgrades</a>, and <a class="el" href="mtype_8h_source.html#l00502">mtype::upgrades</a>.</p>

</div>
</div>
<a id="a986ff9835bbe69a0b2401e91d01a79c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a986ff9835bbe69a0b2401e91d01a79c6">&#9670;&nbsp;</a></span>monster() <span class="overload">[3/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">monster::monster </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00345">345</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                                                        : <a class="code" href="classmonster.html#aa06fe45ef2076f6f62b5b84defddcd25">monster</a>( <span class="keywordtype">id</span> )</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;{</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="classCreature.html#a7b94528e3a599dfc8647117bc6741243">set_pos_only</a>( p );</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="classmonster.html#a1488f5a618c74a508fb87b82be05ef11">unset_dest</a>();</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a7b94528e3a599dfc8647117bc6741243"><div class="ttname"><a href="classCreature.html#a7b94528e3a599dfc8647117bc6741243">Creature::set_pos_only</a></div><div class="ttdeci">void set_pos_only(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00202">creature.cpp:202</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8cpp_source.html#l00202">Creature::set_pos_only()</a>, and <a class="el" href="monster_8cpp_source.html#l01388">unset_dest()</a>.</p>

</div>
</div>
<a id="aff2a83519e921dd43520ea850bf79db7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff2a83519e921dd43520ea850bf79db7">&#9670;&nbsp;</a></span>monster() <span class="overload">[4/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">monster::monster </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmonster.html">monster</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae677d6c6e6133866b610d4cc02da6747"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae677d6c6e6133866b610d4cc02da6747">&#9670;&nbsp;</a></span>monster() <span class="overload">[5/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">monster::monster </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmonster.html">monster</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af8cc695d34404070671ee2bc28ef8df4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8cc695d34404070671ee2bc28ef8df4">&#9670;&nbsp;</a></span>~monster()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">monster::~monster </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1b5b23d86bdc0f49d00190ee19a807d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b5b23d86bdc0f49d00190ee19a807d6">&#9670;&nbsp;</a></span>absorb_hit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structweakpoint.html">weakpoint</a> * monster::absorb_hit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structweakpoint__attack.html">weakpoint_attack</a> &amp;&#160;</td>
          <td class="paramname"><em>attack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;&#160;</td>
          <td class="paramname"><em>bp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdamage__instance.html">damage_instance</a> &amp;&#160;</td>
          <td class="paramname"><em>dam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a01a77a34521240d0691e0f390b2b392f">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01875">1875</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;{</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    <a class="code" href="structresistances.html">resistances</a> r = <a class="code" href="structresistances.html">resistances</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> *wp = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ae705f586c02feec1dc4545023d63ad9d">weakpoints</a>.<a class="code" href="structweakpoints.html#a1610db674cc403a7a2f57fdae3b59942">select_weakpoint</a>( <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> );</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    wp-&gt;<a class="code" href="structweakpoint.html#a3f3f19cc0579c52ca608829b5b80ebd8">apply_to</a>( r );</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structdamage__unit.html">damage_unit</a> &amp;elem : dam.<a class="code" href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_units</a> ) {</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        <a class="code" href="monster_8cpp.html#a2a099f6faba1efc8260b6ab0203f2dc8">armor_enchantment_adjust</a>( *<span class="keyword">this</span>, elem );</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;        <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>,</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                       <span class="stringliteral">&quot;Dam Type: %s :: Dam Amt: %.1f :: Ar Pen: %.1f :: Armor Mult: %.1f&quot;</span>,</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                       elem.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a>.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>(), elem.<a class="code" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a>, elem.<a class="code" href="structdamage__unit.html#ab4d1b13f7ebe2f16a43038e1441ec2b5">res_pen</a>, elem.<a class="code" href="structdamage__unit.html#af0a5ce1c282d7ed1a783fd4315404ec3">res_mult</a> );</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>,</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                       <span class="stringliteral">&quot;Weakpoint: %s :: Armor Mult: %.1f :: Armor Penalty: %.1f :: Resist: %.1f&quot;</span>,</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                       wp-&gt;<a class="code" href="structweakpoint.html#a69d6ba455a2a68526931c61fc7c990e7">id</a>, wp-&gt;<a class="code" href="structweakpoint.html#a5efcc17d004857155b080be780fe70be">armor_mult</a>.count( elem.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a> ) &gt; 0 ? wp-&gt;<a class="code" href="structweakpoint.html#a5efcc17d004857155b080be780fe70be">armor_mult</a>.at( elem.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a> ) : 0.f,</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;                       wp-&gt;<a class="code" href="structweakpoint.html#ac12b66901ca68c4c83e62f04dca66d1b">armor_penalty</a>.count( elem.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a> ) &gt; 0 ? wp-&gt;<a class="code" href="structweakpoint.html#ac12b66901ca68c4c83e62f04dca66d1b">armor_penalty</a>.at( elem.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a> ) : 0.f,</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                       r.<a class="code" href="structresistances.html#ab2707e673b2def1188ac7397012c1afb">get_effective_resist</a>( elem ) );</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        elem.<a class="code" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> -= <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( r.<a class="code" href="structresistances.html#ab2707e673b2def1188ac7397012c1afb">get_effective_resist</a>( elem ) +</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;                                 <a class="code" href="classmonster.html#acbb7e9e724bb308488bf0df6c257f71d">get_worn_armor_val</a>( elem.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a> ), elem.<a class="code" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> );</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    }</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    wp-&gt;<a class="code" href="structweakpoint.html#a3f3f19cc0579c52ca608829b5b80ebd8">apply_to</a>( dam, <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.is_crit );</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="keywordflow">return</span> wp;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_acbb7e9e724bb308488bf0df6c257f71d"><div class="ttname"><a href="classmonster.html#acbb7e9e724bb308488bf0df6c257f71d">monster::get_worn_armor_val</a></div><div class="ttdeci">int get_worn_armor_val(const damage_type_id &amp;dt) const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02394">monster.cpp:2394</a></div></div>
<div class="ttc" id="aclassstring__id_html_a2c0e3a434bcb9e3c353b337053ff22d8"><div class="ttname"><a href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">string_id::c_str</a></div><div class="ttdeci">const char * c_str() const</div><div class="ttdoc">Interface to the plain C-string of the id.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00252">string_id.h:252</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a993dede52d23a9a3d15b01a342391ef4"><div class="ttname"><a href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">min</a></div><div class="ttdeci">double min(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00043">math_parser_func.h:43</a></div></div>
<div class="ttc" id="amessages_8h_html_ab6590bda29b082a7282bcc1a9cc8f02a"><div class="ttname"><a href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a></div><div class="ttdeci">#define add_msg_debug(type,...)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8h_source.html#l00177">messages.h:177</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a2a099f6faba1efc8260b6ab0203f2dc8"><div class="ttname"><a href="monster_8cpp.html#a2a099f6faba1efc8260b6ab0203f2dc8">armor_enchantment_adjust</a></div><div class="ttdeci">static void armor_enchantment_adjust(monster &amp;mon, damage_unit &amp;du)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00228">monster.cpp:228</a></div></div>
<div class="ttc" id="anamespacedebugmode_html_ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06"><div class="ttname"><a href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a></div><div class="ttdeci">@ DF_MONSTER</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00265">debug.h:265</a></div></div>
<div class="ttc" id="anamespacespell__effect_html_acfe36e6436b9cc2e3060fc5541bded22"><div class="ttname"><a href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">spell_effect::attack</a></div><div class="ttdeci">void attack(const spell &amp;sp, Creature &amp;caster, const tripoint &amp;epicenter)</div><div class="ttdef"><b>Definition:</b> <a href="magic__spell__effect_8cpp_source.html#l00581">magic_spell_effect.cpp:581</a></div></div>
<div class="ttc" id="astructdamage__instance_html_a2cc3ee4ff8f77ab6cd74168b1999246a"><div class="ttname"><a href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_instance::damage_units</a></div><div class="ttdeci">std::vector&lt; damage_unit &gt; damage_units</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00133">damage.h:133</a></div></div>
<div class="ttc" id="astructdamage__unit_html"><div class="ttname"><a href="structdamage__unit.html">damage_unit</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00110">damage.h:110</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a5937d5d78a6db9efaefb0bf9517377d3"><div class="ttname"><a href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">damage_unit::amount</a></div><div class="ttdeci">float amount</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00112">damage.h:112</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a80a647d679545a588270b289a6a13dd3"><div class="ttname"><a href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">damage_unit::type</a></div><div class="ttdeci">damage_type_id type</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00111">damage.h:111</a></div></div>
<div class="ttc" id="astructdamage__unit_html_ab4d1b13f7ebe2f16a43038e1441ec2b5"><div class="ttname"><a href="structdamage__unit.html#ab4d1b13f7ebe2f16a43038e1441ec2b5">damage_unit::res_pen</a></div><div class="ttdeci">float res_pen</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00113">damage.h:113</a></div></div>
<div class="ttc" id="astructdamage__unit_html_af0a5ce1c282d7ed1a783fd4315404ec3"><div class="ttname"><a href="structdamage__unit.html#af0a5ce1c282d7ed1a783fd4315404ec3">damage_unit::res_mult</a></div><div class="ttdeci">float res_mult</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00114">damage.h:114</a></div></div>
<div class="ttc" id="astructmtype_html_ae705f586c02feec1dc4545023d63ad9d"><div class="ttname"><a href="structmtype.html#ae705f586c02feec1dc4545023d63ad9d">mtype::weakpoints</a></div><div class="ttdeci">::weakpoints weakpoints</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00400">mtype.h:400</a></div></div>
<div class="ttc" id="astructresistances_html"><div class="ttname"><a href="structresistances.html">resistances</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00204">damage.h:204</a></div></div>
<div class="ttc" id="astructresistances_html_ab2707e673b2def1188ac7397012c1afb"><div class="ttname"><a href="structresistances.html#ab2707e673b2def1188ac7397012c1afb">resistances::get_effective_resist</a></div><div class="ttdeci">float get_effective_resist(const damage_unit &amp;du) const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00627">damage.cpp:627</a></div></div>
<div class="ttc" id="astructweakpoint_html"><div class="ttname"><a href="structweakpoint.html">weakpoint</a></div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00120">weakpoint.h:120</a></div></div>
<div class="ttc" id="astructweakpoint_html_a3f3f19cc0579c52ca608829b5b80ebd8"><div class="ttname"><a href="structweakpoint.html#a3f3f19cc0579c52ca608829b5b80ebd8">weakpoint::apply_to</a></div><div class="ttdeci">void apply_to(resistances &amp;resistances) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00472">weakpoint.cpp:472</a></div></div>
<div class="ttc" id="astructweakpoint_html_a5efcc17d004857155b080be780fe70be"><div class="ttname"><a href="structweakpoint.html#a5efcc17d004857155b080be780fe70be">weakpoint::armor_mult</a></div><div class="ttdeci">std::unordered_map&lt; damage_type_id, float &gt; armor_mult</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00128">weakpoint.h:128</a></div></div>
<div class="ttc" id="astructweakpoint_html_a69d6ba455a2a68526931c61fc7c990e7"><div class="ttname"><a href="structweakpoint.html#a69d6ba455a2a68526931c61fc7c990e7">weakpoint::id</a></div><div class="ttdeci">std::string id</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00122">weakpoint.h:122</a></div></div>
<div class="ttc" id="astructweakpoint_html_ac12b66901ca68c4c83e62f04dca66d1b"><div class="ttname"><a href="structweakpoint.html#ac12b66901ca68c4c83e62f04dca66d1b">weakpoint::armor_penalty</a></div><div class="ttdeci">std::unordered_map&lt; damage_type_id, float &gt; armor_penalty</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00130">weakpoint.h:130</a></div></div>
<div class="ttc" id="astructweakpoints_html_a1610db674cc403a7a2f57fdae3b59942"><div class="ttname"><a href="structweakpoints.html#a1610db674cc403a7a2f57fdae3b59942">weakpoints::select_weakpoint</a></div><div class="ttdeci">const weakpoint * select_weakpoint(const weakpoint_attack &amp;attack) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00540">weakpoint.cpp:540</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="damage_8h_source.html#l00112">damage_unit::amount</a>, <a class="el" href="weakpoint_8cpp_source.html#l00472">weakpoint::apply_to()</a>, <a class="el" href="monster_8cpp_source.html#l00228">armor_enchantment_adjust()</a>, <a class="el" href="weakpoint_8h_source.html#l00128">weakpoint::armor_mult</a>, <a class="el" href="weakpoint_8h_source.html#l00130">weakpoint::armor_penalty</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00581">spell_effect::attack()</a>, <a class="el" href="string__id_8h_source.html#l00252">string_id&lt; T &gt;::c_str()</a>, <a class="el" href="damage_8h_source.html#l00133">damage_instance::damage_units</a>, <a class="el" href="debug_8h_source.html#l00265">debugmode::DF_MONSTER</a>, <a class="el" href="damage_8cpp_source.html#l00627">resistances::get_effective_resist()</a>, <a class="el" href="monster_8cpp_source.html#l02394">get_worn_armor_val()</a>, <a class="el" href="weakpoint_8h_source.html#l00122">weakpoint::id</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="damage_8h_source.html#l00114">damage_unit::res_mult</a>, <a class="el" href="damage_8h_source.html#l00113">damage_unit::res_pen</a>, <a class="el" href="weakpoint_8cpp_source.html#l00540">weakpoints::select_weakpoint()</a>, <a class="el" href="damage_8h_source.html#l00111">damage_unit::type</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="mtype_8h_source.html#l00400">mtype::weakpoints</a>.</p>

</div>
</div>
<a id="a7761dca00a9d12e6037303dad457f631"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7761dca00a9d12e6037303dad457f631">&#9670;&nbsp;</a></span>add_grab()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::add_grab </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>&#160;</td>
          <td class="paramname"><em>bp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02505">2505</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;{</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a66f79823ab25161f7aabf43445a580a4">effect_grabbing</a>, 1_days, <span class="keyword">true</span>, 1 );</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <a class="code" href="classmonster.html#ab867ed85af4f78ffd00d7c525fba796b">grabbed_limbs</a>.insert( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_ab867ed85af4f78ffd00d7c525fba796b"><div class="ttname"><a href="classmonster.html#ab867ed85af4f78ffd00d7c525fba796b">monster::grabbed_limbs</a></div><div class="ttdeci">std::unordered_set&lt; bodypart_str_id &gt; grabbed_limbs</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00519">monster.h:519</a></div></div>
<div class="ttc" id="acreature_8h_html_ac54f8023b2f6c4c85f60252cf47cc28d"><div class="ttname"><a href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a></div><div class="ttdeci">bodypart_id bp</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00238">creature.h:238</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a66f79823ab25161f7aabf43445a580a4"><div class="ttname"><a href="monster_8cpp.html#a66f79823ab25161f7aabf43445a580a4">effect_grabbing</a></div><div class="ttdeci">static const efftype_id effect_grabbing(&quot;grabbing&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="creature_8h_source.html#l00238">bp</a>, <a class="el" href="monster_8cpp.html#a66f79823ab25161f7aabf43445a580a4">effect_grabbing</a>, and <a class="el" href="monster_8h_source.html#l00519">grabbed_limbs</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l00465">melee_actor::do_grab()</a>.</p>

</div>
</div>
<a id="a6a50c1ca1b7405a717c95bac530e9e07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a50c1ca1b7405a717c95bac530e9e07">&#9670;&nbsp;</a></span>add_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::add_item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03455">3455</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;{</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;    <a class="code" href="classmonster.html#a275d73e1bf3d08e2ea1a0704ac898f7e">inv</a>.push_back( it );</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a275d73e1bf3d08e2ea1a0704ac898f7e"><div class="ttname"><a href="classmonster.html#a275d73e1bf3d08e2ea1a0704ac898f7e">monster::inv</a></div><div class="ttdeci">std::vector&lt; item &gt; inv</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00524">monster.h:524</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00524">inv</a>.</p>

<p class="reference">Referenced by <a class="el" href="monexamine_8cpp_source.html#l00169">anonymous_namespace{monexamine.cpp}::attach_bag_to()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="ballistics_8cpp_source.html#l00047">drop_or_embed_projectile()</a>, <a class="el" href="monster_8cpp_source.html#l03572">move_special_item_to_inv()</a>, <a class="el" href="monattack_8cpp_source.html#l03381">mattack::searchlight()</a>, and <a class="el" href="activity__actor_8cpp_source.html#l04314">stash_on_pet()</a>.</p>

</div>
</div>
<a id="aaaa8bbf304094b1f21b2740518d6630e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaa8bbf304094b1f21b2740518d6630e">&#9670;&nbsp;</a></span>add_msg_if_npc() <span class="overload">[1/12]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Creature::add_msg_if_npc </td>
          <td>(</td>
          <td class="paramtype">typename ...&#160;</td>
          <td class="paramname"><em>Args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8h_source.html#l01024">1024</a> of file <a class="el" href="creature_8h_source.html">creature.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                                                                            {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( msg, std::forward&lt;Args&gt;( args )... ) );</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        }</div>
<div class="ttc" id="aclassmonster_html_aa5da3a2470cbe9db76174216826307c1"><div class="ttname"><a href="classmonster.html#aa5da3a2470cbe9db76174216826307c1">monster::add_msg_if_npc</a></div><div class="ttdeci">virtual void add_msg_if_npc(const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01018">creature.h:1018</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6a2d18231b856df1947c0f2c51768cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6a2d18231b856df1947c0f2c51768cc">&#9670;&nbsp;</a></span>add_msg_if_npc() <span class="overload">[2/12]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Creature::add_msg_if_npc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8h_source.html#l01019">1019</a> of file <a class="el" href="creature_8h_source.html">creature.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                                                                {}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aff08a0fd32630c9d3ea6dd7320048028"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff08a0fd32630c9d3ea6dd7320048028">&#9670;&nbsp;</a></span>add_msg_if_npc() <span class="overload">[3/12]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Creature::add_msg_if_npc</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8cpp_source.html#l01022">1022</a> of file <a class="el" href="creature_8cpp_source.html">creature.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;{</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a>( params, msg.translated() );</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab829716b1c7d34c74a6be5f7cbb8d8dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab829716b1c7d34c74a6be5f7cbb8d8dc">&#9670;&nbsp;</a></span>add_msg_if_npc() <span class="overload">[4/12]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Creature::add_msg_if_npc </td>
          <td>(</td>
          <td class="paramtype">typename ...&#160;</td>
          <td class="paramname"><em>Args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8h_source.html#l01036">1036</a> of file <a class="el" href="creature_8h_source.html">creature.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                                                     {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            <span class="keywordflow">if</span>( params.type == <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a> &amp;&amp; !<a class="code" href="debug_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a> ) {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            }</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a>( params, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( msg, std::forward&lt;Args&gt;( args )... ) );</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        }</div>
<div class="ttc" id="adebug_8cpp_html_aa021995764a0c77f628e3411497239cc"><div class="ttname"><a href="debug_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a></div><div class="ttdeci">bool debug_mode</div><div class="ttdoc">Extended debugging mode, can be toggled during game.</div><div class="ttdef"><b>Definition:</b> <a href="debug_8cpp_source.html#l00210">debug.cpp:210</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a></div><div class="ttdeci">@ m_debug</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00358">enums.h:358</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a463a5f201d8cedc0c5b06ba5d5cb06f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a463a5f201d8cedc0c5b06ba5d5cb06f6">&#9670;&nbsp;</a></span>add_msg_if_npc() <span class="overload">[5/12]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::add_msg_if_npc </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#aa6a2d18231b856df1947c0f2c51768cc">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03534">3534</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;{</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;    <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( *<span class="keyword">this</span>, params, <a class="code" href="classCreature.html#aabed1ac65b7fbd67cfb8a3252b16e67d">replace_with_npc_name</a>( msg ) );</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_aabed1ac65b7fbd67cfb8a3252b16e67d"><div class="ttname"><a href="classCreature.html#aabed1ac65b7fbd67cfb8a3252b16e67d">Creature::replace_with_npc_name</a></div><div class="ttdeci">std::string replace_with_npc_name(std::string input) const</div><div class="ttdoc">This function replaces the &quot;&lt;npcname&gt;&quot; substring with the disp_name of this creature.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03108">creature.cpp:3108</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a3ea1aed1d11cd410cce07fb5be7aa34f"><div class="ttname"><a href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a></div><div class="ttdeci">void add_msg_if_player_sees(const tripoint &amp;target, std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l01007">messages.cpp:1007</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8cpp_source.html#l01007">add_msg_if_player_sees()</a>, and <a class="el" href="creature_8cpp_source.html#l03108">Creature::replace_with_npc_name()</a>.</p>

</div>
</div>
<a id="ae472c038258be0005ac20376ee68be3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae472c038258be0005ac20376ee68be3b">&#9670;&nbsp;</a></span>add_msg_if_npc() <span class="overload">[6/12]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Creature::add_msg_if_npc </td>
          <td>(</td>
          <td class="paramtype">typename ...&#160;</td>
          <td class="paramname"><em>Args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8h_source.html#l01044">1044</a> of file <a class="el" href="creature_8h_source.html">creature.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                                                     {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            <span class="keywordflow">if</span>( params.type == <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a> &amp;&amp; !<a class="code" href="debug_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a> ) {</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a>( params, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( msg, std::forward&lt;Args&gt;( args )... ) );</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae1593ee1fc7ab6bf0ae760fdabc9f1ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1593ee1fc7ab6bf0ae760fdabc9f1ce">&#9670;&nbsp;</a></span>add_msg_if_npc() <span class="overload">[7/12]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Creature::add_msg_if_npc </td>
          <td>(</td>
          <td class="paramtype">typename ...&#160;</td>
          <td class="paramname"><em>Args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8h_source.html#l01052">1052</a> of file <a class="el" href="creature_8h_source.html">creature.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                                                     {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            <span class="keywordflow">if</span>( params.type == <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a> &amp;&amp; !<a class="code" href="debug_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a> ) {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a>( params, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( msg, std::forward&lt;Args&gt;( args )... ) );</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa5da3a2470cbe9db76174216826307c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5da3a2470cbe9db76174216826307c1">&#9670;&nbsp;</a></span>add_msg_if_npc() <span class="overload">[8/12]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Creature::add_msg_if_npc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8h_source.html#l01018">1018</a> of file <a class="el" href="creature_8h_source.html">creature.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aca82dd4277ed7b988728548156ada2cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca82dd4277ed7b988728548156ada2cf">&#9670;&nbsp;</a></span>add_msg_if_npc() <span class="overload">[9/12]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::add_msg_if_npc </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03523">3523</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;{</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;    <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( *<span class="keyword">this</span>, <a class="code" href="classCreature.html#aabed1ac65b7fbd67cfb8a3252b16e67d">replace_with_npc_name</a>( msg ) );</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8cpp_source.html#l01007">add_msg_if_player_sees()</a>, and <a class="el" href="creature_8cpp_source.html#l03108">Creature::replace_with_npc_name()</a>.</p>

</div>
</div>
<a id="a48279f8a14d84719495e7589230e3576"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48279f8a14d84719495e7589230e3576">&#9670;&nbsp;</a></span>add_msg_if_npc() <span class="overload">[10/12]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Creature::add_msg_if_npc </td>
          <td>(</td>
          <td class="paramtype">typename ...&#160;</td>
          <td class="paramname"><em>Args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8h_source.html#l01028">1028</a> of file <a class="el" href="creature_8h_source.html">creature.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                                                                           {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( msg, std::forward&lt;Args&gt;( args )... ) );</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af3b0f9beac863a48f4e7b1b375ecc7cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3b0f9beac863a48f4e7b1b375ecc7cf">&#9670;&nbsp;</a></span>add_msg_if_npc() <span class="overload">[11/12]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Creature::add_msg_if_npc</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8cpp_source.html#l01021">1021</a> of file <a class="el" href="creature_8cpp_source.html">creature.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;{</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a>( msg.translated() );</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a31796e0c637397ee99aa363d9fff619a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31796e0c637397ee99aa363d9fff619a">&#9670;&nbsp;</a></span>add_msg_if_npc() <span class="overload">[12/12]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Creature::add_msg_if_npc </td>
          <td>(</td>
          <td class="paramtype">typename ...&#160;</td>
          <td class="paramname"><em>Args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8h_source.html#l01032">1032</a> of file <a class="el" href="creature_8h_source.html">creature.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                                                                             {</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( msg, std::forward&lt;Args&gt;( args )... ) );</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f62360e42c8429e2f6dbc06c0b998da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f62360e42c8429e2f6dbc06c0b998da">&#9670;&nbsp;</a></span>add_msg_player_or_npc() <span class="overload">[1/12]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Creature::add_msg_player_or_npc </td>
          <td>(</td>
          <td class="paramtype">typename ...&#160;</td>
          <td class="paramname"><em>Args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8h_source.html#l01071">1071</a> of file <a class="el" href="creature_8h_source.html">creature.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                                                            {</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( player_msg, std::forward&lt;Args&gt;( args )... ),</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                                          <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( npc_msg, std::forward&lt;Args&gt;( args )... ) );</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        }</div>
<div class="ttc" id="aclassmonster_html_a7cf71d2bd6c350f2ceda3f1d64046e63"><div class="ttname"><a href="classmonster.html#a7cf71d2bd6c350f2ceda3f1d64046e63">monster::add_msg_player_or_npc</a></div><div class="ttdeci">virtual void add_msg_player_or_npc(const std::string &amp;, const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01060">creature.h:1060</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="addf2eb746446a370a7a7cb4bd00bc6c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addf2eb746446a370a7a7cb4bd00bc6c3">&#9670;&nbsp;</a></span>add_msg_player_or_npc() <span class="overload">[2/12]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Creature::add_msg_player_or_npc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8h_source.html#l01062">1062</a> of file <a class="el" href="creature_8h_source.html">creature.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                                                                       {}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aba59f7f156a1a85ed266b0458fd6be2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba59f7f156a1a85ed266b0458fd6be2e">&#9670;&nbsp;</a></span>add_msg_player_or_npc() <span class="overload">[3/12]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Creature::add_msg_player_or_npc</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8cpp_source.html#l01067">1067</a> of file <a class="el" href="creature_8cpp_source.html">creature.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;{</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( params, pc.translated(), <a class="code" href="classnpc.html">npc</a>.translated() );</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;}</div>
<div class="ttc" id="aclassnpc_html"><div class="ttname"><a href="classnpc.html">npc</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00791">npc.h:792</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1641f7cd3c45babcf065beeb2d341d71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1641f7cd3c45babcf065beeb2d341d71">&#9670;&nbsp;</a></span>add_msg_player_or_npc() <span class="overload">[4/12]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Creature::add_msg_player_or_npc </td>
          <td>(</td>
          <td class="paramtype">typename ...&#160;</td>
          <td class="paramname"><em>Args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8h_source.html#l01089">1089</a> of file <a class="el" href="creature_8h_source.html">creature.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                                                                                       {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            <span class="keywordflow">if</span>( params.type == <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a> &amp;&amp; !<a class="code" href="debug_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a> ) {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;            }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( params, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( player_msg, std::forward&lt;Args&gt;( args )... ),</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                                          <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( npc_msg, std::forward&lt;Args&gt;( args )... ) );</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c280c38471e4812578fb74e076d082f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c280c38471e4812578fb74e076d082f">&#9670;&nbsp;</a></span>add_msg_player_or_npc() <span class="overload">[5/12]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::add_msg_player_or_npc </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>player_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>npc_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#addf2eb746446a370a7a7cb4bd00bc6c3">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03539">3539</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;{</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;    <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( *<span class="keyword">this</span>, params, <a class="code" href="classCreature.html#aabed1ac65b7fbd67cfb8a3252b16e67d">replace_with_npc_name</a>( npc_msg ) );</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8cpp_source.html#l01007">add_msg_if_player_sees()</a>, and <a class="el" href="creature_8cpp_source.html#l03108">Creature::replace_with_npc_name()</a>.</p>

</div>
</div>
<a id="a2310e011bcb43c7f0129bfc994a194aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2310e011bcb43c7f0129bfc994a194aa">&#9670;&nbsp;</a></span>add_msg_player_or_npc() <span class="overload">[6/12]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Creature::add_msg_player_or_npc </td>
          <td>(</td>
          <td class="paramtype">typename ...&#160;</td>
          <td class="paramname"><em>Args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8h_source.html#l01098">1098</a> of file <a class="el" href="creature_8h_source.html">creature.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                                                                                      {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            <span class="keywordflow">if</span>( params.type == <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a> &amp;&amp; !<a class="code" href="debug_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a> ) {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( params, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( player_msg, std::forward&lt;Args&gt;( args )... ),</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                                          <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( npc_msg, std::forward&lt;Args&gt;( args )... ) );</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa76a8657010c9d1ddb06cba966f48822"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa76a8657010c9d1ddb06cba966f48822">&#9670;&nbsp;</a></span>add_msg_player_or_npc() <span class="overload">[7/12]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Creature::add_msg_player_or_npc </td>
          <td>(</td>
          <td class="paramtype">typename ...&#160;</td>
          <td class="paramname"><em>Args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8h_source.html#l01107">1107</a> of file <a class="el" href="creature_8h_source.html">creature.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                                                                                        {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            <span class="keywordflow">if</span>( params.type == <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a> &amp;&amp; !<a class="code" href="debug_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a> ) {</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            }</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( params, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( player_msg, std::forward&lt;Args&gt;( args )... ),</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                                          <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( npc_msg, std::forward&lt;Args&gt;( args )... ) );</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7cf71d2bd6c350f2ceda3f1d64046e63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cf71d2bd6c350f2ceda3f1d64046e63">&#9670;&nbsp;</a></span>add_msg_player_or_npc() <span class="overload">[8/12]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Creature::add_msg_player_or_npc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8h_source.html#l01060">1060</a> of file <a class="el" href="creature_8h_source.html">creature.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                                                                       {}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a39340063a86558974791b1affedc91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a39340063a86558974791b1affedc91">&#9670;&nbsp;</a></span>add_msg_player_or_npc() <span class="overload">[9/12]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::add_msg_player_or_npc </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>player_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>npc_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03528">3528</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;{</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;    <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( *<span class="keyword">this</span>, <a class="code" href="classCreature.html#aabed1ac65b7fbd67cfb8a3252b16e67d">replace_with_npc_name</a>( npc_msg ) );</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8cpp_source.html#l01007">add_msg_if_player_sees()</a>, and <a class="el" href="creature_8cpp_source.html#l03108">Creature::replace_with_npc_name()</a>.</p>

</div>
</div>
<a id="a67c1a6d047f771eb8087eee69e9743fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67c1a6d047f771eb8087eee69e9743fe">&#9670;&nbsp;</a></span>add_msg_player_or_npc() <span class="overload">[10/12]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Creature::add_msg_player_or_npc </td>
          <td>(</td>
          <td class="paramtype">typename ...&#160;</td>
          <td class="paramname"><em>Args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8h_source.html#l01077">1077</a> of file <a class="el" href="creature_8h_source.html">creature.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                                                            {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( player_msg, std::forward&lt;Args&gt;( args )... ),</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                                          <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( npc_msg, std::forward&lt;Args&gt;( args )... ) );</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b6938eb560ebd8f5d2518632c0d21ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b6938eb560ebd8f5d2518632c0d21ea">&#9670;&nbsp;</a></span>add_msg_player_or_npc() <span class="overload">[11/12]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Creature::add_msg_player_or_npc</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8cpp_source.html#l01065">1065</a> of file <a class="el" href="creature_8cpp_source.html">creature.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;{</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( pc.translated(), <a class="code" href="classnpc.html">npc</a>.translated() );</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a203cbfdf79509fb8331551031b86e75b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a203cbfdf79509fb8331551031b86e75b">&#9670;&nbsp;</a></span>add_msg_player_or_npc() <span class="overload">[12/12]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Creature::add_msg_player_or_npc </td>
          <td>(</td>
          <td class="paramtype">typename ...&#160;</td>
          <td class="paramname"><em>Args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="creature_8h_source.html#l01083">1083</a> of file <a class="el" href="creature_8h_source.html">creature.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                                                            {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( player_msg, std::forward&lt;Args&gt;( args )... ),</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                                          <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( npc_msg, std::forward&lt;Args&gt;( args )... ) );</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aca57bd31eec87f957ca9854e5cfed768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca57bd31eec87f957ca9854e5cfed768">&#9670;&nbsp;</a></span>allow_upgrade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::allow_upgrade </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00424">424</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;{</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> = 0;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00623">upgrade_time</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l04590">mattack::evolve_kill_strike()</a>, and <a class="el" href="magic__spell__effect_8cpp_source.html#l01485">spell_effect::upgrade()</a>.</p>

</div>
</div>
<a id="a24bcf1eb9c4beb329036ad01b5f062dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24bcf1eb9c4beb329036ad01b5f062dd">&#9670;&nbsp;</a></span>anger_cub_threatened()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::anger_cub_threatened </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmonster__plan.html">monster_plan</a> &amp;&#160;</td>
          <td class="paramname"><em>mon_plan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l00478">478</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;{</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">if</span>( mon_plan.<a class="code" href="structmonster__plan.html#afa25ba895f2547a4d20822e7fdc50cec">angers_cub_threatened</a> &lt; 0 ) {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="comment">// return early, not angered by cubs being threatened</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classmonster.html">monster</a> &amp;tmp : <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_monsters() ) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ac3d685da5268a2d00d8b8bd14eea54c2">baby_monster</a> == tmp.type-&gt;<a class="code" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a> ) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <span class="comment">// baby nearby; is the player too close?</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            mon_plan.<a class="code" href="structmonster__plan.html#a6444e8d3c4e0096116a65058474a21cc">dist</a> = tmp.rate_target( *mon_plan.<a class="code" href="structmonster__plan.html#a0d87f33e302029e20d9d2f6fea2be80f">target</a>, mon_plan.<a class="code" href="structmonster__plan.html#a6444e8d3c4e0096116a65058474a21cc">dist</a>, mon_plan.<a class="code" href="structmonster__plan.html#a41b0d322391808422149e02a678e0956">smart_planning</a> );</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <span class="keywordflow">if</span>( mon_plan.<a class="code" href="structmonster__plan.html#a6444e8d3c4e0096116a65058474a21cc">dist</a> &lt;= 3 ) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                <span class="comment">//proximity to baby; monster gets furious and less likely to flee</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> += mon_plan.<a class="code" href="structmonster__plan.html#afa25ba895f2547a4d20822e7fdc50cec">angers_cub_threatened</a>;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> += mon_plan.<a class="code" href="structmonster__plan.html#afa25ba895f2547a4d20822e7fdc50cec">angers_cub_threatened</a> / 2;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>, <span class="stringliteral">&quot;%s&#39;s character aggro triggered by threatening %s&quot;</span>, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(),</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                               tmp.name() );</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html"><div class="ttname"><a href="classmonster.html">monster</a></div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00085">monster.h:86</a></div></div>
<div class="ttc" id="aclassmonster_html_a7cb9d9786d11c2c0926d3482d3f51ffe"><div class="ttname"><a href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">monster::name</a></div><div class="ttdeci">std::string name(unsigned int quantity=1) const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00722">monster.cpp:722</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00382">game.cpp:382</a></div></div>
<div class="ttc" id="astructmonster__plan_html_a0d87f33e302029e20d9d2f6fea2be80f"><div class="ttname"><a href="structmonster__plan.html#a0d87f33e302029e20d9d2f6fea2be80f">monster_plan::target</a></div><div class="ttdeci">Creature * target</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00423">monmove.cpp:423</a></div></div>
<div class="ttc" id="astructmonster__plan_html_a41b0d322391808422149e02a678e0956"><div class="ttname"><a href="structmonster__plan.html#a41b0d322391808422149e02a678e0956">monster_plan::smart_planning</a></div><div class="ttdeci">bool smart_planning</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00399">monmove.cpp:399</a></div></div>
<div class="ttc" id="astructmonster__plan_html_a6444e8d3c4e0096116a65058474a21cc"><div class="ttname"><a href="structmonster__plan.html#a6444e8d3c4e0096116a65058474a21cc">monster_plan::dist</a></div><div class="ttdeci">float dist</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00414">monmove.cpp:414</a></div></div>
<div class="ttc" id="astructmonster__plan_html_afa25ba895f2547a4d20822e7fdc50cec"><div class="ttname"><a href="structmonster__plan.html#afa25ba895f2547a4d20822e7fdc50cec">monster_plan::angers_cub_threatened</a></div><div class="ttdeci">const int angers_cub_threatened</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00419">monmove.cpp:419</a></div></div>
<div class="ttc" id="astructmtype_html_a60dea81cdc4c627313e540831d311b5a"><div class="ttname"><a href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">mtype::id</a></div><div class="ttdeci">mtype_id id</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00301">mtype.h:301</a></div></div>
<div class="ttc" id="astructmtype_html_ac3d685da5268a2d00d8b8bd14eea54c2"><div class="ttname"><a href="structmtype.html#ac3d685da5268a2d00d8b8bd14eea54c2">mtype::baby_monster</a></div><div class="ttdeci">mtype_id baby_monster</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00314">mtype.h:314</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="monster_8h_source.html#l00572">aggro_character</a>, <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="monmove_8cpp_source.html#l00419">monster_plan::angers_cub_threatened</a>, <a class="el" href="mtype_8h_source.html#l00314">mtype::baby_monster</a>, <a class="el" href="debug_8h_source.html#l00265">debugmode::DF_MONSTER</a>, <a class="el" href="monmove_8cpp_source.html#l00414">monster_plan::dist</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="mtype_8h_source.html#l00301">mtype::id</a>, <a class="el" href="monster_8h_source.html#l00541">morale</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="monmove_8cpp_source.html#l00399">monster_plan::smart_planning</a>, <a class="el" href="monmove_8cpp_source.html#l00423">monster_plan::target</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>.</p>

</div>
</div>
<a id="a49eaa3645377b9873ceefc3418c34e82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49eaa3645377b9873ceefc3418c34e82">&#9670;&nbsp;</a></span>anger_hostile_seen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::anger_hostile_seen </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmonster__plan.html">monster_plan</a> &amp;&#160;</td>
          <td class="paramname"><em>mon_plan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l00446">446</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;{</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">if</span>( mon_plan.<a class="code" href="structmonster__plan.html#a63d61ba991776c05f55c08877e74267f">fleeing</a> ) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="comment">// runng away, too busy to be angry</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="comment">// Decide that the player is too annoying, less likely than the other triggers</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">if</span>( mon_plan.<a class="code" href="structmonster__plan.html#abf476a1550b7942fa59da7341fdb8b63">angers_hostile_seen</a> &amp;&amp; <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a>, 200 ) ) {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keywordflow">if</span>( mon_plan.<a class="code" href="structmonster__plan.html#a0d87f33e302029e20d9d2f6fea2be80f">target</a>-&gt;<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>, <span class="stringliteral">&quot;%s&#39;s character aggro triggered by seeing you&quot;</span>, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>, <span class="stringliteral">&quot;%s&#39;s character aggro triggered by seeing %s&quot;</span>, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(),</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                           mon_plan.<a class="code" href="structmonster__plan.html#a0d87f33e302029e20d9d2f6fea2be80f">target</a>-&gt;<a class="code" href="classCreature.html#a5de5f5e0d08deb03b68749608eb360b2">as_npc</a>()-&gt;<a class="code" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a> );</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a359120c15f92d54a49fec9de7bcb571f"><div class="ttname"><a href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a></div><div class="ttdeci">bool x_in_y(const time_duration &amp;a, const time_duration &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00784">calendar.cpp:784</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6592c35167738421f3e04ca8808d37db"><div class="ttname"><a href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">Character::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02684">character.h:2684</a></div></div>
<div class="ttc" id="aclassCreature_html_a5de5f5e0d08deb03b68749608eb360b2"><div class="ttname"><a href="classCreature.html#a5de5f5e0d08deb03b68749608eb360b2">Creature::as_npc</a></div><div class="ttdeci">virtual npc * as_npc()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00286">creature.h:286</a></div></div>
<div class="ttc" id="aclassCreature_html_ac209d32cbfd3774af3d5c0500e2fae52"><div class="ttname"><a href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">Creature::is_avatar</a></div><div class="ttdeci">virtual bool is_avatar() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00265">creature.h:265</a></div></div>
<div class="ttc" id="astructmonster__plan_html_a63d61ba991776c05f55c08877e74267f"><div class="ttname"><a href="structmonster__plan.html#a63d61ba991776c05f55c08877e74267f">monster_plan::fleeing</a></div><div class="ttdeci">bool fleeing</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00401">monmove.cpp:401</a></div></div>
<div class="ttc" id="astructmonster__plan_html_abf476a1550b7942fa59da7341fdb8b63"><div class="ttname"><a href="structmonster__plan.html#abf476a1550b7942fa59da7341fdb8b63">monster_plan::angers_hostile_seen</a></div><div class="ttdeci">const int angers_hostile_seen</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00408">monmove.cpp:408</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="monster_8h_source.html#l00572">aggro_character</a>, <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="monmove_8cpp_source.html#l00408">monster_plan::angers_hostile_seen</a>, <a class="el" href="creature_8h_source.html#l00286">Creature::as_npc()</a>, <a class="el" href="debug_8h_source.html#l00265">debugmode::DF_MONSTER</a>, <a class="el" href="monmove_8cpp_source.html#l00401">monster_plan::fleeing</a>, <a class="el" href="creature_8h_source.html#l00265">Creature::is_avatar()</a>, <a class="el" href="character_8h_source.html#l02684">Character::name</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="monmove_8cpp_source.html#l00423">monster_plan::target</a>, and <a class="el" href="calendar_8cpp_source.html#l00784">x_in_y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>.</p>

</div>
</div>
<a id="a740a0ee7c4c9baa7150fc8b0d0e5d237"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a740a0ee7c4c9baa7150fc8b0d0e5d237">&#9670;&nbsp;</a></span>anger_mating_season()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::anger_mating_season </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmonster__plan.html">monster_plan</a> &amp;&#160;</td>
          <td class="paramname"><em>mon_plan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l00465">465</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;{</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">if</span>( mon_plan.<a class="code" href="structmonster__plan.html#abcea26b7607ff796e19216edc7e93704">angers_mating_season</a> &gt; 0 &amp;&amp; <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> &lt;= 30 ) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a9ddaee6769a480c655bdbc09e4086040">mating_angry</a>() ) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> += mon_plan.<a class="code" href="structmonster__plan.html#abcea26b7607ff796e19216edc7e93704">angers_mating_season</a>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a>, 100 ) ) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>, <span class="stringliteral">&quot;%s&#39;s character aggro triggered by season&quot;</span>, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        }</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a9ddaee6769a480c655bdbc09e4086040"><div class="ttname"><a href="classmonster.html#a9ddaee6769a480c655bdbc09e4086040">monster::mating_angry</a></div><div class="ttdeci">bool mating_angry() const</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00501">monmove.cpp:501</a></div></div>
<div class="ttc" id="astructmonster__plan_html_abcea26b7607ff796e19216edc7e93704"><div class="ttname"><a href="structmonster__plan.html#abcea26b7607ff796e19216edc7e93704">monster_plan::angers_mating_season</a></div><div class="ttdeci">const int angers_mating_season</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00418">monmove.cpp:418</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="monster_8h_source.html#l00572">aggro_character</a>, <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="monmove_8cpp_source.html#l00418">monster_plan::angers_mating_season</a>, <a class="el" href="debug_8h_source.html#l00265">debugmode::DF_MONSTER</a>, <a class="el" href="monmove_8cpp_source.html#l00501">mating_angry()</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, and <a class="el" href="calendar_8cpp_source.html#l00784">x_in_y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>.</p>

</div>
</div>
<a id="afc6e6f5443145732310dd4901a394b4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc6e6f5443145732310dd4901a394b4f">&#9670;&nbsp;</a></span>apply_damage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::apply_damage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>&#160;</td>
          <td class="paramname"><em>bp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bypass_med</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a0547ea1ba1d4fcc157db6a73b877f5d6">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02169">2169</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;{</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a7a6be5e2dd4d5b14d1b9ccb61b1b4f6d">is_dead_state</a>() ) {</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    }</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    <span class="comment">// Ensure we can try to get at what hit us.</span></div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    <a class="code" href="classmonster.html#a504851437db082b0c62e50ff48ec08fb">reset_pathfinding_cd</a>();</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> -= dam;</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> &lt; 1 ) {</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;        <a class="code" href="classCreature.html#ad88ff594784edeceaef456d2a08180bc">set_killer</a>( source );</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( dam &gt; 0 ) {</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;        <a class="code" href="classmonster.html#a111b29c27d9c21920d01db403b3659e1">process_trigger</a>( <a class="code" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913a0f1484d199a29e1d494be6d0cdd42864">mon_trigger::HURT</a>, 1 + <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( dam / 3 ) );</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;        <span class="comment">// Get angry at characters if hurt by one</span></div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;        <span class="keywordflow">if</span>( source != <span class="keyword">nullptr</span> &amp;&amp; !<a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> &amp;&amp; !source-&gt;<a class="code" href="classCreature.html#a07012d6d1998068bef112510c7424374">is_monster</a>() &amp;&amp; !source-&gt;<a class="code" href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">is_fake</a>() ) {</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;            <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;        }</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    }</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a07012d6d1998068bef112510c7424374"><div class="ttname"><a href="classCreature.html#a07012d6d1998068bef112510c7424374">Creature::is_monster</a></div><div class="ttdeci">virtual bool is_monster() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00271">creature.h:271</a></div></div>
<div class="ttc" id="aclassCreature_html_a98ef8437aca8647165ccbe2ebb2e1f2c"><div class="ttname"><a href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">Creature::is_fake</a></div><div class="ttdeci">virtual bool is_fake() const</div><div class="ttdoc">Returns true for non-real Creatures used temporarily; i.e.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01518">creature.cpp:1518</a></div></div>
<div class="ttc" id="aclassCreature_html_ad88ff594784edeceaef456d2a08180bc"><div class="ttname"><a href="classCreature.html#ad88ff594784edeceaef456d2a08180bc">Creature::set_killer</a></div><div class="ttdeci">void set_killer(Creature *killer)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02031">creature.cpp:2031</a></div></div>
<div class="ttc" id="aclassmonster_html_a111b29c27d9c21920d01db403b3659e1"><div class="ttname"><a href="classmonster.html#a111b29c27d9c21920d01db403b3659e1">monster::process_trigger</a></div><div class="ttdeci">void process_trigger(mon_trigger trig, int amount)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01722">monster.cpp:1722</a></div></div>
<div class="ttc" id="aclassmonster_html_a504851437db082b0c62e50ff48ec08fb"><div class="ttname"><a href="classmonster.html#a504851437db082b0c62e50ff48ec08fb">monster::reset_pathfinding_cd</a></div><div class="ttdeci">void reset_pathfinding_cd()</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00641">monster.h:641</a></div></div>
<div class="ttc" id="aclassmonster_html_a7a6be5e2dd4d5b14d1b9ccb61b1b4f6d"><div class="ttname"><a href="classmonster.html#a7a6be5e2dd4d5b14d1b9ccb61b1b4f6d">monster::is_dead_state</a></div><div class="ttdeci">bool is_dead_state() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01865">monster.cpp:1865</a></div></div>
<div class="ttc" id="amtype_8h_html_a3bf0d3734009dbabe39a0d9fad3a5913a0f1484d199a29e1d494be6d0cdd42864"><div class="ttname"><a href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913a0f1484d199a29e1d494be6d0cdd42864">mon_trigger::HURT</a></div><div class="ttdeci">@ HURT</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00572">aggro_character</a>, <a class="el" href="monster_8h_source.html#l00616">hp</a>, <a class="el" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913a0f1484d199a29e1d494be6d0cdd42864">HURT</a>, <a class="el" href="monster_8cpp_source.html#l01865">is_dead_state()</a>, <a class="el" href="creature_8cpp_source.html#l01518">Creature::is_fake()</a>, <a class="el" href="creature_8h_source.html#l00271">Creature::is_monster()</a>, <a class="el" href="monster_8cpp_source.html#l01722">process_trigger()</a>, <a class="el" href="monster_8h_source.html#l00641">reset_pathfinding_cd()</a>, and <a class="el" href="creature_8cpp_source.html#l02031">Creature::set_killer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monexamine_8cpp_source.html#l00368">anonymous_namespace{monexamine.cpp}::cull()</a>, <a class="el" href="monattack_8cpp_source.html#l02313">mattack::dermatik()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00982">spell_effect::directed_push()</a>, <a class="el" href="map_8cpp_source.html#l02762">map::drop_furniture()</a>, <a class="el" href="explosion_8cpp_source.html#l00657">explosion_handler::emp_blast()</a>, <a class="el" href="iuse_8cpp_source.html#l01918">iuse::extinguisher()</a>, <a class="el" href="game_8cpp_source.html#l11735">game::fling_creature()</a>, <a class="el" href="game_8cpp_source.html#l05671">game::forced_door_closing()</a>, <a class="el" href="fungal__effects_8cpp_source.html#l00058">fungal_effects::fungalize()</a>, <a class="el" href="monster_8cpp_source.html#l02549">impact()</a>, <a class="el" href="monmove_8cpp_source.html#l02280">knock_back_to()</a>, <a class="el" href="map__field_8cpp_source.html#l01819">map::monster_in_field()</a>, <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>, <a class="el" href="monster_8cpp_source.html#l03111">process_one_effect()</a>, and <a class="el" href="vehicle__move_8cpp_source.html#l02174">map::shake_vehicle()</a>.</p>

</div>
</div>
<a id="aafb6e25f59338f89b167bdf34e3cccc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafb6e25f59338f89b167bdf34e3cccc2">&#9670;&nbsp;</a></span>as_monster() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classmonster.html">monster</a>* monster::as_monster </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a8181439d0519a58946c135070c97f1d9">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00104">104</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                                   {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a02fa605494e946663ddd216166828f2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02fa605494e946663ddd216166828f2a">&#9670;&nbsp;</a></span>as_monster() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmonster.html">monster</a>* monster::as_monster </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a90636bbf110025587c181fad389d616c">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00101">101</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                       {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>, and <a class="el" href="item_8cpp_source.html#l06595">item::handle_pickup_ownership()</a>.</p>

</div>
</div>
<a id="a32a4800fc20a7d229c66cce32ce9e417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32a4800fc20a7d229c66cce32ce9e417">&#9670;&nbsp;</a></span>attack_at()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::attack_at </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attack any enemies at the given location. </p>
<p>Attacks only if there is a creature at the given location towards we are hostile.</p>
<dl class="section return"><dt>Returns</dt><dd>true if something was attacked, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l01778">1778</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;{</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a22a63e16b805987f8321bb4ff63f0273">mon_flag_PACIFIST</a> ) ) {</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    }</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160; </div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> sees_player = <a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( player_character );</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="comment">// Targeting player location</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="keywordflow">if</span>( p == player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) {</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        <span class="keywordflow">if</span>( sees_player ) {</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a712aeab26697f5ede4eab4eacdc71c8a">melee_attack</a>( player_character );</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;            <span class="comment">// Creature stumbles into a player it cannot see, briefly becoming aware of their location</span></div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a6410520bceb652ba361502f404fc1005">stumble_invis</a>( player_character );</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;        }</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    }</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160; </div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <a class="code" href="classcreature__tracker.html">creature_tracker</a> &amp;creatures = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>();</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html">monster</a> *mon_ = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>&lt;<a class="code" href="classmonster.html">monster</a>&gt;( p, <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) ) {</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        <a class="code" href="classmonster.html">monster</a> &amp;mon = *mon_;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160; </div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        <span class="comment">// Don&#39;t attack yourself.</span></div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        <span class="keywordflow">if</span>( &amp;mon == <span class="keyword">this</span> ) {</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        }</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160; </div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;        <span class="comment">// With no melee dice, we can&#39;t attack, but we had to process until here</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;        <span class="comment">// because hallucinations require no melee dice to destroy.</span></div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a> &lt;= 0 ) {</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        }</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160; </div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217">Creature::Attitude</a> <a class="code" href="classmonster.html#a6f9b80e613e46d2a7ebbb21ea5e11e4c">attitude</a> = <a class="code" href="classmonster.html#a125622587c2069dc4dbbe07943c81336">attitude_to</a>( mon );</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        <span class="comment">// mon_flag_ATTACKMON == hulk behavior, whack everything in your way</span></div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a6f9b80e613e46d2a7ebbb21ea5e11e4c">attitude</a> == <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Attitude::HOSTILE</a> || <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a28012e7b03f25df53cd371150ad24916">mon_flag_ATTACKMON</a> ) ) {</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a712aeab26697f5ede4eab4eacdc71c8a">melee_attack</a>( mon );</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        }</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160; </div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    }</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160; </div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <a class="code" href="classnpc.html">npc</a> *<span class="keyword">const</span> guy = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>&lt;<a class="code" href="classnpc.html">npc</a>&gt;( p, <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() );</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    <span class="keywordflow">if</span>( guy &amp;&amp; <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a> &gt; 0 ) {</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        <span class="comment">// For now we&#39;re always attacking NPCs that are getting into our</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        <span class="comment">// way. This is consistent with how it worked previously, but</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        <span class="comment">// later on not hitting allied NPCs would be cool.</span></div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        guy-&gt;<a class="code" href="classnpc.html#a965eb2beb1c490bb1b8efef1c07e20d0">on_attacked</a>( *<span class="keyword">this</span> ); <span class="comment">// allow NPC hallucination to be one shot by monsters</span></div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a712aeab26697f5ede4eab4eacdc71c8a">melee_attack</a>( *guy );</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    }</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160; </div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <span class="comment">// Attack last known position despite empty</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#ad6fd62a9ed571c6bf17d577118be3c5a">effect_stumbled_into_invisible</a> ) &amp;&amp;</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().has_field_at( p, <a class="code" href="monmove_8cpp.html#a31e2ef0b23e31f445746b9eaabbeb600">field_fd_last_known</a> ) &amp;&amp; !sees_player &amp;&amp;</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        <a class="code" href="classmonster.html#a125622587c2069dc4dbbe07943c81336">attitude_to</a>( player_character ) == <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Attitude::HOSTILE</a> ) {</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a3e322a5b9e8f42f840ddffa01ec2787f">attack_air</a>( p );</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    }</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160; </div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <span class="comment">// Nothing to attack.</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;}</div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclassCreature_html_a1a65722d07102550f16d17ebd79e2743"><div class="ttname"><a href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">Creature::pos</a></div><div class="ttdeci">tripoint pos() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00178">creature.cpp:178</a></div></div>
<div class="ttc" id="aclassCreature_html_a3e322a5b9e8f42f840ddffa01ec2787f"><div class="ttname"><a href="classCreature.html#a3e322a5b9e8f42f840ddffa01ec2787f">Creature::attack_air</a></div><div class="ttdeci">bool attack_air(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01415">creature.cpp:1415</a></div></div>
<div class="ttc" id="aclassCreature_html_a5f818f1aa899ba2e2765f327a020a878"><div class="ttname"><a href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">Creature::sees</a></div><div class="ttdeci">bool sees(const Creature &amp;critter) const override</div><div class="ttdoc">The functions check whether this creature can see the target.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00358">creature.cpp:358</a></div></div>
<div class="ttc" id="aclassCreature_html_a6410520bceb652ba361502f404fc1005"><div class="ttname"><a href="classCreature.html#a6410520bceb652ba361502f404fc1005">Creature::stumble_invis</a></div><div class="ttdeci">bool stumble_invis(const Creature &amp;player, bool stumblemsg=true)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01389">creature.cpp:1389</a></div></div>
<div class="ttc" id="aclassCreature_html_a7bf62f4f36b0475f1f39ea27f3beebb0"><div class="ttname"><a href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">Creature::has_effect</a></div><div class="ttdeci">bool has_effect(const efftype_id &amp;eff_id, const bodypart_id &amp;bp) const</div><div class="ttdoc">Check if creature has the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01770">creature.cpp:1770</a></div></div>
<div class="ttc" id="aclassCreature_html_a8a475630b3289c468bd06cf114008217"><div class="ttname"><a href="classCreature.html#a8a475630b3289c468bd06cf114008217">Creature::Attitude</a></div><div class="ttdeci">Attitude</div><div class="ttdoc">Simplified attitude towards any creature: hostile - hate, want to kill, etc.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00352">creature.h:352</a></div></div>
<div class="ttc" id="aclassCreature_html_a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747"><div class="ttname"><a href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Creature::Attitude::HOSTILE</a></div><div class="ttdeci">@ HOSTILE</div></div>
<div class="ttc" id="aclasscreature__tracker_html"><div class="ttname"><a href="classcreature__tracker.html">creature_tracker</a></div><div class="ttdef"><b>Definition:</b> <a href="creature__tracker_8h_source.html#l00024">creature_tracker.h:25</a></div></div>
<div class="ttc" id="aclasscreature__tracker_html_aba3c6663688bcd1806ea685d6961cb72"><div class="ttname"><a href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_tracker::creature_at</a></div><div class="ttdeci">T * creature_at(const tripoint &amp;p, bool allow_hallucination=false)</div><div class="ttdoc">Returns the Creature at the given location.</div><div class="ttdef"><b>Definition:</b> <a href="creature__tracker_8cpp_source.html#l00303">creature_tracker.cpp:303</a></div></div>
<div class="ttc" id="aclassmonster_html_a125622587c2069dc4dbbe07943c81336"><div class="ttname"><a href="classmonster.html#a125622587c2069dc4dbbe07943c81336">monster::attitude_to</a></div><div class="ttdeci">Attitude attitude_to(const Creature &amp;other) const override</div><div class="ttdoc">Attitude (of this creature) towards another creature.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01450">monster.cpp:1450</a></div></div>
<div class="ttc" id="aclassmonster_html_a6f9b80e613e46d2a7ebbb21ea5e11e4c"><div class="ttname"><a href="classmonster.html#a6f9b80e613e46d2a7ebbb21ea5e11e4c">monster::attitude</a></div><div class="ttdeci">monster_attitude attitude(const Character *u=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01496">monster.cpp:1496</a></div></div>
<div class="ttc" id="aclassmonster_html_a70c250ac59c7d91b374dfa5d7b8da66c"><div class="ttname"><a href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">monster::is_hallucination</a></div><div class="ttdeci">bool is_hallucination() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03460">monster.cpp:3460</a></div></div>
<div class="ttc" id="aclassmonster_html_a712aeab26697f5ede4eab4eacdc71c8a"><div class="ttname"><a href="classmonster.html#a712aeab26697f5ede4eab4eacdc71c8a">monster::melee_attack</a></div><div class="ttdeci">bool melee_attack(Creature &amp;target)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01898">monster.cpp:1898</a></div></div>
<div class="ttc" id="aclassnpc_html_a965eb2beb1c490bb1b8efef1c07e20d0"><div class="ttname"><a href="classnpc.html#a965eb2beb1c490bb1b8efef1c07e20d0">npc::on_attacked</a></div><div class="ttdeci">void on_attacked(const Creature &amp;attacker)</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01650">npc.cpp:1650</a></div></div>
<div class="ttc" id="acreature__tracker_8h_html_a16f631f70e72b53e590770670fb301fb"><div class="ttname"><a href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a></div><div class="ttdeci">creature_tracker &amp; get_creature_tracker()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13827">game.cpp:13827</a></div></div>
<div class="ttc" id="agame_8cpp_html_afa1063326b0c16b43c6f3dc8c3df403d"><div class="ttname"><a href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13822">game.cpp:13822</a></div></div>
<div class="ttc" id="amonmove_8cpp_html_a31e2ef0b23e31f445746b9eaabbeb600"><div class="ttname"><a href="monmove_8cpp.html#a31e2ef0b23e31f445746b9eaabbeb600">field_fd_last_known</a></div><div class="ttdeci">static const field_type_str_id field_fd_last_known(&quot;fd_last_known&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_ad6fd62a9ed571c6bf17d577118be3c5a"><div class="ttname"><a href="monmove_8cpp.html#ad6fd62a9ed571c6bf17d577118be3c5a">effect_stumbled_into_invisible</a></div><div class="ttdeci">static const efftype_id effect_stumbled_into_invisible(&quot;stumbled_into_invisible&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_a22a63e16b805987f8321bb4ff63f0273"><div class="ttname"><a href="mtype_8cpp.html#a22a63e16b805987f8321bb4ff63f0273">mon_flag_PACIFIST</a></div><div class="ttdeci">mon_flag_id mon_flag_PACIFIST</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00120">mtype.cpp:120</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a28012e7b03f25df53cd371150ad24916"><div class="ttname"><a href="mtype_8cpp.html#a28012e7b03f25df53cd371150ad24916">mon_flag_ATTACKMON</a></div><div class="ttdeci">mon_flag_id mon_flag_ATTACKMON</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00050">mtype.cpp:50</a></div></div>
<div class="ttc" id="astructmtype_html_a561d4830d7f7c613c177f5880c2e15fb"><div class="ttname"><a href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">mtype::melee_dice</a></div><div class="ttdeci">int melee_dice</div><div class="ttdoc">melee hit skill, 20 is superhuman hitting abilities</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00430">mtype.h:430</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8cpp_source.html#l01415">Creature::attack_air()</a>, <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="monster_8cpp_source.html#l01450">attitude_to()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="monmove_8cpp.html#ad6fd62a9ed571c6bf17d577118be3c5a">effect_stumbled_into_invisible</a>, <a class="el" href="monmove_8cpp.html#a31e2ef0b23e31f445746b9eaabbeb600">field_fd_last_known</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Creature::HOSTILE</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="monster_8cpp_source.html#l01898">melee_attack()</a>, <a class="el" href="mtype_8h_source.html#l00430">mtype::melee_dice</a>, <a class="el" href="mtype_8cpp_source.html#l00050">mon_flag_ATTACKMON</a>, <a class="el" href="mtype_8cpp_source.html#l00120">mon_flag_PACIFIST</a>, <a class="el" href="npc_8cpp_source.html#l01650">npc::on_attacked()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8cpp_source.html#l00358">Creature::sees()</a>, <a class="el" href="creature_8cpp_source.html#l01389">Creature::stumble_invis()</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>.</p>

</div>
</div>
<a id="a3414f60cd7b63132b8ab605f6949edf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3414f60cd7b63132b8ab605f6949edf4">&#9670;&nbsp;</a></span>attack_target()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCreature.html">Creature</a> * monster::attack_target </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01405">1405</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;{</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a1bfdcc078e39c06a1cf7047803610204">has_dest</a>() ) {</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    }</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160; </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <a class="code" href="classCreature.html">Creature</a> *target = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>().<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() );</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="keywordflow">if</span>( target == <span class="keyword">nullptr</span> || target == <span class="keyword">this</span> ||</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <a class="code" href="classmonster.html#a125622587c2069dc4dbbe07943c81336">attitude_to</a>( *target ) == <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Attitude::FRIENDLY</a> || !<a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( *target ) || target-&gt;<a class="code" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">is_hallucination</a>() ) {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    }</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160; </div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="keywordflow">return</span> target;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html"><div class="ttname"><a href="classCreature.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00250">creature.h:251</a></div></div>
<div class="ttc" id="aclassCreature_html_a3cb42eea32fd7e172dca0e902d1184ed"><div class="ttname"><a href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">Creature::is_hallucination</a></div><div class="ttdeci">virtual bool is_hallucination() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0"><div class="ttname"><a href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Creature::Attitude::FRIENDLY</a></div><div class="ttdeci">@ FRIENDLY</div></div>
<div class="ttc" id="aclassmonster_html_a1045089ac9dd6efe4ce04941f9196398"><div class="ttname"><a href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">monster::get_dest</a></div><div class="ttdeci">tripoint_abs_ms get_dest() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01375">monster.cpp:1375</a></div></div>
<div class="ttc" id="aclassmonster_html_a1bfdcc078e39c06a1cf7047803610204"><div class="ttname"><a href="classmonster.html#a1bfdcc078e39c06a1cf7047803610204">monster::has_dest</a></div><div class="ttdeci">bool has_dest() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01370">monster.cpp:1370</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01450">attitude_to()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Creature::FRIENDLY</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="monster_8cpp_source.html#l01375">get_dest()</a>, <a class="el" href="monster_8cpp_source.html#l01370">has_dest()</a>, <a class="el" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">Creature::is_hallucination()</a>, and <a class="el" href="creature_8cpp_source.html#l00358">Creature::sees()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l00767">mattack::acid()</a>, <a class="el" href="monattack_8cpp_source.html#l00885">mattack::acid_accurate()</a>, <a class="el" href="monattack_8cpp_source.html#l00821">mattack::acid_barf()</a>, <a class="el" href="monattack_8cpp_source.html#l05040">mattack::bio_op_disarm()</a>, <a class="el" href="monattack_8cpp_source.html#l04962">mattack::bio_op_impale()</a>, <a class="el" href="monattack_8cpp_source.html#l04809">mattack::bio_op_random_biojutsu()</a>, <a class="el" href="monattack_8cpp_source.html#l04853">mattack::bio_op_takedown()</a>, <a class="el" href="monattack_8cpp_source.html#l01071">mattack::boomer()</a>, <a class="el" href="monattack_8cpp_source.html#l01112">mattack::boomer_glow()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00110">leap_actor::call()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00269">mon_spellcasting_actor::call()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00673">melee_actor::call()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l01106">gun_actor::call()</a>, <a class="el" href="monattack_8cpp_source.html#l03721">mattack::chickenbot()</a>, <a class="el" href="monattack_8cpp_source.html#l03671">mattack::copbot()</a>, <a class="el" href="monattack_8cpp_source.html#l02313">mattack::dermatik()</a>, <a class="el" href="monattack_8cpp_source.html#l04590">mattack::evolve_kill_strike()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00440">melee_actor::find_target()</a>, <a class="el" href="monattack_8cpp_source.html#l04032">mattack::flesh_golem()</a>, <a class="el" href="monattack_8cpp_source.html#l04755">mattack::flesh_tendril()</a>, <a class="el" href="monattack_8cpp_source.html#l02093">mattack::fungus_bristle()</a>, <a class="el" href="monattack_8cpp_source.html#l00716">mattack::howl()</a>, <a class="el" href="monattack_8cpp_source.html#l05114">mattack::kamikaze()</a>, <a class="el" href="monattack_8cpp_source.html#l04148">mattack::lunge()</a>, <a class="el" href="monattack_8cpp_source.html#l03805">mattack::multi_robot()</a>, <a class="el" href="monattack_8cpp_source.html#l00988">mattack::pull_metal_weapon()</a>, <a class="el" href="monattack_8cpp_source.html#l04386">mattack::riotbot()</a>, <a class="el" href="monattack_8cpp_source.html#l01426">mattack::science()</a>, <a class="el" href="monattack_8cpp_source.html#l00915">mattack::shockstorm()</a>, <a class="el" href="monattack_8cpp_source.html#l00631">mattack::shriek()</a>, <a class="el" href="monattack_8cpp_source.html#l00647">mattack::shriek_alert()</a>, <a class="el" href="monattack_8cpp_source.html#l00668">mattack::shriek_stun()</a>, <a class="el" href="monattack_8cpp_source.html#l01324">mattack::smash()</a>, <a class="el" href="monattack_8cpp_source.html#l01810">mattack::spit_sap()</a>, <a class="el" href="monattack_8cpp_source.html#l00259">sting_get_target()</a>, <a class="el" href="monattack_8cpp_source.html#l05399">mattack::stretch_attack()</a>, <a class="el" href="monattack_8cpp_source.html#l05103">mattack::suicide()</a>, <a class="el" href="monattack_8cpp_source.html#l03162">mattack::tazer()</a>, and <a class="el" href="monattack_8cpp_source.html#l04713">mattack::tindalos_teleport()</a>.</p>

</div>
</div>
<a id="a6f9b80e613e46d2a7ebbb21ea5e11e4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f9b80e613e46d2a7ebbb21ea5e11e4c">&#9670;&nbsp;</a></span>attitude()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4">monster_attitude</a> monster::attitude </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>u</em> = <code>nullptr</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01496">1496</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;{</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="comment">// override for the Personal Portal Storms Mod</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="comment">// if the monster is a nether portal monster and the character is an NPC then ignore</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="classfaction.html">faction</a> == <a class="code" href="monster_8cpp.html#a57f6d778cf84c167c8cb747e395ed9a6">monfaction_nether_player_hate</a> &amp;&amp; <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;is_npc() &amp;&amp;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        get_option&lt;bool&gt;( <span class="stringliteral">&quot;PORTAL_STORM_IGNORE_NPC&quot;</span> ) ) {</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        <span class="comment">// portal storm creatures ignore NPCs no matter what with this mod on</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4abe6826428dc5f70627271fca101306d3">MATT_FPASSIVE</a>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    }</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> != 0 ) {</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a924fe96bf3dd9ac954c9925fdd5b6901">effect_docile</a> ) ) {</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4abe6826428dc5f70627271fca101306d3">MATT_FPASSIVE</a>;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        }</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a> != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;is_avatar() ) {</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a7284d60cdedff9ecfaaf33b10ba4986b">MATT_FRIEND</a>;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;            }</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;is_npc() ) {</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                <span class="comment">// Zombies don&#39;t understand not attacking NPCs, but dogs and bots should.</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;get_attitude() != <a class="code" href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a59e2eeab0c7bf7336d7c5fea3a870d2a">NPCATT_KILL</a> &amp;&amp; !<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monster_8cpp.html#a6d062e430202ce21974bf3fb492002bf">species_ZOMBIE</a> ) ) {</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a7284d60cdedff9ecfaaf33b10ba4986b">MATT_FRIEND</a>;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                }</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;is_hallucination() ) {</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4aa81d19ea97def3730dddfc9451b53de5">MATT_IGNORE</a>;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                }</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;            }</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;        }</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    }</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a04c74718e60016b199e7cdff71d5aa90">effect_cache</a>[<a class="code" href="monster_8h.html#a84ab55bd738531d991f877a7650b7fd1a83cac1efd028387ff7fb9ced13f48f1d">FLEEING</a>] ) {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a1c6426f1f830743448b46e8e2aa068b4">MATT_FLEE</a>;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    }</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160; </div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="keywordtype">int</span> effective_anger  = <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a>;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="keywordtype">int</span> effective_morale = <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a>;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160; </div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a> != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classfaction.html">faction</a> == <a class="code" href="monster_8cpp.html#a9b8e9c1e12311cc58c1bda0049c3246c">monfaction_bee</a> ) {</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;has_trait( <a class="code" href="monster_8cpp.html#af825514d87d2ddd622cdfab1842bbc61">trait_BEE</a> ) ) {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a7284d60cdedff9ecfaaf33b10ba4986b">MATT_FRIEND</a>;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;has_trait( <a class="code" href="monster_8cpp.html#aa1ed3999ebde4696ff3c3930f8ddf424">trait_FLOWERS</a> ) ) {</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                effective_anger -= 10;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            }</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        }</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        <span class="keyword">auto</span> *u_fac = <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;get_faction();</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        <span class="keywordflow">if</span>( u_fac &amp;&amp; u_fac-&gt;mon_faction &amp;&amp; <a class="code" href="classfaction.html">faction</a> == u_fac-&gt;<a class="code" href="classfaction__template.html#a73b4960841f075bce8acb16a0eabeaa7">mon_faction</a> ) {</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a7284d60cdedff9ecfaaf33b10ba4986b">MATT_FRIEND</a>;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        }</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160; </div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monster_8cpp.html#ae4aecc728b6b9084078aaa79046ce038">species_FUNGUS</a> ) &amp;&amp; ( <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;has_trait( <a class="code" href="monster_8cpp.html#a40331e22a139e13b3b70f387c9fdd390">trait_THRESH_MYCUS</a> ) ||</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;                <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;has_trait( <a class="code" href="monster_8cpp.html#a836e6bced7ca7f777a4e6819c5d3afbc">trait_MYCUS_FRIEND</a> ) ) ) {</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a7284d60cdedff9ecfaaf33b10ba4986b">MATT_FRIEND</a>;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        }</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        <span class="keywordflow">if</span>( effective_anger &gt;= 10 &amp;&amp;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monster_8cpp.html#a278e96575e20e05269544a06b2141040">species_MAMMAL</a> ) &amp;&amp; <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;has_trait( <a class="code" href="monster_8cpp.html#a4201fa103581564376b7aff7182edd68">trait_PHEROMONE_MAMMAL</a> ) ) {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            effective_anger -= 20;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        }</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160; </div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        <span class="keywordflow">if</span>( effective_anger &gt;= 10 &amp;&amp;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;            <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monster_8cpp.html#a307b216a26bb2ea7d5eed659660d25a2">species_AMPHIBIAN</a> ) &amp;&amp; <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;has_trait( <a class="code" href="monster_8cpp.html#a391a09ab32e732e08bd11101c67876be">trait_PHEROMONE_AMPHIBIAN</a> ) ) {</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;            effective_anger -= 20;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        }</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        <span class="keywordflow">if</span>( ( <a class="code" href="classfaction.html">faction</a> == <a class="code" href="monster_8cpp.html#a9a6a2fde7ac954eb1d49172924fb7613">monfaction_acid_ant</a> || <a class="code" href="classfaction.html">faction</a> == <a class="code" href="monster_8cpp.html#adcfed29ab9ac3cba9ab878de84062aa1">monfaction_ant</a> || <a class="code" href="classfaction.html">faction</a> == <a class="code" href="monster_8cpp.html#a9b8e9c1e12311cc58c1bda0049c3246c">monfaction_bee</a> ||</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;              <a class="code" href="classfaction.html">faction</a> == <a class="code" href="monster_8cpp.html#aedd04e7b2229fbe3aaf6bd48fc951f8b">monfaction_wasp</a> ) &amp;&amp; effective_anger &gt;= 10 &amp;&amp; <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;has_trait( <a class="code" href="monster_8cpp.html#adc9256a8239cdb71c406fc31369d80dc">trait_PHEROMONE_INSECT</a> ) ) {</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;            effective_anger -= 20;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;        }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160; </div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;has_trait( <a class="code" href="monster_8cpp.html#a59c6fe37743ad99e5f79f578f598cf33">trait_TERRIFYING</a> ) ) {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;            effective_morale -= 10;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        }</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160; </div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ad0be009b881f7062bb49061b46ac47c3">mon_flag_ANIMAL</a> ) ) {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;has_effect( <a class="code" href="monster_8cpp.html#a9d5c4aa8a7cbb8692d29533f65c9a323">effect_natures_commune</a> ) ) {</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                effective_anger -= 10;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                <span class="keywordflow">if</span>( effective_anger &lt; 10 ) {</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                    effective_morale += 55;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                }</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;            }</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;has_trait( <a class="code" href="monster_8cpp.html#a97f784c7aff9be3b45ec2614d570c338">trait_ANIMALEMPATH</a> ) ) {</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                effective_anger -= 10;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                <span class="keywordflow">if</span>( effective_anger &lt; 10 ) {</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                    effective_morale += 55;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;has_trait( <a class="code" href="monster_8cpp.html#a167a0b707092995e1eb42a07318893c7">trait_ANIMALEMPATH2</a> ) ) {</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                effective_anger -= 20;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                <span class="keywordflow">if</span>( effective_anger &lt; 20 ) {</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;                    effective_morale += 80;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;                }</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;has_trait( <a class="code" href="monster_8cpp.html#abeca1e9d9723c5bbc93f59a05d779ba9">trait_ANIMALDISCORD</a> ) ) {</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                <span class="keywordflow">if</span>( effective_anger &gt;= 10 ) {</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                    effective_anger += 10;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;                }</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;                <span class="keywordflow">if</span>( effective_anger &lt; 10 ) {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                    effective_morale -= 5;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;                }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;has_trait( <a class="code" href="monster_8cpp.html#ac6e489d07c26a18493630574cf6de5c9">trait_ANIMALDISCORD2</a> ) ) {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;                <span class="keywordflow">if</span>( effective_anger &gt;= 20 ) {</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                    effective_anger += 20;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                }</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;                <span class="keywordflow">if</span>( effective_anger &lt; 20 ) {</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;                    effective_morale -= 5;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;                }</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            }</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;        }</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160; </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">trait_id</a> &amp;mut : <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;get_mutations() ) {</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;            <span class="keyword">const</span> <a class="code" href="structmutation__branch.html">mutation_branch</a> &amp;branch = *mut;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;            <span class="keywordflow">if</span>( branch.<a class="code" href="structmutation__branch.html#a27fa2bb65643cce5be823e67fdbc737c">ignored_by</a>.empty() &amp;&amp; branch.<a class="code" href="structmutation__branch.html#ae1f334586c95e97ce29331dffea4885a">anger_relations</a>.empty() ) {</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            }</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">species_id</a> &amp;spe : branch.<a class="code" href="structmutation__branch.html#a27fa2bb65643cce5be823e67fdbc737c">ignored_by</a> ) {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( spe ) ) {</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4aa81d19ea97def3730dddfc9451b53de5">MATT_IGNORE</a>;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                }</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;            }</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const species_id, int&gt; &amp;elem : branch.<a class="code" href="structmutation__branch.html#ae1f334586c95e97ce29331dffea4885a">anger_relations</a> ) {</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( elem.first ) ) {</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                    effective_anger += elem.second;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                }</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;            }</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        }</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    }</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160; </div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <span class="keywordflow">if</span>( effective_morale &lt; 0 ) {</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        <span class="keywordflow">if</span>( effective_morale + effective_anger &gt; 0 &amp;&amp; <a class="code" href="classmonster.html#a2801a2f23fcaf2199b904c8bbf9fcab0">get_hp</a>() &gt; <a class="code" href="classmonster.html#a7ca0faca8bfdf51f301903ab4ed56467">get_hp_max</a>() / 3 ) {</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a850d5624fd1d54192310ab8b13f228ee">MATT_FOLLOW</a>;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        }</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a1c6426f1f830743448b46e8e2aa068b4">MATT_FLEE</a>;</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    }</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160; </div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="keywordflow">if</span>( effective_anger &lt;= 0 ) {</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a2801a2f23fcaf2199b904c8bbf9fcab0">get_hp</a>() &lt;= 0.6 * <a class="code" href="classmonster.html#a7ca0faca8bfdf51f301903ab4ed56467">get_hp_max</a>() ) {</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a1c6426f1f830743448b46e8e2aa068b4">MATT_FLEE</a>;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4aa81d19ea97def3730dddfc9451b53de5">MATT_IGNORE</a>;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    }</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160; </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <span class="keywordflow">if</span>( effective_anger &lt; 10 ) {</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a850d5624fd1d54192310ab8b13f228ee">MATT_FOLLOW</a>;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    }</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160; </div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ad6a17cb01971e10f58414cf964a400e2">mon_flag_KEEP_DISTANCE</a> ) &amp;&amp;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>(), <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() ) &lt; <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#afb696f9fd6734d41999a056ac3924475">tracking_distance</a> ) {</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a1c6426f1f830743448b46e8e2aa068b4">MATT_FLEE</a>;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    }</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160; </div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a> != <span class="keyword">nullptr</span> &amp;&amp; !<a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> &amp;&amp; !<a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>-&gt;is_monster() ) {</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4aa81d19ea97def3730dddfc9451b53de5">MATT_IGNORE</a>;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    }</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160; </div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a87f44dc6e793f84b2342dafd6460b263">MATT_ATTACK</a>;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a3261de1530798f5b934a71b9a4e17f5b"><div class="ttname"><a href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">Creature::get_location</a></div><div class="ttdeci">tripoint_abs_ms get_location() const</div><div class="ttdoc">Returns the location of the creature in map square coordinates (the most detailed coordinate system),...</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03232">creature.cpp:3232</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a73b4960841f075bce8acb16a0eabeaa7"><div class="ttname"><a href="classfaction__template.html#a73b4960841f075bce8acb16a0eabeaa7">faction_template::mon_faction</a></div><div class="ttdeci">mfaction_str_id mon_faction</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00122">faction.h:122</a></div></div>
<div class="ttc" id="aclassmonster_html_a04c74718e60016b199e7cdff71d5aa90"><div class="ttname"><a href="classmonster.html#a04c74718e60016b199e7cdff71d5aa90">monster::effect_cache</a></div><div class="ttdeci">std::bitset&lt; NUM_MEFF &gt; effect_cache</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00654">monster.h:654</a></div></div>
<div class="ttc" id="aclassmonster_html_a2801a2f23fcaf2199b904c8bbf9fcab0"><div class="ttname"><a href="classmonster.html#a2801a2f23fcaf2199b904c8bbf9fcab0">monster::get_hp</a></div><div class="ttdeci">int get_hp() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03748">monster.cpp:3748</a></div></div>
<div class="ttc" id="aclassmonster_html_a7ca0faca8bfdf51f301903ab4ed56467"><div class="ttname"><a href="classmonster.html#a7ca0faca8bfdf51f301903ab4ed56467">monster::get_hp_max</a></div><div class="ttdeci">int get_hp_max() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03738">monster.cpp:3738</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a8e2cbab6dac12095f06b4cff66857fbb"><div class="ttname"><a href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00769">coordinates.h:769</a></div></div>
<div class="ttc" id="aglobal__vars_8h_html_a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c"><div class="ttname"><a href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">var_type::u</a></div><div class="ttdeci">@ u</div></div>
<div class="ttc" id="amonster_8cpp_html_a167a0b707092995e1eb42a07318893c7"><div class="ttname"><a href="monster_8cpp.html#a167a0b707092995e1eb42a07318893c7">trait_ANIMALEMPATH2</a></div><div class="ttdeci">static const trait_id trait_ANIMALEMPATH2(&quot;ANIMALEMPATH2&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a278e96575e20e05269544a06b2141040"><div class="ttname"><a href="monster_8cpp.html#a278e96575e20e05269544a06b2141040">species_MAMMAL</a></div><div class="ttdeci">static const species_id species_MAMMAL(&quot;MAMMAL&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a307b216a26bb2ea7d5eed659660d25a2"><div class="ttname"><a href="monster_8cpp.html#a307b216a26bb2ea7d5eed659660d25a2">species_AMPHIBIAN</a></div><div class="ttdeci">static const species_id species_AMPHIBIAN(&quot;AMPHIBIAN&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a391a09ab32e732e08bd11101c67876be"><div class="ttname"><a href="monster_8cpp.html#a391a09ab32e732e08bd11101c67876be">trait_PHEROMONE_AMPHIBIAN</a></div><div class="ttdeci">static const trait_id trait_PHEROMONE_AMPHIBIAN(&quot;PHEROMONE_AMPHIBIAN&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a40331e22a139e13b3b70f387c9fdd390"><div class="ttname"><a href="monster_8cpp.html#a40331e22a139e13b3b70f387c9fdd390">trait_THRESH_MYCUS</a></div><div class="ttdeci">static const trait_id trait_THRESH_MYCUS(&quot;THRESH_MYCUS&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a4201fa103581564376b7aff7182edd68"><div class="ttname"><a href="monster_8cpp.html#a4201fa103581564376b7aff7182edd68">trait_PHEROMONE_MAMMAL</a></div><div class="ttdeci">static const trait_id trait_PHEROMONE_MAMMAL(&quot;PHEROMONE_MAMMAL&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a57f6d778cf84c167c8cb747e395ed9a6"><div class="ttname"><a href="monster_8cpp.html#a57f6d778cf84c167c8cb747e395ed9a6">monfaction_nether_player_hate</a></div><div class="ttdeci">static const mfaction_str_id monfaction_nether_player_hate(&quot;nether_player_hate&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a59c6fe37743ad99e5f79f578f598cf33"><div class="ttname"><a href="monster_8cpp.html#a59c6fe37743ad99e5f79f578f598cf33">trait_TERRIFYING</a></div><div class="ttdeci">static const trait_id trait_TERRIFYING(&quot;TERRIFYING&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a6d062e430202ce21974bf3fb492002bf"><div class="ttname"><a href="monster_8cpp.html#a6d062e430202ce21974bf3fb492002bf">species_ZOMBIE</a></div><div class="ttdeci">static const species_id species_ZOMBIE(&quot;ZOMBIE&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a836e6bced7ca7f777a4e6819c5d3afbc"><div class="ttname"><a href="monster_8cpp.html#a836e6bced7ca7f777a4e6819c5d3afbc">trait_MYCUS_FRIEND</a></div><div class="ttdeci">static const trait_id trait_MYCUS_FRIEND(&quot;MYCUS_FRIEND&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a924fe96bf3dd9ac954c9925fdd5b6901"><div class="ttname"><a href="monster_8cpp.html#a924fe96bf3dd9ac954c9925fdd5b6901">effect_docile</a></div><div class="ttdeci">static const efftype_id effect_docile(&quot;docile&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a97f784c7aff9be3b45ec2614d570c338"><div class="ttname"><a href="monster_8cpp.html#a97f784c7aff9be3b45ec2614d570c338">trait_ANIMALEMPATH</a></div><div class="ttdeci">static const trait_id trait_ANIMALEMPATH(&quot;ANIMALEMPATH&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a9a6a2fde7ac954eb1d49172924fb7613"><div class="ttname"><a href="monster_8cpp.html#a9a6a2fde7ac954eb1d49172924fb7613">monfaction_acid_ant</a></div><div class="ttdeci">static const mfaction_str_id monfaction_acid_ant(&quot;acid_ant&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a9b8e9c1e12311cc58c1bda0049c3246c"><div class="ttname"><a href="monster_8cpp.html#a9b8e9c1e12311cc58c1bda0049c3246c">monfaction_bee</a></div><div class="ttdeci">static const mfaction_str_id monfaction_bee(&quot;bee&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a9d5c4aa8a7cbb8692d29533f65c9a323"><div class="ttname"><a href="monster_8cpp.html#a9d5c4aa8a7cbb8692d29533f65c9a323">effect_natures_commune</a></div><div class="ttdeci">static const efftype_id effect_natures_commune(&quot;natures_commune&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_aa1ed3999ebde4696ff3c3930f8ddf424"><div class="ttname"><a href="monster_8cpp.html#aa1ed3999ebde4696ff3c3930f8ddf424">trait_FLOWERS</a></div><div class="ttdeci">static const trait_id trait_FLOWERS(&quot;FLOWERS&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_abeca1e9d9723c5bbc93f59a05d779ba9"><div class="ttname"><a href="monster_8cpp.html#abeca1e9d9723c5bbc93f59a05d779ba9">trait_ANIMALDISCORD</a></div><div class="ttdeci">static const trait_id trait_ANIMALDISCORD(&quot;ANIMALDISCORD&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ac6e489d07c26a18493630574cf6de5c9"><div class="ttname"><a href="monster_8cpp.html#ac6e489d07c26a18493630574cf6de5c9">trait_ANIMALDISCORD2</a></div><div class="ttdeci">static const trait_id trait_ANIMALDISCORD2(&quot;ANIMALDISCORD2&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_adc9256a8239cdb71c406fc31369d80dc"><div class="ttname"><a href="monster_8cpp.html#adc9256a8239cdb71c406fc31369d80dc">trait_PHEROMONE_INSECT</a></div><div class="ttdeci">static const trait_id trait_PHEROMONE_INSECT(&quot;PHEROMONE_INSECT&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_adcfed29ab9ac3cba9ab878de84062aa1"><div class="ttname"><a href="monster_8cpp.html#adcfed29ab9ac3cba9ab878de84062aa1">monfaction_ant</a></div><div class="ttdeci">static const mfaction_str_id monfaction_ant(&quot;ant&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ae4aecc728b6b9084078aaa79046ce038"><div class="ttname"><a href="monster_8cpp.html#ae4aecc728b6b9084078aaa79046ce038">species_FUNGUS</a></div><div class="ttdeci">static const species_id species_FUNGUS(&quot;FUNGUS&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_aedd04e7b2229fbe3aaf6bd48fc951f8b"><div class="ttname"><a href="monster_8cpp.html#aedd04e7b2229fbe3aaf6bd48fc951f8b">monfaction_wasp</a></div><div class="ttdeci">static const mfaction_str_id monfaction_wasp(&quot;wasp&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_af825514d87d2ddd622cdfab1842bbc61"><div class="ttname"><a href="monster_8cpp.html#af825514d87d2ddd622cdfab1842bbc61">trait_BEE</a></div><div class="ttdeci">static const trait_id trait_BEE(&quot;BEE&quot;)</div></div>
<div class="ttc" id="amonster_8h_html_a84ab55bd738531d991f877a7650b7fd1a83cac1efd028387ff7fb9ced13f48f1d"><div class="ttname"><a href="monster_8h.html#a84ab55bd738531d991f877a7650b7fd1a83cac1efd028387ff7fb9ced13f48f1d">FLEEING</a></div><div class="ttdeci">@ FLEEING</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00070">monster.h:70</a></div></div>
<div class="ttc" id="amonster_8h_html_aac044bb92427fa3cd80c3c945ba7ecd4a1c6426f1f830743448b46e8e2aa068b4"><div class="ttname"><a href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a1c6426f1f830743448b46e8e2aa068b4">MATT_FLEE</a></div><div class="ttdeci">@ MATT_FLEE</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00061">monster.h:61</a></div></div>
<div class="ttc" id="amonster_8h_html_aac044bb92427fa3cd80c3c945ba7ecd4a7284d60cdedff9ecfaaf33b10ba4986b"><div class="ttname"><a href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a7284d60cdedff9ecfaaf33b10ba4986b">MATT_FRIEND</a></div><div class="ttdeci">@ MATT_FRIEND</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00059">monster.h:59</a></div></div>
<div class="ttc" id="amonster_8h_html_aac044bb92427fa3cd80c3c945ba7ecd4a850d5624fd1d54192310ab8b13f228ee"><div class="ttname"><a href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a850d5624fd1d54192310ab8b13f228ee">MATT_FOLLOW</a></div><div class="ttdeci">@ MATT_FOLLOW</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00063">monster.h:63</a></div></div>
<div class="ttc" id="amonster_8h_html_aac044bb92427fa3cd80c3c945ba7ecd4a87f44dc6e793f84b2342dafd6460b263"><div class="ttname"><a href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a87f44dc6e793f84b2342dafd6460b263">MATT_ATTACK</a></div><div class="ttdeci">@ MATT_ATTACK</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00064">monster.h:64</a></div></div>
<div class="ttc" id="amonster_8h_html_aac044bb92427fa3cd80c3c945ba7ecd4aa81d19ea97def3730dddfc9451b53de5"><div class="ttname"><a href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4aa81d19ea97def3730dddfc9451b53de5">MATT_IGNORE</a></div><div class="ttdeci">@ MATT_IGNORE</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00062">monster.h:62</a></div></div>
<div class="ttc" id="amonster_8h_html_aac044bb92427fa3cd80c3c945ba7ecd4abe6826428dc5f70627271fca101306d3"><div class="ttname"><a href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4abe6826428dc5f70627271fca101306d3">MATT_FPASSIVE</a></div><div class="ttdeci">@ MATT_FPASSIVE</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00060">monster.h:60</a></div></div>
<div class="ttc" id="amtype_8cpp_html_ad0be009b881f7062bb49061b46ac47c3"><div class="ttname"><a href="mtype_8cpp.html#ad0be009b881f7062bb49061b46ac47c3">mon_flag_ANIMAL</a></div><div class="ttdeci">mon_flag_id mon_flag_ANIMAL</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00047">mtype.cpp:47</a></div></div>
<div class="ttc" id="amtype_8cpp_html_ad6a17cb01971e10f58414cf964a400e2"><div class="ttname"><a href="mtype_8cpp.html#ad6a17cb01971e10f58414cf964a400e2">mon_flag_KEEP_DISTANCE</a></div><div class="ttdeci">mon_flag_id mon_flag_KEEP_DISTANCE</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00105">mtype.cpp:105</a></div></div>
<div class="ttc" id="anpc_8h_html_a0b36e2ae8f588616c1fd7a3788452cd4a59e2eeab0c7bf7336d7c5fea3a870d2a"><div class="ttname"><a href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a59e2eeab0c7bf7336d7c5fea3a870d2a">NPCATT_KILL</a></div><div class="ttdeci">@ NPCATT_KILL</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00117">npc.h:117</a></div></div>
<div class="ttc" id="astructmtype_html_a51ec342d71717bb513f0158198b12840"><div class="ttname"><a href="structmtype.html#a51ec342d71717bb513f0158198b12840">mtype::in_species</a></div><div class="ttdeci">bool in_species(const species_id &amp;spec) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00385">mtype.cpp:385</a></div></div>
<div class="ttc" id="astructmtype_html_afb696f9fd6734d41999a056ac3924475"><div class="ttname"><a href="structmtype.html#afb696f9fd6734d41999a056ac3924475">mtype::tracking_distance</a></div><div class="ttdeci">int tracking_distance</div><div class="ttdoc">how many times it has eaten</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00421">mtype.h:421</a></div></div>
<div class="ttc" id="astructmutation__branch_html"><div class="ttname"><a href="structmutation__branch.html">mutation_branch</a></div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00172">mutation.h:172</a></div></div>
<div class="ttc" id="astructmutation__branch_html_a27fa2bb65643cce5be823e67fdbc737c"><div class="ttname"><a href="structmutation__branch.html#a27fa2bb65643cce5be823e67fdbc737c">mutation_branch::ignored_by</a></div><div class="ttdeci">std::vector&lt; species_id &gt; ignored_by</div><div class="ttdoc">Species ignoring character with the mutation.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00252">mutation.h:252</a></div></div>
<div class="ttc" id="astructmutation__branch_html_ae1f334586c95e97ce29331dffea4885a"><div class="ttname"><a href="structmutation__branch.html#ae1f334586c95e97ce29331dffea4885a">mutation_branch::anger_relations</a></div><div class="ttdeci">std::map&lt; species_id, int &gt; anger_relations</div><div class="ttdoc">Map of angered species and there intensity.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00255">mutation.h:255</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00572">aggro_character</a>, <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="mutation_8h_source.html#l00255">mutation_branch::anger_relations</a>, <a class="el" href="monster_8h_source.html#l00654">effect_cache</a>, <a class="el" href="monster_8cpp.html#a924fe96bf3dd9ac954c9925fdd5b6901">effect_docile</a>, <a class="el" href="monster_8cpp.html#a9d5c4aa8a7cbb8692d29533f65c9a323">effect_natures_commune</a>, <a class="el" href="monster_8h_source.html#l00070">FLEEING</a>, <a class="el" href="monster_8h_source.html#l00539">friendly</a>, <a class="el" href="monster_8cpp_source.html#l01375">get_dest()</a>, <a class="el" href="monster_8cpp_source.html#l03748">get_hp()</a>, <a class="el" href="monster_8cpp_source.html#l03738">get_hp_max()</a>, <a class="el" href="creature_8cpp_source.html#l03232">Creature::get_location()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="mutation_8h_source.html#l00252">mutation_branch::ignored_by</a>, <a class="el" href="mtype_8cpp_source.html#l00385">mtype::in_species()</a>, <a class="el" href="monster_8h_source.html#l00064">MATT_ATTACK</a>, <a class="el" href="monster_8h_source.html#l00061">MATT_FLEE</a>, <a class="el" href="monster_8h_source.html#l00063">MATT_FOLLOW</a>, <a class="el" href="monster_8h_source.html#l00060">MATT_FPASSIVE</a>, <a class="el" href="monster_8h_source.html#l00059">MATT_FRIEND</a>, <a class="el" href="monster_8h_source.html#l00062">MATT_IGNORE</a>, <a class="el" href="faction_8h_source.html#l00122">faction_template::mon_faction</a>, <a class="el" href="mtype_8cpp_source.html#l00047">mon_flag_ANIMAL</a>, <a class="el" href="mtype_8cpp_source.html#l00105">mon_flag_KEEP_DISTANCE</a>, <a class="el" href="monster_8cpp.html#a9a6a2fde7ac954eb1d49172924fb7613">monfaction_acid_ant</a>, <a class="el" href="monster_8cpp.html#adcfed29ab9ac3cba9ab878de84062aa1">monfaction_ant</a>, <a class="el" href="monster_8cpp.html#a9b8e9c1e12311cc58c1bda0049c3246c">monfaction_bee</a>, <a class="el" href="monster_8cpp.html#a57f6d778cf84c167c8cb747e395ed9a6">monfaction_nether_player_hate</a>, <a class="el" href="monster_8cpp.html#aedd04e7b2229fbe3aaf6bd48fc951f8b">monfaction_wasp</a>, <a class="el" href="monster_8h_source.html#l00541">morale</a>, <a class="el" href="npc_8h_source.html#l00117">NPCATT_KILL</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="monster_8cpp.html#a307b216a26bb2ea7d5eed659660d25a2">species_AMPHIBIAN</a>, <a class="el" href="monster_8cpp.html#ae4aecc728b6b9084078aaa79046ce038">species_FUNGUS</a>, <a class="el" href="monster_8cpp.html#a278e96575e20e05269544a06b2141040">species_MAMMAL</a>, <a class="el" href="monster_8cpp.html#a6d062e430202ce21974bf3fb492002bf">species_ZOMBIE</a>, <a class="el" href="mtype_8h_source.html#l00421">mtype::tracking_distance</a>, <a class="el" href="monster_8cpp.html#abeca1e9d9723c5bbc93f59a05d779ba9">trait_ANIMALDISCORD</a>, <a class="el" href="monster_8cpp.html#ac6e489d07c26a18493630574cf6de5c9">trait_ANIMALDISCORD2</a>, <a class="el" href="monster_8cpp.html#a97f784c7aff9be3b45ec2614d570c338">trait_ANIMALEMPATH</a>, <a class="el" href="monster_8cpp.html#a167a0b707092995e1eb42a07318893c7">trait_ANIMALEMPATH2</a>, <a class="el" href="monster_8cpp.html#af825514d87d2ddd622cdfab1842bbc61">trait_BEE</a>, <a class="el" href="monster_8cpp.html#aa1ed3999ebde4696ff3c3930f8ddf424">trait_FLOWERS</a>, <a class="el" href="monster_8cpp.html#a836e6bced7ca7f777a4e6819c5d3afbc">trait_MYCUS_FRIEND</a>, <a class="el" href="monster_8cpp.html#a391a09ab32e732e08bd11101c67876be">trait_PHEROMONE_AMPHIBIAN</a>, <a class="el" href="monster_8cpp.html#adc9256a8239cdb71c406fc31369d80dc">trait_PHEROMONE_INSECT</a>, <a class="el" href="monster_8cpp.html#a4201fa103581564376b7aff7182edd68">trait_PHEROMONE_MAMMAL</a>, <a class="el" href="monster_8cpp.html#a59c6fe37743ad99e5f79f578f598cf33">trait_TERRIFYING</a>, <a class="el" href="monster_8cpp.html#a40331e22a139e13b3b70f387c9fdd390">trait_THRESH_MYCUS</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l01778">attack_at()</a>, <a class="el" href="character_8cpp_source.html#l11349">Character::attitude_to()</a>, <a class="el" href="monster_8cpp_source.html#l01450">attitude_to()</a>, <a class="el" href="npc_8cpp_source.html#l02386">npc::attitude_to()</a>, <a class="el" href="monster_8cpp_source.html#l00794">get_attitude()</a>, <a class="el" href="monster_8cpp_source.html#l01438">is_fleeing()</a>, <a class="el" href="monmove_8cpp_source.html#l00237">know_danger_at()</a>, <a class="el" href="game_8cpp_source.html#l04596">game::mon_info_update()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>, <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>, and <a class="el" href="monmove_8cpp_source.html#l02361">will_reach()</a>.</p>

</div>
</div>
<a id="a125622587c2069dc4dbbe07943c81336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a125622587c2069dc4dbbe07943c81336">&#9670;&nbsp;</a></span>attitude_to()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217">Creature::Attitude</a> monster::attitude_to </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attitude (of this creature) towards another creature. </p>
<p>This might not be symmetric. </p>

<p>Implements <a class="el" href="classCreature.html#a5698402eb4d7bbb013213f11f5768c92">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01450">1450</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;{</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <span class="keyword">const</span> <a class="code" href="classmonster.html">monster</a> *m = <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.is_monster() ? <span class="keyword">static_cast&lt;</span> <span class="keyword">const </span><a class="code" href="classmonster.html">monster</a> *<span class="keyword">&gt;</span>( &amp;<a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> ) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> *p = <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.as_character();</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="keywordflow">if</span>( m != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        <span class="keywordflow">if</span>( m == <span class="keyword">this</span> ) {</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Attitude::FRIENDLY</a>;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        }</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160; </div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        <a class="code" href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0">mf_attitude</a> faction_att = <a class="code" href="classfaction.html">faction</a>.obj().attitude( m-&gt;<a class="code" href="classmonster.html#a8e30fdb59bcecd8ecb8a609431cb6caf">faction</a> );</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        <span class="keywordflow">if</span>( ( <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> != 0 &amp;&amp; m-&gt;<a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> != 0 ) ||</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;            ( <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == 0 &amp;&amp; m-&gt;<a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == 0 &amp;&amp; faction_att == <a class="code" href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0a8baef7717ecdcd96e64dca04ab2b4c97">MFA_FRIENDLY</a> ) ) {</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;            <span class="comment">// Friendly (to player) monsters are friendly to each other</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;            <span class="comment">// Unfriendly monsters go by faction attitude</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Attitude::FRIENDLY</a>;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;            <span class="comment">// NOLINTNEXTLINE(bugprone-branch-clone)</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == 0 &amp;&amp; m-&gt;<a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == 0 &amp;&amp; faction_att == <a class="code" href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0a80fd3bb623381aa87ca80a3d035d3867">MFA_HATE</a> ) {</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;            <span class="comment">// Stuff that hates a specific faction will always attack that faction</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Attitude::HOSTILE</a>;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ( <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == 0 &amp;&amp; m-&gt;<a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == 0 &amp;&amp; faction_att == <a class="code" href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0a23a2d35aee5d2497bcb11e15f7d7c586">MFA_NEUTRAL</a> ) ||</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                   <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> &lt; 0 || <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> &lt; 10 ) {</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;            <span class="comment">// Stuff that won&#39;t attack is neutral to everything</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217a31ba17aa58cdb681423f07ca21a6efc7">Attitude::NEUTRAL</a>;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Attitude::HOSTILE</a>;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;        }</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        <span class="keywordflow">switch</span>( <a class="code" href="classmonster.html#a6f9b80e613e46d2a7ebbb21ea5e11e4c">attitude</a>( p ) ) {</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a7284d60cdedff9ecfaaf33b10ba4986b">MATT_FRIEND</a>:</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Attitude::FRIENDLY</a>;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4abe6826428dc5f70627271fca101306d3">MATT_FPASSIVE</a>:</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a1c6426f1f830743448b46e8e2aa068b4">MATT_FLEE</a>:</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4aa81d19ea97def3730dddfc9451b53de5">MATT_IGNORE</a>:</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a850d5624fd1d54192310ab8b13f228ee">MATT_FOLLOW</a>:</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217a31ba17aa58cdb681423f07ca21a6efc7">Attitude::NEUTRAL</a>;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a87f44dc6e793f84b2342dafd6460b263">MATT_ATTACK</a>:</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Attitude::HOSTILE</a>;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a9cfa3a0159c104c19ee2e620214f57bd">MATT_NULL</a>:</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a52a7ccec96082d0ed012c09ec10b10f2">NUM_MONSTER_ATTITUDES</a>:</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        }</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    }</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <span class="comment">// Should not happen!, creature should be either player or monster</span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217a31ba17aa58cdb681423f07ca21a6efc7">Attitude::NEUTRAL</a>;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a8a475630b3289c468bd06cf114008217a31ba17aa58cdb681423f07ca21a6efc7"><div class="ttname"><a href="classCreature.html#a8a475630b3289c468bd06cf114008217a31ba17aa58cdb681423f07ca21a6efc7">Creature::Attitude::NEUTRAL</a></div><div class="ttdeci">@ NEUTRAL</div></div>
<div class="ttc" id="aclassmonster_html_a8e30fdb59bcecd8ecb8a609431cb6caf"><div class="ttname"><a href="classmonster.html#a8e30fdb59bcecd8ecb8a609431cb6caf">monster::faction</a></div><div class="ttdeci">mfaction_id faction</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00545">monster.h:545</a></div></div>
<div class="ttc" id="amonfaction_8h_html_ac5f72a9f6d69d1d5c271af54b16f9ab0"><div class="ttname"><a href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0">mf_attitude</a></div><div class="ttdeci">mf_attitude</div><div class="ttdef"><b>Definition:</b> <a href="monfaction_8h_source.html#l00020">monfaction.h:20</a></div></div>
<div class="ttc" id="amonfaction_8h_html_ac5f72a9f6d69d1d5c271af54b16f9ab0a23a2d35aee5d2497bcb11e15f7d7c586"><div class="ttname"><a href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0a23a2d35aee5d2497bcb11e15f7d7c586">MFA_NEUTRAL</a></div><div class="ttdeci">@ MFA_NEUTRAL</div><div class="ttdef"><b>Definition:</b> <a href="monfaction_8h_source.html#l00022">monfaction.h:22</a></div></div>
<div class="ttc" id="amonfaction_8h_html_ac5f72a9f6d69d1d5c271af54b16f9ab0a80fd3bb623381aa87ca80a3d035d3867"><div class="ttname"><a href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0a80fd3bb623381aa87ca80a3d035d3867">MFA_HATE</a></div><div class="ttdeci">@ MFA_HATE</div><div class="ttdef"><b>Definition:</b> <a href="monfaction_8h_source.html#l00024">monfaction.h:24</a></div></div>
<div class="ttc" id="amonfaction_8h_html_ac5f72a9f6d69d1d5c271af54b16f9ab0a8baef7717ecdcd96e64dca04ab2b4c97"><div class="ttname"><a href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0a8baef7717ecdcd96e64dca04ab2b4c97">MFA_FRIENDLY</a></div><div class="ttdeci">@ MFA_FRIENDLY</div><div class="ttdef"><b>Definition:</b> <a href="monfaction_8h_source.html#l00023">monfaction.h:23</a></div></div>
<div class="ttc" id="amonster_8h_html_aac044bb92427fa3cd80c3c945ba7ecd4a52a7ccec96082d0ed012c09ec10b10f2"><div class="ttname"><a href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a52a7ccec96082d0ed012c09ec10b10f2">NUM_MONSTER_ATTITUDES</a></div><div class="ttdeci">@ NUM_MONSTER_ATTITUDES</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00066">monster.h:65</a></div></div>
<div class="ttc" id="amonster_8h_html_aac044bb92427fa3cd80c3c945ba7ecd4a9cfa3a0159c104c19ee2e620214f57bd"><div class="ttname"><a href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a9cfa3a0159c104c19ee2e620214f57bd">MATT_NULL</a></div><div class="ttdeci">@ MATT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00058">monster.h:58</a></div></div>
<div class="ttc" id="aomdata_8h_html_a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf"><div class="ttname"><a href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">oter_travel_cost_type::other</a></div><div class="ttdeci">@ other</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="monster_8h_source.html#l00545">faction</a>, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Creature::FRIENDLY</a>, <a class="el" href="monster_8h_source.html#l00539">friendly</a>, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Creature::HOSTILE</a>, <a class="el" href="monster_8h_source.html#l00064">MATT_ATTACK</a>, <a class="el" href="monster_8h_source.html#l00061">MATT_FLEE</a>, <a class="el" href="monster_8h_source.html#l00063">MATT_FOLLOW</a>, <a class="el" href="monster_8h_source.html#l00060">MATT_FPASSIVE</a>, <a class="el" href="monster_8h_source.html#l00059">MATT_FRIEND</a>, <a class="el" href="monster_8h_source.html#l00062">MATT_IGNORE</a>, <a class="el" href="monster_8h_source.html#l00058">MATT_NULL</a>, <a class="el" href="monfaction_8h_source.html#l00023">MFA_FRIENDLY</a>, <a class="el" href="monfaction_8h_source.html#l00024">MFA_HATE</a>, <a class="el" href="monfaction_8h_source.html#l00022">MFA_NEUTRAL</a>, <a class="el" href="monster_8h_source.html#l00541">morale</a>, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217a31ba17aa58cdb681423f07ca21a6efc7">Creature::NEUTRAL</a>, <a class="el" href="monster_8h_source.html#l00065">NUM_MONSTER_ATTITUDES</a>, and <a class="el" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l01778">attack_at()</a>, <a class="el" href="monster_8cpp_source.html#l01405">attack_target()</a>, <a class="el" href="monmove_8cpp_source.html#l01676">bash_at()</a>, <a class="el" href="monattack_8cpp_source.html#l03721">mattack::chickenbot()</a>, <a class="el" href="game_8cpp_source.html#l06188">game::examine()</a>, <a class="el" href="monattack_8cpp_source.html#l05334">mattack::grenadier()</a>, <a class="el" href="monattack_8cpp_source.html#l05365">mattack::grenadier_elite()</a>, <a class="el" href="monattack_8cpp_source.html#l01629">mattack::growplants()</a>, <a class="el" href="game_8cpp_source.html#l04596">game::mon_info_update()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00173">avatar_action::move()</a>, <a class="el" href="monattack_8cpp_source.html#l03805">mattack::multi_robot()</a>, <a class="el" href="monattack_8cpp_source.html#l02844">mattack::nurse_assist()</a>, <a class="el" href="monattack_8cpp_source.html#l02883">mattack::nurse_operate()</a>, <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>, <a class="el" href="monmove_8cpp_source.html#l00361">rate_target()</a>, <a class="el" href="monattack_8cpp_source.html#l01159">mattack::resurrect()</a>, <a class="el" href="monattack_8cpp_source.html#l03930">mattack::upgrade()</a>, and <a class="el" href="monattack_8cpp_source.html#l01755">mattack::vine()</a>.</p>

</div>
</div>
<a id="a50b66bfc32f196ee2649ea311f593916"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50b66bfc32f196ee2649ea311f593916">&#9670;&nbsp;</a></span>avoid_trap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::avoid_trap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtrap.html">trap</a> &amp;&#160;</td>
          <td class="paramname"><em>tr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when a creature triggers a trap, returns true if they don't set it off. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tr</td><td>is the trap that was triggered. </td></tr>
    <tr><td class="paramname">pos</td><td>is the location of the trap (not necessarily of the creature) in the main map. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classCreature.html#ab05a268cf94f22bff124331bddbada33">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01186">1186</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;{</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="comment">// The trap position is not used, monsters are to stupid to remember traps. Actually, they do</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="comment">// not even see them.</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="comment">// Traps are on the ground, digging monsters go below, fliers and climbers go above.</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#af705eea6e40e12d7866010955602c7b5">digging</a>() || <a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>() ) {</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    }</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160; </div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9b7e2b542f2c3e382ff31362aedf597c">trap_avoids</a>.count( tr.<a class="code" href="structtrap.html#af4ff2a16113fc1dd7c53285c0f91c126">id</a> ) &gt; 0 ) {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 3, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a6c177e244fe2ee88847cd1666db6acc9">sk_dodge</a> + 1 ) &gt;= <a class="code" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 3, tr.<a class="code" href="structtrap.html#a2a6aca9abdabfc0381ca8e3438da9e84">get_avoidance</a>() );</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_aedaf54c4048d596420fae0d32bb1f586"><div class="ttname"><a href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">monster::flies</a></div><div class="ttdeci">bool flies() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01262">monster.cpp:1262</a></div></div>
<div class="ttc" id="aclassmonster_html_af705eea6e40e12d7866010955602c7b5"><div class="ttname"><a href="classmonster.html#af705eea6e40e12d7866010955602c7b5">monster::digging</a></div><div class="ttdeci">bool digging() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01247">monster.cpp:1247</a></div></div>
<div class="ttc" id="astructmtype_html_a6c177e244fe2ee88847cd1666db6acc9"><div class="ttname"><a href="structmtype.html#a6c177e244fe2ee88847cd1666db6acc9">mtype::sk_dodge</a></div><div class="ttdeci">int sk_dodge</div><div class="ttdoc">intensity of the effect_grabbed applied</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00434">mtype.h:434</a></div></div>
<div class="ttc" id="astructmtype_html_a9b7e2b542f2c3e382ff31362aedf597c"><div class="ttname"><a href="structmtype.html#a9b7e2b542f2c3e382ff31362aedf597c">mtype::trap_avoids</a></div><div class="ttdeci">std::set&lt; trap_str_id &gt; trap_avoids</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00373">mtype.h:373</a></div></div>
<div class="ttc" id="astructtrap_html_a2a6aca9abdabfc0381ca8e3438da9e84"><div class="ttname"><a href="structtrap.html#a2a6aca9abdabfc0381ca8e3438da9e84">trap::get_avoidance</a></div><div class="ttdeci">int get_avoidance() const</div><div class="ttdoc">Whether triggering the trap can be avoid (if greater than 0) and if so, this is compared to dodge ski...</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00214">trap.h:214</a></div></div>
<div class="ttc" id="astructtrap_html_af4ff2a16113fc1dd7c53285c0f91c126"><div class="ttname"><a href="structtrap.html#af4ff2a16113fc1dd7c53285c0f91c126">trap::id</a></div><div class="ttdeci">trap_str_id id</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00110">trap.h:110</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="rng_8cpp_source.html#l00123">dice()</a>, <a class="el" href="monster_8cpp_source.html#l01247">digging()</a>, <a class="el" href="monster_8cpp_source.html#l01262">flies()</a>, <a class="el" href="trap_8h_source.html#l00214">trap::get_avoidance()</a>, <a class="el" href="trap_8h_source.html#l00110">trap::id</a>, <a class="el" href="mtype_8h_source.html#l00434">mtype::sk_dodge</a>, <a class="el" href="mtype_8h_source.html#l00373">mtype::trap_avoids</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

</div>
</div>
<a id="abfa82509ae31b5201072274dc6b9c407"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfa82509ae31b5201072274dc6b9c407">&#9670;&nbsp;</a></span>bash_at()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::bash_at </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to smash/bash/destroy your way through the terrain at p. </p>
<dl class="section return"><dt>Returns</dt><dd>true if we destroyed something, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l01676">1676</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;{</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="keywordflow">if</span>( p.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> != <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() ) {</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;        <span class="comment">// TODO: Remove this</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    }</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160; </div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="comment">//Hallucinations can&#39;t bash stuff.</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    }</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160; </div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <span class="comment">// Don&#39;t bash if a friendly monster is standing there</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <a class="code" href="classmonster.html">monster</a> *target = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>().<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>&lt;<a class="code" href="classmonster.html">monster</a>&gt;( p );</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="keywordflow">if</span>( target != <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="classmonster.html#a125622587c2069dc4dbbe07943c81336">attitude_to</a>( *target ) == <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Attitude::FRIENDLY</a> ) {</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    }</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160; </div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    <span class="keywordtype">bool</span> try_bash = !<a class="code" href="classmonster.html#a241bdfccd5d6b2200c0bfd5eca9ce8ab">can_move_to</a>( p ) || <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 );</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <span class="keywordflow">if</span>( !try_bash ) {</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    }</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160; </div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a7410372f55ca62ae5eda0fcc63b48622">bash_skill</a>() &lt;= 0 ) {</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    }</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160; </div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    <span class="keywordflow">if</span>( !( here.<a class="code" href="classmap.html#a61c8a24a2bbd44540d799602f0c49c7e">is_bashable_furn</a>( p ) || here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( p ).<a class="code" href="classoptional__vpart__position.html#a01c74b1b54254d2948d47b234ba675b2">obstacle_at_part</a>() ) ) {</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        <span class="comment">// if the only thing here is road or flat, rarely bash it</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;        <span class="keywordtype">bool</span> flat_ground = here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a097fb4a94381fa8dfe878074bc7244de">ter_furn_flag::TFLAG_ROAD</a>, p ) ||</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;                           here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a30e2c1c17c8b07188b9c4cbb80fbdf65">ter_furn_flag::TFLAG_FLAT</a>, p );</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        <span class="keywordflow">if</span>( !here.<a class="code" href="classmap.html#a354aefad19d6e0086aa6160a1f45bb1d">is_bashable_ter</a>( p ) || ( flat_ground &amp;&amp; !<a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 50 ) ) ) {</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        }</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    }</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160; </div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <span class="keywordtype">int</span> bashskill = <a class="code" href="classmonster.html#a3552d13d872776e2201892e3f6480742">group_bash_skill</a>( p );</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    here.<a class="code" href="classmap.html#aaa8d85d40512cf240c55a050d8952c2f">bash</a>( p, bashskill );</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -<a class="code" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">get_speed</a>() );</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a261dff3caa6aabe255ae9d3eaa94d3de"><div class="ttname"><a href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">Creature::get_speed</a></div><div class="ttdeci">virtual int get_speed() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02138">creature.cpp:2138</a></div></div>
<div class="ttc" id="aclassCreature_html_a88c28bc08aa3e0d6fa1b187cee97d1c4"><div class="ttname"><a href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">Creature::posz</a></div><div class="ttdeci">int posz() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00317">creature.h:317</a></div></div>
<div class="ttc" id="aclassCreature_html_a891bc2d0c564449cb462178317819254"><div class="ttname"><a href="classCreature.html#a891bc2d0c564449cb462178317819254">Creature::mod_moves</a></div><div class="ttdeci">void mod_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02008">creature.cpp:2008</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="aclassmap_html_a27e22f0999ea03eff18babc48643c568"><div class="ttname"><a href="classmap.html#a27e22f0999ea03eff18babc48643c568">map::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03077">map.cpp:3077</a></div></div>
<div class="ttc" id="aclassmap_html_a354aefad19d6e0086aa6160a1f45bb1d"><div class="ttname"><a href="classmap.html#a354aefad19d6e0086aa6160a1f45bb1d">map::is_bashable_ter</a></div><div class="ttdeci">bool is_bashable_ter(const tripoint &amp;p, bool allow_floor=false) const</div><div class="ttdoc">Returns true if the terrain at p is bashable.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03260">map.cpp:3260</a></div></div>
<div class="ttc" id="aclassmap_html_a61c8a24a2bbd44540d799602f0c49c7e"><div class="ttname"><a href="classmap.html#a61c8a24a2bbd44540d799602f0c49c7e">map::is_bashable_furn</a></div><div class="ttdeci">bool is_bashable_furn(const tripoint &amp;p) const</div><div class="ttdoc">Returns true if the furniture at p is bashable.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03266">map.cpp:3266</a></div></div>
<div class="ttc" id="aclassmap_html_aa487d96256c3d35db7a1bf273156b64a"><div class="ttname"><a href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">map::veh_at</a></div><div class="ttdeci">optional_vpart_position veh_at(const tripoint &amp;p) const</div><div class="ttdoc">Checks if tile is occupied by vehicle and by which part.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01316">map.cpp:1316</a></div></div>
<div class="ttc" id="aclassmap_html_aaa8d85d40512cf240c55a050d8952c2f"><div class="ttname"><a href="classmap.html#aaa8d85d40512cf240c55a050d8952c2f">map::bash</a></div><div class="ttdeci">bash_params bash(const tripoint &amp;p, int str, bool silent=false, bool destroy=false, bool bash_floor=false, const vehicle *bashing_vehicle=nullptr)</div><div class="ttdoc">Returns a pair where first is whether anything was smashed and second is if it was destroyed.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04292">map.cpp:4292</a></div></div>
<div class="ttc" id="aclassmonster_html_a241bdfccd5d6b2200c0bfd5eca9ce8ab"><div class="ttname"><a href="classmonster.html#a241bdfccd5d6b2200c0bfd5eca9ce8ab">monster::can_move_to</a></div><div class="ttdeci">bool can_move_to(const tripoint &amp;p) const</div><div class="ttdoc">Checks whether we can move to/through p.</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00356">monmove.cpp:356</a></div></div>
<div class="ttc" id="aclassmonster_html_a3552d13d872776e2201892e3f6480742"><div class="ttname"><a href="classmonster.html#a3552d13d872776e2201892e3f6480742">monster::group_bash_skill</a></div><div class="ttdeci">int group_bash_skill(const tripoint &amp;target)</div><div class="ttdoc">Returns ability of monster and any cooperative helpers to bash the designated target.</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l01735">monmove.cpp:1735</a></div></div>
<div class="ttc" id="aclassmonster_html_a7410372f55ca62ae5eda0fcc63b48622"><div class="ttname"><a href="classmonster.html#a7410372f55ca62ae5eda0fcc63b48622">monster::bash_skill</a></div><div class="ttdeci">int bash_skill() const</div><div class="ttdoc">Returns innate monster bash skill, without calculating additional from helpers.</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l01730">monmove.cpp:1730</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html_a01c74b1b54254d2948d47b234ba675b2"><div class="ttname"><a href="classoptional__vpart__position.html#a01c74b1b54254d2948d47b234ba675b2">optional_vpart_position::obstacle_at_part</a></div><div class="ttdeci">std::optional&lt; vpart_reference &gt; obstacle_at_part() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02727">vehicle.cpp:2727</a></div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a097fb4a94381fa8dfe878074bc7244de"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a097fb4a94381fa8dfe878074bc7244de">ter_furn_flag::TFLAG_ROAD</a></div><div class="ttdeci">@ TFLAG_ROAD</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a30e2c1c17c8b07188b9c4cbb80fbdf65"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a30e2c1c17c8b07188b9c4cbb80fbdf65">ter_furn_flag::TFLAG_FLAT</a></div><div class="ttdeci">@ TFLAG_FLAT</div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00108">rng.cpp:108</a></div></div>
<div class="ttc" id="astructtripoint_html_ac944c0e329b5eba2602f7a52f66bbbb9"><div class="ttname"><a href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">tripoint::z</a></div><div class="ttdeci">int z</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00134">point.h:134</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01450">attitude_to()</a>, <a class="el" href="map_8cpp_source.html#l04292">map::bash()</a>, <a class="el" href="monmove_8cpp_source.html#l01730">bash_skill()</a>, <a class="el" href="monmove_8cpp_source.html#l00356">can_move_to()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Creature::FRIENDLY</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="creature_8cpp_source.html#l02138">Creature::get_speed()</a>, <a class="el" href="monmove_8cpp_source.html#l01735">group_bash_skill()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l03266">map::is_bashable_furn()</a>, <a class="el" href="map_8cpp_source.html#l03260">map::is_bashable_ter()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="creature_8cpp_source.html#l02008">Creature::mod_moves()</a>, <a class="el" href="vehicle_8cpp_source.html#l02727">optional_vpart_position::obstacle_at_part()</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="creature_8h_source.html#l00317">Creature::posz()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a30e2c1c17c8b07188b9c4cbb80fbdf65">TFLAG_FLAT</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a097fb4a94381fa8dfe878074bc7244de">TFLAG_ROAD</a>, <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>, and <a class="el" href="point_8h_source.html#l00134">tripoint::z</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>.</p>

</div>
</div>
<a id="a22061ca6aa966283a748d84ce4352fb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22061ca6aa966283a748d84ce4352fb4">&#9670;&nbsp;</a></span>bash_estimate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::bash_estimate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l01719">1719</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;{</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    <span class="keywordtype">int</span> estimate = <a class="code" href="classmonster.html#a7410372f55ca62ae5eda0fcc63b48622">bash_skill</a>();</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a71cf2330cd9d412b2d82728c88b1fad0">mon_flag_GROUP_BASH</a> ) ) {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        <span class="comment">// Right now just give them a boost so they try to bash a lot of stuff.</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        <span class="comment">// TODO: base it on number of nearby friendlies.</span></div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        estimate *= 2;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    }</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordflow">return</span> estimate;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;}</div>
<div class="ttc" id="amtype_8cpp_html_a71cf2330cd9d412b2d82728c88b1fad0"><div class="ttname"><a href="mtype_8cpp.html#a71cf2330cd9d412b2d82728c88b1fad0">mon_flag_GROUP_BASH</a></div><div class="ttdeci">mon_flag_id mon_flag_GROUP_BASH</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00089">mtype.cpp:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monmove_8cpp_source.html#l01730">bash_skill()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, and <a class="el" href="mtype_8cpp_source.html#l00089">mon_flag_GROUP_BASH</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, and <a class="el" href="monmove_8cpp_source.html#l01475">scent_move()</a>.</p>

</div>
</div>
<a id="a7410372f55ca62ae5eda0fcc63b48622"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7410372f55ca62ae5eda0fcc63b48622">&#9670;&nbsp;</a></span>bash_skill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::bash_skill </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns innate monster bash skill, without calculating additional from helpers. </p>

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l01730">1730</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;{</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#acd6bef5de9f343c6677cc8ae2b48e6fe">bash_skill</a>;</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_acd6bef5de9f343c6677cc8ae2b48e6fe"><div class="ttname"><a href="structmtype.html#acd6bef5de9f343c6677cc8ae2b48e6fe">mtype::bash_skill</a></div><div class="ttdeci">int bash_skill</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00463">mtype.h:463</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00463">mtype::bash_skill</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l01676">bash_at()</a>, <a class="el" href="monmove_8cpp_source.html#l01719">bash_estimate()</a>, <a class="el" href="monster_8cpp_source.html#l03986">get_path_avoid()</a>, <a class="el" href="monmove_8cpp_source.html#l01735">group_bash_skill()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, and <a class="el" href="monmove_8cpp_source.html#l01475">scent_move()</a>.</p>

</div>
</div>
<a id="a8bce8bde3c0ee3824c875264f30c47cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bce8bde3c0ee3824c875264f30c47cf">&#9670;&nbsp;</a></span>basic_symbol_color()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnc__color.html">nc_color</a> monster::basic_symbol_color </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classCreature.html">Creature</a> symbol color. </p>

<p>Implements <a class="el" href="classCreature.html#ae5454f0e4db71d31ab3c1331e5103a4b">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01153">1153</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;{</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a6ad4c76593c4cd6423492169733885a1">color</a>;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_a6ad4c76593c4cd6423492169733885a1"><div class="ttname"><a href="structmtype.html#a6ad4c76593c4cd6423492169733885a1">mtype::color</a></div><div class="ttdeci">nc_color color</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00480">mtype.h:480</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00480">mtype::color</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00864">print_info()</a>.</p>

</div>
</div>
<a id="a918611ed3f15584f6e4734e1b249ad98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a918611ed3f15584f6e4734e1b249ad98">&#9670;&nbsp;</a></span>block_hit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::block_hit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;&#160;</td>
          <td class="paramname"><em>bp_hit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdamage__instance.html">damage_instance</a> &amp;&#160;</td>
          <td class="paramname"><em>d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#af7c8ef39a61456810a5581a61d297b80">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01870">1870</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;{</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a19f8524caa7fa7b0156d4262fb33a341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19f8524caa7fa7b0156d4262fb33a341">&#9670;&nbsp;</a></span>bloodType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a2a56520b7eef7294fc98230cb883c9d2">field_type_id</a> monster::bloodType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a5c6d320a21d767c65c807fe563c4b2c9">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03488">3488</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;{</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="field__type_8cpp.html#abbf9ee25d4081063b76f7f3bd2a11793">fd_null</a>;</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;    }</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af750a603bc0b63a33edb9b554e3d3d92">bloodType</a>();</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;}</div>
<div class="ttc" id="afield__type_8cpp_html_abbf9ee25d4081063b76f7f3bd2a11793"><div class="ttname"><a href="field__type_8cpp.html#abbf9ee25d4081063b76f7f3bd2a11793">fd_null</a></div><div class="ttdeci">const field_type_str_id fd_null</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00011">field_type.cpp:11</a></div></div>
<div class="ttc" id="astructmtype_html_af750a603bc0b63a33edb9b554e3d3d92"><div class="ttname"><a href="structmtype.html#af750a603bc0b63a33edb9b554e3d3d92">mtype::bloodType</a></div><div class="ttdeci">field_type_id bloodType() const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00420">mtype.cpp:420</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8cpp_source.html#l00420">mtype::bloodType()</a>, <a class="el" href="field__type_8cpp_source.html#l00011">fd_null</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l02726">mattack::dogthing()</a>, <a class="el" href="mondeath_8cpp_source.html#l00092">scatter_chunks()</a>, and <a class="el" href="mondeath_8cpp_source.html#l00139">mdeath::splatter()</a>.</p>

</div>
</div>
<a id="ab370bb6801a47533c44b28894f910702"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab370bb6801a47533c44b28894f910702">&#9670;&nbsp;</a></span>calc_climb_cost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::calc_climb_cost </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l01629">1629</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;{</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>() ) {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        <span class="keywordflow">return</span> 100;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160; </div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#ab9288bd726bcf264e3626dfbb7a01e25">climbs</a>() &amp;&amp; !here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054af607730a38ff7975c6724b22881e0e58">ter_furn_flag::TFLAG_NO_FLOOR</a>, t ) ) {</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> diff = here.<a class="code" href="classmap.html#aa0e6e89f8f4989c540fefe7bbacfd8ce">climb_difficulty</a>( f );</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;        <span class="keywordflow">if</span>( diff &lt;= 10 ) {</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;            <span class="keywordflow">return</span> 150;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        }</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    }</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160; </div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_aa0e6e89f8f4989c540fefe7bbacfd8ce"><div class="ttname"><a href="classmap.html#aa0e6e89f8f4989c540fefe7bbacfd8ce">map::climb_difficulty</a></div><div class="ttdeci">int climb_difficulty(const tripoint &amp;p) const</div><div class="ttdoc">Checks 3x3 block centered on p for terrain to climb.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02652">map.cpp:2652</a></div></div>
<div class="ttc" id="aclassmonster_html_ab9288bd726bcf264e3626dfbb7a01e25"><div class="ttname"><a href="classmonster.html#ab9288bd726bcf264e3626dfbb7a01e25">monster::climbs</a></div><div class="ttdeci">bool climbs() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01267">monster.cpp:1267</a></div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054af607730a38ff7975c6724b22881e0e58"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054af607730a38ff7975c6724b22881e0e58">ter_furn_flag::TFLAG_NO_FLOOR</a></div><div class="ttdeci">@ TFLAG_NO_FLOOR</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l02652">map::climb_difficulty()</a>, <a class="el" href="monster_8cpp_source.html#l01267">climbs()</a>, <a class="el" href="monster_8cpp_source.html#l01262">flies()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, and <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054af607730a38ff7975c6724b22881e0e58">TFLAG_NO_FLOOR</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>.</p>

</div>
</div>
<a id="a98cfa6c825f373b60a0a4021a8dbf750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98cfa6c825f373b60a0a4021a8dbf750">&#9670;&nbsp;</a></span>calc_movecost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::calc_movecost </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l01575">1575</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;{</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <span class="keywordtype">int</span> movecost = 0;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160; </div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> source_cost = here.<a class="code" href="classmap.html#abe9e7b93cf8ee15c370ad55c3138c4f6">move_cost</a>( f );</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> dest_cost = here.<a class="code" href="classmap.html#abe9e7b93cf8ee15c370ad55c3138c4f6">move_cost</a>( t );</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <span class="comment">// Digging and flying monsters ignore terrain cost</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>() || ( <a class="code" href="classmonster.html#af705eea6e40e12d7866010955602c7b5">digging</a>() &amp;&amp; here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aaebe86ebda0571101f8d02ab5f2a888c">ter_furn_flag::TFLAG_DIGGABLE</a>, t ) ) ) {</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;        movecost = 100;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        <span class="comment">// Swimming monsters move super fast in water</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a4be04fecf05b13bc290b5b1dcc6b9137">swims</a>() ) {</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">ter_furn_flag::TFLAG_SWIMMABLE</a>, f ) ) {</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;            movecost += 25;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            movecost += 50 * here.<a class="code" href="classmap.html#abe9e7b93cf8ee15c370ad55c3138c4f6">move_cost</a>( f );</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        }</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">ter_furn_flag::TFLAG_SWIMMABLE</a>, t ) ) {</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            movecost += 25;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;            movecost += 50 * here.<a class="code" href="classmap.html#abe9e7b93cf8ee15c370ad55c3138c4f6">move_cost</a>( t );</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;        }</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a55fd0614c264b7e89a5735270ff6d2c7">can_submerge</a>() ) {</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        <span class="comment">// No-breathe monsters have to walk underwater slowly</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">ter_furn_flag::TFLAG_SWIMMABLE</a>, f ) ) {</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            movecost += 250;</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;            movecost += 50 * here.<a class="code" href="classmap.html#abe9e7b93cf8ee15c370ad55c3138c4f6">move_cost</a>( f );</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        }</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">ter_furn_flag::TFLAG_SWIMMABLE</a>, t ) ) {</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;            movecost += 250;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            movecost += 50 * here.<a class="code" href="classmap.html#abe9e7b93cf8ee15c370ad55c3138c4f6">move_cost</a>( t );</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        }</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;        movecost /= 2;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#ab9288bd726bcf264e3626dfbb7a01e25">climbs</a>() ) {</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac0ec7541a0f28e104d9c691936512481">ter_furn_flag::TFLAG_CLIMBABLE</a>, f ) ) {</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;            movecost += 150;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;            movecost += 50 * here.<a class="code" href="classmap.html#abe9e7b93cf8ee15c370ad55c3138c4f6">move_cost</a>( f );</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;        }</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac0ec7541a0f28e104d9c691936512481">ter_furn_flag::TFLAG_CLIMBABLE</a>, t ) ) {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;            movecost += 150;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;            movecost += 50 * here.<a class="code" href="classmap.html#abe9e7b93cf8ee15c370ad55c3138c4f6">move_cost</a>( t );</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;        }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        movecost /= 2;</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        movecost = ( ( 50 * source_cost ) + ( 50 * dest_cost ) ) / 2.0;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    }</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160; </div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="keywordflow">return</span> movecost;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_abe9e7b93cf8ee15c370ad55c3138c4f6"><div class="ttname"><a href="classmap.html#abe9e7b93cf8ee15c370ad55c3138c4f6">map::move_cost</a></div><div class="ttdeci">int move_cost(const tripoint &amp;p, const vehicle *ignored_vehicle=nullptr) const</div><div class="ttdoc">Calculate the cost to move past the tile at p.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02434">map.cpp:2434</a></div></div>
<div class="ttc" id="aclassmonster_html_a4be04fecf05b13bc290b5b1dcc6b9137"><div class="ttname"><a href="classmonster.html#a4be04fecf05b13bc290b5b1dcc6b9137">monster::swims</a></div><div class="ttdeci">bool swims() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01272">monster.cpp:1272</a></div></div>
<div class="ttc" id="aclassmonster_html_a55fd0614c264b7e89a5735270ff6d2c7"><div class="ttname"><a href="classmonster.html#a55fd0614c264b7e89a5735270ff6d2c7">monster::can_submerge</a></div><div class="ttdeci">bool can_submerge() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01230">monster.cpp:1230</a></div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">ter_furn_flag::TFLAG_SWIMMABLE</a></div><div class="ttdeci">@ TFLAG_SWIMMABLE</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054aaebe86ebda0571101f8d02ab5f2a888c"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aaebe86ebda0571101f8d02ab5f2a888c">ter_furn_flag::TFLAG_DIGGABLE</a></div><div class="ttdeci">@ TFLAG_DIGGABLE</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054ac0ec7541a0f28e104d9c691936512481"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac0ec7541a0f28e104d9c691936512481">ter_furn_flag::TFLAG_CLIMBABLE</a></div><div class="ttdeci">@ TFLAG_CLIMBABLE</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01230">can_submerge()</a>, <a class="el" href="monster_8cpp_source.html#l01267">climbs()</a>, <a class="el" href="monster_8cpp_source.html#l01247">digging()</a>, <a class="el" href="monster_8cpp_source.html#l01262">flies()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l02434">map::move_cost()</a>, <a class="el" href="monster_8cpp_source.html#l01272">swims()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac0ec7541a0f28e104d9c691936512481">TFLAG_CLIMBABLE</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aaebe86ebda0571101f8d02ab5f2a888c">TFLAG_DIGGABLE</a>, and <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">TFLAG_SWIMMABLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, and <a class="el" href="monmove_8cpp_source.html#l02399">turns_to_reach()</a>.</p>

</div>
</div>
<a id="a1182f5685e5de114ebf316c732a866f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1182f5685e5de114ebf316c732a866f5">&#9670;&nbsp;</a></span>calculate_by_enchantment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double monster::calculate_by_enchantment </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>modify</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">enchant_vals::mod</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>round_output</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l04016">4016</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;{</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;    modify += <a class="code" href="classmonster.html#a8878b1cacf3048e2278c80b58fbd9bf1">enchantment_cache</a>-&gt;get_value_add( value );</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;    modify *= 1.0 + <a class="code" href="classmonster.html#a8878b1cacf3048e2278c80b58fbd9bf1">enchantment_cache</a>-&gt;get_value_multiply( value );</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;    <span class="keywordflow">if</span>( round_output ) {</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;        modify = <a class="code" href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">std::round</a>( modify );</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;    }</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;    <span class="keywordflow">return</span> modify;</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a8878b1cacf3048e2278c80b58fbd9bf1"><div class="ttname"><a href="classmonster.html#a8878b1cacf3048e2278c80b58fbd9bf1">monster::enchantment_cache</a></div><div class="ttdeci">pimpl&lt; enchant_cache &gt; enchantment_cache</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00576">monster.h:576</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a5834219bcffc7118c95b395b8cdeec20"><div class="ttname"><a href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">round</a></div><div class="ttdeci">double round(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00110">math_parser_func.h:110</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00576">enchantment_cache</a>, and <a class="el" href="math__parser__func_8h_source.html#l00110">round()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00228">armor_enchantment_adjust()</a>, <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>, and <a class="el" href="monster_8cpp_source.html#l03111">process_one_effect()</a>.</p>

</div>
</div>
<a id="a0f83a7ee7bd8d96efc80200c5a5caf5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f83a7ee7bd8d96efc80200c5a5caf5b">&#9670;&nbsp;</a></span>can_act()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::can_act </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01277">1277</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;{</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;           ( <a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;empty() ||</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;             ( !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a> ) &amp;&amp; !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#adcaf70773541073a0d4cdfce4b857bf7">effect_psi_stunned</a> ) &amp;&amp;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;               !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a> ) &amp;&amp; !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#aa222d693ccc29efba86a3bb9f18add4e">effect_webbed</a> ) ) );</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_ae14e3b3ab4a876a17538cfe38818356c"><div class="ttname"><a href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">Creature::effects</a></div><div class="ttdeci">pimpl&lt; effects_map &gt; effects</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01204">creature.h:1204</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a08481f62adb6937636ea44b855311037"><div class="ttname"><a href="monster_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a></div><div class="ttdeci">static const efftype_id effect_downed(&quot;downed&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_aa222d693ccc29efba86a3bb9f18add4e"><div class="ttname"><a href="monster_8cpp.html#aa222d693ccc29efba86a3bb9f18add4e">effect_webbed</a></div><div class="ttdeci">static const efftype_id effect_webbed(&quot;webbed&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ad1df0ca2944a94c3ad796e8baada33ae"><div class="ttname"><a href="monster_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a></div><div class="ttdeci">static const efftype_id effect_stunned(&quot;stunned&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_adcaf70773541073a0d4cdfce4b857bf7"><div class="ttname"><a href="monster_8cpp.html#adcaf70773541073a0d4cdfce4b857bf7">effect_psi_stunned</a></div><div class="ttdeci">static const efftype_id effect_psi_stunned(&quot;psi_stunned&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="el" href="monster_8cpp.html#adcaf70773541073a0d4cdfce4b857bf7">effect_psi_stunned</a>, <a class="el" href="monster_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, <a class="el" href="monster_8cpp.html#aa222d693ccc29efba86a3bb9f18add4e">effect_webbed</a>, <a class="el" href="creature_8h_source.html#l01204">Creature::effects</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, and <a class="el" href="creature_8h_source.html#l01193">Creature::moves</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l00767">mattack::acid()</a>, <a class="el" href="monattack_8cpp_source.html#l00885">mattack::acid_accurate()</a>, <a class="el" href="monattack_8cpp_source.html#l00821">mattack::acid_barf()</a>, <a class="el" href="monattack_8cpp_source.html#l05040">mattack::bio_op_disarm()</a>, <a class="el" href="monattack_8cpp_source.html#l04962">mattack::bio_op_impale()</a>, <a class="el" href="monattack_8cpp_source.html#l04809">mattack::bio_op_random_biojutsu()</a>, <a class="el" href="monattack_8cpp_source.html#l04853">mattack::bio_op_takedown()</a>, <a class="el" href="monattack_8cpp_source.html#l01071">mattack::boomer()</a>, <a class="el" href="monattack_8cpp_source.html#l01112">mattack::boomer_glow()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00110">leap_actor::call()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00269">mon_spellcasting_actor::call()</a>, <a class="el" href="monattack_8cpp_source.html#l02313">mattack::dermatik()</a>, <a class="el" href="monattack_8cpp_source.html#l04590">mattack::evolve_kill_strike()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00440">melee_actor::find_target()</a>, <a class="el" href="monattack_8cpp_source.html#l04032">mattack::flesh_golem()</a>, <a class="el" href="monattack_8cpp_source.html#l05259">grenade_helper()</a>, <a class="el" href="monattack_8cpp_source.html#l04148">mattack::lunge()</a>, <a class="el" href="monattack_8cpp_source.html#l01426">mattack::science()</a>, <a class="el" href="monattack_8cpp_source.html#l00915">mattack::shockstorm()</a>, <a class="el" href="monattack_8cpp_source.html#l00647">mattack::shriek_alert()</a>, <a class="el" href="monattack_8cpp_source.html#l00668">mattack::shriek_stun()</a>, <a class="el" href="monattack_8cpp_source.html#l01324">mattack::smash()</a>, <a class="el" href="monattack_8cpp_source.html#l01810">mattack::spit_sap()</a>, and <a class="el" href="monattack_8cpp_source.html#l05399">mattack::stretch_attack()</a>.</p>

</div>
</div>
<a id="ad1aecae5a61a8c735c8045c1fa4ac505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1aecae5a61a8c735c8045c1fa4ac505">&#9670;&nbsp;</a></span>can_attack_high()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::can_attack_high </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a286e7a58c2eb60f8fdc15b4d0d2e7888">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02494">2494</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;{</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    <span class="keywordflow">return</span>  !( ( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">size</a> &lt; <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a> &amp;&amp; !<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a776ebd0e3e03458d9d46655ba63c3a09">mon_flag_FLIES</a> ) &amp;&amp;</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;                 !<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ae50a8a65b10c518c80423128f6ae4d69">mon_flag_ATTACK_UPPER</a> ) ) || <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a55c6f93c2096145ac60995038636b643">mon_flag_ATTACK_LOWER</a> ) )  ;</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;}</div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a></div><div class="ttdeci">@ medium</div></div>
<div class="ttc" id="amtype_8cpp_html_a55c6f93c2096145ac60995038636b643"><div class="ttname"><a href="mtype_8cpp.html#a55c6f93c2096145ac60995038636b643">mon_flag_ATTACK_LOWER</a></div><div class="ttdeci">mon_flag_id mon_flag_ATTACK_LOWER</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00051">mtype.cpp:51</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a776ebd0e3e03458d9d46655ba63c3a09"><div class="ttname"><a href="mtype_8cpp.html#a776ebd0e3e03458d9d46655ba63c3a09">mon_flag_FLIES</a></div><div class="ttdeci">mon_flag_id mon_flag_FLIES</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00086">mtype.cpp:86</a></div></div>
<div class="ttc" id="amtype_8cpp_html_ae50a8a65b10c518c80423128f6ae4d69"><div class="ttname"><a href="mtype_8cpp.html#ae50a8a65b10c518c80423128f6ae4d69">mon_flag_ATTACK_UPPER</a></div><div class="ttdeci">mon_flag_id mon_flag_ATTACK_UPPER</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00052">mtype.cpp:52</a></div></div>
<div class="ttc" id="astructmtype_html_aa03998a1de174a26778a0d6384d55b89"><div class="ttname"><a href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">mtype::size</a></div><div class="ttdeci">creature_size size</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00407">mtype.h:407</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">medium</a>, <a class="el" href="mtype_8cpp_source.html#l00051">mon_flag_ATTACK_LOWER</a>, <a class="el" href="mtype_8cpp_source.html#l00052">mon_flag_ATTACK_UPPER</a>, <a class="el" href="mtype_8cpp_source.html#l00086">mon_flag_FLIES</a>, <a class="el" href="mtype_8h_source.html#l00407">mtype::size</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

</div>
</div>
<a id="abca4913777aa7ed67c109de4b667ed54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abca4913777aa7ed67c109de4b667ed54">&#9670;&nbsp;</a></span>can_climb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::can_climb </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01242">1242</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;{</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#ab9288bd726bcf264e3626dfbb7a01e25">climbs</a>() || <a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>();</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01267">climbs()</a>, and <a class="el" href="monster_8cpp_source.html#l01262">flies()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00237">know_danger_at()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, and <a class="el" href="monmove_8cpp_source.html#l00193">will_move_to()</a>.</p>

</div>
</div>
<a id="a14e16a6d2e0a675a85b8794c8f5114cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14e16a6d2e0a675a85b8794c8f5114cf">&#9670;&nbsp;</a></span>can_dig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::can_dig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01252">1252</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;{</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a288d0f02eeca4f5de5997feb12dfc620">mon_flag_CAN_DIG</a> );</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;}</div>
<div class="ttc" id="amtype_8cpp_html_a288d0f02eeca4f5de5997feb12dfc620"><div class="ttname"><a href="mtype_8cpp.html#a288d0f02eeca4f5de5997feb12dfc620">mon_flag_CAN_DIG</a></div><div class="ttdeci">mon_flag_id mon_flag_CAN_DIG</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00060">mtype.cpp:60</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, and <a class="el" href="mtype_8cpp_source.html#l00060">mon_flag_CAN_DIG</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01247">digging()</a>, <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, and <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>.</p>

</div>
</div>
<a id="ac654df3156626ea7e474365b5fd0056e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac654df3156626ea7e474365b5fd0056e">&#9670;&nbsp;</a></span>can_drown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::can_drown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01236">1236</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;{</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="classmonster.html#a4be04fecf05b13bc290b5b1dcc6b9137">swims</a>() &amp;&amp; !<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a10899530fa212da51fd92b98b0cacdb5">mon_flag_AQUATIC</a> ) &amp;&amp;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;           !<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a4c417260415c080a792537389ec1c0fe">mon_flag_NO_BREATHE</a> ) &amp;&amp; !<a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>();</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;}</div>
<div class="ttc" id="amtype_8cpp_html_a4c417260415c080a792537389ec1c0fe"><div class="ttname"><a href="mtype_8cpp.html#a4c417260415c080a792537389ec1c0fe">mon_flag_NO_BREATHE</a></div><div class="ttdeci">mon_flag_id mon_flag_NO_BREATHE</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00116">mtype.cpp:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01262">flies()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="mtype_8cpp_source.html#l00048">mon_flag_AQUATIC</a>, <a class="el" href="mtype_8cpp_source.html#l00116">mon_flag_NO_BREATHE</a>, and <a class="el" href="monster_8cpp_source.html#l01272">swims()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00841">is_aquatic_danger()</a>.</p>

</div>
</div>
<a id="a1e799308a5bfe0f6c1f3d47a5c10987a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e799308a5bfe0f6c1f3d47a5c10987a">&#9670;&nbsp;</a></span>can_hear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::can_hear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01225">1225</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;{</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a88e2ab0f523d7678e26b642134c10713">mon_flag_HEARS</a> ) &amp;&amp; !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a6a9276a38bc155b134a121b137073fb7">effect_deaf</a> );</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;}</div>
<div class="ttc" id="amonster_8cpp_html_a6a9276a38bc155b134a121b137073fb7"><div class="ttname"><a href="monster_8cpp.html#a6a9276a38bc155b134a121b137073fb7">effect_deaf</a></div><div class="ttdeci">static const efftype_id effect_deaf(&quot;deaf&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_a88e2ab0f523d7678e26b642134c10713"><div class="ttname"><a href="mtype_8cpp.html#a88e2ab0f523d7678e26b642134c10713">mon_flag_HEARS</a></div><div class="ttdeci">mon_flag_id mon_flag_HEARS</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00097">mtype.cpp:97</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp.html#a6a9276a38bc155b134a121b137073fb7">effect_deaf</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, and <a class="el" href="mtype_8cpp_source.html#l00097">mon_flag_HEARS</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l03758">hear_sound()</a>, and <a class="el" href="monmove_8cpp_source.html#l02361">will_reach()</a>.</p>

</div>
</div>
<a id="a241bdfccd5d6b2200c0bfd5eca9ce8ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a241bdfccd5d6b2200c0bfd5eca9ce8ab">&#9670;&nbsp;</a></span>can_move_to()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::can_move_to </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether we can move to/through p. </p>
<p>This does not account for bashing.</p>
<p>This is used in pathfinding and ONLY checks the terrain. It ignores players and monsters, which might only block this tile temporarily. <a class="el" href="classmonster.html#a7d8135ba3578b7ad43d4e7b5acc9269d">will_move_to()</a> checks for impassable terrain etc <a class="el" href="classmonster.html#a3971d4421cdc9f956213c9aef2ff9ae3">can_reach_to()</a> checks for z-level difference. <a class="el" href="classmonster.html#a241bdfccd5d6b2200c0bfd5eca9ce8ab" title="Checks whether we can move to/through p.">can_move_to()</a> is a wrapper for both of them. <a class="el" href="classmonster.html#ac0c29edb1633fd1090a0a5ff3efa3fe3">know_danger_at()</a> checks for fire, trap etc. (flag PATH_AVOID_) </p>

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l00356">356</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;{</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a3971d4421cdc9f956213c9aef2ff9ae3">can_reach_to</a>( p ) &amp;&amp; <a class="code" href="classmonster.html#a7d8135ba3578b7ad43d4e7b5acc9269d">will_move_to</a>( p );</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a3971d4421cdc9f956213c9aef2ff9ae3"><div class="ttname"><a href="classmonster.html#a3971d4421cdc9f956213c9aef2ff9ae3">monster::can_reach_to</a></div><div class="ttdeci">bool can_reach_to(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00330">monmove.cpp:330</a></div></div>
<div class="ttc" id="aclassmonster_html_a7d8135ba3578b7ad43d4e7b5acc9269d"><div class="ttname"><a href="classmonster.html#a7d8135ba3578b7ad43d4e7b5acc9269d">monster::will_move_to</a></div><div class="ttdeci">bool will_move_to(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00193">monmove.cpp:193</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monmove_8cpp_source.html#l00330">can_reach_to()</a>, and <a class="el" href="monmove_8cpp_source.html#l00193">will_move_to()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l01676">bash_at()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00465">melee_actor::do_grab()</a>, <a class="el" href="monster_8cpp_source.html#l03986">get_path_avoid()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, <a class="el" href="monmove_8cpp_source.html#l02094">push_to()</a>, <a class="el" href="monmove_8cpp_source.html#l01475">scent_move()</a>, <a class="el" href="map_8cpp_source.html#l08905">map::spawn_monsters_submap()</a>, <a class="el" href="map_8cpp_source.html#l08762">map::spawn_monsters_submap_group()</a>, and <a class="el" href="monmove_8cpp_source.html#l02233">stumble()</a>.</p>

</div>
</div>
<a id="af35316ade396ac63cf5655105a420dbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af35316ade396ac63cf5655105a420dbb">&#9670;&nbsp;</a></span>can_pathfind()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::can_pathfind </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00638">638</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                                  {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a2a072b02f6b004032034c2d553c1867b">pathfinding_cd</a> &lt;= <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        }</div>
<div class="ttc" id="aclassmonster_html_a2a072b02f6b004032034c2d553c1867b"><div class="ttname"><a href="classmonster.html#a2a072b02f6b004032034c2d553c1867b">monster::pathfinding_cd</a></div><div class="ttdeci">time_point pathfinding_cd</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00635">monster.h:635</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00635">pathfinding_cd</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>.</p>

</div>
</div>
<a id="a3971d4421cdc9f956213c9aef2ff9ae3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3971d4421cdc9f956213c9aef2ff9ae3">&#9670;&nbsp;</a></span>can_reach_to()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::can_reach_to </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l00330">330</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;{</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span>( p.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> &gt; <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>().z &amp;&amp; <a class="code" href="monmove_8cpp.html#a3c9d7c1da038730a8cc36cb559d1bbd8">z_is_valid</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>().z ) ) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a4099f16f8e2c4ea80e996db0ea6f4c02">ter_furn_flag::TFLAG_RAMP_UP</a>, <a class="code" href="structtripoint.html">tripoint</a>( p.<a class="code" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>(), p.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> - 1 ) ) ) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">if</span>( !here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a589ce1673849a76ea3bf17df3fe84ab3">ter_furn_flag::TFLAG_GOES_UP</a>, <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) &amp;&amp; here.<a class="code" href="classmap.html#ad11eaa007e285dcfe4c6ffb6f1ce46d3">has_floor</a>( p ) ) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="comment">// can&#39;t go through the roof</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> &lt; <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>().z &amp;&amp; <a class="code" href="monmove_8cpp.html#a3c9d7c1da038730a8cc36cb559d1bbd8">z_is_valid</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>().z ) ) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> <a class="code" href="cube__direction_8h.html#aea62013051f3c8842efa174037dfb5bca55a9d6aa251e3c334db4ab4055a4a004">above</a>( p.<a class="code" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>(), p.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> + 1 );</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a26a026d844907da147f1350754b5210b">ter_furn_flag::TFLAG_RAMP_DOWN</a>, <a class="code" href="cube__direction_8h.html#aea62013051f3c8842efa174037dfb5bca55a9d6aa251e3c334db4ab4055a4a004">above</a> ) ) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">if</span>( !here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ab09f2463f4ce060d051439b5535a47e6">ter_furn_flag::TFLAG_GOES_DOWN</a>, <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) &amp;&amp;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            ( here.<a class="code" href="classmap.html#ad11eaa007e285dcfe4c6ffb6f1ce46d3">has_floor</a>( <a class="code" href="cube__direction_8h.html#aea62013051f3c8842efa174037dfb5bca55a9d6aa251e3c334db4ab4055a4a004">above</a> ) || ( !<a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>() &amp;&amp; !here.<a class="code" href="classmap.html#a78e0a35a5041e0daf6e7a2a4ec522014">has_floor_or_water</a>( <a class="code" href="cube__direction_8h.html#aea62013051f3c8842efa174037dfb5bca55a9d6aa251e3c334db4ab4055a4a004">above</a> ) ) ) ) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="comment">// can&#39;t go through the floor</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <span class="comment">// Check floors for flying monsters movement</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_a78e0a35a5041e0daf6e7a2a4ec522014"><div class="ttname"><a href="classmap.html#a78e0a35a5041e0daf6e7a2a4ec522014">map::has_floor_or_water</a></div><div class="ttdeci">bool has_floor_or_water(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02703">map.cpp:2703</a></div></div>
<div class="ttc" id="aclassmap_html_ad11eaa007e285dcfe4c6ffb6f1ce46d3"><div class="ttname"><a href="classmap.html#ad11eaa007e285dcfe4c6ffb6f1ce46d3">map::has_floor</a></div><div class="ttdeci">bool has_floor(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02691">map.cpp:2691</a></div></div>
<div class="ttc" id="acube__direction_8h_html_aea62013051f3c8842efa174037dfb5bca55a9d6aa251e3c334db4ab4055a4a004"><div class="ttname"><a href="cube__direction_8h.html#aea62013051f3c8842efa174037dfb5bca55a9d6aa251e3c334db4ab4055a4a004">cube_direction::above</a></div><div class="ttdeci">@ above</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a26a026d844907da147f1350754b5210b"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a26a026d844907da147f1350754b5210b">ter_furn_flag::TFLAG_RAMP_DOWN</a></div><div class="ttdeci">@ TFLAG_RAMP_DOWN</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a4099f16f8e2c4ea80e996db0ea6f4c02"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a4099f16f8e2c4ea80e996db0ea6f4c02">ter_furn_flag::TFLAG_RAMP_UP</a></div><div class="ttdeci">@ TFLAG_RAMP_UP</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a589ce1673849a76ea3bf17df3fe84ab3"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a589ce1673849a76ea3bf17df3fe84ab3">ter_furn_flag::TFLAG_GOES_UP</a></div><div class="ttdeci">@ TFLAG_GOES_UP</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054ab09f2463f4ce060d051439b5535a47e6"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ab09f2463f4ce060d051439b5535a47e6">ter_furn_flag::TFLAG_GOES_DOWN</a></div><div class="ttdeci">@ TFLAG_GOES_DOWN</div></div>
<div class="ttc" id="amonmove_8cpp_html_a3c9d7c1da038730a8cc36cb559d1bbd8"><div class="ttname"><a href="monmove_8cpp.html#a3c9d7c1da038730a8cc36cb559d1bbd8">z_is_valid</a></div><div class="ttdeci">static bool z_is_valid(int z)</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00130">monmove.cpp:130</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
<div class="ttc" id="astructtripoint_html_accc0725c936dbebb2486f969f39e2e5f"><div class="ttname"><a href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">tripoint::xy</a></div><div class="ttdeci">constexpr point xy() const</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00202">point.h:202</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cube__direction_8h.html#aea62013051f3c8842efa174037dfb5bca55a9d6aa251e3c334db4ab4055a4a004">above</a>, <a class="el" href="monster_8cpp_source.html#l01262">flies()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l02691">map::has_floor()</a>, <a class="el" href="map_8cpp_source.html#l02703">map::has_floor_or_water()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ab09f2463f4ce060d051439b5535a47e6">TFLAG_GOES_DOWN</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a589ce1673849a76ea3bf17df3fe84ab3">TFLAG_GOES_UP</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a26a026d844907da147f1350754b5210b">TFLAG_RAMP_DOWN</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a4099f16f8e2c4ea80e996db0ea6f4c02">TFLAG_RAMP_UP</a>, <a class="el" href="point_8h_source.html#l00202">tripoint::xy()</a>, <a class="el" href="point_8h_source.html#l00134">tripoint::z</a>, and <a class="el" href="monmove_8cpp_source.html#l00130">z_is_valid()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00356">can_move_to()</a>.</p>

</div>
</div>
<a id="a79c1aef59cccba881fc60e52fb6d8cb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79c1aef59cccba881fc60e52fb6d8cb9">&#9670;&nbsp;</a></span>can_see()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::can_see </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01220">1220</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;{</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a0f90cef22d42e0b8c911e8d289e1a10e">mon_flag_SEES</a> ) &amp;&amp; !<a class="code" href="classmonster.html#a04c74718e60016b199e7cdff71d5aa90">effect_cache</a>[<a class="code" href="monster_8h.html#a84ab55bd738531d991f877a7650b7fd1a38ef1c57a99bb9129742d1649235a1c1">VISION_IMPAIRED</a>];</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;}</div>
<div class="ttc" id="amonster_8h_html_a84ab55bd738531d991f877a7650b7fd1a38ef1c57a99bb9129742d1649235a1c1"><div class="ttname"><a href="monster_8h.html#a84ab55bd738531d991f877a7650b7fd1a38ef1c57a99bb9129742d1649235a1c1">VISION_IMPAIRED</a></div><div class="ttdeci">@ VISION_IMPAIRED</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00071">monster.h:71</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a0f90cef22d42e0b8c911e8d289e1a10e"><div class="ttname"><a href="mtype_8cpp.html#a0f90cef22d42e0b8c911e8d289e1a10e">mon_flag_SEES</a></div><div class="ttdeci">mon_flag_id mon_flag_SEES</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00143">mtype.cpp:143</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00654">effect_cache</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="mtype_8cpp_source.html#l00143">mon_flag_SEES</a>, and <a class="el" href="monster_8h_source.html#l00071">VISION_IMPAIRED</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="monster_8cpp_source.html#l01285">sight_range()</a>, and <a class="el" href="monmove_8cpp_source.html#l02361">will_reach()</a>.</p>

</div>
</div>
<a id="a55fd0614c264b7e89a5735270ff6d2c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55fd0614c264b7e89a5735270ff6d2c7">&#9670;&nbsp;</a></span>can_submerge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::can_submerge </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01230">1230</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;{</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keywordflow">return</span> ( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a4c417260415c080a792537389ec1c0fe">mon_flag_NO_BREATHE</a> ) || <a class="code" href="classmonster.html#a4be04fecf05b13bc290b5b1dcc6b9137">swims</a>() || <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a10899530fa212da51fd92b98b0cacdb5">mon_flag_AQUATIC</a> ) ) &amp;&amp;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;           !<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a61150b20889a6aab92d5857f2d831323">mon_flag_ELECTRONIC</a> );</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;}</div>
<div class="ttc" id="amtype_8cpp_html_a61150b20889a6aab92d5857f2d831323"><div class="ttname"><a href="mtype_8cpp.html#a61150b20889a6aab92d5857f2d831323">mon_flag_ELECTRONIC</a></div><div class="ttdeci">mon_flag_id mon_flag_ELECTRONIC</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00080">mtype.cpp:80</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="mtype_8cpp_source.html#l00048">mon_flag_AQUATIC</a>, <a class="el" href="mtype_8cpp_source.html#l00080">mon_flag_ELECTRONIC</a>, <a class="el" href="mtype_8cpp_source.html#l00116">mon_flag_NO_BREATHE</a>, and <a class="el" href="monster_8cpp_source.html#l01272">swims()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l01575">calc_movecost()</a>, <a class="el" href="monstergenerator_8cpp_source.html#l01612">MonsterGenerator::check_monster_definitions()</a>, <a class="el" href="monster_8cpp_source.html#l01748">is_underwater()</a>, <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, and <a class="el" href="monmove_8cpp_source.html#l00193">will_move_to()</a>.</p>

</div>
</div>
<a id="a5a6be7cfbce50ad161774221638f356e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a6be7cfbce50ad161774221638f356e">&#9670;&nbsp;</a></span>can_upgrade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::can_upgrade </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00399">399</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;{</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a62679e1efa30cbc49d0ac34082171ed5">upgrades</a> &amp;&amp; get_option&lt;float&gt;( <span class="stringliteral">&quot;MONSTER_UPGRADE_FACTOR&quot;</span> ) &gt; 0.0;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00622">upgrades</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="monster_8cpp_source.html#l00405">hasten_upgrade()</a>, and <a class="el" href="monster_8cpp_source.html#l00451">try_upgrade()</a>.</p>

</div>
</div>
<a id="a36642aa60e233616102cb9a4e37db955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36642aa60e233616102cb9a4e37db955">&#9670;&nbsp;</a></span>check_mech_powered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::check_mech_powered </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02975">2975</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;{</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() || !<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a1ce59be15eeebc2aa195dc5a5cf38358">mon_flag_RIDEABLE_MECH</a> ) || !<a class="code" href="classmonster.html#a5d5bdb6389c0388198bda9530620e4af">battery_item</a> ) {</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;    }</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a5d5bdb6389c0388198bda9530620e4af">battery_item</a>-&gt;ammo_remaining() &lt;= 0 ) {</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;    }</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;    <span class="keyword">const</span> <a class="code" href="structitype.html">itype</a> &amp;<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a> = *<a class="code" href="classmonster.html#a5d5bdb6389c0388198bda9530620e4af">battery_item</a>-&gt;type;</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a5d5bdb6389c0388198bda9530620e4af">battery_item</a>-&gt;ammo_remaining() &lt;= <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>.magazine-&gt;capacity / 10 &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 10 ) ) {</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Your %s emits a beeping noise as its batteries start to get low.&quot;</span> ),</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;                 <a class="code" href="classmonster.html#ad4fba0b9aea36097d8b972e05e66d914">get_name</a>() );</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;    }</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_ad4fba0b9aea36097d8b972e05e66d914"><div class="ttname"><a href="classmonster.html#ad4fba0b9aea36097d8b972e05e66d914">monster::get_name</a></div><div class="ttdeci">std::string get_name() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00717">monster.cpp:717</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a></div><div class="ttdeci">@ m_bad</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00348">enums.h:348</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00997">messages.cpp:997</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="monster_8h_source.html#l00533">battery_item</a>, <a class="el" href="monster_8cpp_source.html#l00717">get_name()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="enums_8h_source.html#l00348">m_bad</a>, <a class="el" href="mtype_8cpp_source.html#l00142">mon_flag_RIDEABLE_MECH</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="avatar__action_8cpp_source.html#l00982">avatar_action::plthrow()</a>, <a class="el" href="game_8cpp_source.html#l11966">game::vertical_move()</a>, and <a class="el" href="game_8cpp_source.html#l10533">game::walk_move()</a>.</p>

</div>
</div>
<a id="ab9288bd726bcf264e3626dfbb7a01e25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9288bd726bcf264e3626dfbb7a01e25">&#9670;&nbsp;</a></span>climbs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::climbs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01267">1267</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;{</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#acfbb08b10ad8b7908facadbad00425bc">mon_flag_CLIMBS</a> );</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;}</div>
<div class="ttc" id="amtype_8cpp_html_acfbb08b10ad8b7908facadbad00425bc"><div class="ttname"><a href="mtype_8cpp.html#acfbb08b10ad8b7908facadbad00425bc">mon_flag_CLIMBS</a></div><div class="ttdeci">mon_flag_id mon_flag_CLIMBS</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00062">mtype.cpp:62</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, and <a class="el" href="mtype_8cpp_source.html#l00062">mon_flag_CLIMBS</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l01629">calc_climb_cost()</a>, <a class="el" href="monmove_8cpp_source.html#l01575">calc_movecost()</a>, <a class="el" href="monster_8cpp_source.html#l01242">can_climb()</a>, <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, and <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>.</p>

</div>
</div>
<a id="a404ac744f6b202d5ea3d09a3f1d7a35c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a404ac744f6b202d5ea3d09a3f1d7a35c">&#9670;&nbsp;</a></span>color_with_effects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnc__color.html">nc_color</a> monster::color_with_effects </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01168">1168</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;{</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <a class="code" href="classnc__color.html">nc_color</a> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a6ad4c76593c4cd6423492169733885a1">color</a>;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#ac6bddea0c05309bc6d54e962a7dff763">effect_beartrap</a> ) || <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a> ) ||</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#adcaf70773541073a0d4cdfce4b857bf7">effect_psi_stunned</a> ) || <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a> ) ||</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a09c667a72022d7e0ee0b851560831e04">effect_tied</a> ) ||</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a11d45bc0bc6102e76713dccfc624cbf4">effect_lightsnare</a> ) || <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#ae940cd81463820c5f0fc145179c7c386">effect_heavysnare</a> ) ) {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a>( <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> );</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    }</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a79654cfc6f07462199ec3f5da9e49c83">effect_pacified</a> ) ) {</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="color_8cpp.html#a4306eceb07389bb063f39894f4af0503">invert_color</a>( <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> );</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    }</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a> ) ) {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="color_8cpp.html#a8c9d398d812c546baae9a55dbfd22d21">red_background</a>( <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> );</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    }</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;}</div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00347">color.h:348</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a4306eceb07389bb063f39894f4af0503"><div class="ttname"><a href="color_8cpp.html#a4306eceb07389bb063f39894f4af0503">invert_color</a></div><div class="ttdeci">nc_color invert_color(const nc_color &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00540">color.cpp:540</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a8c9d398d812c546baae9a55dbfd22d21"><div class="ttname"><a href="color_8cpp.html#a8c9d398d812c546baae9a55dbfd22d21">red_background</a></div><div class="ttdeci">nc_color red_background(const nc_color &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00552">color.cpp:552</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a99e42a5de98370aab8662d4423cf4a4d"><div class="ttname"><a href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a></div><div class="ttdeci">nc_color hilite(const nc_color &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00546">color.cpp:546</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a09c667a72022d7e0ee0b851560831e04"><div class="ttname"><a href="monster_8cpp.html#a09c667a72022d7e0ee0b851560831e04">effect_tied</a></div><div class="ttdeci">static const efftype_id effect_tied(&quot;tied&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a11d45bc0bc6102e76713dccfc624cbf4"><div class="ttname"><a href="monster_8cpp.html#a11d45bc0bc6102e76713dccfc624cbf4">effect_lightsnare</a></div><div class="ttdeci">static const efftype_id effect_lightsnare(&quot;lightsnare&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a79654cfc6f07462199ec3f5da9e49c83"><div class="ttname"><a href="monster_8cpp.html#a79654cfc6f07462199ec3f5da9e49c83">effect_pacified</a></div><div class="ttdeci">static const efftype_id effect_pacified(&quot;pacified&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ac6bddea0c05309bc6d54e962a7dff763"><div class="ttname"><a href="monster_8cpp.html#ac6bddea0c05309bc6d54e962a7dff763">effect_beartrap</a></div><div class="ttdeci">static const efftype_id effect_beartrap(&quot;beartrap&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ae940cd81463820c5f0fc145179c7c386"><div class="ttname"><a href="monster_8cpp.html#ae940cd81463820c5f0fc145179c7c386">effect_heavysnare</a></div><div class="ttdeci">static const efftype_id effect_heavysnare(&quot;heavysnare&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_afcfa82c36c0dc2d76cd19d622c2b6ab4"><div class="ttname"><a href="monster_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a></div><div class="ttdeci">static const efftype_id effect_onfire(&quot;onfire&quot;)</div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00480">mtype::color</a>, <a class="el" href="monster_8cpp.html#ac6bddea0c05309bc6d54e962a7dff763">effect_beartrap</a>, <a class="el" href="monster_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="el" href="monster_8cpp.html#ae940cd81463820c5f0fc145179c7c386">effect_heavysnare</a>, <a class="el" href="monster_8cpp.html#a11d45bc0bc6102e76713dccfc624cbf4">effect_lightsnare</a>, <a class="el" href="monster_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, <a class="el" href="monster_8cpp.html#a79654cfc6f07462199ec3f5da9e49c83">effect_pacified</a>, <a class="el" href="monster_8cpp.html#adcaf70773541073a0d4cdfce4b857bf7">effect_psi_stunned</a>, <a class="el" href="monster_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, <a class="el" href="monster_8cpp.html#a09c667a72022d7e0ee0b851560831e04">effect_tied</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="color_8cpp_source.html#l00546">hilite()</a>, <a class="el" href="color_8cpp_source.html#l00540">invert_color()</a>, <a class="el" href="color_8cpp_source.html#l00552">red_background()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01158">symbol_color()</a>.</p>

</div>
</div>
<a id="a6f9117347fb7981f71aac01f58435007"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f9117347fb7981f71aac01f58435007">&#9670;&nbsp;</a></span>deal_damage_handle_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::deal_damage_handle_type </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classeffect__source.html">effect_source</a> &amp;&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdamage__unit.html">damage_unit</a> &amp;&#160;</td>
          <td class="paramname"><em>du</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>&#160;</td>
          <td class="paramname"><em>bp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>damage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>pain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a17d04695b45ce48064d39ba9f4118f55">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02127">2127</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;{</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> adjusted_damage = du.<a class="code" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> * du.<a class="code" href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_multiplier</a> * du.<a class="code" href="structdamage__unit.html#a86471803f7e56a7064bedd8da78672ee">unconditional_damage_mult</a>;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa438b330dcce731464afb38f2597e374">is_immune_damage</a>( du.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a> ) ) {</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// immunity</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    }</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    <span class="comment">// FIXME: Hardcoded damage type effects (bash, bullet)</span></div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    <span class="keywordflow">if</span>( du.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a> == <a class="code" href="monster_8cpp.html#a157369b3ee1f3f5a889eb1d42ed97638">damage_bash</a> ) {</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#af87d0e11009031a09f917068f8cc0357">mon_flag_PLASTIC</a> ) ) {</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;            damage += du.<a class="code" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> / <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 2, 4 ); <span class="comment">// lessened effect</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;            <a class="code" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a> += du.<a class="code" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> / 4;</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        }</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    }</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <span class="keywordflow">if</span>( du.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a> == <a class="code" href="monster_8cpp.html#a35045bcfd0e1c55fb7e9b88d8e36a614">damage_bullet</a> || du.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a>-&gt;<a class="code" href="structdamage__type.html#a11443d56f5134114d7ab862fabb9b23f">edged</a> ) {</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;        <a class="code" href="classmonster.html#ad077f15b8dd09041e41c7bf8b61ddd0b">make_bleed</a>( source, 1_minutes * <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, adjusted_damage ) );</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    }</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160; </div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    <a class="code" href="classCreature.html#a17d04695b45ce48064d39ba9f4118f55">Creature::deal_damage_handle_type</a>( source, du,  <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, damage, <a class="code" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a> );</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a1707dc490c8a090f13e4728a9de4aed2"><div class="ttname"><a href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">Creature::pain</a></div><div class="ttdeci">int pain</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01324">creature.h:1324</a></div></div>
<div class="ttc" id="aclassCreature_html_a17d04695b45ce48064d39ba9f4118f55"><div class="ttname"><a href="classCreature.html#a17d04695b45ce48064d39ba9f4118f55">Creature::deal_damage_handle_type</a></div><div class="ttdeci">virtual void deal_damage_handle_type(const effect_source &amp;source, const damage_unit &amp;du, bodypart_id bp, int &amp;damage, int &amp;pain)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01270">creature.cpp:1270</a></div></div>
<div class="ttc" id="aclassmonster_html_aa438b330dcce731464afb38f2597e374"><div class="ttname"><a href="classmonster.html#aa438b330dcce731464afb38f2597e374">monster::is_immune_damage</a></div><div class="ttdeci">bool is_immune_damage(const damage_type_id &amp;) const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01829">monster.cpp:1829</a></div></div>
<div class="ttc" id="aclassmonster_html_ad077f15b8dd09041e41c7bf8b61ddd0b"><div class="ttname"><a href="classmonster.html#ad077f15b8dd09041e41c7bf8b61ddd0b">monster::make_bleed</a></div><div class="ttdeci">void make_bleed(const effect_source &amp;source, time_duration duration, int intensity=1, bool permanent=false, bool force=false, bool defferred=false)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01849">monster.cpp:1849</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a157369b3ee1f3f5a889eb1d42ed97638"><div class="ttname"><a href="monster_8cpp.html#a157369b3ee1f3f5a889eb1d42ed97638">damage_bash</a></div><div class="ttdeci">static const damage_type_id damage_bash(&quot;bash&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a35045bcfd0e1c55fb7e9b88d8e36a614"><div class="ttname"><a href="monster_8cpp.html#a35045bcfd0e1c55fb7e9b88d8e36a614">damage_bullet</a></div><div class="ttdeci">static const damage_type_id damage_bullet(&quot;bullet&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_af87d0e11009031a09f917068f8cc0357"><div class="ttname"><a href="mtype_8cpp.html#af87d0e11009031a09f917068f8cc0357">mon_flag_PLASTIC</a></div><div class="ttdeci">mon_flag_id mon_flag_PLASTIC</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00131">mtype.cpp:131</a></div></div>
<div class="ttc" id="astructdamage__type_html_a11443d56f5134114d7ab862fabb9b23f"><div class="ttname"><a href="structdamage__type.html#a11443d56f5134114d7ab862fabb9b23f">damage_type::edged</a></div><div class="ttdeci">bool edged</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00042">damage.h:42</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a86471803f7e56a7064bedd8da78672ee"><div class="ttname"><a href="structdamage__unit.html#a86471803f7e56a7064bedd8da78672ee">damage_unit::unconditional_damage_mult</a></div><div class="ttdeci">float unconditional_damage_mult</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00118">damage.h:118</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a8c5cf76dd074bd5dac9b76aaece0ecf4"><div class="ttname"><a href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_unit::damage_multiplier</a></div><div class="ttdeci">float damage_multiplier</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00115">damage.h:115</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="damage_8h_source.html#l00112">damage_unit::amount</a>, <a class="el" href="creature_8h_source.html#l00238">bp</a>, <a class="el" href="monster_8cpp.html#a157369b3ee1f3f5a889eb1d42ed97638">damage_bash</a>, <a class="el" href="monster_8cpp.html#a35045bcfd0e1c55fb7e9b88d8e36a614">damage_bullet</a>, <a class="el" href="damage_8h_source.html#l00115">damage_unit::damage_multiplier</a>, <a class="el" href="creature_8cpp_source.html#l01270">Creature::deal_damage_handle_type()</a>, <a class="el" href="damage_8h_source.html#l00042">damage_type::edged</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="monster_8cpp_source.html#l01829">is_immune_damage()</a>, <a class="el" href="monster_8cpp_source.html#l01849">make_bleed()</a>, <a class="el" href="mtype_8cpp_source.html#l00131">mon_flag_PLASTIC</a>, <a class="el" href="creature_8h_source.html#l01324">Creature::pain</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="damage_8h_source.html#l00111">damage_unit::type</a>, and <a class="el" href="damage_8h_source.html#l00118">damage_unit::unconditional_damage_mult</a>.</p>

</div>
</div>
<a id="ab21a4fc3d7798d421d25fa4f7879743c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab21a4fc3d7798d421d25fa4f7879743c">&#9670;&nbsp;</a></span>deal_projectile_attack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::deal_projectile_attack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdealt__projectile__attack.html">dealt_projectile_attack</a> &amp;&#160;</td>
          <td class="paramname"><em>attack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>print_messages</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structweakpoint__attack.html">weakpoint_attack</a> &amp;&#160;</td>
          <td class="paramname"><em>wp_attack</em> = <code><a class="el" href="structweakpoint__attack.html">weakpoint_attack</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempts to harm a creature with a projectile. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>Pointer to the creature who shot the projectile. </td></tr>
    <tr><td class="paramname">attack</td><td>A structure describing the attack and its results. </td></tr>
    <tr><td class="paramname">print_messages</td><td>enables message printing by default. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classCreature.html#a16fbfd5268fd73935e5211bc1fa08617">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02097">2097</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;{</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    <span class="keyword">const</span> <a class="code" href="structprojectile.html">projectile</a> &amp;proj = <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.proj;</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <span class="keywordtype">double</span> &amp;missed_by = <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.missed_by; <span class="comment">// We can change this here</span></div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> = proj.<a class="code" href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">proj_effects</a>;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160; </div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="comment">// Whip has a chance to scare wildlife even if it misses</span></div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>.count( <span class="stringliteral">&quot;WHIP&quot;</span> ) &amp;&amp; <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aeebf67c43c3b36c41ca358952714ac20">in_category</a>( <span class="stringliteral">&quot;WILDLIFE&quot;</span> ) &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;        <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a74225467d1c09c7a6a7c659ee0139257">effect_run</a>, <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 3_turns, 5_turns ) );</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    }</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160; </div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    <span class="keywordflow">if</span>( missed_by &gt; 1.0 ) {</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;        <span class="comment">// Total miss</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    }</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160; </div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    <span class="comment">// if it&#39;s a headshot with no head, make it not a headshot</span></div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;    <span class="keywordflow">if</span>( missed_by &lt; <a class="code" href="game__constants_8h.html#a28bc26eb7169a2ca7040c7b6a915c63f">accuracy_headshot</a> &amp;&amp; <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a5c8755079b845db4b61e50c1419f7bb4">mon_flag_NOHEAD</a> ) ) {</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;        missed_by = <a class="code" href="game__constants_8h.html#a28bc26eb7169a2ca7040c7b6a915c63f">accuracy_headshot</a>;</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    }</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160; </div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <a class="code" href="classCreature.html#a16fbfd5268fd73935e5211bc1fa08617">Creature::deal_projectile_attack</a>( source, <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>, print_messages, wp_attack );</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160; </div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() &amp;&amp; <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.hit_critter == <span class="keyword">this</span> ) {</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;        <span class="comment">// Maybe TODO: Get difficulty from projectile speed/size/missed_by</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;        <a class="code" href="classmonster.html#aa5864ff57cc2915379bb5e644aa8d25a">on_hit</a>( source, <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), INT_MIN, &amp;<a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> );</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    }</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;}</div>
<div class="ttc" id="abodypart_8h_html_a426444e2d486ce1ee315d8b8acc86b40"><div class="ttname"><a href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a></div><div class="ttdeci">int_id&lt; body_part_type &gt; bodypart_id</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00032">bodypart.h:32</a></div></div>
<div class="ttc" id="aclassCreature_html_a16fbfd5268fd73935e5211bc1fa08617"><div class="ttname"><a href="classCreature.html#a16fbfd5268fd73935e5211bc1fa08617">Creature::deal_projectile_attack</a></div><div class="ttdeci">virtual void deal_projectile_attack(Creature *source, dealt_projectile_attack &amp;attack, bool print_messages=true, const weakpoint_attack &amp;wp_attack=weakpoint_attack())</div><div class="ttdoc">Attempts to harm a creature with a projectile.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01121">creature.cpp:1121</a></div></div>
<div class="ttc" id="aclassmonster_html_aa5864ff57cc2915379bb5e644aa8d25a"><div class="ttname"><a href="classmonster.html#aa5864ff57cc2915379bb5e644aa8d25a">monster::on_hit</a></div><div class="ttdeci">void on_hit(Creature *source, bodypart_id bp_hit, float difficulty=INT_MIN, dealt_projectile_attack const *proj=nullptr) override</div><div class="ttdoc">This creature just got hit by an attack - possibly special/ranged attack - from source.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03679">monster.cpp:3679</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a28bc26eb7169a2ca7040c7b6a915c63f"><div class="ttname"><a href="game__constants_8h.html#a28bc26eb7169a2ca7040c7b6a915c63f">accuracy_headshot</a></div><div class="ttdeci">constexpr double accuracy_headshot</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00129">game_constants.h:129</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a74225467d1c09c7a6a7c659ee0139257"><div class="ttname"><a href="monster_8cpp.html#a74225467d1c09c7a6a7c659ee0139257">effect_run</a></div><div class="ttdeci">static const efftype_id effect_run(&quot;run&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_a5c8755079b845db4b61e50c1419f7bb4"><div class="ttname"><a href="mtype_8cpp.html#a5c8755079b845db4b61e50c1419f7bb4">mon_flag_NOHEAD</a></div><div class="ttdeci">mon_flag_id mon_flag_NOHEAD</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00114">mtype.cpp:114</a></div></div>
<div class="ttc" id="astructmtype_html_aeebf67c43c3b36c41ca358952714ac20"><div class="ttname"><a href="structmtype.html#aeebf67c43c3b36c41ca358952714ac20">mtype::in_category</a></div><div class="ttdeci">bool in_category(const std::string &amp;category) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00380">mtype.cpp:380</a></div></div>
<div class="ttc" id="astructprojectile_html"><div class="ttname"><a href="structprojectile.html">projectile</a></div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00017">projectile.h:17</a></div></div>
<div class="ttc" id="astructprojectile_html_a4536010a51aee3302d749f2eb4dcaf35"><div class="ttname"><a href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">projectile::proj_effects</a></div><div class="ttdeci">std::set&lt; std::string &gt; proj_effects</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00033">projectile.h:33</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game__constants_8h_source.html#l00129">accuracy_headshot</a>, <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00581">spell_effect::attack()</a>, <a class="el" href="creature_8cpp_source.html#l01121">Creature::deal_projectile_attack()</a>, <a class="el" href="monster_8cpp.html#a74225467d1c09c7a6a7c659ee0139257">effect_run</a>, <a class="el" href="creature_8h_source.html#l01204">Creature::effects</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="mtype_8cpp_source.html#l00380">mtype::in_category()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="mtype_8cpp_source.html#l00114">mon_flag_NOHEAD</a>, <a class="el" href="monster_8cpp_source.html#l03679">on_hit()</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="projectile_8h_source.html#l00033">projectile::proj_effects</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

</div>
</div>
<a id="a4417ce9e2648a4667f0d4e358caf4e9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4417ce9e2648a4667f0d4e358caf4e9b">&#9670;&nbsp;</a></span>deserialize() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::deserialize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l02394">2394</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;{</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;    data.<a class="code" href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">allow_omitted_members</a>();</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;    <a class="code" href="classmonster.html#ae0b147164500bfd61e71d94ce5b745c6">load</a>( data );</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;}</div>
<div class="ttc" id="aclassJsonObject_html_ae00f195360e3783cf50527cf07344202"><div class="ttname"><a href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">JsonObject::allow_omitted_members</a></div><div class="ttdeci">void allow_omitted_members() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00662">flexbuffer_json.h:662</a></div></div>
<div class="ttc" id="aclassmonster_html_ae0b147164500bfd61e71d94ce5b745c6"><div class="ttname"><a href="classmonster.html#ae0b147164500bfd61e71d94ce5b745c6">monster::load</a></div><div class="ttdeci">void load(const JsonObject &amp;data)</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l02421">savegame_json.cpp:2421</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__pocket_8h_source.html#l00409">item_pocket::data</a>, and <a class="el" href="ammo__effect_8cpp_source.html#l00151">ammo_effects::load()</a>.</p>

<p class="reference">Referenced by <a class="el" href="savegame_8cpp_source.html#l01360">mongroup::deserialize_legacy()</a>, and <a class="el" href="savegame_8cpp_source.html#l00403">overmap::unserialize()</a>.</p>

</div>
</div>
<a id="a7c6ac316e3184b7c42d2319ae6432aa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c6ac316e3184b7c42d2319ae6432aa6">&#9670;&nbsp;</a></span>deserialize() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::deserialize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#ae72b84003f239e5e878a036da3758331">tripoint_abs_sm</a> &amp;&#160;</td>
          <td class="paramname"><em>submap_loc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l02388">2388</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;{</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    data.<a class="code" href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">allow_omitted_members</a>();</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <a class="code" href="classmonster.html#ae0b147164500bfd61e71d94ce5b745c6">load</a>( data, submap_loc );</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__pocket_8h_source.html#l00409">item_pocket::data</a>, and <a class="el" href="ammo__effect_8cpp_source.html#l00151">ammo_effects::load()</a>.</p>

</div>
</div>
<a id="a82ae41773b05af94d4b678cb33bfb329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82ae41773b05af94d4b678cb33bfb329">&#9670;&nbsp;</a></span>die()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::die </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> *&#160;</td>
          <td class="paramname"><em>killer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Empty function. </p>
<p>Should always be overwritten by the appropriate player/NPC/monster version. </p>

<p>Implements <a class="el" href="classCreature.html#a330dad28f732a1cf3af695eedb54877d">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02742">2742</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;{</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa2dfdd8d67d988b02c1bba9410df7f79">dead</a> ) {</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;        <span class="comment">// We are already dead, don&#39;t die again, note that monster::dead is</span></div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;        <span class="comment">// *only* set to true in this function!</span></div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    }</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;    <span class="comment">// We were carrying a creature, deposit the rider</span></div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a> ) &amp;&amp; <a class="code" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a> ) {</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;        <a class="code" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a>-&gt;<a class="code" href="classCharacter.html#a85a591640ed5dec800bd4e6e42241fbf">forced_dismount</a>();</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    }</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;set_critter_died();</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    <a class="code" href="classmonster.html#aa2dfdd8d67d988b02c1bba9410df7f79">dead</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;    <a class="code" href="classCreature.html#ad88ff594784edeceaef456d2a08180bc">set_killer</a>( nkiller );</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a3175e1b479b42298f197f5a41de45f50">get_killer</a>() != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;        <a class="code" href="classCharacter.html">Character</a> *ch = <a class="code" href="classCreature.html#a3175e1b479b42298f197f5a41de45f50">get_killer</a>()-&gt;<a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>();</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;        <span class="keywordflow">if</span>( ch == <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="classCreature.html#a3175e1b479b42298f197f5a41de45f50">get_killer</a>()-&gt;<a class="code" href="classCreature.html#ae26f38c57c1d967a803a80cb3a3703bf">get_summoner</a>() != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;            ch = <a class="code" href="classCreature.html#a3175e1b479b42298f197f5a41de45f50">get_killer</a>()-&gt;<a class="code" href="classCreature.html#ae26f38c57c1d967a803a80cb3a3703bf">get_summoner</a>()-&gt;<a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>();</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;        }</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() &amp;&amp; ch != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;            <a class="code" href="classcata_1_1event.html">cata::event</a> e = cata::event::make&lt;event_type::character_kills_monster&gt;( ch-&gt;<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>(), <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a>,</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;                            <a class="code" href="monster_8cpp.html#ae80dcac509bbf15f9cb908c96d92a82a">compute_kill_xp</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a> ) );</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;            <a class="code" href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a>().<a class="code" href="classevent__bus.html#a29fab483aed46dcf2697e6e504e685dc">send_with_talker</a>( ch, <span class="keyword">this</span>, e );</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;            <span class="keywordflow">if</span>( ch-&gt;<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() &amp;&amp; ch-&gt;<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="monster_8cpp.html#a79d0578dfe3d1e27332b119e515f47fb">trait_KILLER</a> ) ) {</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) ) {</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classtranslation.html">translation</a> snip = <a class="code" href="text__snippets_8cpp.html#ac3fc11c159cd056aa15ad7c0b37b070a">SNIPPET</a>.<a class="code" href="classsnippet__library.html#a685c0168b039e17ca677a61e21900fe1">random_from_category</a>( <span class="stringliteral">&quot;killer_on_kill&quot;</span> ).value_or( <a class="code" href="classtranslation.html">translation</a>() );</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;                    ch-&gt;<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <span class="stringliteral">&quot;%s&quot;</span>, snip );</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;                }</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;                ch-&gt;<a class="code" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code" href="morale__types_8cpp.html#a4e8d644af53e8dc8a533a1d87bf0436e">MORALE_KILLER_HAS_KILLED</a>, 5, 10, 6_hours, 4_hours );</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;                ch-&gt;<a class="code" href="classCharacter.html#a2725bcbfa9e92e0590930e6a8e35764c">rem_morale</a>( <a class="code" href="morale__types_8cpp.html#ab3ea25f36d96c3b70cbab34075f62a05">MORALE_KILLER_NEED_TO_KILL</a> );</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;            }</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;        }</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;    }</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;    <a class="code" href="classcreature__tracker.html">creature_tracker</a> &amp;creatures = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>();</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#aed2af9ad3e8abd06b3c3c4f1adaf607e">has_effect_with_flag</a>( <a class="code" href="monster_8cpp.html#a2724a97ce27ac9050939a55314eab590">json_flag_GRAB_FILTER</a> ) ) {</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;        <span class="comment">// Need to filter out which limb we were grabbing before death</span></div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;player_pos : here.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 1, 0 ) ) {</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;            <a class="code" href="classCreature.html">Creature</a> *you = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( player_pos );</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;            <span class="keywordflow">if</span>( !you || !you-&gt;<a class="code" href="classCreature.html#aed2af9ad3e8abd06b3c3c4f1adaf607e">has_effect_with_flag</a>( <a class="code" href="monster_8cpp.html#ab41f4e77a586e85f347f7151266b9dd5">json_flag_GRAB</a> ) ) {</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;            }</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;            <span class="comment">// ...but if there are no grabbers around we can just skip to the end</span></div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;            <span class="keywordtype">bool</span> grabbed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;mon_pos : here.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( player_pos, 1, 0 ) ) {</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;                <span class="keyword">const</span> <a class="code" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>&lt;<a class="code" href="classmonster.html">monster</a>&gt;( mon_pos );</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;                <span class="comment">// No persisting our grabs from beyond the grave, but we also don&#39;t get to remove the effect early</span></div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;                <span class="keywordflow">if</span>( mon &amp;&amp; mon-&gt;<a class="code" href="classCreature.html#aed2af9ad3e8abd06b3c3c4f1adaf607e">has_effect_with_flag</a>( <a class="code" href="monster_8cpp.html#a2724a97ce27ac9050939a55314eab590">json_flag_GRAB_FILTER</a> ) &amp;&amp; mon != this ) {</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;                    grabbed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;                }</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;            }</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;            <span class="keywordflow">if</span>( !grabbed ) {</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;                you-&gt;<a class="code" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The last enemy holding you collapses!&quot;</span> ),</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;                                            <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The last enemy holding &lt;npcname&gt; collapses!&quot;</span> ) );</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;                <span class="comment">// A loop for safety</span></div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classeffect.html">effect</a> &amp;<a class="code" href="structgrab.html">grab</a> : you-&gt;<a class="code" href="classCreature.html#a952f5a3103775159e193c6ee4e60979b">get_effects_with_flag</a>( <a class="code" href="monster_8cpp.html#ab41f4e77a586e85f347f7151266b9dd5">json_flag_GRAB</a> ) ) {</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;                    you-&gt;<a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="structgrab.html">grab</a>.get_id() );</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;                }</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;            }</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;            <span class="comment">// Iterate through all your grabs to figure out which one this critter held</span></div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classeffect.html">effect</a> &amp;<a class="code" href="structgrab.html">grab</a> : you-&gt;<a class="code" href="classCreature.html#a952f5a3103775159e193c6ee4e60979b">get_effects_with_flag</a>( <a class="code" href="monster_8cpp.html#ab41f4e77a586e85f347f7151266b9dd5">json_flag_GRAB</a> ) ) {</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a1ff84827bdbc7ba7be2fffb53f5362e6">is_grabbing</a>( <a class="code" href="structgrab.html">grab</a>.get_bp().id() ) ) {</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classeffect__type.html">effect_type</a> effid = *<a class="code" href="structgrab.html">grab</a>.get_effect_type();</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;                    you-&gt;<a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( effid.<a class="code" href="classeffect__type.html#a5ae803354ca113811c3f83c81b55f6d2">id</a>, <a class="code" href="structgrab.html">grab</a>.get_bp() );</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;                }</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;            }</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;        }</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    }</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160; </div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    <span class="comment">// If we&#39;re a queen, make nearby groups of our type start to die out</span></div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() &amp;&amp; <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#aa03ff0de8ff0fccbe3aedafcef1c5153">mon_flag_QUEEN</a> ) ) {</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;        <span class="comment">// The submap coordinates of this monster, monster groups coordinates are</span></div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;        <span class="comment">// submap coordinates.</span></div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;        <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> abssub = <a class="code" href="coordinate__conversions_8cpp.html#aab2861adbce30d229bf852df21a98c1a">ms_to_sm_copy</a>( here.<a class="code" href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">getabs</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) );</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;        <span class="comment">// Do it for overmap above/below too</span></div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : <a class="code" href="map__iterator_8h.html#a93494cda6db06e3f43ea14c7a545d481">points_in_radius</a>( abssub, <a class="code" href="game__constants_8h.html#a41d31e40567ae144c0030655557a2786">HALF_MAPSIZE</a>, 1 ) ) {</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;            <span class="comment">// TODO: fix point types</span></div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="structmongroup.html">mongroup</a> *&amp;mgp : <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a253d0dc3e3f98001281afc4e04036364">groups_at</a>( <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_sm</a>( p ) ) ) {</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classMonsterGroupManager.html#acc4506e3d4c7ee1f10b0fd26a5b073f2">MonsterGroupManager::IsMonsterInGroup</a>( mgp-&gt;type, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a> ) ) {</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;                    mgp-&gt;dying = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;                }</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;            }</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;        }</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;    }</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;    <a class="code" href="classmission.html#a98418c7b7ca4d3b352a0f254ec29f13e">mission::on_creature_death</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160; </div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;    <span class="comment">// Hallucinations always just disappear</span></div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;        <a class="code" href="namespacemdeath.html#ac27195b77b85342701b88d9b2ce64386">mdeath::disappear</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    }</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160; </div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( *<span class="keyword">this</span>, <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a94a1701130aa6390b0c90c02e03e1f5c">mdeath_effect</a>.<a class="code" href="structmonster__death__effect.html#a0d58152e84e6967db17b746f491e31c4">death_message</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>(), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160; </div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a94a1701130aa6390b0c90c02e03e1f5c">mdeath_effect</a>.<a class="code" href="structmonster__death__effect.html#ad8f12dd6268f0663ebdbd1a9b19b9f4a">has_effect</a> ) {</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;        <span class="comment">//Not a hallucination, go process the death effects.</span></div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;        <a class="code" href="classspell.html">spell</a> death_spell = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a94a1701130aa6390b0c90c02e03e1f5c">mdeath_effect</a>.<a class="code" href="structmonster__death__effect.html#a2524271a206a0ee10b5c06ecffe4fe4d">sp</a>.<a class="code" href="structfake__spell.html#ad4f9daba773dc6b7b96dcc256e9213ad">get_spell</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a> != <span class="keyword">nullptr</span> &amp;&amp; !<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a94a1701130aa6390b0c90c02e03e1f5c">mdeath_effect</a>.<a class="code" href="structmonster__death__effect.html#a2524271a206a0ee10b5c06ecffe4fe4d">sp</a>.<a class="code" href="structfake__spell.html#afa2a4b38d223f38100fb8148d92fca2a">self</a> &amp;&amp;</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;            death_spell.<a class="code" href="classspell.html#a2d25bed9a9b942e4ada705b79dc43158">is_target_in_range</a>( *<span class="keyword">this</span>, <a class="code" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a>-&gt;<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ) {</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;            death_spell.<a class="code" href="classspell.html#a0752e28bd2c982a681521d2012eec12d">cast_all_effects</a>( *<span class="keyword">this</span>, <a class="code" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a>-&gt;<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a94a1701130aa6390b0c90c02e03e1f5c">mdeath_effect</a>.<a class="code" href="structmonster__death__effect.html#a2524271a206a0ee10b5c06ecffe4fe4d">sp</a>.<a class="code" href="structfake__spell.html#afa2a4b38d223f38100fb8148d92fca2a">self</a> ) {</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;            death_spell.<a class="code" href="classspell.html#a0752e28bd2c982a681521d2012eec12d">cast_all_effects</a>( *<span class="keyword">this</span>, <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;        }</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;    }</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160; </div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a94a1701130aa6390b0c90c02e03e1f5c">mdeath_effect</a>.<a class="code" href="structmonster__death__effect.html#ae122c46aab67c8148814010de55021c2">eoc</a>.has_value() ) {</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;        <span class="comment">//Not a hallucination, go process the death effects.</span></div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a94a1701130aa6390b0c90c02e03e1f5c">mdeath_effect</a>.<a class="code" href="structmonster__death__effect.html#ae122c46aab67c8148814010de55021c2">eoc</a>.value().is_valid() ) {</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;            <a class="code" href="structdialogue.html">dialogue</a> d( <a class="code" href="avatar_8cpp.html#a75dcf1534079311161f26d7250306379">get_talker_for</a>( *<span class="keyword">this</span> ), <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;            <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a94a1701130aa6390b0c90c02e03e1f5c">mdeath_effect</a>.<a class="code" href="structmonster__death__effect.html#ae122c46aab67c8148814010de55021c2">eoc</a>.value()-&gt;activate( d );</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;eoc id %s is not valid&quot;</span>, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a94a1701130aa6390b0c90c02e03e1f5c">mdeath_effect</a>.<a class="code" href="structmonster__death__effect.html#ae122c46aab67c8148814010de55021c2">eoc</a>.value().str() );</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;        }</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    }</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160; </div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    <span class="comment">// scale overkill damage by enchantments</span></div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;    <span class="keywordflow">if</span>( nkiller &amp;&amp; ( nkiller-&gt;is_npc() || nkiller-&gt;is_avatar() ) ) {</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;        <span class="keywordtype">int</span> current_hp = <a class="code" href="classmonster.html#a2801a2f23fcaf2199b904c8bbf9fcab0">get_hp</a>();</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;        current_hp = nkiller-&gt;as_character()-&gt;enchantment_cache-&gt;modify_value(</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;                         <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998a24c594985d74f80d0b47dcface72795a">enchant_vals::mod::OVERKILL_DAMAGE</a>, current_hp );</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;        <a class="code" href="classmonster.html#a98c421c82c34706735f13afe25ea7f1f">set_hp</a>( current_hp );</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;    }</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160; </div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;    <a class="code" href="classitem__location.html">item_location</a> <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>;</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;    <span class="comment">// drop a corpse, or not - this needs to happen after the spell, for e.g. revivification effects</span></div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;    <span class="keywordflow">switch</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a94a1701130aa6390b0c90c02e03e1f5c">mdeath_effect</a>.<a class="code" href="structmonster__death__effect.html#a8d11a19c5ebde258793a69b8197a9771">corpse_type</a> ) {</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mtype_8h.html#a529bb2576f3511524ca9d0d0e1f71572a1e23852820b9154316c7c06e2b7ba051">mdeath_type::NORMAL</a>:</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;            <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a> =  <a class="code" href="namespacemdeath.html#a84f51fdc6327bc0b3b1d0d1b73d24941">mdeath::normal</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mtype_8h.html#a529bb2576f3511524ca9d0d0e1f71572a10c4a304905dd48439743b393540ce88">mdeath_type::BROKEN</a>:</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;            <a class="code" href="namespacemdeath.html#afbcbee418575a523796f99175fb037ec">mdeath::broken</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="mtype_8h.html#a529bb2576f3511524ca9d0d0e1f71572a51fa607aee3f4f9a876128686a968f1b">mdeath_type::SPLATTER</a>:</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;            <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a> = <a class="code" href="namespacemdeath.html#a8bab598444dfe854cae516fc0276dbb3">mdeath::splatter</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;    }</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160; </div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#af8ac8dd571acf81aad0df01924d335c6">death_drops</a> ) {</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;        <span class="comment">// Drop items stored in optionals</span></div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;        <a class="code" href="classmonster.html#a9e56ec847ba2c6c33f61e3a176747fb5">move_special_item_to_inv</a>( <a class="code" href="classmonster.html#a662acdf990147854bad39a7c128afcaa">tack_item</a> );</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;        <a class="code" href="classmonster.html#a9e56ec847ba2c6c33f61e3a176747fb5">move_special_item_to_inv</a>( <a class="code" href="classmonster.html#ae152269bc060756feb09757c9f8c3f0c">armor_item</a> );</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;        <a class="code" href="classmonster.html#a9e56ec847ba2c6c33f61e3a176747fb5">move_special_item_to_inv</a>( <a class="code" href="classmonster.html#ab0eaba81bb3c25eecea173d9074f5521">storage_item</a> );</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;        <a class="code" href="classmonster.html#a9e56ec847ba2c6c33f61e3a176747fb5">move_special_item_to_inv</a>( <a class="code" href="classmonster.html#a2881507933646bca97ef83c7112595ac">tied_item</a> );</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160; </div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#ae940cd81463820c5f0fc145179c7c386">effect_heavysnare</a> ) ) {</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;            <a class="code" href="classmonster.html#a6a50c1ca1b7405a717c95bac530e9e07">add_item</a>( <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( <span class="stringliteral">&quot;rope_6&quot;</span>, <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> ) );</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;            <a class="code" href="classmonster.html#a6a50c1ca1b7405a717c95bac530e9e07">add_item</a>( <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( <span class="stringliteral">&quot;snare_trigger&quot;</span>, <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> ) );</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;        }</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;    }</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160; </div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#af8ac8dd571acf81aad0df01924d335c6">death_drops</a> &amp;&amp; !<a class="code" href="classmonster.html#a2f9d03ffee51f0193855490a75511596">no_extra_death_drops</a> ) {</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;        <a class="code" href="classmonster.html#a1485d4a5c67b12d76d055afd699a85f2">drop_items_on_death</a>( <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.get_item() );</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;        <a class="code" href="classmonster.html#af42a60922d1d070414fa6ca7e8a1f282">spawn_dissectables_on_death</a>( <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.get_item() );</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;    }</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#af8ac8dd571acf81aad0df01924d335c6">death_drops</a> &amp;&amp; !<a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it : <a class="code" href="classmonster.html#a275d73e1bf3d08e2ea1a0704ac898f7e">inv</a> ) {</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;            <span class="keywordflow">if</span>( it.has_var( <span class="stringliteral">&quot;DESTROY_ITEM_ON_MON_DEATH&quot;</span> ) ) {</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;            }</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a> ) {</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;                <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>-&gt;force_insert_item( it, <a class="code" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9bbab5f947b9e3fbb8a399ecc257459b">pocket_type::CONTAINER</a> );</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;                <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), it );</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;            }</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;        }</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it : <a class="code" href="classmonster.html#a465028b1b8fcd3e2f397549f02cb1719">dissectable_inv</a> ) {</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a> ) {</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;                <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>-&gt;put_in( it, <a class="code" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1afd1267e84434bdbba6fd4fa7f869117d">pocket_type::CORPSE</a> );</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;                <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#af79fb1f952314ecb64890590c91cf5a8">add_item</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), it );</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;            }</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;        }</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    }</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a> ) {</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;        <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>-&gt;process( <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>(), <span class="keyword">nullptr</span>, <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.position() );</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;        <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.make_active();</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;    }</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160; </div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;    <span class="comment">// Adjust anger/morale of nearby monsters, if they have the appropriate trigger and are friendly</span></div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;    <span class="comment">// Keep filtering on the dying monsters&#39; triggers to preserve current functionality</span></div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;    <span class="keywordtype">bool</span> trigger = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a1591b72595720ef740301a72139f13d5">has_anger_trigger</a>( <a class="code" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913a30aa938c0d683c26afe2a8716217480f">mon_trigger::FRIEND_DIED</a> ) ||</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;                   <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a4ffaeffe120b5fe20ecfb1f5764234f8">has_fear_trigger</a>( <a class="code" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913a30aa938c0d683c26afe2a8716217480f">mon_trigger::FRIEND_DIED</a> ) ||</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;                   <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a03912692fa8faeb80dfd1b5fb007408e">has_placate_trigger</a>( <a class="code" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913a30aa938c0d683c26afe2a8716217480f">mon_trigger::FRIEND_DIED</a> );</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160; </div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    <span class="keywordflow">if</span>( trigger ) {</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">light</a> = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;light_level( <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() );</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;        <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classmonster.html">monster</a> &amp;critter : <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_monsters() ) {</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;            <span class="comment">// Do we actually care about this faction?</span></div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;            <span class="keywordflow">if</span>( critter.faction-&gt;attitude( <a class="code" href="classfaction.html">faction</a> ) != <a class="code" href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0a8baef7717ecdcd96e64dca04ab2b4c97">MFA_FRIENDLY</a> ) {</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;            }</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160; </div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;            <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aa8a67baac3cc72b2f5fbd669894587a0">sees</a>( critter.pos(), <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">light</a> ) ) {</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;                <span class="comment">// Anger trumps fear trumps ennui</span></div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;                <span class="keywordflow">if</span>( critter.type-&gt;has_anger_trigger( <a class="code" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913a30aa938c0d683c26afe2a8716217480f">mon_trigger::FRIEND_DIED</a> ) ) {</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;                    critter.anger += 15;</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;                    <span class="keywordflow">if</span>( nkiller != <span class="keyword">nullptr</span> &amp;&amp; !nkiller-&gt;is_monster() &amp;&amp; !nkiller-&gt;is_fake() ) {</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;                        <span class="comment">// A character killed our friend</span></div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;                        <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>, <span class="stringliteral">&quot;%s&#39;s character aggro triggered by killing a friendly %s&quot;</span>,</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;                                       critter.name(), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;                        critter.aggro_character = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;                    }</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( critter.type-&gt;has_fear_trigger( <a class="code" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913a30aa938c0d683c26afe2a8716217480f">mon_trigger::FRIEND_DIED</a> ) ) {</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;                    critter.morale -= 15;</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( critter.type-&gt;has_placate_trigger( <a class="code" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913a30aa938c0d683c26afe2a8716217480f">mon_trigger::FRIEND_DIED</a> ) ) {</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;                    critter.anger -= 15;</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;                }</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;            }</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;        }</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    }</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;}</div>
<div class="ttc" id="aactive__item__cache_8h_html_acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f"><div class="ttname"><a href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">special_item_type::corpse</a></div><div class="ttdeci">@ corpse</div></div>
<div class="ttc" id="aavatar_8cpp_html_a75dcf1534079311161f26d7250306379"><div class="ttname"><a href="avatar_8cpp.html#a75dcf1534079311161f26d7250306379">get_talker_for</a></div><div class="ttdeci">std::unique_ptr&lt; talker &gt; get_talker_for(avatar &amp;me)</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l01795">avatar.cpp:1795</a></div></div>
<div class="ttc" id="aclassCharacter_html_a2725bcbfa9e92e0590930e6a8e35764c"><div class="ttname"><a href="classCharacter.html#a2725bcbfa9e92e0590930e6a8e35764c">Character::rem_morale</a></div><div class="ttdeci">void rem_morale(const morale_type &amp;type, const itype *item_type=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="character__morale_8cpp_source.html#l00154">character_morale.cpp:154</a></div></div>
<div class="ttc" id="aclassCharacter_html_a85a591640ed5dec800bd4e6e42241fbf"><div class="ttname"><a href="classCharacter.html#a85a591640ed5dec800bd4e6e42241fbf">Character::forced_dismount</a></div><div class="ttdeci">void forced_dismount()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01737">character.cpp:1737</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab6b6b317ae10bfb8f358fe289d645c96"><div class="ttname"><a href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">Character::add_morale</a></div><div class="ttdeci">void add_morale(const morale_type &amp;type, int bonus, int max_bonus=0, const time_duration &amp;duration=1_hours, const time_duration &amp;decay_start=30_minutes, bool capped=false, const itype *item_type=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="character__morale_8cpp_source.html#l00142">character_morale.cpp:142</a></div></div>
<div class="ttc" id="aclassCharacter_html_adb54bdcb284abb66b6be99c8ae225065"><div class="ttname"><a href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">Character::getID</a></div><div class="ttdeci">character_id getID() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00652">character.cpp:652</a></div></div>
<div class="ttc" id="aclassCharacter_html_af0503012f1ff927cbb5ad126e39cb103"><div class="ttname"><a href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">Character::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00856">character.cpp:856</a></div></div>
<div class="ttc" id="aclassCharacter_html_af06dd97724f4f05df782e7a4b4f9cfe1"><div class="ttname"><a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">Character::has_trait</a></div><div class="ttdeci">bool has_trait(const trait_id &amp;b) const override</div><div class="ttdoc">Returns true if the player has the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00111">mutation.cpp:111</a></div></div>
<div class="ttc" id="aclassCreature_html_a1c6d98c5a339561c989ba3e1ca34eeb8"><div class="ttname"><a href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">Creature::remove_effect</a></div><div class="ttdeci">bool remove_effect(const efftype_id &amp;eff_id, const bodypart_id &amp;bp)</div><div class="ttdoc">Removes a listed effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01722">creature.cpp:1722</a></div></div>
<div class="ttc" id="aclassCreature_html_a3175e1b479b42298f197f5a41de45f50"><div class="ttname"><a href="classCreature.html#a3175e1b479b42298f197f5a41de45f50">Creature::get_killer</a></div><div class="ttdeci">virtual Creature * get_killer() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02026">creature.cpp:2026</a></div></div>
<div class="ttc" id="aclassCreature_html_a55d12f92d62a7c89c44b466d7e7cb00d"><div class="ttname"><a href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">Creature::as_character</a></div><div class="ttdeci">virtual Character * as_character()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00274">creature.h:274</a></div></div>
<div class="ttc" id="aclassCreature_html_a7cf71d2bd6c350f2ceda3f1d64046e63"><div class="ttname"><a href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">Creature::add_msg_player_or_npc</a></div><div class="ttdeci">virtual void add_msg_player_or_npc(const std::string &amp;, const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01060">creature.h:1060</a></div></div>
<div class="ttc" id="aclassCreature_html_a952f5a3103775159e193c6ee4e60979b"><div class="ttname"><a href="classCreature.html#a952f5a3103775159e193c6ee4e60979b">Creature::get_effects_with_flag</a></div><div class="ttdeci">std::vector&lt; std::reference_wrapper&lt; const effect &gt; &gt; get_effects_with_flag(const flag_id &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01808">creature.cpp:1808</a></div></div>
<div class="ttc" id="aclassCreature_html_ae26f38c57c1d967a803a80cb3a3703bf"><div class="ttname"><a href="classCreature.html#ae26f38c57c1d967a803a80cb3a3703bf">Creature::get_summoner</a></div><div class="ttdeci">Creature * get_summoner() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02060">creature.cpp:2060</a></div></div>
<div class="ttc" id="aclassCreature_html_aed2af9ad3e8abd06b3c3c4f1adaf607e"><div class="ttname"><a href="classCreature.html#aed2af9ad3e8abd06b3c3c4f1adaf607e">Creature::has_effect_with_flag</a></div><div class="ttdeci">bool has_effect_with_flag(const flag_id &amp;flag, const bodypart_id &amp;bp) const</div><div class="ttdoc">Check if creature has any effect with the given flag.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01792">creature.cpp:1792</a></div></div>
<div class="ttc" id="aclassCreature_html_af4d6d569180f457e7d2294946eaf7563"><div class="ttname"><a href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">Creature::killer</a></div><div class="ttdeci">Creature * killer</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01194">creature.h:1194</a></div></div>
<div class="ttc" id="aclassMonsterGroupManager_html_acc4506e3d4c7ee1f10b0fd26a5b073f2"><div class="ttname"><a href="classMonsterGroupManager.html#acc4506e3d4c7ee1f10b0fd26a5b073f2">MonsterGroupManager::IsMonsterInGroup</a></div><div class="ttdeci">static bool IsMonsterInGroup(const mongroup_id &amp;group, const mtype_id &amp;monster)</div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8cpp_source.html#l00309">mongroup.cpp:309</a></div></div>
<div class="ttc" id="aclasscata_1_1event_html"><div class="ttname"><a href="classcata_1_1event.html">cata::event</a></div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00923">event.h:924</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::abs, coords::sm &gt;</a></div></div>
<div class="ttc" id="aclasseffect__type_html"><div class="ttname"><a href="classeffect__type.html">effect_type</a></div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00104">effect.h:105</a></div></div>
<div class="ttc" id="aclasseffect__type_html_a5ae803354ca113811c3f83c81b55f6d2"><div class="ttname"><a href="classeffect__type.html#a5ae803354ca113811c3f83c81b55f6d2">effect_type::id</a></div><div class="ttdeci">efftype_id id</div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00116">effect.h:116</a></div></div>
<div class="ttc" id="aclasseffect_html"><div class="ttname"><a href="classeffect.html">effect</a></div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00260">effect.h:261</a></div></div>
<div class="ttc" id="aclassevent__bus_html_a29fab483aed46dcf2697e6e504e685dc"><div class="ttname"><a href="classevent__bus.html#a29fab483aed46dcf2697e6e504e685dc">event_bus::send_with_talker</a></div><div class="ttdeci">void send_with_talker(Creature *, Creature *, const cata::event &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="event__bus_8cpp_source.html#l00085">event_bus.cpp:85</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00028">item_location.h:29</a></div></div>
<div class="ttc" id="aclassmap_html_a4f5f812d7e89a998429958573a4c340f"><div class="ttname"><a href="classmap.html#a4f5f812d7e89a998429958573a4c340f">map::points_in_radius</a></div><div class="ttdeci">tripoint_range&lt; tripoint &gt; points_in_radius(const tripoint &amp;center, size_t radius, size_t radiusz=0) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l10109">map.cpp:10109</a></div></div>
<div class="ttc" id="aclassmap_html_a501f3a1d449ac022f1b36b99da653e94"><div class="ttname"><a href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">map::getabs</a></div><div class="ttdeci">tripoint getabs(const tripoint &amp;p) const</div><div class="ttdoc">Translates local (to this map) coordinates of a square to global absolute coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09614">map.cpp:9614</a></div></div>
<div class="ttc" id="aclassmap_html_a5579e13088b4ccd9c5a75458919d528a"><div class="ttname"><a href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">map::add_item_or_charges</a></div><div class="ttdeci">item &amp; add_item_or_charges(const tripoint &amp;pos, item obj, bool overflow=true)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05177">map.cpp:5177</a></div></div>
<div class="ttc" id="aclassmap_html_aa8a67baac3cc72b2f5fbd669894587a0"><div class="ttname"><a href="classmap.html#aa8a67baac3cc72b2f5fbd669894587a0">map::sees</a></div><div class="ttdeci">bool sees(const tripoint &amp;F, const tripoint &amp;T, int range, bool with_fields=true) const</div><div class="ttdoc">Returns whether F sees T with a view range of range.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07377">map.cpp:7377</a></div></div>
<div class="ttc" id="aclassmap_html_af79fb1f952314ecb64890590c91cf5a8"><div class="ttname"><a href="classmap.html#af79fb1f952314ecb64890590c91cf5a8">map::add_item</a></div><div class="ttdeci">item &amp; add_item(const tripoint &amp;p, item new_item, int copies)</div><div class="ttdoc">Place an item on the map, despite the parameter name, this is not necessarily a new item.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05329">map.cpp:5329</a></div></div>
<div class="ttc" id="aclassmission_html_a98418c7b7ca4d3b352a0f254ec29f13e"><div class="ttname"><a href="classmission.html#a98418c7b7ca4d3b352a0f254ec29f13e">mission::on_creature_death</a></div><div class="ttdeci">static void on_creature_death(Creature &amp;poor_dead_dude)</div><div class="ttdoc">various callbacks from events that may affect all missions</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00160">mission.cpp:160</a></div></div>
<div class="ttc" id="aclassmonster_html_a1485d4a5c67b12d76d055afd699a85f2"><div class="ttname"><a href="classmonster.html#a1485d4a5c67b12d76d055afd699a85f2">monster::drop_items_on_death</a></div><div class="ttdeci">void drop_items_on_death(item *corpse)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03016">monster.cpp:3016</a></div></div>
<div class="ttc" id="aclassmonster_html_a1ff84827bdbc7ba7be2fffb53f5362e6"><div class="ttname"><a href="classmonster.html#a1ff84827bdbc7ba7be2fffb53f5362e6">monster::is_grabbing</a></div><div class="ttdeci">bool is_grabbing(bodypart_str_id bp)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02519">monster.cpp:2519</a></div></div>
<div class="ttc" id="aclassmonster_html_a465028b1b8fcd3e2f397549f02cb1719"><div class="ttname"><a href="classmonster.html#a465028b1b8fcd3e2f397549f02cb1719">monster::dissectable_inv</a></div><div class="ttdeci">std::vector&lt; item &gt; dissectable_inv</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00525">monster.h:525</a></div></div>
<div class="ttc" id="aclassmonster_html_a6a50c1ca1b7405a717c95bac530e9e07"><div class="ttname"><a href="classmonster.html#a6a50c1ca1b7405a717c95bac530e9e07">monster::add_item</a></div><div class="ttdeci">void add_item(const item &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03455">monster.cpp:3455</a></div></div>
<div class="ttc" id="aclassmonster_html_a98c421c82c34706735f13afe25ea7f1f"><div class="ttname"><a href="classmonster.html#a98c421c82c34706735f13afe25ea7f1f">monster::set_hp</a></div><div class="ttdeci">void set_hp(int hp)</div><div class="ttdoc">Directly set the current hp of the monster (not capped at the maximal hp).</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02164">monster.cpp:2164</a></div></div>
<div class="ttc" id="aclassmonster_html_a9e56ec847ba2c6c33f61e3a176747fb5"><div class="ttname"><a href="classmonster.html#a9e56ec847ba2c6c33f61e3a176747fb5">monster::move_special_item_to_inv</a></div><div class="ttdeci">void move_special_item_to_inv(cata::value_ptr&lt; item &gt; &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03572">monster.cpp:3572</a></div></div>
<div class="ttc" id="aclassmonster_html_aa07ebef40819868b9f7a86383d6cd8c3"><div class="ttname"><a href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">monster::mounted_player</a></div><div class="ttdeci">Character * mounted_player</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00526">monster.h:526</a></div></div>
<div class="ttc" id="aclassmonster_html_ab0eaba81bb3c25eecea173d9074f5521"><div class="ttname"><a href="classmonster.html#ab0eaba81bb3c25eecea173d9074f5521">monster::storage_item</a></div><div class="ttdeci">cata::value_ptr&lt; item &gt; storage_item</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00532">monster.h:532</a></div></div>
<div class="ttc" id="aclassmonster_html_af42a60922d1d070414fa6ca7e8a1f282"><div class="ttname"><a href="classmonster.html#af42a60922d1d070414fa6ca7e8a1f282">monster::spawn_dissectables_on_death</a></div><div class="ttdeci">void spawn_dissectables_on_death(item *corpse)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03081">monster.cpp:3081</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a253d0dc3e3f98001281afc4e04036364"><div class="ttname"><a href="classovermapbuffer.html#a253d0dc3e3f98001281afc4e04036364">overmapbuffer::groups_at</a></div><div class="ttdeci">std::vector&lt; mongroup * &gt; groups_at(const tripoint_abs_sm &amp;p)</div><div class="ttdoc">Monster groups at p - absolute submap coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00647">overmapbuffer.cpp:647</a></div></div>
<div class="ttc" id="aclasssnippet__library_html_a685c0168b039e17ca677a61e21900fe1"><div class="ttname"><a href="classsnippet__library.html#a685c0168b039e17ca677a61e21900fe1">snippet_library::random_from_category</a></div><div class="ttdeci">std::optional&lt; translation &gt; random_from_category(const std::string &amp;cat) const</div><div class="ttdoc">Returns a random snippet out of the given category.</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00286">text_snippets.cpp:286</a></div></div>
<div class="ttc" id="aclassspell_html"><div class="ttname"><a href="classspell.html">spell</a></div><div class="ttdef"><b>Definition:</b> <a href="magic_8h_source.html#l00421">magic.h:422</a></div></div>
<div class="ttc" id="aclassspell_html_a0752e28bd2c982a681521d2012eec12d"><div class="ttname"><a href="classspell.html#a0752e28bd2c982a681521d2012eec12d">spell::cast_all_effects</a></div><div class="ttdeci">void cast_all_effects(Creature &amp;source, const tripoint &amp;target) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01833">magic.cpp:1833</a></div></div>
<div class="ttc" id="aclassspell_html_a2d25bed9a9b942e4ada705b79dc43158"><div class="ttname"><a href="classspell.html#a2d25bed9a9b942e4ada705b79dc43158">spell::is_target_in_range</a></div><div class="ttdeci">bool is_target_in_range(const Creature &amp;caster, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01464">magic.cpp:1464</a></div></div>
<div class="ttc" id="aclasstranslation_html"><div class="ttname"><a href="classtranslation.html">translation</a></div><div class="ttdoc">Class for storing translation context and raw string for deferred translation.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8h_source.html#l00017">translation.h:18</a></div></div>
<div class="ttc" id="aclasstranslation_html_a30b5b9d586c786942c2321701a53e572"><div class="ttname"><a href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translation::translated</a></div><div class="ttdeci">std::string translated(int num=1) const</div><div class="ttdoc">Returns raw string if no translation is needed, otherwise returns the translated string.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8cpp_source.html#l00294">translation.cpp:294</a></div></div>
<div class="ttc" id="acoordinate__conversions_8cpp_html_aab2861adbce30d229bf852df21a98c1a"><div class="ttname"><a href="coordinate__conversions_8cpp.html#aab2861adbce30d229bf852df21a98c1a">ms_to_sm_copy</a></div><div class="ttdeci">point ms_to_sm_copy(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="coordinate__conversions_8cpp_source.html#l00125">coordinate_conversions.cpp:125</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a></div><div class="ttdeci">@ m_good</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00347">enums.h:347</a></div></div>
<div class="ttc" id="aevent__bus_8h_html_a4f760194b9225ccf92a1419748def636"><div class="ttname"><a href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a></div><div class="ttdeci">event_bus &amp; get_event_bus()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13832">game.cpp:13832</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a41d31e40567ae144c0030655557a2786"><div class="ttname"><a href="game__constants_8h.html#a41d31e40567ae144c0030655557a2786">HALF_MAPSIZE</a></div><div class="ttdeci">constexpr int HALF_MAPSIZE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00038">game_constants.h:38</a></div></div>
<div class="ttc" id="amap__iterator_8h_html_a93494cda6db06e3f43ea14c7a545d481"><div class="ttname"><a href="map__iterator_8h.html#a93494cda6db06e3f43ea14c7a545d481">points_in_radius</a></div><div class="ttdeci">tripoint_range&lt; Tripoint &gt; points_in_radius(const Tripoint &amp;center, const int radius, const int radiusz=0)</div><div class="ttdef"><b>Definition:</b> <a href="map__iterator_8h_source.html#l00154">map_iterator.h:154</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a2724a97ce27ac9050939a55314eab590"><div class="ttname"><a href="monster_8cpp.html#a2724a97ce27ac9050939a55314eab590">json_flag_GRAB_FILTER</a></div><div class="ttdeci">static const flag_id json_flag_GRAB_FILTER(&quot;GRAB_FILTER&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a79d0578dfe3d1e27332b119e515f47fb"><div class="ttname"><a href="monster_8cpp.html#a79d0578dfe3d1e27332b119e515f47fb">trait_KILLER</a></div><div class="ttdeci">static const trait_id trait_KILLER(&quot;KILLER&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a7c7651a289cc19a34456c213eeb46edc"><div class="ttname"><a href="monster_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a></div><div class="ttdeci">static const efftype_id effect_ridden(&quot;ridden&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ab41f4e77a586e85f347f7151266b9dd5"><div class="ttname"><a href="monster_8cpp.html#ab41f4e77a586e85f347f7151266b9dd5">json_flag_GRAB</a></div><div class="ttdeci">static const flag_id json_flag_GRAB(&quot;GRAB&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ae80dcac509bbf15f9cb908c96d92a82a"><div class="ttname"><a href="monster_8cpp.html#ae80dcac509bbf15f9cb908c96d92a82a">compute_kill_xp</a></div><div class="ttdeci">static int compute_kill_xp(const mtype_id &amp;mon_type)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00222">monster.cpp:222</a></div></div>
<div class="ttc" id="amorale__types_8cpp_html_a4e8d644af53e8dc8a533a1d87bf0436e"><div class="ttname"><a href="morale__types_8cpp.html#a4e8d644af53e8dc8a533a1d87bf0436e">MORALE_KILLER_HAS_KILLED</a></div><div class="ttdeci">const morale_type MORALE_KILLER_HAS_KILLED(&quot;morale_killer_has_killed&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_ab3ea25f36d96c3b70cbab34075f62a05"><div class="ttname"><a href="morale__types_8cpp.html#ab3ea25f36d96c3b70cbab34075f62a05">MORALE_KILLER_NEED_TO_KILL</a></div><div class="ttdeci">const morale_type MORALE_KILLER_NEED_TO_KILL(&quot;morale_killer_need_to_kill&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_aa03ff0de8ff0fccbe3aedafcef1c5153"><div class="ttname"><a href="mtype_8cpp.html#aa03ff0de8ff0fccbe3aedafcef1c5153">mon_flag_QUEEN</a></div><div class="ttdeci">mon_flag_id mon_flag_QUEEN</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00136">mtype.cpp:136</a></div></div>
<div class="ttc" id="amtype_8h_html_a3bf0d3734009dbabe39a0d9fad3a5913a30aa938c0d683c26afe2a8716217480f"><div class="ttname"><a href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913a30aa938c0d683c26afe2a8716217480f">mon_trigger::FRIEND_DIED</a></div><div class="ttdeci">@ FRIEND_DIED</div></div>
<div class="ttc" id="amtype_8h_html_a529bb2576f3511524ca9d0d0e1f71572a10c4a304905dd48439743b393540ce88"><div class="ttname"><a href="mtype_8h.html#a529bb2576f3511524ca9d0d0e1f71572a10c4a304905dd48439743b393540ce88">mdeath_type::BROKEN</a></div><div class="ttdeci">@ BROKEN</div></div>
<div class="ttc" id="amtype_8h_html_a529bb2576f3511524ca9d0d0e1f71572a1e23852820b9154316c7c06e2b7ba051"><div class="ttname"><a href="mtype_8h.html#a529bb2576f3511524ca9d0d0e1f71572a1e23852820b9154316c7c06e2b7ba051">mdeath_type::NORMAL</a></div><div class="ttdeci">@ NORMAL</div></div>
<div class="ttc" id="amtype_8h_html_a529bb2576f3511524ca9d0d0e1f71572a51fa607aee3f4f9a876128686a968f1b"><div class="ttname"><a href="mtype_8h.html#a529bb2576f3511524ca9d0d0e1f71572a51fa607aee3f4f9a876128686a968f1b">mdeath_type::SPLATTER</a></div><div class="ttdeci">@ SPLATTER</div></div>
<div class="ttc" id="anamespaceenchant__vals_html_acd6a6ebb27f9ecb82b3bce1d3aef2998a24c594985d74f80d0b47dcface72795a"><div class="ttname"><a href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998a24c594985d74f80d0b47dcface72795a">enchant_vals::mod::OVERKILL_DAMAGE</a></div><div class="ttdeci">@ OVERKILL_DAMAGE</div></div>
<div class="ttc" id="anamespacemdeath_html_a84f51fdc6327bc0b3b1d0d1b73d24941"><div class="ttname"><a href="namespacemdeath.html#a84f51fdc6327bc0b3b1d0d1b73d24941">mdeath::normal</a></div><div class="ttdeci">item_location normal(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00059">mondeath.cpp:59</a></div></div>
<div class="ttc" id="anamespacemdeath_html_a8bab598444dfe854cae516fc0276dbb3"><div class="ttname"><a href="namespacemdeath.html#a8bab598444dfe854cae516fc0276dbb3">mdeath::splatter</a></div><div class="ttdeci">item_location splatter(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00139">mondeath.cpp:139</a></div></div>
<div class="ttc" id="anamespacemdeath_html_ac27195b77b85342701b88d9b2ce64386"><div class="ttname"><a href="namespacemdeath.html#ac27195b77b85342701b88d9b2ce64386">mdeath::disappear</a></div><div class="ttdeci">void disappear(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00213">mondeath.cpp:213</a></div></div>
<div class="ttc" id="anamespacemdeath_html_afbcbee418575a523796f99175fb037ec"><div class="ttname"><a href="namespacemdeath.html#afbcbee418575a523796f99175fb037ec">mdeath::broken</a></div><div class="ttdeci">void broken(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00220">mondeath.cpp:220</a></div></div>
<div class="ttc" id="aovermapbuffer_8cpp_html_ab3cf8344ec3e473f9ce96a33dc3425af"><div class="ttname"><a href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a></div><div class="ttdeci">overmapbuffer overmap_buffer</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00051">overmapbuffer.cpp:51</a></div></div>
<div class="ttc" id="apocket__type_8h_html_af41ed729a50321996f6fa60225086cf1a9bbab5f947b9e3fbb8a399ecc257459b"><div class="ttname"><a href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9bbab5f947b9e3fbb8a399ecc257459b">pocket_type::CONTAINER</a></div><div class="ttdeci">@ CONTAINER</div></div>
<div class="ttc" id="apocket__type_8h_html_af41ed729a50321996f6fa60225086cf1afd1267e84434bdbba6fd4fa7f869117d"><div class="ttname"><a href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1afd1267e84434bdbba6fd4fa7f869117d">pocket_type::CORPSE</a></div><div class="ttdeci">@ CORPSE</div></div>
<div class="ttc" id="astructdialogue_html"><div class="ttname"><a href="structdialogue.html">dialogue</a></div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00184">dialogue.h:184</a></div></div>
<div class="ttc" id="astructfake__spell_html_ad4f9daba773dc6b7b96dcc256e9213ad"><div class="ttname"><a href="structfake__spell.html#ad4f9daba773dc6b7b96dcc256e9213ad">fake_spell::get_spell</a></div><div class="ttdeci">spell get_spell(const Creature &amp;caster, int min_level_override=0) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l03023">magic.cpp:3023</a></div></div>
<div class="ttc" id="astructfake__spell_html_afa2a4b38d223f38100fb8148d92fca2a"><div class="ttname"><a href="structfake__spell.html#afa2a4b38d223f38100fb8148d92fca2a">fake_spell::self</a></div><div class="ttdeci">bool self</div><div class="ttdef"><b>Definition:</b> <a href="magic_8h_source.html#l00155">magic.h:155</a></div></div>
<div class="ttc" id="astructgrab_html"><div class="ttname"><a href="structgrab.html">grab</a></div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00075">mattack_actors.h:75</a></div></div>
<div class="ttc" id="astructmongroup_html"><div class="ttname"><a href="structmongroup.html">mongroup</a></div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8h_source.html#l00108">mongroup.h:108</a></div></div>
<div class="ttc" id="astructmonster__death__effect_html_a0d58152e84e6967db17b746f491e31c4"><div class="ttname"><a href="structmonster__death__effect.html#a0d58152e84e6967db17b746f491e31c4">monster_death_effect::death_message</a></div><div class="ttdeci">translation death_message</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00258">mtype.h:258</a></div></div>
<div class="ttc" id="astructmonster__death__effect_html_a2524271a206a0ee10b5c06ecffe4fe4d"><div class="ttname"><a href="structmonster__death__effect.html#a2524271a206a0ee10b5c06ecffe4fe4d">monster_death_effect::sp</a></div><div class="ttdeci">fake_spell sp</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00256">mtype.h:256</a></div></div>
<div class="ttc" id="astructmonster__death__effect_html_a8d11a19c5ebde258793a69b8197a9771"><div class="ttname"><a href="structmonster__death__effect.html#a8d11a19c5ebde258793a69b8197a9771">monster_death_effect::corpse_type</a></div><div class="ttdeci">mdeath_type corpse_type</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00259">mtype.h:259</a></div></div>
<div class="ttc" id="astructmonster__death__effect_html_ad8f12dd6268f0663ebdbd1a9b19b9f4a"><div class="ttname"><a href="structmonster__death__effect.html#ad8f12dd6268f0663ebdbd1a9b19b9f4a">monster_death_effect::has_effect</a></div><div class="ttdeci">bool has_effect</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00255">mtype.h:255</a></div></div>
<div class="ttc" id="astructmonster__death__effect_html_ae122c46aab67c8148814010de55021c2"><div class="ttname"><a href="structmonster__death__effect.html#ae122c46aab67c8148814010de55021c2">monster_death_effect::eoc</a></div><div class="ttdeci">std::optional&lt; effect_on_condition_id &gt; eoc</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00257">mtype.h:257</a></div></div>
<div class="ttc" id="astructmtype_html_a03912692fa8faeb80dfd1b5fb007408e"><div class="ttname"><a href="structmtype.html#a03912692fa8faeb80dfd1b5fb007408e">mtype::has_placate_trigger</a></div><div class="ttdeci">bool has_placate_trigger(mon_trigger trigger) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00375">mtype.cpp:375</a></div></div>
<div class="ttc" id="astructmtype_html_a1591b72595720ef740301a72139f13d5"><div class="ttname"><a href="structmtype.html#a1591b72595720ef740301a72139f13d5">mtype::has_anger_trigger</a></div><div class="ttdeci">bool has_anger_trigger(mon_trigger trigger) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00365">mtype.cpp:365</a></div></div>
<div class="ttc" id="astructmtype_html_a4ffaeffe120b5fe20ecfb1f5764234f8"><div class="ttname"><a href="structmtype.html#a4ffaeffe120b5fe20ecfb1f5764234f8">mtype::has_fear_trigger</a></div><div class="ttdeci">bool has_fear_trigger(mon_trigger trigger) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00370">mtype.cpp:370</a></div></div>
<div class="ttc" id="astructmtype_html_a94a1701130aa6390b0c90c02e03e1f5c"><div class="ttname"><a href="structmtype.html#a94a1701130aa6390b0c90c02e03e1f5c">mtype::mdeath_effect</a></div><div class="ttdeci">monster_death_effect mdeath_effect</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00399">mtype.h:399</a></div></div>
<div class="ttc" id="atext__snippets_8cpp_html_ac3fc11c159cd056aa15ad7c0b37b070a"><div class="ttname"><a href="text__snippets_8cpp.html#ac3fc11c159cd056aa15ad7c0b37b070a">SNIPPET</a></div><div class="ttdeci">snippet_library SNIPPET</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00015">text_snippets.cpp:15</a></div></div>
<div class="ttc" id="aweather__type_8h_html_a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3"><div class="ttname"><a href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">precip_class::light</a></div><div class="ttdeci">@ light</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="monster_8cpp_source.html#l03455">add_item()</a>, <a class="el" href="map_8cpp_source.html#l05329">map::add_item()</a>, <a class="el" href="map_8cpp_source.html#l05177">map::add_item_or_charges()</a>, <a class="el" href="character__morale_8cpp_source.html#l00142">Character::add_morale()</a>, <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="character_8cpp_source.html#l00856">Character::add_msg_if_player()</a>, <a class="el" href="messages_8cpp_source.html#l01007">add_msg_if_player_sees()</a>, <a class="el" href="creature_8h_source.html#l01060">Creature::add_msg_player_or_npc()</a>, <a class="el" href="monster_8h_source.html#l00531">armor_item</a>, <a class="el" href="creature_8h_source.html#l00274">Creature::as_character()</a>, <a class="el" href="mondeath_8cpp_source.html#l00220">mdeath::broken()</a>, <a class="el" href="mtype_8h.html#a529bb2576f3511524ca9d0d0e1f71572a10c4a304905dd48439743b393540ce88">BROKEN</a>, <a class="el" href="magic_8cpp_source.html#l01833">spell::cast_all_effects()</a>, <a class="el" href="monster_8cpp_source.html#l00222">compute_kill_xp()</a>, <a class="el" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9bbab5f947b9e3fbb8a399ecc257459b">CONTAINER</a>, <a class="el" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>, <a class="el" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1afd1267e84434bdbba6fd4fa7f869117d">CORPSE</a>, <a class="el" href="mtype_8h_source.html#l00259">monster_death_effect::corpse_type</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="monster_8h_source.html#l00619">dead</a>, <a class="el" href="monster_8h_source.html#l00556">death_drops</a>, <a class="el" href="mtype_8h_source.html#l00258">monster_death_effect::death_message</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="debug_8h_source.html#l00265">debugmode::DF_MONSTER</a>, <a class="el" href="mondeath_8cpp_source.html#l00213">mdeath::disappear()</a>, <a class="el" href="monster_8h_source.html#l00525">dissectable_inv</a>, <a class="el" href="monster_8cpp_source.html#l03016">drop_items_on_death()</a>, <a class="el" href="monster_8cpp.html#ae940cd81463820c5f0fc145179c7c386">effect_heavysnare</a>, <a class="el" href="monster_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a>, <a class="el" href="character_8h_source.html#l04105">Character::enchantment_cache</a>, <a class="el" href="mtype_8h_source.html#l00257">monster_death_effect::eoc</a>, <a class="el" href="character_8cpp_source.html#l01737">Character::forced_dismount()</a>, <a class="el" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913a30aa938c0d683c26afe2a8716217480f">FRIEND_DIED</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="creature_8cpp_source.html#l01808">Creature::get_effects_with_flag()</a>, <a class="el" href="game_8cpp_source.html#l13832">get_event_bus()</a>, <a class="el" href="monster_8cpp_source.html#l03748">get_hp()</a>, <a class="el" href="creature_8cpp_source.html#l02026">Creature::get_killer()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="magic_8cpp_source.html#l03023">fake_spell::get_spell()</a>, <a class="el" href="creature_8cpp_source.html#l02060">Creature::get_summoner()</a>, <a class="el" href="avatar_8cpp_source.html#l01795">get_talker_for()</a>, <a class="el" href="map_8cpp_source.html#l09614">map::getabs()</a>, <a class="el" href="character_8cpp_source.html#l00652">Character::getID()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00647">overmapbuffer::groups_at()</a>, <a class="el" href="game__constants_8h_source.html#l00038">HALF_MAPSIZE</a>, <a class="el" href="mtype_8cpp_source.html#l00365">mtype::has_anger_trigger()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="mtype_8h_source.html#l00255">monster_death_effect::has_effect</a>, <a class="el" href="creature_8cpp_source.html#l01792">Creature::has_effect_with_flag()</a>, <a class="el" href="mtype_8cpp_source.html#l00370">mtype::has_fear_trigger()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="mtype_8cpp_source.html#l00375">mtype::has_placate_trigger()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="effect_8h_source.html#l00116">effect_type::id</a>, <a class="el" href="mtype_8h_source.html#l00301">mtype::id</a>, <a class="el" href="monster_8h_source.html#l00524">inv</a>, <a class="el" href="creature_8h_source.html#l00265">Creature::is_avatar()</a>, <a class="el" href="creature_8cpp_source.html#l01518">Creature::is_fake()</a>, <a class="el" href="monster_8cpp_source.html#l02519">is_grabbing()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="creature_8h_source.html#l00271">Creature::is_monster()</a>, <a class="el" href="creature_8h_source.html#l00268">Creature::is_npc()</a>, <a class="el" href="magic_8cpp_source.html#l01464">spell::is_target_in_range()</a>, <a class="el" href="mongroup_8cpp_source.html#l00309">MonsterGroupManager::IsMonsterInGroup()</a>, <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>, <a class="el" href="monster_8cpp.html#ab41f4e77a586e85f347f7151266b9dd5">json_flag_GRAB</a>, <a class="el" href="monster_8cpp.html#a2724a97ce27ac9050939a55314eab590">json_flag_GRAB_FILTER</a>, <a class="el" href="creature_8h_source.html#l01194">Creature::killer</a>, <a class="el" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">light</a>, <a class="el" href="enums_8h_source.html#l00347">m_good</a>, <a class="el" href="mtype_8h_source.html#l00399">mtype::mdeath_effect</a>, <a class="el" href="monfaction_8h_source.html#l00023">MFA_FRIENDLY</a>, <a class="el" href="mtype_8cpp_source.html#l00136">mon_flag_QUEEN</a>, <a class="el" href="morale__types_8cpp.html#a4e8d644af53e8dc8a533a1d87bf0436e">MORALE_KILLER_HAS_KILLED</a>, <a class="el" href="morale__types_8cpp.html#ab3ea25f36d96c3b70cbab34075f62a05">MORALE_KILLER_NEED_TO_KILL</a>, <a class="el" href="monster_8h_source.html#l00526">mounted_player</a>, <a class="el" href="monster_8cpp_source.html#l03572">move_special_item_to_inv()</a>, <a class="el" href="coordinate__conversions_8cpp_source.html#l00125">ms_to_sm_copy()</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="monster_8h_source.html#l00552">no_extra_death_drops</a>, <a class="el" href="mondeath_8cpp_source.html#l00059">mdeath::normal()</a>, <a class="el" href="mtype_8h.html#a529bb2576f3511524ca9d0d0e1f71572a1e23852820b9154316c7c06e2b7ba051">NORMAL</a>, <a class="el" href="mission_8cpp_source.html#l00160">mission::on_creature_death()</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998a24c594985d74f80d0b47dcface72795a">enchant_vals::OVERKILL_DAMAGE</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00051">overmap_buffer</a>, <a class="el" href="map__iterator_8h_source.html#l00154">points_in_radius()</a>, <a class="el" href="map_8cpp_source.html#l10109">map::points_in_radius()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8h_source.html#l00317">Creature::posz()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00286">snippet_library::random_from_category()</a>, <a class="el" href="character__morale_8cpp_source.html#l00154">Character::rem_morale()</a>, <a class="el" href="creature_8cpp_source.html#l01722">Creature::remove_effect()</a>, <a class="el" href="map_8cpp_source.html#l07377">map::sees()</a>, <a class="el" href="magic_8h_source.html#l00155">fake_spell::self</a>, <a class="el" href="event__bus_8cpp_source.html#l00085">event_bus::send_with_talker()</a>, <a class="el" href="monster_8cpp_source.html#l02164">set_hp()</a>, <a class="el" href="creature_8cpp_source.html#l02031">Creature::set_killer()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00015">SNIPPET</a>, <a class="el" href="mtype_8h_source.html#l00256">monster_death_effect::sp</a>, <a class="el" href="monster_8cpp_source.html#l03081">spawn_dissectables_on_death()</a>, <a class="el" href="mondeath_8cpp_source.html#l00139">mdeath::splatter()</a>, <a class="el" href="mtype_8h.html#a529bb2576f3511524ca9d0d0e1f71572a51fa607aee3f4f9a876128686a968f1b">SPLATTER</a>, <a class="el" href="monster_8h_source.html#l00532">storage_item</a>, <a class="el" href="monster_8h_source.html#l00530">tack_item</a>, <a class="el" href="monster_8h_source.html#l00529">tied_item</a>, <a class="el" href="monster_8cpp.html#a79d0578dfe3d1e27332b119e515f47fb">trait_KILLER</a>, <a class="el" href="translation_8cpp_source.html#l00294">translation::translated()</a>, <a class="el" href="calendar_8h_source.html#l00541">calendar::turn_zero</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="computer__session_8cpp_source.html#l00566">computer_session::action_terminate()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00068">creature_tracker::add()</a>, <a class="el" href="game_8cpp_source.html#l01427">game::catch_a_monster()</a>, <a class="el" href="monattack_8cpp_source.html#l02439">mattack::depart()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00210">talker_monster::die()</a>, <a class="el" href="monmove_8cpp_source.html#l00849">die_if_drowning()</a>, <a class="el" href="monster_8cpp_source.html#l02189">die_in_explosion()</a>, <a class="el" href="iuse_8cpp_source.html#l00665">iuse::fungicide()</a>, <a class="el" href="monattack_8cpp_source.html#l05114">mattack::kamikaze()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00263">creature_tracker::kill_marked_for_death()</a>, <a class="el" href="monmove_8cpp_source.html#l02280">knock_back_to()</a>, <a class="el" href="monster_8cpp_source.html#l01903">melee_attack()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00173">avatar_action::move()</a>, <a class="el" href="monattack_8cpp_source.html#l03033">mattack::photograph()</a>, <a class="el" href="monmove_8cpp_source.html#l02094">push_to()</a>, <a class="el" href="monattack_8cpp_source.html#l05103">mattack::suicide()</a>, <a class="el" href="monster_8cpp_source.html#l00451">try_upgrade()</a>, and <a class="el" href="monattack_8cpp_source.html#l05474">mattack::zombie_fuse()</a>.</p>

</div>
</div>
<a id="a9118d0de36f4dbb72c28cc0832bba897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9118d0de36f4dbb72c28cc0832bba897">&#9670;&nbsp;</a></span>die_if_drowning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::die_if_drowning </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>at_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>chance</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l00849">849</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;{</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aee5ef0428af50c1c78fd68d8c92c98a5">is_aquatic_danger</a>( at_pos ) &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( chance ) ) {</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( at_pos, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s drowns!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <a class="code" href="classmonster.html#a82ae41773b05af94d4b678cb33bfb329">die</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    }</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a82ae41773b05af94d4b678cb33bfb329"><div class="ttname"><a href="classmonster.html#a82ae41773b05af94d4b678cb33bfb329">monster::die</a></div><div class="ttdeci">void die(Creature *killer) override</div><div class="ttdoc">Empty function.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02742">monster.cpp:2742</a></div></div>
<div class="ttc" id="aclassmonster_html_aee5ef0428af50c1c78fd68d8c92c98a5"><div class="ttname"><a href="classmonster.html#aee5ef0428af50c1c78fd68d8c92c98a5">monster::is_aquatic_danger</a></div><div class="ttdeci">bool is_aquatic_danger(const tripoint &amp;at_pos) const</div><div class="ttdoc">Returns true if the given square presents a possibility of drowning for the monster: it's deep water,...</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00841">monmove.cpp:841</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="messages_8cpp_source.html#l01007">add_msg_if_player_sees()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="monmove_8cpp_source.html#l00841">is_aquatic_danger()</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, and <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l02280">knock_back_to()</a>, and <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>.</p>

</div>
</div>
<a id="aee322ddbd0d998f61aa928c4392396e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee322ddbd0d998f61aa928c4392396e8">&#9670;&nbsp;</a></span>die_in_explosion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::die_in_explosion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> *&#160;</td>
          <td class="paramname"><em>source</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02189">2189</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;{</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> = -9999; <span class="comment">// huge to trigger explosion and prevent corpse item</span></div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    <a class="code" href="classmonster.html#a82ae41773b05af94d4b678cb33bfb329">die</a>( source );</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, and <a class="el" href="monster_8h_source.html#l00616">hp</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l05671">game::forced_door_closing()</a>, and <a class="el" href="iuse_8cpp_source.html#l03274">iuse::granade_act()</a>.</p>

</div>
</div>
<a id="aa6e5cda6283d3a6bbf243bafe93ed8d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6e5cda6283d3a6bbf243bafe93ed8d0">&#9670;&nbsp;</a></span>digest_food()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::digest_food </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00659">659</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;{</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> - <a class="code" href="classmonster.html#af2ce96fae9d4693c77d3bd60cee9a452">stomach_timer</a> &gt; 1_days ) {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordflow">if</span>( ( <a class="code" href="classmonster.html#a11074efaf5980ef21e67507fb97232a3">amount_eaten</a> &gt;= <a class="code" href="classmonster.html#aada2988a7383cd60274263184d51303d">stomach_size</a> ) &amp;&amp; !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a40bcaf4d5f2dddb213337b389dc5aacd">effect_critter_underfed</a> ) ) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#ad060c301873debf1b1401edcee21874f">effect_critter_well_fed</a>, 24_hours );</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ( <a class="code" href="classmonster.html#a11074efaf5980ef21e67507fb97232a3">amount_eaten</a> &lt; ( <a class="code" href="classmonster.html#aada2988a7383cd60274263184d51303d">stomach_size</a> / 10 ) ) &amp;&amp; !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#ad060c301873debf1b1401edcee21874f">effect_critter_well_fed</a> ) ) {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a40bcaf4d5f2dddb213337b389dc5aacd">effect_critter_underfed</a>, 24_hours );</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <a class="code" href="classmonster.html#a11074efaf5980ef21e67507fb97232a3">amount_eaten</a> = 0;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <a class="code" href="classmonster.html#af2ce96fae9d4693c77d3bd60cee9a452">stomach_timer</a> = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a11074efaf5980ef21e67507fb97232a3"><div class="ttname"><a href="classmonster.html#a11074efaf5980ef21e67507fb97232a3">monster::amount_eaten</a></div><div class="ttdeci">int amount_eaten</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00543">monster.h:543</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a40bcaf4d5f2dddb213337b389dc5aacd"><div class="ttname"><a href="monster_8cpp.html#a40bcaf4d5f2dddb213337b389dc5aacd">effect_critter_underfed</a></div><div class="ttdeci">static const efftype_id effect_critter_underfed(&quot;critter_underfed&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ad060c301873debf1b1401edcee21874f"><div class="ttname"><a href="monster_8cpp.html#ad060c301873debf1b1401edcee21874f">effect_critter_well_fed</a></div><div class="ttdeci">static const efftype_id effect_critter_well_fed(&quot;critter_well_fed&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="monster_8h_source.html#l00543">amount_eaten</a>, <a class="el" href="monster_8cpp.html#a40bcaf4d5f2dddb213337b389dc5aacd">effect_critter_underfed</a>, <a class="el" href="monster_8cpp.html#ad060c301873debf1b1401edcee21874f">effect_critter_well_fed</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="monster_8h_source.html#l00542">stomach_size</a>, <a class="el" href="monster_8h_source.html#l00629">stomach_timer</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l03858">on_load()</a>, and <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>.</p>

</div>
</div>
<a id="af705eea6e40e12d7866010955602c7b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af705eea6e40e12d7866010955602c7b5">&#9670;&nbsp;</a></span>digging()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::digging </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a4e137a55dbbe37b9656e64f2547cf8da">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01247">1247</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;{</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a22e929800e08d5458140ec4dbaad53a5">digs</a>() || ( <a class="code" href="classmonster.html#a14e16a6d2e0a675a85b8794c8f5114cf">can_dig</a>() &amp;&amp; <a class="code" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a> );</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a0a561860988a2692df47476d9a15511e"><div class="ttname"><a href="classCreature.html#a0a561860988a2692df47476d9a15511e">Creature::underwater</a></div><div class="ttdeci">bool underwater</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00941">creature.h:941</a></div></div>
<div class="ttc" id="aclassmonster_html_a14e16a6d2e0a675a85b8794c8f5114cf"><div class="ttname"><a href="classmonster.html#a14e16a6d2e0a675a85b8794c8f5114cf">monster::can_dig</a></div><div class="ttdeci">bool can_dig() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01252">monster.cpp:1252</a></div></div>
<div class="ttc" id="aclassmonster_html_a22e929800e08d5458140ec4dbaad53a5"><div class="ttname"><a href="classmonster.html#a22e929800e08d5458140ec4dbaad53a5">monster::digs</a></div><div class="ttdeci">bool digs() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01257">monster.cpp:1257</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01252">can_dig()</a>, <a class="el" href="monster_8cpp_source.html#l01257">digs()</a>, and <a class="el" href="creature_8h_source.html#l00941">Creature::underwater</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01186">avoid_trap()</a>, <a class="el" href="monmove_8cpp_source.html#l01575">calc_movecost()</a>, <a class="el" href="monmove_8cpp_source.html#l01428">footsteps()</a>, <a class="el" href="map__field_8cpp_source.html#l01819">map::monster_in_field()</a>, <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, <a class="el" href="ballistics_8cpp_source.html#l00201">projectile_attack()</a>, <a class="el" href="monster_8cpp_source.html#l01285">sight_range()</a>, and <a class="el" href="monmove_8cpp_source.html#l00193">will_move_to()</a>.</p>

</div>
</div>
<a id="a22e929800e08d5458140ec4dbaad53a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22e929800e08d5458140ec4dbaad53a5">&#9670;&nbsp;</a></span>digs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::digs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01257">1257</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;{</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#acfd6bb0b053809a1e42134f8221ffc10">mon_flag_DIGS</a> );</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;}</div>
<div class="ttc" id="amtype_8cpp_html_acfd6bb0b053809a1e42134f8221ffc10"><div class="ttname"><a href="mtype_8cpp.html#acfd6bb0b053809a1e42134f8221ffc10">mon_flag_DIGS</a></div><div class="ttdeci">mon_flag_id mon_flag_DIGS</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00069">mtype.cpp:69</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, and <a class="el" href="mtype_8cpp_source.html#l00069">mon_flag_DIGS</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01247">digging()</a>, <a class="el" href="map__field_8cpp_source.html#l01819">map::monster_in_field()</a>, <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, <a class="el" href="monmove_8cpp_source.html#l00193">will_move_to()</a>, and <a class="el" href="monmove_8cpp_source.html#l02361">will_reach()</a>.</p>

</div>
</div>
<a id="a68ac3a1fd2a1ecf8b80470af3d3d0433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68ac3a1fd2a1ecf8b80470af3d3d0433">&#9670;&nbsp;</a></span>disable_special()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::disable_special </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>special_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the enabled flag for the given special to false. </p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02601">2601</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;{</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.at( special_name ).enabled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00617">special_attacks</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l05334">mattack::grenadier()</a>, <a class="el" href="monattack_8cpp_source.html#l05365">mattack::grenadier_elite()</a>, and <a class="el" href="monattack_8cpp_source.html#l05114">mattack::kamikaze()</a>.</p>

</div>
</div>
<a id="af3444e4763b1dd53e75c5ea50fd8ba9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3444e4763b1dd53e75c5ea50fd8ba9f">&#9670;&nbsp;</a></span>disp_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string monster::disp_name </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>possessive</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>capitalize_first</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00775">775</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;{</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordflow">if</span>( !possessive ) {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( capitalize_first ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;the %s&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( capitalize_first ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s&#39;s&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;the %s&#39;s&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, and <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mondefense_8cpp_source.html#l00090">mdefense::acidsplash()</a>, <a class="el" href="monattack_8cpp_source.html#l02464">blobify()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00269">mon_spellcasting_actor::call()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00673">melee_actor::call()</a>, <a class="el" href="npctalk_8cpp_source.html#l00797">game::chat()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00021">talker_monster_const::disp_name()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00465">melee_actor::do_grab()</a>, <a class="el" href="ballistics_8cpp_source.html#l00047">drop_or_embed_projectile()</a>, <a class="el" href="activity__actor_8cpp_source.html#l05064">shearing_activity_actor::finish()</a>, <a class="el" href="monster_8cpp_source.html#l01903">melee_attack()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00923">melee_actor::on_damage()</a>, <a class="el" href="monmove_8cpp_source.html#l02094">push_to()</a>, <a class="el" href="vehicle__move_8cpp_source.html#l02174">map::shake_vehicle()</a>, <a class="el" href="monmove_8cpp_source.html#l02425">shove_vehicle()</a>, <a class="el" href="map_8cpp_source.html#l08762">map::spawn_monsters_submap_group()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04992">shearing_activity_actor::start()</a>, <a class="el" href="character__escape_8cpp_source.html#l00181">Character::try_remove_grab()</a>, <a class="el" href="bionics_8cpp_source.html#l02214">Character::uninstall_bionic()</a>, and <a class="el" href="creature__tracker_8cpp_source.html#l00109">creature_tracker::update_pos()</a>.</p>

</div>
</div>
<a id="a7b0b1f7ae3356688cdfd9bb84c604289"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b0b1f7ae3356688cdfd9bb84c604289">&#9670;&nbsp;</a></span>dodge_roll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float monster::dodge_roll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a948c33f5a992a7f1b8e4be94688d3dd2">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02489">2489</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;{</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a3b731badad539e0f37595cea907ea256">get_dodge</a>() * 5;</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a3b731badad539e0f37595cea907ea256"><div class="ttname"><a href="classmonster.html#a3b731badad539e0f37595cea907ea256">monster::get_dodge</a></div><div class="ttdeci">float get_dodge() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02465">monster.cpp:2465</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l02465">get_dodge()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l02313">mattack::dermatik()</a>.</p>

</div>
</div>
<a id="a1485d4a5c67b12d76d055afd699a85f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1485d4a5c67b12d76d055afd699a85f2">&#9670;&nbsp;</a></span>drop_items_on_death()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::drop_items_on_death </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>corpse</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03016">3016</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;{</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;    }</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aeaea5cf4a9aa97f5c042b6632aa72f61">death_drops</a>.<a class="code" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;    }</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160; </div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;    std::vector&lt;item&gt; new_items = <a class="code" href="namespaceitem__group.html#a2d51a14b1504b58288fd1b3e5060f528">item_group::items_from</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aeaea5cf4a9aa97f5c042b6632aa72f61">death_drops</a>,</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;                                  <a class="code" href="namespacecalendar.html#a0b28c598688bb85fbe9619baa7edf24b">calendar::start_of_cataclysm</a>,</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;                                  <a class="code" href="item__group_8h.html#a503bb97ffe5855f821f949403cad698eac28a9ccef02070ab726509230c245c2a">spawn_flags::use_spawn_rate</a> );</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160; </div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;e : new_items ) {</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;        e.randomize_rot();</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    }</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160; </div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;    <span class="comment">// for non corpses this is much simpler</span></div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a> ) {</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;it : new_items ) {</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;            <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), it );</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;        }</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;    }</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160; </div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;    <span class="comment">// first put &quot;on&quot; things that are wearable</span></div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;it : new_items ) {</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#adc9c89fb0d54b45b8fa53ef08c799f6c">mon_flag_FILTHY</a> ) ) {</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;            <span class="keywordflow">if</span>( ( it.is_armor() || it.is_pet_armor() ) &amp;&amp; !it.is_gun() ) {</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;                <span class="comment">// handle wearable guns as a special case</span></div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;                it.<a class="code" href="classitem.html#a5b29c86dff457effe5dc4b9e7a24da12">set_flag</a>( <a class="code" href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637">flag_id</a>( <span class="stringliteral">&quot;FILTHY&quot;</span> ) ) );</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;            }</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;        }</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160; </div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;        <span class="comment">// add stuff that could be worn or strapped to the creature</span></div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;        <span class="keywordflow">if</span>( it.is_armor() ) {</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;            <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>-&gt;force_insert_item( it, <a class="code" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9bbab5f947b9e3fbb8a399ecc257459b">pocket_type::CONTAINER</a> );</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;        }</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;    }</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160; </div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;    <span class="comment">// then nest the rest in those &quot;worn&quot; items if possible</span></div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;    <span class="comment">// TODO: disable the backup, only spawn items here that actually fit in something</span></div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;it : new_items ) {</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;        <span class="comment">// add stuff that could be worn or strapped to the creature</span></div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;        <span class="keywordflow">if</span>( !it.is_armor() ) {</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;            std::pair&lt;item_location, item_pocket *&gt; current_best;</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> *worn_it : <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>-&gt;all_items_top() ) {</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;                <a class="code" href="classitem__location.html">item_location</a> loc;</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;                std::pair&lt;item_location, item_pocket *&gt; internal_pocket =</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;                    worn_it-&gt;<a class="code" href="classitem.html#a20204ebe26dfb0b3524bafc9b79d0e97">best_pocket</a>( it, loc, <span class="keyword">nullptr</span>, <span class="keyword">false</span>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;                <span class="keywordflow">if</span>( internal_pocket.second != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;                    ( current_best.second == <span class="keyword">nullptr</span> ||</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;                      current_best.second-&gt;better_pocket( *internal_pocket.second, it ) ) ) {</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;                    current_best = internal_pocket;</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;                }</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;            }</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;            <span class="keywordflow">if</span>( current_best.second != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;                current_best.second-&gt;insert_item( it );</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;                <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>-&gt;force_insert_item( it, <a class="code" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9bbab5f947b9e3fbb8a399ecc257459b">pocket_type::CONTAINER</a> );</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;            }</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;        }</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;    }</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637">cata_variant_type::flag_id</a></div><div class="ttdeci">@ flag_id</div></div>
<div class="ttc" id="aclassitem_html_a20204ebe26dfb0b3524bafc9b79d0e97"><div class="ttname"><a href="classitem.html#a20204ebe26dfb0b3524bafc9b79d0e97">item::best_pocket</a></div><div class="ttdeci">std::pair&lt; item_location, item_pocket * &gt; best_pocket(const item &amp;it, item_location &amp;this_loc, const item *avoid=nullptr, bool allow_sealed=false, bool ignore_settings=false, bool nested=false, bool ignore_rigidity=false)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l10198">item.cpp:10198</a></div></div>
<div class="ttc" id="aclassitem_html_a5b29c86dff457effe5dc4b9e7a24da12"><div class="ttname"><a href="classitem.html#a5b29c86dff457effe5dc4b9e7a24da12">item::set_flag</a></div><div class="ttdeci">item &amp; set_flag(const flag_id &amp;flag)</div><div class="ttdoc">Idempotent filter setting an item specific flag.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07602">item.cpp:7602</a></div></div>
<div class="ttc" id="aitem__group_8h_html_a503bb97ffe5855f821f949403cad698eac28a9ccef02070ab726509230c245c2a"><div class="ttname"><a href="item__group_8h.html#a503bb97ffe5855f821f949403cad698eac28a9ccef02070ab726509230c245c2a">spawn_flags::use_spawn_rate</a></div><div class="ttdeci">@ use_spawn_rate</div></div>
<div class="ttc" id="amake__static_8h_html_ad8ea997925f9b41fffbf138f4c05e09f"><div class="ttname"><a href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a></div><div class="ttdeci">#define STATIC(expr)</div><div class="ttdoc">The purpose of this macro is to provide a concise syntax for creation of inline literals (std::string...</div><div class="ttdef"><b>Definition:</b> <a href="make__static_8h_source.html#l00031">make_static.h:31</a></div></div>
<div class="ttc" id="amtype_8cpp_html_adc9c89fb0d54b45b8fa53ef08c799f6c"><div class="ttname"><a href="mtype_8cpp.html#adc9c89fb0d54b45b8fa53ef08c799f6c">mon_flag_FILTHY</a></div><div class="ttdeci">mon_flag_id mon_flag_FILTHY</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00082">mtype.cpp:82</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a0b28c598688bb85fbe9619baa7edf24b"><div class="ttname"><a href="namespacecalendar.html#a0b28c598688bb85fbe9619baa7edf24b">calendar::start_of_cataclysm</a></div><div class="ttdeci">time_point start_of_cataclysm</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00036">calendar.cpp:36</a></div></div>
<div class="ttc" id="anamespaceitem__group_html_a2d51a14b1504b58288fd1b3e5060f528"><div class="ttname"><a href="namespaceitem__group.html#a2d51a14b1504b58288fd1b3e5060f528">item_group::items_from</a></div><div class="ttdeci">ItemList items_from(const item_group_id &amp;group_id, const time_point &amp;birthday, spawn_flags flags=spawn_flags::none)</div><div class="ttdoc">Create items from the given group.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8cpp_source.html#l00979">item_group.cpp:979</a></div></div>
<div class="ttc" id="astructmtype_html_aeaea5cf4a9aa97f5c042b6632aa72f61"><div class="ttname"><a href="structmtype.html#aeaea5cf4a9aa97f5c042b6632aa72f61">mtype::death_drops</a></div><div class="ttdeci">item_group_id death_drops</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00360">mtype.h:360</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l05177">map::add_item_or_charges()</a>, <a class="el" href="item_8cpp_source.html#l10198">item::best_pocket()</a>, <a class="el" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9bbab5f947b9e3fbb8a399ecc257459b">CONTAINER</a>, <a class="el" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>, <a class="el" href="mtype_8h_source.html#l00360">mtype::death_drops</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637">flag_id</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="string__id_8h_source.html#l00303">string_id&lt; T &gt;::is_empty()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="item__group_8cpp_source.html#l00979">item_group::items_from()</a>, <a class="el" href="mtype_8cpp_source.html#l00082">mon_flag_FILTHY</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="item_8cpp_source.html#l07602">item::set_flag()</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::start_of_cataclysm</a>, <a class="el" href="make__static_8h_source.html#l00031">STATIC</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="item__group_8h.html#a503bb97ffe5855f821f949403cad698eac28a9ccef02070ab726509230c245c2a">use_spawn_rate</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02742">die()</a>.</p>

</div>
</div>
<a id="a4ac04beb9df9783b5b8100c87ea75390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ac04beb9df9783b5b8100c87ea75390">&#9670;&nbsp;</a></span>explode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::explode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02620">2620</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;{</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    <span class="comment">// Handled in mondeath::normal</span></div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    <span class="comment">// +1 to avoid overflow when evaluating -hp</span></div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> = INT_MIN + 1;</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00616">hp</a>.</p>

</div>
</div>
<a id="af51b831fad0abe852f25a0166c421d84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af51b831fad0abe852f25a0166c421d84">&#9670;&nbsp;</a></span>extended_description()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string monster::extended_description </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a37feb3219a76eff04680e05807f1cfd0">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00958">958</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;{</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    std::string ss;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;pc = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> player_knows = !pc.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="monster_8cpp.html#a7f3efc14d34d48d62804d9b8b8e627cc">trait_INATTENTIVE</a> );</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keyword">const</span> std::pair&lt;std::string, nc_color&gt; att = <a class="code" href="classmonster.html#ae808866ea52bc8b079ee607547acfb5f">get_attitude</a>();</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160; </div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    std::string att_colored = <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( att.first, att.second );</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    std::string difficulty_str;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="debug_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a> ) {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        difficulty_str = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Difficulty &quot;</span> ) + <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">std::to_string</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a7f92cbd89d3870833c9d5300acb325a1">difficulty</a> );</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a7f92cbd89d3870833c9d5300acb325a1">difficulty</a> &lt; 3 ) {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            difficulty_str = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_light_gray&gt;Minimal threat.&lt;/color&gt;&quot;</span> );</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a7f92cbd89d3870833c9d5300acb325a1">difficulty</a> &lt; 10 ) {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            difficulty_str = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_light_gray&gt;Mildly dangerous.&lt;/color&gt;&quot;</span> );</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a7f92cbd89d3870833c9d5300acb325a1">difficulty</a> &lt; 20 ) {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            difficulty_str = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_light_red&gt;Dangerous.&lt;/color&gt;&quot;</span> );</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a7f92cbd89d3870833c9d5300acb325a1">difficulty</a> &lt; 30 ) {</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            difficulty_str = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_red&gt;Very dangerous.&lt;/color&gt;&quot;</span> );</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a7f92cbd89d3870833c9d5300acb325a1">difficulty</a> &lt; 50 ) {</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;            difficulty_str = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_red&gt;Extremely dangerous.&lt;/color&gt;&quot;</span> );</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;            difficulty_str = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_red&gt;Fatally dangerous!&lt;/color&gt;&quot;</span> );</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    ss += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Origin: &quot;</span> );</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    ss += <a class="code" href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a2d1d188238745cf6ac334c69be8cd931">src</a>.begin(),</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a2d1d188238745cf6ac334c69be8cd931">src</a>.end(), []( <span class="keyword">const</span> std::pair&lt;mtype_id, mod_id&gt; &amp;source ) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        return string_format( <span class="stringliteral">&quot;&#39;%s&#39;&quot;</span>, source.second-&gt;name() );</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    }, <a class="code" href="output_8h.html#acff0d12357d8a4690e781eed41b36b98a9022a153e6190f10d9b57aa4232b8aea">enumeration_conjunction::arrow</a> );</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    ss += <span class="stringliteral">&quot;\n--\n&quot;</span>;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="debug_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a> ) {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        ss += <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>();</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        ss += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    }</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;This is a %s. %s%s&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(),</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                         player_knows ? att_colored + <span class="stringliteral">&quot; &quot;</span> : std::string(),</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                         difficulty_str ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a33b7b408cf37cf721ff9775c4f137820">get_effect_status</a>().empty() ) {</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;stat&gt;It is %s.&lt;/stat&gt;&quot;</span> ), <a class="code" href="classmonster.html#a33b7b408cf37cf721ff9775c4f137820">get_effect_status</a>() ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    }</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    ss += <span class="stringliteral">&quot;--\n&quot;</span>;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keyword">const</span> std::pair&lt;std::string, nc_color&gt; hp_bar = <a class="code" href="monster_8cpp.html#a023daf33248df92e92fce9b9f4607acc">hp_description</a>( <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a>, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">hp</a> );</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    ss += <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( hp_bar.first, hp_bar.second ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160; </div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keyword">const</span> std::string speed_desc = <a class="code" href="classmonster.html#a8f374ed84027ba4933a19980bfaf2734">speed_description</a>(</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                                       <a class="code" href="classmonster.html#aa726a9074840d376b00a575d4079bcbc">speed_rating</a>(),</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                                       <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#af8eb4198f7564379a407e89c13cdd1b7">mon_flag_IMMOBILE</a> ),</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                                       <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a50af5397af17c8cab22ec136b8fc3252">speed_desc</a> );</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    ss += speed_desc + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    ss += <span class="stringliteral">&quot;--\n&quot;</span>;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&lt;dark&gt;%s&lt;/dark&gt;&quot;</span>, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#abace25d482003f6cfc96e4ef98763eea">get_description</a>() ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    ss += <span class="stringliteral">&quot;--\n&quot;</span>;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#ac18a1fa7e650a4c2d927d666a10f84aa">mission_fused</a>.empty() ) {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <span class="comment">// Mission monsters fused into this monster</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        <span class="keyword">const</span> std::string fused_desc = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Parts of %s protrude from its body.&quot;</span> ),</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                                       <a class="code" href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a>( <a class="code" href="classmonster.html#ac18a1fa7e650a4c2d927d666a10f84aa">mission_fused</a> ) );</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&lt;dark&gt;%s&lt;/dark&gt;&quot;</span>, fused_desc ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        ss += <span class="stringliteral">&quot;--\n&quot;</span>;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    }</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160; </div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;It is %s in size.&quot;</span> ),</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                         <a class="code" href="monster_8cpp.html#a47bbbe195cfd102f5523b5209b233f2c">size_names</a>.at( <a class="code" href="classmonster.html#ab92cac0ecb2b2062fd4f821b671f86ac">get_size</a>() ) ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    std::vector&lt;std::string&gt; types = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a50176acd03d3625f1ea4fe024007f5db">species_descriptions</a>();</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8f4ef7b98c4bad77c50171f7da0f4f56">has_flag</a>( <a class="code" href="mtype_8cpp.html#ad0be009b881f7062bb49061b46ac47c3">mon_flag_ANIMAL</a> ) ) {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        types.emplace_back( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;an animal&quot;</span> ) );</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    }</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordflow">if</span>( !types.empty() ) {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;It is %s.&quot;</span> ),</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                             <a class="code" href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a>( types ) ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keyword">using</span> flag_description = std::pair&lt;const mon_flag_id, std::string&gt;;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> describe_flags = [<span class="keyword">this</span>, &amp;ss](</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                                    <span class="keyword">const</span> std::string_view format,</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                                    <span class="keyword">const</span> std::vector&lt;flag_description&gt; &amp;flags_names,</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keyword">const</span> std::string &amp;if_empty = <span class="stringliteral">&quot;&quot;</span> ) {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        std::string flag_descriptions = <a class="code" href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a>( flags_names.begin(),</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        flags_names.end(), [<span class="keyword">this</span>]( <span class="keyword">const</span> flag_description &amp; fd ) {</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            return type-&gt;has_flag( fd.first ) ? fd.second : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        } );</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="keywordflow">if</span>( !flag_descriptions.empty() ) {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( format, flag_descriptions ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !if_empty.empty() ) {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            ss += if_empty + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    };</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="keyword">using</span> property_description = std::pair&lt;bool, std::string&gt;;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> describe_properties = [&amp;ss](</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                                         <span class="keyword">const</span> std::string_view format,</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                                         <span class="keyword">const</span> std::vector&lt;property_description&gt; &amp;property_names,</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keyword">const</span> std::string &amp;if_empty = <span class="stringliteral">&quot;&quot;</span> ) {</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        std::string property_descriptions = <a class="code" href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a>( property_names.begin(),</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        property_names.end(), []( <span class="keyword">const</span> property_description &amp; pd ) {</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            return pd.first ? pd.second : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        } );</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <span class="keywordflow">if</span>( !property_descriptions.empty() ) {</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( format, property_descriptions ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !if_empty.empty() ) {</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            ss += if_empty + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        }</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    };</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160; </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    describe_flags( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;It has the following senses: %s.&quot;</span> ), {</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        {<a class="code" href="mtype_8cpp.html#a88e2ab0f523d7678e26b642134c10713">mon_flag_HEARS</a>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;Hearing as sense&quot;</span>, <span class="stringliteral">&quot;hearing&quot;</span> )},</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        {<a class="code" href="mtype_8cpp.html#a0f90cef22d42e0b8c911e8d289e1a10e">mon_flag_SEES</a>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;Sight as sense&quot;</span>, <span class="stringliteral">&quot;sight&quot;</span> )},</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        {<a class="code" href="mtype_8cpp.html#a7598512ae9ca78a96974d3ca4237b044">mon_flag_SMELLS</a>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;Smell as sense&quot;</span>, <span class="stringliteral">&quot;smell&quot;</span> )},</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    }, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;It doesn&#39;t have senses.&quot;</span> ) );</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    describe_properties( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;It can %s.&quot;</span> ), {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        {<a class="code" href="classmonster.html#a4be04fecf05b13bc290b5b1dcc6b9137">swims</a>(), <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;Swim as an action&quot;</span>, <span class="stringliteral">&quot;swim&quot;</span> )},</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        {<a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>(), <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;Fly as an action&quot;</span>, <span class="stringliteral">&quot;fly&quot;</span> )},</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        {<a class="code" href="classmonster.html#a14e16a6d2e0a675a85b8794c8f5114cf">can_dig</a>(), <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;Dig as an action&quot;</span>, <span class="stringliteral">&quot;dig&quot;</span> )},</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        {<a class="code" href="classmonster.html#ab9288bd726bcf264e3626dfbb7a01e25">climbs</a>(), <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;Climb as an action&quot;</span>, <span class="stringliteral">&quot;climb&quot;</span> )}</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    } );</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    describe_flags( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;bad&gt;In fight it can %s.&lt;/bad&gt;&quot;</span> ), {</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        {<a class="code" href="mtype_8cpp.html#a23eea586d7bd2b1d5867b7182d10511a">mon_flag_GRABS</a>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;Grab as an action&quot;</span>, <span class="stringliteral">&quot;grab&quot;</span> )},</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        {<a class="code" href="mtype_8cpp.html#ad4b7a29292753eff55fa45f2de74a3c0">mon_flag_VENOM</a>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;Poison as an action&quot;</span>, <span class="stringliteral">&quot;poison&quot;</span> )},</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        {<a class="code" href="mtype_8cpp.html#a2c89d4986ee2cbdd5fbc857a95ac8587">mon_flag_PARALYZEVENOM</a>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;Paralyze as an action&quot;</span>, <span class="stringliteral">&quot;paralyze&quot;</span> )}</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    } );</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8f4ef7b98c4bad77c50171f7da0f4f56">has_flag</a>( <a class="code" href="mtype_8cpp.html#a5c8755079b845db4b61e50c1419f7bb4">mon_flag_NOHEAD</a> ) ) {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        ss += std::string( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;It has a head.&quot;</span> ) ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    }</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="debug_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a> ) {</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        ss += <span class="stringliteral">&quot;--\n&quot;</span>;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Current Speed: %1$d&quot;</span> ), <a class="code" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">get_speed</a>() ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Anger: %1$d&quot;</span> ), <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Friendly: %1$d&quot;</span> ), <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Morale: %1$d&quot;</span> ), <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> ) {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;            ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_red&gt;Aggressive towards characters&lt;/color&gt;&quot;</span> ) ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> current_time = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> - <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a>;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Current Time: Turn %1$d  |  Day: %2$d&quot;</span> ),</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                             to_turns&lt;int&gt;( current_time ),</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                             to_days&lt;int&gt;( current_time ) ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Upgrade time: %1$d (turns left %2$d) %3$s&quot;</span> ),</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                             <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a>,</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                             to_turns&lt;int&gt;( <a class="code" href="classtime__duration.html#ab7eed60a998ca28d5d2285be6302ce31">time_duration::from_days</a>( <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> ) - current_time ),</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                             <a class="code" href="classmonster.html#a5a6be7cfbce50ad161774221638f356e">can_upgrade</a>() ? <span class="stringliteral">&quot;&quot;</span> : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_red&gt;(can&#39;t upgrade)&lt;/color&gt;&quot;</span> ) ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160; </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.empty() ) {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%d special attack(s): &quot;</span> ), <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.size() );</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> : <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a> ) {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s, cooldown %d; &quot;</span> ), <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.first.c_str(), <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.second.cooldown );</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            }</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            ss += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        }</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160; </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a>.has_value() ) {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Reproduce time: %1$d (turns left %2$d) %3$s&quot;</span> ),</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                                 to_turn&lt;int&gt;( <a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a>.value() ),</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                                 to_turn&lt;int&gt;( <a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a>.value() - current_time ),</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                                 <a class="code" href="classmonster.html#ad040aa7a065e88de5c26f205a590b6dd">reproduces</a> ? <span class="stringliteral">&quot;&quot;</span> : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_red&gt;(can&#39;t reproduce)&lt;/color&gt;&quot;</span> ) ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        }</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160; </div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a5ef22126311aed7f324e1c19f650295a">biosig_timer</a>.has_value() ) {</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;            ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Biosignature time: %1$d (turns left %2$d) %3$s&quot;</span> ),</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                                 to_turn&lt;int&gt;( <a class="code" href="classmonster.html#a5ef22126311aed7f324e1c19f650295a">biosig_timer</a>.value() ),</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                                 to_turn&lt;int&gt;( <a class="code" href="classmonster.html#a5ef22126311aed7f324e1c19f650295a">biosig_timer</a>.value()  - current_time ),</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                                 <a class="code" href="classmonster.html#acce0f9e8bbe3751a3051b9ff6c5acd98">biosignatures</a> ? <span class="stringliteral">&quot;&quot;</span> : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_red&gt;(no biosignature)&lt;/color&gt;&quot;</span> ) ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        }</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160; </div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a4d0a16875a988b2662b4115038a3dbfb">lifespan_end</a>.has_value() ) {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            ss += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Lifespan end time: %1$d (turns left %2$d)&quot;</span> ),</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                                 to_turn&lt;int&gt;( <a class="code" href="classCreature.html#a4d0a16875a988b2662b4115038a3dbfb">lifespan_end</a>.value() ),</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                                 to_turn&lt;int&gt;( <a class="code" href="classCreature.html#a4d0a16875a988b2662b4115038a3dbfb">lifespan_end</a>.value() - current_time ) );</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            ss += <span class="stringliteral">&quot;Lifespan end time: n/a &lt;color_yellow&gt;(indefinite)&lt;/color&gt;&quot;</span>;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        }</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    }</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160; </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="output_8cpp.html#a813ac4bd0ac2745dfe41d13adf98996f">replace_colors</a>( ss );</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_abf1cdb8f4662bf96c8d762e9229df8d9"><div class="ttname"><a href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a></div><div class="ttdeci">std::string to_string(const time_duration &amp;d, const bool compact)</div><div class="ttdoc">Returns a string showing a duration.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00546">calendar.cpp:546</a></div></div>
<div class="ttc" id="aclassCreature_html_a4d0a16875a988b2662b4115038a3dbfb"><div class="ttname"><a href="classCreature.html#a4d0a16875a988b2662b4115038a3dbfb">Creature::lifespan_end</a></div><div class="ttdeci">std::optional&lt; time_point &gt; lifespan_end</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01196">creature.h:1196</a></div></div>
<div class="ttc" id="aclassmonster_html_a33b7b408cf37cf721ff9775c4f137820"><div class="ttname"><a href="classmonster.html#a33b7b408cf37cf721ff9775c4f137820">monster::get_effect_status</a></div><div class="ttdeci">std::string get_effect_status() const</div><div class="ttdoc">Returns a std::string containing effects for descriptions.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02380">monster.cpp:2380</a></div></div>
<div class="ttc" id="aclassmonster_html_a57becddfeb3be38da4bf6e982c0a3fa8"><div class="ttname"><a href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">monster::baby_timer</a></div><div class="ttdeci">std::optional&lt; time_point &gt; baby_timer</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00625">monster.h:625</a></div></div>
<div class="ttc" id="aclassmonster_html_a5a6be7cfbce50ad161774221638f356e"><div class="ttname"><a href="classmonster.html#a5a6be7cfbce50ad161774221638f356e">monster::can_upgrade</a></div><div class="ttdeci">bool can_upgrade() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00399">monster.cpp:399</a></div></div>
<div class="ttc" id="aclassmonster_html_a8f374ed84027ba4933a19980bfaf2734"><div class="ttname"><a href="classmonster.html#a8f374ed84027ba4933a19980bfaf2734">monster::speed_description</a></div><div class="ttdeci">static std::string speed_description(float mon_speed_rating, bool immobile=false, const speed_description_id &amp;speed_desc=speed_description_id::NULL_ID())</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00835">monster.cpp:835</a></div></div>
<div class="ttc" id="aclassmonster_html_aa726a9074840d376b00a575d4079bcbc"><div class="ttname"><a href="classmonster.html#aa726a9074840d376b00a575d4079bcbc">monster::speed_rating</a></div><div class="ttdeci">float speed_rating() const override</div><div class="ttdoc">Returns an approximate number of tiles this creature can travel per turn.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03662">monster.cpp:3662</a></div></div>
<div class="ttc" id="aclassmonster_html_ab92cac0ecb2b2062fd4f821b671f86ac"><div class="ttname"><a href="classmonster.html#ab92cac0ecb2b2062fd4f821b671f86ac">monster::get_size</a></div><div class="ttdeci">creature_size get_size() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03503">monster.cpp:3503</a></div></div>
<div class="ttc" id="aclassmonster_html_ac18a1fa7e650a4c2d927d666a10f84aa"><div class="ttname"><a href="classmonster.html#ac18a1fa7e650a4c2d927d666a10f84aa">monster::mission_fused</a></div><div class="ttdeci">std::vector&lt; std::string &gt; mission_fused</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00549">monster.h:549</a></div></div>
<div class="ttc" id="aclassmonster_html_ae808866ea52bc8b079ee607547acfb5f"><div class="ttname"><a href="classmonster.html#ae808866ea52bc8b079ee607547acfb5f">monster::get_attitude</a></div><div class="ttdeci">std::pair&lt; std::string, nc_color &gt; get_attitude() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00794">monster.cpp:794</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae75b0a209b55081a67c5fe6c17a4be00"><div class="ttname"><a href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00260">string_id.h:260</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00196">calendar.h:197</a></div></div>
<div class="ttc" id="aclasstime__duration_html_ab7eed60a998ca28d5d2285be6302ce31"><div class="ttname"><a href="classtime__duration.html#ab7eed60a998ca28d5d2285be6302ce31">time_duration::from_days</a></div><div class="ttdeci">static constexpr time_duration from_days(const T d)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00241">calendar.h:241</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a0f25678be1fc95cb81381a004493a4cc"><div class="ttname"><a href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a></div><div class="ttdeci">std::string colorize(const std::string &amp;text, const nc_color &amp;color)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00742">color.cpp:742</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a023daf33248df92e92fce9b9f4607acc"><div class="ttname"><a href="monster_8cpp.html#a023daf33248df92e92fce9b9f4607acc">hp_description</a></div><div class="ttdeci">static std::pair&lt; std::string, nc_color &gt; hp_description(int cur_hp, int max_hp)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00803">monster.cpp:803</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a47bbbe195cfd102f5523b5209b233f2c"><div class="ttname"><a href="monster_8cpp.html#a47bbbe195cfd102f5523b5209b233f2c">size_names</a></div><div class="ttdeci">static const std::map&lt; creature_size, translation &gt; size_names</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00204">monster.cpp:204</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a7f3efc14d34d48d62804d9b8b8e627cc"><div class="ttname"><a href="monster_8cpp.html#a7f3efc14d34d48d62804d9b8b8e627cc">trait_INATTENTIVE</a></div><div class="ttdeci">static const trait_id trait_INATTENTIVE(&quot;INATTENTIVE&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_a23eea586d7bd2b1d5867b7182d10511a"><div class="ttname"><a href="mtype_8cpp.html#a23eea586d7bd2b1d5867b7182d10511a">mon_flag_GRABS</a></div><div class="ttdeci">mon_flag_id mon_flag_GRABS</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00088">mtype.cpp:88</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a2c89d4986ee2cbdd5fbc857a95ac8587"><div class="ttname"><a href="mtype_8cpp.html#a2c89d4986ee2cbdd5fbc857a95ac8587">mon_flag_PARALYZEVENOM</a></div><div class="ttdeci">mon_flag_id mon_flag_PARALYZEVENOM</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00121">mtype.cpp:121</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a7598512ae9ca78a96974d3ca4237b044"><div class="ttname"><a href="mtype_8cpp.html#a7598512ae9ca78a96974d3ca4237b044">mon_flag_SMELLS</a></div><div class="ttdeci">mon_flag_id mon_flag_SMELLS</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00151">mtype.cpp:151</a></div></div>
<div class="ttc" id="amtype_8cpp_html_ad4b7a29292753eff55fa45f2de74a3c0"><div class="ttname"><a href="mtype_8cpp.html#ad4b7a29292753eff55fa45f2de74a3c0">mon_flag_VENOM</a></div><div class="ttdeci">mon_flag_id mon_flag_VENOM</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00158">mtype.cpp:158</a></div></div>
<div class="ttc" id="amtype_8cpp_html_af8eb4198f7564379a407e89c13cdd1b7"><div class="ttname"><a href="mtype_8cpp.html#af8eb4198f7564379a407e89c13cdd1b7">mon_flag_IMMOBILE</a></div><div class="ttdeci">mon_flag_id mon_flag_IMMOBILE</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00101">mtype.cpp:101</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a813ac4bd0ac2745dfe41d13adf98996f"><div class="ttname"><a href="output_8cpp.html#a813ac4bd0ac2745dfe41d13adf98996f">replace_colors</a></div><div class="ttdeci">std::string replace_colors(std::string text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00998">output.cpp:998</a></div></div>
<div class="ttc" id="aoutput_8h_html_a4be67498ee67b5186fcae5cf706f7512"><div class="ttname"><a href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a></div><div class="ttdeci">std::string enumerate_as_string(const Container &amp;values, enumeration_conjunction conj=enumeration_conjunction::and_)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00647">output.h:647</a></div></div>
<div class="ttc" id="aoutput_8h_html_acff0d12357d8a4690e781eed41b36b98a9022a153e6190f10d9b57aa4232b8aea"><div class="ttname"><a href="output_8h.html#acff0d12357d8a4690e781eed41b36b98a9022a153e6190f10d9b57aa4232b8aea">enumeration_conjunction::arrow</a></div><div class="ttdeci">@ arrow</div></div>
<div class="ttc" id="astructmtype_html_a2d1d188238745cf6ac334c69be8cd931"><div class="ttname"><a href="structmtype.html#a2d1d188238745cf6ac334c69be8cd931">mtype::src</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; mtype_id, mod_id &gt; &gt; src</div><div class="ttdoc">Mod origin.</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00337">mtype.h:337</a></div></div>
<div class="ttc" id="astructmtype_html_a50176acd03d3625f1ea4fe024007f5db"><div class="ttname"><a href="structmtype.html#a50176acd03d3625f1ea4fe024007f5db">mtype::species_descriptions</a></div><div class="ttdeci">std::vector&lt; std::string &gt; species_descriptions() const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00390">mtype.cpp:390</a></div></div>
<div class="ttc" id="astructmtype_html_a50af5397af17c8cab22ec136b8fc3252"><div class="ttname"><a href="structmtype.html#a50af5397af17c8cab22ec136b8fc3252">mtype::speed_desc</a></div><div class="ttdeci">speed_description_id speed_desc</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00305">mtype.h:305</a></div></div>
<div class="ttc" id="astructmtype_html_a7f92cbd89d3870833c9d5300acb325a1"><div class="ttname"><a href="structmtype.html#a7f92cbd89d3870833c9d5300acb325a1">mtype::difficulty</a></div><div class="ttdeci">int difficulty</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00409">mtype.h:409</a></div></div>
<div class="ttc" id="astructmtype_html_a8f4ef7b98c4bad77c50171f7da0f4f56"><div class="ttname"><a href="structmtype.html#a8f4ef7b98c4bad77c50171f7da0f4f56">mtype::has_flag</a></div><div class="ttdeci">bool has_flag(const mon_flag_id &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00520">mtype.h:520</a></div></div>
<div class="ttc" id="astructmtype_html_abace25d482003f6cfc96e4ef98763eea"><div class="ttname"><a href="structmtype.html#abace25d482003f6cfc96e4ef98763eea">mtype::get_description</a></div><div class="ttdeci">std::string get_description() const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00503">mtype.cpp:503</a></div></div>
<div class="ttc" id="atranslations_8h_html_a46bdf4dff9d320938561cade1c9a5f7e"><div class="ttname"><a href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a></div><div class="ttdeci">#define pgettext(STRING1, STRING2)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00092">translations.h:92</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="monster_8h_source.html#l00572">aggro_character</a>, <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="output_8h.html#acff0d12357d8a4690e781eed41b36b98a9022a153e6190f10d9b57aa4232b8aea">arrow</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00581">spell_effect::attack()</a>, <a class="el" href="monster_8h_source.html#l00625">baby_timer</a>, <a class="el" href="monster_8h_source.html#l00627">biosig_timer</a>, <a class="el" href="monster_8h_source.html#l00626">biosignatures</a>, <a class="el" href="monster_8cpp_source.html#l01252">can_dig()</a>, <a class="el" href="monster_8cpp_source.html#l00399">can_upgrade()</a>, <a class="el" href="monster_8cpp_source.html#l01267">climbs()</a>, <a class="el" href="color_8cpp_source.html#l00742">colorize()</a>, <a class="el" href="debug_8cpp_source.html#l00210">debug_mode</a>, <a class="el" href="mtype_8h_source.html#l00409">mtype::difficulty</a>, <a class="el" href="output_8h_source.html#l00647">enumerate_as_string()</a>, <a class="el" href="monster_8cpp_source.html#l01262">flies()</a>, <a class="el" href="monster_8h_source.html#l00539">friendly</a>, <a class="el" href="calendar_8h_source.html#l00241">time_duration::from_days()</a>, <a class="el" href="monster_8cpp_source.html#l00794">get_attitude()</a>, <a class="el" href="mtype_8cpp_source.html#l00503">mtype::get_description()</a>, <a class="el" href="monster_8cpp_source.html#l02380">get_effect_status()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="monster_8cpp_source.html#l03503">get_size()</a>, <a class="el" href="creature_8cpp_source.html#l02138">Creature::get_speed()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="mtype_8h_source.html#l00520">mtype::has_flag()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="monster_8h_source.html#l00616">hp</a>, <a class="el" href="mtype_8h_source.html#l00413">mtype::hp</a>, <a class="el" href="monster_8cpp_source.html#l00803">hp_description()</a>, <a class="el" href="mtype_8h_source.html#l00301">mtype::id</a>, <a class="el" href="creature_8h_source.html#l01196">Creature::lifespan_end</a>, <a class="el" href="monster_8h_source.html#l00549">mission_fused</a>, <a class="el" href="mtype_8cpp_source.html#l00047">mon_flag_ANIMAL</a>, <a class="el" href="mtype_8cpp_source.html#l00088">mon_flag_GRABS</a>, <a class="el" href="mtype_8cpp_source.html#l00097">mon_flag_HEARS</a>, <a class="el" href="mtype_8cpp_source.html#l00101">mon_flag_IMMOBILE</a>, <a class="el" href="mtype_8cpp_source.html#l00114">mon_flag_NOHEAD</a>, <a class="el" href="mtype_8cpp_source.html#l00121">mon_flag_PARALYZEVENOM</a>, <a class="el" href="mtype_8cpp_source.html#l00143">mon_flag_SEES</a>, <a class="el" href="mtype_8cpp_source.html#l00151">mon_flag_SMELLS</a>, <a class="el" href="mtype_8cpp_source.html#l00158">mon_flag_VENOM</a>, <a class="el" href="monster_8h_source.html#l00541">morale</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="translations_8h_source.html#l00092">pgettext</a>, <a class="el" href="output_8cpp_source.html#l00998">replace_colors()</a>, <a class="el" href="monster_8h_source.html#l00624">reproduces</a>, <a class="el" href="monster_8cpp_source.html#l00204">size_names</a>, <a class="el" href="monster_8h_source.html#l00617">special_attacks</a>, <a class="el" href="mtype_8cpp_source.html#l00390">mtype::species_descriptions()</a>, <a class="el" href="mtype_8h_source.html#l00305">mtype::speed_desc</a>, <a class="el" href="monster_8cpp_source.html#l00835">speed_description()</a>, <a class="el" href="monster_8cpp_source.html#l03662">speed_rating()</a>, <a class="el" href="mtype_8h_source.html#l00337">mtype::src</a>, <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="monster_8cpp_source.html#l01272">swims()</a>, <a class="el" href="calendar_8cpp_source.html#l00546">to_string()</a>, <a class="el" href="monster_8cpp.html#a7f3efc14d34d48d62804d9b8b8e627cc">trait_INATTENTIVE</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="calendar_8h_source.html#l00541">calendar::turn_zero</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="monster_8h_source.html#l00623">upgrade_time</a>.</p>

</div>
</div>
<a id="a605daf3158f1dea4cf92e075aa02d027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a605daf3158f1dea4cf92e075aa02d027">&#9670;&nbsp;</a></span>fall_damage_mod()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float monster::fall_damage_mod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns multiplier on fall damage at low velocity (knockback/pit/1 z-level, not 5 z-levels) </p>

<p>Implements <a class="el" href="classCreature.html#ab94a3c4423c330bfc0d6591da2efcc9b">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02524">2524</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;{</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>() ) {</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;        <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;    }</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160; </div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;    <span class="keywordflow">switch</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">size</a> ) {</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a>:</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;            <span class="keywordflow">return</span> 0.2f;</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">creature_size::small</a>:</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;            <span class="keywordflow">return</span> 0.6f;</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a>:</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;            <span class="keywordflow">return</span> 1.0f;</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a>:</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;            <span class="keywordflow">return</span> 1.4f;</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a>:</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;            <span class="keywordflow">return</span> 2.0f;</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aac651433a999fb14f71f6754f0199781">creature_size::num_sizes</a>:</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;ERROR: Invalid Creature size class.&quot;</span> );</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;            <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    }</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160; </div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;    <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;}</div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2aac651433a999fb14f71f6754f0199781"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aac651433a999fb14f71f6754f0199781">creature_size::num_sizes</a></div><div class="ttdeci">@ num_sizes</div></div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a></div><div class="ttdeci">@ large</div></div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a></div><div class="ttdeci">@ huge</div></div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a></div><div class="ttdeci">@ tiny</div></div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">creature_size::small</a></div><div class="ttdeci">@ small</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="monster_8cpp_source.html#l01262">flies()</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">huge</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">large</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">medium</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aac651433a999fb14f71f6754f0199781">num_sizes</a>, <a class="el" href="mtype_8h_source.html#l00407">mtype::size</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">small</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">tiny</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02549">impact()</a>.</p>

</div>
</div>
<a id="a16052a26adbecf002c5d502660ec7434"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16052a26adbecf002c5d502660ec7434">&#9670;&nbsp;</a></span>find_dragged_foe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCharacter.html">Character</a> * monster::find_dragged_foe </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l01334">1334</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;{</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <span class="comment">// Make sure they&#39;re actually dragging someone.</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#ab00d759ebe29170bf2a166dd155bfeb2">dragged_foe_id</a>.<a class="code" href="classcharacter__id.html#a3951155d05523e839d50ea07a8e0b374">is_valid</a>() || !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#a692b3825de327022efb956655bf5e441">effect_dragging</a> ) ) {</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <a class="code" href="classmonster.html#ab00d759ebe29170bf2a166dd155bfeb2">dragged_foe_id</a> = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4abf21153f2489c6f52bf69def405456ad">character_id</a>();</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    }</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160; </div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="comment">// Dragged critters may die or otherwise become invalid, which is why we look</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="comment">// them up each time. Luckily, monsters dragging critters is relatively rare,</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="comment">// so this check should happen infrequently.</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <a class="code" href="classCharacter.html">Character</a> *dragged_foe = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_by_id&lt;<a class="code" href="classCharacter.html">Character</a>&gt;( <a class="code" href="classmonster.html#ab00d759ebe29170bf2a166dd155bfeb2">dragged_foe_id</a> );</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160; </div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="keywordflow">if</span>( dragged_foe == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        <span class="comment">// Target no longer valid.</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        <a class="code" href="classmonster.html#ab00d759ebe29170bf2a166dd155bfeb2">dragged_foe_id</a> = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4abf21153f2489c6f52bf69def405456ad">character_id</a>();</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monmove_8cpp.html#a692b3825de327022efb956655bf5e441">effect_dragging</a> );</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    }</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">return</span> dragged_foe;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4abf21153f2489c6f52bf69def405456ad"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4abf21153f2489c6f52bf69def405456ad">cata_variant_type::character_id</a></div><div class="ttdeci">@ character_id</div></div>
<div class="ttc" id="aclasscharacter__id_html_a3951155d05523e839d50ea07a8e0b374"><div class="ttname"><a href="classcharacter__id.html#a3951155d05523e839d50ea07a8e0b374">character_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdef"><b>Definition:</b> <a href="character__id_8h_source.html#l00017">character_id.h:17</a></div></div>
<div class="ttc" id="aclassmonster_html_ab00d759ebe29170bf2a166dd155bfeb2"><div class="ttname"><a href="classmonster.html#ab00d759ebe29170bf2a166dd155bfeb2">monster::dragged_foe_id</a></div><div class="ttdeci">character_id dragged_foe_id</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00528">monster.h:528</a></div></div>
<div class="ttc" id="amonmove_8cpp_html_a692b3825de327022efb956655bf5e441"><div class="ttname"><a href="monmove_8cpp.html#a692b3825de327022efb956655bf5e441">effect_dragging</a></div><div class="ttdeci">static const efftype_id effect_dragging(&quot;dragging&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4abf21153f2489c6f52bf69def405456ad">character_id</a>, <a class="el" href="monster_8h_source.html#l00528">dragged_foe_id</a>, <a class="el" href="monmove_8cpp.html#a692b3825de327022efb956655bf5e441">effect_dragging</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="character__id_8h_source.html#l00017">character_id::is_valid()</a>, and <a class="el" href="creature_8cpp_source.html#l01722">Creature::remove_effect()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>.</p>

</div>
</div>
<a id="aedaf54c4048d596420fae0d32bb1f586"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedaf54c4048d596420fae0d32bb1f586">&#9670;&nbsp;</a></span>flies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::flies </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01262">1262</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;{</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a776ebd0e3e03458d9d46655ba63c3a09">mon_flag_FLIES</a> ) &amp;&amp; !<a class="code" href="classCreature.html#aed2af9ad3e8abd06b3c3c4f1adaf607e">has_effect_with_flag</a>( <a class="code" href="monster_8cpp.html#a422837affffc14e83623da9f2ad74d69">json_flag_DISABLE_FLIGHT</a> );</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;}</div>
<div class="ttc" id="amonster_8cpp_html_a422837affffc14e83623da9f2ad74d69"><div class="ttname"><a href="monster_8cpp.html#a422837affffc14e83623da9f2ad74d69">json_flag_DISABLE_FLIGHT</a></div><div class="ttdeci">static const flag_id json_flag_DISABLE_FLIGHT(&quot;DISABLE_FLIGHT&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8cpp_source.html#l01792">Creature::has_effect_with_flag()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="monster_8cpp.html#a422837affffc14e83623da9f2ad74d69">json_flag_DISABLE_FLIGHT</a>, and <a class="el" href="mtype_8cpp_source.html#l00086">mon_flag_FLIES</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01186">avoid_trap()</a>, <a class="el" href="monmove_8cpp_source.html#l01629">calc_climb_cost()</a>, <a class="el" href="monmove_8cpp_source.html#l01575">calc_movecost()</a>, <a class="el" href="monster_8cpp_source.html#l01242">can_climb()</a>, <a class="el" href="monster_8cpp_source.html#l01236">can_drown()</a>, <a class="el" href="monmove_8cpp_source.html#l00330">can_reach_to()</a>, <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="monster_8cpp_source.html#l02524">fall_damage_mod()</a>, <a class="el" href="monmove_8cpp_source.html#l01428">footsteps()</a>, <a class="el" href="monmove_8cpp_source.html#l00093">is_immune_field()</a>, <a class="el" href="monmove_8cpp_source.html#l00237">know_danger_at()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01201">trapfunc::ledge()</a>, <a class="el" href="map__field_8cpp_source.html#l01819">map::monster_in_field()</a>, <a class="el" href="monmove_8cpp_source.html#l00135">monster_move_in_vehicle()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>, and <a class="el" href="monmove_8cpp_source.html#l00193">will_move_to()</a>.</p>

</div>
</div>
<a id="ab7f8b49829445e6663e273473841fc22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7f8b49829445e6663e273473841fc22">&#9670;&nbsp;</a></span>footsteps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::footsteps </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l01428">1428</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;{</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    }</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#ab0adc4673278e497b75a357040ce2739">made_footstep</a> ) {</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    }</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <a class="code" href="classmonster.html#ab0adc4673278e497b75a357040ce2739">made_footstep</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> = 6; <span class="comment">// same as player&#39;s footsteps</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>() || <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a066bf1be1c6f12b73b46b54dc2c6f40e">mon_flag_SILENTMOVES</a> ) ) {</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> = 0;    <span class="comment">// Flying monsters don&#39;t have footsteps!</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    }</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#af705eea6e40e12d7866010955602c7b5">digging</a>() ) {</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> = 10;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    }</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="keywordflow">switch</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">size</a> ) {</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a>:</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;            <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> = 0; <span class="comment">// No sound for the tinies</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">creature_size::small</a>:</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;            <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> /= 3;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a>:</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a>:</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;            <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> *= 1.5;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a>:</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;            <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> *= 2;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    }</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a83712a1bfc3dafbb500ba844673a59d8">mon_flag_LOUDMOVES</a> ) ) {</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> += 6;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ab219f3ef959738c3d9f76ab5bfea8f50">mon_flag_QUIETMOVES</a> ) ) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> -= 3;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    }</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> == 0 ) {</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    }</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="keywordtype">int</span> dist = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( p, <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <a class="code" href="namespacesounds.html#a2cf6eebd3df3764f7004be69b364e930">sounds::add_footstep</a>( p, <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a>, dist, <span class="keyword">this</span>, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a3e59522bca2f998bb482d4629f3f18d4">get_footsteps</a>() );</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;}</div>
<div class="ttc" id="amtype_8cpp_html_a066bf1be1c6f12b73b46b54dc2c6f40e"><div class="ttname"><a href="mtype_8cpp.html#a066bf1be1c6f12b73b46b54dc2c6f40e">mon_flag_SILENTMOVES</a></div><div class="ttdeci">mon_flag_id mon_flag_SILENTMOVES</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00146">mtype.cpp:146</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a83712a1bfc3dafbb500ba844673a59d8"><div class="ttname"><a href="mtype_8cpp.html#a83712a1bfc3dafbb500ba844673a59d8">mon_flag_LOUDMOVES</a></div><div class="ttdeci">mon_flag_id mon_flag_LOUDMOVES</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00106">mtype.cpp:106</a></div></div>
<div class="ttc" id="amtype_8cpp_html_ab219f3ef959738c3d9f76ab5bfea8f50"><div class="ttname"><a href="mtype_8cpp.html#ab219f3ef959738c3d9f76ab5bfea8f50">mon_flag_QUIETMOVES</a></div><div class="ttdeci">mon_flag_id mon_flag_QUIETMOVES</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00138">mtype.cpp:138</a></div></div>
<div class="ttc" id="anamespacesounds_html_a2cf6eebd3df3764f7004be69b364e930"><div class="ttname"><a href="namespacesounds.html#a2cf6eebd3df3764f7004be69b364e930">sounds::add_footstep</a></div><div class="ttdeci">void add_footstep(const tripoint &amp;p, int volume, int distance, monster *source, const std::string &amp;footstep)</div><div class="ttdoc">Creates a list of coordinates at which to draw footsteps.</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00358">sounds.cpp:358</a></div></div>
<div class="ttc" id="anamespaceunits_html_a5d16607c866588620acb381e7dbbf0a6"><div class="ttname"><a href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a></div><div class="ttdeci">quantity&lt; int, volume_in_milliliter_tag &gt; volume</div><div class="ttdef"><b>Definition:</b> <a href="units__fwd_8h_source.html#l00017">units_fwd.h:17</a></div></div>
<div class="ttc" id="astructmtype_html_a3e59522bca2f998bb482d4629f3f18d4"><div class="ttname"><a href="structmtype.html#a3e59522bca2f998bb482d4629f3f18d4">mtype::get_footsteps</a></div><div class="ttdeci">std::string get_footsteps() const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00513">mtype.cpp:513</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sounds_8cpp_source.html#l00358">sounds::add_footstep()</a>, <a class="el" href="monster_8cpp_source.html#l01247">digging()</a>, <a class="el" href="monster_8cpp_source.html#l01262">flies()</a>, <a class="el" href="mtype_8cpp_source.html#l00513">mtype::get_footsteps()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">huge</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">large</a>, <a class="el" href="monster_8h_source.html#l00560">made_footstep</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">medium</a>, <a class="el" href="mtype_8cpp_source.html#l00106">mon_flag_LOUDMOVES</a>, <a class="el" href="mtype_8cpp_source.html#l00138">mon_flag_QUIETMOVES</a>, <a class="el" href="mtype_8cpp_source.html#l00146">mon_flag_SILENTMOVES</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="mtype_8h_source.html#l00407">mtype::size</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">small</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">tiny</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>.</p>

</div>
</div>
<a id="a05f8c2f20e4981ce5f9cffdf395af8b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05f8c2f20e4981ce5f9cffdf395af8b7">&#9670;&nbsp;</a></span>generate_inventory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::generate_inventory </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>disableDrops</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02991">2991</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;{</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;    }</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aeaea5cf4a9aa97f5c042b6632aa72f61">death_drops</a>.<a class="code" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    }</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160; </div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    std::vector&lt;item&gt; new_items = <a class="code" href="namespaceitem__group.html#a2d51a14b1504b58288fd1b3e5060f528">item_group::items_from</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aeaea5cf4a9aa97f5c042b6632aa72f61">death_drops</a>,</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;                                  <a class="code" href="namespacecalendar.html#a0b28c598688bb85fbe9619baa7edf24b">calendar::start_of_cataclysm</a>,</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;                                  <a class="code" href="item__group_8h.html#a503bb97ffe5855f821f949403cad698eac28a9ccef02070ab726509230c245c2a">spawn_flags::use_spawn_rate</a> );</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160; </div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;it : new_items ) {</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#adc9c89fb0d54b45b8fa53ef08c799f6c">mon_flag_FILTHY</a> ) ) {</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;            <span class="keywordflow">if</span>( ( it.is_armor() || it.is_pet_armor() ) &amp;&amp; !it.is_gun() ) {</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;                <span class="comment">// handle wearable guns as a special case</span></div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;                it.set_flag( <a class="code" href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637">flag_id</a>( <span class="stringliteral">&quot;FILTHY&quot;</span> ) ) );</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;            }</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;        }</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;        <a class="code" href="classmonster.html#a275d73e1bf3d08e2ea1a0704ac898f7e">inv</a>.push_back( it );</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;    }</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;    <a class="code" href="classmonster.html#a2f9d03ffee51f0193855490a75511596">no_extra_death_drops</a> = disableDrops;</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00360">mtype::death_drops</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637">flag_id</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="monster_8h_source.html#l00524">inv</a>, <a class="el" href="string__id_8h_source.html#l00303">string_id&lt; T &gt;::is_empty()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="item__group_8cpp_source.html#l00979">item_group::items_from()</a>, <a class="el" href="mtype_8cpp_source.html#l00082">mon_flag_FILTHY</a>, <a class="el" href="monster_8h_source.html#l00552">no_extra_death_drops</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::start_of_cataclysm</a>, <a class="el" href="make__static_8h_source.html#l00031">STATIC</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="item__group_8h.html#a503bb97ffe5855f821f949403cad698eac28a9ccef02070ab726509230c245c2a">use_spawn_rate</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00375">poly()</a>.</p>

</div>
</div>
<a id="a8779e8d84e13936266d4d2863a8b476c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8779e8d84e13936266d4d2863a8b476c">&#9670;&nbsp;</a></span>get_absorb_material()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt; monster::get_absorb_material </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01345">1345</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;{</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a12d34d8f1e66b111095776e2b3015f5b">absorb_material</a>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_a12d34d8f1e66b111095776e2b3015f5b"><div class="ttname"><a href="structmtype.html#a12d34d8f1e66b111095776e2b3015f5b">mtype::absorb_material</a></div><div class="ttdeci">std::vector&lt; material_id &gt; absorb_material</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00344">mtype.h:344</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00344">mtype::absorb_material</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l00415">mattack::absorb_items()</a>, and <a class="el" href="monster__oracle_8cpp_source.html#l00027">behavior::monster_oracle_t::items_available()</a>.</p>

</div>
</div>
<a id="ab55cbaa78e9a77935dfc63e5c292317b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab55cbaa78e9a77935dfc63e5c292317b">&#9670;&nbsp;</a></span>get_armor_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int monster::get_armor_type </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a> &amp;&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>&#160;</td>
          <td class="paramname"><em>bp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#aedc37f6985ad2742a64a300bd7254cc2">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02405">2405</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;{</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#acbb7e9e724bb308488bf0df6c257f71d">get_worn_armor_val</a>( dt ) + <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a1824770242448fe54d9881b5fa0634f7">armor</a>.<a class="code" href="structresistances.html#ab41b2fd695ed0cf542b640c6b295020f">type_resist</a>( dt ) + <a class="code" href="classCreature.html#ae6e5e8cb1fcf3243807a15fe65e47057">get_armor_res_bonus</a>( dt );</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_ae6e5e8cb1fcf3243807a15fe65e47057"><div class="ttname"><a href="classCreature.html#ae6e5e8cb1fcf3243807a15fe65e47057">Creature::get_armor_res_bonus</a></div><div class="ttdeci">virtual int get_armor_res_bonus(const damage_type_id &amp;dt) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02126">creature.cpp:2126</a></div></div>
<div class="ttc" id="astructmtype_html_a1824770242448fe54d9881b5fa0634f7"><div class="ttname"><a href="structmtype.html#a1824770242448fe54d9881b5fa0634f7">mtype::armor</a></div><div class="ttdeci">resistances armor</div><div class="ttdoc">Types of scent ignored by this mtype.</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00371">mtype.h:371</a></div></div>
<div class="ttc" id="astructresistances_html_ab41b2fd695ed0cf542b640c6b295020f"><div class="ttname"><a href="structresistances.html#ab41b2fd695ed0cf542b640c6b295020f">resistances::type_resist</a></div><div class="ttdeci">float type_resist(const damage_type_id &amp;dt) const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00622">damage.cpp:622</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00371">mtype::armor</a>, <a class="el" href="creature_8cpp_source.html#l02126">Creature::get_armor_res_bonus()</a>, <a class="el" href="monster_8cpp_source.html#l02394">get_worn_armor_val()</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="damage_8cpp_source.html#l00622">resistances::type_resist()</a>.</p>

<p class="reference">Referenced by <a class="el" href="talker__monster_8cpp_source.html#l00235">talker_monster_const::armor_at()</a>, <a class="el" href="game_8cpp_source.html#l11735">game::fling_creature()</a>, <a class="el" href="monster_8cpp_source.html#l02549">impact()</a>, <a class="el" href="monmove_8cpp_source.html#l00237">know_danger_at()</a>, <a class="el" href="map__field_8cpp_source.html#l01819">map::monster_in_field()</a>, <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, and <a class="el" href="monster_8cpp_source.html#l03111">process_one_effect()</a>.</p>

</div>
</div>
<a id="ae808866ea52bc8b079ee607547acfb5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae808866ea52bc8b079ee607547acfb5f">&#9670;&nbsp;</a></span>get_attitude()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; std::string, <a class="el" href="classnc__color.html">nc_color</a> &gt; monster::get_attitude </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00794">794</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;{</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> att = <a class="code" href="monster_8cpp.html#a03160b5c1ec633bb390e25df18a612bb">attitude_names</a>.at( <a class="code" href="classmonster.html#a6f9b80e613e46d2a7ebbb21ea5e11e4c">attitude</a>( &amp;<a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>() ) );</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">return</span> {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( att.first ),</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <a class="code" href="color_8h.html#a94d01d7a8da6c425c3af3bf9142fee0c">all_colors</a>.get( att.second )</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    };</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;}</div>
<div class="ttc" id="acolor_8h_html_a94d01d7a8da6c425c3af3bf9142fee0c"><div class="ttname"><a href="color_8h.html#a94d01d7a8da6c425c3af3bf9142fee0c">all_colors</a></div><div class="ttdeci">#define all_colors</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00013">color.h:13</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a03160b5c1ec633bb390e25df18a612bb"><div class="ttname"><a href="monster_8cpp.html#a03160b5c1ec633bb390e25df18a612bb">attitude_names</a></div><div class="ttdeci">static const std::map&lt; monster_attitude, std::pair&lt; std::string, color_id &gt; &gt; attitude_names</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00212">monster.cpp:212</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="color_8h_source.html#l00013">all_colors</a>, <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="monster_8cpp_source.html#l00212">attitude_names</a>, and <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, and <a class="el" href="monster_8cpp_source.html#l00864">print_info()</a>.</p>

</div>
</div>
<a id="a3dd3ceaa79271d24864a8ebfb4e55983"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dd3ceaa79271d24864a8ebfb4e55983">&#9670;&nbsp;</a></span>get_carried_volume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> monster::get_carried_volume </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03563">3563</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;{</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::volume</a> total_volume = 0_ml;</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it : <a class="code" href="classmonster.html#a275d73e1bf3d08e2ea1a0704ac898f7e">inv</a> ) {</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;        total_volume += it.volume();</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;    }</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;    <span class="keywordflow">return</span> total_volume;</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;}</div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00028">units.h:29</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00524">inv</a>.</p>

<p class="reference">Referenced by <a class="el" href="monexamine_8cpp_source.html#l00241">anonymous_namespace{monexamine.cpp}::give_items_to()</a>, and <a class="el" href="activity__actor_8cpp_source.html#l04314">stash_on_pet()</a>.</p>

</div>
</div>
<a id="a6893b7073ca0f1e06cfe2f07c00b8e43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6893b7073ca0f1e06cfe2f07c00b8e43">&#9670;&nbsp;</a></span>get_carried_weight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> monster::get_carried_weight </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03545">3545</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;{</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::mass</a> total_weight = 0_gram;</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a662acdf990147854bad39a7c128afcaa">tack_item</a> ) {</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;        total_weight += <a class="code" href="classmonster.html#a662acdf990147854bad39a7c128afcaa">tack_item</a>-&gt;weight();</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;    }</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#ab0eaba81bb3c25eecea173d9074f5521">storage_item</a> ) {</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;        total_weight += <a class="code" href="classmonster.html#ab0eaba81bb3c25eecea173d9074f5521">storage_item</a>-&gt;weight();</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;    }</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#ae152269bc060756feb09757c9f8c3f0c">armor_item</a> ) {</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;        total_weight += <a class="code" href="classmonster.html#ae152269bc060756feb09757c9f8c3f0c">armor_item</a>-&gt;weight();</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;    }</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it : <a class="code" href="classmonster.html#a275d73e1bf3d08e2ea1a0704ac898f7e">inv</a> ) {</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;        total_weight += it.weight();</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;    }</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;    <span class="keywordflow">return</span> total_weight;</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00531">armor_item</a>, <a class="el" href="monster_8h_source.html#l00524">inv</a>, <a class="el" href="monster_8h_source.html#l00532">storage_item</a>, and <a class="el" href="monster_8h_source.html#l00530">tack_item</a>.</p>

<p class="reference">Referenced by <a class="el" href="monexamine_8cpp_source.html#l00308">anonymous_namespace{monexamine.cpp}::add_armor()</a>, <a class="el" href="monexamine_8cpp_source.html#l00241">anonymous_namespace{monexamine.cpp}::give_items_to()</a>, and <a class="el" href="activity__actor_8cpp_source.html#l04314">stash_on_pet()</a>.</p>

</div>
</div>
<a id="a1045089ac9dd6efe4ce04941f9196398"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1045089ac9dd6efe4ce04941f9196398">&#9670;&nbsp;</a></span>get_dest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> monster::get_dest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01375">1375</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;{</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a7c3e07d777236b91713d6db073581dd3">goal</a> ? *<a class="code" href="classmonster.html#a7c3e07d777236b91713d6db073581dd3">goal</a> : <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>();</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a7c3e07d777236b91713d6db073581dd3"><div class="ttname"><a href="classmonster.html#a7c3e07d777236b91713d6db073581dd3">monster::goal</a></div><div class="ttdeci">std::optional&lt; tripoint_abs_ms &gt; goal</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00618">monster.h:618</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8cpp_source.html#l03232">Creature::get_location()</a>, and <a class="el" href="monster_8h_source.html#l00618">goal</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01405">attack_target()</a>, <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00110">leap_actor::call()</a>, <a class="el" href="monattack_8cpp_source.html#l01746">has_vine_parent()</a>, <a class="el" href="monmove_8cpp_source.html#l00237">know_danger_at()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="monmove_8cpp_source.html#l01357">nursebot_operate()</a>, <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>, <a class="el" href="editmap_8cpp_source.html#l00455">editmap::uber_draw_ter()</a>, and <a class="el" href="monattack_8cpp_source.html#l01755">mattack::vine()</a>.</p>

</div>
</div>
<a id="a3b731badad539e0f37595cea907ea256"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b731badad539e0f37595cea907ea256">&#9670;&nbsp;</a></span>get_dodge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float monster::get_dodge </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#aaa501dbe3d1e90d47da43fb9ea57b3be">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02465">2465</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;{</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a> ) ) {</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;        <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    }</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160; </div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="classCreature.html#aaa501dbe3d1e90d47da43fb9ea57b3be">Creature::get_dodge</a>();</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a11d45bc0bc6102e76713dccfc624cbf4">effect_lightsnare</a> ) || <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#ae940cd81463820c5f0fc145179c7c386">effect_heavysnare</a> ) ||</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;        <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#ac6bddea0c05309bc6d54e962a7dff763">effect_beartrap</a> ) || <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a09c667a72022d7e0ee0b851560831e04">effect_tied</a> ) ) {</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> /= 2;</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;    }</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160; </div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#aa3320a370fe1f7f1cf6e14918ca20358">effect_bouldering</a> ) ) {</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> /= 4;</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    }</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160; </div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_aaa501dbe3d1e90d47da43fb9ea57b3be"><div class="ttname"><a href="classCreature.html#aaa501dbe3d1e90d47da43fb9ea57b3be">Creature::get_dodge</a></div><div class="ttdeci">virtual float get_dodge() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02148">creature.cpp:2148</a></div></div>
<div class="ttc" id="amonster_8cpp_html_aa3320a370fe1f7f1cf6e14918ca20358"><div class="ttname"><a href="monster_8cpp.html#aa3320a370fe1f7f1cf6e14918ca20358">effect_bouldering</a></div><div class="ttdeci">static const efftype_id effect_bouldering(&quot;bouldering&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp.html#ac6bddea0c05309bc6d54e962a7dff763">effect_beartrap</a>, <a class="el" href="monster_8cpp.html#aa3320a370fe1f7f1cf6e14918ca20358">effect_bouldering</a>, <a class="el" href="monster_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="el" href="monster_8cpp.html#ae940cd81463820c5f0fc145179c7c386">effect_heavysnare</a>, <a class="el" href="monster_8cpp.html#a11d45bc0bc6102e76713dccfc624cbf4">effect_lightsnare</a>, <a class="el" href="monster_8cpp.html#a09c667a72022d7e0ee0b851560831e04">effect_tied</a>, <a class="el" href="creature_8cpp_source.html#l02148">Creature::get_dodge()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02489">dodge_roll()</a>, and <a class="el" href="trapfunc_8cpp_source.html#l00335">trapfunc::tripwire()</a>.</p>

</div>
</div>
<a id="a19edab4bc2fa15fab46829e9447f2a08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19edab4bc2fa15fab46829e9447f2a08">&#9670;&nbsp;</a></span>get_dodge_base()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float monster::get_dodge_base </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a33f2223d3fa61c5a6cad98914f3895fa">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02415">2415</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;{</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a6c177e244fe2ee88847cd1666db6acc9">sk_dodge</a>;</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00434">mtype::sk_dodge</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

</div>
</div>
<a id="a0b7d95395d0be970484f8539db916089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b7d95395d0be970484f8539db916089">&#9670;&nbsp;</a></span>get_eff_per()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int monster::get_eff_per </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a9b4c795f3f49a9cddb0d7259f70e4a02">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01657">1657</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;{</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af37c4d88f49584515720ebd0d9542114">vision_night</a>, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a3e1904385c3aeb343021eea90b466b19">vision_day</a> );</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_a3e1904385c3aeb343021eea90b466b19"><div class="ttname"><a href="structmtype.html#a3e1904385c3aeb343021eea90b466b19">mtype::vision_day</a></div><div class="ttdeci">int vision_day</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00458">mtype.h:458</a></div></div>
<div class="ttc" id="astructmtype_html_af37c4d88f49584515720ebd0d9542114"><div class="ttname"><a href="structmtype.html#af37c4d88f49584515720ebd0d9542114">mtype::vision_night</a></div><div class="ttdeci">int vision_night</div><div class="ttdoc">vision range in bright light</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00459">mtype.h:459</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, <a class="el" href="mtype_8h_source.html#l00458">mtype::vision_day</a>, and <a class="el" href="mtype_8h_source.html#l00459">mtype::vision_night</a>.</p>

</div>
</div>
<a id="a33b7b408cf37cf721ff9775c4f137820"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33b7b408cf37cf721ff9775c4f137820">&#9670;&nbsp;</a></span>get_effect_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string monster::get_effect_status </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a std::string containing effects for descriptions. </p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02380">2380</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;{</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    std::vector&lt;std::string&gt; effect_status;</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : *<a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;_it : elem.second ) {</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;            <span class="keywordflow">if</span>( elem.first-&gt;is_show_in_info() ) {</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;                effect_status.push_back( _it.second.disp_name() );</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;            }</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;        }</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    }</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160; </div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a>( effect_status );</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8h_source.html#l01204">Creature::effects</a>, and <a class="el" href="output_8h_source.html#l00647">enumerate_as_string()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, and <a class="el" href="monster_8cpp_source.html#l00864">print_info()</a>.</p>

</div>
</div>
<a id="a1d58ee8d254387dacfd4a497957e4afa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d58ee8d254387dacfd4a497957e4afa">&#9670;&nbsp;</a></span>get_grab_strength()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::get_grab_strength </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02500">2500</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;{</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad8b2425dd5c0a34faca0013d9bf45635">grab_strength</a>;</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_ad8b2425dd5c0a34faca0013d9bf45635"><div class="ttname"><a href="structmtype.html#ad8b2425dd5c0a34faca0013d9bf45635">mtype::grab_strength</a></div><div class="ttdeci">int grab_strength</div><div class="ttdoc">number of sides those dice have</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00433">mtype.h:433</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00433">mtype::grab_strength</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l00673">melee_actor::call()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00465">melee_actor::do_grab()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00178">talker_monster_const::get_grab_strength()</a>, and <a class="el" href="creature_8cpp_source.html#l01339">Creature::longpull()</a>.</p>

</div>
</div>
<a id="ac6d9e90a89c63faf465f02731a15d819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6d9e90a89c63faf465f02731a15d819">&#9670;&nbsp;</a></span>get_hit_base()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float monster::get_hit_base </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a0c2ef38bf9bcedcb014daefe3571e37c">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02410">2410</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;{</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a575a59af47aec8bf8bfb9021eb4dddf5">melee_skill</a>;</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_a575a59af47aec8bf8bfb9021eb4dddf5"><div class="ttname"><a href="structmtype.html#a575a59af47aec8bf8bfb9021eb4dddf5">mtype::melee_skill</a></div><div class="ttdeci">int melee_skill</div><div class="ttdoc">moves per regular attack</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00429">mtype.h:429</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00429">mtype::melee_skill</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

</div>
</div>
<a id="aef26e967fc1e2cd13ddfc752c086c3b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef26e967fc1e2cd13ddfc752c086c3b8">&#9670;&nbsp;</a></span>get_horde_attraction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022a">monster_horde_attraction</a> monster::get_horde_attraction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03818">3818</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;{</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a6e59f031b6007370e42a38bc89a2d1c3">horde_attraction</a> == <a class="code" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aa4ee17bcfcc1218862d5509c8c291b1fb">MHA_NULL</a> ) {</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;        <a class="code" href="classmonster.html#a6e59f031b6007370e42a38bc89a2d1c3">horde_attraction</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022a">monster_horde_attraction</a><span class="keyword">&gt;</span>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 1, 5 ) );</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;    }</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a6e59f031b6007370e42a38bc89a2d1c3">horde_attraction</a>;</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;}</div>
<div class="ttc" id="amonster_8h_html_aa13c8de924aae342f9bcb80fb3e7022a"><div class="ttname"><a href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022a">monster_horde_attraction</a></div><div class="ttdeci">monster_horde_attraction</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00075">monster.h:75</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00630">horde_attraction</a>, <a class="el" href="monster_8h_source.html#l00076">MHA_NULL</a>, and <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l03831">will_join_horde()</a>.</p>

</div>
</div>
<a id="a2801a2f23fcaf2199b904c8bbf9fcab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2801a2f23fcaf2199b904c8bbf9fcab0">&#9670;&nbsp;</a></span>get_hp() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int monster::get_hp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#ab1bef04dffb96ab1ad30472fd2895a08">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03748">3748</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;{</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a>;</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00616">hp</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="monster_8cpp_source.html#l01652">hp_percentage()</a>, and <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>.</p>

</div>
</div>
<a id="a2d0e466b9d25796cd99402ddd5d3ce20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d0e466b9d25796cd99402ddd5d3ce20">&#9670;&nbsp;</a></span>get_hp() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int monster::get_hp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a94737d93f30cee269b2df71478ee29fd">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03743">3743</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;{</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a>;</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00616">hp</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l00415">mattack::absorb_items()</a>, <a class="el" href="monattack_8cpp_source.html#l04093">mattack::absorb_meat()</a>, <a class="el" href="mondeath_8cpp_source.html#l00220">mdeath::broken()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01412">spell_effect::charm_monster()</a>, <a class="el" href="monattack_8cpp_source.html#l03721">mattack::chickenbot()</a>, <a class="el" href="monattack_8cpp_source.html#l03671">mattack::copbot()</a>, <a class="el" href="monexamine_8cpp_source.html#l00368">anonymous_namespace{monexamine.cpp}::cull()</a>, <a class="el" href="monattack_8cpp_source.html#l02313">mattack::dermatik()</a>, <a class="el" href="npcmove_8cpp_source.html#l00467">npc::evaluate_monster()</a>, <a class="el" href="monattack_8cpp_source.html#l02497">mattack::formblob()</a>, <a class="el" href="monattack_8cpp_source.html#l03920">mattack::generator()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00225">talker_monster_const::get_cur_hp()</a>, <a class="el" href="iuse_8cpp_source.html#l03274">iuse::granade_act()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00263">creature_tracker::kill_marked_for_death()</a>, <a class="el" href="monattack_8cpp_source.html#l03805">mattack::multi_robot()</a>, <a class="el" href="mondeath_8cpp_source.html#l00059">mdeath::normal()</a>, <a class="el" href="game_8cpp_source.html#l05538">game::revive_corpse()</a>, <a class="el" href="monattack_8cpp_source.html#l04386">mattack::riotbot()</a>, <a class="el" href="monattack_8cpp_source.html#l03381">mattack::searchlight()</a>, <a class="el" href="mondeath_8cpp_source.html#l00139">mdeath::splatter()</a>, <a class="el" href="monattack_8cpp_source.html#l00391">mattack::split()</a>, <a class="el" href="monster__oracle_8cpp_source.html#l00018">behavior::monster_oracle_t::split_possible()</a>, and <a class="el" href="monattack_8cpp_source.html#l05474">mattack::zombie_fuse()</a>.</p>

</div>
</div>
<a id="ad8a1c3e7751cf9cc06c2293b2dbc1021"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8a1c3e7751cf9cc06c2293b2dbc1021">&#9670;&nbsp;</a></span>get_HP_Bar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::get_HP_Bar </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnc__color.html">nc_color</a> &amp;&#160;</td>
          <td class="paramname"><em>color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>text</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00789">789</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;{</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    std::tie( text, <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> ) = <a class="code" href="output_8cpp.html#aafdcbf1eb3398c6e92cf3b71f6c8ad03">::get_hp_bar</a>( <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a>, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">hp</a>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;}</div>
<div class="ttc" id="aeditmap_8cpp_html_a025a5c063205294df20818edc4cfe355"><div class="ttname"><a href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a></div><div class="ttdeci">static nc_color color(const T_t &amp;t)</div></div>
<div class="ttc" id="aoutput_8cpp_html_aafdcbf1eb3398c6e92cf3b71f6c8ad03"><div class="ttname"><a href="output_8cpp.html#aafdcbf1eb3398c6e92cf3b71f6c8ad03">get_hp_bar</a></div><div class="ttdeci">std::pair&lt; std::string, nc_color &gt; get_hp_bar(const int cur_hp, const int max_hp, const bool is_mon)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l02657">output.cpp:2657</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color()</a>, <a class="el" href="output_8cpp_source.html#l02657">get_hp_bar()</a>, <a class="el" href="monster_8h_source.html#l00616">hp</a>, <a class="el" href="mtype_8h_source.html#l00413">mtype::hp</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00864">print_info()</a>.</p>

</div>
</div>
<a id="a7ca0faca8bfdf51f301903ab4ed56467"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ca0faca8bfdf51f301903ab4ed56467">&#9670;&nbsp;</a></span>get_hp_max() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int monster::get_hp_max </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03738">3738</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;{</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">hp</a>;</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00413">mtype::hp</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, and <a class="el" href="monster_8cpp_source.html#l01652">hp_percentage()</a>.</p>

</div>
</div>
<a id="a551f4a380282f8ec082c74f410c397de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a551f4a380282f8ec082c74f410c397de">&#9670;&nbsp;</a></span>get_hp_max() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int monster::get_hp_max </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a6e1819fd37a50af66566c6d1b896572a">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03733">3733</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;{</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">hp</a>;</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00413">mtype::hp</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l04093">mattack::absorb_meat()</a>, <a class="el" href="mondeath_8cpp_source.html#l00220">mdeath::broken()</a>, <a class="el" href="monattack_8cpp_source.html#l03721">mattack::chickenbot()</a>, <a class="el" href="monattack_8cpp_source.html#l03671">mattack::copbot()</a>, <a class="el" href="monattack_8cpp_source.html#l02313">mattack::dermatik()</a>, <a class="el" href="npcmove_8cpp_source.html#l00467">npc::evaluate_monster()</a>, <a class="el" href="monattack_8cpp_source.html#l02497">mattack::formblob()</a>, <a class="el" href="monattack_8cpp_source.html#l03920">mattack::generator()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00230">talker_monster_const::get_hp_max()</a>, <a class="el" href="iuse_8cpp_source.html#l03274">iuse::granade_act()</a>, <a class="el" href="monattack_8cpp_source.html#l04693">mattack::mon_leech_evolution()</a>, <a class="el" href="monattack_8cpp_source.html#l03805">mattack::multi_robot()</a>, <a class="el" href="mondeath_8cpp_source.html#l00059">mdeath::normal()</a>, <a class="el" href="monattack_8cpp_source.html#l04386">mattack::riotbot()</a>, <a class="el" href="monattack_8cpp_source.html#l03381">mattack::searchlight()</a>, <a class="el" href="mondeath_8cpp_source.html#l00139">mdeath::splatter()</a>, <a class="el" href="monster__oracle_8cpp_source.html#l00018">behavior::monster_oracle_t::split_possible()</a>, and <a class="el" href="monattack_8cpp_source.html#l05474">mattack::zombie_fuse()</a>.</p>

</div>
</div>
<a id="acf27771f9ea3c042a462295303c75af6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf27771f9ea3c042a462295303c75af6">&#9670;&nbsp;</a></span>get_melee()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float monster::get_melee </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#ad8810c3abed9b6a4f0705fd9be466e33">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02484">2484</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;{</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a575a59af47aec8bf8bfb9021eb4dddf5">melee_skill</a>;</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00429">mtype::melee_skill</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

</div>
</div>
<a id="a59dc4bfb91a20a90617455986a9d4567"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59dc4bfb91a20a90617455986a9d4567">&#9670;&nbsp;</a></span>get_monster_faction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="npc_8h.html#a3472a8986ea9d6078ab02871b7791add">mfaction_id</a> monster::get_monster_faction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a0d9be5aa18bec81a5a0606bfb4110d75">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00108">108</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                                                         {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classfaction.html">faction</a>.<a class="code" href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">id</a>();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        }</div>
<div class="ttc" id="aclassfaction__template_html_a649fcecca332d594911fed59607d4ee7"><div class="ttname"><a href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">faction_template::id</a></div><div class="ttdeci">faction_id id</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00112">faction.h:112</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction_8h_source.html#l00112">faction_template::id</a>.</p>

</div>
</div>
<a id="ad5a95de73cf74896f56346a1ff02c572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5a95de73cf74896f56346a1ff02c572">&#9670;&nbsp;</a></span>get_mountable_weight_ratio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float monster::get_mountable_weight_ratio </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03753">3753</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;{</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#afade983335b7aba4ab5c44a9575d08e8">mountable_weight_ratio</a>;</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_afade983335b7aba4ab5c44a9575d08e8"><div class="ttname"><a href="structmtype.html#afade983335b7aba4ab5c44a9575d08e8">mtype::mountable_weight_ratio</a></div><div class="ttdeci">float mountable_weight_ratio</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00426">mtype.h:426</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00426">mtype::mountable_weight_ratio</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monexamine_8cpp_source.html#l00563">Character::can_mount()</a>, and <a class="el" href="monexamine_8cpp_source.html#l00578">monexamine::pet_menu()</a>.</p>

</div>
</div>
<a id="ad4fba0b9aea36097d8b972e05e66d914"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4fba0b9aea36097d8b972e05e66d914">&#9670;&nbsp;</a></span>get_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string monster::get_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00717">717</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;{</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>( 1 );</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l00722">name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monexamine_8cpp_source.html#l00308">anonymous_namespace{monexamine.cpp}::add_armor()</a>, <a class="el" href="monexamine_8cpp_source.html#l00378">anonymous_namespace{monexamine.cpp}::add_leash()</a>, <a class="el" href="newcharacter_8cpp_source.html#l02081">assemble_profession_details()</a>, <a class="el" href="monexamine_8cpp_source.html#l00169">anonymous_namespace{monexamine.cpp}::attach_bag_to()</a>, <a class="el" href="monster_8cpp_source.html#l02975">check_mech_powered()</a>, <a class="el" href="monattack_8cpp_source.html#l02987">mattack::check_money_left()</a>, <a class="el" href="monexamine_8cpp_source.html#l00207">anonymous_namespace{monexamine.cpp}::dump_items()</a>, <a class="el" href="game_8cpp_source.html#l06188">game::examine()</a>, <a class="el" href="game_8cpp_source.html#l12386">game::find_or_make_stairs()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04929">milk_activity_actor::finish()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00168">liquid_handler::get_liquid_target()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00026">talker_monster_const::get_name()</a>, <a class="el" href="monexamine_8cpp_source.html#l00241">anonymous_namespace{monexamine.cpp}::give_items_to()</a>, <a class="el" href="monexamine_8cpp_source.html#l00530">anonymous_namespace{monexamine.cpp}::insert_battery()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01054">trapfunc::lava()</a>, <a class="el" href="monexamine_8cpp_source.html#l00854">monexamine::mech_hack()</a>, <a class="el" href="monster_8cpp_source.html#l01903">melee_attack()</a>, <a class="el" href="monexamine_8cpp_source.html#l00928">monexamine::mfriend_menu()</a>, <a class="el" href="monexamine_8cpp_source.html#l00473">anonymous_namespace{monexamine.cpp}::milk_source()</a>, <a class="el" href="character_8cpp_source.html#l01592">Character::mount_creature()</a>, <a class="el" href="monster_8cpp_source.html#l02205">move_effects()</a>, <a class="el" href="monexamine_8cpp_source.html#l00887">monexamine::pay_bot()</a>, <a class="el" href="monexamine_8cpp_source.html#l00578">monexamine::pet_menu()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00830">trapfunc::pit()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00964">trapfunc::pit_glass()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00879">trapfunc::pit_spikes()</a>, <a class="el" href="monexamine_8cpp_source.html#l00360">anonymous_namespace{monexamine.cpp}::play_with()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00982">avatar_action::plthrow()</a>, <a class="el" href="monexamine_8cpp_source.html#l00137">anonymous_namespace{monexamine.cpp}::push()</a>, <a class="el" href="monster_8cpp_source.html#l00613">refill_udders()</a>, <a class="el" href="monexamine_8cpp_source.html#l00343">anonymous_namespace{monexamine.cpp}::remove_armor()</a>, <a class="el" href="monexamine_8cpp_source.html#l00223">anonymous_namespace{monexamine.cpp}::remove_bag_from()</a>, <a class="el" href="monexamine_8cpp_source.html#l00337">anonymous_namespace{monexamine.cpp}::remove_harness()</a>, <a class="el" href="monexamine_8cpp_source.html#l00409">anonymous_namespace{monexamine.cpp}::remove_leash()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01155">trapfunc::sinkhole()</a>, <a class="el" href="debug__menu_8cpp_source.html#l00714">debug_menu::spell_description()</a>, <a class="el" href="magic_8cpp_source.html#l02444">spellcasting_callback::spell_info_text()</a>, <a class="el" href="monexamine_8cpp_source.html#l00445">anonymous_namespace{monexamine.cpp}::start_leading()</a>, <a class="el" href="monexamine_8cpp_source.html#l00458">anonymous_namespace{monexamine.cpp}::stop_leading()</a>, <a class="el" href="monexamine_8cpp_source.html#l00112">anonymous_namespace{monexamine.cpp}::swap()</a>, <a class="el" href="vehicle__move_8cpp_source.html#l00448">vehicle::thrust()</a>, <a class="el" href="monexamine_8cpp_source.html#l00423">anonymous_namespace{monexamine.cpp}::tie_pet()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00335">trapfunc::tripwire()</a>, <a class="el" href="monexamine_8cpp_source.html#l00432">anonymous_namespace{monexamine.cpp}::untie_pet()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01575">vehicle::use_harness()</a>, <a class="el" href="game_8cpp_source.html#l11966">game::vertical_move()</a>, <a class="el" href="game_8cpp_source.html#l10533">game::walk_move()</a>, and <a class="el" href="monster_8cpp_source.html#l01420">witness_thievery()</a>.</p>

</div>
</div>
<a id="a60a43443a1d2c28f67887ea8d5500bf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60a43443a1d2c28f67887ea8d5500bf2">&#9670;&nbsp;</a></span>get_no_absorb_material()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt; monster::get_no_absorb_material </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01350">1350</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;{</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a885813fd3b82fb1267a5707c43f14b15">no_absorb_material</a>;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_a885813fd3b82fb1267a5707c43f14b15"><div class="ttname"><a href="structmtype.html#a885813fd3b82fb1267a5707c43f14b15">mtype::no_absorb_material</a></div><div class="ttdeci">std::vector&lt; material_id &gt; no_absorb_material</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00346">mtype.h:346</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00346">mtype::no_absorb_material</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l00415">mattack::absorb_items()</a>, and <a class="el" href="monster__oracle_8cpp_source.html#l00027">behavior::monster_oracle_t::items_available()</a>.</p>

</div>
</div>
<a id="a12d0f90c38e7463844592281c87dd250"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12d0f90c38e7463844592281c87dd250">&#9670;&nbsp;</a></span>get_path_avoid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_set&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; monster::get_path_avoid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a set of points we do not want to path through. </p>

<p>Implements <a class="el" href="classCreature.html#a96b3625053fc20d712cf9e9fbbef2596">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03986">3986</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;{</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;    std::unordered_set&lt;tripoint&gt; <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160; </div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;    <span class="keywordtype">int</span> radius = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <a class="code" href="classmonster.html#af3c02b36896c6f75cbce492d5c4a6150">sight_range</a>( here.<a class="code" href="classmap.html#a47284179cd831f04aaa7ff3242a5fb7b">ambient_light_at</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ), 5 );</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160; </div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : here.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), radius ) ) {</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a241bdfccd5d6b2200c0bfd5eca9ce8ab">can_move_to</a>( p ) ) {</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a7410372f55ca62ae5eda0fcc63b48622">bash_skill</a>() &lt;= 0 || !here.<a class="code" href="classmap.html#a670590e1c5a25d81f56def7c89dbde95">is_bashable</a>( p ) ) {</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;                <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.insert( p );</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;            }</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;        }</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;    }</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160; </div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#af88ca13a69fcf00093e7f86b5d55bfbd">mon_flag_PRIORITIZE_TARGETS</a> ) ) {</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;        radius = 2;</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ab0b72a092cc048de39170eb7efa37b0a">mon_flag_PATH_AVOID_DANGER_1</a> ) ||</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;               <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a953954e2c6d4fac0741d4a57c41610eb">mon_flag_PATH_AVOID_DANGER_2</a> ) ) {</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;        radius = 1;</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;    }</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classCreature.html">Creature</a> *critter : here.<a class="code" href="classmap.html#a1a80ad5cb3705a2bde8834eb8e4a93bd">get_creatures_in_radius</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), radius ) ) {</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.insert( critter-&gt;pos() );</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;    }</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160; </div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_a1a80ad5cb3705a2bde8834eb8e4a93bd"><div class="ttname"><a href="classmap.html#a1a80ad5cb3705a2bde8834eb8e4a93bd">map::get_creatures_in_radius</a></div><div class="ttdeci">std::list&lt; Creature * &gt; get_creatures_in_radius(const tripoint &amp;center, size_t radius, size_t radiusz=0) const</div><div class="ttdoc">returns creatures in specified radius</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l10228">map.cpp:10228</a></div></div>
<div class="ttc" id="aclassmap_html_a47284179cd831f04aaa7ff3242a5fb7b"><div class="ttname"><a href="classmap.html#a47284179cd831f04aaa7ff3242a5fb7b">map::ambient_light_at</a></div><div class="ttdeci">float ambient_light_at(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00640">lightmap.cpp:640</a></div></div>
<div class="ttc" id="aclassmap_html_a670590e1c5a25d81f56def7c89dbde95"><div class="ttname"><a href="classmap.html#a670590e1c5a25d81f56def7c89dbde95">map::is_bashable</a></div><div class="ttdeci">bool is_bashable(const tripoint &amp;p, bool allow_floor=false) const</div><div class="ttdoc">Returns true if there is a bashable vehicle part or the furn/terrain is bashable at p.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03240">map.cpp:3240</a></div></div>
<div class="ttc" id="aclassmonster_html_af3c02b36896c6f75cbce492d5c4a6150"><div class="ttname"><a href="classmonster.html#af3c02b36896c6f75cbce492d5c4a6150">monster::sight_range</a></div><div class="ttdeci">int sight_range(float light_level) const override</div><div class="ttdoc">How far the creature sees under the given light.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01285">monster.cpp:1285</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a953954e2c6d4fac0741d4a57c41610eb"><div class="ttname"><a href="mtype_8cpp.html#a953954e2c6d4fac0741d4a57c41610eb">mon_flag_PATH_AVOID_DANGER_2</a></div><div class="ttdeci">mon_flag_id mon_flag_PATH_AVOID_DANGER_2</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00123">mtype.cpp:123</a></div></div>
<div class="ttc" id="amtype_8cpp_html_ab0b72a092cc048de39170eb7efa37b0a"><div class="ttname"><a href="mtype_8cpp.html#ab0b72a092cc048de39170eb7efa37b0a">mon_flag_PATH_AVOID_DANGER_1</a></div><div class="ttdeci">mon_flag_id mon_flag_PATH_AVOID_DANGER_1</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00122">mtype.cpp:122</a></div></div>
<div class="ttc" id="amtype_8cpp_html_af88ca13a69fcf00093e7f86b5d55bfbd"><div class="ttname"><a href="mtype_8cpp.html#af88ca13a69fcf00093e7f86b5d55bfbd">mon_flag_PRIORITIZE_TARGETS</a></div><div class="ttdeci">mon_flag_id mon_flag_PRIORITIZE_TARGETS</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00133">mtype.cpp:133</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lightmap_8cpp_source.html#l00640">map::ambient_light_at()</a>, <a class="el" href="monmove_8cpp_source.html#l01730">bash_skill()</a>, <a class="el" href="monmove_8cpp_source.html#l00356">can_move_to()</a>, <a class="el" href="map_8cpp_source.html#l10228">map::get_creatures_in_radius()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="map_8cpp_source.html#l03240">map::is_bashable()</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="mtype_8cpp_source.html#l00122">mon_flag_PATH_AVOID_DANGER_1</a>, <a class="el" href="mtype_8cpp_source.html#l00123">mon_flag_PATH_AVOID_DANGER_2</a>, <a class="el" href="mtype_8cpp_source.html#l00133">mon_flag_PRIORITIZE_TARGETS</a>, <a class="el" href="map_8cpp_source.html#l10109">map::points_in_radius()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="monster_8cpp_source.html#l01285">sight_range()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>.</p>

</div>
</div>
<a id="a873925c09bec361ffd2363626828a362"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a873925c09bec361ffd2363626828a362">&#9670;&nbsp;</a></span>get_pathfinding_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structpathfinding__settings.html">pathfinding_settings</a> &amp; monster::get_pathfinding_settings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns settings for pathfinding. </p>

<p>Implements <a class="el" href="classCreature.html#aa9e4446ddfee87c51cb8740940c6688b">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03981">3981</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;{</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad832d3451147305ed9267d45eb280372">path_settings</a>;</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_ad832d3451147305ed9267d45eb280372"><div class="ttname"><a href="structmtype.html#ad832d3451147305ed9267d45eb280372">mtype::path_settings</a></div><div class="ttdeci">pathfinding_settings path_settings</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00490">mtype.h:490</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00490">mtype::path_settings</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01334">has_intelligence()</a>, <a class="el" href="monmove_8cpp_source.html#l00237">know_danger_at()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="monmove_8cpp_source.html#l02399">turns_to_reach()</a>, and <a class="el" href="monmove_8cpp_source.html#l02361">will_reach()</a>.</p>

</div>
</div>
<a id="ab92cac0ecb2b2062fd4f821b671f86ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab92cac0ecb2b2062fd4f821b671f86ac">&#9670;&nbsp;</a></span>get_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2">creature_size</a> monster::get_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#ac9fd76782cca4157eda2afcb7d66f02e">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03503">3503</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;{</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2">creature_size</a><span class="keyword">&gt;</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">size</a> + <a class="code" href="classCreature.html#a09d744e753389b85555df87d01f19bf0">size_bonus</a> );</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a09d744e753389b85555df87d01f19bf0"><div class="ttname"><a href="classCreature.html#a09d744e753389b85555df87d01f19bf0">Creature::size_bonus</a></div><div class="ttdeci">int size_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01230">creature.h:1230</a></div></div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2">creature_size</a></div><div class="ttdeci">creature_size</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00068">creature.h:68</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00407">mtype::size</a>, <a class="el" href="creature_8h_source.html#l01230">Creature::size_bonus</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="creature_8cpp_source.html#l03176">Character::add_msg_player_or_say()</a>, <a class="el" href="monattack_8cpp_source.html#l02464">blobify()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00110">leap_actor::call()</a>, <a class="el" href="monexamine_8cpp_source.html#l00563">Character::can_mount()</a>, <a class="el" href="iuse_8cpp_source.html#l07997">iuse::capture_monster_act()</a>, <a class="el" href="creature_8cpp_source.html#l00797">Creature::deal_melee_hit()</a>, <a class="el" href="ballistics_8cpp_source.html#l00047">drop_or_embed_projectile()</a>, <a class="el" href="explosion_8cpp_source.html#l00657">explosion_handler::emp_blast()</a>, <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="character_8cpp_source.html#l02189">Character::footstep_sound()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00171">talker_monster_const::get_size()</a>, <a class="el" href="monster_8cpp_source.html#l03518">get_volume()</a>, <a class="el" href="monster_8cpp_source.html#l03508">get_weight()</a>, <a class="el" href="monmove_8cpp_source.html#l00135">monster_move_in_vehicle()</a>, <a class="el" href="monexamine_8cpp_source.html#l00578">monexamine::pet_menu()</a>, <a class="el" href="monster_8cpp_source.html#l03651">power_rating()</a>, <a class="el" href="monster_8cpp_source.html#l00864">print_info()</a>, <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>, <a class="el" href="monmove_8cpp_source.html#l02425">shove_vehicle()</a>, <a class="el" href="character_8cpp_source.html#l01416">Character::swim_speed()</a>, <a class="el" href="game_8cpp_source.html#l10533">game::walk_move()</a>, <a class="el" href="monmove_8cpp_source.html#l00193">will_move_to()</a>, and <a class="el" href="monattack_8cpp_source.html#l05474">mattack::zombie_fuse()</a>.</p>

</div>
</div>
<a id="ae7d28bfb064ffed8272b320e56da7623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7d28bfb064ffed8272b320e56da7623">&#9670;&nbsp;</a></span>get_upgrade_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::get_upgrade_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00418">418</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;{</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00623">upgrade_time</a>.</p>

<p class="reference">Referenced by <a class="el" href="mondeath_8cpp_source.html#l00284">make_mon_corpse()</a>, and <a class="el" href="mondeath_8cpp_source.html#l00139">mdeath::splatter()</a>.</p>

</div>
</div>
<a id="a304aeb741c4ac28d879d3951dee4cf30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a304aeb741c4ac28d879d3951dee4cf30">&#9670;&nbsp;</a></span>get_volume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> monster::get_volume </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03518">3518</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;{</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceunits.html#ad79bb4e855d05fd907fe2abaf79a8e8e">units::operator*</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a228db8f2c45aee4865f92ca5a561889f">volume</a>, <a class="code" href="classmonster.html#ab92cac0ecb2b2062fd4f821b671f86ac">get_size</a>() / <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">size</a> );</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;}</div>
<div class="ttc" id="anamespaceunits_html_ad79bb4e855d05fd907fe2abaf79a8e8e"><div class="ttname"><a href="namespaceunits.html#ad79bb4e855d05fd907fe2abaf79a8e8e">units::operator*</a></div><div class="ttdeci">units::energy operator*(const units::power &amp;power, const time_duration &amp;time)</div><div class="ttdef"><b>Definition:</b> <a href="units_8cpp_source.html#l00164">units.cpp:164</a></div></div>
<div class="ttc" id="astructmtype_html_a228db8f2c45aee4865f92ca5a561889f"><div class="ttname"><a href="structmtype.html#a228db8f2c45aee4865f92ca5a561889f">mtype::volume</a></div><div class="ttdeci">units::volume volume</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00406">mtype.h:406</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l03503">get_size()</a>, <a class="el" href="units_8cpp_source.html#l00164">units::operator*()</a>, <a class="el" href="mtype_8h_source.html#l00407">mtype::size</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="mtype_8h_source.html#l00406">mtype::volume</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l04093">mattack::absorb_meat()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00190">talker_monster_const::get_volume()</a>, <a class="el" href="monmove_8cpp_source.html#l00135">monster_move_in_vehicle()</a>, <a class="el" href="monexamine_8cpp_source.html#l00297">anonymous_namespace{monexamine.cpp}::pet_armor_loc()</a>, <a class="el" href="shearing_8cpp_source.html#l00010">shearing_entry::roll()</a>, and <a class="el" href="monattack_8cpp_source.html#l05474">mattack::zombie_fuse()</a>.</p>

</div>
</div>
<a id="ac657665936ef8e009e683c2fa02f4ce3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac657665936ef8e009e683c2fa02f4ce3">&#9670;&nbsp;</a></span>get_weight()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> monster::get_weight </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a38ea0c149ac718542546fdceba44a4df">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03508">3508</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;{</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceunits.html#ad79bb4e855d05fd907fe2abaf79a8e8e">units::operator*</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a71161bb5851b4c48f32f3ebaf35b9b1d">weight</a>, <a class="code" href="classmonster.html#ab92cac0ecb2b2062fd4f821b671f86ac">get_size</a>() / <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">size</a> );</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_a71161bb5851b4c48f32f3ebaf35b9b1d"><div class="ttname"><a href="structmtype.html#a71161bb5851b4c48f32f3ebaf35b9b1d">mtype::weight</a></div><div class="ttdeci">units::mass weight</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00292">mtype.h:292</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l03503">get_size()</a>, <a class="el" href="units_8cpp_source.html#l00164">units::operator*()</a>, <a class="el" href="mtype_8h_source.html#l00407">mtype::size</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="mtype_8h_source.html#l00292">mtype::weight</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle_8cpp_source.html#l07997">vehicle::calc_mass_center()</a>, <a class="el" href="monexamine_8cpp_source.html#l00563">Character::can_mount()</a>, <a class="el" href="iuse_8cpp_source.html#l07979">item::contain_monster()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00465">melee_actor::do_grab()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00195">talker_monster_const::get_weight()</a>, <a class="el" href="monexamine_8cpp_source.html#l00578">monexamine::pet_menu()</a>, <a class="el" href="shearing_8cpp_source.html#l00010">shearing_entry::roll()</a>, <a class="el" href="vehicle__move_8cpp_source.html#l02174">map::shake_vehicle()</a>, and <a class="el" href="mondeath_8cpp_source.html#l00139">mdeath::splatter()</a>.</p>

</div>
</div>
<a id="acbb7e9e724bb308488bf0df6c257f71d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbb7e9e724bb308488bf0df6c257f71d">&#9670;&nbsp;</a></span>get_worn_armor_val()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::get_worn_armor_val </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a> &amp;&#160;</td>
          <td class="paramname"><em>dt</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02394">2394</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;{</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a39eb4b84c51b6934941230cd1979b7d0">effect_monster_armor</a> ) ) {</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    }</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#ae152269bc060756feb09757c9f8c3f0c">armor_item</a> ) {</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#ae152269bc060756feb09757c9f8c3f0c">armor_item</a>-&gt;resist( dt );</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    }</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00531">armor_item</a>, <a class="el" href="monster_8cpp.html#a39eb4b84c51b6934941230cd1979b7d0">effect_monster_armor</a>, and <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01875">absorb_hit()</a>, and <a class="el" href="monster_8cpp_source.html#l02405">get_armor_type()</a>.</p>

</div>
</div>
<a id="ae48d048c8c53f7563bf7edc6a38a0018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae48d048c8c53f7563bf7edc6a38a0018">&#9670;&nbsp;</a></span>gibType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a2a56520b7eef7294fc98230cb883c9d2">field_type_id</a> monster::gibType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#aa94931e4982d1e98904ec125dfaa4f17">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03495">3495</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;{</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="field__type_8cpp.html#abbf9ee25d4081063b76f7f3bd2a11793">fd_null</a>;</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;    }</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a5ac953b39ce7a7411d9599b2937d316d">gibType</a>();</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_a5ac953b39ce7a7411d9599b2937d316d"><div class="ttname"><a href="structmtype.html#a5ac953b39ce7a7411d9599b2937d316d">mtype::gibType</a></div><div class="ttdeci">field_type_id gibType() const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00445">mtype.cpp:445</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="field__type_8cpp_source.html#l00011">fd_null</a>, <a class="el" href="mtype_8cpp_source.html#l00445">mtype::gibType()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="mondeath_8cpp_source.html#l00092">scatter_chunks()</a>, and <a class="el" href="mondeath_8cpp_source.html#l00139">mdeath::splatter()</a>.</p>

</div>
</div>
<a id="a3552d13d872776e2201892e3f6480742"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3552d13d872776e2201892e3f6480742">&#9670;&nbsp;</a></span>group_bash_skill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::group_bash_skill </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns ability of monster and any cooperative helpers to bash the designated target. </p>
<p><br  />
 </p>

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l01735">1735</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;{</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a71cf2330cd9d412b2d82728c88b1fad0">mon_flag_GROUP_BASH</a> ) ) {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a7410372f55ca62ae5eda0fcc63b48622">bash_skill</a>();</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    }</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordtype">int</span> bashskill = 0;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160; </div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <span class="comment">// pileup = more bash skill, but only help bashing mob directly in front of target</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> max_helper_depth = 5;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="keyword">const</span> std::vector&lt;tripoint&gt; bzone = <a class="code" href="monmove_8cpp.html#ae931fdf83b37ff0d7c8bfd3096fa0b73">get_bashing_zone</a>( target, <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), max_helper_depth );</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160; </div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <a class="code" href="classcreature__tracker.html">creature_tracker</a> &amp;creatures = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>();</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;candidate : bzone ) {</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        <span class="comment">// Drawing this line backwards excludes the target and includes the candidate.</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;        std::vector&lt;tripoint&gt; path_to_target = <a class="code" href="coordinates_8h.html#a31847b31c6ef002e9d16afd7fd0005e3">line_to</a>( target, candidate, 0, 0 );</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        <span class="keywordtype">bool</span> connected = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        <a class="code" href="classmonster.html">monster</a> *mon = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;in_path : path_to_target ) {</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;            <span class="comment">// If any point in the line from zombie to target is not a cooperating zombie,</span></div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;            <span class="comment">// it can&#39;t contribute.</span></div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;            mon = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>&lt;<a class="code" href="classmonster.html">monster</a>&gt;( in_path );</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            <span class="keywordflow">if</span>( !mon ) {</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                connected = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;            }</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;            <a class="code" href="classmonster.html">monster</a> &amp;helpermon = *mon;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;            <span class="keywordflow">if</span>( !helpermon.<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a71cf2330cd9d412b2d82728c88b1fad0">mon_flag_GROUP_BASH</a> ) || helpermon.<a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                connected = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;            }</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        }</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        <span class="keywordflow">if</span>( !connected || !mon ) {</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        }</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        <span class="comment">// If we made it here, the last monster checked was the candidate.</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        <a class="code" href="classmonster.html">monster</a> &amp;helpermon = *mon;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        <span class="comment">// Contribution falls off rapidly with distance from target.</span></div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        bashskill += helpermon.<a class="code" href="classmonster.html#a7410372f55ca62ae5eda0fcc63b48622">bash_skill</a>() / <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( candidate, target );</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    }</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160; </div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <span class="keywordflow">return</span> bashskill;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;}</div>
<div class="ttc" id="acoordinates_8h_html_a31847b31c6ef002e9d16afd7fd0005e3"><div class="ttname"><a href="coordinates_8h.html#a31847b31c6ef002e9d16afd7fd0005e3">line_to</a></div><div class="ttdeci">std::vector&lt; coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &amp;&amp;RhsInBounds &gt; &gt; line_to(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00798">coordinates.h:798</a></div></div>
<div class="ttc" id="amonmove_8cpp_html_ae931fdf83b37ff0d7c8bfd3096fa0b73"><div class="ttname"><a href="monmove_8cpp.html#ae931fdf83b37ff0d7c8bfd3096fa0b73">get_bashing_zone</a></div><div class="ttdeci">static std::vector&lt; tripoint &gt; get_bashing_zone(const tripoint &amp;bashee, const tripoint &amp;basher, int maxdepth)</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l01650">monmove.cpp:1650</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monmove_8cpp_source.html#l01730">bash_skill()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="monmove_8cpp_source.html#l01650">get_bashing_zone()</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="coordinates_8h_source.html#l00798">line_to()</a>, <a class="el" href="mtype_8cpp_source.html#l00089">mon_flag_GROUP_BASH</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, and <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l01676">bash_at()</a>.</p>

</div>
</div>
<a id="a1bfdcc078e39c06a1cf7047803610204"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bfdcc078e39c06a1cf7047803610204">&#9670;&nbsp;</a></span>has_dest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::has_dest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01370">1370</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;{</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a7c3e07d777236b91713d6db073581dd3">goal</a>.has_value();</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00618">goal</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01405">attack_target()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00110">leap_actor::call()</a>, <a class="el" href="monattack_8cpp_source.html#l01746">has_vine_parent()</a>, <a class="el" href="monster_8cpp_source.html#l01394">is_wandering()</a>, <a class="el" href="monmove_8cpp_source.html#l01357">nursebot_operate()</a>, and <a class="el" href="editmap_8cpp_source.html#l00455">editmap::uber_draw_ter()</a>.</p>

</div>
</div>
<a id="a43202b3e829143741862e0f5f1e826a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43202b3e829143741862e0f5f1e826a7">&#9670;&nbsp;</a></span>has_flag() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::has_flag </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ab20bea1fe050a111618c76cc3e390caf">mon_flag_id</a> &amp;&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#aec78049b0ee4401d3a4c073663735aad">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01202">1202</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;{</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8f4ef7b98c4bad77c50171f7da0f4f56">has_flag</a>( f );</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00520">mtype::has_flag()</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="creature_8cpp_source.html#l03176">Character::add_msg_player_or_say()</a>, <a class="el" href="monmove_8cpp_source.html#l01778">attack_at()</a>, <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="npc_8cpp_source.html#l02386">npc::attitude_to()</a>, <a class="el" href="monmove_8cpp_source.html#l01719">bash_estimate()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00673">melee_actor::call()</a>, <a class="el" href="monster_8cpp_source.html#l02494">can_attack_high()</a>, <a class="el" href="monster_8cpp_source.html#l01252">can_dig()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04446">disable_activity_actor::can_disable_or_reprogram()</a>, <a class="el" href="monster_8cpp_source.html#l01236">can_drown()</a>, <a class="el" href="monster_8cpp_source.html#l01225">can_hear()</a>, <a class="el" href="monexamine_8cpp_source.html#l00563">Character::can_mount()</a>, <a class="el" href="monster_8cpp_source.html#l01220">can_see()</a>, <a class="el" href="monster_8cpp_source.html#l01230">can_submerge()</a>, <a class="el" href="character_8cpp_source.html#l07836">Character::can_wield()</a>, <a class="el" href="npctalk_8cpp_source.html#l00797">game::chat()</a>, <a class="el" href="monster_8cpp_source.html#l02975">check_mech_powered()</a>, <a class="el" href="monster_8cpp_source.html#l01267">climbs()</a>, <a class="el" href="monster_8cpp_source.html#l02127">deal_damage_handle_type()</a>, <a class="el" href="creature_8cpp_source.html#l00797">Creature::deal_melee_hit()</a>, <a class="el" href="monster_8cpp_source.html#l02097">deal_projectile_attack()</a>, <a class="el" href="monattack_8cpp_source.html#l02439">mattack::depart()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="monster_8cpp_source.html#l01257">digs()</a>, <a class="el" href="character_8cpp_source.html#l01840">Character::dismount()</a>, <a class="el" href="monster_8cpp_source.html#l03016">drop_items_on_death()</a>, <a class="el" href="explosion_8cpp_source.html#l00657">explosion_handler::emp_blast()</a>, <a class="el" href="game_8cpp_source.html#l06188">game::examine()</a>, <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="iuse_8cpp_source.html#l01918">iuse::extinguisher()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04412">disable_activity_actor::finish()</a>, <a class="el" href="monster_8cpp_source.html#l01262">flies()</a>, <a class="el" href="character_8cpp_source.html#l02189">Character::footstep_sound()</a>, <a class="el" href="monmove_8cpp_source.html#l01428">footsteps()</a>, <a class="el" href="monster_8cpp_source.html#l02991">generate_inventory()</a>, <a class="el" href="monster_8cpp_source.html#l03986">get_path_avoid()</a>, <a class="el" href="monmove_8cpp_source.html#l01735">group_bash_skill()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00110">talker_monster_const::has_flag()</a>, <a class="el" href="monster_8cpp_source.html#l01207">has_flag()</a>, <a class="el" href="monster_8cpp_source.html#l01334">has_intelligence()</a>, <a class="el" href="monster_8cpp_source.html#l03482">has_mind()</a>, <a class="el" href="monster_8cpp_source.html#l01759">has_weapon()</a>, <a class="el" href="monster_8cpp_source.html#l03758">hear_sound()</a>, <a class="el" href="monster_8cpp_source.html#l02549">impact()</a>, <a class="el" href="monster_8cpp_source.html#l03465">is_electrical()</a>, <a class="el" href="monster_8cpp_source.html#l03470">is_fae()</a>, <a class="el" href="monster_8cpp_source.html#l01829">is_immune_damage()</a>, <a class="el" href="monster_8cpp_source.html#l01780">is_immune_effect()</a>, <a class="el" href="monmove_8cpp_source.html#l00093">is_immune_field()</a>, <a class="el" href="monster_8cpp_source.html#l03585">is_nemesis()</a>, <a class="el" href="monster_8cpp_source.html#l01329">is_pet_follow()</a>, <a class="el" href="monster_8cpp_source.html#l01765">is_warm()</a>, <a class="el" href="monmove_8cpp_source.html#l02280">knock_back_to()</a>, <a class="el" href="monmove_8cpp_source.html#l00237">know_danger_at()</a>, <a class="el" href="iuse_8cpp_source.html#l02295">iuse::mace()</a>, <a class="el" href="monster_8cpp_source.html#l01903">melee_attack()</a>, <a class="el" href="monexamine_8cpp_source.html#l00928">monexamine::mfriend_menu()</a>, <a class="el" href="monattack_8cpp_source.html#l04693">mattack::mon_leech_evolution()</a>, <a class="el" href="monster_8cpp_source.html#l00288">monster()</a>, <a class="el" href="map__field_8cpp_source.html#l01819">map::monster_in_field()</a>, <a class="el" href="monmove_8cpp_source.html#l00135">monster_move_in_vehicle()</a>, <a class="el" href="monmove_8cpp_source.html#l00426">monster_plan::monster_plan()</a>, <a class="el" href="character_8cpp_source.html#l01592">Character::mount_creature()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00173">avatar_action::move()</a>, <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, <a class="el" href="mondeath_8cpp_source.html#l00059">mdeath::normal()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00981">bite_actor::on_damage()</a>, <a class="el" href="monster_8cpp_source.html#l03858">on_load()</a>, <a class="el" href="monexamine_8cpp_source.html#l00578">monexamine::pet_menu()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00982">avatar_action::plthrow()</a>, <a class="el" href="monster_8cpp_source.html#l00864">print_info()</a>, <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>, <a class="el" href="monster_8cpp_source.html#l02627">process_turn()</a>, <a class="el" href="monmove_8cpp_source.html#l02094">push_to()</a>, <a class="el" href="monster_8cpp_source.html#l00613">refill_udders()</a>, <a class="el" href="monmove_8cpp_source.html#l01475">scent_move()</a>, <a class="el" href="explosion_8cpp_source.html#l00645">explosion_handler::scrambler_blast()</a>, <a class="el" href="monmove_8cpp_source.html#l02425">shove_vehicle()</a>, <a class="el" href="monster_8cpp_source.html#l01285">sight_range()</a>, <a class="el" href="handle__action_8cpp_source.html#l00868">smash()</a>, <a class="el" href="monattack_8cpp_source.html#l01311">mattack::smash_specific()</a>, <a class="el" href="monmove_8cpp_source.html#l02233">stumble()</a>, <a class="el" href="monster_8cpp_source.html#l01272">swims()</a>, <a class="el" href="monster_8cpp_source.html#l00547">try_reproduce()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00902">place_monster_iuse::use()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01575">vehicle::use_harness()</a>, <a class="el" href="monster_8cpp_source.html#l02959">use_mech_power()</a>, <a class="el" href="game_8cpp_source.html#l11966">game::vertical_move()</a>, <a class="el" href="game_8cpp_source.html#l10533">game::walk_move()</a>, <a class="el" href="suffer_8cpp_source.html#l00316">suffer::while_grabbed()</a>, <a class="el" href="monster_8cpp_source.html#l03831">will_join_horde()</a>, <a class="el" href="monmove_8cpp_source.html#l00193">will_move_to()</a>, and <a class="el" href="monmove_8cpp_source.html#l02361">will_reach()</a>.</p>

</div>
</div>
<a id="ad09f92d117f8ebf997ac64b3740e92f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09f92d117f8ebf997ac64b3740e92f9">&#9670;&nbsp;</a></span>has_flag() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::has_flag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="type__id_8h.html#a65869bf196f1d97bcfd690e07ffbbd7d">flag_id</a>&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01207">1207</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;{</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <a class="code" href="classstring__id.html">mon_flag_str_id</a> checked( f.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() );</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>,</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                   <span class="stringliteral">&quot;Monster %s checked for flag %s&quot;</span>, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(),</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                   f.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() );</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keywordflow">if</span>( checked.is_valid() ) {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( checked );</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classCreature.html#aed2af9ad3e8abd06b3c3c4f1adaf607e">has_effect_with_flag</a>( f );</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    }</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="string__id_8h_source.html#l00252">string_id&lt; T &gt;::c_str()</a>, <a class="el" href="debug_8h_source.html#l00265">debugmode::DF_MONSTER</a>, <a class="el" href="creature_8cpp_source.html#l01792">Creature::has_effect_with_flag()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="achievement_8cpp_source.html#l00078">string_id&lt; T &gt;::is_valid()</a>, and <a class="el" href="monster_8cpp_source.html#l00722">name()</a>.</p>

</div>
</div>
<a id="a62c3af1c7aae4af06bcbf069e9597129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62c3af1c7aae4af06bcbf069e9597129">&#9670;&nbsp;</a></span>has_grab_break_tec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::has_grab_break_tec </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#abf07703407b2f56df4287bdd6de313cd">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02430">2430</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;{</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad0f32b1f18afffaa98c73767eb059ec9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0f32b1f18afffaa98c73767eb059ec9">&#9670;&nbsp;</a></span>has_intelligence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::has_intelligence </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01334">1334</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;{</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ac5e2cd69bddcec0fbb472df3e6991c40">mon_flag_PATH_AVOID_FALL</a> ) ||</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;           <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#aaed6bfffb6b455a66dc66a4792cabefc">mon_flag_PATH_AVOID_FIRE</a> ) ||</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;           <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ab0b72a092cc048de39170eb7efa37b0a">mon_flag_PATH_AVOID_DANGER_1</a> ) ||</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;           <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a953954e2c6d4fac0741d4a57c41610eb">mon_flag_PATH_AVOID_DANGER_2</a> ) ||</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;           <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#af88ca13a69fcf00093e7f86b5d55bfbd">mon_flag_PRIORITIZE_TARGETS</a> ) ||</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;           <a class="code" href="classmonster.html#a873925c09bec361ffd2363626828a362">get_pathfinding_settings</a>().<a class="code" href="structpathfinding__settings.html#ab888f81c3ce0d4f691e9f8619cf31328">avoid_sharp</a> ||</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;           <a class="code" href="classmonster.html#a873925c09bec361ffd2363626828a362">get_pathfinding_settings</a>().<a class="code" href="structpathfinding__settings.html#acba070ceb6ae16b9c3991a1d2814d4c8">avoid_traps</a>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a873925c09bec361ffd2363626828a362"><div class="ttname"><a href="classmonster.html#a873925c09bec361ffd2363626828a362">monster::get_pathfinding_settings</a></div><div class="ttdeci">const pathfinding_settings &amp; get_pathfinding_settings() const override</div><div class="ttdoc">Returns settings for pathfinding.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03981">monster.cpp:3981</a></div></div>
<div class="ttc" id="amtype_8cpp_html_aaed6bfffb6b455a66dc66a4792cabefc"><div class="ttname"><a href="mtype_8cpp.html#aaed6bfffb6b455a66dc66a4792cabefc">mon_flag_PATH_AVOID_FIRE</a></div><div class="ttdeci">mon_flag_id mon_flag_PATH_AVOID_FIRE</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00125">mtype.cpp:125</a></div></div>
<div class="ttc" id="amtype_8cpp_html_ac5e2cd69bddcec0fbb472df3e6991c40"><div class="ttname"><a href="mtype_8cpp.html#ac5e2cd69bddcec0fbb472df3e6991c40">mon_flag_PATH_AVOID_FALL</a></div><div class="ttdeci">mon_flag_id mon_flag_PATH_AVOID_FALL</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00124">mtype.cpp:124</a></div></div>
<div class="ttc" id="astructpathfinding__settings_html_ab888f81c3ce0d4f691e9f8619cf31328"><div class="ttname"><a href="structpathfinding__settings.html#ab888f81c3ce0d4f691e9f8619cf31328">pathfinding_settings::avoid_sharp</a></div><div class="ttdeci">bool avoid_sharp</div><div class="ttdef"><b>Definition:</b> <a href="pathfinding_8h_source.html#l00067">pathfinding.h:67</a></div></div>
<div class="ttc" id="astructpathfinding__settings_html_acba070ceb6ae16b9c3991a1d2814d4c8"><div class="ttname"><a href="structpathfinding__settings.html#acba070ceb6ae16b9c3991a1d2814d4c8">pathfinding_settings::avoid_traps</a></div><div class="ttdeci">bool avoid_traps</div><div class="ttdef"><b>Definition:</b> <a href="pathfinding_8h_source.html#l00064">pathfinding.h:64</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="pathfinding_8h_source.html#l00067">pathfinding_settings::avoid_sharp</a>, <a class="el" href="pathfinding_8h_source.html#l00064">pathfinding_settings::avoid_traps</a>, <a class="el" href="monster_8cpp_source.html#l03981">get_pathfinding_settings()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="mtype_8cpp_source.html#l00122">mon_flag_PATH_AVOID_DANGER_1</a>, <a class="el" href="mtype_8cpp_source.html#l00123">mon_flag_PATH_AVOID_DANGER_2</a>, <a class="el" href="mtype_8cpp_source.html#l00124">mon_flag_PATH_AVOID_FALL</a>, <a class="el" href="mtype_8cpp_source.html#l00125">mon_flag_PATH_AVOID_FIRE</a>, and <a class="el" href="mtype_8cpp_source.html#l00133">mon_flag_PRIORITIZE_TARGETS</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>.</p>

</div>
</div>
<a id="a370aa2fa45a0028e921de47eff0ff3c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a370aa2fa45a0028e921de47eff0ff3c6">&#9670;&nbsp;</a></span>has_mind()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::has_mind </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a46453b8a14e33b41caa0bf4a682db9bc">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03482">3482</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;{</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;    <span class="keywordflow">return</span> ( !<a class="code" href="classmonster.html#a803a0cab3aaf93e62ff8db223908dc6c">in_species</a>( <a class="code" href="monster_8cpp.html#a5fed17942ee7f2d1c81163a0b86151a4">species_PSI_NULL</a> ) &amp;&amp; <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a1f11268d5ed9aad8baf9acb95913b345">mon_flag_HAS_MIND</a> ) ) ||</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;           ( !<a class="code" href="classmonster.html#a803a0cab3aaf93e62ff8db223908dc6c">in_species</a>( <a class="code" href="monster_8cpp.html#a5fed17942ee7f2d1c81163a0b86151a4">species_PSI_NULL</a> ) &amp;&amp; !<a class="code" href="classmonster.html#a803a0cab3aaf93e62ff8db223908dc6c">in_species</a>( <a class="code" href="monster_8cpp.html#a6d062e430202ce21974bf3fb492002bf">species_ZOMBIE</a> ) &amp;&amp; <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a7420d59aee572242024a886f275a58c7">mon_flag_HUMAN</a> ) );</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a803a0cab3aaf93e62ff8db223908dc6c"><div class="ttname"><a href="classmonster.html#a803a0cab3aaf93e62ff8db223908dc6c">monster::in_species</a></div><div class="ttdeci">bool in_species(const species_id &amp;spec) const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01770">monster.cpp:1770</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a5fed17942ee7f2d1c81163a0b86151a4"><div class="ttname"><a href="monster_8cpp.html#a5fed17942ee7f2d1c81163a0b86151a4">species_PSI_NULL</a></div><div class="ttdeci">static const species_id species_PSI_NULL(&quot;PSI_NULL&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_a1f11268d5ed9aad8baf9acb95913b345"><div class="ttname"><a href="mtype_8cpp.html#a1f11268d5ed9aad8baf9acb95913b345">mon_flag_HAS_MIND</a></div><div class="ttdeci">mon_flag_id mon_flag_HAS_MIND</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00096">mtype.cpp:96</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a7420d59aee572242024a886f275a58c7"><div class="ttname"><a href="mtype_8cpp.html#a7420d59aee572242024a886f275a58c7">mon_flag_HUMAN</a></div><div class="ttdeci">mon_flag_id mon_flag_HUMAN</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00099">mtype.cpp:99</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="monster_8cpp_source.html#l01770">in_species()</a>, <a class="el" href="mtype_8cpp_source.html#l00096">mon_flag_HAS_MIND</a>, <a class="el" href="mtype_8cpp_source.html#l00099">mon_flag_HUMAN</a>, <a class="el" href="monster_8cpp.html#a5fed17942ee7f2d1c81163a0b86151a4">species_PSI_NULL</a>, and <a class="el" href="monster_8cpp.html#a6d062e430202ce21974bf3fb492002bf">species_ZOMBIE</a>.</p>

</div>
</div>
<a id="adb740c48fe2bf73555367d0545b85e81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb740c48fe2bf73555367d0545b85e81">&#9670;&nbsp;</a></span>has_special()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::has_special </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>special_name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test whether the monster has the specified special regardless of readiness. </p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02613">2613</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;{</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;    std::map&lt;std::string, mon_special_attack&gt;::const_iterator iter = <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.find(</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;                special_name );</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    <span class="keywordflow">return</span> iter != <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.end() &amp;&amp; iter-&gt;second.enabled;</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00617">special_attacks</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster__oracle_8cpp_source.html#l00097">behavior::monster_oracle_t::special_available()</a>, and <a class="el" href="monster__oracle_8cpp_source.html#l00018">behavior::monster_oracle_t::split_possible()</a>.</p>

</div>
</div>
<a id="adaf3b6ce3ae296abccbfd5a497b3d20f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaf3b6ce3ae296abccbfd5a497b3d20f">&#9670;&nbsp;</a></span>has_weapon()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::has_weapon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#aa80498f51ead4af4f6626b35116cbbd2">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01759">1759</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;{</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a207615e769df504816acf8015137b82c">mon_flag_WIELDED_WEAPON</a> ) &amp;&amp; !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a83d637079e888ed526c82ac58f167e93">effect_disarmed</a> ) &amp;&amp;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;           !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a14679428ef95aca3524e09290330fbfe">effect_maimed_arm</a> ); <span class="comment">// monsters can actually have weapons, silly</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;}</div>
<div class="ttc" id="amonster_8cpp_html_a14679428ef95aca3524e09290330fbfe"><div class="ttname"><a href="monster_8cpp.html#a14679428ef95aca3524e09290330fbfe">effect_maimed_arm</a></div><div class="ttdeci">static const efftype_id effect_maimed_arm(&quot;maimed_arm&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a83d637079e888ed526c82ac58f167e93"><div class="ttname"><a href="monster_8cpp.html#a83d637079e888ed526c82ac58f167e93">effect_disarmed</a></div><div class="ttdeci">static const efftype_id effect_disarmed(&quot;disarmed&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_a207615e769df504816acf8015137b82c"><div class="ttname"><a href="mtype_8cpp.html#a207615e769df504816acf8015137b82c">mon_flag_WIELDED_WEAPON</a></div><div class="ttdeci">mon_flag_id mon_flag_WIELDED_WEAPON</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00163">mtype.cpp:163</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp.html#a83d637079e888ed526c82ac58f167e93">effect_disarmed</a>, <a class="el" href="monster_8cpp.html#a14679428ef95aca3524e09290330fbfe">effect_maimed_arm</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, and <a class="el" href="mtype_8cpp_source.html#l00163">mon_flag_WIELDED_WEAPON</a>.</p>

</div>
</div>
<a id="a0efe8a7c1afcfe788aa886e49c27a3f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0efe8a7c1afcfe788aa886e49c27a3f5">&#9670;&nbsp;</a></span>hasten_upgrade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::hasten_upgrade </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00405">405</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;{</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a5a6be7cfbce50ad161774221638f356e">can_upgrade</a>() || <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> &lt; 1 ) {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> scaled_half_life = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9e9e707bf8f83b24296e21b6eaa414a2">half_life</a> * get_option&lt;float&gt;( <span class="stringliteral">&quot;MONSTER_UPGRADE_FACTOR&quot;</span> );</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> -= <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 1, scaled_half_life );</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> &lt; 0 ) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> = 0;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l00399">can_upgrade()</a>, <a class="el" href="mtype_8h_source.html#l00466">mtype::half_life</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="monster_8h_source.html#l00623">upgrade_time</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l03930">mattack::upgrade()</a>.</p>

</div>
</div>
<a id="af7763c0da8025aea231a29272f25d5fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7763c0da8025aea231a29272f25d5fc">&#9670;&nbsp;</a></span>heal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::heal </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delta_hp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>overheal</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flat addition to the monsters <a class="el" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a>. </p>
<p>If <code>overheal</code> is true, this is not capped by max hp. Returns actually healed hp. </p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02149">2149</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;{</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> maxhp = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">hp</a>;</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <span class="keywordflow">if</span>( delta_hp &lt;= 0 || ( <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> &gt;= maxhp &amp;&amp; !overheal ) ) {</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    }</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160; </div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> old_hp = <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a>;</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> += delta_hp;</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> &gt; maxhp &amp;&amp; !overheal ) {</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;        <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> = maxhp;</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    }</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> - old_hp;</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00616">hp</a>, <a class="el" href="mtype_8h_source.html#l00413">mtype::hp</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l04093">mattack::absorb_meat()</a>, <a class="el" href="monattack_8cpp_source.html#l02497">mattack::formblob()</a>, <a class="el" href="monattack_8cpp_source.html#l03920">mattack::generator()</a>, <a class="el" href="magic_8cpp_source.html#l01804">spell::heal()</a>, <a class="el" href="monster_8cpp_source.html#l02195">heal_bp()</a>, <a class="el" href="monster_8cpp_source.html#l03858">on_load()</a>, <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>, and <a class="el" href="monattack_8cpp_source.html#l05474">mattack::zombie_fuse()</a>.</p>

</div>
</div>
<a id="aa67645fecb3639720c0fb7fe4481b419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa67645fecb3639720c0fb7fe4481b419">&#9670;&nbsp;</a></span>heal_bp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::heal_bp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>&#160;</td>
          <td class="paramname"><em>bp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a4c2579763d3f6f47255fbe1068443b75">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02195">2195</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;{</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <a class="code" href="classmonster.html#af7763c0da8025aea231a29272f25d5fc">heal</a>( dam );</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_af7763c0da8025aea231a29272f25d5fc"><div class="ttname"><a href="classmonster.html#af7763c0da8025aea231a29272f25d5fc">monster::heal</a></div><div class="ttdeci">int heal(int delta_hp, bool overheal=false)</div><div class="ttdoc">Flat addition to the monsters hp.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02149">monster.cpp:2149</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l02149">heal()</a>.</p>

</div>
</div>
<a id="a9e9c36dc57363e1f9f42d34b270cf152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e9c36dc57363e1f9f42d34b270cf152">&#9670;&nbsp;</a></span>hear_sound()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::hear_sound </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>distance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>provocative</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes monster react to heard sound. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>Location of the sound source </td></tr>
    <tr><td class="paramname">vol</td><td>Volume at the center of the sound source </td></tr>
    <tr><td class="paramname">distance</td><td>Distance to sound source (currently just rl_dist) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03758">3758</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;{</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a1e799308a5bfe0f6c1f3d47a5c10987a">can_hear</a>() ) {</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;    }</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160; </div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> goodhearing = <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a05a9a9aea03ba7678ff077d03dca3515">mon_flag_GOODHEARING</a> );</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> = goodhearing ? 2 * vol - dist : vol - dist;</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;    <span class="comment">// Error is based on volume, louder sound = less error</span></div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> &lt;= 0 ) {</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;    }</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160; </div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;    <span class="keywordtype">int</span> tmp_provocative = provocative || <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> &gt;= <a class="code" href="rng_8cpp.html#a3a6a7e6245951426223e02f989bdd6a4">normal_roll</a>( 30, 5 );</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;    <span class="comment">// already following a more interesting sound</span></div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a790b213f8c42018dba14f5358644226f">provocative_sound</a> &amp;&amp; !tmp_provocative &amp;&amp; <a class="code" href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">wandf</a> &gt; 0 ) {</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;    }</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160; </div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;    <span class="keywordtype">int</span> max_error = 0;</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> &lt; 2 ) {</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;        max_error = 10;</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> &lt; 5 ) {</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;        max_error = 5;</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> &lt; 10 ) {</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;        max_error = 3;</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> &lt; 20 ) {</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;        max_error = 1;</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;    }</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160; </div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> target = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#ac868b594b36b6b9bbcb130650fd4f61f">getglobal</a>( source ) + <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( -max_error, max_error ),</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;                             <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( -max_error, max_error ) );</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;    <span class="comment">// target_z will require some special check due to soil muffling sounds</span></div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160; </div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> wander_turns = <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> * ( goodhearing ? 6 : 1 );</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;    <span class="comment">// again, already following a more interesting sound</span></div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;    <span class="keywordflow">if</span>( wander_turns &lt; <a class="code" href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">wandf</a> ) {</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;    }</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;    <span class="comment">// only trigger this if the monster is not friendly or the source isn&#39;t the player</span></div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == 0 || source != <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) {</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;        <a class="code" href="classmonster.html#a111b29c27d9c21920d01db403b3659e1">process_trigger</a>( <a class="code" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913af54e4b43b21580e967d29a9b7e735953">mon_trigger::SOUND</a>, <a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> );</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;    }</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;    <a class="code" href="classmonster.html#a790b213f8c42018dba14f5358644226f">provocative_sound</a> = tmp_provocative;</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> &gt;= 0 &amp;&amp; <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> &gt;= 10 ) {</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;        <span class="comment">// TODO: Add a proper check for fleeing attitude</span></div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;        <span class="comment">// but cache it nicely, because this part is called a lot</span></div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;        <a class="code" href="classmonster.html#a552098ce86a22d30643078a9ea191648">wander_to</a>( target, wander_turns );</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> &lt; 0 ) {</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;        <span class="comment">// Monsters afraid of sound should not go towards sound.</span></div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;        <span class="comment">// Move towards a point on the opposite side of us from the target.</span></div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;        <span class="comment">// TODO: make the destination scale with the sound and handle</span></div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;        <span class="comment">// the case when (x,y) is the same by picking a random direction</span></div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;        <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> away = <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() + ( <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() - target );</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;        away.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() = <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>();</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;        <a class="code" href="classmonster.html#a552098ce86a22d30643078a9ea191648">wander_to</a>( away, wander_turns );</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;    }</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">cata_variant_type::point</a></div><div class="ttdeci">@ point</div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__mut_html_aa94b8bd33e85ce94a3634e6e27ab0cdd"><div class="ttname"><a href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">coords::coord_point_mut::z</a></div><div class="ttdeci">constexpr auto z() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00167">coordinates.h:167</a></div></div>
<div class="ttc" id="aclassmap_html_ac868b594b36b6b9bbcb130650fd4f61f"><div class="ttname"><a href="classmap.html#ac868b594b36b6b9bbcb130650fd4f61f">map::getglobal</a></div><div class="ttdeci">tripoint_abs_ms getglobal(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09625">map.cpp:9625</a></div></div>
<div class="ttc" id="aclassmonster_html_a1e799308a5bfe0f6c1f3d47a5c10987a"><div class="ttname"><a href="classmonster.html#a1e799308a5bfe0f6c1f3d47a5c10987a">monster::can_hear</a></div><div class="ttdeci">bool can_hear() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01225">monster.cpp:1225</a></div></div>
<div class="ttc" id="aclassmonster_html_a552098ce86a22d30643078a9ea191648"><div class="ttname"><a href="classmonster.html#a552098ce86a22d30643078a9ea191648">monster::wander_to</a></div><div class="ttdeci">void wander_to(const tripoint_abs_ms &amp;p, int f)</div><div class="ttdoc">Set p as wander destination.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01399">monster.cpp:1399</a></div></div>
<div class="ttc" id="aclassmonster_html_a790b213f8c42018dba14f5358644226f"><div class="ttname"><a href="classmonster.html#a790b213f8c42018dba14f5358644226f">monster::provocative_sound</a></div><div class="ttdeci">bool provocative_sound</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00522">monster.h:522</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a05a9a9aea03ba7678ff077d03dca3515"><div class="ttname"><a href="mtype_8cpp.html#a05a9a9aea03ba7678ff077d03dca3515">mon_flag_GOODHEARING</a></div><div class="ttdeci">mon_flag_id mon_flag_GOODHEARING</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00087">mtype.cpp:87</a></div></div>
<div class="ttc" id="amtype_8h_html_a3bf0d3734009dbabe39a0d9fad3a5913af54e4b43b21580e967d29a9b7e735953"><div class="ttname"><a href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913af54e4b43b21580e967d29a9b7e735953">mon_trigger::SOUND</a></div><div class="ttdeci">@ SOUND</div></div>
<div class="ttc" id="arng_8cpp_html_a3a6a7e6245951426223e02f989bdd6a4"><div class="ttname"><a href="rng_8cpp.html#a3a6a7e6245951426223e02f989bdd6a4">normal_roll</a></div><div class="ttdeci">double normal_roll(double mean, double stddev)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00078">rng.cpp:78</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="monster_8cpp_source.html#l01225">can_hear()</a>, <a class="el" href="monster_8h_source.html#l00539">friendly</a>, <a class="el" href="creature_8cpp_source.html#l03232">Creature::get_location()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="map_8cpp_source.html#l09625">map::getglobal()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="mtype_8cpp_source.html#l00087">mon_flag_GOODHEARING</a>, <a class="el" href="monster_8h_source.html#l00541">morale</a>, <a class="el" href="rng_8cpp_source.html#l00078">normal_roll()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8h_source.html#l00317">Creature::posz()</a>, <a class="el" href="monster_8cpp_source.html#l01722">process_trigger()</a>, <a class="el" href="monster_8h_source.html#l00522">provocative_sound</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913af54e4b43b21580e967d29a9b7e735953">SOUND</a>, <a class="el" href="monster_8cpp_source.html#l01399">wander_to()</a>, <a class="el" href="monster_8h_source.html#l00523">wandf</a>, and <a class="el" href="coordinates_8h_source.html#l00167">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::z()</a>.</p>

</div>
</div>
<a id="a1b6494853af5785575f9b353f0838908"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b6494853af5785575f9b353f0838908">&#9670;&nbsp;</a></span>hit_roll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float monster::hit_roll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Should always be overwritten by the appropriate player/NPC/monster version. </p>

<p>Implements <a class="el" href="classCreature.html#ae92d2444aa89afae41c107cf6fcf6851">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02420">2420</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;{</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    <span class="keywordtype">float</span> hit = <a class="code" href="classCreature.html#a88b81d1ff0359794554e81c7ae16f370">get_hit</a>();</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#aa3320a370fe1f7f1cf6e14918ca20358">effect_bouldering</a> ) ) {</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;        hit /= 4;</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;    }</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160; </div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacemelee.html#a5ed3b88ed3376694a321005bc94214b7">melee::melee_hit_range</a>( hit );</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a88b81d1ff0359794554e81c7ae16f370"><div class="ttname"><a href="classCreature.html#a88b81d1ff0359794554e81c7ae16f370">Creature::get_hit</a></div><div class="ttdeci">virtual float get_hit() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02152">creature.cpp:2152</a></div></div>
<div class="ttc" id="anamespacemelee_html_a5ed3b88ed3376694a321005bc94214b7"><div class="ttname"><a href="namespacemelee.html#a5ed3b88ed3376694a321005bc94214b7">melee::melee_hit_range</a></div><div class="ttdeci">float melee_hit_range(float accuracy)</div><div class="ttdoc">Once the accuracy (sum of modifiers) of an attack has been determined, this is used to actually roll ...</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l02979">melee.cpp:2979</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp.html#aa3320a370fe1f7f1cf6e14918ca20358">effect_bouldering</a>, <a class="el" href="creature_8cpp_source.html#l02152">Creature::get_hit()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, and <a class="el" href="melee_8cpp_source.html#l02979">melee::melee_hit_range()</a>.</p>

</div>
</div>
<a id="aed44761b8e8ac00ee8ffef0347265e4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed44761b8e8ac00ee8ffef0347265e4c">&#9670;&nbsp;</a></span>hp_percentage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int monster::hp_percentage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a140c55c27932cd7a09befc12d80b9a3c">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01652">1652</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;{</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a2801a2f23fcaf2199b904c8bbf9fcab0">get_hp</a>( <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ) ) * 100 / <a class="code" href="classmonster.html#a7ca0faca8bfdf51f301903ab4ed56467">get_hp_max</a>();</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l03748">get_hp()</a>, and <a class="el" href="monster_8cpp_source.html#l03738">get_hp_max()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l07997">iuse::capture_monster_act()</a>, and <a class="el" href="monster_8cpp_source.html#l00375">poly()</a>.</p>

</div>
</div>
<a id="aaa97a46ad65185c3ff2fa76e2a89e6e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa97a46ad65185c3ff2fa76e2a89e6e1">&#9670;&nbsp;</a></span>impact()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int monster::impact </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>force</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deals falling/collision damage with terrain/creature at pos. </p>

<p>Implements <a class="el" href="classCreature.html#acbef2e3b6be66df5dd9a7bf587d116bf">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02549">2549</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;{</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a> &lt;= 0 ) {</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>;</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;    }</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160; </div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = <a class="code" href="classmonster.html#a605daf3158f1dea4cf92e075aa02d027">fall_damage_mod</a>();</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;    <span class="keywordtype">int</span> total_dealt = 0;</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a28fc0832c9c36a2deaa4f618f42c9c45">ter_furn_flag::TFLAG_SHARP</a>, p ) ) {</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> cut_damage = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 0.0f, 10 * <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> - <a class="code" href="classmonster.html#ab55cbaa78e9a77935dfc63e5c292317b">get_armor_type</a>( <a class="code" href="monster_8cpp.html#aecd517a9e74b5a5a21f0c75f88f50090">damage_cut</a>,</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;                                         <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ) ) );</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;        <a class="code" href="classmonster.html#afc6e6f5443145732310dd4901a394b4f">apply_damage</a>( <span class="keyword">nullptr</span>, <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), cut_damage );</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;        total_dealt += 10 * <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>;</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    }</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160; </div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> bash_damage = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 0.0f, <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a> * <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> - <a class="code" href="classmonster.html#ab55cbaa78e9a77935dfc63e5c292317b">get_armor_type</a>( <a class="code" href="monster_8cpp.html#a157369b3ee1f3f5a889eb1d42ed97638">damage_bash</a>,</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;                                      <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ) ) );</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;    <a class="code" href="classmonster.html#afc6e6f5443145732310dd4901a394b4f">apply_damage</a>( <span class="keyword">nullptr</span>, <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), bash_damage );</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    total_dealt += <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a> * <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>;</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160; </div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="code" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> * 3 + 1 ) ) );</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160; </div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;    <span class="keywordflow">return</span> total_dealt;</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a605daf3158f1dea4cf92e075aa02d027"><div class="ttname"><a href="classmonster.html#a605daf3158f1dea4cf92e075aa02d027">monster::fall_damage_mod</a></div><div class="ttdeci">float fall_damage_mod() const override</div><div class="ttdoc">Returns multiplier on fall damage at low velocity (knockback/pit/1 z-level, not 5 z-levels)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02524">monster.cpp:2524</a></div></div>
<div class="ttc" id="aclassmonster_html_ab55cbaa78e9a77935dfc63e5c292317b"><div class="ttname"><a href="classmonster.html#ab55cbaa78e9a77935dfc63e5c292317b">monster::get_armor_type</a></div><div class="ttdeci">int get_armor_type(const damage_type_id &amp;dt, bodypart_id bp) const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02405">monster.cpp:2405</a></div></div>
<div class="ttc" id="aclassmonster_html_afc6e6f5443145732310dd4901a394b4f"><div class="ttname"><a href="classmonster.html#afc6e6f5443145732310dd4901a394b4f">monster::apply_damage</a></div><div class="ttdeci">void apply_damage(Creature *source, bodypart_id bp, int dam, bool bypass_med=false) override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02169">monster.cpp:2169</a></div></div>
<div class="ttc" id="aclasstime__duration_html_a0f7145f4fc4c09defbaf25f468e4e54a"><div class="ttname"><a href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a></div><div class="ttdeci">static constexpr time_duration from_turns(const T t)</div><div class="ttdoc">Named constructors to get a duration representing a multiple of the named time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00221">calendar.h:221</a></div></div>
<div class="ttc" id="acreature_8h_html_a4b73e33b57ae387dc418906492d5f998"><div class="ttname"><a href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a></div><div class="ttdeci">bool force</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00241">creature.h:241</a></div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a28fc0832c9c36a2deaa4f618f42c9c45"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a28fc0832c9c36a2deaa4f618f42c9c45">ter_furn_flag::TFLAG_SHARP</a></div><div class="ttdeci">@ TFLAG_SHARP</div></div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
<div class="ttc" id="amonster_8cpp_html_aecd517a9e74b5a5a21f0c75f88f50090"><div class="ttname"><a href="monster_8cpp.html#aecd517a9e74b5a5a21f0c75f88f50090">damage_cut</a></div><div class="ttdeci">static const damage_type_id damage_cut(&quot;cut&quot;)</div></div>
<div class="ttc" id="anamespaceenchant__vals_html_acd6a6ebb27f9ecb82b3bce1d3aef2998"><div class="ttname"><a href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">enchant_vals::mod</a></div><div class="ttdeci">mod</div><div class="ttdef"><b>Definition:</b> <a href="magic__enchantment_8h_source.html#l00031">magic_enchantment.h:31</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="monster_8cpp_source.html#l02169">apply_damage()</a>, <a class="el" href="monster_8cpp.html#a157369b3ee1f3f5a889eb1d42ed97638">damage_bash</a>, <a class="el" href="monster_8cpp.html#aecd517a9e74b5a5a21f0c75f88f50090">damage_cut</a>, <a class="el" href="monster_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="el" href="monster_8cpp_source.html#l02524">fall_damage_mod()</a>, <a class="el" href="creature_8h_source.html#l00241">force</a>, <a class="el" href="calendar_8h_source.html#l00221">time_duration::from_turns()</a>, <a class="el" href="monster_8cpp_source.html#l02405">get_armor_type()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, and <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a28fc0832c9c36a2deaa4f618f42c9c45">TFLAG_SHARP</a>.</p>

</div>
</div>
<a id="a803a0cab3aaf93e62ff8db223908dc6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a803a0cab3aaf93e62ff8db223908dc6c">&#9670;&nbsp;</a></span>in_species()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::in_species </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#aabb3ae1a3aec00a1aa497b29c81ed527">species_id</a> &amp;&#160;</td>
          <td class="paramname"><em>spec</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a43b83bb780138cf2186b24cd40322756">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01770">1770</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;{</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( spec );</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8cpp_source.html#l00385">mtype::in_species()</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l03482">has_mind()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00117">talker_monster_const::has_species()</a>, <a class="el" href="monster_8cpp_source.html#l03465">is_electrical()</a>, <a class="el" href="monster_8cpp_source.html#l03475">is_nether()</a>, and <a class="el" href="math__parser__diag_8cpp_source.html#l00686">anonymous_namespace{math_parser_diag.cpp}::mon_check_species()</a>.</p>

</div>
</div>
<a id="a71b5a8e94a71255502dfd413e135d301"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71b5a8e94a71255502dfd413e135d301">&#9670;&nbsp;</a></span>increment_pathfinding_cd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::increment_pathfinding_cd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00645">645</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                                        {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <a class="code" href="classmonster.html#a2a072b02f6b004032034c2d553c1867b">pathfinding_cd</a> = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + <a class="code" href="classmonster.html#a5dda3c789745355b4de568d5d346d932">pathfinding_backoff</a>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            <a class="code" href="classmonster.html#a5dda3c789745355b4de568d5d346d932">pathfinding_backoff</a> = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <a class="code" href="classmonster.html#a5dda3c789745355b4de568d5d346d932">pathfinding_backoff</a> * 2, 10_seconds );</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        }</div>
<div class="ttc" id="aclassmonster_html_a5dda3c789745355b4de568d5d346d932"><div class="ttname"><a href="classmonster.html#a5dda3c789745355b4de568d5d346d932">monster::pathfinding_backoff</a></div><div class="ttdeci">time_duration pathfinding_backoff</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00636">monster.h:636</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="monster_8h_source.html#l00636">pathfinding_backoff</a>, <a class="el" href="monster_8h_source.html#l00635">pathfinding_cd</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>.</p>

</div>
</div>
<a id="afb07fb02cc8e1452ca81f71dfc995afd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb07fb02cc8e1452ca81f71dfc995afd">&#9670;&nbsp;</a></span>init_from_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::init_from_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>itm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize values like speed / hp from data of an item. </p>
<p>This applies to robotic monsters that are spawned by invoking an item (e.g. turret), and to reviving monsters that spawn from a corpse. </p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03590">3590</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;{</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;    <span class="keywordflow">if</span>( itm.<a class="code" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() ) {</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;        <a class="code" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">set_speed_base</a>( <a class="code" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a>() * 0.8 );</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> burnt_penalty = itm.<a class="code" href="classitem.html#a1fb1bc14a138ea0ea0b6883d4105a322">burnt</a>;</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;        <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> * 0.7 );</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;        <span class="keywordflow">if</span>( itm.<a class="code" href="classitem.html#adb2689178dd21563b3536a3ed0e83336">damage_level</a>() &gt; 0 ) {</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;            <a class="code" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">set_speed_base</a>( <a class="code" href="classCreature.html#a4d6cd41ef532de75cb9bb2aadcc68f06">speed_base</a> / ( itm.<a class="code" href="classitem.html#adb2689178dd21563b3536a3ed0e83336">damage_level</a>() + 1 ) );</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;            <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> /= itm.<a class="code" href="classitem.html#adb2689178dd21563b3536a3ed0e83336">damage_level</a>() + 1;</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;        }</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160; </div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;        <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> -= burnt_penalty;</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160; </div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;        <span class="comment">// HP can be 0 or less, in this case revive_corpse will just deactivate the corpse</span></div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> &gt; 0 &amp;&amp; <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8f4ef7b98c4bad77c50171f7da0f4f56">has_flag</a>( <a class="code" href="mtype_8cpp.html#aa938fa708d133d051453e6bed1b08121">mon_flag_REVIVES_HEALTHY</a> ) ) {</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;            <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">hp</a>;</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;            <a class="code" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">set_speed_base</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#addfa6852e581c8cebbd1bbf9c4ebbd9a">speed</a> );</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;        }</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;        <span class="comment">// if parent corpse is revives healthy *and* dormant, so will the monster</span></div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmtype.html">mtype</a> *corpse_mtype = itm.<a class="code" href="classitem.html#a66ba4b05a8ea5f9f15e4694027235aae">get_mtype</a>();</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> &gt; 0 &amp;&amp; corpse_mtype-&gt;<a class="code" href="structmtype.html#a8f4ef7b98c4bad77c50171f7da0f4f56">has_flag</a>( <a class="code" href="mtype_8cpp.html#aa938fa708d133d051453e6bed1b08121">mon_flag_REVIVES_HEALTHY</a> ) &amp;&amp;</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;            corpse_mtype-&gt;<a class="code" href="structmtype.html#a8f4ef7b98c4bad77c50171f7da0f4f56">has_flag</a>( <a class="code" href="mtype_8cpp.html#afded2a41cb5fee46d27f7bc5b0fa3189">mon_flag_DORMANT</a> ) ) {</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;            <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">hp</a>;</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;            <a class="code" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">set_speed_base</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#addfa6852e581c8cebbd1bbf9c4ebbd9a">speed</a> );</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;        }</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;        <span class="keyword">const</span> std::string up_time = itm.<a class="code" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;upgrade_time&quot;</span> );</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;        <span class="keywordflow">if</span>( !up_time.empty() ) {</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;            <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> = std::stoi( up_time );</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;        }</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> *it : itm.<a class="code" href="classitem.html#a10898a02e2696873c90e6b9ea3aca7bc">all_items_top</a>( <a class="code" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9bbab5f947b9e3fbb8a399ecc257459b">pocket_type::CONTAINER</a> ) ) {</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;            <span class="keywordflow">if</span>( it-&gt;is_armor() ) {</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;                it-&gt;set_flag( <a class="code" href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637">flag_id</a>( <span class="stringliteral">&quot;FILTHY&quot;</span> ) ) );</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;            }</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;            <a class="code" href="classmonster.html#a275d73e1bf3d08e2ea1a0704ac898f7e">inv</a>.push_back( *it );</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;            itm.<a class="code" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *it );</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;        }</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;        <span class="comment">//Move dissectables (installed bionics, etc)</span></div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> *dissectable : itm.<a class="code" href="classitem.html#a10898a02e2696873c90e6b9ea3aca7bc">all_items_top</a>( <a class="code" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1afd1267e84434bdbba6fd4fa7f869117d">pocket_type::CORPSE</a> ) ) {</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;            <a class="code" href="classmonster.html#a465028b1b8fcd3e2f397549f02cb1719">dissectable_inv</a>.push_back( *dissectable );</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;            itm.<a class="code" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *dissectable );</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;        }</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;        <span class="comment">// must be a robot</span></div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> damfac = itm.<a class="code" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() - <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 0, itm.<a class="code" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() ) + 1;</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;        <span class="comment">// One hp at least, everything else would be unfair (happens only to monster with *very* low hp),</span></div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;        <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 1, <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> * damfac / ( itm.<a class="code" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() + 1 ) );</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;    }</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a4d6cd41ef532de75cb9bb2aadcc68f06"><div class="ttname"><a href="classCreature.html#a4d6cd41ef532de75cb9bb2aadcc68f06">Creature::speed_base</a></div><div class="ttdeci">int speed_base</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01222">creature.h:1222</a></div></div>
<div class="ttc" id="aclassCreature_html_acfac03f5782f8ea53e1efcb5321ead1b"><div class="ttname"><a href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">Creature::get_speed_base</a></div><div class="ttdeci">virtual int get_speed_base() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02782">creature.cpp:2782</a></div></div>
<div class="ttc" id="aclassitem_html_a0b12108a604ac9d940716bb8f1368cf5"><div class="ttname"><a href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">item::get_var</a></div><div class="ttdeci">double get_var(const std::string &amp;name, double default_value) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01839">item.cpp:1839</a></div></div>
<div class="ttc" id="aclassitem_html_a10898a02e2696873c90e6b9ea3aca7bc"><div class="ttname"><a href="classitem.html#a10898a02e2696873c90e6b9ea3aca7bc">item::all_items_top</a></div><div class="ttdeci">std::list&lt; const item * &gt; all_items_top() const</div><div class="ttdoc">returns a list of pointers to all top-level items that are not mods</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14951">item.cpp:14951</a></div></div>
<div class="ttc" id="aclassitem_html_a1fb1bc14a138ea0ea0b6883d4105a322"><div class="ttname"><a href="classitem.html#a1fb1bc14a138ea0ea0b6883d4105a322">item::burnt</a></div><div class="ttdeci">int burnt</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03137">item.h:3137</a></div></div>
<div class="ttc" id="aclassitem_html_a216affc51dde30087c21fa5689a5c5e9"><div class="ttname"><a href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">item::max_damage</a></div><div class="ttdeci">int max_damage() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08900">item.cpp:8900</a></div></div>
<div class="ttc" id="aclassitem_html_a66ba4b05a8ea5f9f15e4694027235aae"><div class="ttname"><a href="classitem.html#a66ba4b05a8ea5f9f15e4694027235aae">item::get_mtype</a></div><div class="ttdeci">const mtype * get_mtype() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09531">item.cpp:9531</a></div></div>
<div class="ttc" id="aclassitem_html_ac9df48bb2d4404a70af9d2fc5e1fa1dd"><div class="ttname"><a href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">item::is_corpse</a></div><div class="ttdeci">bool is_corpse() const</div><div class="ttdoc">Whether this is a corpse item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09526">item.cpp:9526</a></div></div>
<div class="ttc" id="aclassitem_html_adb2689178dd21563b3536a3ed0e83336"><div class="ttname"><a href="classitem.html#adb2689178dd21563b3536a3ed0e83336">item::damage_level</a></div><div class="ttdeci">int damage_level(bool precise=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00876">item.cpp:876</a></div></div>
<div class="ttc" id="aclassitem_html_ae8a58c6fe3c80cded11d6f3ccfa548a3"><div class="ttname"><a href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">item::damage</a></div><div class="ttdeci">int damage() const</div><div class="ttdoc">How much damage has the item sustained?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00858">item.cpp:858</a></div></div>
<div class="ttc" id="aclassvisitable_html_adeb03e3af46e1b106a5f88f112add296"><div class="ttname"><a href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">visitable::remove_item</a></div><div class="ttdeci">item remove_item(item &amp;it)</div><div class="ttdoc">Removes and returns the item which must be contained by this instance.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00543">visitable.cpp:543</a></div></div>
<div class="ttc" id="amtype_8cpp_html_aa938fa708d133d051453e6bed1b08121"><div class="ttname"><a href="mtype_8cpp.html#aa938fa708d133d051453e6bed1b08121">mon_flag_REVIVES_HEALTHY</a></div><div class="ttdeci">mon_flag_id mon_flag_REVIVES_HEALTHY</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00141">mtype.cpp:141</a></div></div>
<div class="ttc" id="amtype_8cpp_html_afded2a41cb5fee46d27f7bc5b0fa3189"><div class="ttname"><a href="mtype_8cpp.html#afded2a41cb5fee46d27f7bc5b0fa3189">mon_flag_DORMANT</a></div><div class="ttdeci">mon_flag_id mon_flag_DORMANT</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00071">mtype.cpp:71</a></div></div>
<div class="ttc" id="astructmtype_html"><div class="ttname"><a href="structmtype.html">mtype</a></div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00284">mtype.h:284</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l14951">item::all_items_top()</a>, <a class="el" href="item_8h_source.html#l03137">item::burnt</a>, <a class="el" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9bbab5f947b9e3fbb8a399ecc257459b">CONTAINER</a>, <a class="el" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1afd1267e84434bdbba6fd4fa7f869117d">CORPSE</a>, <a class="el" href="item_8cpp_source.html#l00858">item::damage()</a>, <a class="el" href="item_8cpp_source.html#l00876">item::damage_level()</a>, <a class="el" href="monster_8h_source.html#l00525">dissectable_inv</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637">flag_id</a>, <a class="el" href="item_8cpp_source.html#l09531">item::get_mtype()</a>, <a class="el" href="creature_8cpp_source.html#l02782">Creature::get_speed_base()</a>, <a class="el" href="item_8cpp_source.html#l01839">item::get_var()</a>, <a class="el" href="mtype_8h_source.html#l00520">mtype::has_flag()</a>, <a class="el" href="monster_8h_source.html#l00616">hp</a>, <a class="el" href="mtype_8h_source.html#l00413">mtype::hp</a>, <a class="el" href="monster_8h_source.html#l00524">inv</a>, <a class="el" href="item_8cpp_source.html#l09526">item::is_corpse()</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="item_8cpp_source.html#l08900">item::max_damage()</a>, <a class="el" href="mtype_8cpp_source.html#l00071">mon_flag_DORMANT</a>, <a class="el" href="mtype_8cpp_source.html#l00141">mon_flag_REVIVES_HEALTHY</a>, <a class="el" href="visitable_8cpp_source.html#l00543">visitable::remove_item()</a>, <a class="el" href="creature_8cpp_source.html#l02873">Creature::set_speed_base()</a>, <a class="el" href="mtype_8h_source.html#l00414">mtype::speed</a>, <a class="el" href="creature_8h_source.html#l01222">Creature::speed_base</a>, <a class="el" href="make__static_8h_source.html#l00031">STATIC</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="monster_8h_source.html#l00623">upgrade_time</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l05538">game::revive_corpse()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00902">place_monster_iuse::use()</a>.</p>

</div>
</div>
<a id="aee5ef0428af50c1c78fd68d8c92c98a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee5ef0428af50c1c78fd68d8c92c98a5">&#9670;&nbsp;</a></span>is_aquatic_danger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_aquatic_danger </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>at_pos</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the given square presents a possibility of drowning for the monster: it's deep water, it's liquid, the monster can drown, and there is no boardable vehicle part present. </p>

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l00841">841</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;{</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">return</span> here.<a class="code" href="classmap.html#af0e872a5d0a7bf1e9745aeb18d3b5e44">has_flag_ter</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac6e19e1c41724be67b2bff2870539ca1">ter_furn_flag::TFLAG_DEEP_WATER</a>, at_pos ) &amp;&amp;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;           here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a7518f40a34b4cbfbc922c4888af267cc">ter_furn_flag::TFLAG_LIQUID</a>, at_pos ) &amp;&amp;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;           <a class="code" href="classmonster.html#ac654df3156626ea7e474365b5fd0056e">can_drown</a>() &amp;&amp; !here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( at_pos ).<a class="code" href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">part_with_feature</a>( <span class="stringliteral">&quot;BOARDABLE&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_af0e872a5d0a7bf1e9745aeb18d3b5e44"><div class="ttname"><a href="classmap.html#af0e872a5d0a7bf1e9745aeb18d3b5e44">map::has_flag_ter</a></div><div class="ttdeci">bool has_flag_ter(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03107">map.cpp:3107</a></div></div>
<div class="ttc" id="aclassmonster_html_ac654df3156626ea7e474365b5fd0056e"><div class="ttname"><a href="classmonster.html#ac654df3156626ea7e474365b5fd0056e">monster::can_drown</a></div><div class="ttdeci">bool can_drown() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01236">monster.cpp:1236</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html_a4c78451e42e97753079ecd2a54c7143d"><div class="ttname"><a href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">optional_vpart_position::part_with_feature</a></div><div class="ttdeci">std::optional&lt; vpart_reference &gt; part_with_feature(const std::string &amp;f, bool unbroken) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02698">vehicle.cpp:2698</a></div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a7518f40a34b4cbfbc922c4888af267cc"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a7518f40a34b4cbfbc922c4888af267cc">ter_furn_flag::TFLAG_LIQUID</a></div><div class="ttdeci">@ TFLAG_LIQUID</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054ac6e19e1c41724be67b2bff2870539ca1"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac6e19e1c41724be67b2bff2870539ca1">ter_furn_flag::TFLAG_DEEP_WATER</a></div><div class="ttdeci">@ TFLAG_DEEP_WATER</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01236">can_drown()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l03107">map::has_flag_ter()</a>, <a class="el" href="vehicle_8cpp_source.html#l02698">optional_vpart_position::part_with_feature()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac6e19e1c41724be67b2bff2870539ca1">TFLAG_DEEP_WATER</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a7518f40a34b4cbfbc922c4888af267cc">TFLAG_LIQUID</a>, and <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00849">die_if_drowning()</a>.</p>

</div>
</div>
<a id="af033816139df1dfa154c27b199b51da6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af033816139df1dfa154c27b199b51da6">&#9670;&nbsp;</a></span>is_dead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_dead </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03580">3580</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;{</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa2dfdd8d67d988b02c1bba9410df7f79">dead</a> || <a class="code" href="classmonster.html#a7a6be5e2dd4d5b14d1b9ccb61b1b4f6d">is_dead_state</a>();</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00619">dead</a>, and <a class="el" href="monster_8cpp_source.html#l01865">is_dead_state()</a>.</p>

<p class="reference">Referenced by <a class="el" href="explosion_8cpp_source.html#l00657">explosion_handler::emp_blast()</a>, <a class="el" href="game_8cpp_source.html#l11735">game::fling_creature()</a>, <a class="el" href="game_8cpp_source.html#l05671">game::forced_door_closing()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00205">talker_monster::get_is_alive()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00263">creature_tracker::kill_marked_for_death()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00173">avatar_action::move()</a>, <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00287">creature_tracker::remove_dead()</a>, <a class="el" href="iuse_8cpp_source.html#l05311">iuse::robotcontrol_can_target()</a>, <a class="el" href="monmove_8cpp_source.html#l02233">stumble()</a>, and <a class="el" href="creature__tracker_8cpp_source.html#l00109">creature_tracker::update_pos()</a>.</p>

</div>
</div>
<a id="a7a6be5e2dd4d5b14d1b9ccb61b1b4f6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a6be5e2dd4d5b14d1b9ccb61b1b4f6d">&#9670;&nbsp;</a></span>is_dead_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_dead_state </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#ab4c318885f6b9947a7c85d3328d25ffe">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01865">1865</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;{</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> &lt;= 0;</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00616">hp</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02169">apply_damage()</a>, <a class="el" href="ballistics_8cpp_source.html#l00047">drop_or_embed_projectile()</a>, <a class="el" href="monster_8cpp_source.html#l03580">is_dead()</a>, and <a class="el" href="mondefense_8cpp_source.html#l00144">mdefense::return_fire()</a>.</p>

</div>
</div>
<a id="ae7eed08e243bf4be1ac8d3faa45e9c96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7eed08e243bf4be1ac8d3faa45e9c96">&#9670;&nbsp;</a></span>is_elec_immune()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_elec_immune </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a8c833068edbe464c195c15084ab544f0">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01775">1775</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;{</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa438b330dcce731464afb38f2597e374">is_immune_damage</a>( <a class="code" href="monster_8cpp.html#a7926a4cddea2b56ea5b2264f464d1b15">damage_electric</a> );</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;}</div>
<div class="ttc" id="amonster_8cpp_html_a7926a4cddea2b56ea5b2264f464d1b15"><div class="ttname"><a href="monster_8cpp.html#a7926a4cddea2b56ea5b2264f464d1b15">damage_electric</a></div><div class="ttdeci">static const damage_type_id damage_electric(&quot;electric&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp.html#a7926a4cddea2b56ea5b2264f464d1b15">damage_electric</a>, and <a class="el" href="monster_8cpp_source.html#l01829">is_immune_damage()</a>.</p>

</div>
</div>
<a id="afa9d1524633d867a9c7702d7b5c56233"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa9d1524633d867a9c7702d7b5c56233">&#9670;&nbsp;</a></span>is_electrical()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_electrical </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a4006cd01d567e2ab92b9ea803bda2e82">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03465">3465</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;{</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a803a0cab3aaf93e62ff8db223908dc6c">in_species</a>( <a class="code" href="monster_8cpp.html#a478c9c699e4248bf7d25ae31156bf0b7">species_ROBOT</a> ) || <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a1a2c96cda209ef35238ac3e040c62aa9">mon_flag_ELECTRIC</a> ) || <a class="code" href="classmonster.html#a803a0cab3aaf93e62ff8db223908dc6c">in_species</a>( <a class="code" href="monster_8cpp.html#aab09eb1efaeddd85aaa45f4f36501934">species_CYBORG</a> );</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;}</div>
<div class="ttc" id="amonster_8cpp_html_a478c9c699e4248bf7d25ae31156bf0b7"><div class="ttname"><a href="monster_8cpp.html#a478c9c699e4248bf7d25ae31156bf0b7">species_ROBOT</a></div><div class="ttdeci">static const species_id species_ROBOT(&quot;ROBOT&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_aab09eb1efaeddd85aaa45f4f36501934"><div class="ttname"><a href="monster_8cpp.html#aab09eb1efaeddd85aaa45f4f36501934">species_CYBORG</a></div><div class="ttdeci">static const species_id species_CYBORG(&quot;CYBORG&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_a1a2c96cda209ef35238ac3e040c62aa9"><div class="ttname"><a href="mtype_8cpp.html#a1a2c96cda209ef35238ac3e040c62aa9">mon_flag_ELECTRIC</a></div><div class="ttdeci">mon_flag_id mon_flag_ELECTRIC</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00078">mtype.cpp:78</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="monster_8cpp_source.html#l01770">in_species()</a>, <a class="el" href="mtype_8cpp_source.html#l00078">mon_flag_ELECTRIC</a>, <a class="el" href="monster_8cpp.html#aab09eb1efaeddd85aaa45f4f36501934">species_CYBORG</a>, and <a class="el" href="monster_8cpp.html#a478c9c699e4248bf7d25ae31156bf0b7">species_ROBOT</a>.</p>

</div>
</div>
<a id="a1b64a4a072b0250feaa6bb592231b1f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b64a4a072b0250feaa6bb592231b1f4">&#9670;&nbsp;</a></span>is_fae()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_fae </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#ab4c832655df6007d8958a475fa8d21cf">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03470">3470</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;{</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a46a866961e790e402113320723d89d7d">mon_flag_FAE_CREATURE</a> );</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;}</div>
<div class="ttc" id="amtype_8cpp_html_a46a866961e790e402113320723d89d7d"><div class="ttname"><a href="mtype_8cpp.html#a46a866961e790e402113320723d89d7d">mon_flag_FAE_CREATURE</a></div><div class="ttdeci">mon_flag_id mon_flag_FAE_CREATURE</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00081">mtype.cpp:81</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, and <a class="el" href="mtype_8cpp_source.html#l00081">mon_flag_FAE_CREATURE</a>.</p>

</div>
</div>
<a id="a0f5047243bc2dc00f32c39b5d0918002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f5047243bc2dc00f32c39b5d0918002">&#9670;&nbsp;</a></span>is_fleeing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_fleeing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01438">1438</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;{</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a04c74718e60016b199e7cdff71d5aa90">effect_cache</a>[<a class="code" href="monster_8h.html#a84ab55bd738531d991f877a7650b7fd1a83cac1efd028387ff7fb9ced13f48f1d">FLEEING</a>] ) {</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    }</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> &gt;= 100 || <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> &gt;= 100 ) {</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    }</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4">monster_attitude</a> att = <a class="code" href="classmonster.html#a6f9b80e613e46d2a7ebbb21ea5e11e4c">attitude</a>( &amp;<a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a> );</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keywordflow">return</span> att == <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a1c6426f1f830743448b46e8e2aa068b4">MATT_FLEE</a> || ( att == <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a850d5624fd1d54192310ab8b13f228ee">MATT_FOLLOW</a> &amp;&amp; <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>.pos() ) &lt;= 4 );</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;}</div>
<div class="ttc" id="amonster_8h_html_aac044bb92427fa3cd80c3c945ba7ecd4"><div class="ttname"><a href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4">monster_attitude</a></div><div class="ttdeci">monster_attitude</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00057">monster.h:57</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="monster_8h_source.html#l00654">effect_cache</a>, <a class="el" href="monster_8h_source.html#l00070">FLEEING</a>, <a class="el" href="monster_8h_source.html#l00061">MATT_FLEE</a>, <a class="el" href="monster_8h_source.html#l00063">MATT_FOLLOW</a>, <a class="el" href="monster_8h_source.html#l00541">morale</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, and <a class="el" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>, <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>, and <a class="el" href="monmove_8cpp_source.html#l01475">scent_move()</a>.</p>

</div>
</div>
<a id="a1ff84827bdbc7ba7be2fffb53f5362e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ff84827bdbc7ba7be2fffb53f5362e6">&#9670;&nbsp;</a></span>is_grabbing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_grabbing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>&#160;</td>
          <td class="paramname"><em>bp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02519">2519</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;{</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a66f79823ab25161f7aabf43445a580a4">effect_grabbing</a> ) &amp;&amp; <a class="code" href="classmonster.html#ab867ed85af4f78ffd00d7c525fba796b">grabbed_limbs</a>.find( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> ) != <a class="code" href="classmonster.html#ab867ed85af4f78ffd00d7c525fba796b">grabbed_limbs</a>.end();</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8h_source.html#l00238">bp</a>, <a class="el" href="monster_8cpp.html#a66f79823ab25161f7aabf43445a580a4">effect_grabbing</a>, <a class="el" href="monster_8h_source.html#l00519">grabbed_limbs</a>, and <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l00673">melee_actor::call()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="melee_8cpp_source.html#l01801">Character::perform_technique()</a>, and <a class="el" href="character__escape_8cpp_source.html#l00181">Character::try_remove_grab()</a>.</p>

</div>
</div>
<a id="a70c250ac59c7d91b374dfa5d7b8da66c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70c250ac59c7d91b374dfa5d7b8da66c">&#9670;&nbsp;</a></span>is_hallucination()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_hallucination </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03460">3460</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;{</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a9a2109e8e8394c4580a7a545ab9c04fb">hallucination</a>;</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00567">hallucination</a>.</p>

<p class="reference">Referenced by <a class="el" href="creature__tracker_8cpp_source.html#l00068">creature_tracker::add()</a>, <a class="el" href="monmove_8cpp_source.html#l01778">attack_at()</a>, <a class="el" href="monmove_8cpp_source.html#l01676">bash_at()</a>, <a class="el" href="monster_8cpp_source.html#l03488">bloodType()</a>, <a class="el" href="iuse_8cpp_source.html#l06517">iuse::camera()</a>, <a class="el" href="monster_8cpp_source.html#l02975">check_mech_powered()</a>, <a class="el" href="monster_8cpp_source.html#l02097">deal_projectile_attack()</a>, <a class="el" href="game_8cpp_source.html#l12750">game::despawn_monster()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="monster_8cpp_source.html#l03016">drop_items_on_death()</a>, <a class="el" href="monmove_8cpp_source.html#l01428">footsteps()</a>, <a class="el" href="monster_8cpp_source.html#l02991">generate_inventory()</a>, <a class="el" href="monster_8cpp_source.html#l03495">gibType()</a>, <a class="el" href="iuse_8cpp_source.html#l03274">iuse::granade_act()</a>, <a class="el" href="monmove_8cpp_source.html#l01735">group_bash_skill()</a>, <a class="el" href="monmove_8cpp_source.html#l02280">knock_back_to()</a>, <a class="el" href="monster_8cpp_source.html#l03413">make_fungus()</a>, <a class="el" href="monster_8cpp_source.html#l01903">melee_attack()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00173">avatar_action::move()</a>, <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, <a class="el" href="monster__oracle_8cpp_source.html#l00013">behavior::monster_oracle_t::not_hallucination()</a>, <a class="el" href="monster_8cpp_source.html#l03679">on_hit()</a>, <a class="el" href="iuse_8cpp_source.html#l06109">photo_def_for_camera_point()</a>, <a class="el" href="monster_8cpp_source.html#l02627">process_turn()</a>, <a class="el" href="monmove_8cpp_source.html#l02094">push_to()</a>, <a class="el" href="monmove_8cpp_source.html#l02425">shove_vehicle()</a>, <a class="el" href="monster_8cpp_source.html#l03081">spawn_dissectables_on_death()</a>, <a class="el" href="monmove_8cpp_source.html#l02233">stumble()</a>, <a class="el" href="monster_8cpp_source.html#l00672">try_biosignature()</a>, and <a class="el" href="monster_8cpp_source.html#l02959">use_mech_power()</a>.</p>

</div>
</div>
<a id="aa438b330dcce731464afb38f2597e374"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa438b330dcce731464afb38f2597e374">&#9670;&nbsp;</a></span>is_immune_damage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_immune_damage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a> &amp;&#160;</td>
          <td class="paramname"><em>dt</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a87e6ed9d2389c292240debc899ab9aec">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01829">1829</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;{</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="keywordflow">if</span>( !dt-&gt;<a class="code" href="structdamage__type.html#ae4af9281ec92f0f3003913c8cbbaae6f">mon_immune_flags</a>.empty() ) {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;mf : dt-&gt;<a class="code" href="structdamage__type.html#ae4af9281ec92f0f3003913c8cbbaae6f">mon_immune_flags</a> ) {</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="type__id_8h.html#ab20bea1fe050a111618c76cc3e390caf">mon_flag_id</a>( mf ) ) ) {</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            }</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;        }</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    }</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="comment">// FIXME: Hardcoded damage type specific immunities</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    <span class="keywordflow">if</span>( dt == <a class="code" href="monster_8cpp.html#ae01ac1ba15b1a58809aef8bc1f735b5b">damage_heat</a> &amp;&amp; ( <a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#a6cda9e7cd9c37d3822410cf6280babdf">material_steel</a> ) || <a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#ab7ebadf66a175d343f5db02afda22bf4">material_stone</a> ) ) ) {</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    }</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <span class="keywordflow">if</span>( dt == <a class="code" href="monster_8cpp.html#a7926a4cddea2b56ea5b2264f464d1b15">damage_electric</a> &amp;&amp; <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a90766c9bb21264c53ed3c97ca031ccf6">sp_defense</a> == &amp;<a class="code" href="namespacemdefense.html#ab6cedba84e8aed8494aa011c914895af">mdefense::zapback</a> ) {</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    }</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160; </div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a6e03e18c6ea5e5adb496634b2bbaea52"><div class="ttname"><a href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">monster::made_of</a></div><div class="ttdeci">bool made_of(const material_id &amp;m) const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01304">monster.cpp:1304</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a6cda9e7cd9c37d3822410cf6280babdf"><div class="ttname"><a href="monster_8cpp.html#a6cda9e7cd9c37d3822410cf6280babdf">material_steel</a></div><div class="ttdeci">static const material_id material_steel(&quot;steel&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ab7ebadf66a175d343f5db02afda22bf4"><div class="ttname"><a href="monster_8cpp.html#ab7ebadf66a175d343f5db02afda22bf4">material_stone</a></div><div class="ttdeci">static const material_id material_stone(&quot;stone&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ae01ac1ba15b1a58809aef8bc1f735b5b"><div class="ttname"><a href="monster_8cpp.html#ae01ac1ba15b1a58809aef8bc1f735b5b">damage_heat</a></div><div class="ttdeci">static const damage_type_id damage_heat(&quot;heat&quot;)</div></div>
<div class="ttc" id="anamespacemdefense_html_ab6cedba84e8aed8494aa011c914895af"><div class="ttname"><a href="namespacemdefense.html#ab6cedba84e8aed8494aa011c914895af">mdefense::zapback</a></div><div class="ttdeci">void zapback(monster &amp;m, Creature *source, const dealt_projectile_attack *proj)</div><div class="ttdef"><b>Definition:</b> <a href="mondefense_8cpp_source.html#l00044">mondefense.cpp:44</a></div></div>
<div class="ttc" id="astructdamage__type_html_ae4af9281ec92f0f3003913c8cbbaae6f"><div class="ttname"><a href="structdamage__type.html#ae4af9281ec92f0f3003913c8cbbaae6f">damage_type::mon_immune_flags</a></div><div class="ttdeci">cata::flat_set&lt; std::string &gt; mon_immune_flags</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00036">damage.h:36</a></div></div>
<div class="ttc" id="astructmtype_html_a90766c9bb21264c53ed3c97ca031ccf6"><div class="ttname"><a href="structmtype.html#a90766c9bb21264c53ed3c97ca031ccf6">mtype::sp_defense</a></div><div class="ttdeci">mon_action_defend sp_defense</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00295">mtype.h:295</a></div></div>
<div class="ttc" id="atype__id_8h_html_ab20bea1fe050a111618c76cc3e390caf"><div class="ttname"><a href="type__id_8h.html#ab20bea1fe050a111618c76cc3e390caf">mon_flag_id</a></div><div class="ttdeci">int_id&lt; mon_flag &gt; mon_flag_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00152">type_id.h:152</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp.html#a7926a4cddea2b56ea5b2264f464d1b15">damage_electric</a>, <a class="el" href="monster_8cpp.html#ae01ac1ba15b1a58809aef8bc1f735b5b">damage_heat</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="monster_8cpp_source.html#l01304">made_of()</a>, <a class="el" href="monster_8cpp.html#a6cda9e7cd9c37d3822410cf6280babdf">material_steel</a>, <a class="el" href="monster_8cpp.html#ab7ebadf66a175d343f5db02afda22bf4">material_stone</a>, <a class="el" href="damage_8h_source.html#l00036">damage_type::mon_immune_flags</a>, <a class="el" href="mtype_8h_source.html#l00295">mtype::sp_defense</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="mondefense_8cpp_source.html#l00044">mdefense::zapback()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02127">deal_damage_handle_type()</a>, <a class="el" href="monster_8cpp_source.html#l01775">is_elec_immune()</a>, and <a class="el" href="monster_8cpp_source.html#l01780">is_immune_effect()</a>.</p>

</div>
</div>
<a id="a997d7fb58cdf5a5fe53216fd3ad3b62c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a997d7fb58cdf5a5fe53216fd3ad3b62c">&#9670;&nbsp;</a></span>is_immune_effect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_immune_effect </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>effect</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#acfe4b827ccc042c7933e709fbca6476e">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01780">1780</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;{</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classeffect.html">effect</a> == <a class="code" href="monster_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a> ) {</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa438b330dcce731464afb38f2597e374">is_immune_damage</a>( <a class="code" href="monster_8cpp.html#ae01ac1ba15b1a58809aef8bc1f735b5b">damage_heat</a> ) ||</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;               <a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) ||</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;               <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a7b2b7126b333bcb38fcb0fb43479d869">mon_flag_FIREY</a> );</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    }</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160; </div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classeffect.html">effect</a> == <a class="code" href="monster_8cpp.html#a151e6b162a8a2cdbdb11c407013076eb">effect_bleed</a> ) {</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        <span class="keywordflow">return</span> ( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af750a603bc0b63a33edb9b554e3d3d92">bloodType</a>() == <a class="code" href="field__type_8cpp.html#abbf9ee25d4081063b76f7f3bd2a11793">fd_null</a> || <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a34ab7cd08d9ee9720b8c11f4e0fd0e88">bleed_rate</a> == 0 );</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    }</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160; </div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classeffect.html">effect</a> == <a class="code" href="monster_8cpp.html#a7278621d512e96abab0bc940db64aa24">effect_venom_dmg</a> ||</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;        <a class="code" href="classeffect.html">effect</a> == <a class="code" href="monster_8cpp.html#a1b6011792c2154810e0d4f2c7a2beee6">effect_venom_player1</a> ||</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;        <a class="code" href="classeffect.html">effect</a> == <a class="code" href="monster_8cpp.html#ade84fa7ae6e411529fe9dd1655f98ef4">effect_venom_player2</a> ) {</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;        <span class="keywordflow">return</span> ( !<a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#a20136c47b45ab5d735760a8a5853f1b3">material_flesh</a> ) &amp;&amp; !<a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a> ) ) ||</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;               <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monster_8cpp.html#adf36e717a3146f226c235bfff05692e8">species_NETHER</a> ) || <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monster_8cpp.html#ab26b2bd0c379b53cf4e68fc629cade48">species_MIGO</a> ) ||</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;               <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monster_8cpp.html#a80bff8979ed84d0b2420373db3c7013d">species_LEECH_PLANT</a> );</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    }</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160; </div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classeffect.html">effect</a> == <a class="code" href="monster_8cpp.html#a04a9c5a38c56dac485cb30d93ee38658">effect_paralyzepoison</a> ||</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        <a class="code" href="classeffect.html">effect</a> == <a class="code" href="monster_8cpp.html#a0f3a25eb2b398fd705348436a034da00">effect_badpoison</a> ||</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        <a class="code" href="classeffect.html">effect</a> == <a class="code" href="monster_8cpp.html#a8040b30e1234db0e1aab101465b8d262">effect_venom_weaken</a> ||</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        <a class="code" href="classeffect.html">effect</a> == <a class="code" href="monster_8cpp.html#ace42425e1e703ebbe953ade0f6110b7c">effect_poison</a> ) {</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monster_8cpp.html#a6d062e430202ce21974bf3fb492002bf">species_ZOMBIE</a> ) || <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monster_8cpp.html#adf36e717a3146f226c235bfff05692e8">species_NETHER</a> ) ||</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;               <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monster_8cpp.html#ab26b2bd0c379b53cf4e68fc629cade48">species_MIGO</a> ) ||</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;               !<a class="code" href="classmonster.html#a4092c04058a74fa078c89763d11e53ee">made_of_any</a>( <a class="code" href="classCreature.html#a81c28d7d1cb83a47794dbf879dede400">Creature::cmat_flesh</a> ) || <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monster_8cpp.html#a80bff8979ed84d0b2420373db3c7013d">species_LEECH_PLANT</a> );</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    }</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160; </div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classeffect.html">effect</a> == <a class="code" href="monster_8cpp.html#a4819c7e99726d1e7f38c94f65010f143">effect_tpollen</a> ) {</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monster_8cpp.html#a8aac1e2860192ddd013a936e0d912f39">species_PLANT</a> );</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    }</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160; </div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classeffect.html">effect</a> == <a class="code" href="monster_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a> ) {</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a330f9c7b8f5bb69a68c8748f73b4bb8c">mon_flag_STUN_IMMUNE</a> );</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    }</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160; </div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classeffect.html">effect</a> == <a class="code" href="monster_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a> ) {</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a541f9bf8c2e84856ea34db43f88991b3">bodytype</a> == <span class="stringliteral">&quot;insect&quot;</span> || <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a541f9bf8c2e84856ea34db43f88991b3">bodytype</a> == <span class="stringliteral">&quot;flying insect&quot;</span> || <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a541f9bf8c2e84856ea34db43f88991b3">bodytype</a> == <span class="stringliteral">&quot;spider&quot;</span> ||</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;            <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a541f9bf8c2e84856ea34db43f88991b3">bodytype</a> == <span class="stringliteral">&quot;crab&quot;</span> ) {</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( 3, 4 );</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a541f9bf8c2e84856ea34db43f88991b3">bodytype</a> == <span class="stringliteral">&quot;snake&quot;</span> || <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a541f9bf8c2e84856ea34db43f88991b3">bodytype</a> == <span class="stringliteral">&quot;blob&quot;</span> || <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a541f9bf8c2e84856ea34db43f88991b3">bodytype</a> == <span class="stringliteral">&quot;fish&quot;</span> ||</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;                   <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a776ebd0e3e03458d9d46655ba63c3a09">mon_flag_FLIES</a> ) || <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#af8eb4198f7564379a407e89c13cdd1b7">mon_flag_IMMOBILE</a> );</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        }</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    }</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a81c28d7d1cb83a47794dbf879dede400"><div class="ttname"><a href="classCreature.html#a81c28d7d1cb83a47794dbf879dede400">Creature::cmat_flesh</a></div><div class="ttdeci">static const std::set&lt; material_id &gt; cmat_flesh</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00745">creature.h:745</a></div></div>
<div class="ttc" id="aclassmonster_html_a4092c04058a74fa078c89763d11e53ee"><div class="ttname"><a href="classmonster.html#a4092c04058a74fa078c89763d11e53ee">monster::made_of_any</a></div><div class="ttdeci">bool made_of_any(const std::set&lt; material_id &gt; &amp;ms) const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01309">monster.cpp:1309</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a></div><div class="ttdeci">@ LIQUID</div></div>
<div class="ttc" id="amonster_8cpp_html_a04a9c5a38c56dac485cb30d93ee38658"><div class="ttname"><a href="monster_8cpp.html#a04a9c5a38c56dac485cb30d93ee38658">effect_paralyzepoison</a></div><div class="ttdeci">static const efftype_id effect_paralyzepoison(&quot;paralyzepoison&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a0f3a25eb2b398fd705348436a034da00"><div class="ttname"><a href="monster_8cpp.html#a0f3a25eb2b398fd705348436a034da00">effect_badpoison</a></div><div class="ttdeci">static const efftype_id effect_badpoison(&quot;badpoison&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a151e6b162a8a2cdbdb11c407013076eb"><div class="ttname"><a href="monster_8cpp.html#a151e6b162a8a2cdbdb11c407013076eb">effect_bleed</a></div><div class="ttdeci">static const efftype_id effect_bleed(&quot;bleed&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a1b6011792c2154810e0d4f2c7a2beee6"><div class="ttname"><a href="monster_8cpp.html#a1b6011792c2154810e0d4f2c7a2beee6">effect_venom_player1</a></div><div class="ttdeci">static const efftype_id effect_venom_player1(&quot;venom_player1&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a20136c47b45ab5d735760a8a5853f1b3"><div class="ttname"><a href="monster_8cpp.html#a20136c47b45ab5d735760a8a5853f1b3">material_flesh</a></div><div class="ttdeci">static const material_id material_flesh(&quot;flesh&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a4819c7e99726d1e7f38c94f65010f143"><div class="ttname"><a href="monster_8cpp.html#a4819c7e99726d1e7f38c94f65010f143">effect_tpollen</a></div><div class="ttdeci">static const efftype_id effect_tpollen(&quot;tpollen&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a7278621d512e96abab0bc940db64aa24"><div class="ttname"><a href="monster_8cpp.html#a7278621d512e96abab0bc940db64aa24">effect_venom_dmg</a></div><div class="ttdeci">static const efftype_id effect_venom_dmg(&quot;venom_dmg&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a7a66d8a18b4c357a9ec56e2c6aca1d80"><div class="ttname"><a href="monster_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a></div><div class="ttdeci">static const material_id material_iflesh(&quot;iflesh&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a8040b30e1234db0e1aab101465b8d262"><div class="ttname"><a href="monster_8cpp.html#a8040b30e1234db0e1aab101465b8d262">effect_venom_weaken</a></div><div class="ttdeci">static const efftype_id effect_venom_weaken(&quot;venom_weaken&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a80bff8979ed84d0b2420373db3c7013d"><div class="ttname"><a href="monster_8cpp.html#a80bff8979ed84d0b2420373db3c7013d">species_LEECH_PLANT</a></div><div class="ttdeci">static const species_id species_LEECH_PLANT(&quot;LEECH_PLANT&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a8aac1e2860192ddd013a936e0d912f39"><div class="ttname"><a href="monster_8cpp.html#a8aac1e2860192ddd013a936e0d912f39">species_PLANT</a></div><div class="ttdeci">static const species_id species_PLANT(&quot;PLANT&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ab26b2bd0c379b53cf4e68fc629cade48"><div class="ttname"><a href="monster_8cpp.html#ab26b2bd0c379b53cf4e68fc629cade48">species_MIGO</a></div><div class="ttdeci">static const species_id species_MIGO(&quot;MIGO&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ace42425e1e703ebbe953ade0f6110b7c"><div class="ttname"><a href="monster_8cpp.html#ace42425e1e703ebbe953ade0f6110b7c">effect_poison</a></div><div class="ttdeci">static const efftype_id effect_poison(&quot;poison&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ade84fa7ae6e411529fe9dd1655f98ef4"><div class="ttname"><a href="monster_8cpp.html#ade84fa7ae6e411529fe9dd1655f98ef4">effect_venom_player2</a></div><div class="ttdeci">static const efftype_id effect_venom_player2(&quot;venom_player2&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_adf36e717a3146f226c235bfff05692e8"><div class="ttname"><a href="monster_8cpp.html#adf36e717a3146f226c235bfff05692e8">species_NETHER</a></div><div class="ttdeci">static const species_id species_NETHER(&quot;NETHER&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_a330f9c7b8f5bb69a68c8748f73b4bb8c"><div class="ttname"><a href="mtype_8cpp.html#a330f9c7b8f5bb69a68c8748f73b4bb8c">mon_flag_STUN_IMMUNE</a></div><div class="ttdeci">mon_flag_id mon_flag_STUN_IMMUNE</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00153">mtype.cpp:153</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a7b2b7126b333bcb38fcb0fb43479d869"><div class="ttname"><a href="mtype_8cpp.html#a7b2b7126b333bcb38fcb0fb43479d869">mon_flag_FIREY</a></div><div class="ttdeci">mon_flag_id mon_flag_FIREY</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00084">mtype.cpp:84</a></div></div>
<div class="ttc" id="astructmtype_html_a34ab7cd08d9ee9720b8c11f4e0fd0e88"><div class="ttname"><a href="structmtype.html#a34ab7cd08d9ee9720b8c11f4e0fd0e88">mtype::bleed_rate</a></div><div class="ttdeci">int bleed_rate</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00440">mtype.h:440</a></div></div>
<div class="ttc" id="astructmtype_html_a541f9bf8c2e84856ea34db43f88991b3"><div class="ttname"><a href="structmtype.html#a541f9bf8c2e84856ea34db43f88991b3">mtype::bodytype</a></div><div class="ttdeci">bodytype_id bodytype</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00355">mtype.h:355</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00440">mtype::bleed_rate</a>, <a class="el" href="mtype_8cpp_source.html#l00420">mtype::bloodType()</a>, <a class="el" href="mtype_8h_source.html#l00355">mtype::bodytype</a>, <a class="el" href="creature_8h_source.html#l00745">Creature::cmat_flesh</a>, <a class="el" href="monster_8cpp.html#ae01ac1ba15b1a58809aef8bc1f735b5b">damage_heat</a>, <a class="el" href="monster_8cpp.html#a0f3a25eb2b398fd705348436a034da00">effect_badpoison</a>, <a class="el" href="monster_8cpp.html#a151e6b162a8a2cdbdb11c407013076eb">effect_bleed</a>, <a class="el" href="monster_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="el" href="monster_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, <a class="el" href="monster_8cpp.html#a04a9c5a38c56dac485cb30d93ee38658">effect_paralyzepoison</a>, <a class="el" href="monster_8cpp.html#ace42425e1e703ebbe953ade0f6110b7c">effect_poison</a>, <a class="el" href="monster_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, <a class="el" href="monster_8cpp.html#a4819c7e99726d1e7f38c94f65010f143">effect_tpollen</a>, <a class="el" href="monster_8cpp.html#a7278621d512e96abab0bc940db64aa24">effect_venom_dmg</a>, <a class="el" href="monster_8cpp.html#a1b6011792c2154810e0d4f2c7a2beee6">effect_venom_player1</a>, <a class="el" href="monster_8cpp.html#ade84fa7ae6e411529fe9dd1655f98ef4">effect_venom_player2</a>, <a class="el" href="monster_8cpp.html#a8040b30e1234db0e1aab101465b8d262">effect_venom_weaken</a>, <a class="el" href="field__type_8cpp_source.html#l00011">fd_null</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="mtype_8cpp_source.html#l00385">mtype::in_species()</a>, <a class="el" href="monster_8cpp_source.html#l01829">is_immune_damage()</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">LIQUID</a>, <a class="el" href="monster_8cpp_source.html#l01304">made_of()</a>, <a class="el" href="monster_8cpp_source.html#l01309">made_of_any()</a>, <a class="el" href="monster_8cpp.html#a20136c47b45ab5d735760a8a5853f1b3">material_flesh</a>, <a class="el" href="monster_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a>, <a class="el" href="mtype_8cpp_source.html#l00084">mon_flag_FIREY</a>, <a class="el" href="mtype_8cpp_source.html#l00086">mon_flag_FLIES</a>, <a class="el" href="mtype_8cpp_source.html#l00101">mon_flag_IMMOBILE</a>, <a class="el" href="mtype_8cpp_source.html#l00153">mon_flag_STUN_IMMUNE</a>, <a class="el" href="monster_8cpp.html#a80bff8979ed84d0b2420373db3c7013d">species_LEECH_PLANT</a>, <a class="el" href="monster_8cpp.html#ab26b2bd0c379b53cf4e68fc629cade48">species_MIGO</a>, <a class="el" href="monster_8cpp.html#adf36e717a3146f226c235bfff05692e8">species_NETHER</a>, <a class="el" href="monster_8cpp.html#a8aac1e2860192ddd013a936e0d912f39">species_PLANT</a>, <a class="el" href="monster_8cpp.html#a6d062e430202ce21974bf3fb492002bf">species_ZOMBIE</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="calendar_8cpp_source.html#l00784">x_in_y()</a>.</p>

</div>
</div>
<a id="a463ca0ea362cc5ea7b3b9a808c0de85c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a463ca0ea362cc5ea7b3b9a808c0de85c">&#9670;&nbsp;</a></span>is_immune_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_immune_field </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a2a56520b7eef7294fc98230cb883c9d2">field_type_id</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if we are immune to the field type with the given fid. </p>
<p>Can handle intensity if field intensity data is specified for the effect , so this function should only be called through <a class="el" href="classCreature.html#af5c36ca5b43c92f6cb02afb52a448372" title="Returns true if the given field entry is dangerous to us.">is_dangerous_field()</a>. </p>

<p>Reimplemented from <a class="el" href="classCreature.html#a090f59402eea6b1605cbfa5c2b2ac77c">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l00093">93</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span>( fid == <a class="code" href="field__type_8cpp.html#acf26086090a59755ffe2d5cfd795fbee">fd_fungal_haze</a> ) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a4c417260415c080a792537389ec1c0fe">mon_flag_NO_BREATHE</a> ) || <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monmove_8cpp.html#ae4aecc728b6b9084078aaa79046ce038">species_FUNGUS</a> );</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">if</span>( fid == <a class="code" href="field__type_8cpp.html#aa82146db3e3f637cba0882a8d666a6c7">fd_fungicidal_gas</a> ) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">return</span> !<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monmove_8cpp.html#ae4aecc728b6b9084078aaa79046ce038">species_FUNGUS</a> );</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">if</span>( fid == <a class="code" href="field__type_8cpp.html#a7a3a035b9879e1ed52992d9857556f77">fd_insecticidal_gas</a> ) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">return</span> !<a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monmove_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a> ) || <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a908bb60a3a9133ca7e129be4e6bc3e1a">mon_flag_INSECTICIDEPROOF</a> );</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span>( fid == <a class="code" href="field__type_8cpp.html#acd17fbab1a93c90c8748a2b0777027fa">fd_web</a> ) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a2d34a5d2b22293f92d8166e654529ccc">mon_flag_WEBWALK</a> );</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span>( fid == <a class="code" href="field__type_8cpp.html#aef9321274b765b7943ca0412b949b373">fd_sludge</a> || fid == <a class="code" href="field__type_8cpp.html#ad5aa18f66a9c4810d561e84a2c316f03">fd_sap</a> ) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keyword">const</span> <a class="code" href="structfield__type.html">field_type</a> &amp;ft = fid.obj();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">if</span>( ft.<a class="code" href="structfield__type.html#a945df8e3828398e06dddfe503b742df5">has_fume</a> ) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a4c417260415c080a792537389ec1c0fe">mon_flag_NO_BREATHE</a> );</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">if</span>( ft.<a class="code" href="structfield__type.html#a7654ad7f889130a671e526c96f230ce6">has_acid</a> ) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a3f693ccabdc6659dd60b5e230107766c">mon_flag_ACIDPROOF</a> ) || <a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span>( ft.<a class="code" href="structfield__type.html#ab660a14996c8441bdf8f3cfa6da475af">has_fire</a> ) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#af5bf953ca6152f2de9c886eaa7389d6a">mon_flag_FIREPROOF</a> );</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span>( ft.<a class="code" href="structfield__type.html#a5b08ae2a01c1e82e7cb22785d735d5e9">has_elec</a> ) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a1a2c96cda209ef35238ac3e040c62aa9">mon_flag_ELECTRIC</a> );</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">if</span>( ft.<a class="code" href="structfield__type.html#a40a71f7f1d1c5cfccd86817061665c96">immune_mtypes</a>.count( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a> ) &gt; 0 ) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">// No specific immunity was found, so fall upwards</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a090f59402eea6b1605cbfa5c2b2ac77c">Creature::is_immune_field</a>( fid );</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a090f59402eea6b1605cbfa5c2b2ac77c"><div class="ttname"><a href="classCreature.html#a090f59402eea6b1605cbfa5c2b2ac77c">Creature::is_immune_field</a></div><div class="ttdeci">virtual bool is_immune_field(const field_type_id &amp;) const</div><div class="ttdoc">Returns true if we are immune to the field type with the given fid.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00573">creature.h:573</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a7a3a035b9879e1ed52992d9857556f77"><div class="ttname"><a href="field__type_8cpp.html#a7a3a035b9879e1ed52992d9857556f77">fd_insecticidal_gas</a></div><div class="ttdeci">const field_type_str_id fd_insecticidal_gas(&quot;fd_insecticidal_gas&quot;)</div></div>
<div class="ttc" id="afield__type_8cpp_html_aa82146db3e3f637cba0882a8d666a6c7"><div class="ttname"><a href="field__type_8cpp.html#aa82146db3e3f637cba0882a8d666a6c7">fd_fungicidal_gas</a></div><div class="ttdeci">const field_type_str_id fd_fungicidal_gas(&quot;fd_fungicidal_gas&quot;)</div></div>
<div class="ttc" id="afield__type_8cpp_html_acd17fbab1a93c90c8748a2b0777027fa"><div class="ttname"><a href="field__type_8cpp.html#acd17fbab1a93c90c8748a2b0777027fa">fd_web</a></div><div class="ttdeci">const field_type_str_id fd_web(&quot;fd_web&quot;)</div></div>
<div class="ttc" id="afield__type_8cpp_html_acf26086090a59755ffe2d5cfd795fbee"><div class="ttname"><a href="field__type_8cpp.html#acf26086090a59755ffe2d5cfd795fbee">fd_fungal_haze</a></div><div class="ttdeci">const field_type_str_id fd_fungal_haze(&quot;fd_fungal_haze&quot;)</div></div>
<div class="ttc" id="afield__type_8cpp_html_ad5aa18f66a9c4810d561e84a2c316f03"><div class="ttname"><a href="field__type_8cpp.html#ad5aa18f66a9c4810d561e84a2c316f03">fd_sap</a></div><div class="ttdeci">const field_type_str_id fd_sap(&quot;fd_sap&quot;)</div></div>
<div class="ttc" id="afield__type_8cpp_html_aef9321274b765b7943ca0412b949b373"><div class="ttname"><a href="field__type_8cpp.html#aef9321274b765b7943ca0412b949b373">fd_sludge</a></div><div class="ttdeci">const field_type_str_id fd_sludge(&quot;fd_sludge&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_a7a66d8a18b4c357a9ec56e2c6aca1d80"><div class="ttname"><a href="monmove_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a></div><div class="ttdeci">static const material_id material_iflesh(&quot;iflesh&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_ae4aecc728b6b9084078aaa79046ce038"><div class="ttname"><a href="monmove_8cpp.html#ae4aecc728b6b9084078aaa79046ce038">species_FUNGUS</a></div><div class="ttdeci">static const species_id species_FUNGUS(&quot;FUNGUS&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_a2d34a5d2b22293f92d8166e654529ccc"><div class="ttname"><a href="mtype_8cpp.html#a2d34a5d2b22293f92d8166e654529ccc">mon_flag_WEBWALK</a></div><div class="ttdeci">mon_flag_id mon_flag_WEBWALK</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00162">mtype.cpp:162</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a3f693ccabdc6659dd60b5e230107766c"><div class="ttname"><a href="mtype_8cpp.html#a3f693ccabdc6659dd60b5e230107766c">mon_flag_ACIDPROOF</a></div><div class="ttdeci">mon_flag_id mon_flag_ACIDPROOF</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00041">mtype.cpp:41</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a908bb60a3a9133ca7e129be4e6bc3e1a"><div class="ttname"><a href="mtype_8cpp.html#a908bb60a3a9133ca7e129be4e6bc3e1a">mon_flag_INSECTICIDEPROOF</a></div><div class="ttdeci">mon_flag_id mon_flag_INSECTICIDEPROOF</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00102">mtype.cpp:102</a></div></div>
<div class="ttc" id="amtype_8cpp_html_af5bf953ca6152f2de9c886eaa7389d6a"><div class="ttname"><a href="mtype_8cpp.html#af5bf953ca6152f2de9c886eaa7389d6a">mon_flag_FIREPROOF</a></div><div class="ttdeci">mon_flag_id mon_flag_FIREPROOF</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00083">mtype.cpp:83</a></div></div>
<div class="ttc" id="astructfield__type_html"><div class="ttname"><a href="structfield__type.html">field_type</a></div><div class="ttdef"><b>Definition:</b> <a href="field__type_8h_source.html#l00182">field_type.h:182</a></div></div>
<div class="ttc" id="astructfield__type_html_a40a71f7f1d1c5cfccd86817061665c96"><div class="ttname"><a href="structfield__type.html#a40a71f7f1d1c5cfccd86817061665c96">field_type::immune_mtypes</a></div><div class="ttdeci">std::set&lt; mtype_id &gt; immune_mtypes</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8h_source.html#l00216">field_type.h:216</a></div></div>
<div class="ttc" id="astructfield__type_html_a5b08ae2a01c1e82e7cb22785d735d5e9"><div class="ttname"><a href="structfield__type.html#a5b08ae2a01c1e82e7cb22785d735d5e9">field_type::has_elec</a></div><div class="ttdeci">bool has_elec</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8h_source.html#l00207">field_type.h:207</a></div></div>
<div class="ttc" id="astructfield__type_html_a7654ad7f889130a671e526c96f230ce6"><div class="ttname"><a href="structfield__type.html#a7654ad7f889130a671e526c96f230ce6">field_type::has_acid</a></div><div class="ttdeci">bool has_acid</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8h_source.html#l00206">field_type.h:206</a></div></div>
<div class="ttc" id="astructfield__type_html_a945df8e3828398e06dddfe503b742df5"><div class="ttname"><a href="structfield__type.html#a945df8e3828398e06dddfe503b742df5">field_type::has_fume</a></div><div class="ttdeci">bool has_fume</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8h_source.html#l00208">field_type.h:208</a></div></div>
<div class="ttc" id="astructfield__type_html_ab660a14996c8441bdf8f3cfa6da475af"><div class="ttname"><a href="structfield__type.html#ab660a14996c8441bdf8f3cfa6da475af">field_type::has_fire</a></div><div class="ttdeci">bool has_fire</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8h_source.html#l00205">field_type.h:205</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="field__type_8cpp.html#acf26086090a59755ffe2d5cfd795fbee">fd_fungal_haze</a>, <a class="el" href="field__type_8cpp.html#aa82146db3e3f637cba0882a8d666a6c7">fd_fungicidal_gas</a>, <a class="el" href="field__type_8cpp.html#a7a3a035b9879e1ed52992d9857556f77">fd_insecticidal_gas</a>, <a class="el" href="field__type_8cpp.html#ad5aa18f66a9c4810d561e84a2c316f03">fd_sap</a>, <a class="el" href="field__type_8cpp.html#aef9321274b765b7943ca0412b949b373">fd_sludge</a>, <a class="el" href="field__type_8cpp.html#acd17fbab1a93c90c8748a2b0777027fa">fd_web</a>, <a class="el" href="monster_8cpp_source.html#l01262">flies()</a>, <a class="el" href="field__type_8h_source.html#l00206">field_type::has_acid</a>, <a class="el" href="field__type_8h_source.html#l00207">field_type::has_elec</a>, <a class="el" href="field__type_8h_source.html#l00205">field_type::has_fire</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="field__type_8h_source.html#l00208">field_type::has_fume</a>, <a class="el" href="mtype_8h_source.html#l00301">mtype::id</a>, <a class="el" href="field__type_8h_source.html#l00216">field_type::immune_mtypes</a>, <a class="el" href="mtype_8cpp_source.html#l00385">mtype::in_species()</a>, <a class="el" href="creature_8h_source.html#l00573">Creature::is_immune_field()</a>, <a class="el" href="monster_8cpp_source.html#l01304">made_of()</a>, <a class="el" href="monmove_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a>, <a class="el" href="mtype_8cpp_source.html#l00041">mon_flag_ACIDPROOF</a>, <a class="el" href="mtype_8cpp_source.html#l00078">mon_flag_ELECTRIC</a>, <a class="el" href="mtype_8cpp_source.html#l00083">mon_flag_FIREPROOF</a>, <a class="el" href="mtype_8cpp_source.html#l00102">mon_flag_INSECTICIDEPROOF</a>, <a class="el" href="mtype_8cpp_source.html#l00116">mon_flag_NO_BREATHE</a>, <a class="el" href="mtype_8cpp_source.html#l00162">mon_flag_WEBWALK</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00026">int_id&lt; T &gt;::obj()</a>, <a class="el" href="monmove_8cpp.html#ae4aecc728b6b9084078aaa79046ce038">species_FUNGUS</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00237">know_danger_at()</a>.</p>

</div>
</div>
<a id="a4458caf65b6e8f630f601597748adf85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4458caf65b6e8f630f601597748adf85">&#9670;&nbsp;</a></span>is_monster()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_monster </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a07012d6d1998068bef112510c7424374">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00098">98</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                         {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa8489f3022eccd25b5a5efb67bedfba6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8489f3022eccd25b5a5efb67bedfba6">&#9670;&nbsp;</a></span>is_nemesis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_nemesis </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03585">3585</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;{</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ac780c6a5fb58902f2483e385be3543db">mon_flag_NEMESIS</a> );</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;}</div>
<div class="ttc" id="amtype_8cpp_html_ac780c6a5fb58902f2483e385be3543db"><div class="ttname"><a href="mtype_8cpp.html#ac780c6a5fb58902f2483e385be3543db">mon_flag_NEMESIS</a></div><div class="ttdeci">mon_flag_id mon_flag_NEMESIS</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00110">mtype.cpp:110</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, and <a class="el" href="mtype_8cpp_source.html#l00110">mon_flag_NEMESIS</a>.</p>

<p class="reference">Referenced by <a class="el" href="overmapbuffer_8cpp_source.html#l01589">overmapbuffer::despawn_monster()</a>, <a class="el" href="mission_8cpp_source.html#l00160">mission::on_creature_death()</a>, and <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>.</p>

</div>
</div>
<a id="a0bbb510d289c958fef94afddf234df0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bbb510d289c958fef94afddf234df0a">&#9670;&nbsp;</a></span>is_nether()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_nether </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a2f8ddd829286574c6de45ac0382cb60c">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03475">3475</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;{</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a803a0cab3aaf93e62ff8db223908dc6c">in_species</a>( <a class="code" href="monster_8cpp.html#a4bff07a70d4291761e5bada7f562e0f4">species_HORROR</a> ) || <a class="code" href="classmonster.html#a803a0cab3aaf93e62ff8db223908dc6c">in_species</a>( <a class="code" href="monster_8cpp.html#adf36e717a3146f226c235bfff05692e8">species_NETHER</a> ) ||</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;           <a class="code" href="classmonster.html#a803a0cab3aaf93e62ff8db223908dc6c">in_species</a>( <a class="code" href="monster_8cpp.html#ac9a6085492b5a2d1661e86248f6631c6">species_nether_player_hate</a> );</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;}</div>
<div class="ttc" id="amonster_8cpp_html_a4bff07a70d4291761e5bada7f562e0f4"><div class="ttname"><a href="monster_8cpp.html#a4bff07a70d4291761e5bada7f562e0f4">species_HORROR</a></div><div class="ttdeci">static const species_id species_HORROR(&quot;HORROR&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ac9a6085492b5a2d1661e86248f6631c6"><div class="ttname"><a href="monster_8cpp.html#ac9a6085492b5a2d1661e86248f6631c6">species_nether_player_hate</a></div><div class="ttdeci">static const species_id species_nether_player_hate(&quot;nether_player_hate&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01770">in_species()</a>, <a class="el" href="monster_8cpp.html#a4bff07a70d4291761e5bada7f562e0f4">species_HORROR</a>, <a class="el" href="monster_8cpp.html#adf36e717a3146f226c235bfff05692e8">species_NETHER</a>, and <a class="el" href="monster_8cpp.html#ac9a6085492b5a2d1661e86248f6631c6">species_nether_player_hate</a>.</p>

</div>
</div>
<a id="a7520b8538309813ac6c146fcb3df70fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7520b8538309813ac6c146fcb3df70fc">&#9670;&nbsp;</a></span>is_on_ground()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_on_ground </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a8222fed7c24b7cf29bd0f3124e43969f">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01753">1753</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;{</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="comment">// TODO: actually make this work</span></div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a784f306b9fa14d685f4fa56e255652f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a784f306b9fa14d685f4fa56e255652f0">&#9670;&nbsp;</a></span>is_pet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_pet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01324">1324</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;{</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == -1 &amp;&amp; <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a02a4844a7fb68c13a34dc40b0a9e94d8">effect_pet</a> );</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;}</div>
<div class="ttc" id="amonster_8cpp_html_a02a4844a7fb68c13a34dc40b0a9e94d8"><div class="ttname"><a href="monster_8cpp.html#a02a4844a7fb68c13a34dc40b0a9e94d8">effect_pet</a></div><div class="ttdeci">static const efftype_id effect_pet(&quot;pet&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp.html#a02a4844a7fb68c13a34dc40b0a9e94d8">effect_pet</a>, <a class="el" href="monster_8h_source.html#l00539">friendly</a>, and <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01329">is_pet_follow()</a>.</p>

</div>
</div>
<a id="a28fd163537c2f82c7a733d69c8c8da75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28fd163537c2f82c7a733d69c8c8da75">&#9670;&nbsp;</a></span>is_pet_follow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_pet_follow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01329">1329</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;{</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a784f306b9fa14d685f4fa56e255652f0">is_pet</a>() &amp;&amp; !<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ad8fe835ec67d826f1b651a0ef01ab55b">mon_flag_PET_WONT_FOLLOW</a> );</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a784f306b9fa14d685f4fa56e255652f0"><div class="ttname"><a href="classmonster.html#a784f306b9fa14d685f4fa56e255652f0">monster::is_pet</a></div><div class="ttdeci">bool is_pet() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01324">monster.cpp:1324</a></div></div>
<div class="ttc" id="amtype_8cpp_html_ad8fe835ec67d826f1b651a0ef01ab55b"><div class="ttname"><a href="mtype_8cpp.html#ad8fe835ec67d826f1b651a0ef01ab55b">mon_flag_PET_WONT_FOLLOW</a></div><div class="ttdeci">mon_flag_id mon_flag_PET_WONT_FOLLOW</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00129">mtype.cpp:129</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="monster_8cpp_source.html#l01324">is_pet()</a>, and <a class="el" href="mtype_8cpp_source.html#l00129">mon_flag_PET_WONT_FOLLOW</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, and <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>.</p>

</div>
</div>
<a id="a984dad86484381638f068d2f1a32f7c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a984dad86484381638f068d2f1a32f7c6">&#9670;&nbsp;</a></span>is_symbol_highlighted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_symbol_highlighted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a9eea7f2ab169160c6d6fc2a7d93c96f1">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01163">1163</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;{</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> != 0;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00539">friendly</a>.</p>

</div>
</div>
<a id="a1343022e00717c50f8ac53048723ea8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1343022e00717c50f8ac53048723ea8a">&#9670;&nbsp;</a></span>is_underwater()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_underwater </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01748">1748</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;{</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a> &amp;&amp; <a class="code" href="classmonster.html#a55fd0614c264b7e89a5735270ff6d2c7">can_submerge</a>();</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01230">can_submerge()</a>, and <a class="el" href="creature_8h_source.html#l00941">Creature::underwater</a>.</p>

</div>
</div>
<a id="aa58e9ab3e08e72fd37c757b761d2671c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa58e9ab3e08e72fd37c757b761d2671c">&#9670;&nbsp;</a></span>is_wandering()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_wandering </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01394">1394</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;{</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="classmonster.html#a1bfdcc078e39c06a1cf7047803610204">has_dest</a>() &amp;&amp; <a class="code" href="classmonster.html#ae4ddfd29306c2e768f545aed901be3f9">patrol_route</a>.empty();</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_ae4ddfd29306c2e768f545aed901be3f9"><div class="ttname"><a href="classmonster.html#ae4ddfd29306c2e768f545aed901be3f9">monster::patrol_route</a></div><div class="ttdeci">std::vector&lt; tripoint_abs_ms &gt; patrol_route</div><div class="ttdoc">patrol points for monsters that can pathfind and have a patrol route!</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00651">monster.h:651</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01370">has_dest()</a>, and <a class="el" href="monster_8h_source.html#l00651">patrol_route</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>.</p>

</div>
</div>
<a id="ae56c644d9acdf2249f236f0523e83227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae56c644d9acdf2249f236f0523e83227">&#9670;&nbsp;</a></span>is_warm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::is_warm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#acd04500c61e64cf199ea86f37e95c4a6">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01765">1765</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;{</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#adb1005d50c8f1abf703a2ba0e72381f8">mon_flag_WARM</a> );</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;}</div>
<div class="ttc" id="amtype_8cpp_html_adb1005d50c8f1abf703a2ba0e72381f8"><div class="ttname"><a href="mtype_8cpp.html#adb1005d50c8f1abf703a2ba0e72381f8">mon_flag_WARM</a></div><div class="ttdeci">mon_flag_id mon_flag_WARM</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00160">mtype.cpp:160</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, and <a class="el" href="mtype_8cpp_source.html#l00160">mon_flag_WARM</a>.</p>

<p class="reference">Referenced by <a class="el" href="mondeath_8cpp_source.html#l00284">make_mon_corpse()</a>.</p>

</div>
</div>
<a id="aa6c57b6cbf413727ea33c467f2bc886b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6c57b6cbf413727ea33c467f2bc886b">&#9670;&nbsp;</a></span>knock_back_to()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::knock_back_to </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>to</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#af79c1e1ef891477157860a3e31db8492">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l02280">2280</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;{</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    <span class="keywordflow">if</span>( to == <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) {</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// No effect</span></div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    }</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160; </div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;        <a class="code" href="classmonster.html#a82ae41773b05af94d4b678cb33bfb329">die</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    }</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160; </div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    <span class="keywordtype">bool</span> u_see = <a class="code" href="game_8cpp.html#ab5c977b7e81348725fb7bf09fc64ed95">get_player_view</a>().<a class="code" href="classviewer.html#a204fe140cdc73d2452fa9a390a32ba29">sees</a>( to );</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160; </div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <a class="code" href="classcreature__tracker.html">creature_tracker</a> &amp;creatures = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>();</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="comment">// First, see if we hit another monster</span></div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html">monster</a> *<span class="keyword">const</span> z = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>&lt;<a class="code" href="classmonster.html">monster</a>&gt;( to ) ) {</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;        <a class="code" href="classmonster.html#afc6e6f5443145732310dd4901a394b4f">apply_damage</a>( z, <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( z-&gt;type-&gt;size ) );</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;        <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monmove_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, 1_turns );</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">size</a> &gt; 1 + z-&gt;type-&gt;size ) {</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;            z-&gt;knock_back_from( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ); <span class="comment">// Chain reaction!</span></div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;            z-&gt;apply_damage( <span class="keyword">this</span>, <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">size</a> ) );</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;            z-&gt;add_effect( <a class="code" href="monmove_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, 1_turns );</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">size</a> &gt; z-&gt;type-&gt;size ) {</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;            z-&gt;apply_damage( <span class="keyword">this</span>, <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">size</a> ) );</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;            z-&gt;add_effect( <a class="code" href="monmove_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, 1_turns );</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;        }</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;        z-&gt;check_dead_state();</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160; </div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;        <span class="keywordflow">if</span>( u_see ) {</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %1$s bounces off a %2$s!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(), z-&gt;name() );</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;        }</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160; </div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    }</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160; </div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classnpc.html">npc</a> *<span class="keyword">const</span> p = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>&lt;<a class="code" href="classnpc.html">npc</a>&gt;( to ) ) {</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;        <a class="code" href="classmonster.html#afc6e6f5443145732310dd4901a394b4f">apply_damage</a>( p, <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), 3 );</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;        <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monmove_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, 1_turns );</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;        p-&gt;deal_damage( <span class="keyword">this</span>, <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ),</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;                        <a class="code" href="structdamage__instance.html">damage_instance</a>( <a class="code" href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a>( <a class="code" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a>( <span class="stringliteral">&quot;bash&quot;</span> ) ), <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">size</a> ) ) );</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;        <span class="keywordflow">if</span>( u_see ) {</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %1$s bounces off %2$s!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(), p-&gt;get_name() );</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;        }</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160; </div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;        p-&gt;check_dead_state();</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    }</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160; </div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    <span class="comment">// If we&#39;re still in the function at this point, we&#39;re actually moving a tile!</span></div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;    <span class="comment">// die_if_drowning will kill the monster if necessary, but if the deep water</span></div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;    <span class="comment">// tile is on a vehicle, we should check for swimmers out of water</span></div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a9118d0de36f4dbb72c28cc0832bba897">die_if_drowning</a>( to ) &amp;&amp; <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a10899530fa212da51fd92b98b0cacdb5">mon_flag_AQUATIC</a> ) ) {</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;        <a class="code" href="classmonster.html#a82ae41773b05af94d4b678cb33bfb329">die</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;        <span class="keywordflow">if</span>( u_see ) {</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s flops around and dies!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;        }</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;    }</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160; </div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    <span class="comment">// It&#39;s some kind of wall.</span></div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">impassable</a>( to ) ) {</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> dam = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">size</a> );</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;        <a class="code" href="classmonster.html#afc6e6f5443145732310dd4901a394b4f">apply_damage</a>( <span class="keyword">nullptr</span>, <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), dam );</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;        <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monmove_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, 2_turns );</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;        <span class="keywordflow">if</span>( u_see ) {</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %1$s bounces off a %2$s and takes %3$d damage.&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(),</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;                     here.<a class="code" href="classmap.html#ab38205e356b39b5961e0513d45e90170">obstacle_name</a>( to ), dam );</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;        }</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160; </div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// It&#39;s no wall</span></div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;        <a class="code" href="classCreature.html#ac16dcdb688f6f47c594c98c83528a670">setpos</a>( to );</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    }</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <a class="code" href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158">check_dead_state</a>();</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a36dcf5a04ddc0cf9fa29c08b7b099158"><div class="ttname"><a href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158">Creature::check_dead_state</a></div><div class="ttdeci">void check_dead_state()</div><div class="ttdoc">This function checks the creatures is_dead_state and (if true) calls die.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03067">creature.cpp:3067</a></div></div>
<div class="ttc" id="aclassCreature_html_ac16dcdb688f6f47c594c98c83528a670"><div class="ttname"><a href="classCreature.html#ac16dcdb688f6f47c594c98c83528a670">Creature::setpos</a></div><div class="ttdeci">void setpos(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00188">creature.cpp:188</a></div></div>
<div class="ttc" id="aclassmap_html_a802cc11379d4be61f4e2b13a50f6390e"><div class="ttname"><a href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">map::impassable</a></div><div class="ttdeci">bool impassable(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02462">map.cpp:2462</a></div></div>
<div class="ttc" id="aclassmap_html_ab38205e356b39b5961e0513d45e90170"><div class="ttname"><a href="classmap.html#ab38205e356b39b5961e0513d45e90170">map::obstacle_name</a></div><div class="ttdeci">std::string obstacle_name(const tripoint &amp;p)</div><div class="ttdoc">Returns the name of the obstacle at p that might be blocking movement/projectiles/etc.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01699">map.cpp:1699</a></div></div>
<div class="ttc" id="aclassmonster_html_a9118d0de36f4dbb72c28cc0832bba897"><div class="ttname"><a href="classmonster.html#a9118d0de36f4dbb72c28cc0832bba897">monster::die_if_drowning</a></div><div class="ttdeci">bool die_if_drowning(const tripoint &amp;at_pos, int chance=1)</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00849">monmove.cpp:849</a></div></div>
<div class="ttc" id="aclassviewer_html_a204fe140cdc73d2452fa9a390a32ba29"><div class="ttname"><a href="classviewer.html#a204fe140cdc73d2452fa9a390a32ba29">viewer::sees</a></div><div class="ttdeci">virtual bool sees(const tripoint &amp;target, bool is_avatar=false, int range_mod=0) const =0</div></div>
<div class="ttc" id="agame_8cpp_html_ab5c977b7e81348725fb7bf09fc64ed95"><div class="ttname"><a href="game_8cpp.html#ab5c977b7e81348725fb7bf09fc64ed95">get_player_view</a></div><div class="ttdeci">viewer &amp; get_player_view()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13812">game.cpp:13812</a></div></div>
<div class="ttc" id="amonmove_8cpp_html_ad1df0ca2944a94c3ad796e8baada33ae"><div class="ttname"><a href="monmove_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a></div><div class="ttdeci">static const efftype_id effect_stunned(&quot;stunned&quot;)</div></div>
<div class="ttc" id="astructdamage__instance_html"><div class="ttname"><a href="structdamage__instance.html">damage_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00132">damage.h:132</a></div></div>
<div class="ttc" id="atype__id_8h_html_a119965745ae171b731d18a45ec6ee424"><div class="ttname"><a href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a></div><div class="ttdeci">string_id&lt; damage_type &gt; damage_type_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00071">type_id.h:71</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="monster_8cpp_source.html#l02169">apply_damage()</a>, <a class="el" href="creature_8cpp_source.html#l03067">Creature::check_dead_state()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="monmove_8cpp_source.html#l00849">die_if_drowning()</a>, <a class="el" href="monmove_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="game_8cpp_source.html#l13812">get_player_view()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="map_8cpp_source.html#l02462">map::impassable()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="mtype_8cpp_source.html#l00048">mon_flag_AQUATIC</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="map_8cpp_source.html#l01699">map::obstacle_name()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="classviewer.html#a204fe140cdc73d2452fa9a390a32ba29">viewer::sees()</a>, <a class="el" href="creature_8cpp_source.html#l00188">Creature::setpos()</a>, <a class="el" href="mtype_8h_source.html#l00407">mtype::size</a>, <a class="el" href="make__static_8h_source.html#l00031">STATIC</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

</div>
</div>
<a id="ac0c29edb1633fd1090a0a5ff3efa3fe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0c29edb1633fd1090a0a5ff3efa3fe3">&#9670;&nbsp;</a></span>know_danger_at()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::know_danger_at </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l00237">237</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;{</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">// Various avoiding behaviors.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordtype">bool</span> avoid_fire = <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#aaed6bfffb6b455a66dc66a4792cabefc">mon_flag_PATH_AVOID_FIRE</a> );</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordtype">bool</span> avoid_fall = <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ac5e2cd69bddcec0fbb472df3e6991c40">mon_flag_PATH_AVOID_FALL</a> );</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordtype">bool</span> avoid_simple = <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ab0b72a092cc048de39170eb7efa37b0a">mon_flag_PATH_AVOID_DANGER_1</a> );</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordtype">bool</span> avoid_complex = <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a953954e2c6d4fac0741d4a57c41610eb">mon_flag_PATH_AVOID_DANGER_2</a> );</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordtype">bool</span> avoid_sharp = <a class="code" href="classmonster.html#a873925c09bec361ffd2363626828a362">get_pathfinding_settings</a>().<a class="code" href="structpathfinding__settings.html#ab888f81c3ce0d4f691e9f8619cf31328">avoid_sharp</a>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordtype">bool</span> avoid_traps = <a class="code" href="classmonster.html#a873925c09bec361ffd2363626828a362">get_pathfinding_settings</a>().<a class="code" href="structpathfinding__settings.html#acba070ceb6ae16b9c3991a1d2814d4c8">avoid_traps</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">     * Because some avoidance behaviors are supersets of others,</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">     * we can cascade through the implications. Complex implies simple,</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">     * and simple implies fire and fall.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">     * unfortunately, fall does not necessarily imply fire, nor the converse.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span>( avoid_complex ) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        avoid_simple = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        avoid_traps = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">if</span>( avoid_simple ) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        avoid_fire = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        avoid_fall = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        avoid_sharp = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">// technically this will shortcut in evaluation from fire or fall</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">// before hitting simple or complex but this is more explicit</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">if</span>( avoid_fire || avoid_fall || avoid_simple ||</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        avoid_complex || avoid_traps || avoid_sharp ) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keyword">const</span> <a class="code" href="classint__id.html">ter_id</a> target = here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p );</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">if</span>( !here.<a class="code" href="classmap.html#a5ee9fe3a08892870a0574b8e1ab4e6b0">has_vehicle_floor</a>( p ) ) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="comment">// Don&#39;t enter lava if we have any concept of heat being bad</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="keywordflow">if</span>( avoid_fire &amp;&amp; target == <a class="code" href="monmove_8cpp.html#ada6977f9f2935b5c864914ed26ba70be">ter_t_lava</a> ) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keywordflow">if</span>( avoid_fall ) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                <span class="comment">// Don&#39;t throw ourselves off cliffs if we have a concept of falling</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                <span class="keywordflow">if</span>( !here.<a class="code" href="classmap.html#a78e0a35a5041e0daf6e7a2a4ec522014">has_floor_or_water</a>( p ) &amp;&amp; !<a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>() ) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                <span class="comment">// Don&#39;t enter open pits ever unless tiny, can fly or climb well</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                <span class="keywordflow">if</span>( !( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a> || <a class="code" href="classmonster.html#abca4913777aa7ed67c109de4b667ed54">can_climb</a>() ) &amp;&amp;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    ( target == <a class="code" href="monmove_8cpp.html#aaa258c5465ca70ec4568914f0975902c">ter_t_pit</a> || target == <a class="code" href="monmove_8cpp.html#a5b54905268cad0ebc1a842a9594b0e65">ter_t_pit_spiked</a> || target == <a class="code" href="monmove_8cpp.html#abd49233bc2fac36e7e5fd2ba24dcac17">ter_t_pit_glass</a> ) ) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="comment">// Some things are only avoided if we&#39;re not attacking</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() != <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() ||</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                <a class="code" href="classmonster.html#a6f9b80e613e46d2a7ebbb21ea5e11e4c">attitude</a>( &amp;<a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>() ) != <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a87f44dc6e793f84b2342dafd6460b263">MATT_ATTACK</a> ) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                <span class="comment">// Sharp terrain is ignored while attacking</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                <span class="keywordflow">if</span>( avoid_sharp &amp;&amp; here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a28fc0832c9c36a2deaa4f618f42c9c45">ter_furn_flag::TFLAG_SHARP</a>, p ) &amp;&amp;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                    !( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a> || <a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>() ||</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                       <a class="code" href="classmonster.html#ab55cbaa78e9a77935dfc63e5c292317b">get_armor_type</a>( <a class="code" href="monmove_8cpp.html#aecd517a9e74b5a5a21f0c75f88f50090">damage_cut</a>, <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ) ) &gt;= 10 ) ) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="comment">// Don&#39;t step on any traps (if we can see)</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="keyword">const</span> <a class="code" href="structtrap.html">trap</a> &amp;target_trap = here.<a class="code" href="classmap.html#a30ccb67ed3651d350f2caf214e0b5176">tr_at</a>( p );</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">if</span>( avoid_traps &amp;&amp; <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a0f90cef22d42e0b8c911e8d289e1a10e">mon_flag_SEES</a> ) &amp;&amp;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                !target_trap.<a class="code" href="structtrap.html#adc8f59b97597d373f7cb0bbcf061e794">is_benign</a>() &amp;&amp; here.<a class="code" href="classmap.html#a78e0a35a5041e0daf6e7a2a4ec522014">has_floor_or_water</a>( p ) ) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keyword">const</span> <a class="code" href="classfield.html">field</a> &amp;target_field = here.<a class="code" href="classmap.html#a395a729a4b954692cf08d13e1d32f73e">field_at</a>( p );</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="comment">// Higher awareness is needed for identifying these as threats.</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">if</span>( avoid_complex ) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="comment">// Don&#39;t enter any dangerous fields</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a6a4c43d66f5a8b50a879d78682b00976">is_dangerous_fields</a>( target_field ) ) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="comment">// Without avoid_complex, only fire and electricity are checked for field avoidance.</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keywordflow">if</span>( avoid_fire &amp;&amp; target_field.<a class="code" href="classfield.html#ad45f87597ebb8629628d9f35c238947d">find_field</a>( <a class="code" href="field__type_8cpp.html#a0090428c1f6724209c133c6b04b037cd">fd_fire</a> ) &amp;&amp; !<a class="code" href="classmonster.html#a463ca0ea362cc5ea7b3b9a808c0de85c">is_immune_field</a>( <a class="code" href="field__type_8cpp.html#a0090428c1f6724209c133c6b04b037cd">fd_fire</a> ) ) {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">if</span>( avoid_simple &amp;&amp; target_field.<a class="code" href="classfield.html#ad45f87597ebb8629628d9f35c238947d">find_field</a>( <a class="code" href="field__type_8cpp.html#af0e4bb585d388fc8d4ad9ac76f52d340">fd_electricity</a> ) &amp;&amp;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            !<a class="code" href="classmonster.html#a463ca0ea362cc5ea7b3b9a808c0de85c">is_immune_field</a>( <a class="code" href="field__type_8cpp.html#af0e4bb585d388fc8d4ad9ac76f52d340">fd_electricity</a> ) ) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a6a4c43d66f5a8b50a879d78682b00976"><div class="ttname"><a href="classCreature.html#a6a4c43d66f5a8b50a879d78682b00976">Creature::is_dangerous_fields</a></div><div class="ttdeci">bool is_dangerous_fields(const field &amp;fld) const</div><div class="ttdoc">Returns true if there is a field in the field set that is dangerous to us.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00334">creature.cpp:334</a></div></div>
<div class="ttc" id="aclassfield_html"><div class="ttname"><a href="classfield.html">field</a></div><div class="ttdoc">A variable sized collection of field entries on a given map square.</div><div class="ttdef"><b>Definition:</b> <a href="field_8h_source.html#l00106">field.h:107</a></div></div>
<div class="ttc" id="aclassfield_html_ad45f87597ebb8629628d9f35c238947d"><div class="ttname"><a href="classfield.html#ad45f87597ebb8629628d9f35c238947d">field::find_field</a></div><div class="ttdeci">field_entry * find_field(const field_type_id &amp;field_type_to_find, bool alive_only=true)</div><div class="ttdoc">Returns a field entry corresponding to the field_type_id parameter passed in.</div><div class="ttdef"><b>Definition:</b> <a href="field_8cpp_source.html#l00122">field.cpp:122</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; ter_t &gt;</a></div></div>
<div class="ttc" id="aclassmap_html_a30ccb67ed3651d350f2caf214e0b5176"><div class="ttname"><a href="classmap.html#a30ccb67ed3651d350f2caf214e0b5176">map::tr_at</a></div><div class="ttdeci">const trap &amp; tr_at(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06213">map.cpp:6213</a></div></div>
<div class="ttc" id="aclassmap_html_a395a729a4b954692cf08d13e1d32f73e"><div class="ttname"><a href="classmap.html#a395a729a4b954692cf08d13e1d32f73e">map::field_at</a></div><div class="ttdeci">const field &amp; field_at(const tripoint &amp;p) const</div><div class="ttdoc">Get the fields that are here.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06379">map.cpp:6379</a></div></div>
<div class="ttc" id="aclassmap_html_a5ee9fe3a08892870a0574b8e1ab4e6b0"><div class="ttname"><a href="classmap.html#a5ee9fe3a08892870a0574b8e1ab4e6b0">map::has_vehicle_floor</a></div><div class="ttdeci">bool has_vehicle_floor(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02739">map.cpp:2739</a></div></div>
<div class="ttc" id="aclassmap_html_aba8f330c2cc25be0652489b42d8dd530"><div class="ttname"><a href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">map::ter</a></div><div class="ttdeci">ter_id ter(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01922">map.cpp:1922</a></div></div>
<div class="ttc" id="aclassmonster_html_a463ca0ea362cc5ea7b3b9a808c0de85c"><div class="ttname"><a href="classmonster.html#a463ca0ea362cc5ea7b3b9a808c0de85c">monster::is_immune_field</a></div><div class="ttdeci">bool is_immune_field(const field_type_id &amp;fid) const override</div><div class="ttdoc">Returns true if we are immune to the field type with the given fid.</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00093">monmove.cpp:93</a></div></div>
<div class="ttc" id="aclassmonster_html_abca4913777aa7ed67c109de4b667ed54"><div class="ttname"><a href="classmonster.html#abca4913777aa7ed67c109de4b667ed54">monster::can_climb</a></div><div class="ttdeci">bool can_climb() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01242">monster.cpp:1242</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a0090428c1f6724209c133c6b04b037cd"><div class="ttname"><a href="field__type_8cpp.html#a0090428c1f6724209c133c6b04b037cd">fd_fire</a></div><div class="ttdeci">const field_type_str_id fd_fire(&quot;fd_fire&quot;)</div></div>
<div class="ttc" id="afield__type_8cpp_html_af0e4bb585d388fc8d4ad9ac76f52d340"><div class="ttname"><a href="field__type_8cpp.html#af0e4bb585d388fc8d4ad9ac76f52d340">fd_electricity</a></div><div class="ttdeci">const field_type_str_id fd_electricity(&quot;fd_electricity&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_a5b54905268cad0ebc1a842a9594b0e65"><div class="ttname"><a href="monmove_8cpp.html#a5b54905268cad0ebc1a842a9594b0e65">ter_t_pit_spiked</a></div><div class="ttdeci">static const ter_str_id ter_t_pit_spiked(&quot;t_pit_spiked&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_aaa258c5465ca70ec4568914f0975902c"><div class="ttname"><a href="monmove_8cpp.html#aaa258c5465ca70ec4568914f0975902c">ter_t_pit</a></div><div class="ttdeci">static const ter_str_id ter_t_pit(&quot;t_pit&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_abd49233bc2fac36e7e5fd2ba24dcac17"><div class="ttname"><a href="monmove_8cpp.html#abd49233bc2fac36e7e5fd2ba24dcac17">ter_t_pit_glass</a></div><div class="ttdeci">static const ter_str_id ter_t_pit_glass(&quot;t_pit_glass&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_ada6977f9f2935b5c864914ed26ba70be"><div class="ttname"><a href="monmove_8cpp.html#ada6977f9f2935b5c864914ed26ba70be">ter_t_lava</a></div><div class="ttdeci">static const ter_str_id ter_t_lava(&quot;t_lava&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_aecd517a9e74b5a5a21f0c75f88f50090"><div class="ttname"><a href="monmove_8cpp.html#aecd517a9e74b5a5a21f0c75f88f50090">damage_cut</a></div><div class="ttdeci">static const damage_type_id damage_cut(&quot;cut&quot;)</div></div>
<div class="ttc" id="astructtrap_html"><div class="ttname"><a href="structtrap.html">trap</a></div><div class="ttdoc">Some traps aren't actually traps in the usual sense of the word.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00109">trap.h:109</a></div></div>
<div class="ttc" id="astructtrap_html_adc8f59b97597d373f7cb0bbcf061e794"><div class="ttname"><a href="structtrap.html#adc8f59b97597d373f7cb0bbcf061e794">trap::is_benign</a></div><div class="ttdeci">bool is_benign() const</div><div class="ttdoc">If true, this is not really a trap and there won't be any safety queries before stepping onto it (e....</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00221">trap.h:221</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="pathfinding_8h_source.html#l00067">pathfinding_settings::avoid_sharp</a>, <a class="el" href="pathfinding_8h_source.html#l00064">pathfinding_settings::avoid_traps</a>, <a class="el" href="monster_8cpp_source.html#l01242">can_climb()</a>, <a class="el" href="monmove_8cpp.html#aecd517a9e74b5a5a21f0c75f88f50090">damage_cut</a>, <a class="el" href="field__type_8cpp.html#af0e4bb585d388fc8d4ad9ac76f52d340">fd_electricity</a>, <a class="el" href="field__type_8cpp.html#a0090428c1f6724209c133c6b04b037cd">fd_fire</a>, <a class="el" href="map_8cpp_source.html#l06379">map::field_at()</a>, <a class="el" href="field_8cpp_source.html#l00122">field::find_field()</a>, <a class="el" href="monster_8cpp_source.html#l01262">flies()</a>, <a class="el" href="monster_8cpp_source.html#l02405">get_armor_type()</a>, <a class="el" href="monster_8cpp_source.html#l01375">get_dest()</a>, <a class="el" href="creature_8cpp_source.html#l03232">Creature::get_location()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="monster_8cpp_source.html#l03981">get_pathfinding_settings()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l02703">map::has_floor_or_water()</a>, <a class="el" href="map_8cpp_source.html#l02739">map::has_vehicle_floor()</a>, <a class="el" href="trap_8h_source.html#l00221">trap::is_benign()</a>, <a class="el" href="creature_8cpp_source.html#l00334">Creature::is_dangerous_fields()</a>, <a class="el" href="monmove_8cpp_source.html#l00093">is_immune_field()</a>, <a class="el" href="monster_8h_source.html#l00064">MATT_ATTACK</a>, <a class="el" href="mtype_8cpp_source.html#l00122">mon_flag_PATH_AVOID_DANGER_1</a>, <a class="el" href="mtype_8cpp_source.html#l00123">mon_flag_PATH_AVOID_DANGER_2</a>, <a class="el" href="mtype_8cpp_source.html#l00124">mon_flag_PATH_AVOID_FALL</a>, <a class="el" href="mtype_8cpp_source.html#l00125">mon_flag_PATH_AVOID_FIRE</a>, <a class="el" href="mtype_8cpp_source.html#l00143">mon_flag_SEES</a>, <a class="el" href="mtype_8h_source.html#l00407">mtype::size</a>, <a class="el" href="map_8cpp_source.html#l01922">map::ter()</a>, <a class="el" href="monmove_8cpp.html#ada6977f9f2935b5c864914ed26ba70be">ter_t_lava</a>, <a class="el" href="monmove_8cpp.html#aaa258c5465ca70ec4568914f0975902c">ter_t_pit</a>, <a class="el" href="monmove_8cpp.html#abd49233bc2fac36e7e5fd2ba24dcac17">ter_t_pit_glass</a>, <a class="el" href="monmove_8cpp.html#a5b54905268cad0ebc1a842a9594b0e65">ter_t_pit_spiked</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a28fc0832c9c36a2deaa4f618f42c9c45">TFLAG_SHARP</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">tiny</a>, <a class="el" href="map_8cpp_source.html#l06213">map::tr_at()</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l00110">leap_actor::call()</a>, and <a class="el" href="game_8cpp_source.html#l05169">can_place_monster()</a>.</p>

</div>
</div>
<a id="ae0b147164500bfd61e71d94ce5b745c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0b147164500bfd61e71d94ce5b745c6">&#9670;&nbsp;</a></span>load() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::load </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l02421">2421</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;{</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    <a class="code" href="classCreature.html#a7f3c56033514a451ed173180037ff5c7">Creature::load</a>( data );</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160; </div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;    <span class="comment">// TEMPORARY until 0.G</span></div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;    <span class="keywordflow">if</span>( !data.<a class="code" href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">has_member</a>( <span class="stringliteral">&quot;location&quot;</span> ) ) {</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;        <a class="code" href="classCreature.html#ac93f4ccc1bff76ada002c7e886c941ef">set_location</a>( <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().getglobal( <a class="code" href="savegame__json_8cpp.html#ae3ecd4a24b3e0d20023a1dcae694baf2">read_legacy_creature_pos</a>( data ) ) );</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;        <a class="code" href="structtripoint.html">tripoint</a> wand;</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;        data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;wandx&quot;</span>, wand.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> );</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;        data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;wandy&quot;</span>, wand.<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> );</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;        data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;wandz&quot;</span>, wand.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> );</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;        <a class="code" href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">wander_pos</a> = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#ac868b594b36b6b9bbcb130650fd4f61f">getglobal</a>( wand );</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;        <a class="code" href="structtripoint.html">tripoint</a> destination;</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;        data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;destination&quot;</span>, destination );</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;        <span class="keywordflow">if</span>( destination != <a class="code" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a> ) {</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;            <a class="code" href="classmonster.html#a7c3e07d777236b91713d6db073581dd3">goal</a> = <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() + destination;</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;        }</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    }</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160; </div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;    <span class="keyword">const</span> <a class="code" href="classstring__id.html">mtype_id</a> montype( data.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <span class="stringliteral">&quot;typeid&quot;</span>, <span class="stringliteral">&quot;invalid*type&quot;</span> ) );</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;    <span class="keywordflow">if</span>( montype.is_valid() ) {</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;        <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a> = &amp;montype.obj();</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// type is invalid (monster deleted from data - replace with something neutral)</span></div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;        <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a> = &amp;<a class="code" href="savegame__json_8cpp.html#a3a701004a797f5511860423764151aa2">mon_breather</a>.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;        <a class="code" href="debug_8cpp.html#a240782b16593c6bd607c64787c62da0e">DebugLog</a>( <a class="code" href="debug_8h.html#ab658e6d84759440dbf3c890446075395acdde8abdfca282d5529a48366dcfe8fd">D_WARNING</a>, <a class="code" href="debug_8h.html#afa45cf12d72d4226196a7d03c54ad7d3adfa3ea5b834aebc2a8e4e83b7d33db14">DC_ALL</a> ) &lt;&lt; <span class="stringliteral">&quot;mtype &#39;&quot;</span> &lt;&lt; montype.str() &lt;&lt; <span class="stringliteral">&quot;&#39; is invalid, set to mon_breather&quot;</span>;</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;    }</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160; </div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;unique_name&quot;</span>, <a class="code" href="classmonster.html#a5e50554c4210ec2a15d9ed44e61bcf3a">unique_name</a> );</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;nickname&quot;</span>, <a class="code" href="classmonster.html#a7fc9e3a231d3eafe78fa2a296a8ce1f5">nickname</a> );</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;goal&quot;</span>, <a class="code" href="classmonster.html#a7c3e07d777236b91713d6db073581dd3">goal</a> );</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;provocative_sound&quot;</span>, <a class="code" href="classmonster.html#a790b213f8c42018dba14f5358644226f">provocative_sound</a> );</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;wandf&quot;</span>, <a class="code" href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">wandf</a> );</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;wander_pos&quot;</span>, <a class="code" href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">wander_pos</a> );</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;    <span class="keywordflow">if</span>( data.<a class="code" href="classJsonObject.html#a271bf0c222d2a7c97329df4362ae6a54">has_int</a>( <span class="stringliteral">&quot;next_patrol_point&quot;</span> ) ) {</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;        data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;next_patrol_point&quot;</span>, <a class="code" href="classmonster.html#abeb3743ffee119ce1507af082bb5a0e0">next_patrol_point</a> );</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;        data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;patrol_route&quot;</span>, <a class="code" href="classmonster.html#ae4ddfd29306c2e768f545aed901be3f9">patrol_route</a> );</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;    }</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;    <span class="keywordflow">if</span>( data.<a class="code" href="classJsonObject.html#a62e862f0390ad12302c9677069fb9d23">has_object</a>( <span class="stringliteral">&quot;tied_item&quot;</span> ) ) {</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;        <a class="code" href="classJsonValue.html">JsonValue</a> tied_item_json = data.<a class="code" href="classJsonObject.html#ab71a096f97edf5ea339e44ac4dbe39db">get_member</a>( <span class="stringliteral">&quot;tied_item&quot;</span> );</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;        <a class="code" href="classitem.html">item</a> newitem;</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;        newitem.<a class="code" href="classitem.html#a4aa2c202069a8cdda0c1bb24fb8179c1">deserialize</a>( tied_item_json );</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;        <a class="code" href="classmonster.html#a2881507933646bca97ef83c7112595ac">tied_item</a> = cata::make_value&lt;item&gt;( newitem );</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    }</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;    <span class="keywordflow">if</span>( data.<a class="code" href="classJsonObject.html#a62e862f0390ad12302c9677069fb9d23">has_object</a>( <span class="stringliteral">&quot;tack_item&quot;</span> ) ) {</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;        <a class="code" href="classJsonValue.html">JsonValue</a> tack_item_json = data.<a class="code" href="classJsonObject.html#ab71a096f97edf5ea339e44ac4dbe39db">get_member</a>( <span class="stringliteral">&quot;tack_item&quot;</span> );</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;        <a class="code" href="classitem.html">item</a> newitem;</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;        newitem.<a class="code" href="classitem.html#a4aa2c202069a8cdda0c1bb24fb8179c1">deserialize</a>( tack_item_json );</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;        <a class="code" href="classmonster.html#a662acdf990147854bad39a7c128afcaa">tack_item</a> = cata::make_value&lt;item&gt;( newitem );</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    }</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    <span class="keywordflow">if</span>( data.<a class="code" href="classJsonObject.html#a62e862f0390ad12302c9677069fb9d23">has_object</a>( <span class="stringliteral">&quot;armor_item&quot;</span> ) ) {</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;        <a class="code" href="classJsonValue.html">JsonValue</a> armor_item_json = data.<a class="code" href="classJsonObject.html#ab71a096f97edf5ea339e44ac4dbe39db">get_member</a>( <span class="stringliteral">&quot;armor_item&quot;</span> );</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;        <a class="code" href="classitem.html">item</a> newitem;</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;        newitem.<a class="code" href="classitem.html#a4aa2c202069a8cdda0c1bb24fb8179c1">deserialize</a>( armor_item_json );</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;        <a class="code" href="classmonster.html#ae152269bc060756feb09757c9f8c3f0c">armor_item</a> = cata::make_value&lt;item&gt;( newitem );</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;    }</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;    <span class="keywordflow">if</span>( data.<a class="code" href="classJsonObject.html#a62e862f0390ad12302c9677069fb9d23">has_object</a>( <span class="stringliteral">&quot;storage_item&quot;</span> ) ) {</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;        <a class="code" href="classJsonValue.html">JsonValue</a> storage_item_json = data.<a class="code" href="classJsonObject.html#ab71a096f97edf5ea339e44ac4dbe39db">get_member</a>( <span class="stringliteral">&quot;storage_item&quot;</span> );</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;        <a class="code" href="classitem.html">item</a> newitem;</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;        newitem.<a class="code" href="classitem.html#a4aa2c202069a8cdda0c1bb24fb8179c1">deserialize</a>( storage_item_json );</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;        <a class="code" href="classmonster.html#ab0eaba81bb3c25eecea173d9074f5521">storage_item</a> = cata::make_value&lt;item&gt;( newitem );</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    }</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    <span class="keywordflow">if</span>( data.<a class="code" href="classJsonObject.html#a62e862f0390ad12302c9677069fb9d23">has_object</a>( <span class="stringliteral">&quot;battery_item&quot;</span> ) ) {</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;        <a class="code" href="classJsonValue.html">JsonValue</a> battery_item_json = data.<a class="code" href="classJsonObject.html#ab71a096f97edf5ea339e44ac4dbe39db">get_member</a>( <span class="stringliteral">&quot;battery_item&quot;</span> );</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;        <a class="code" href="classitem.html">item</a> newitem;</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;        newitem.<a class="code" href="classitem.html#a4aa2c202069a8cdda0c1bb24fb8179c1">deserialize</a>( battery_item_json );</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;        <a class="code" href="classmonster.html#a5d5bdb6389c0388198bda9530620e4af">battery_item</a> = cata::make_value&lt;item&gt;( newitem );</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;    }</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;hp&quot;</span>, <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> );</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160; </div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    <span class="comment">// sp_timeout indicates an old save, prior to the special_attacks refactor</span></div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    <span class="keywordflow">if</span>( data.<a class="code" href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">has_array</a>( <span class="stringliteral">&quot;sp_timeout&quot;</span> ) ) {</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;        <a class="code" href="classJsonArray.html">JsonArray</a> parray = data.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;sp_timeout&quot;</span> );</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;        <span class="keywordtype">size_t</span> index = 0;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;        <span class="keywordtype">int</span> ptimeout = 0;</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;        <span class="keywordflow">while</span>( parray.<a class="code" href="classJsonArray.html#a12e952546232a62428cb2a1741364006">has_more</a>() &amp;&amp; index &lt; type-&gt;special_attacks_names.size() ) {</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;            <span class="keywordflow">if</span>( parray.<a class="code" href="classJsonArray.html#a3c1ab58d18d9edeeaf0c8ac7bb888435">read_next</a>( ptimeout ) ) {</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;                <span class="comment">// assume timeouts saved in same order as current monsters.json listing</span></div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;                <span class="keyword">const</span> std::string &amp;aname = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a09443e4dc64668e48c5435cd4fddd5a1">special_attacks_names</a>[index++];</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;                <span class="keyword">auto</span> &amp;entry = <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>[aname];</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;                <span class="keywordflow">if</span>( ptimeout &gt;= 0 ) {</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;                    entry.cooldown = ptimeout;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;                } <span class="keywordflow">else</span> { <span class="comment">// -1 means disabled, unclear what &lt;-1 values mean in old saves</span></div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;                    entry.cooldown = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">special_attacks</a>.at( aname )-&gt;cooldown;</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;                    entry.enabled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;                }</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;            }</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;        }</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    }</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160; </div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    <span class="comment">// special_attacks indicates a save after the special_attacks refactor</span></div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    <span class="keywordflow">if</span>( data.<a class="code" href="classJsonObject.html#a62e862f0390ad12302c9677069fb9d23">has_object</a>( <span class="stringliteral">&quot;special_attacks&quot;</span> ) ) {</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classJsonMember.html">JsonMember</a> <a class="code" href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3">member</a> : data.<a class="code" href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">get_object</a>( <span class="stringliteral">&quot;special_attacks&quot;</span> ) ) {</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;            <a class="code" href="classJsonObject.html">JsonObject</a> saobject = <a class="code" href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3">member</a>.get_object();</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;            saobject.<a class="code" href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">allow_omitted_members</a>();</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;            <span class="keyword">auto</span> &amp;entry = <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>[<a class="code" href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3">member</a>.name()];</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;            entry.cooldown = saobject.<a class="code" href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">get_int</a>( <span class="stringliteral">&quot;cooldown&quot;</span> );</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;            entry.enabled = saobject.<a class="code" href="classJsonObject.html#a3d748a5d67f435bbd170a3e92a7cd0ca">get_bool</a>( <span class="stringliteral">&quot;enabled&quot;</span> );</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;        }</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    }</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160; </div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    <span class="comment">// make sure the loaded monster has every special attack its type says it should have</span></div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;sa : <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">special_attacks</a> ) {</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;        <span class="keyword">const</span> std::string &amp;aname = sa.first;</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.find( aname ) == <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.end() ) {</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;            <span class="keyword">auto</span> &amp;entry = <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>[aname];</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;            entry.cooldown = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, sa.second-&gt;cooldown );</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;        }</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;    }</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160; </div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;friendly&quot;</span>, <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> );</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;    <span class="keywordflow">if</span>( data.<a class="code" href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">has_member</a>( <span class="stringliteral">&quot;mission_ids&quot;</span> ) ) {</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;        data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;mission_ids&quot;</span>, <a class="code" href="classmonster.html#a01b78cfdda7c7750af4020aa9f0d3994">mission_ids</a> );</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( data.<a class="code" href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">has_member</a>( <span class="stringliteral">&quot;mission_id&quot;</span> ) ) {</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structmission__id.html">mission_id</a> = data.<a class="code" href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">get_int</a>( <span class="stringliteral">&quot;mission_id&quot;</span> );</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="structmission__id.html">mission_id</a> &gt; 0 ) {</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;            <a class="code" href="classmonster.html#a01b78cfdda7c7750af4020aa9f0d3994">mission_ids</a> = { <a class="code" href="structmission__id.html">mission_id</a> };</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;            <a class="code" href="classmonster.html#a01b78cfdda7c7750af4020aa9f0d3994">mission_ids</a>.clear();</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;        }</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;    }</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;mission_fused&quot;</span>, <a class="code" href="classmonster.html#ac18a1fa7e650a4c2d927d666a10f84aa">mission_fused</a> );</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;no_extra_death_drops&quot;</span>, <a class="code" href="classmonster.html#a2f9d03ffee51f0193855490a75511596">no_extra_death_drops</a> );</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;dead&quot;</span>, <a class="code" href="classmonster.html#aa2dfdd8d67d988b02c1bba9410df7f79">dead</a> );</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;anger&quot;</span>, <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> );</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;morale&quot;</span>, <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> );</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;hallucination&quot;</span>, <a class="code" href="classmonster.html#a9a2109e8e8394c4580a7a545ab9c04fb">hallucination</a> );</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;aggro_character&quot;</span>, <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> );</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;fish_population&quot;</span>, <a class="code" href="classmonster.html#a1bcf8c4105ed1ba90775fbdef4afeaf6">fish_population</a> );</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;    <span class="comment">//for older saves convert summon time limit to lifespan end</span></div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    std::optional&lt;time_duration&gt; summon_time_limit;</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;summon_time_limit&quot;</span>, summon_time_limit );</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;    <span class="keywordflow">if</span>( summon_time_limit ) {</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;        <a class="code" href="classCreature.html#a36478eccbdd3eab446c0534fbca13644">set_summon_time</a>( *summon_time_limit );</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;    }</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160; </div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;    <a class="code" href="classmonster.html#a62679e1efa30cbc49d0ac34082171ed5">upgrades</a> = data.<a class="code" href="classJsonObject.html#a3d748a5d67f435bbd170a3e92a7cd0ca">get_bool</a>( <span class="stringliteral">&quot;upgrades&quot;</span>, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a1050d0f186ffaf805c7a3bce1f5d72b0">upgrades</a> );</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;    <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> = data.<a class="code" href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">get_int</a>( <span class="stringliteral">&quot;upgrade_time&quot;</span>, -1 );</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160; </div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;    <a class="code" href="classmonster.html#ad040aa7a065e88de5c26f205a590b6dd">reproduces</a> = data.<a class="code" href="classJsonObject.html#a3d748a5d67f435bbd170a3e92a7cd0ca">get_bool</a>( <span class="stringliteral">&quot;reproduces&quot;</span>, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa5d095d022d8661fbadcd45a916a4388">reproduces</a> );</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;    <a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a>.reset();</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;baby_timer&quot;</span>, <a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a> );</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a> &amp;&amp; *<a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a> == <a class="code" href="namespacecalendar.html#abf9e7bc62ef51f362834af2a093d567b">calendar::before_time_starts</a> ) {</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;        <a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a>.reset();</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    }</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160; </div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;    <a class="code" href="classmonster.html#acce0f9e8bbe3751a3051b9ff6c5acd98">biosignatures</a> = data.<a class="code" href="classJsonObject.html#a3d748a5d67f435bbd170a3e92a7cd0ca">get_bool</a>( <span class="stringliteral">&quot;biosignatures&quot;</span>, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8172db8cb8992550dbe1a446cca7245a">biosignatures</a> );</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    <a class="code" href="classmonster.html#a5ef22126311aed7f324e1c19f650295a">biosig_timer</a> = <a class="code" href="classtime__point.html">time_point</a>( data.<a class="code" href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">get_int</a>( <span class="stringliteral">&quot;biosig_timer&quot;</span>, -1 ) );</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160; </div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;udder_timer&quot;</span>, <a class="code" href="classmonster.html#afddce3b0ff89fefe1d36b256bf9a03d0">udder_timer</a> );</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160; </div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;    <a class="code" href="classmonster.html#a6e59f031b6007370e42a38bc89a2d1c3">horde_attraction</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022a">monster_horde_attraction</a><span class="keyword">&gt;</span>( data.<a class="code" href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">get_int</a>( <span class="stringliteral">&quot;horde_attraction&quot;</span>, 0 ) );</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160; </div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;inv&quot;</span>, <a class="code" href="classmonster.html#a275d73e1bf3d08e2ea1a0704ac898f7e">inv</a> );</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;dissectable_inv&quot;</span>, <a class="code" href="classmonster.html#a465028b1b8fcd3e2f397549f02cb1719">dissectable_inv</a> );</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;dragged_foe_id&quot;</span>, <a class="code" href="classmonster.html#ab00d759ebe29170bf2a166dd155bfeb2">dragged_foe_id</a> );</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160; </div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;ammo&quot;</span>, <a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a> );</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160; </div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    <span class="keyword">const</span> <a class="code" href="classstring__id.html">mfaction_str_id</a> mfac( data.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <span class="stringliteral">&quot;faction&quot;</span>, <span class="stringliteral">&quot;invalid*faction&quot;</span> ) );</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    <span class="keywordflow">if</span>( mfac.is_valid() ) {</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;        <a class="code" href="classfaction.html">faction</a> = mfac;</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;        <a class="code" href="classfaction.html">faction</a> = <a class="code" href="savegame__json_8cpp.html#a8dd533a2dcd0843e63550bb164114613">monfaction_factionless</a>;</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;        <a class="code" href="debug_8cpp.html#a240782b16593c6bd607c64787c62da0e">DebugLog</a>( <a class="code" href="debug_8h.html#ab658e6d84759440dbf3c890446075395acdde8abdfca282d5529a48366dcfe8fd">D_WARNING</a>, <a class="code" href="debug_8h.html#afa45cf12d72d4226196a7d03c54ad7d3adfa3ea5b834aebc2a8e4e83b7d33db14">DC_ALL</a> ) &lt;&lt; <span class="stringliteral">&quot;mfaction &quot;</span> &lt;&lt; mfac.str() &lt;&lt; <span class="stringliteral">&quot;&#39; is invalid, set to factionless&quot;</span>;</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;    }</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160; </div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;mounted_player_id&quot;</span>, <a class="code" href="classmonster.html#aaac3e97cc65bb74fce0de43c73844aa9">mounted_player_id</a> );</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;path&quot;</span>, <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a> );</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160; </div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;    data.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;grabbed_limbs&quot;</span>, <a class="code" href="classmonster.html#ab867ed85af4f78ffd00d7c525fba796b">grabbed_limbs</a> );</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a36478eccbdd3eab446c0534fbca13644"><div class="ttname"><a href="classCreature.html#a36478eccbdd3eab446c0534fbca13644">Creature::set_summon_time</a></div><div class="ttdeci">void set_summon_time(const time_duration &amp;length)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02045">creature.cpp:2045</a></div></div>
<div class="ttc" id="aclassCreature_html_a7f3c56033514a451ed173180037ff5c7"><div class="ttname"><a href="classCreature.html#a7f3c56033514a451ed173180037ff5c7">Creature::load</a></div><div class="ttdeci">void load(const JsonObject &amp;jsin)</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l03772">savegame_json.cpp:3772</a></div></div>
<div class="ttc" id="aclassCreature_html_ac93f4ccc1bff76ada002c7e886c941ef"><div class="ttname"><a href="classCreature.html#ac93f4ccc1bff76ada002c7e886c941ef">Creature::set_location</a></div><div class="ttdeci">void set_location(const tripoint_abs_ms &amp;loc)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00207">creature.cpp:207</a></div></div>
<div class="ttc" id="aclassJsonArray_html"><div class="ttname"><a href="classJsonArray.html">JsonArray</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00346">flexbuffer_json.h:347</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a12e952546232a62428cb2a1741364006"><div class="ttname"><a href="classJsonArray.html#a12e952546232a62428cb2a1741364006">JsonArray::has_more</a></div><div class="ttdeci">bool has_more() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00463">flexbuffer_json.h:463</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a3c1ab58d18d9edeeaf0c8ac7bb888435"><div class="ttname"><a href="classJsonArray.html#a3c1ab58d18d9edeeaf0c8ac7bb888435">JsonArray::read_next</a></div><div class="ttdeci">bool read_next(T &amp;t, bool throw_on_error=false)</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00760">flexbuffer_json-inl.h:760</a></div></div>
<div class="ttc" id="aclassJsonMember_html"><div class="ttname"><a href="classJsonMember.html">JsonMember</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00501">flexbuffer_json.h:502</a></div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00526">flexbuffer_json.h:527</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a1abb3808bb2a992716d5ef6f27a32b3c"><div class="ttname"><a href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">JsonObject::get_string</a></div><div class="ttdeci">std::string get_string(const std::string &amp;key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00813">flexbuffer_json-inl.h:813</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a271bf0c222d2a7c97329df4362ae6a54"><div class="ttname"><a href="classJsonObject.html#a271bf0c222d2a7c97329df4362ae6a54">JsonObject::has_int</a></div><div class="ttdeci">bool has_int(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00956">flexbuffer_json-inl.h:956</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a3b9722313d9692826235c87e73e94f04"><div class="ttname"><a href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">JsonObject::get_object</a></div><div class="ttdeci">JsonObject get_object(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00864">flexbuffer_json-inl.h:864</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a3d748a5d67f435bbd170a3e92a7cd0ca"><div class="ttname"><a href="classJsonObject.html#a3d748a5d67f435bbd170a3e92a7cd0ca">JsonObject::get_bool</a></div><div class="ttdeci">bool get_bool(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00850">flexbuffer_json-inl.h:850</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a4d917fcb285203f91b74002565375dce"><div class="ttname"><a href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00984">flexbuffer_json-inl.h:984</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a532ea812759469d654c7fde4738d11d5"><div class="ttname"><a href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">JsonObject::get_int</a></div><div class="ttdeci">int get_int(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00840">flexbuffer_json-inl.h:840</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a619cb4eae7922f357db47479fc71cf9b"><div class="ttname"><a href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">JsonObject::has_member</a></div><div class="ttdeci">bool has_member(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00944">flexbuffer_json-inl.h:944</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a62e862f0390ad12302c9677069fb9d23"><div class="ttname"><a href="classJsonObject.html#a62e862f0390ad12302c9677069fb9d23">JsonObject::has_object</a></div><div class="ttdeci">bool has_object(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00990">flexbuffer_json-inl.h:990</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a8517ac783372bd0bf149ab8e5f7aae18"><div class="ttname"><a href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">JsonObject::read</a></div><div class="ttdeci">bool read(std::string_view name, T &amp;t, bool throw_on_error=true) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l01059">flexbuffer_json-inl.h:1059</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a88142edb1dd9ea1e7a96c7a99cd70896"><div class="ttname"><a href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00855">flexbuffer_json-inl.h:855</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ab71a096f97edf5ea339e44ac4dbe39db"><div class="ttname"><a href="classJsonObject.html#ab71a096f97edf5ea339e44ac4dbe39db">JsonObject::get_member</a></div><div class="ttdeci">JsonValue get_member(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l01038">flexbuffer_json-inl.h:1038</a></div></div>
<div class="ttc" id="aclassJsonValue_html"><div class="ttname"><a href="classJsonValue.html">JsonValue</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00166">flexbuffer_json.h:167</a></div></div>
<div class="ttc" id="aclassitem_html_a4aa2c202069a8cdda0c1bb24fb8179c1"><div class="ttname"><a href="classitem.html#a4aa2c202069a8cdda0c1bb24fb8179c1">item::deserialize</a></div><div class="ttdeci">void deserialize(const JsonObject &amp;data)</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l03086">savegame_json.cpp:3086</a></div></div>
<div class="ttc" id="aclassmonster_html_a01b78cfdda7c7750af4020aa9f0d3994"><div class="ttname"><a href="classmonster.html#a01b78cfdda7c7750af4020aa9f0d3994">monster::mission_ids</a></div><div class="ttdeci">std::set&lt; int &gt; mission_ids</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00547">monster.h:547</a></div></div>
<div class="ttc" id="aclassmonster_html_a56a49e970812e2317cc67035c33fa96f"><div class="ttname"><a href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">monster::wander_pos</a></div><div class="ttdeci">tripoint_abs_ms wander_pos</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00521">monster.h:521</a></div></div>
<div class="ttc" id="aclassmonster_html_a5e50554c4210ec2a15d9ed44e61bcf3a"><div class="ttname"><a href="classmonster.html#a5e50554c4210ec2a15d9ed44e61bcf3a">monster::unique_name</a></div><div class="ttdeci">std::string unique_name</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00564">monster.h:564</a></div></div>
<div class="ttc" id="aclassmonster_html_a7fc9e3a231d3eafe78fa2a296a8ce1f5"><div class="ttname"><a href="classmonster.html#a7fc9e3a231d3eafe78fa2a296a8ce1f5">monster::nickname</a></div><div class="ttdeci">std::string nickname</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00566">monster.h:566</a></div></div>
<div class="ttc" id="aclassmonster_html_aa162caeeef96c7c0aecca97871435d71"><div class="ttname"><a href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">monster::path</a></div><div class="ttdeci">std::vector&lt; tripoint &gt; path</div><div class="ttdoc">Found path.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00632">monster.h:632</a></div></div>
<div class="ttc" id="aclassmonster_html_aa5740a03294bcab8ef209151af709c4c"><div class="ttname"><a href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">monster::ammo</a></div><div class="ttdeci">std::map&lt; itype_id, int &gt; ammo</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00582">monster.h:582</a></div></div>
<div class="ttc" id="aclassmonster_html_aaac3e97cc65bb74fce0de43c73844aa9"><div class="ttname"><a href="classmonster.html#aaac3e97cc65bb74fce0de43c73844aa9">monster::mounted_player_id</a></div><div class="ttdeci">character_id mounted_player_id</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00527">monster.h:527</a></div></div>
<div class="ttc" id="aclassmonster_html_abeb3743ffee119ce1507af082bb5a0e0"><div class="ttname"><a href="classmonster.html#abeb3743ffee119ce1507af082bb5a0e0">monster::next_patrol_point</a></div><div class="ttdeci">int next_patrol_point</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00652">monster.h:652</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00071">achievement.cpp:71</a></div></div>
<div class="ttc" id="aclasstime__point_html"><div class="ttname"><a href="classtime__point.html">time_point</a></div><div class="ttdoc">A point in the game time.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00459">calendar.h:460</a></div></div>
<div class="ttc" id="acondition_8h_html_a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3"><div class="ttname"><a href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3">jarg::member</a></div><div class="ttdeci">@ member</div></div>
<div class="ttc" id="adebug_8cpp_html_a240782b16593c6bd607c64787c62da0e"><div class="ttname"><a href="debug_8cpp.html#a240782b16593c6bd607c64787c62da0e">DebugLog</a></div><div class="ttdeci">std::ostream &amp; DebugLog(DebugLevel lev, DebugClass cl)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8cpp_source.html#l01438">debug.cpp:1438</a></div></div>
<div class="ttc" id="adebug_8h_html_ab658e6d84759440dbf3c890446075395acdde8abdfca282d5529a48366dcfe8fd"><div class="ttname"><a href="debug_8h.html#ab658e6d84759440dbf3c890446075395acdde8abdfca282d5529a48366dcfe8fd">D_WARNING</a></div><div class="ttdeci">@ D_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00141">debug.h:141</a></div></div>
<div class="ttc" id="adebug_8h_html_afa45cf12d72d4226196a7d03c54ad7d3adfa3ea5b834aebc2a8e4e83b7d33db14"><div class="ttname"><a href="debug_8h.html#afa45cf12d72d4226196a7d03c54ad7d3adfa3ea5b834aebc2a8e4e83b7d33db14">DC_ALL</a></div><div class="ttdeci">@ DC_ALL</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00176">debug.h:175</a></div></div>
<div class="ttc" id="asavegame__json_8cpp_html_a3a701004a797f5511860423764151aa2"><div class="ttname"><a href="savegame__json_8cpp.html#a3a701004a797f5511860423764151aa2">mon_breather</a></div><div class="ttdeci">static const mtype_id mon_breather(&quot;mon_breather&quot;)</div></div>
<div class="ttc" id="asavegame__json_8cpp_html_a8dd533a2dcd0843e63550bb164114613"><div class="ttname"><a href="savegame__json_8cpp.html#a8dd533a2dcd0843e63550bb164114613">monfaction_factionless</a></div><div class="ttdeci">static const mfaction_str_id monfaction_factionless(&quot;factionless&quot;)</div></div>
<div class="ttc" id="asavegame__json_8cpp_html_ae3ecd4a24b3e0d20023a1dcae694baf2"><div class="ttname"><a href="savegame__json_8cpp.html#ae3ecd4a24b3e0d20023a1dcae694baf2">read_legacy_creature_pos</a></div><div class="ttdeci">static tripoint read_legacy_creature_pos(const JsonObject &amp;data)</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l00216">savegame_json.cpp:216</a></div></div>
<div class="ttc" id="astructmission__id_html"><div class="ttname"><a href="structmission__id.html">mission_id</a></div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00103">mission_companion.h:103</a></div></div>
<div class="ttc" id="astructmtype_html_a09443e4dc64668e48c5435cd4fddd5a1"><div class="ttname"><a href="structmtype.html#a09443e4dc64668e48c5435cd4fddd5a1">mtype::special_attacks_names</a></div><div class="ttdeci">std::vector&lt; std::string &gt; special_attacks_names</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00348">mtype.h:348</a></div></div>
<div class="ttc" id="astructtripoint_html_a89f6c0a16e2bfd7ce4f1f1d20404c4d7"><div class="ttname"><a href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">tripoint::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00133">point.h:133</a></div></div>
<div class="ttc" id="astructtripoint_html_affdc0d5b75024cbfacd208a495def3dc"><div class="ttname"><a href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">tripoint::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00132">point.h:132</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="flexbuffer__json_8h_source.html#l00662">JsonObject::allow_omitted_members()</a>, <a class="el" href="calendar_8h_source.html#l00535">calendar::before_time_starts</a>, <a class="el" href="debug_8h_source.html#l00141">D_WARNING</a>, <a class="el" href="item__pocket_8h_source.html#l00409">item_pocket::data</a>, <a class="el" href="debug_8h_source.html#l00175">DC_ALL</a>, <a class="el" href="debug_8cpp_source.html#l01438">DebugLog()</a>, <a class="el" href="savegame__json_8cpp_source.html#l03086">item::deserialize()</a>, <a class="el" href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">friendly</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00850">JsonObject::get_bool()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00840">JsonObject::get_int()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l09625">map::getglobal()</a>, <a class="el" href="flexbuffer__json_8h_source.html#l00463">JsonArray::has_more()</a>, <a class="el" href="display_8h.html#ad55df0d7f625a78f1afc728ee1a6d6a4ad2ccda10db94c2b5d51beed10484c025">hp</a>, <a class="el" href="achievement_8cpp_source.html#l00078">string_id&lt; T &gt;::is_valid()</a>, <a class="el" href="savegame__json_8cpp_source.html#l03772">Creature::load()</a>, <a class="el" href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3">member</a>, <a class="el" href="savegame__json_8cpp.html#a3a701004a797f5511860423764151aa2">mon_breather</a>, <a class="el" href="savegame__json_8cpp.html#a8dd533a2dcd0843e63550bb164114613">monfaction_factionless</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01385">spell_effect::morale()</a>, <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00216">read_legacy_creature_pos()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00760">JsonArray::read_next()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="calendar_8cpp_source.html#l00735">calendar::set_location()</a>, <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>, <a class="el" href="point_8h_source.html#l00250">tripoint_zero</a>, <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, <a class="el" href="point_8h_source.html#l00132">tripoint::x</a>, <a class="el" href="point_8h_source.html#l00133">tripoint::y</a>, and <a class="el" href="point_8h_source.html#l00134">tripoint::z</a>.</p>

</div>
</div>
<a id="a6493d5add2d21dd5c84d88c45a14e59f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6493d5add2d21dd5c84d88c45a14e59f">&#9670;&nbsp;</a></span>load() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::load </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#ae72b84003f239e5e878a036da3758331">tripoint_abs_sm</a> &amp;&#160;</td>
          <td class="paramname"><em>submap_loc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l02401">2401</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;{</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    <a class="code" href="classmonster.html#ae0b147164500bfd61e71d94ce5b745c6">load</a>( data );</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    <span class="keywordflow">if</span>( !data.<a class="code" href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">has_member</a>( <span class="stringliteral">&quot;location&quot;</span> ) ) {</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;        <span class="comment">// When loading an older save in which the monster&#39;s absolute location is not serialized</span></div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;        <span class="comment">// and the monster is not in the current map, the submap location inferred by load()</span></div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;        <span class="comment">// will be wrong. Use the supplied argument to fix it.</span></div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;        <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> old_loc = <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>();</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;        <a class="code" href="classcoords_1_1coord__point.html">point_abs_sm</a> wrong_submap;</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;        <a class="code" href="classcoords_1_1coord__point.html">tripoint_sm_ms_ib</a> local_pos;</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;        std::tie( wrong_submap, local_pos ) = project_remain&lt;coords::sm&gt;( <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() );</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;        <a class="code" href="classCreature.html#ac93f4ccc1bff76ada002c7e886c941ef">set_location</a>( <a class="code" href="namespacecoords.html#a7e7a33f31b43172314a187c97a002107">project_combine</a>( submap_loc.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>(), local_pos ) );</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;        <span class="comment">// adjust other relative coordinates that would be subject to the same error</span></div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;        <a class="code" href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">wander_pos</a> = <a class="code" href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">wander_pos</a> - old_loc + <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>();</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a7c3e07d777236b91713d6db073581dd3">goal</a> ) {</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;            *<a class="code" href="classmonster.html#a7c3e07d777236b91713d6db073581dd3">goal</a> = *<a class="code" href="classmonster.html#a7c3e07d777236b91713d6db073581dd3">goal</a> - old_loc + <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>();</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;        }</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;    }</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;}</div>
<div class="ttc" id="aclasscoords_1_1coord__point_html_a7b5804160d1d0e69a9f2fba098bea723"><div class="ttname"><a href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">coords::coord_point::xy</a></div><div class="ttdeci">constexpr auto xy() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00273">coordinates.h:273</a></div></div>
<div class="ttc" id="anamespacecoords_html_a7e7a33f31b43172314a187c97a002107"><div class="ttname"><a href="namespacecoords.html#a7e7a33f31b43172314a187c97a002107">coords::project_combine</a></div><div class="ttdeci">auto project_combine(const coord_point&lt; PointL, CoarseOrigin, CoarseScale, CoarseInBounds &gt; &amp;coarse, const coord_point&lt; PointR, FineOrigin, FineScale, FineInBounds &gt; &amp;fine)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00633">coordinates.h:633</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__pocket_8h_source.html#l00409">item_pocket::data</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00151">ammo_effects::load()</a>, <a class="el" href="coordinates_8h_source.html#l00633">coords::project_combine()</a>, <a class="el" href="calendar_8cpp_source.html#l00735">calendar::set_location()</a>, and <a class="el" href="coordinates_8h_source.html#l00273">coords::coord_point&lt; Point, Origin, Scale, InBounds &gt;::xy()</a>.</p>

</div>
</div>
<a id="a6e03e18c6ea5e5adb496634b2bbaea52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e03e18c6ea5e5adb496634b2bbaea52">&#9670;&nbsp;</a></span>made_of() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::made_of </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a3b487a587c0367c588db6d9df8135612">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01304">1304</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;{</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ae5f0070d4e72771ccbedd833136636bb">made_of</a>( m );</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_ae5f0070d4e72771ccbedd833136636bb"><div class="ttname"><a href="structmtype.html#ae5f0070d4e72771ccbedd833136636bb">mtype::made_of</a></div><div class="ttdeci">bool made_of(const material_id &amp;material) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00349">mtype.cpp:349</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8cpp_source.html#l00349">mtype::made_of()</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l01918">iuse::extinguisher()</a>, <a class="el" href="monattack_8cpp_source.html#l02497">mattack::formblob()</a>, <a class="el" href="monster_8cpp_source.html#l01829">is_immune_damage()</a>, <a class="el" href="monster_8cpp_source.html#l01780">is_immune_effect()</a>, <a class="el" href="monmove_8cpp_source.html#l00093">is_immune_field()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01054">trapfunc::lava()</a>, <a class="el" href="monster_8cpp_source.html#l03413">make_fungus()</a>, <a class="el" href="melee_8cpp_source.html#l00590">Character::melee_attack_abstract()</a>, <a class="el" href="map__field_8cpp_source.html#l01819">map::monster_in_field()</a>, <a class="el" href="monster_8cpp_source.html#l00745">name_with_armor()</a>, <a class="el" href="monster_8cpp_source.html#l03858">on_load()</a>, and <a class="el" href="monster_8cpp_source.html#l03111">process_one_effect()</a>.</p>

</div>
</div>
<a id="ad535fc3334b4f0bdb9f788b38f26e432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad535fc3334b4f0bdb9f788b38f26e432">&#9670;&nbsp;</a></span>made_of() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::made_of </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5">phase_id</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01319">1319</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;{</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a06af98a955fd7db1dda6d62df2e6122c">phase</a> == p;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_a06af98a955fd7db1dda6d62df2e6122c"><div class="ttname"><a href="structmtype.html#a06af98a955fd7db1dda6d62df2e6122c">mtype::phase</a></div><div class="ttdeci">phase_id phase</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00408">mtype.h:408</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00408">mtype::phase</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

</div>
</div>
<a id="a4092c04058a74fa078c89763d11e53ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4092c04058a74fa078c89763d11e53ee">&#9670;&nbsp;</a></span>made_of_any()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::made_of_any </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#ad0d456dd94dedc99904380699582135b">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01309">1309</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;{</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a5105dc354b43d041f870a92836e40d7c">made_of_any</a>( <a class="code" href="namespacecoords.html#a462e39050c08649b1ab1be5982f98929">ms</a> );</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;}</div>
<div class="ttc" id="anamespacecoords_html_a462e39050c08649b1ab1be5982f98929"><div class="ttname"><a href="namespacecoords.html#a462e39050c08649b1ab1be5982f98929">coords::ms</a></div><div class="ttdeci">constexpr scale ms</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00038">coordinates.h:38</a></div></div>
<div class="ttc" id="astructmtype_html_a5105dc354b43d041f870a92836e40d7c"><div class="ttname"><a href="structmtype.html#a5105dc354b43d041f870a92836e40d7c">mtype::made_of_any</a></div><div class="ttdeci">bool made_of_any(const std::set&lt; material_id &gt; &amp;materials) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00354">mtype.cpp:354</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8cpp_source.html#l00354">mtype::made_of_any()</a>, <a class="el" href="coordinates_8h_source.html#l00038">coords::ms</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01780">is_immune_effect()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01054">trapfunc::lava()</a>, and <a class="el" href="map__field_8cpp_source.html#l01819">map::monster_in_field()</a>.</p>

</div>
</div>
<a id="aea6c3c57440f7456b8376d9750af4e4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea6c3c57440f7456b8376d9750af4e4a">&#9670;&nbsp;</a></span>make_ally()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::make_ally </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmonster.html">monster</a> &amp;&#160;</td>
          <td class="paramname"><em>z</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes this monster an ally of the given monster. </p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03449">3449</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;{</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;    <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> = z.<a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a>;</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;    <a class="code" href="classfaction.html">faction</a> = z.<a class="code" href="classmonster.html#a8e30fdb59bcecd8ecb8a609431cb6caf">faction</a>;</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00545">faction</a>, and <a class="el" href="monster_8h_source.html#l00539">friendly</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l02464">blobify()</a>, <a class="el" href="fungal__effects_8cpp_source.html#l00058">fungal_effects::fungalize()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00590">magical_polymorph()</a>, <a class="el" href="monattack_8cpp_source.html#l01159">mattack::resurrect()</a>, and <a class="el" href="monattack_8cpp_source.html#l00391">mattack::split()</a>.</p>

</div>
</div>
<a id="ad077f15b8dd09041e41c7bf8b61ddd0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad077f15b8dd09041e41c7bf8b61ddd0b">&#9670;&nbsp;</a></span>make_bleed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::make_bleed </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classeffect__source.html">effect_source</a> &amp;&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>intensity</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>permanent</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>defferred</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01849">1849</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;{</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a34ab7cd08d9ee9720b8c11f4e0fd0e88">bleed_rate</a> == 0 ) {</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    }</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160; </div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    duration = ( duration * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a34ab7cd08d9ee9720b8c11f4e0fd0e88">bleed_rate</a> ) / 100;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monster_8cpp.html#a478c9c699e4248bf7d25ae31156bf0b7">species_ROBOT</a> ) ) {</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;        <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( source, <a class="code" href="monster_8cpp.html#a0d4dd7678b871e79750c90034233b12a">effect_dripping_mechanical_fluid</a>, duration, <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>() );</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;        <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( source, <a class="code" href="monster_8cpp.html#a151e6b162a8a2cdbdb11c407013076eb">effect_bleed</a>, duration, <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">bodypart_str_id::NULL_ID</a>(), <a class="code" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>, <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>, <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>,</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;                    defferred );</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    }</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;}</div>
<div class="ttc" id="aclassstring__id_html_a1b2100ed077789ba45aaf5081791b36c"><div class="ttname"><a href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">string_id&lt; body_part_type &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; body_part_type &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="acreature_8h_html_a299ec0c42ccc5a2d79d1739428ac3210"><div class="ttname"><a href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a></div><div class="ttdeci">int intensity</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00240">creature.h:240</a></div></div>
<div class="ttc" id="acreature_8h_html_a725ad3ab8ebc8c0de4689369a15e1380"><div class="ttname"><a href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a></div><div class="ttdeci">bool permanent</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00239">creature.h:239</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a0d4dd7678b871e79750c90034233b12a"><div class="ttname"><a href="monster_8cpp.html#a0d4dd7678b871e79750c90034233b12a">effect_dripping_mechanical_fluid</a></div><div class="ttdeci">static const efftype_id effect_dripping_mechanical_fluid(&quot;dripping_mechanical_fluid&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="mtype_8h_source.html#l00440">mtype::bleed_rate</a>, <a class="el" href="monster_8cpp.html#a151e6b162a8a2cdbdb11c407013076eb">effect_bleed</a>, <a class="el" href="monster_8cpp.html#a0d4dd7678b871e79750c90034233b12a">effect_dripping_mechanical_fluid</a>, <a class="el" href="creature_8h_source.html#l00241">force</a>, <a class="el" href="mtype_8cpp_source.html#l00385">mtype::in_species()</a>, <a class="el" href="creature_8h_source.html#l00240">intensity</a>, <a class="el" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">string_id&lt; body_part_type &gt;::NULL_ID()</a>, <a class="el" href="creature_8h_source.html#l00239">permanent</a>, <a class="el" href="monster_8cpp.html#a478c9c699e4248bf7d25ae31156bf0b7">species_ROBOT</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02127">deal_damage_handle_type()</a>.</p>

</div>
</div>
<a id="a508e0ecc5726af06eaccf219c4252477"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a508e0ecc5726af06eaccf219c4252477">&#9670;&nbsp;</a></span>make_friendly()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::make_friendly </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03443">3443</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;{</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;    <a class="code" href="classmonster.html#a1488f5a618c74a508fb87b82be05ef11">unset_dest</a>();</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;    <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 5, 30 ) + <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, 20 );</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00539">friendly</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, and <a class="el" href="monster_8cpp_source.html#l01388">unset_dest()</a>.</p>

<p class="reference">Referenced by <a class="el" href="explosion_8cpp_source.html#l00657">explosion_handler::emp_blast()</a>, and <a class="el" href="explosion_8cpp_source.html#l00645">explosion_handler::scrambler_blast()</a>.</p>

</div>
</div>
<a id="a4fddab3f065220c8b7c015572a5de408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fddab3f065220c8b7c015572a5de408">&#9670;&nbsp;</a></span>make_fungus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::make_fungus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes this monster into a fungus version Returns false if no such monster exists Returns true if monster is immune or if it got fungalized. </p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03413">3413</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;{</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;    }</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monster_8cpp.html#ae4aecc728b6b9084078aaa79046ce038">species_FUNGUS</a> ) ) { <span class="comment">// No friendly-fungalizing ;-)</span></div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;    }</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#a20136c47b45ab5d735760a8a5853f1b3">material_flesh</a> ) &amp;&amp; !<a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#a13777fde4af6be894eb371bdc5cf6439">material_hflesh</a> ) &amp;&amp;</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;        !<a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#adaa52641aaea718721dc2fd611ed5831">material_veggy</a> ) &amp;&amp; !<a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a> ) &amp;&amp;</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;        !<a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#aa83f04c09d26764216682c3f99031335">material_bone</a> ) ) {</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;        <span class="comment">// No fungalizing robots or weird stuff (mi-gos are technically fungi, blobs are goo)</span></div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    }</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8f4ef7b98c4bad77c50171f7da0f4f56">has_flag</a>( <a class="code" href="mtype_8cpp.html#acbf29d9c5da0682cd61817a624cb0a47">mon_flag_NO_FUNG_DMG</a> ) ) {</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// Return true when monster is immune to fungal damage.</span></div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;    }</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad2f5368521d641b65ccda69f3e302e61">fungalize_into</a>.<a class="code" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;    }</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160; </div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;    <span class="keyword">const</span> std::string old_name = <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>();</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;    <a class="code" href="classmonster.html#a39d78be1e47deaf970439c3b9504e5d9">poly</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad2f5368521d641b65ccda69f3e302e61">fungalize_into</a> );</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160; </div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The spores transform %1$s into a %2$s!&quot;</span> ),</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;                            old_name, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160; </div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a39d78be1e47deaf970439c3b9504e5d9"><div class="ttname"><a href="classmonster.html#a39d78be1e47deaf970439c3b9504e5d9">monster::poly</a></div><div class="ttdeci">void poly(const mtype_id &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00375">monster.cpp:375</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a></div><div class="ttdeci">@ m_info</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00352">enums.h:352</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a13777fde4af6be894eb371bdc5cf6439"><div class="ttname"><a href="monster_8cpp.html#a13777fde4af6be894eb371bdc5cf6439">material_hflesh</a></div><div class="ttdeci">static const material_id material_hflesh(&quot;hflesh&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_aa83f04c09d26764216682c3f99031335"><div class="ttname"><a href="monster_8cpp.html#aa83f04c09d26764216682c3f99031335">material_bone</a></div><div class="ttdeci">static const material_id material_bone(&quot;bone&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_adaa52641aaea718721dc2fd611ed5831"><div class="ttname"><a href="monster_8cpp.html#adaa52641aaea718721dc2fd611ed5831">material_veggy</a></div><div class="ttdeci">static const material_id material_veggy(&quot;veggy&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_acbf29d9c5da0682cd61817a624cb0a47"><div class="ttname"><a href="mtype_8cpp.html#acbf29d9c5da0682cd61817a624cb0a47">mon_flag_NO_FUNG_DMG</a></div><div class="ttdeci">mon_flag_id mon_flag_NO_FUNG_DMG</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00118">mtype.cpp:118</a></div></div>
<div class="ttc" id="astructmtype_html_ad2f5368521d641b65ccda69f3e302e61"><div class="ttname"><a href="structmtype.html#ad2f5368521d641b65ccda69f3e302e61">mtype::fungalize_into</a></div><div class="ttdeci">mtype_id fungalize_into</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00312">mtype.h:312</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="messages_8cpp_source.html#l01007">add_msg_if_player_sees()</a>, <a class="el" href="mtype_8h_source.html#l00312">mtype::fungalize_into</a>, <a class="el" href="mtype_8h_source.html#l00520">mtype::has_flag()</a>, <a class="el" href="mtype_8cpp_source.html#l00385">mtype::in_species()</a>, <a class="el" href="string__id_8h_source.html#l00303">string_id&lt; T &gt;::is_empty()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="enums_8h_source.html#l00352">m_info</a>, <a class="el" href="monster_8cpp_source.html#l01304">made_of()</a>, <a class="el" href="monster_8cpp.html#aa83f04c09d26764216682c3f99031335">material_bone</a>, <a class="el" href="monster_8cpp.html#a20136c47b45ab5d735760a8a5853f1b3">material_flesh</a>, <a class="el" href="monster_8cpp.html#a13777fde4af6be894eb371bdc5cf6439">material_hflesh</a>, <a class="el" href="monster_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a>, <a class="el" href="monster_8cpp.html#adaa52641aaea718721dc2fd611ed5831">material_veggy</a>, <a class="el" href="mtype_8cpp_source.html#l00118">mon_flag_NO_FUNG_DMG</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="monster_8cpp_source.html#l00375">poly()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="monster_8cpp.html#ae4aecc728b6b9084078aaa79046ce038">species_FUNGUS</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="fungal__effects_8cpp_source.html#l00058">fungal_effects::fungalize()</a>, <a class="el" href="iuse_8cpp_source.html#l00665">iuse::fungicide()</a>, and <a class="el" href="map__field_8cpp_source.html#l01819">map::monster_in_field()</a>.</p>

</div>
</div>
<a id="a9ddaee6769a480c655bdbc09e4086040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ddaee6769a480c655bdbc09e4086040">&#9670;&nbsp;</a></span>mating_angry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::mating_angry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l00501">501</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;{</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classmonster.html#a9ddaee6769a480c655bdbc09e4086040">mating_angry</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1b">season_type</a> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">season</a> = <a class="code" href="calendar_8cpp.html#a81656706da6c7486137ad8578c0f523e">season_of_year</a>( <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;elem : <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9636bf314611b06345f1a78b4e88e8ae">baby_flags</a> ) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">if</span>( ( <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">season</a> == <a class="code" href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba6d813ab9ea240f6c6eeff923ccb680ae">SUMMER</a> &amp;&amp; elem == <span class="stringliteral">&quot;SUMMER&quot;</span> ) ||</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            ( <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">season</a> == <a class="code" href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba1d8c9db74467f6c2fdad36f154ca6873">WINTER</a> &amp;&amp; elem == <span class="stringliteral">&quot;WINTER&quot;</span> ) ||</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            ( <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">season</a> == <a class="code" href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba74ce3137b26cdafc19bdb66d881971fa">SPRING</a> &amp;&amp; elem == <span class="stringliteral">&quot;SPRING&quot;</span> ) ||</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            ( <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">season</a> == <a class="code" href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba5c29d7e8c16f80d457fa37c9dafab61e">AUTUMN</a> &amp;&amp; elem == <span class="stringliteral">&quot;AUTUMN&quot;</span> ) ) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            <a class="code" href="classmonster.html#a9ddaee6769a480c655bdbc09e4086040">mating_angry</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a9ddaee6769a480c655bdbc09e4086040">mating_angry</a>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a81656706da6c7486137ad8578c0f523e"><div class="ttname"><a href="calendar_8cpp.html#a81656706da6c7486137ad8578c0f523e">season_of_year</a></div><div class="ttdeci">season_type season_of_year(const time_point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00810">calendar.cpp:810</a></div></div>
<div class="ttc" id="acalendar_8h_html_a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8"><div class="ttname"><a href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">clipped_unit::season</a></div><div class="ttdeci">@ season</div></div>
<div class="ttc" id="acalendar_8h_html_a5ac915753729cd68b608506d3c63ad1b"><div class="ttname"><a href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1b">season_type</a></div><div class="ttdeci">season_type</div><div class="ttdoc">Real world seasons.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00021">calendar.h:21</a></div></div>
<div class="ttc" id="acalendar_8h_html_a5ac915753729cd68b608506d3c63ad1ba1d8c9db74467f6c2fdad36f154ca6873"><div class="ttname"><a href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba1d8c9db74467f6c2fdad36f154ca6873">WINTER</a></div><div class="ttdeci">@ WINTER</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00025">calendar.h:25</a></div></div>
<div class="ttc" id="acalendar_8h_html_a5ac915753729cd68b608506d3c63ad1ba5c29d7e8c16f80d457fa37c9dafab61e"><div class="ttname"><a href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba5c29d7e8c16f80d457fa37c9dafab61e">AUTUMN</a></div><div class="ttdeci">@ AUTUMN</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00024">calendar.h:24</a></div></div>
<div class="ttc" id="acalendar_8h_html_a5ac915753729cd68b608506d3c63ad1ba6d813ab9ea240f6c6eeff923ccb680ae"><div class="ttname"><a href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba6d813ab9ea240f6c6eeff923ccb680ae">SUMMER</a></div><div class="ttdeci">@ SUMMER</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00023">calendar.h:23</a></div></div>
<div class="ttc" id="acalendar_8h_html_a5ac915753729cd68b608506d3c63ad1ba74ce3137b26cdafc19bdb66d881971fa"><div class="ttname"><a href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba74ce3137b26cdafc19bdb66d881971fa">SPRING</a></div><div class="ttdeci">@ SPRING</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00022">calendar.h:22</a></div></div>
<div class="ttc" id="astructmtype_html_a9636bf314611b06345f1a78b4e88e8ae"><div class="ttname"><a href="structmtype.html#a9636bf314611b06345f1a78b4e88e8ae">mtype::baby_flags</a></div><div class="ttdeci">std::vector&lt; std::string &gt; baby_flags</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00350">mtype.h:350</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8h_source.html#l00024">AUTUMN</a>, <a class="el" href="mtype_8h_source.html#l00350">mtype::baby_flags</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">season</a>, <a class="el" href="calendar_8cpp_source.html#l00810">season_of_year()</a>, <a class="el" href="calendar_8h_source.html#l00022">SPRING</a>, <a class="el" href="calendar_8h_source.html#l00023">SUMMER</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="calendar_8h_source.html#l00025">WINTER</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00465">anger_mating_season()</a>.</p>

</div>
</div>
<a id="ad104be109ff1d39a6e96cfb133e08ef0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad104be109ff1d39a6e96cfb133e08ef0">&#9670;&nbsp;</a></span>mech_str_addition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::mech_str_addition </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02970">2970</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;{</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8ff97c699565dbdee734039078553194">mech_str_bonus</a>;</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_a8ff97c699565dbdee734039078553194"><div class="ttname"><a href="structmtype.html#a8ff97c699565dbdee734039078553194">mtype::mech_str_bonus</a></div><div class="ttdeci">int mech_str_bonus</div><div class="ttdoc">If this monster is a rideable mech with enhanced strength, this is the strength it gives to the playe...</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00475">mtype.h:475</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00475">mtype::mech_str_bonus</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

</div>
</div>
<a id="a68492e539a3d763d8ca6c7be1d8cacb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68492e539a3d763d8ca6c7be1d8cacb2">&#9670;&nbsp;</a></span>melee_attack() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::melee_attack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a712aeab26697f5ede4eab4eacdc71c8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a712aeab26697f5ede4eab4eacdc71c8a">&#9670;&nbsp;</a></span>melee_attack() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::melee_attack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01898">1898</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;{</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a712aeab26697f5ede4eab4eacdc71c8a">melee_attack</a>( target, <a class="code" href="classCreature.html#a88b81d1ff0359794554e81c7ae16f370">get_hit</a>() );</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8cpp_source.html#l02152">Creature::get_hit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l01778">attack_at()</a>.</p>

</div>
</div>
<a id="a59032e25126893a91a74d98d5137c113"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59032e25126893a91a74d98d5137c113">&#9670;&nbsp;</a></span>melee_attack() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::melee_attack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>accuracy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01903">1903</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;{</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    <span class="comment">// Note: currently this method must consume move even if attack hasn&#39;t actually happen</span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <span class="comment">// otherwise infinite loop will happen</span></div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a254844fd8a59016dd36034d160879026">attack_cost</a> );</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <span class="keywordflow">if</span>( <span class="comment">/*This happens sometimes*/</span> <span class="keyword">this</span> == &amp;target || !<a class="code" href="classCreature.html#a50742ba2b2e90cf50327ea90c8d636dd">is_adjacent</a>( &amp;target, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    }</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( target ) &amp;&amp; !target.<a class="code" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">is_hallucination</a>() ) {</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Z-Level view violation: %s tried to attack %s.&quot;</span>, <a class="code" href="classmonster.html#af3444e4763b1dd53e75c5ea50fd8ba9f">disp_name</a>(), target.<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    }</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160; </div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> monster_hit_roll = <a class="code" href="namespacemelee.html#a5ed3b88ed3376694a321005bc94214b7">melee::melee_hit_range</a>( accuracy );</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    <span class="keywordtype">int</span> hitspread = target.<a class="code" href="classCreature.html#a2ed7b87167039b2cf0ecb2464d62f802">deal_melee_attack</a>( <span class="keyword">this</span>, monster_hit_roll );</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a> == 0 ) {</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        <span class="comment">// We don&#39;t hit, so just return</span></div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    }</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160; </div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <span class="keywordflow">if</span>( target.<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ||</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;        ( target.<a class="code" href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">is_npc</a>() &amp;&amp; player_character.<a class="code" href="classCharacter.html#a6b6a4fc8bbec9e138f0e3922bdbf2ce9">attitude_to</a>( target ) == <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Attitude::FRIENDLY</a> ) ) {</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;        <span class="comment">// Make us a valid target for a few turns</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a4de2ef4c2e145815427b09adfaa0def5">effect_hit_by_player</a>, 3_turns );</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    }</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160; </div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ada726cd345e85c293ec67262a3cc3d02">mon_flag_HIT_AND_RUN</a> ) ) {</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a74225467d1c09c7a6a7c659ee0139257">effect_run</a>, 4_turns );</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    }</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160; </div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> u_see_me = player_character.<a class="code" href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">sees</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> u_see_my_spot = player_character.<a class="code" href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">sees</a>( this-&gt;<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> u_see_target = player_character.<a class="code" href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">sees</a>( target );</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160; </div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    <a class="code" href="structdamage__instance.html">damage_instance</a> damage = !<a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ? <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a0ac5f04d4b2bfeec1ef9db873629f96a">melee_damage</a> : <a class="code" href="structdamage__instance.html">damage_instance</a>();</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() &amp;&amp; <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a> &gt; 0 ) {</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;        damage.<a class="code" href="structdamage__instance.html#a9eff5065ef6631935e95d061ca756ae4">add_damage</a>( <a class="code" href="monster_8cpp.html#a157369b3ee1f3f5a889eb1d42ed97638">damage_bash</a>, <a class="code" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a>, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af346fa78fe3bff4e8e321e9046bc9717">melee_sides</a> ) );</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    }</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160; </div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    <a class="code" href="structdealt__damage__instance.html">dealt_damage_instance</a> dealt_dam;</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160; </div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="keywordflow">if</span>( hitspread &gt;= 0 ) {</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;        target.<a class="code" href="classCreature.html#abbfb6067cd74b31799fe312fbe0fd1cf">deal_melee_hit</a>( <span class="keyword">this</span>, hitspread, <span class="keyword">false</span>, damage, dealt_dam );</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    }</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160; </div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> total_dealt = dealt_dam.<a class="code" href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">total_damage</a>();</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <span class="keywordflow">if</span>( hitspread &lt; 0 ) {</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;        <span class="keywordtype">bool</span> monster_missed = monster_hit_roll &lt; 0.0;</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;        <span class="comment">// Miss</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;        <span class="keywordflow">if</span>( u_see_my_spot &amp;&amp; !target.<a class="code" href="classCreature.html#ac7516d970e4db80cfcf8c0c8d345a2fa">in_sleep_state</a>() ) {</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;            <span class="keywordflow">if</span>( target.<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;                <span class="keywordflow">if</span>( monster_missed ) {</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s misses you.&quot;</span> ), u_see_me ? <a class="code" href="classmonster.html#af3444e4763b1dd53e75c5ea50fd8ba9f">disp_name</a>( <span class="keyword">false</span>, <span class="keyword">true</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Something&quot;</span> ) );</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You dodge %s.&quot;</span> ), u_see_me ? <a class="code" href="classmonster.html#af3444e4763b1dd53e75c5ea50fd8ba9f">disp_name</a>() : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;something&quot;</span> ) );</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;                }</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( target.<a class="code" href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">is_npc</a>() ) {</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;                <span class="keywordflow">if</span>( monster_missed ) {</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s misses %2$s!&quot;</span> ),</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;                             u_see_me ? <a class="code" href="classmonster.html#af3444e4763b1dd53e75c5ea50fd8ba9f">disp_name</a>( <span class="keyword">false</span>, <span class="keyword">true</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Something&quot;</span> ), target.<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s dodges %2$s attack.&quot;</span> ),</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;                             target.<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>(), u_see_me ? <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;something&quot;</span> ) );</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;                }</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;            }</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( target.<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You dodge an attack from an unseen source.&quot;</span> ) );</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;        }</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() || total_dealt &gt; 0 ) {</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;        <span class="comment">// Hallucinations always produce messages but never actually deal damage</span></div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;        <span class="keywordflow">if</span>( u_see_my_spot ) {</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;            <span class="keywordflow">if</span>( target.<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;                <a class="code" href="namespacesfx.html#a8fa2bb887ac81392fb686cc4079b5d5a">sfx::play_variant_sound</a>( <span class="stringliteral">&quot;melee_attack&quot;</span>, <span class="stringliteral">&quot;monster_melee_hit&quot;</span>,</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;                                         <a class="code" href="namespacesfx.html#a1f138eaa92db132e81ce591751c512cc">sfx::get_heard_volume</a>( target.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) );</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;                <span class="comment">// don&#39;t make a pain yelp if our limb is a bionic</span></div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;                <span class="keywordflow">if</span>( !dealt_dam.<a class="code" href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">bp_hit</a>-&gt;<a class="code" href="structbody__part__type.html#afd43ba79d412b38476f718534904fce7">has_flag</a>( <a class="code" href="monster_8cpp.html#afc3daf7e1664f8141571db43dcb86676">json_flag_BIONIC_LIMB</a> ) ) {</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;                    <a class="code" href="namespacesfx.html#a0b6737ac5d4bff47e9b467fa952ce289">sfx::do_player_death_hurt</a>( <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classCharacter.html">Character</a> &amp;<span class="keyword">&gt;</span>( target ), <span class="keyword">false</span> );</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;                }</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;                <span class="comment">//~ 1$s is attacker name, 2$s is bodypart name in accusative.</span></div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s hits your %2$s.&quot;</span> ), u_see_me ? <a class="code" href="classmonster.html#af3444e4763b1dd53e75c5ea50fd8ba9f">disp_name</a>( <span class="keyword">false</span>, <span class="keyword">true</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Something&quot;</span> ),</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;                         <a class="code" href="bodypart_8cpp.html#aa097cb26e12eaa87b56e93c3568a5a74">body_part_name_accusative</a>( dealt_dam.<a class="code" href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">bp_hit</a> ) );</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( target.<a class="code" href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">is_npc</a>() ) {</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a> ) &amp;&amp; <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a1ce59be15eeebc2aa195dc5a5cf38358">mon_flag_RIDEABLE_MECH</a> ) &amp;&amp;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;                    <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() == player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) {</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;                    <span class="comment">//~ %1$s: name of your mount, %2$s: target NPC name, %3$d: damage value</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Your %1$s hits %2$s for %3$d damage!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(), target.<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>(),</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;                             total_dealt );</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;                    <span class="comment">//~ %1$s: attacker name, %2$s: target NPC name, %3$s: bodypart name in accusative</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s hits %2$s %3$s.&quot;</span> ), u_see_me ? <a class="code" href="classmonster.html#af3444e4763b1dd53e75c5ea50fd8ba9f">disp_name</a>( <span class="keyword">false</span>, <span class="keyword">true</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Something&quot;</span> ),</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;                             target.<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>( <span class="keyword">true</span> ),</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;                             <a class="code" href="bodypart_8cpp.html#aa097cb26e12eaa87b56e93c3568a5a74">body_part_name_accusative</a>( dealt_dam.<a class="code" href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">bp_hit</a> ) );</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;                }</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a> ) &amp;&amp; <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a1ce59be15eeebc2aa195dc5a5cf38358">mon_flag_RIDEABLE_MECH</a> ) &amp;&amp;</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;                    <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() == player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) {</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;                    <span class="comment">//~ %1$s: name of your mount, %2$s: target creature name, %3$d: damage value</span></div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Your %1$s hits %2$s for %3$d damage!&quot;</span> ), <a class="code" href="classmonster.html#ad4fba0b9aea36097d8b972e05e66d914">get_name</a>(), target.<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>(),</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;                             total_dealt );</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;                }</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;                <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_ATTACK_MONSTER&quot;</span> ) ) {</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;                    <span class="keywordflow">if</span>( !u_see_me &amp;&amp; u_see_target ) {</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;                        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Something hits the %1$s!&quot;</span> ), target.<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !u_see_target ) {</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;                        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %1$s hits something!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;                        <span class="comment">//~ %1$s: attacker name, %2$s: target creature name</span></div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;                        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %1$s hits %2$s!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(), target.<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;                    }</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;                }</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;            }</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( target.<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;            <span class="comment">//~ %s is bodypart name in accusative.</span></div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Something hits your %s.&quot;</span> ),</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;                     <a class="code" href="bodypart_8cpp.html#aa097cb26e12eaa87b56e93c3568a5a74">body_part_name_accusative</a>( dealt_dam.<a class="code" href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">bp_hit</a> ) );</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;        }</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;        <span class="comment">// No damage dealt</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;        <span class="keywordflow">if</span>( u_see_my_spot ) {</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;            <span class="keywordflow">if</span>( target.<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;                <span class="comment">//~ 1$s is attacker name, 2$s is bodypart name in accusative, 3$s is armor name</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s hits your %2$s, but your %3$s protects you.&quot;</span> ), u_see_me ? <a class="code" href="classmonster.html#af3444e4763b1dd53e75c5ea50fd8ba9f">disp_name</a>( <span class="keyword">false</span>,</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;                         <span class="keyword">true</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Something&quot;</span> ),</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                         <a class="code" href="bodypart_8cpp.html#aa097cb26e12eaa87b56e93c3568a5a74">body_part_name_accusative</a>( dealt_dam.<a class="code" href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">bp_hit</a> ), target.<a class="code" href="classCreature.html#a490503cd007e206dcd23fd8457017793">skin_name</a>() );</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( target.<a class="code" href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">is_npc</a>() ) {</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;                <span class="comment">//~ $1s is monster name, %2$s is that monster target name,</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;                <span class="comment">//~ $3s is target bodypart name in accusative, $4s is the monster target name,</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;                <span class="comment">//~ 5$s is target armor name.</span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s hits %2$s %3$s but is stopped by %4$s %5$s.&quot;</span> ), u_see_me ? <a class="code" href="classmonster.html#af3444e4763b1dd53e75c5ea50fd8ba9f">disp_name</a>( <span class="keyword">false</span>,</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;                         <span class="keyword">true</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Something&quot;</span> ),</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;                         target.<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>( <span class="keyword">true</span> ),</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;                         <a class="code" href="bodypart_8cpp.html#aa097cb26e12eaa87b56e93c3568a5a74">body_part_name_accusative</a>( dealt_dam.<a class="code" href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">bp_hit</a> ),</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;                         target.<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>( <span class="keyword">true</span> ),</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;                         target.<a class="code" href="classCreature.html#a490503cd007e206dcd23fd8457017793">skin_name</a>() );</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_ATTACK_MONSTER&quot;</span> ) ) {</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;                <span class="comment">//~ $1s is monster name, %2$s is that monster target name,</span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;                <span class="comment">//~ $3s is target armor name.</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s hits %2$s but is stopped by its %3$s.&quot;</span> ),</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;                         u_see_me ? <a class="code" href="classmonster.html#af3444e4763b1dd53e75c5ea50fd8ba9f">disp_name</a>( <span class="keyword">false</span>, <span class="keyword">true</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Something&quot;</span> ),</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;                         target.<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>(),</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;                         target.<a class="code" href="classCreature.html#a490503cd007e206dcd23fd8457017793">skin_name</a>() );</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;            }</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( target.<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;            <span class="comment">//~ 1$s is bodypart name in accusative, 2$s is armor name.</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Something hits your %1$s, but your %2$s protects you.&quot;</span> ),</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;                     <a class="code" href="bodypart_8cpp.html#aa097cb26e12eaa87b56e93c3568a5a74">body_part_name_accusative</a>( dealt_dam.<a class="code" href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">bp_hit</a> ), target.<a class="code" href="classCreature.html#a490503cd007e206dcd23fd8457017793">skin_name</a>() );</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;        }</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    }</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160; </div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    target.<a class="code" href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158">check_dead_state</a>();</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160; </div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 7 ) ) {</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;            <a class="code" href="classmonster.html#a82ae41773b05af94d4b678cb33bfb329">die</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;        }</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    }</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160; </div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <span class="keywordflow">if</span>( total_dealt &lt;= 0 ) {</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    }</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160; </div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <span class="comment">// Add any on damage effects</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structmon__effect__data.html">mon_effect_data</a> &amp;eff : <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a3158ff5c7431a8ac988154990c9a23ea">atk_effs</a> ) {</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( eff.<a class="code" href="structmon__effect__data.html#ab862f56e28c9dbf26e213cb9cb204003">chance</a>, 100 ) ) {</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;            <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> affected_bp = eff.<a class="code" href="structmon__effect__data.html#a8ed8bd7ffdbace4d924df0415b4807d5">affect_hit_bp</a> ? dealt_dam.<a class="code" href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">bp_hit</a> :  eff.<a class="code" href="structmon__effect__data.html#ac899acedc62f1e8fef7289ee674b8e8e">bp</a>.<a class="code" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>();</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;            target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( eff.<a class="code" href="structmon__effect__data.html#a61eb4bd8fe200f29e1612839c5125c76">id</a>, <a class="code" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( eff.<a class="code" href="structmon__effect__data.html#a6b1e80a8cbd37bbe29871b20a9f75cbf">duration</a>.first,</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;                               eff.<a class="code" href="structmon__effect__data.html#a6b1e80a8cbd37bbe29871b20a9f75cbf">duration</a>.second ) ), affected_bp, eff.<a class="code" href="structmon__effect__data.html#a3f623218ab557be6f142cf9067f9548a">permanent</a>, <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( eff.<a class="code" href="structmon__effect__data.html#ad3feab1b567335bb84d1616508f1e371">intensity</a>.first,</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;                                       eff.<a class="code" href="structmon__effect__data.html#ad3feab1b567335bb84d1616508f1e371">intensity</a>.second ) );</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;            target.<a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaa65a3cd4a2c6d0fbb31833ade22ee100">m_mixed</a>, eff.<a class="code" href="structmon__effect__data.html#a0b437f227e69dc97dfe693a0f444c3dd">message</a>, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;        }</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    }</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160; </div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> stab_cut = dealt_dam.<a class="code" href="structdealt__damage__instance.html#a8c42701acf1acf43dc9410969ef37437">type_damage</a>( <a class="code" href="monster_8cpp.html#aecd517a9e74b5a5a21f0c75f88f50090">damage_cut</a> ) + dealt_dam.<a class="code" href="structdealt__damage__instance.html#a8c42701acf1acf43dc9410969ef37437">type_damage</a>( <a class="code" href="monster_8cpp.html#afdae56eafce50b1f873673574188aca8">damage_stab</a> );</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160; </div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    <span class="keywordflow">if</span>( stab_cut &gt; 0 &amp;&amp; <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ad4b7a29292753eff55fa45f2de74a3c0">mon_flag_VENOM</a> ) ) {</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;        target.<a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You&#39;re envenomed!&quot;</span> ) );</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#ace42425e1e703ebbe953ade0f6110b7c">effect_poison</a>, 3_minutes );</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    }</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160; </div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <span class="keywordflow">if</span>( stab_cut &gt; 0 &amp;&amp; <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ae2d0d60cd5cf7c86f8fdff852af1a78c">mon_flag_BADVENOM</a> ) ) {</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;        target.<a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;                                  <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You feel venom flood your body, wracking you with pain&quot;</span> ) );</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;        target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a0f3a25eb2b398fd705348436a034da00">effect_badpoison</a>, 4_minutes );</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    }</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160; </div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    <span class="keywordflow">if</span>( stab_cut &gt; 0 &amp;&amp; <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a2c89d4986ee2cbdd5fbc857a95ac8587">mon_flag_PARALYZEVENOM</a> ) ) {</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;        target.<a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You feel venom enter your body!&quot;</span> ) );</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;        target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a04a9c5a38c56dac485cb30d93ee38658">effect_paralyzepoison</a>, 10_minutes );</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    }</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;}</div>
<div class="ttc" id="abodypart_8cpp_html_aa097cb26e12eaa87b56e93c3568a5a74"><div class="ttname"><a href="bodypart_8cpp.html#aa097cb26e12eaa87b56e93c3568a5a74">body_part_name_accusative</a></div><div class="ttdeci">std::string body_part_name_accusative(const bodypart_id &amp;bp, int number)</div><div class="ttdoc">Returns the matching accusative name of the body_part token, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00798">bodypart.cpp:798</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6b6a4fc8bbec9e138f0e3922bdbf2ce9"><div class="ttname"><a href="classCharacter.html#a6b6a4fc8bbec9e138f0e3922bdbf2ce9">Character::attitude_to</a></div><div class="ttdeci">Attitude attitude_to(const Creature &amp;other) const override</div><div class="ttdoc">Attitude (of this creature) towards another creature.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l11349">character.cpp:11349</a></div></div>
<div class="ttc" id="aclassCharacter_html_a906192bd3a5f29a61ee12695e18d2eb5"><div class="ttname"><a href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">Character::sees</a></div><div class="ttdeci">bool sees(const tripoint &amp;t, bool is_avatar=false, int range_mod=0) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l11397">character.cpp:11397</a></div></div>
<div class="ttc" id="aclassCreature_html_a26b7c431f85f0b99b888db69318ebdc5"><div class="ttname"><a href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">Creature::disp_name</a></div><div class="ttdeci">virtual std::string disp_name(bool possessive=false, bool capitalize_first=false) const =0</div></div>
<div class="ttc" id="aclassCreature_html_a2ed7b87167039b2cf0ecb2464d62f802"><div class="ttname"><a href="classCreature.html#a2ed7b87167039b2cf0ecb2464d62f802">Creature::deal_melee_attack</a></div><div class="ttdeci">virtual int deal_melee_attack(Creature *source, int hitroll)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00767">creature.cpp:767</a></div></div>
<div class="ttc" id="aclassCreature_html_a490503cd007e206dcd23fd8457017793"><div class="ttname"><a href="classCreature.html#a490503cd007e206dcd23fd8457017793">Creature::skin_name</a></div><div class="ttdeci">virtual std::string skin_name() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a50742ba2b2e90cf50327ea90c8d636dd"><div class="ttname"><a href="classCreature.html#a50742ba2b2e90cf50327ea90c8d636dd">Creature::is_adjacent</a></div><div class="ttdeci">bool is_adjacent(const Creature *target, bool allow_z_levels) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00722">creature.cpp:722</a></div></div>
<div class="ttc" id="aclassCreature_html_a91dc4715c36eef7d116f944be9a4d435"><div class="ttname"><a href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">Creature::add_msg_if_player</a></div><div class="ttdeci">virtual void add_msg_if_player(const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00976">creature.h:976</a></div></div>
<div class="ttc" id="aclassCreature_html_abbfb6067cd74b31799fe312fbe0fd1cf"><div class="ttname"><a href="classCreature.html#abbfb6067cd74b31799fe312fbe0fd1cf">Creature::deal_melee_hit</a></div><div class="ttdeci">virtual void deal_melee_hit(Creature *source, int hit_spread, bool critical_hit, damage_instance dam, dealt_damage_instance &amp;dealt_dam, const weakpoint_attack &amp;attack=weakpoint_attack(), const bodypart_id *bp=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00797">creature.cpp:797</a></div></div>
<div class="ttc" id="aclassCreature_html_ac7516d970e4db80cfcf8c0c8d345a2fa"><div class="ttname"><a href="classCreature.html#ac7516d970e4db80cfcf8c0c8d345a2fa">Creature::in_sleep_state</a></div><div class="ttdeci">virtual bool in_sleep_state() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02017">creature.cpp:2017</a></div></div>
<div class="ttc" id="aclassCreature_html_aed84fe52e1335d48d53f482f8a278c87"><div class="ttname"><a href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">Creature::is_npc</a></div><div class="ttdeci">virtual bool is_npc() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00268">creature.h:268</a></div></div>
<div class="ttc" id="aclassmonster_html_af3444e4763b1dd53e75c5ea50fd8ba9f"><div class="ttname"><a href="classmonster.html#af3444e4763b1dd53e75c5ea50fd8ba9f">monster::disp_name</a></div><div class="ttdeci">std::string disp_name(bool possessive=false, bool capitalize_first=false) const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00775">monster.cpp:775</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa3cde2bfb58efa9621289c0a70d24c5a"><div class="ttname"><a href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">string_id::id</a></div><div class="ttdeci">int_id&lt; T &gt; id() const</div><div class="ttdoc">Translate the string based it to the matching integer based id.</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00054">ammo_effect.cpp:54</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096eaa65a3cd4a2c6d0fbb31833ade22ee100"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaa65a3cd4a2c6d0fbb31833ade22ee100">m_mixed</a></div><div class="ttdeci">@ m_mixed</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00349">enums.h:349</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a4de2ef4c2e145815427b09adfaa0def5"><div class="ttname"><a href="monster_8cpp.html#a4de2ef4c2e145815427b09adfaa0def5">effect_hit_by_player</a></div><div class="ttdeci">static const efftype_id effect_hit_by_player(&quot;hit_by_player&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_afc3daf7e1664f8141571db43dcb86676"><div class="ttname"><a href="monster_8cpp.html#afc3daf7e1664f8141571db43dcb86676">json_flag_BIONIC_LIMB</a></div><div class="ttdeci">static const json_character_flag json_flag_BIONIC_LIMB(&quot;BIONIC_LIMB&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_afdae56eafce50b1f873673574188aca8"><div class="ttname"><a href="monster_8cpp.html#afdae56eafce50b1f873673574188aca8">damage_stab</a></div><div class="ttdeci">static const damage_type_id damage_stab(&quot;stab&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_ada726cd345e85c293ec67262a3cc3d02"><div class="ttname"><a href="mtype_8cpp.html#ada726cd345e85c293ec67262a3cc3d02">mon_flag_HIT_AND_RUN</a></div><div class="ttdeci">mon_flag_id mon_flag_HIT_AND_RUN</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00098">mtype.cpp:98</a></div></div>
<div class="ttc" id="amtype_8cpp_html_ae2d0d60cd5cf7c86f8fdff852af1a78c"><div class="ttname"><a href="mtype_8cpp.html#ae2d0d60cd5cf7c86f8fdff852af1a78c">mon_flag_BADVENOM</a></div><div class="ttdeci">mon_flag_id mon_flag_BADVENOM</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00053">mtype.cpp:53</a></div></div>
<div class="ttc" id="anamespacesfx_html_a0b6737ac5d4bff47e9b467fa952ce289"><div class="ttname"><a href="namespacesfx.html#a0b6737ac5d4bff47e9b467fa952ce289">sfx::do_player_death_hurt</a></div><div class="ttdeci">void do_player_death_hurt(const Character &amp;target, bool death)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l02033">sounds.cpp:2033</a></div></div>
<div class="ttc" id="anamespacesfx_html_a1f138eaa92db132e81ce591751c512cc"><div class="ttname"><a href="namespacesfx.html#a1f138eaa92db132e81ce591751c512cc">sfx::get_heard_volume</a></div><div class="ttdeci">int get_heard_volume(const tripoint &amp;source)</div><div class="ttdoc">Functions from sfx that do not use the SDL_mixer API at all.</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l02045">sounds.cpp:2045</a></div></div>
<div class="ttc" id="anamespacesfx_html_a8fa2bb887ac81392fb686cc4079b5d5a"><div class="ttname"><a href="namespacesfx.html#a8fa2bb887ac81392fb686cc4079b5d5a">sfx::play_variant_sound</a></div><div class="ttdeci">void play_variant_sound(const std::string &amp;id, const std::string &amp;variant, int volume, units::angle angle, double pitch_min=-1.0, double pitch_max=-1.0)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l01999">sounds.cpp:1999</a></div></div>
<div class="ttc" id="astructbody__part__type_html_afd43ba79d412b38476f718534904fce7"><div class="ttname"><a href="structbody__part__type.html#afd43ba79d412b38476f718534904fce7">body_part_type::has_flag</a></div><div class="ttdeci">bool has_flag(const json_character_flag &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00257">bodypart.cpp:257</a></div></div>
<div class="ttc" id="astructdamage__instance_html_a9eff5065ef6631935e95d061ca756ae4"><div class="ttname"><a href="structdamage__instance.html#a9eff5065ef6631935e95d061ca756ae4">damage_instance::add_damage</a></div><div class="ttdeci">void add_damage(const damage_type_id &amp;dt, float amt, float arpen=0.0f, float arpen_mult=1.0f, float dmg_mult=1.0f, float unc_arpen_mult=1.0f, float unc_dmg_mult=1.0f)</div><div class="ttdoc">Adds damage to the instance.</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00316">damage.cpp:316</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html"><div class="ttname"><a href="structdealt__damage__instance.html">dealt_damage_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00193">damage.h:193</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html_a86b702070a1c313624abc78ff34eff48"><div class="ttname"><a href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">dealt_damage_instance::total_damage</a></div><div class="ttdeci">int total_damage() const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00586">damage.cpp:586</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html_a8c42701acf1acf43dc9410969ef37437"><div class="ttname"><a href="structdealt__damage__instance.html#a8c42701acf1acf43dc9410969ef37437">dealt_damage_instance::type_damage</a></div><div class="ttdeci">int type_damage(const damage_type_id &amp;dt) const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00577">damage.cpp:577</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html_aa58f59c4bf4b6a78983c5df4887098b7"><div class="ttname"><a href="structdealt__damage__instance.html#aa58f59c4bf4b6a78983c5df4887098b7">dealt_damage_instance::bp_hit</a></div><div class="ttdeci">bodypart_id bp_hit</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00195">damage.h:195</a></div></div>
<div class="ttc" id="astructmon__effect__data_html"><div class="ttname"><a href="structmon__effect__data.html">mon_effect_data</a></div><div class="ttdoc">Used to store monster effects placed on attack.</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00209">mtype.h:209</a></div></div>
<div class="ttc" id="astructmon__effect__data_html_a0b437f227e69dc97dfe693a0f444c3dd"><div class="ttname"><a href="structmon__effect__data.html#a0b437f227e69dc97dfe693a0f444c3dd">mon_effect_data::message</a></div><div class="ttdeci">std::string message</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00223">mtype.h:223</a></div></div>
<div class="ttc" id="astructmon__effect__data_html_a3f623218ab557be6f142cf9067f9548a"><div class="ttname"><a href="structmon__effect__data.html#a3f623218ab557be6f142cf9067f9548a">mon_effect_data::permanent</a></div><div class="ttdeci">bool permanent</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00215">mtype.h:215</a></div></div>
<div class="ttc" id="astructmon__effect__data_html_a61eb4bd8fe200f29e1612839c5125c76"><div class="ttname"><a href="structmon__effect__data.html#a61eb4bd8fe200f29e1612839c5125c76">mon_effect_data::id</a></div><div class="ttdeci">efftype_id id</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00211">mtype.h:211</a></div></div>
<div class="ttc" id="astructmon__effect__data_html_a6b1e80a8cbd37bbe29871b20a9f75cbf"><div class="ttname"><a href="structmon__effect__data.html#a6b1e80a8cbd37bbe29871b20a9f75cbf">mon_effect_data::duration</a></div><div class="ttdeci">std::pair&lt; int, int &gt; duration</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00219">mtype.h:219</a></div></div>
<div class="ttc" id="astructmon__effect__data_html_a8ed8bd7ffdbace4d924df0415b4807d5"><div class="ttname"><a href="structmon__effect__data.html#a8ed8bd7ffdbace4d924df0415b4807d5">mon_effect_data::affect_hit_bp</a></div><div class="ttdeci">bool affect_hit_bp</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00216">mtype.h:216</a></div></div>
<div class="ttc" id="astructmon__effect__data_html_ab862f56e28c9dbf26e213cb9cb204003"><div class="ttname"><a href="structmon__effect__data.html#ab862f56e28c9dbf26e213cb9cb204003">mon_effect_data::chance</a></div><div class="ttdeci">float chance</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00213">mtype.h:213</a></div></div>
<div class="ttc" id="astructmon__effect__data_html_ac899acedc62f1e8fef7289ee674b8e8e"><div class="ttname"><a href="structmon__effect__data.html#ac899acedc62f1e8fef7289ee674b8e8e">mon_effect_data::bp</a></div><div class="ttdeci">bodypart_str_id bp</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00217">mtype.h:217</a></div></div>
<div class="ttc" id="astructmon__effect__data_html_ad3feab1b567335bb84d1616508f1e371"><div class="ttname"><a href="structmon__effect__data.html#ad3feab1b567335bb84d1616508f1e371">mon_effect_data::intensity</a></div><div class="ttdeci">std::pair&lt; int, int &gt; intensity</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00221">mtype.h:221</a></div></div>
<div class="ttc" id="astructmtype_html_a0ac5f04d4b2bfeec1ef9db873629f96a"><div class="ttname"><a href="structmtype.html#a0ac5f04d4b2bfeec1ef9db873629f96a">mtype::melee_damage</a></div><div class="ttdeci">damage_instance melee_damage</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00347">mtype.h:347</a></div></div>
<div class="ttc" id="astructmtype_html_a254844fd8a59016dd36034d160879026"><div class="ttname"><a href="structmtype.html#a254844fd8a59016dd36034d160879026">mtype::attack_cost</a></div><div class="ttdeci">int attack_cost</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00428">mtype.h:428</a></div></div>
<div class="ttc" id="astructmtype_html_a3158ff5c7431a8ac988154990c9a23ea"><div class="ttname"><a href="structmtype.html#a3158ff5c7431a8ac988154990c9a23ea">mtype::atk_effs</a></div><div class="ttdeci">std::vector&lt; mon_effect_data &gt; atk_effs</div><div class="ttdoc">Stores effect data for effects placed on attack.</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00334">mtype.h:334</a></div></div>
<div class="ttc" id="astructmtype_html_af346fa78fe3bff4e8e321e9046bc9717"><div class="ttname"><a href="structmtype.html#af346fa78fe3bff4e8e321e9046bc9717">mtype::melee_sides</a></div><div class="ttdeci">int melee_sides</div><div class="ttdoc">number of dice of bonus bashing damage on melee hit</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00431">mtype.h:431</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="damage_8cpp_source.html#l00316">damage_instance::add_damage()</a>, <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="creature_8h_source.html#l00976">Creature::add_msg_if_player()</a>, <a class="el" href="mtype_8h_source.html#l00216">mon_effect_data::affect_hit_bp</a>, <a class="el" href="mtype_8h_source.html#l00334">mtype::atk_effs</a>, <a class="el" href="mtype_8h_source.html#l00428">mtype::attack_cost</a>, <a class="el" href="character_8cpp_source.html#l11349">Character::attitude_to()</a>, <a class="el" href="bodypart_8cpp_source.html#l00798">body_part_name_accusative()</a>, <a class="el" href="mtype_8h_source.html#l00217">mon_effect_data::bp</a>, <a class="el" href="damage_8h_source.html#l00195">dealt_damage_instance::bp_hit</a>, <a class="el" href="mtype_8h_source.html#l00213">mon_effect_data::chance</a>, <a class="el" href="creature_8cpp_source.html#l03067">Creature::check_dead_state()</a>, <a class="el" href="monster_8cpp.html#a157369b3ee1f3f5a889eb1d42ed97638">damage_bash</a>, <a class="el" href="monster_8cpp.html#aecd517a9e74b5a5a21f0c75f88f50090">damage_cut</a>, <a class="el" href="monster_8cpp.html#afdae56eafce50b1f873673574188aca8">damage_stab</a>, <a class="el" href="creature_8cpp_source.html#l00767">Creature::deal_melee_attack()</a>, <a class="el" href="creature_8cpp_source.html#l00797">Creature::deal_melee_hit()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="rng_8cpp_source.html#l00123">dice()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">Creature::disp_name()</a>, <a class="el" href="monster_8cpp_source.html#l00775">disp_name()</a>, <a class="el" href="sounds_8cpp_source.html#l02033">sfx::do_player_death_hurt()</a>, <a class="el" href="mtype_8h_source.html#l00219">mon_effect_data::duration</a>, <a class="el" href="monster_8cpp.html#a0f3a25eb2b398fd705348436a034da00">effect_badpoison</a>, <a class="el" href="monster_8cpp.html#a4de2ef4c2e145815427b09adfaa0def5">effect_hit_by_player</a>, <a class="el" href="monster_8cpp.html#a04a9c5a38c56dac485cb30d93ee38658">effect_paralyzepoison</a>, <a class="el" href="monster_8cpp.html#ace42425e1e703ebbe953ade0f6110b7c">effect_poison</a>, <a class="el" href="monster_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a>, <a class="el" href="monster_8cpp.html#a74225467d1c09c7a6a7c659ee0139257">effect_run</a>, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Creature::FRIENDLY</a>, <a class="el" href="calendar_8h_source.html#l00221">time_duration::from_turns()</a>, <a class="el" href="sounds_8cpp_source.html#l02045">sfx::get_heard_volume()</a>, <a class="el" href="monster_8cpp_source.html#l00717">get_name()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="bodypart_8cpp_source.html#l00257">body_part_type::has_flag()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="mtype_8h_source.html#l00211">mon_effect_data::id</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00054">string_id&lt; T &gt;::id()</a>, <a class="el" href="creature_8cpp_source.html#l02017">Creature::in_sleep_state()</a>, <a class="el" href="mtype_8h_source.html#l00221">mon_effect_data::intensity</a>, <a class="el" href="creature_8cpp_source.html#l00722">Creature::is_adjacent()</a>, <a class="el" href="creature_8h_source.html#l00265">Creature::is_avatar()</a>, <a class="el" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">Creature::is_hallucination()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="creature_8h_source.html#l00268">Creature::is_npc()</a>, <a class="el" href="monster_8cpp.html#afc3daf7e1664f8141571db43dcb86676">json_flag_BIONIC_LIMB</a>, <a class="el" href="enums_8h_source.html#l00348">m_bad</a>, <a class="el" href="enums_8h_source.html#l00347">m_good</a>, <a class="el" href="enums_8h_source.html#l00349">m_mixed</a>, <a class="el" href="mtype_8h_source.html#l00347">mtype::melee_damage</a>, <a class="el" href="mtype_8h_source.html#l00430">mtype::melee_dice</a>, <a class="el" href="melee_8cpp_source.html#l02979">melee::melee_hit_range()</a>, <a class="el" href="mtype_8h_source.html#l00431">mtype::melee_sides</a>, <a class="el" href="mtype_8h_source.html#l00223">mon_effect_data::message</a>, <a class="el" href="creature_8cpp_source.html#l02008">Creature::mod_moves()</a>, <a class="el" href="mtype_8cpp_source.html#l00053">mon_flag_BADVENOM</a>, <a class="el" href="mtype_8cpp_source.html#l00098">mon_flag_HIT_AND_RUN</a>, <a class="el" href="mtype_8cpp_source.html#l00121">mon_flag_PARALYZEVENOM</a>, <a class="el" href="mtype_8cpp_source.html#l00142">mon_flag_RIDEABLE_MECH</a>, <a class="el" href="mtype_8cpp_source.html#l00158">mon_flag_VENOM</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="mtype_8h_source.html#l00215">mon_effect_data::permanent</a>, <a class="el" href="sounds_8cpp_source.html#l01999">sfx::play_variant_sound()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="creature_8cpp_source.html#l00358">Creature::sees()</a>, <a class="el" href="character_8cpp_source.html#l11397">Character::sees()</a>, <a class="el" href="classCreature.html#a490503cd007e206dcd23fd8457017793">Creature::skin_name()</a>, <a class="el" href="damage_8cpp_source.html#l00586">dealt_damage_instance::total_damage()</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, <a class="el" href="damage_8cpp_source.html#l00577">dealt_damage_instance::type_damage()</a>, and <a class="el" href="calendar_8cpp_source.html#l00784">x_in_y()</a>.</p>

</div>
</div>
<a id="a04e580433cf344a504468495ba2d1ee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04e580433cf344a504468495ba2d1ee3">&#9670;&nbsp;</a></span>monster_move_in_vehicle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::monster_move_in_vehicle </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l00135">135</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;{</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;m = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="classmonster.html">monster</a> critter = *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keyword">const</span> <a class="code" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = m.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( p );</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span>( vp.has_value() ) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <a class="code" href="classvehicle.html">vehicle</a> &amp;veh = vp-&gt;vehicle();</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <a class="code" href="classunits_1_1quantity.html">units::volume</a> capacity = 0_ml;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <a class="code" href="classunits_1_1quantity.html">units::volume</a> free_cargo = 0_ml;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keyword">auto</span> cargo_parts = veh.<a class="code" href="classvehicle.html#a38ba5bdc99241568c83ada974ed73e07">get_parts_at</a>( p, <span class="stringliteral">&quot;CARGO&quot;</span>, <a class="code" href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02ca100b8cad7cf2a56f6df78f171f97a1ec">part_status_flag::any</a> );</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="structvehicle__part.html">vehicle_part</a> *&amp;part : cargo_parts ) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <a class="code" href="classvehicle__stack.html">vehicle_stack</a> <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a1ff93bf21a97272ada4556de4422fb80">contents</a> = veh.<a class="code" href="classvehicle.html#abbc4051229bf116dfd03c53dcc4a0765">get_items</a>( *part );</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keywordflow">if</span>( !vp.<a class="code" href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">part_with_feature</a>( <span class="stringliteral">&quot;CARGO_PASSABLE&quot;</span>, <span class="keyword">false</span> ) &amp;&amp;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                !vp.<a class="code" href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">part_with_feature</a>( <span class="stringliteral">&quot;APPLIANCE&quot;</span>, <span class="keyword">false</span> ) &amp;&amp; !vp.<a class="code" href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">part_with_feature</a>( <span class="stringliteral">&quot;OBSTACLE&quot;</span>, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                capacity += <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a1ff93bf21a97272ada4556de4422fb80">contents</a>.max_volume();</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                free_cargo += <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a1ff93bf21a97272ada4556de4422fb80">contents</a>.free_volume();</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">if</span>( capacity &gt; 0_ml ) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="comment">// First, we&#39;ll try to squeeze in. Open-topped vehicle parts have more room to step over cargo.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keywordflow">if</span>( !veh.<a class="code" href="classvehicle.html#afccaeaa8277a4fbfc2c596682bf8b2d1">enclosed_at</a>( p ) ) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                free_cargo *= 1.2;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keywordflow">if</span>( !veh.<a class="code" href="classvehicle.html#afccaeaa8277a4fbfc2c596682bf8b2d1">enclosed_at</a>( p ) &amp;&amp; <a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>() ) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// No amount of cargo will block a flying monster if there&#39;s no roof.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <span class="keyword">const</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2">creature_size</a> <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> = <a class="code" href="classmonster.html#ab92cac0ecb2b2062fd4f821b671f86ac">get_size</a>();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <span class="keywordflow">if</span>( ( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a> &amp;&amp; free_cargo &lt; 15625_ml ) ||</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                ( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">creature_size::small</a> &amp;&amp; free_cargo &lt; 31250_ml ) ||</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                ( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a> &amp;&amp; free_cargo &lt; 62500_ml ) ||</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                ( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a> &amp;&amp; free_cargo &lt; 125000_ml ) ||</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                ( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a> &amp;&amp; free_cargo &lt; 250000_ml ) ) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="keywordflow">if</span>( ( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a> &amp;&amp; free_cargo &lt; 11719_ml ) ||</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    ( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">creature_size::small</a> &amp;&amp; free_cargo &lt; 23438_ml ) ||</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                    ( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a> &amp;&amp; free_cargo &lt; 46875_ml ) ||</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                    ( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a> &amp;&amp; free_cargo &lt; 93750_ml ) ||</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    ( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a> &amp;&amp; free_cargo &lt; 187500_ml ) ||</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                    ( <a class="code" href="classmonster.html#a304aeb741c4ac28d879d3951dee4cf30">get_volume</a>() &gt; 850000_ml &amp;&amp; !vp.<a class="code" href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">part_with_feature</a>( <span class="stringliteral">&quot;HUGE_OK&quot;</span>, <span class="keyword">false</span> ) ) ) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Return false if there&#39;s just no room whatsoever. Anything over 850 liters will simply never fit in a vehicle part that isn&#39;t specifically made for it.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    <span class="comment">// I&#39;m sorry but you can&#39;t let a kaiju ride shotgun.</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a541f9bf8c2e84856ea34db43f88991b3">bodytype</a> == <span class="stringliteral">&quot;snake&quot;</span> || <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a541f9bf8c2e84856ea34db43f88991b3">bodytype</a> == <span class="stringliteral">&quot;blob&quot;</span> || <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a541f9bf8c2e84856ea34db43f88991b3">bodytype</a> == <span class="stringliteral">&quot;fish&quot;</span> ||</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#af87d0e11009031a09f917068f8cc0357">mon_flag_PLASTIC</a> ) || <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a0170802dff38a9711cf97c353826eeb7">mon_flag_SMALL_HIDER</a> ) ) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// Return true if we&#39;re wiggly enough to be fine with cramped space.</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                critter.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monmove_8cpp.html#a4720d4449171de19328e9e2adc8ba622">effect_cramped_space</a>, 2_turns, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// Otherwise we add the effect and return true.</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a> &amp;&amp; !vp.<a class="code" href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">part_with_feature</a>( <span class="stringliteral">&quot;AISLE&quot;</span>, <span class="keyword">false</span> ) &amp;&amp;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                !vp.<a class="code" href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">part_with_feature</a>( <span class="stringliteral">&quot;HUGE_OK&quot;</span>, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                critter.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monmove_8cpp.html#a4720d4449171de19328e9e2adc8ba622">effect_cramped_space</a>, 2_turns, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// Sufficiently gigantic creatures have trouble in stock seats, roof or no.</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a304aeb741c4ac28d879d3951dee4cf30"><div class="ttname"><a href="classmonster.html#a304aeb741c4ac28d879d3951dee4cf30">monster::get_volume</a></div><div class="ttdeci">units::volume get_volume() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03518">monster.cpp:3518</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html"><div class="ttname"><a href="classoptional__vpart__position.html">optional_vpart_position</a></div><div class="ttdoc">Simple wrapper to forward functions that may return a std::optional to vpart_position.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00124">vpart_position.h:125</a></div></div>
<div class="ttc" id="aclassvehicle__stack_html"><div class="ttname"><a href="classvehicle__stack.html">vehicle_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00173">vehicle.h:174</a></div></div>
<div class="ttc" id="aclassvehicle_html"><div class="ttname"><a href="classvehicle.html">vehicle</a></div><div class="ttdoc">A vehicle as a whole with all its components.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00801">vehicle.h:802</a></div></div>
<div class="ttc" id="aclassvehicle_html_a38ba5bdc99241568c83ada974ed73e07"><div class="ttname"><a href="classvehicle.html#a38ba5bdc99241568c83ada974ed73e07">vehicle::get_parts_at</a></div><div class="ttdeci">std::vector&lt; vehicle_part * &gt; get_parts_at(const tripoint &amp;pos, const std::string &amp;flag, part_status_flag condition)</div><div class="ttdoc">Get all enabled, available, unbroken vehicle parts at specified position.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02855">vehicle.cpp:2855</a></div></div>
<div class="ttc" id="aclassvehicle_html_abbc4051229bf116dfd03c53dcc4a0765"><div class="ttname"><a href="classvehicle.html#abbc4051229bf116dfd03c53dcc4a0765">vehicle::get_items</a></div><div class="ttdeci">vehicle_stack get_items(const vehicle_part &amp;vp) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l05922">vehicle.cpp:5922</a></div></div>
<div class="ttc" id="aclassvehicle_html_afccaeaa8277a4fbfc2c596682bf8b2d1"><div class="ttname"><a href="classvehicle.html#afccaeaa8277a4fbfc2c596682bf8b2d1">vehicle::enclosed_at</a></div><div class="ttdeci">bool enclosed_at(const tripoint &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l07067">vehicle.cpp:7067</a></div></div>
<div class="ttc" id="amonmove_8cpp_html_a4720d4449171de19328e9e2adc8ba622"><div class="ttname"><a href="monmove_8cpp.html#a4720d4449171de19328e9e2adc8ba622">effect_cramped_space</a></div><div class="ttdeci">static const efftype_id effect_cramped_space(&quot;cramped_space&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_a0170802dff38a9711cf97c353826eeb7"><div class="ttname"><a href="mtype_8cpp.html#a0170802dff38a9711cf97c353826eeb7">mon_flag_SMALL_HIDER</a></div><div class="ttdeci">mon_flag_id mon_flag_SMALL_HIDER</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00150">mtype.cpp:150</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02item__tname_8cpp_03_html_a1ff93bf21a97272ada4556de4422fb80"><div class="ttname"><a href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a1ff93bf21a97272ada4556de4422fb80">anonymous_namespace{item_tname.cpp}::contents</a></div><div class="ttdeci">std::string contents(item const &amp;it, unsigned int, segment_bitset const &amp;segments)</div><div class="ttdef"><b>Definition:</b> <a href="item__tname_8cpp_source.html#l00216">item_tname.cpp:216</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_af97f9dbddaa758278662da3478826c61"><div class="ttname"><a href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">om_direction::size</a></div><div class="ttdeci">const size_t size</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00066">omdata.h:66</a></div></div>
<div class="ttc" id="astructvehicle__part_html"><div class="ttname"><a href="structvehicle__part.html">vehicle_part</a></div><div class="ttdoc">Structure, describing vehicle part (i.e., wheel, seat)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00254">vehicle.h:254</a></div></div>
<div class="ttc" id="avehicle_8h_html_ad9a221cee9ae7a69d6f09d4de701f02ca100b8cad7cf2a56f6df78f171f97a1ec"><div class="ttname"><a href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02ca100b8cad7cf2a56f6df78f171f97a1ec">part_status_flag::any</a></div><div class="ttdeci">@ any</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02ca100b8cad7cf2a56f6df78f171f97a1ec">any</a>, <a class="el" href="mtype_8h_source.html#l00355">mtype::bodytype</a>, <a class="el" href="item__tname_8cpp_source.html#l00216">anonymous_namespace{item_tname.cpp}::contents()</a>, <a class="el" href="monmove_8cpp.html#a4720d4449171de19328e9e2adc8ba622">effect_cramped_space</a>, <a class="el" href="vehicle_8cpp_source.html#l07067">vehicle::enclosed_at()</a>, <a class="el" href="monster_8cpp_source.html#l01262">flies()</a>, <a class="el" href="vehicle_8cpp_source.html#l05922">vehicle::get_items()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="vehicle_8cpp_source.html#l02855">vehicle::get_parts_at()</a>, <a class="el" href="monster_8cpp_source.html#l03503">get_size()</a>, <a class="el" href="monster_8cpp_source.html#l03518">get_volume()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">huge</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">large</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">medium</a>, <a class="el" href="mtype_8cpp_source.html#l00131">mon_flag_PLASTIC</a>, <a class="el" href="mtype_8cpp_source.html#l00150">mon_flag_SMALL_HIDER</a>, <a class="el" href="vehicle_8cpp_source.html#l02698">optional_vpart_position::part_with_feature()</a>, <a class="el" href="omdata_8h_source.html#l00066">om_direction::size</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">small</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">tiny</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>.</p>

</div>
</div>
<a id="adbc2b2a9fe75356ff70d4c6ec64eb0b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbc2b2a9fe75356ff70d4c6ec64eb0b5">&#9670;&nbsp;</a></span>move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::move </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l00865">865</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;{</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2ab576821e0d29160d6272e3c6f9faa323">debugmode::DF_MONMOVE</a>, <span class="stringliteral">&quot;Monster %s starting monmove::move, remaining moves %d&quot;</span>,</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                   <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(), <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> );</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="comment">// We decrement wandf no matter what.  We&#39;ll save our wander_to plans until</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="comment">// after we finish out set_dest plans, UNLESS they time out first.</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">wandf</a> &gt; 0 ) {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <a class="code" href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">wandf</a>--;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="comment">//Hallucinations have a chance of disappearing each turn</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 25 ) ) {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <a class="code" href="classmonster.html#a82ae41773b05af94d4b678cb33bfb329">die</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <a class="code" href="classbehavior_1_1monster__oracle__t.html">behavior::monster_oracle_t</a> oracle( <span class="keyword">this</span> );</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <a class="code" href="classbehavior_1_1tree.html">behavior::tree</a> goals;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    goals.<a class="code" href="classbehavior_1_1tree.html#a8a804865e2e82225a7e2da417adbd5a4">add</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#adba404a1bab62eccbe6a9720cae88c42">get_goals</a>() );</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    std::string <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = goals.<a class="code" href="classbehavior_1_1tree.html#a1bc592e4ec2c37fd3f00388b94de98bb">tick</a>( &amp;oracle );</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="comment">//The monster can consume objects it stands on. Check if there are any.</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="comment">//If there are. Consume them.</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="comment">// TODO: Stick this in a map and dispatch to it via the action string.</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="comment">// TODO: Create a special attacks whitelist unordered map instead of an if chain.</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    std::map&lt;std::string, mtype_special_attack&gt;::const_iterator <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> =</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">special_attacks</a>.find( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> );</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> != <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">special_attacks</a>.end() &amp;&amp; <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>-&gt;second-&gt;call( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.count( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> ) != 0 ) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            <a class="code" href="classmonster.html#a60ae9c29710c56417f769dea8381becf">reset_special</a>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> );</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="comment">// record position before moving to put the player there if we&#39;re dragging</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> drag_to = <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>();</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> pacified = <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#a79654cfc6f07462199ec3f5da9e49c83">effect_pacified</a> );</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="comment">// First, use the special attack, if we can!</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="comment">// The attack may change `monster::special_attacks` (e.g. by transforming</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="comment">// this into another monster type). Therefore we can not iterate over it</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="comment">// directly and instead iterate over the map from the monster type</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="comment">// (properties of monster types should never change).</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;sp_type : <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">special_attacks</a> ) {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="keyword">const</span> std::string &amp;special_name = sp_type.first;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> local_iter = <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.find( special_name );</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <span class="keywordflow">if</span>( local_iter == <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.end() ) {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <a class="code" href="classmon__special__attack.html">mon_special_attack</a> &amp;local_attack_data = local_iter-&gt;second;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        <span class="keywordflow">if</span>( !local_attack_data.<a class="code" href="classmon__special__attack.html#abbba44d1a5d5d62d696959bab20b8e67">enabled</a> ) {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb">debugmode::DF_MATTACK</a>, <span class="stringliteral">&quot;%s attempting a special attack %s, cooldown %d&quot;</span>, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(),</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                       sp_type.first, local_attack_data.<a class="code" href="classmon__special__attack.html#a0f121c831a2ecb77efe06aa048f60e58">cooldown</a> );</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160; </div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="comment">// Cooldowns are decremented in monster::process_turn</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160; </div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <span class="keywordflow">if</span>( local_attack_data.<a class="code" href="classmon__special__attack.html#a0f121c831a2ecb77efe06aa048f60e58">cooldown</a> == 0 &amp;&amp; !pacified &amp;&amp; !<a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            <span class="keywordflow">if</span>( !sp_type.second-&gt;call( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb">debugmode::DF_MATTACK</a>, <span class="stringliteral">&quot;Attack failed&quot;</span> );</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            }</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            <span class="comment">// `special_attacks` might have changed at this point. Sadly `reset_special`</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            <span class="comment">// doesn&#39;t check the attack name, so we need to do it here.</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.count( special_name ) == 0 ) {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            <a class="code" href="classmonster.html#a60ae9c29710c56417f769dea8381becf">reset_special</a>( special_name );</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    }</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="comment">// Check if they&#39;re dragging a foe and find their hapless victim</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <a class="code" href="classCharacter.html">Character</a> *dragged_foe = <a class="code" href="classmonster.html#a16052a26adbecf002c5d502660ec7434">find_dragged_foe</a>();</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="comment">// Give nursebots a chance to do surgery.</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <a class="code" href="classmonster.html#a3078e262a3a130efa9985bfa04a26bd8">nursebot_operate</a>( dragged_foe );</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="comment">// The monster can sometimes hang in air due to last fall being blocked</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>() &amp;&amp; !here.<a class="code" href="classmap.html#a78e0a35a5041e0daf6e7a2a4ec522014">has_floor_or_water</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) &amp;&amp; !here.<a class="code" href="classmap.html#a5ee9fe3a08892870a0574b8e1ab4e6b0">has_vehicle_floor</a>( <a class="code" href="classCreature.html#af7172e571c5c69240d9f71a01fddf035">pos_bub</a>() ) ) {</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        here.<a class="code" href="classmap.html#ae0dae45aeed1b7221d318c0a36abca5b">creature_on_trap</a>( *<span class="keyword">this</span>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#af033816139df1dfa154c27b199b51da6">is_dead</a>() ) {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    }</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="comment">// if the monster is in a deep water tile, it has a chance to drown</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a9118d0de36f4dbb72c28cc0832bba897">die_if_drowning</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 10 ) ) {</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    }</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> &lt; 0 ) {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    }</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="comment">// TODO: Move this to attack_at/move_to/etc. functions</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordtype">bool</span> attacking = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#aaed6da4f001755d7fdd7ea56df8ac44d">move_effects</a>( attacking ) ) {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    }</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#af8eb4198f7564379a407e89c13cdd1b7">mon_flag_IMMOBILE</a> ) || <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a1ce59be15eeebc2aa195dc5a5cf38358">mon_flag_RIDEABLE_MECH</a> ) ) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a> ) || <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#adcaf70773541073a0d4cdfce4b857bf7">effect_psi_stunned</a> ) ) {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <a class="code" href="classmonster.html#a6adba28c21a8b6e6cc1b81f2f31d1947">stumble</a>();</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    }</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> &gt; 0 ) {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        --<a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a>;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keyword">const</span> <a class="code" href="classoptional__vpart__position.html">optional_vpart_position</a> ovp = here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#a7697771dc47ecaeff36785ff20c9aa33">effect_harnessed</a> ) ) {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <span class="keywordflow">if</span>( !ovp.<a class="code" href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">part_with_feature</a>( <span class="stringliteral">&quot;ANIMAL_CTRL&quot;</span>, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monmove_8cpp.html#a7697771dc47ecaeff36785ff20c9aa33">effect_harnessed</a> ); <span class="comment">// the harness part probably broke</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            <span class="keywordflow">return</span>; <span class="comment">// don&#39;t move if harnessed</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        }</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    }</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="keyword">const</span> std::optional&lt;vpart_reference&gt; vp_boardable = ovp.<a class="code" href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">part_with_feature</a>( <span class="stringliteral">&quot;BOARDABLE&quot;</span>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">if</span>( vp_boardable &amp;&amp; <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> != 0 ) {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <span class="keyword">const</span> <a class="code" href="classvehicle.html">vehicle</a> &amp;veh = vp_boardable-&gt;<a class="code" href="classvehicle.html#a1f80b26dc4684734f1a903605f3cd4a3">vehicle</a>();</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        <span class="keywordflow">if</span>( veh.<a class="code" href="classvehicle.html#aec9a1faa6740b681867d48878e37d7bb">is_moving</a>() &amp;&amp; veh.<a class="code" href="classvehicle.html#a8d856b434f959359bf729b5b390e6278">get_monster</a>( vp_boardable-&gt;part_index() ) ) {</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;            <span class="keywordflow">return</span>; <span class="comment">// don&#39;t move if friendly and passenger in a moving vehicle</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    }</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="comment">// Set attitude to attitude to our current target</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4">monster_attitude</a> current_attitude = <a class="code" href="classmonster.html#a6f9b80e613e46d2a7ebbb21ea5e11e4c">attitude</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#aa58e9ab3e08e72fd37c757b761d2671c">is_wandering</a>() ) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() == player_character.<a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() ) {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;            current_attitude = <a class="code" href="classmonster.html#a6f9b80e613e46d2a7ebbb21ea5e11e4c">attitude</a>( &amp;player_character );</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classnpc.html">npc</a> &amp;guy : <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_npcs() ) {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() == guy.get_location() ) {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                    current_attitude = <a class="code" href="classmonster.html#a6f9b80e613e46d2a7ebbb21ea5e11e4c">attitude</a>( &amp;guy );</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            }</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a28fd163537c2f82c7a733d69c8c8da75">is_pet_follow</a>() || ( <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> != 0 &amp;&amp; <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#ad5fa326832c0a774d6a775e605f27788">effect_led_by_leash</a> ) ) ) {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> dist = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>(), <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() );</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <span class="keywordflow">if</span>( ( dist &lt;= 1 || ( dist &lt;= 2 &amp;&amp; !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#ad5fa326832c0a774d6a775e605f27788">effect_led_by_leash</a> ) &amp;&amp;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                             <a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( player_character ) ) ) &amp;&amp;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            ( <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() == player_character.<a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() &amp;&amp;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;              <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>().z() == player_character.<a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>().<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() ) ) {</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            <a class="code" href="classmonster.html#a6adba28c21a8b6e6cc1b81f2f31d1947">stumble</a>();</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        }</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ( current_attitude == <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4aa81d19ea97def3730dddfc9451b53de5">MATT_IGNORE</a> &amp;&amp; <a class="code" href="classmonster.html#ae4ddfd29306c2e768f545aed901be3f9">patrol_route</a>.empty() ) ||</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;               ( ( current_attitude == <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a850d5624fd1d54192310ab8b13f228ee">MATT_FOLLOW</a> ||</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                   ( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ad6a17cb01971e10f58414cf964a400e2">mon_flag_KEEP_DISTANCE</a> ) &amp;&amp; !( current_attitude == <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a1c6426f1f830743448b46e8e2aa068b4">MATT_FLEE</a> ) ) )</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                 &amp;&amp; <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>(), <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() ) &lt;= <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#afb696f9fd6734d41999a056ac3924475">tracking_distance</a> ) ) {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <a class="code" href="classmonster.html#a6adba28c21a8b6e6cc1b81f2f31d1947">stumble</a>();</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="keywordtype">bool</span> moved = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> destination;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160; </div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordtype">bool</span> try_to_move = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <a class="code" href="classcreature__tracker.html">creature_tracker</a> &amp;creatures = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>();</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;dest : here.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 1 ) ) {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        <span class="keywordflow">if</span>( dest != <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) {</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a241bdfccd5d6b2200c0bfd5eca9ce8ab">can_move_to</a>( dest ) &amp;&amp;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( dest, <span class="keyword">true</span> ) == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                try_to_move = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            }</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        }</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    }</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160; </div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="comment">// If true, don&#39;t try to greedily avoid locally bad paths</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keywordtype">bool</span> pathed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> local_dest = here.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() );</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordflow">if</span>( try_to_move ) {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <span class="comment">// Move using vision by follow smells and sounds</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <span class="keywordtype">bool</span> move_without_target = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa58e9ab3e08e72fd37c757b761d2671c">is_wandering</a>() &amp;&amp; <a class="code" href="classmonster.html#ad0f32b1f18afffaa98c73767eb059ec9">has_intelligence</a>() &amp;&amp; <a class="code" href="classmonster.html#a79c1aef59cccba881fc60e52fb6d8cb9">can_see</a>() ) {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a7598512ae9ca78a96974d3ca4237b044">mon_flag_SMELLS</a> ) ) {</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                <a class="code" href="classmonster.html#a1488f5a618c74a508fb87b82be05ef11">unset_dest</a>();</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                <a class="code" href="structtripoint.html">tripoint</a> tmp = <a class="code" href="classmonster.html#ace81cf5d7ddd0385d3cf2e66d4c47ff7">scent_move</a>();</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                <span class="keywordflow">if</span>( tmp.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> != -1 ) {</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                    local_dest = tmp;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                    move_without_target = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2ab576821e0d29160d6272e3c6f9faa323">debugmode::DF_MONMOVE</a>, <span class="stringliteral">&quot;%s follows smell using vision&quot;</span>, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                }</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            }</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            <span class="keywordflow">if</span>( !move_without_target &amp;&amp; <a class="code" href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">wandf</a> &gt; 0 &amp;&amp; <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == 0 ) {</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                <a class="code" href="classmonster.html#a1488f5a618c74a508fb87b82be05ef11">unset_dest</a>();</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">wander_pos</a> != <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() ) {</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                    local_dest = here.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( <a class="code" href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">wander_pos</a> );</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                    move_without_target = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2ab576821e0d29160d6272e3c6f9faa323">debugmode::DF_MONMOVE</a>, <span class="stringliteral">&quot;%s follows sound using vision&quot;</span>, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                }</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;            }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        }</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160; </div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#aa58e9ab3e08e72fd37c757b761d2671c">is_wandering</a>() || move_without_target ) {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            <span class="keywordflow">while</span>( !<a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.empty() &amp;&amp; <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.front() == <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) {</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.erase( <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.begin() );</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            }</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            <span class="keyword">const</span> <a class="code" href="structpathfinding__settings.html">pathfinding_settings</a> &amp;pf_settings = <a class="code" href="classmonster.html#a873925c09bec361ffd2363626828a362">get_pathfinding_settings</a>();</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <span class="keywordflow">if</span>( pf_settings.<a class="code" href="structpathfinding__settings.html#ad0b14e2ee3fc5bb59d985e98e2fa9504">max_dist</a> &gt;= <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>(), <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() ) &amp;&amp;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                ( <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.empty() || <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.front() ) &gt;= 2 || <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.back() != local_dest ) ) {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                <span class="comment">// We need a new path</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#af35316ade396ac63cf5655105a420dbb">can_pathfind</a>() ) {</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                    <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a> = here.<a class="code" href="classmap.html#acd464679b3bb514e2568ffdb3260ef0c">route</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), local_dest, pf_settings, <a class="code" href="classmonster.html#a12d0f90c38e7463844592281c87dd250">get_path_avoid</a>() );</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.empty() ) {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                        <a class="code" href="classmonster.html#a71b5a8e94a71255502dfd413e135d301">increment_pathfinding_cd</a>();</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                    }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                    <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a> = here.<a class="code" href="classmap.html#a9fe6f81443a4ae45012d6e664efb74c2">straight_route</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), local_dest );</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.empty() ) {</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                        std::unordered_set&lt;tripoint&gt; closed = <a class="code" href="classmonster.html#a12d0f90c38e7463844592281c87dd250">get_path_avoid</a>();</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                        <span class="keywordflow">if</span>( std::any_of( <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.begin(), <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.end(), [&amp;closed]( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp; p ) {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                        return closed.count( p );</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                        } ) ) {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                            <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.clear();</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                        }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                    }</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                }</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.empty() ) {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                    <a class="code" href="classmonster.html#a504851437db082b0c62e50ff48ec08fb">reset_pathfinding_cd</a>();</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                }</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;            <span class="comment">// Try to respect old paths, even if we can&#39;t pathfind at the moment</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.empty() &amp;&amp; <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.back() == local_dest ) {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                destination = <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.front();</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                moved = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                pathed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                <span class="comment">// Straight line forward, probably because we can&#39;t pathfind (well enough)</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                destination = local_dest;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                moved = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            }</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        }</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    }</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordflow">if</span>( !moved &amp;&amp; <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a7598512ae9ca78a96974d3ca4237b044">mon_flag_SMELLS</a> ) ) {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="comment">// No sight... or our plans are invalid (e.g. moving through a transparent, but</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        <span class="comment">//  solid, square of terrain).  Fall back to smell if we have it.</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <a class="code" href="classmonster.html#a1488f5a618c74a508fb87b82be05ef11">unset_dest</a>();</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <a class="code" href="structtripoint.html">tripoint</a> tmp = <a class="code" href="classmonster.html#ace81cf5d7ddd0385d3cf2e66d4c47ff7">scent_move</a>();</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        <span class="keywordflow">if</span>( tmp.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> != -1 ) {</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            destination = tmp;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            moved = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2ab576821e0d29160d6272e3c6f9faa323">debugmode::DF_MONMOVE</a>, <span class="stringliteral">&quot;%s follows smell to not use vision&quot;</span>, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        }</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    }</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">wandf</a> &gt; 0 &amp;&amp; !moved &amp;&amp; <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == 0 ) { <span class="comment">// No LOS, no scent, so as a fall-back follow sound</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <a class="code" href="classmonster.html#a1488f5a618c74a508fb87b82be05ef11">unset_dest</a>();</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">wander_pos</a> != <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() ) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;            destination = here.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( <a class="code" href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">wander_pos</a> );</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            moved = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2ab576821e0d29160d6272e3c6f9faa323">debugmode::DF_MONMOVE</a>, <span class="stringliteral">&quot;%s follows sound to not use vision&quot;</span>, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        }</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    }</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <a class="code" href="structpoint.html">point</a> new_d( destination.<a class="code" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() - <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>().xy() );</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <span class="comment">// toggle facing direction for sdl flip</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_tileset_isometric() ) {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <span class="keywordflow">if</span>( new_d.x &lt; 0 ) {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            <a class="code" href="classCreature.html#a21b8fbeb525a28615eec6a6c22beff44">facing</a> = <a class="code" href="creature_8h.html#ab97a871dbf59ff8692908611795f7642a684d325a7303f52e64011467ff5c5758">FacingDirection::LEFT</a>;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( new_d.x &gt; 0 ) {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;            <a class="code" href="classCreature.html#a21b8fbeb525a28615eec6a6c22beff44">facing</a> = <a class="code" href="creature_8h.html#ab97a871dbf59ff8692908611795f7642a21507b40c80068eda19865706fdc2403">FacingDirection::RIGHT</a>;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        }</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <span class="keywordflow">if</span>( new_d.y &lt;= 0 &amp;&amp; new_d.x &lt;= 0 ) {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;            <a class="code" href="classCreature.html#a21b8fbeb525a28615eec6a6c22beff44">facing</a> = <a class="code" href="creature_8h.html#ab97a871dbf59ff8692908611795f7642a684d325a7303f52e64011467ff5c5758">FacingDirection::LEFT</a>;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <span class="keywordflow">if</span>( new_d.x &gt;= 0 &amp;&amp; new_d.y &gt;= 0 ) {</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            <a class="code" href="classCreature.html#a21b8fbeb525a28615eec6a6c22beff44">facing</a> = <a class="code" href="creature_8h.html#ab97a871dbf59ff8692908611795f7642a21507b40c80068eda19865706fdc2403">FacingDirection::RIGHT</a>;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        }</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> next_step;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_open_doors = <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a0e12efd1ed65a888bff5a5db5faeaf96">mon_flag_CAN_OPEN_DOORS</a> ) &amp;&amp; !<a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>();</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> staggers = <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a0ab20367a507f953bab44113234bd07a">mon_flag_STUMBLES</a> );</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">if</span>( moved ) {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <span class="comment">// Implement both avoiding obstacles and staggering.</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        moved = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        <span class="keywordtype">float</span> switch_chance = 0.0f;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> can_bash = <a class="code" href="classmonster.html#a7410372f55ca62ae5eda0fcc63b48622">bash_skill</a>() &gt; 0;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        <span class="comment">// This is a float and using trig_dist() because that Does the Right Thing(tm)</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        <span class="comment">// in both circular and roguelike distance modes.</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> distance_to_target = <a class="code" href="coordinates_8h.html#aafe19be6ce6f4788aa78a07a71807739">trig_dist</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), destination );</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="structtripoint.html">tripoint</a> &amp;candidate : <a class="code" href="line_8cpp.html#ac3d2ba0a4c40ecc74117e5b9752fac02">squares_closer_to</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), destination ) ) {</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;            <span class="comment">// rare scenario when monster is on the border of the map and it&#39;s goal is outside of the map</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;            <span class="keywordflow">if</span>( !here.<a class="code" href="classmap.html#a46608709f68358365d0734b1063fed73">inbounds</a>( candidate ) ) {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;            }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160; </div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            <span class="keywordtype">bool</span> via_ramp = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            <span class="keywordtype">int</span> rampPos = 0;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a4099f16f8e2c4ea80e996db0ea6f4c02">ter_furn_flag::TFLAG_RAMP_UP</a>, candidate ) ) {</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                via_ramp = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                rampPos -= 1;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                candidate.z += 1;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a26a026d844907da147f1350754b5210b">ter_furn_flag::TFLAG_RAMP_DOWN</a>, candidate ) ) {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                via_ramp = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                rampPos += 1;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                candidate.z -= 1;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;            }</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;            <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> candidate_abs = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#ac868b594b36b6b9bbcb130650fd4f61f">getglobal</a>( candidate );</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;            <span class="keywordflow">if</span>( candidate.z != <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() ) {</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                <span class="keywordtype">bool</span> can_z_move = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                <span class="keywordflow">if</span>( !here.<a class="code" href="classmap.html#a3188771064ca49d4798c6a80bfad0fcd">valid_move</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), candidate, <span class="keyword">false</span>, <span class="keyword">true</span>, via_ramp ) ) {</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                    <span class="comment">// Can&#39;t phase through floor</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                    can_z_move = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                }</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                <span class="comment">// If we&#39;re trying to go up but can&#39;t fly, check if we can climb. If we can&#39;t, then don&#39;t</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                <span class="comment">// This prevents non-climb/fly enemies running up walls</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                <span class="keywordflow">if</span>( candidate.z &gt; <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() &amp;&amp; !( via_ramp || <a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>() ) ) {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#abca4913777aa7ed67c109de4b667ed54">can_climb</a>() || !here.<a class="code" href="classmap.html#a3e525fc14178c776d0261cce3efec2a0">has_floor_or_support</a>( candidate ) ) {</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                        <span class="keywordflow">if</span>( ( !here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">ter_furn_flag::TFLAG_SWIMMABLE</a>, <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ||</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                              !here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">ter_furn_flag::TFLAG_SWIMMABLE</a>, candidate ) ) ) {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                            <span class="comment">// Can&#39;t &quot;jump&quot; up a whole z-level</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                            can_z_move = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                        }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                    }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                }</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160; </div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                <span class="comment">// Last chance - we can still do the z-level stair teleport bullshit that isn&#39;t removed yet</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                <span class="comment">// TODO: Remove z-level stair bullshit teleport after aligning all stairs</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                <span class="keywordflow">if</span>( !can_z_move &amp;&amp;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                    <a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>() / ( <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> * 2 ) == candidate.x / ( <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> * 2 ) &amp;&amp;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                    <a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>() / ( <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> * 2 ) == candidate.y / ( <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> * 2 ) ) {</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> upper = candidate.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> &gt; <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() ? candidate : <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>();</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> lower = candidate.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> &gt; <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() ? <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() : candidate;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ab09f2463f4ce060d051439b5535a47e6">ter_furn_flag::TFLAG_GOES_DOWN</a>, upper ) &amp;&amp;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                        here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a589ce1673849a76ea3bf17df3fe84ab3">ter_furn_flag::TFLAG_GOES_UP</a>, lower ) ) {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                        can_z_move = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                    }</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160; </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                <span class="keywordflow">if</span>( !can_z_move ) {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;            }</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160; </div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;            <span class="comment">// A flag to allow non-stumbling critters to stumble when the most direct choice is bad.</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;            <span class="keywordtype">bool</span> bad_choice = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160; </div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;            <span class="keyword">const</span> <a class="code" href="classCreature.html">Creature</a> *target = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( candidate, <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() );</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;            <span class="keywordflow">if</span>( target != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() != target-&gt;<a class="code" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">is_hallucination</a>() &amp;&amp; !target-&gt;<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                    <span class="comment">// Hallucinations should only be capable of targeting the player or other hallucinations.</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                <span class="keyword">const</span> <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217">Attitude</a> att = <a class="code" href="classmonster.html#a125622587c2069dc4dbbe07943c81336">attitude_to</a>( *target );</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                <span class="keywordflow">if</span>( att == <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Attitude::HOSTILE</a> ) {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                    <span class="comment">// When attacking an adjacent enemy, we&#39;re direct.</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                    moved = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                    next_step = candidate_abs;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                <span class="keywordflow">if</span>( att == <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Attitude::FRIENDLY</a> &amp;&amp; ( target-&gt;<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() || target-&gt;<a class="code" href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">is_npc</a>() ||</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                                                   target-&gt;<a class="code" href="classCreature.html#aec78049b0ee4401d3a4c073663735aad">has_flag</a>( <a class="code" href="mtype_8cpp.html#aa03ff0de8ff0fccbe3aedafcef1c5153">mon_flag_QUEEN</a> ) ) ) {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                    <span class="comment">// Friendly firing the player or an NPC is illegal for gameplay reasons.</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                    <span class="comment">// Monsters should instinctively avoid attacking queens that regenerate their own population.</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                }</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a28012e7b03f25df53cd371150ad24916">mon_flag_ATTACKMON</a> ) &amp;&amp; !<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#af882b7fb7b2ad4d4d8a66371e2a5793c">mon_flag_PUSH_MON</a> ) ) {</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                    <span class="comment">// Bail out if there&#39;s a non-hostile monster in the way and we&#39;re not pushy.</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                }</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                <span class="comment">// Friendly fire and pushing are always bad choices - they take a lot of time</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                bad_choice = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;            }</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160; </div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            <span class="comment">// is there an openable door?</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            <span class="keywordflow">if</span>( can_open_doors &amp;&amp;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                here.<a class="code" href="classmap.html#a9ac1c68c3941554a86bff27bf1ce2389">open_door</a>( *<span class="keyword">this</span>, candidate, !here.<a class="code" href="classmap.html#a3bc75c8b706a54c1575b4460b2f363b1">is_outside</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ), <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                moved = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                next_step = candidate_abs;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            }</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160; </div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            <span class="comment">// Try to shove vehicle out of the way</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            <a class="code" href="classmonster.html#ad18dfb6454b3ce4172d476af3a042f4b">shove_vehicle</a>( destination, candidate );</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;            <span class="comment">// Bail out if we can&#39;t move there and we can&#39;t bash.</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;            <span class="keywordflow">if</span>( !pathed &amp;&amp; !<a class="code" href="classmonster.html#a241bdfccd5d6b2200c0bfd5eca9ce8ab">can_move_to</a>( candidate ) ) {</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                <span class="keywordflow">if</span>( !can_bash ) {</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                }</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                <span class="comment">// Don&#39;t bash if we&#39;re just tracking a noise.</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a790b213f8c42018dba14f5358644226f">provocative_sound</a> &amp;&amp; <a class="code" href="classmonster.html#aa58e9ab3e08e72fd37c757b761d2671c">is_wandering</a>() &amp;&amp; destination == here.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( <a class="code" href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">wander_pos</a> ) ) {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                }</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> estimate = here.<a class="code" href="classmap.html#a6c9fdb474119bafd75efa7c12e0bec1a">bash_rating</a>( <a class="code" href="classmonster.html#a22061ca6aa966283a748d84ce4352fb4">bash_estimate</a>(), candidate );</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                <span class="keywordflow">if</span>( estimate &lt;= 0 ) {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                }</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160; </div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                <span class="keywordflow">if</span>( estimate &lt; 5 ) {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                    bad_choice = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            }</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160; </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> progress = distance_to_target - <a class="code" href="coordinates_8h.html#aafe19be6ce6f4788aa78a07a71807739">trig_dist</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>( candidate.xy(),</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                                   candidate.z + rampPos ), destination );</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;            <span class="comment">// The x2 makes the first (and most direct) path twice as likely,</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;            <span class="comment">// since the chance of switching is 1/1, 1/4, 1/6, 1/8</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;            switch_chance += progress * 2;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;            <span class="comment">// Randomly pick one of the viable squares to move to weighted by distance.</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;            <span class="keywordflow">if</span>( progress &gt; 0 &amp;&amp; ( !moved || <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( progress, switch_chance ) ) ) {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                moved = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                next_step = candidate_abs;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                <span class="comment">// If we stumble, pick a random square, otherwise take the first one,</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                <span class="comment">// which is the most direct path.</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                <span class="comment">// Except if the direct path is bad, then check others</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                <span class="comment">// Or if the path is given by pathfinder</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                <span class="keywordflow">if</span>( !staggers &amp;&amp; ( !bad_choice || pathed ) ) {</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                }</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;            }</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        }</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    }</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="comment">// Finished logic section.  By this point, we should have chosen a square to</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="comment">//  move to (moved = true).</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keywordflow">if</span>( moved ) { <span class="comment">// Actual effects of moving to the square we&#39;ve chosen</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> local_next_step = here.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( next_step );</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> did_something =</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;            ( !pacified &amp;&amp; <a class="code" href="classmonster.html#a32a4800fc20a7d229c66cce32ce9e417">attack_at</a>( local_next_step ) ) ||</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            ( !pacified &amp;&amp; can_open_doors &amp;&amp;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;              here.<a class="code" href="classmap.html#a9ac1c68c3941554a86bff27bf1ce2389">open_door</a>( *<span class="keyword">this</span>, local_next_step, !here.<a class="code" href="classmap.html#a3bc75c8b706a54c1575b4460b2f363b1">is_outside</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ) ) ||</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;            ( !pacified &amp;&amp; <a class="code" href="classmonster.html#abfa82509ae31b5201072274dc6b9c407">bash_at</a>( local_next_step ) ) ||</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            ( !pacified &amp;&amp; <a class="code" href="classmonster.html#a1a829284017aa69618d25208a53061d1">push_to</a>( local_next_step, 0, 0 ) ) ||</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;            <a class="code" href="classmonster.html#ab3c07bd4cb325287741fa2e561168e56">move_to</a>( local_next_step, <span class="keyword">false</span>, <span class="keyword">false</span>, <a class="code" href="monmove_8cpp.html#aa9166c53ef32fe65a5c624d530a0210c">get_stagger_adjust</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), destination, local_next_step ) );</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160; </div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        <span class="keywordflow">if</span>( !did_something ) {</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;            <a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -<a class="code" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">get_speed</a>() ); <span class="comment">// If we don&#39;t do this, we&#39;ll get infinite loops.</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        }</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#a692b3825de327022efb956655bf5e441">effect_dragging</a> ) &amp;&amp; dragged_foe != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            <span class="keywordflow">if</span>( !dragged_foe-&gt;<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#ae326c5e4da7f23bc429d04d215dd7c9d">effect_grabbed</a> ) ) {</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                dragged_foe = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monmove_8cpp.html#a692b3825de327022efb956655bf5e441">effect_dragging</a> );</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( drag_to != <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() &amp;&amp; creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( drag_to ) == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                dragged_foe-&gt;<a class="code" href="classCreature.html#a5e2f65bf9e0412193ebaaf60d02cc0cc">move_to</a>( drag_to );</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;            }</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;        }</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        <a class="code" href="classmonster.html#a6adba28c21a8b6e6cc1b81f2f31d1947">stumble</a>();</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.clear();</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    }</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#ad5fa326832c0a774d6a775e605f27788">effect_led_by_leash</a> ) ) {</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>(), player_character.<a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() ) &gt; 2 ) {</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;            <span class="comment">// Either failed to keep up with the player or moved away</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monmove_8cpp.html#ad5fa326832c0a774d6a775e605f27788">effect_led_by_leash</a> );</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You lose hold of a leash.&quot;</span> ) );</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        }</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    }</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">cata_variant_type::tripoint</a></div><div class="ttdeci">@ tripoint</div></div>
<div class="ttc" id="aclassCreature_html_a21b8fbeb525a28615eec6a6c22beff44"><div class="ttname"><a href="classCreature.html#a21b8fbeb525a28615eec6a6c22beff44">Creature::facing</a></div><div class="ttdeci">FacingDirection facing</div><div class="ttdoc">return the direction the creature is facing, for sdl horizontal flip</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00303">creature.h:303</a></div></div>
<div class="ttc" id="aclassCreature_html_a5e2f65bf9e0412193ebaaf60d02cc0cc"><div class="ttname"><a href="classCreature.html#a5e2f65bf9e0412193ebaaf60d02cc0cc">Creature::move_to</a></div><div class="ttdeci">void move_to(const tripoint_abs_ms &amp;loc)</div><div class="ttdoc">Moves the creature to the given location and calls the on_move() handler.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00195">creature.cpp:195</a></div></div>
<div class="ttc" id="aclassCreature_html_a9f0365208b65ab1c45d23f03f402f491"><div class="ttname"><a href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">Creature::posy</a></div><div class="ttdeci">int posy() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00314">creature.h:314</a></div></div>
<div class="ttc" id="aclassCreature_html_aec78049b0ee4401d3a4c073663735aad"><div class="ttname"><a href="classCreature.html#aec78049b0ee4401d3a4c073663735aad">Creature::has_flag</a></div><div class="ttdeci">virtual bool has_flag(const mon_flag_id &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00752">creature.h:752</a></div></div>
<div class="ttc" id="aclassCreature_html_aecea7d852ffba499ec12350c95340b9d"><div class="ttname"><a href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">Creature::posx</a></div><div class="ttdeci">int posx() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00311">creature.h:311</a></div></div>
<div class="ttc" id="aclassCreature_html_af7172e571c5c69240d9f71a01fddf035"><div class="ttname"><a href="classCreature.html#af7172e571c5c69240d9f71a01fddf035">Creature::pos_bub</a></div><div class="ttdeci">tripoint_bub_ms pos_bub() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00183">creature.cpp:183</a></div></div>
<div class="ttc" id="aclassbehavior_1_1monster__oracle__t_html"><div class="ttname"><a href="classbehavior_1_1monster__oracle__t.html">behavior::monster_oracle_t</a></div><div class="ttdef"><b>Definition:</b> <a href="monster__oracle_8h_source.html#l00015">monster_oracle.h:16</a></div></div>
<div class="ttc" id="aclassbehavior_1_1tree_html"><div class="ttname"><a href="classbehavior_1_1tree.html">behavior::tree</a></div><div class="ttdef"><b>Definition:</b> <a href="behavior_8h_source.html#l00044">behavior.h:45</a></div></div>
<div class="ttc" id="aclassbehavior_1_1tree_html_a1bc592e4ec2c37fd3f00388b94de98bb"><div class="ttname"><a href="classbehavior_1_1tree.html#a1bc592e4ec2c37fd3f00388b94de98bb">behavior::tree::tick</a></div><div class="ttdeci">std::string tick(const oracle_t *subject)</div><div class="ttdef"><b>Definition:</b> <a href="behavior_8cpp_source.html#l00088">behavior.cpp:88</a></div></div>
<div class="ttc" id="aclassbehavior_1_1tree_html_a8a804865e2e82225a7e2da417adbd5a4"><div class="ttname"><a href="classbehavior_1_1tree.html#a8a804865e2e82225a7e2da417adbd5a4">behavior::tree::add</a></div><div class="ttdeci">void add(const node_t *new_node)</div><div class="ttdef"><b>Definition:</b> <a href="behavior_8cpp_source.html#l00100">behavior.cpp:100</a></div></div>
<div class="ttc" id="aclassmap_html_a3188771064ca49d4798c6a80bfad0fcd"><div class="ttname"><a href="classmap.html#a3188771064ca49d4798c6a80bfad0fcd">map::valid_move</a></div><div class="ttdeci">bool valid_move(const tripoint &amp;from, const tripoint &amp;to, bool bash=false, bool flying=false, bool via_ramp=false) const</div><div class="ttdoc">Returns true if a creature could walk from from to to in one step.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02542">map.cpp:2542</a></div></div>
<div class="ttc" id="aclassmap_html_a3bc75c8b706a54c1575b4460b2f363b1"><div class="ttname"><a href="classmap.html#a3bc75c8b706a54c1575b4460b2f363b1">map::is_outside</a></div><div class="ttdeci">bool is_outside(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03395">map.cpp:3395</a></div></div>
<div class="ttc" id="aclassmap_html_a3e525fc14178c776d0261cce3efec2a0"><div class="ttname"><a href="classmap.html#a3e525fc14178c776d0261cce3efec2a0">map::has_floor_or_support</a></div><div class="ttdeci">bool has_floor_or_support(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02733">map.cpp:2733</a></div></div>
<div class="ttc" id="aclassmap_html_a426c21f7244ff80a61685a89e9146fec"><div class="ttname"><a href="classmap.html#a426c21f7244ff80a61685a89e9146fec">map::getlocal</a></div><div class="ttdeci">tripoint getlocal(const tripoint &amp;p) const</div><div class="ttdoc">Inverse of getabs.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09635">map.cpp:9635</a></div></div>
<div class="ttc" id="aclassmap_html_a46608709f68358365d0734b1063fed73"><div class="ttname"><a href="classmap.html#a46608709f68358365d0734b1063fed73">map::inbounds</a></div><div class="ttdeci">bool inbounds(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09057">map.cpp:9057</a></div></div>
<div class="ttc" id="aclassmap_html_a6c9fdb474119bafd75efa7c12e0bec1a"><div class="ttname"><a href="classmap.html#a6c9fdb474119bafd75efa7c12e0bec1a">map::bash_rating</a></div><div class="ttdeci">int bash_rating(int str, const tripoint &amp;p, bool allow_floor=false) const</div><div class="ttdoc">Returns a success rating from -1 to 10 for a given tile based on a set strength, used for AI movement...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03304">map.cpp:3304</a></div></div>
<div class="ttc" id="aclassmap_html_a9ac1c68c3941554a86bff27bf1ce2389"><div class="ttname"><a href="classmap.html#a9ac1c68c3941554a86bff27bf1ce2389">map::open_door</a></div><div class="ttdeci">bool open_door(Creature const &amp;u, const tripoint &amp;p, bool inside, bool check_only=false)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04689">map.cpp:4689</a></div></div>
<div class="ttc" id="aclassmap_html_a9fe6f81443a4ae45012d6e664efb74c2"><div class="ttname"><a href="classmap.html#a9fe6f81443a4ae45012d6e664efb74c2">map::straight_route</a></div><div class="ttdeci">std::vector&lt; tripoint &gt; straight_route(const tripoint &amp;f, const tripoint &amp;t) const</div><div class="ttdef"><b>Definition:</b> <a href="pathfinding_8cpp_source.html#l00167">pathfinding.cpp:167</a></div></div>
<div class="ttc" id="aclassmap_html_acd464679b3bb514e2568ffdb3260ef0c"><div class="ttname"><a href="classmap.html#acd464679b3bb514e2568ffdb3260ef0c">map::route</a></div><div class="ttdeci">std::vector&lt; tripoint &gt; route(const tripoint &amp;f, const tripoint &amp;t, const pathfinding_settings &amp;settings, const std::unordered_set&lt; tripoint &gt; &amp;pre_closed={{ }}) const</div><div class="ttdoc">Calculate the best path using A*.</div><div class="ttdef"><b>Definition:</b> <a href="pathfinding_8cpp_source.html#l00192">pathfinding.cpp:192</a></div></div>
<div class="ttc" id="aclassmap_html_ae0dae45aeed1b7221d318c0a36abca5b"><div class="ttname"><a href="classmap.html#ae0dae45aeed1b7221d318c0a36abca5b">map::creature_on_trap</a></div><div class="ttdeci">void creature_on_trap(Creature &amp;critter, bool may_avoid=true) const</div><div class="ttdoc">Apply trap effects to the creature, similar to creature_in_field.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09887">map.cpp:9887</a></div></div>
<div class="ttc" id="aclassmon__special__attack_html_abbba44d1a5d5d62d696959bab20b8e67"><div class="ttname"><a href="classmon__special__attack.html#abbba44d1a5d5d62d696959bab20b8e67">mon_special_attack::enabled</a></div><div class="ttdeci">bool enabled</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00051">monster.h:51</a></div></div>
<div class="ttc" id="aclassmonster_html_a12d0f90c38e7463844592281c87dd250"><div class="ttname"><a href="classmonster.html#a12d0f90c38e7463844592281c87dd250">monster::get_path_avoid</a></div><div class="ttdeci">std::unordered_set&lt; tripoint &gt; get_path_avoid() const override</div><div class="ttdoc">Returns a set of points we do not want to path through.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03986">monster.cpp:3986</a></div></div>
<div class="ttc" id="aclassmonster_html_a16052a26adbecf002c5d502660ec7434"><div class="ttname"><a href="classmonster.html#a16052a26adbecf002c5d502660ec7434">monster::find_dragged_foe</a></div><div class="ttdeci">Character * find_dragged_foe()</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l01334">monmove.cpp:1334</a></div></div>
<div class="ttc" id="aclassmonster_html_a1a829284017aa69618d25208a53061d1"><div class="ttname"><a href="classmonster.html#a1a829284017aa69618d25208a53061d1">monster::push_to</a></div><div class="ttdeci">bool push_to(const tripoint &amp;p, int boost, size_t depth)</div><div class="ttdoc">Try to push away whatever occupies p, then step in.</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l02094">monmove.cpp:2094</a></div></div>
<div class="ttc" id="aclassmonster_html_a22061ca6aa966283a748d84ce4352fb4"><div class="ttname"><a href="classmonster.html#a22061ca6aa966283a748d84ce4352fb4">monster::bash_estimate</a></div><div class="ttdeci">int bash_estimate() const</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l01719">monmove.cpp:1719</a></div></div>
<div class="ttc" id="aclassmonster_html_a28fd163537c2f82c7a733d69c8c8da75"><div class="ttname"><a href="classmonster.html#a28fd163537c2f82c7a733d69c8c8da75">monster::is_pet_follow</a></div><div class="ttdeci">bool is_pet_follow() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01329">monster.cpp:1329</a></div></div>
<div class="ttc" id="aclassmonster_html_a3078e262a3a130efa9985bfa04a26bd8"><div class="ttname"><a href="classmonster.html#a3078e262a3a130efa9985bfa04a26bd8">monster::nursebot_operate</a></div><div class="ttdeci">void nursebot_operate(Character *dragged_foe)</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l01357">monmove.cpp:1357</a></div></div>
<div class="ttc" id="aclassmonster_html_a32a4800fc20a7d229c66cce32ce9e417"><div class="ttname"><a href="classmonster.html#a32a4800fc20a7d229c66cce32ce9e417">monster::attack_at</a></div><div class="ttdeci">bool attack_at(const tripoint &amp;p)</div><div class="ttdoc">Attack any enemies at the given location.</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l01778">monmove.cpp:1778</a></div></div>
<div class="ttc" id="aclassmonster_html_a60ae9c29710c56417f769dea8381becf"><div class="ttname"><a href="classmonster.html#a60ae9c29710c56417f769dea8381becf">monster::reset_special</a></div><div class="ttdeci">void reset_special(const std::string &amp;special_name)</div><div class="ttdoc">Resets a given special to its monster type cooldown value.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02586">monster.cpp:2586</a></div></div>
<div class="ttc" id="aclassmonster_html_a6adba28c21a8b6e6cc1b81f2f31d1947"><div class="ttname"><a href="classmonster.html#a6adba28c21a8b6e6cc1b81f2f31d1947">monster::stumble</a></div><div class="ttdeci">void stumble()</div><div class="ttdoc">Stumble in a random direction, but with some caveats.</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l02233">monmove.cpp:2233</a></div></div>
<div class="ttc" id="aclassmonster_html_a71b5a8e94a71255502dfd413e135d301"><div class="ttname"><a href="classmonster.html#a71b5a8e94a71255502dfd413e135d301">monster::increment_pathfinding_cd</a></div><div class="ttdeci">void increment_pathfinding_cd()</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00645">monster.h:645</a></div></div>
<div class="ttc" id="aclassmonster_html_a79c1aef59cccba881fc60e52fb6d8cb9"><div class="ttname"><a href="classmonster.html#a79c1aef59cccba881fc60e52fb6d8cb9">monster::can_see</a></div><div class="ttdeci">bool can_see() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01220">monster.cpp:1220</a></div></div>
<div class="ttc" id="aclassmonster_html_aa58e9ab3e08e72fd37c757b761d2671c"><div class="ttname"><a href="classmonster.html#aa58e9ab3e08e72fd37c757b761d2671c">monster::is_wandering</a></div><div class="ttdeci">bool is_wandering() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01394">monster.cpp:1394</a></div></div>
<div class="ttc" id="aclassmonster_html_aaed6da4f001755d7fdd7ea56df8ac44d"><div class="ttname"><a href="classmonster.html#aaed6da4f001755d7fdd7ea56df8ac44d">monster::move_effects</a></div><div class="ttdeci">bool move_effects(bool attacking) override</div><div class="ttdoc">Processes effects which may prevent the monster from moving (bear traps, crushed, etc....</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02205">monster.cpp:2205</a></div></div>
<div class="ttc" id="aclassmonster_html_ab3c07bd4cb325287741fa2e561168e56"><div class="ttname"><a href="classmonster.html#ab3c07bd4cb325287741fa2e561168e56">monster::move_to</a></div><div class="ttdeci">bool move_to(const tripoint &amp;p, bool force=false, bool step_on_critter=false, float stagger_adjustment=1.0)</div><div class="ttdoc">Attempt to move to p.</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l01852">monmove.cpp:1852</a></div></div>
<div class="ttc" id="aclassmonster_html_abfa82509ae31b5201072274dc6b9c407"><div class="ttname"><a href="classmonster.html#abfa82509ae31b5201072274dc6b9c407">monster::bash_at</a></div><div class="ttdeci">bool bash_at(const tripoint &amp;p)</div><div class="ttdoc">Try to smash/bash/destroy your way through the terrain at p.</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l01676">monmove.cpp:1676</a></div></div>
<div class="ttc" id="aclassmonster_html_ace81cf5d7ddd0385d3cf2e66d4c47ff7"><div class="ttname"><a href="classmonster.html#ace81cf5d7ddd0385d3cf2e66d4c47ff7">monster::scent_move</a></div><div class="ttdeci">tripoint scent_move()</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l01475">monmove.cpp:1475</a></div></div>
<div class="ttc" id="aclassmonster_html_ad0f32b1f18afffaa98c73767eb059ec9"><div class="ttname"><a href="classmonster.html#ad0f32b1f18afffaa98c73767eb059ec9">monster::has_intelligence</a></div><div class="ttdeci">bool has_intelligence() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01334">monster.cpp:1334</a></div></div>
<div class="ttc" id="aclassmonster_html_ad18dfb6454b3ce4172d476af3a042f4b"><div class="ttname"><a href="classmonster.html#ad18dfb6454b3ce4172d476af3a042f4b">monster::shove_vehicle</a></div><div class="ttdeci">void shove_vehicle(const tripoint &amp;remote_destination, const tripoint &amp;nearby_destination)</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l02425">monmove.cpp:2425</a></div></div>
<div class="ttc" id="aclassmonster_html_af033816139df1dfa154c27b199b51da6"><div class="ttname"><a href="classmonster.html#af033816139df1dfa154c27b199b51da6">monster::is_dead</a></div><div class="ttdeci">bool is_dead() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03580">monster.cpp:3580</a></div></div>
<div class="ttc" id="aclassmonster_html_af35316ade396ac63cf5655105a420dbb"><div class="ttname"><a href="classmonster.html#af35316ade396ac63cf5655105a420dbb">monster::can_pathfind</a></div><div class="ttdeci">bool can_pathfind() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00638">monster.h:638</a></div></div>
<div class="ttc" id="aclassvehicle_html_a1f80b26dc4684734f1a903605f3cd4a3"><div class="ttname"><a href="classvehicle.html#a1f80b26dc4684734f1a903605f3cd4a3">vehicle::vehicle</a></div><div class="ttdeci">vehicle(const vproto_id &amp;proto_id)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l00214">vehicle.cpp:214</a></div></div>
<div class="ttc" id="aclassvehicle_html_a8d856b434f959359bf729b5b390e6278"><div class="ttname"><a href="classvehicle.html#a8d856b434f959359bf729b5b390e6278">vehicle::get_monster</a></div><div class="ttdeci">monster * get_monster(int p) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03412">vehicle.cpp:3412</a></div></div>
<div class="ttc" id="aclassvehicle_html_aec9a1faa6740b681867d48878e37d7bb"><div class="ttname"><a href="classvehicle.html#aec9a1faa6740b681867d48878e37d7bb">vehicle::is_moving</a></div><div class="ttdeci">bool is_moving() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03728">vehicle.cpp:3728</a></div></div>
<div class="ttc" id="acoordinates_8h_html_aafe19be6ce6f4788aa78a07a71807739"><div class="ttname"><a href="coordinates_8h.html#aafe19be6ce6f4788aa78a07a71807739">trig_dist</a></div><div class="ttdeci">int trig_dist(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00762">coordinates.h:762</a></div></div>
<div class="ttc" id="acreature_8h_html_ab97a871dbf59ff8692908611795f7642a21507b40c80068eda19865706fdc2403"><div class="ttname"><a href="creature_8h.html#ab97a871dbf59ff8692908611795f7642a21507b40c80068eda19865706fdc2403">FacingDirection::RIGHT</a></div><div class="ttdeci">@ RIGHT</div></div>
<div class="ttc" id="acreature_8h_html_ab97a871dbf59ff8692908611795f7642a684d325a7303f52e64011467ff5c5758"><div class="ttname"><a href="creature_8h.html#ab97a871dbf59ff8692908611795f7642a684d325a7303f52e64011467ff5c5758">FacingDirection::LEFT</a></div><div class="ttdeci">@ LEFT</div></div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a></div><div class="ttdeci">@ action</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00044">dialogue.h:43</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a39fd8a829e3dc412646663066dbdb54c"><div class="ttname"><a href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a></div><div class="ttdeci">constexpr int SEEX</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00042">game_constants.h:42</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a4cfa35de359af17f7bc6c2a424339eb5"><div class="ttname"><a href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a></div><div class="ttdeci">constexpr int SEEY</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00043">game_constants.h:43</a></div></div>
<div class="ttc" id="aline_8cpp_html_ac3d2ba0a4c40ecc74117e5b9752fac02"><div class="ttname"><a href="line_8cpp.html#ac3d2ba0a4c40ecc74117e5b9752fac02">squares_closer_to</a></div><div class="ttdeci">std::vector&lt; tripoint &gt; squares_closer_to(const tripoint &amp;from, const tripoint &amp;to)</div><div class="ttdef"><b>Definition:</b> <a href="line_8cpp_source.html#l00659">line.cpp:659</a></div></div>
<div class="ttc" id="amonmove_8cpp_html_a7697771dc47ecaeff36785ff20c9aa33"><div class="ttname"><a href="monmove_8cpp.html#a7697771dc47ecaeff36785ff20c9aa33">effect_harnessed</a></div><div class="ttdeci">static const efftype_id effect_harnessed(&quot;harnessed&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_a79654cfc6f07462199ec3f5da9e49c83"><div class="ttname"><a href="monmove_8cpp.html#a79654cfc6f07462199ec3f5da9e49c83">effect_pacified</a></div><div class="ttdeci">static const efftype_id effect_pacified(&quot;pacified&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_aa9166c53ef32fe65a5c624d530a0210c"><div class="ttname"><a href="monmove_8cpp.html#aa9166c53ef32fe65a5c624d530a0210c">get_stagger_adjust</a></div><div class="ttdeci">static float get_stagger_adjust(const tripoint &amp;source, const tripoint &amp;destination, const tripoint &amp;next_step)</div><div class="ttdoc">Method to make monster movement speed consistent in the face of staggering behavior and differing dis...</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00825">monmove.cpp:825</a></div></div>
<div class="ttc" id="amonmove_8cpp_html_ad5fa326832c0a774d6a775e605f27788"><div class="ttname"><a href="monmove_8cpp.html#ad5fa326832c0a774d6a775e605f27788">effect_led_by_leash</a></div><div class="ttdeci">static const efftype_id effect_led_by_leash(&quot;led_by_leash&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_adcaf70773541073a0d4cdfce4b857bf7"><div class="ttname"><a href="monmove_8cpp.html#adcaf70773541073a0d4cdfce4b857bf7">effect_psi_stunned</a></div><div class="ttdeci">static const efftype_id effect_psi_stunned(&quot;psi_stunned&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_ae326c5e4da7f23bc429d04d215dd7c9d"><div class="ttname"><a href="monmove_8cpp.html#ae326c5e4da7f23bc429d04d215dd7c9d">effect_grabbed</a></div><div class="ttdeci">static const efftype_id effect_grabbed(&quot;grabbed&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_a0ab20367a507f953bab44113234bd07a"><div class="ttname"><a href="mtype_8cpp.html#a0ab20367a507f953bab44113234bd07a">mon_flag_STUMBLES</a></div><div class="ttdeci">mon_flag_id mon_flag_STUMBLES</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00152">mtype.cpp:152</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a0e12efd1ed65a888bff5a5db5faeaf96"><div class="ttname"><a href="mtype_8cpp.html#a0e12efd1ed65a888bff5a5db5faeaf96">mon_flag_CAN_OPEN_DOORS</a></div><div class="ttdeci">mon_flag_id mon_flag_CAN_OPEN_DOORS</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00061">mtype.cpp:61</a></div></div>
<div class="ttc" id="amtype_8cpp_html_af882b7fb7b2ad4d4d8a66371e2a5793c"><div class="ttname"><a href="mtype_8cpp.html#af882b7fb7b2ad4d4d8a66371e2a5793c">mon_flag_PUSH_MON</a></div><div class="ttdeci">mon_flag_id mon_flag_PUSH_MON</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00134">mtype.cpp:134</a></div></div>
<div class="ttc" id="anamespacedebugmode_html_ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb"><div class="ttname"><a href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb">debugmode::DF_MATTACK</a></div><div class="ttdeci">@ DF_MATTACK</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00262">debug.h:262</a></div></div>
<div class="ttc" id="anamespacedebugmode_html_ac654a55a1b56b11554103f87859968f2ab576821e0d29160d6272e3c6f9faa323"><div class="ttname"><a href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2ab576821e0d29160d6272e3c6f9faa323">debugmode::DF_MONMOVE</a></div><div class="ttdeci">@ DF_MONMOVE</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00264">debug.h:264</a></div></div>
<div class="ttc" id="astructmtype_html_adba404a1bab62eccbe6a9720cae88c42"><div class="ttname"><a href="structmtype.html#adba404a1bab62eccbe6a9720cae88c42">mtype::get_goals</a></div><div class="ttdeci">const behavior::node_t * get_goals() const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00531">mtype.cpp:531</a></div></div>
<div class="ttc" id="astructpathfinding__settings_html"><div class="ttname"><a href="structpathfinding__settings.html">pathfinding_settings</a></div><div class="ttdef"><b>Definition:</b> <a href="pathfinding_8h_source.html#l00052">pathfinding.h:52</a></div></div>
<div class="ttc" id="astructpathfinding__settings_html_ad0b14e2ee3fc5bb59d985e98e2fa9504"><div class="ttname"><a href="structpathfinding__settings.html#ad0b14e2ee3fc5bb59d985e98e2fa9504">pathfinding_settings::max_dist</a></div><div class="ttdeci">int max_dist</div><div class="ttdef"><b>Definition:</b> <a href="pathfinding_8h_source.html#l00054">pathfinding.h:54</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="dialogue_8h_source.html#l00043">action</a>, <a class="el" href="behavior_8cpp_source.html#l00100">behavior::tree::add()</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00581">spell_effect::attack()</a>, <a class="el" href="monmove_8cpp_source.html#l01778">attack_at()</a>, <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="monster_8cpp_source.html#l01450">attitude_to()</a>, <a class="el" href="monmove_8cpp_source.html#l01676">bash_at()</a>, <a class="el" href="monmove_8cpp_source.html#l01719">bash_estimate()</a>, <a class="el" href="map_8cpp_source.html#l03304">map::bash_rating()</a>, <a class="el" href="monmove_8cpp_source.html#l01730">bash_skill()</a>, <a class="el" href="monster_8cpp_source.html#l01242">can_climb()</a>, <a class="el" href="monmove_8cpp_source.html#l00356">can_move_to()</a>, <a class="el" href="monster_8h_source.html#l00638">can_pathfind()</a>, <a class="el" href="monster_8cpp_source.html#l01220">can_see()</a>, <a class="el" href="monster_8h_source.html#l00050">mon_special_attack::cooldown</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="map_8cpp_source.html#l09887">map::creature_on_trap()</a>, <a class="el" href="debug_8h_source.html#l00262">debugmode::DF_MATTACK</a>, <a class="el" href="debug_8h_source.html#l00264">debugmode::DF_MONMOVE</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="monmove_8cpp_source.html#l00849">die_if_drowning()</a>, <a class="el" href="monmove_8cpp.html#a692b3825de327022efb956655bf5e441">effect_dragging</a>, <a class="el" href="monmove_8cpp.html#ae326c5e4da7f23bc429d04d215dd7c9d">effect_grabbed</a>, <a class="el" href="monmove_8cpp.html#a7697771dc47ecaeff36785ff20c9aa33">effect_harnessed</a>, <a class="el" href="monmove_8cpp.html#ad5fa326832c0a774d6a775e605f27788">effect_led_by_leash</a>, <a class="el" href="monmove_8cpp.html#a79654cfc6f07462199ec3f5da9e49c83">effect_pacified</a>, <a class="el" href="monmove_8cpp.html#adcaf70773541073a0d4cdfce4b857bf7">effect_psi_stunned</a>, <a class="el" href="monmove_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, <a class="el" href="monster_8h_source.html#l00051">mon_special_attack::enabled</a>, <a class="el" href="creature_8h_source.html#l00303">Creature::facing</a>, <a class="el" href="monmove_8cpp_source.html#l01334">find_dragged_foe()</a>, <a class="el" href="monster_8cpp_source.html#l01262">flies()</a>, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Creature::FRIENDLY</a>, <a class="el" href="monster_8h_source.html#l00539">friendly</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="monster_8cpp_source.html#l01375">get_dest()</a>, <a class="el" href="mtype_8cpp_source.html#l00531">mtype::get_goals()</a>, <a class="el" href="creature_8cpp_source.html#l03232">Creature::get_location()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="vehicle_8cpp_source.html#l03412">vehicle::get_monster()</a>, <a class="el" href="monster_8cpp_source.html#l03986">get_path_avoid()</a>, <a class="el" href="monster_8cpp_source.html#l03981">get_pathfinding_settings()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="creature_8cpp_source.html#l02138">Creature::get_speed()</a>, <a class="el" href="monmove_8cpp_source.html#l00825">get_stagger_adjust()</a>, <a class="el" href="map_8cpp_source.html#l09625">map::getglobal()</a>, <a class="el" href="map_8cpp_source.html#l09635">map::getlocal()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="creature_8h_source.html#l00752">Creature::has_flag()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l02733">map::has_floor_or_support()</a>, <a class="el" href="map_8cpp_source.html#l02703">map::has_floor_or_water()</a>, <a class="el" href="monster_8cpp_source.html#l01334">has_intelligence()</a>, <a class="el" href="map_8cpp_source.html#l02739">map::has_vehicle_floor()</a>, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Creature::HOSTILE</a>, <a class="el" href="map_8cpp_source.html#l09057">map::inbounds()</a>, <a class="el" href="monster_8h_source.html#l00645">increment_pathfinding_cd()</a>, <a class="el" href="creature_8h_source.html#l00265">Creature::is_avatar()</a>, <a class="el" href="monster_8cpp_source.html#l03580">is_dead()</a>, <a class="el" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">Creature::is_hallucination()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="vehicle_8cpp_source.html#l03728">vehicle::is_moving()</a>, <a class="el" href="creature_8h_source.html#l00268">Creature::is_npc()</a>, <a class="el" href="map_8cpp_source.html#l03395">map::is_outside()</a>, <a class="el" href="monster_8cpp_source.html#l01329">is_pet_follow()</a>, <a class="el" href="monster_8cpp_source.html#l01394">is_wandering()</a>, <a class="el" href="creature_8h.html#ab97a871dbf59ff8692908611795f7642a684d325a7303f52e64011467ff5c5758">LEFT</a>, <a class="el" href="enums_8h_source.html#l00352">m_info</a>, <a class="el" href="monster_8h_source.html#l00061">MATT_FLEE</a>, <a class="el" href="monster_8h_source.html#l00063">MATT_FOLLOW</a>, <a class="el" href="monster_8h_source.html#l00062">MATT_IGNORE</a>, <a class="el" href="pathfinding_8h_source.html#l00054">pathfinding_settings::max_dist</a>, <a class="el" href="creature_8cpp_source.html#l02008">Creature::mod_moves()</a>, <a class="el" href="mtype_8cpp_source.html#l00050">mon_flag_ATTACKMON</a>, <a class="el" href="mtype_8cpp_source.html#l00061">mon_flag_CAN_OPEN_DOORS</a>, <a class="el" href="mtype_8cpp_source.html#l00101">mon_flag_IMMOBILE</a>, <a class="el" href="mtype_8cpp_source.html#l00105">mon_flag_KEEP_DISTANCE</a>, <a class="el" href="mtype_8cpp_source.html#l00134">mon_flag_PUSH_MON</a>, <a class="el" href="mtype_8cpp_source.html#l00136">mon_flag_QUEEN</a>, <a class="el" href="mtype_8cpp_source.html#l00142">mon_flag_RIDEABLE_MECH</a>, <a class="el" href="mtype_8cpp_source.html#l00151">mon_flag_SMELLS</a>, <a class="el" href="mtype_8cpp_source.html#l00152">mon_flag_STUMBLES</a>, <a class="el" href="monster_8cpp_source.html#l02205">move_effects()</a>, <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, <a class="el" href="creature_8cpp_source.html#l00195">Creature::move_to()</a>, <a class="el" href="creature_8h_source.html#l01193">Creature::moves</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="monmove_8cpp_source.html#l01357">nursebot_operate()</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="map_8cpp_source.html#l04689">map::open_door()</a>, <a class="el" href="vehicle_8cpp_source.html#l02698">optional_vpart_position::part_with_feature()</a>, <a class="el" href="monster_8h_source.html#l00632">path</a>, <a class="el" href="monster_8h_source.html#l00651">patrol_route</a>, <a class="el" href="map_8cpp_source.html#l10109">map::points_in_radius()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8cpp_source.html#l00183">Creature::pos_bub()</a>, <a class="el" href="creature_8h_source.html#l00311">Creature::posx()</a>, <a class="el" href="creature_8h_source.html#l00314">Creature::posy()</a>, <a class="el" href="creature_8h_source.html#l00317">Creature::posz()</a>, <a class="el" href="monster_8h_source.html#l00522">provocative_sound</a>, <a class="el" href="monmove_8cpp_source.html#l02094">push_to()</a>, <a class="el" href="creature_8cpp_source.html#l01722">Creature::remove_effect()</a>, <a class="el" href="monster_8h_source.html#l00641">reset_pathfinding_cd()</a>, <a class="el" href="monster_8cpp_source.html#l02586">reset_special()</a>, <a class="el" href="creature_8h.html#ab97a871dbf59ff8692908611795f7642a21507b40c80068eda19865706fdc2403">RIGHT</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="pathfinding_8cpp_source.html#l00192">map::route()</a>, <a class="el" href="monmove_8cpp_source.html#l01475">scent_move()</a>, <a class="el" href="creature_8cpp_source.html#l00358">Creature::sees()</a>, <a class="el" href="game__constants_8h_source.html#l00042">SEEX</a>, <a class="el" href="game__constants_8h_source.html#l00043">SEEY</a>, <a class="el" href="monmove_8cpp_source.html#l02425">shove_vehicle()</a>, <a class="el" href="monster_8h_source.html#l00617">special_attacks</a>, <a class="el" href="mtype_8h_source.html#l00378">mtype::special_attacks</a>, <a class="el" href="line_8cpp_source.html#l00659">squares_closer_to()</a>, <a class="el" href="pathfinding_8cpp_source.html#l00167">map::straight_route()</a>, <a class="el" href="monmove_8cpp_source.html#l02233">stumble()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ab09f2463f4ce060d051439b5535a47e6">TFLAG_GOES_DOWN</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a589ce1673849a76ea3bf17df3fe84ab3">TFLAG_GOES_UP</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a26a026d844907da147f1350754b5210b">TFLAG_RAMP_DOWN</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a4099f16f8e2c4ea80e996db0ea6f4c02">TFLAG_RAMP_UP</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">TFLAG_SWIMMABLE</a>, <a class="el" href="behavior_8cpp_source.html#l00088">behavior::tree::tick()</a>, <a class="el" href="mtype_8h_source.html#l00421">mtype::tracking_distance</a>, <a class="el" href="coordinates_8h_source.html#l00762">trig_dist()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, <a class="el" href="monster_8cpp_source.html#l01388">unset_dest()</a>, <a class="el" href="map_8cpp_source.html#l02542">map::valid_move()</a>, <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>, <a class="el" href="vehicle_8cpp_source.html#l00214">vehicle::vehicle()</a>, <a class="el" href="monster_8h_source.html#l00521">wander_pos</a>, <a class="el" href="monster_8h_source.html#l00523">wandf</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, <a class="el" href="point_8h_source.html#l00132">tripoint::x</a>, <a class="el" href="calendar_8cpp_source.html#l00784">x_in_y()</a>, <a class="el" href="point_8h_source.html#l00202">tripoint::xy()</a>, <a class="el" href="point_8h_source.html#l00024">point::y</a>, <a class="el" href="coordinates_8h_source.html#l00167">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::z()</a>, and <a class="el" href="point_8h_source.html#l00134">tripoint::z</a>.</p>

</div>
</div>
<a id="aaed6da4f001755d7fdd7ea56df8ac44d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaed6da4f001755d7fdd7ea56df8ac44d">&#9670;&nbsp;</a></span>move_effects()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::move_effects </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>attacking</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes effects which may prevent the monster from moving (bear traps, crushed, etc.). </p>
<p>Returns false if movement is stopped. </p>

<p>Implements <a class="el" href="classCreature.html#a62674422b8f57c0331ac523688bc604b">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02205">2205</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;{</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    <span class="comment">// This function is relatively expensive, we want that cached</span></div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    <span class="comment">// IMPORTANT: If adding any new effects here, make SURE to</span></div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    <span class="comment">// add them to hardcoded_movement_impairing in effect.cpp</span></div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a04c74718e60016b199e7cdff71d5aa90">effect_cache</a>[<a class="code" href="monster_8h.html#a84ab55bd738531d991f877a7650b7fd1a13d4d639667d468eab8c51243acc4802">MOVEMENT_IMPAIRED</a>] ) {</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    }</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160; </div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;    <span class="keywordtype">bool</span> u_see_me = <a class="code" href="game_8cpp.html#ab5c977b7e81348725fb7bf09fc64ed95">get_player_view</a>().<a class="code" href="classviewer.html#a204fe140cdc73d2452fa9a390a32ba29">sees</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a09c667a72022d7e0ee0b851560831e04">effect_tied</a> ) ) {</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;        <span class="comment">// friendly pet, will stay tied down and obey.</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == -1 ) {</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;        }</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;        <span class="comment">// non-friendly monster will struggle to get free occasionally.</span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;        <span class="comment">// some monsters can&#39;t be tangled up with a net/bolas/lasso etc.</span></div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;        <span class="keywordtype">bool</span> immediate_break = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monster_8cpp.html#aa8928856b5d4f47850b52f0354061116">species_FISH</a> ) || <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monster_8cpp.html#a977275180f65ac4ef2bde740f1955669">species_MOLLUSK</a> ) ||</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;                               <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monster_8cpp.html#a478c9c699e4248bf7d25ae31156bf0b7">species_ROBOT</a> ) || <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a541f9bf8c2e84856ea34db43f88991b3">bodytype</a> == <span class="stringliteral">&quot;snake&quot;</span> || <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a541f9bf8c2e84856ea34db43f88991b3">bodytype</a> == <span class="stringliteral">&quot;blob&quot;</span>;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;        <span class="keywordflow">if</span>( !immediate_break &amp;&amp; <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, 900 ) &gt; <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a> * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af346fa78fe3bff4e8e321e9046bc9717">melee_sides</a> * 1.5 ) {</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;            <span class="keywordflow">if</span>( u_see_me &amp;&amp; get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_MOVE_EFFECTS&quot;</span> ) ) {</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s struggles to break free of its bonds.&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;            }</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( immediate_break ) {</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;            <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monster_8cpp.html#a09c667a72022d7e0ee0b851560831e04">effect_tied</a> );</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a2881507933646bca97ef83c7112595ac">tied_item</a> ) {</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;                <span class="keywordflow">if</span>( u_see_me &amp;&amp; get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_MOVE_EFFECTS&quot;</span> ) ) {</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s easily slips out of its bonds.&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;                }</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;                here.<a class="code" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), *<a class="code" href="classmonster.html#a2881507933646bca97ef83c7112595ac">tied_item</a> );</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;                <a class="code" href="classmonster.html#a2881507933646bca97ef83c7112595ac">tied_item</a>.reset();</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;            }</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a2881507933646bca97ef83c7112595ac">tied_item</a> ) {</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9a1f85e94c05010d1308d67d1d918944e4">broken</a> = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a> * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af346fa78fe3bff4e8e321e9046bc9717">melee_sides</a>, <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( 10000,</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;                                         <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a> * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af346fa78fe3bff4e8e321e9046bc9717">melee_sides</a> * 250 ) ) &gt; 800;</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;                <span class="keywordflow">if</span>( !<a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9a1f85e94c05010d1308d67d1d918944e4">broken</a> ) {</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;                    here.<a class="code" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), *<a class="code" href="classmonster.html#a2881507933646bca97ef83c7112595ac">tied_item</a> );</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;                }</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;                <a class="code" href="classmonster.html#a2881507933646bca97ef83c7112595ac">tied_item</a>.reset();</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;                <span class="keywordflow">if</span>( u_see_me &amp;&amp; get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_MOVE_EFFECTS&quot;</span> ) ) {</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9a1f85e94c05010d1308d67d1d918944e4">broken</a> ) {</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;                        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s snaps the bindings holding it down.&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;                        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s breaks free of the bindings holding it down.&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;                    }</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;                }</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;            }</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;            <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monster_8cpp.html#a09c667a72022d7e0ee0b851560831e04">effect_tied</a> );</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;        }</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    }</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a> ) ) {</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, 40 ) &gt; <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a> * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af346fa78fe3bff4e8e321e9046bc9717">melee_sides</a> * 1.5 ) {</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;            <span class="keywordflow">if</span>( u_see_me &amp;&amp; get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_MOVE_EFFECTS&quot;</span> ) ) {</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s struggles to stand.&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;            }</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;            <span class="keywordflow">if</span>( u_see_me &amp;&amp; get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_MOVE_EFFECTS&quot;</span> ) ) {</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s climbs to its feet!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;            }</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;            <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monster_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a> );</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;        }</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    }</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#aa222d693ccc29efba86a3bb9f18add4e">effect_webbed</a> ) ) {</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a> * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af346fa78fe3bff4e8e321e9046bc9717">melee_sides</a>, 6 * <a class="code" href="classCreature.html#a9689d4816bc2d1204c53c114190fde50">get_effect_int</a>( <a class="code" href="monster_8cpp.html#aa222d693ccc29efba86a3bb9f18add4e">effect_webbed</a> ) ) ) {</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;            <span class="keywordflow">if</span>( u_see_me &amp;&amp; get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_MOVE_EFFECTS&quot;</span> ) ) {</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s breaks free of the webs!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;            }</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;            <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monster_8cpp.html#aa222d693ccc29efba86a3bb9f18add4e">effect_webbed</a> );</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;        }</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    }</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a11d45bc0bc6102e76713dccfc624cbf4">effect_lightsnare</a> ) ) {</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a> * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af346fa78fe3bff4e8e321e9046bc9717">melee_sides</a>, 12 ) ) {</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;            <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monster_8cpp.html#a11d45bc0bc6102e76713dccfc624cbf4">effect_lightsnare</a> );</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;            <span class="keywordflow">if</span>( u_see_me &amp;&amp; get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_MOVE_EFFECTS&quot;</span> ) ) {</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s escapes the light snare!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;            }</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;        }</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    }</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#ae940cd81463820c5f0fc145179c7c386">effect_heavysnare</a> ) ) {</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a> * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af346fa78fe3bff4e8e321e9046bc9717">melee_sides</a> &gt;= 7 ) {</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a> * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af346fa78fe3bff4e8e321e9046bc9717">melee_sides</a>, 32 ) ) {</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;                <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monster_8cpp.html#ae940cd81463820c5f0fc145179c7c386">effect_heavysnare</a> );</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;                here.<a class="code" href="classmap.html#a4417ea41f79e4b624612ae64ebac1d07">spawn_item</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <span class="stringliteral">&quot;rope_6&quot;</span> );</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;                here.<a class="code" href="classmap.html#a4417ea41f79e4b624612ae64ebac1d07">spawn_item</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <span class="stringliteral">&quot;snare_trigger&quot;</span> );</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;                <span class="keywordflow">if</span>( u_see_me &amp;&amp; get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_MOVE_EFFECTS&quot;</span> ) ) {</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s escapes the heavy snare!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;                }</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;            }</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;        }</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    }</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#ac6bddea0c05309bc6d54e962a7dff763">effect_beartrap</a> ) ) {</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a> * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af346fa78fe3bff4e8e321e9046bc9717">melee_sides</a> &gt;= 18 ) {</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a> * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af346fa78fe3bff4e8e321e9046bc9717">melee_sides</a>, 200 ) ) {</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;                <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monster_8cpp.html#ac6bddea0c05309bc6d54e962a7dff763">effect_beartrap</a> );</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;                <span class="keywordflow">if</span>( u_see_me &amp;&amp; get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_MOVE_EFFECTS&quot;</span> ) ) {</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s escapes the bear trap!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;                }</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;            }</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;        }</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    }</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a309e3746ea5d262a99d79a007dcd8478">effect_crushed</a> ) ) {</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a> * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af346fa78fe3bff4e8e321e9046bc9717">melee_sides</a>, 100 ) ) {</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;            <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monster_8cpp.html#a309e3746ea5d262a99d79a007dcd8478">effect_crushed</a> );</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;            <span class="keywordflow">if</span>( u_see_me &amp;&amp; get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_MOVE_EFFECTS&quot;</span> ) ) {</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s frees itself from the rubble!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;            }</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;        }</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    }</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a42c1cc2d85db10f1c435f9d1c15739ee">effect_worked_on</a> ) ) {</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    }</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160; </div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <span class="comment">// If we ever get more effects that force movement on success this will need to be reworked to</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;    <span class="comment">// only trigger success effects if /all/ rolls succeed</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#ad6ab53abeb2f3ee43a7a05f378f58952">effect_in_pit</a> ) ) {</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, 40 ) &gt; <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a> * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af346fa78fe3bff4e8e321e9046bc9717">melee_sides</a> ) {</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;            <span class="keywordflow">if</span>( u_see_me &amp;&amp; get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_MOVE_EFFECTS&quot;</span> ) ) {</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s escapes the pit!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;            }</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;            <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monster_8cpp.html#ad6ab53abeb2f3ee43a7a05f378f58952">effect_in_pit</a> );</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;        }</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    }</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#aed2af9ad3e8abd06b3c3c4f1adaf607e">has_effect_with_flag</a>( <a class="code" href="monster_8cpp.html#ab41f4e77a586e85f347f7151266b9dd5">json_flag_GRAB</a> ) ) {</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;        <span class="comment">// Pretty hacky, but monsters have no stats</span></div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;        <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;        <a class="code" href="classcreature__tracker.html">creature_tracker</a> &amp;creatures = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>();</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;        <span class="keyword">const</span> <a class="code" href="classtripoint__range.html">tripoint_range&lt;tripoint&gt;</a> &amp;surrounding = here.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 1, 0 );</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classeffect.html">effect</a> &amp;<a class="code" href="structgrab.html">grab</a> : <a class="code" href="classCreature.html#a952f5a3103775159e193c6ee4e60979b">get_effects_with_flag</a>( <a class="code" href="monster_8cpp.html#ab41f4e77a586e85f347f7151266b9dd5">json_flag_GRAB</a> ) ) {</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;            <span class="comment">// Is our grabber around?</span></div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;            <a class="code" href="classmonster.html">monster</a> *grabber = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> loc : surrounding ) {</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;                <a class="code" href="classmonster.html">monster</a> *mon = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>&lt;<a class="code" href="classmonster.html">monster</a>&gt;( loc );</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;                <span class="keywordflow">if</span>( mon &amp;&amp; mon-&gt;<a class="code" href="classCreature.html#aed2af9ad3e8abd06b3c3c4f1adaf607e">has_effect_with_flag</a>( <a class="code" href="monster_8cpp.html#a2724a97ce27ac9050939a55314eab590">json_flag_GRAB_FILTER</a> ) ) {</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;                    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb">debugmode::DF_MATTACK</a>, <span class="stringliteral">&quot;Grabber %s found&quot;</span>, mon-&gt;<a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;                    grabber = mon;</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;                }</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;            }</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160; </div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;            <span class="keywordflow">if</span>( grabber == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;                <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="structgrab.html">grab</a>.get_id() );</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;                <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb">debugmode::DF_MATTACK</a>, <span class="stringliteral">&quot;Orphan grab found and removed&quot;</span> );</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;                <span class="keywordflow">if</span>( u_see_me &amp;&amp; get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_MOVE_EFFECTS&quot;</span> ) ) {</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s is no longer grabbed!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;                }</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;            }</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="classmonster.html">monster</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a575a59af47aec8bf8bfb9021eb4dddf5">melee_skill</a> + <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a0ac5f04d4b2bfeec1ef9db873629f96a">melee_damage</a>.<a class="code" href="structdamage__instance.html#a96f6f6d008ed8744ce549cefcfec3951">total_damage</a>();</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;            <span class="keywordtype">int</span> grab_str = <a class="code" href="classCreature.html#a9689d4816bc2d1204c53c114190fde50">get_effect_int</a>( <a class="code" href="structgrab.html">grab</a>.get_id() );</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;            <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>, <span class="stringliteral">&quot;%s attempting to break grab %s, success %d in intensity %d&quot;</span>,</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;                           <a class="code" href="classmonster.html#ad4fba0b9aea36097d8b972e05e66d914">get_name</a>(), <a class="code" href="structgrab.html">grab</a>.get_id().c_str(), <a class="code" href="classmonster.html">monster</a>, grabber );</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( <a class="code" href="classmonster.html">monster</a>, grab_str ) ) {</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;                <span class="keywordflow">if</span>( u_see_me &amp;&amp; get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_MOVE_EFFECTS&quot;</span> ) ) {</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s breaks free from the %s&#39;s grab!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(), grabber-&gt;<a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;                }</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;                <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="structgrab.html">grab</a>.get_id() );</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;            }</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;        }</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    }</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a9689d4816bc2d1204c53c114190fde50"><div class="ttname"><a href="classCreature.html#a9689d4816bc2d1204c53c114190fde50">Creature::get_effect_int</a></div><div class="ttdeci">int get_effect_int(const efftype_id &amp;eff_id, const bodypart_id &amp;bp=bodypart_str_id::NULL_ID()) const</div><div class="ttdoc">Returns the intensity of the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01872">creature.cpp:1872</a></div></div>
<div class="ttc" id="aclassmap_html_a4417ea41f79e4b624612ae64ebac1d07"><div class="ttname"><a href="classmap.html#a4417ea41f79e4b624612ae64ebac1d07">map::spawn_item</a></div><div class="ttdeci">void spawn_item(const tripoint &amp;p, const itype_id &amp;type_id, unsigned quantity=1, int charges=0, const time_point &amp;birthday=calendar::start_of_cataclysm, int damlevel=0, const std::set&lt; flag_id &gt; &amp;flags={}, const std::string &amp;variant=&quot;&quot;, const std::string &amp;faction=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05100">map.cpp:5100</a></div></div>
<div class="ttc" id="aclasstripoint__range_html"><div class="ttname"><a href="classtripoint__range.html">tripoint_range</a></div><div class="ttdef"><b>Definition:</b> <a href="map__iterator_8h_source.html#l00012">map_iterator.h:13</a></div></div>
<div class="ttc" id="aenums_8h_html_a00763863874f01b868849b27ceee73c9a1f85e94c05010d1308d67d1d918944e4"><div class="ttname"><a href="enums_8h.html#a00763863874f01b868849b27ceee73c9a1f85e94c05010d1308d67d1d918944e4">broken</a></div><div class="ttdeci">@ broken</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00417">enums.h:417</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a309e3746ea5d262a99d79a007dcd8478"><div class="ttname"><a href="monster_8cpp.html#a309e3746ea5d262a99d79a007dcd8478">effect_crushed</a></div><div class="ttdeci">static const efftype_id effect_crushed(&quot;crushed&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a42c1cc2d85db10f1c435f9d1c15739ee"><div class="ttname"><a href="monster_8cpp.html#a42c1cc2d85db10f1c435f9d1c15739ee">effect_worked_on</a></div><div class="ttdeci">static const efftype_id effect_worked_on(&quot;worked_on&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a977275180f65ac4ef2bde740f1955669"><div class="ttname"><a href="monster_8cpp.html#a977275180f65ac4ef2bde740f1955669">species_MOLLUSK</a></div><div class="ttdeci">static const species_id species_MOLLUSK(&quot;MOLLUSK&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_aa8928856b5d4f47850b52f0354061116"><div class="ttname"><a href="monster_8cpp.html#aa8928856b5d4f47850b52f0354061116">species_FISH</a></div><div class="ttdeci">static const species_id species_FISH(&quot;FISH&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ad6ab53abeb2f3ee43a7a05f378f58952"><div class="ttname"><a href="monster_8cpp.html#ad6ab53abeb2f3ee43a7a05f378f58952">effect_in_pit</a></div><div class="ttdeci">static const efftype_id effect_in_pit(&quot;in_pit&quot;)</div></div>
<div class="ttc" id="amonster_8h_html_a84ab55bd738531d991f877a7650b7fd1a13d4d639667d468eab8c51243acc4802"><div class="ttname"><a href="monster_8h.html#a84ab55bd738531d991f877a7650b7fd1a13d4d639667d468eab8c51243acc4802">MOVEMENT_IMPAIRED</a></div><div class="ttdeci">@ MOVEMENT_IMPAIRED</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00069">monster.h:69</a></div></div>
<div class="ttc" id="astructdamage__instance_html_a96f6f6d008ed8744ce549cefcfec3951"><div class="ttname"><a href="structdamage__instance.html#a96f6f6d008ed8744ce549cefcfec3951">damage_instance::total_damage</a></div><div class="ttdeci">float total_damage() const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00372">damage.cpp:372</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="map_8cpp_source.html#l05177">map::add_item_or_charges()</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="mtype_8h_source.html#l00355">mtype::bodytype</a>, <a class="el" href="enums_8h_source.html#l00417">broken</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="debug_8h_source.html#l00262">debugmode::DF_MATTACK</a>, <a class="el" href="debug_8h_source.html#l00265">debugmode::DF_MONSTER</a>, <a class="el" href="monster_8cpp.html#ac6bddea0c05309bc6d54e962a7dff763">effect_beartrap</a>, <a class="el" href="monster_8h_source.html#l00654">effect_cache</a>, <a class="el" href="monster_8cpp.html#a309e3746ea5d262a99d79a007dcd8478">effect_crushed</a>, <a class="el" href="monster_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="el" href="monster_8cpp.html#ae940cd81463820c5f0fc145179c7c386">effect_heavysnare</a>, <a class="el" href="monster_8cpp.html#ad6ab53abeb2f3ee43a7a05f378f58952">effect_in_pit</a>, <a class="el" href="monster_8cpp.html#a11d45bc0bc6102e76713dccfc624cbf4">effect_lightsnare</a>, <a class="el" href="monster_8cpp.html#a09c667a72022d7e0ee0b851560831e04">effect_tied</a>, <a class="el" href="monster_8cpp.html#aa222d693ccc29efba86a3bb9f18add4e">effect_webbed</a>, <a class="el" href="monster_8cpp.html#a42c1cc2d85db10f1c435f9d1c15739ee">effect_worked_on</a>, <a class="el" href="monster_8h_source.html#l00539">friendly</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="creature_8cpp_source.html#l01872">Creature::get_effect_int()</a>, <a class="el" href="creature_8cpp_source.html#l01808">Creature::get_effects_with_flag()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="monster_8cpp_source.html#l00717">get_name()</a>, <a class="el" href="game_8cpp_source.html#l13812">get_player_view()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="creature_8cpp_source.html#l01792">Creature::has_effect_with_flag()</a>, <a class="el" href="mtype_8cpp_source.html#l00385">mtype::in_species()</a>, <a class="el" href="monster_8cpp.html#ab41f4e77a586e85f347f7151266b9dd5">json_flag_GRAB</a>, <a class="el" href="monster_8cpp.html#a2724a97ce27ac9050939a55314eab590">json_flag_GRAB_FILTER</a>, <a class="el" href="mtype_8h_source.html#l00347">mtype::melee_damage</a>, <a class="el" href="mtype_8h_source.html#l00430">mtype::melee_dice</a>, <a class="el" href="mtype_8h_source.html#l00431">mtype::melee_sides</a>, <a class="el" href="mtype_8h_source.html#l00429">mtype::melee_skill</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="monster_8h_source.html#l00069">MOVEMENT_IMPAIRED</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="map_8cpp_source.html#l10109">map::points_in_radius()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8cpp_source.html#l01722">Creature::remove_effect()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="classviewer.html#a204fe140cdc73d2452fa9a390a32ba29">viewer::sees()</a>, <a class="el" href="map_8cpp_source.html#l05100">map::spawn_item()</a>, <a class="el" href="monster_8cpp.html#aa8928856b5d4f47850b52f0354061116">species_FISH</a>, <a class="el" href="monster_8cpp.html#a977275180f65ac4ef2bde740f1955669">species_MOLLUSK</a>, <a class="el" href="monster_8cpp.html#a478c9c699e4248bf7d25ae31156bf0b7">species_ROBOT</a>, <a class="el" href="monster_8h_source.html#l00529">tied_item</a>, <a class="el" href="damage_8cpp_source.html#l00372">damage_instance::total_damage()</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="calendar_8cpp_source.html#l00784">x_in_y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l00110">leap_actor::call()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, and <a class="el" href="game_8cpp_source.html#l10533">game::walk_move()</a>.</p>

</div>
</div>
<a id="a9e56ec847ba2c6c33f61e3a176747fb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e56ec847ba2c6c33f61e3a176747fb5">&#9670;&nbsp;</a></span>move_special_item_to_inv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::move_special_item_to_inv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03572">3572</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;{</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;    <span class="keywordflow">if</span>( it ) {</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;        <a class="code" href="classmonster.html#a6a50c1ca1b7405a717c95bac530e9e07">add_item</a>( *it );</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;        it.reset();</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;    }</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l03455">add_item()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02742">die()</a>.</p>

</div>
</div>
<a id="ab3c07bd4cb325287741fa2e561168e56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3c07bd4cb325287741fa2e561168e56">&#9670;&nbsp;</a></span>move_to()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::move_to </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>step_on_critter</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>stagger_adjustment</em> = <code>1.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to move to p. </p>
<p>If there's something blocking the movement, such as infinite move costs at the target, an existing NPC or monster, this function simply aborts and does nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Destination of movement </td></tr>
    <tr><td class="paramname">force</td><td>If this is set to true, the movement will happen even if there's currently something, else than a creature, blocking the destination. </td></tr>
    <tr><td class="paramname">step_on_critter</td><td>If this is set to true, the movement will happen even if there's currently a creature blocking the destination.</td></tr>
    <tr><td class="paramname">stagger_adjustment</td><td>is a multiplier for move cost to compensate for staggering.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if movement successful, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l01852">1852</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;{</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> on_ground = !<a class="code" href="classmonster.html#af705eea6e40e12d7866010955602c7b5">digging</a>() &amp;&amp; !<a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>();</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160; </div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> z_move = p.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> != <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>().<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a>;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> going_up = p.<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> &gt; <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>().<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a>;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160; </div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> destination = p;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160; </div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <span class="comment">// This is stair teleportation hackery.</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    <span class="comment">// TODO: Remove this in favor of stair alignment</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <span class="keywordflow">if</span>( going_up ) {</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a589ce1673849a76ea3bf17df3fe84ab3">ter_furn_flag::TFLAG_GOES_UP</a>, <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ) {</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;            destination = <a class="code" href="monmove_8cpp.html#a8d60c9f8582084603277543346b965c2">find_closest_stair</a>( p, <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ab09f2463f4ce060d051439b5535a47e6">ter_furn_flag::TFLAG_GOES_DOWN</a> );</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;        }</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( z_move ) {</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ab09f2463f4ce060d051439b5535a47e6">ter_furn_flag::TFLAG_GOES_DOWN</a>, <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ) {</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;            destination = <a class="code" href="monmove_8cpp.html#a8d60c9f8582084603277543346b965c2">find_closest_stair</a>( p, <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a589ce1673849a76ea3bf17df3fe84ab3">ter_furn_flag::TFLAG_GOES_UP</a> );</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        }</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    }</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160; </div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( p ).<a class="code" href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">part_with_feature</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea563fb2626cff0acc6c8273fef3e3a8d0">VPFLAG_CARGO</a>, <span class="keyword">true</span> ) &amp;&amp; !<a class="code" href="classmonster.html#a04e580433cf344a504468495ba2d1ee3">monster_move_in_vehicle</a>( p ) ) {</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    }</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160; </div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <span class="comment">// Allows climbing monsters to move on terrain with movecost &lt;= 0</span></div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    <a class="code" href="classCreature.html">Creature</a> *critter = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>().<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( destination, <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() );</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac0ec7541a0f28e104d9c691936512481">ter_furn_flag::TFLAG_CLIMBABLE</a>, destination ) ) {</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">impassable</a>( destination ) &amp;&amp; critter == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>() ) {</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                <a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -<a class="code" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">get_speed</a>() );</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_MOVEMENT&quot;</span> ) ) {</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                    <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( *<span class="keyword">this</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %1$s flies over the %2$s.&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(),</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                                            here.<a class="code" href="classmap.html#a09ef3e8c2e6664e3ed98d1e1e18a4b4f">has_flag_furn</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac0ec7541a0f28e104d9c691936512481">ter_furn_flag::TFLAG_CLIMBABLE</a>, p ) ? here.<a class="code" href="classmap.html#a20933e73f539d62c2a10bed22bb9a0c7">furnname</a>( p ) :</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;                                            here.<a class="code" href="classmap.html#a51e32639c8df0c90e0743f929bcf2111">tername</a>( p ) );</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                }</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#ab9288bd726bcf264e3626dfbb7a01e25">climbs</a>() ) {</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;                <a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -<a class="code" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">get_speed</a>() * 1.5 );</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;                <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;                <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_MOVEMENT&quot;</span> ) ) {</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;                    <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( *<span class="keyword">this</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %1$s climbs over the %2$s.&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(),</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;                                            here.<a class="code" href="classmap.html#a09ef3e8c2e6664e3ed98d1e1e18a4b4f">has_flag_furn</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac0ec7541a0f28e104d9c691936512481">ter_furn_flag::TFLAG_CLIMBABLE</a>, p ) ? here.<a class="code" href="classmap.html#a20933e73f539d62c2a10bed22bb9a0c7">furnname</a>( p ) :</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;                                            here.<a class="code" href="classmap.html#a51e32639c8df0c90e0743f929bcf2111">tername</a>( p ) );</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;                }</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;            }</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;        }</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    }</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160; </div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="keywordflow">if</span>( critter != <span class="keyword">nullptr</span> &amp;&amp; !step_on_critter ) {</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    }</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160; </div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <span class="comment">// Make sure that we can move there, unless force is true.</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a> &amp;&amp; !<a class="code" href="classmonster.html#a241bdfccd5d6b2200c0bfd5eca9ce8ab">can_move_to</a>( destination ) ) {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    }</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160; </div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a> ) {</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;        <span class="comment">// This adjustment is to make it so that monster movement speed relative to the player</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        <span class="comment">// is consistent even if the monster stumbles,</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;        <span class="comment">// and the same regardless of the distance measurement mode.</span></div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        <span class="comment">// Note: Keep this as float here or else it will cancel valid moves</span></div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> cost = stagger_adjustment *</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;                           <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( <a class="code" href="classmonster.html#ab9288bd726bcf264e3626dfbb7a01e25">climbs</a>() &amp;&amp;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;                                               here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054af607730a38ff7975c6724b22881e0e58">ter_furn_flag::TFLAG_NO_FLOOR</a>, p ) ? <a class="code" href="classmonster.html#ab370bb6801a47533c44b28894f910702">calc_climb_cost</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(),</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;                                                       destination ) : <a class="code" href="classmonster.html#a98cfa6c825f373b60a0a4021a8dbf750">calc_movecost</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(),</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;                                                               destination ) );</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        <span class="keywordflow">if</span>( cost &gt; 0.0f ) {</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;            <a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="math__parser__func_8h.html#ac9196b0cf8d9dd209db9fc00a69a55f6">std::ceil</a>( cost ) ) );</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;        }</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    }</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160; </div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    <span class="comment">//Check for moving into/out of water</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <span class="keywordtype">bool</span> was_water = <a class="code" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a>;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <span class="keywordtype">bool</span> will_be_water =</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;        on_ground &amp;&amp; (</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;            <span class="comment">// AQUATIC monsters always &quot;swim under&quot; the vehicles, while other swimming monsters are forced to surface</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;            <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a10899530fa212da51fd92b98b0cacdb5">mon_flag_AQUATIC</a> ) || ( <a class="code" href="classmonster.html#a55fd0614c264b7e89a5735270ff6d2c7">can_submerge</a>() &amp;&amp; !here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( destination ) )</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;        ) &amp;&amp; here.<a class="code" href="classmap.html#ab687d9988b59167571f5476882b24206">is_divable</a>( destination );</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160; </div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;LOG_MONSTER_MOVEMENT&quot;</span> ) ) {</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;        <span class="comment">//Birds and other flying creatures flying over the deep water terrain</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;        <span class="keywordflow">if</span>( was_water &amp;&amp; <a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>() ) {</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) ) {</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;                <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( *<span class="keyword">this</span>, <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;A %1$s flies over the %2$s!&quot;</span> ),</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                                        <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(), here.<a class="code" href="classmap.html#a51e32639c8df0c90e0743f929bcf2111">tername</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) );</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;            }</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( was_water &amp;&amp; !will_be_water ) {</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;            <span class="comment">// Use more dramatic messages for swimming monsters</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;            <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( *<span class="keyword">this</span>, <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;                                    <span class="comment">//~ Message when a monster emerges from water</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;                                    <span class="comment">//~ %1$s: monster name, %2$s: leaps/emerges, %3$s: terrain name</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;                                    <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;monster movement&quot;</span>, <span class="stringliteral">&quot;A %1$s %2$s from the %3$s!&quot;</span> ),</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;                                    <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(), <a class="code" href="classmonster.html#a4be04fecf05b13bc290b5b1dcc6b9137">swims</a>() ||</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;                                    <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a10899530fa212da51fd92b98b0cacdb5">mon_flag_AQUATIC</a> ) ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;leaps&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;emerges&quot;</span> ), here.<a class="code" href="classmap.html#a51e32639c8df0c90e0743f929bcf2111">tername</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) );</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !was_water &amp;&amp; will_be_water ) {</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;            <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( *<span class="keyword">this</span>, <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;monster movement&quot;</span>,</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;                                    <span class="comment">//~ Message when a monster enters water</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;                                    <span class="comment">//~ %1$s: monster name, %2$s: dives/sinks, %3$s: terrain name</span></div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;                                    <span class="stringliteral">&quot;A %1$s %2$s into the %3$s!&quot;</span> ),</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;                                    <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(), <a class="code" href="classmonster.html#a4be04fecf05b13bc290b5b1dcc6b9137">swims</a>() ||</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;                                    <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a10899530fa212da51fd92b98b0cacdb5">mon_flag_AQUATIC</a> ) ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;dives&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;sinks&quot;</span> ), here.<a class="code" href="classmap.html#a51e32639c8df0c90e0743f929bcf2111">tername</a>( destination ) );</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;        }</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    }</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160; </div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    <a class="code" href="classoptional__vpart__position.html">optional_vpart_position</a> vp_orig = here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <span class="keywordflow">if</span>( vp_orig ) {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        vp_orig-&gt;vehicle().invalidate_mass();</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    }</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160; </div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    <a class="code" href="classCreature.html#ac16dcdb688f6f47c594c98c83528a670">setpos</a>( destination );</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <a class="code" href="classmonster.html#ab7f8b49829445e6663e273473841fc22">footsteps</a>( destination );</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    <a class="code" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a> = will_be_water;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    <a class="code" href="classoptional__vpart__position.html">optional_vpart_position</a> vp_dest = here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( destination );</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <span class="keywordflow">if</span>( vp_dest ) {</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;        vp_dest-&gt;vehicle().invalidate_mass();</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    }</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;        <span class="comment">//Hallucinations don&#39;t do any of the stuff after this point</span></div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    }</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160; </div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a03729ff11aa021aad1751ad38ed85c81">ter_furn_flag::TFLAG_UNSTABLE</a>, destination ) &amp;&amp;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        on_ground &amp;&amp; !here.<a class="code" href="classmap.html#a5ee9fe3a08892870a0574b8e1ab4e6b0">has_vehicle_floor</a>( destination ) ) {</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;        <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monmove_8cpp.html#aa3320a370fe1f7f1cf6e14918ca20358">effect_bouldering</a>, 1_turns, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#aa3320a370fe1f7f1cf6e14918ca20358">effect_bouldering</a> ) ) {</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monmove_8cpp.html#aa3320a370fe1f7f1cf6e14918ca20358">effect_bouldering</a> );</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    }</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160; </div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a516c0764134cc86b57297811520395f7">has_flag_ter_or_furn</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a069663dd0b045b0a7e5268c906c5790f">ter_furn_flag::TFLAG_NO_SIGHT</a>, destination ) &amp;&amp; on_ground ) {</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;        <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monmove_8cpp.html#af079f6d5681dabcbc1c4ee804c0ba556">effect_no_sight</a>, 1_turns, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#af079f6d5681dabcbc1c4ee804c0ba556">effect_no_sight</a> ) ) {</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;        <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monmove_8cpp.html#af079f6d5681dabcbc1c4ee804c0ba556">effect_no_sight</a> );</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    }</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160; </div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <span class="keywordflow">if</span>( !here.<a class="code" href="classmap.html#a5ee9fe3a08892870a0574b8e1ab4e6b0">has_vehicle_floor</a>( destination ) ) {</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">size</a> != <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a> &amp;&amp; on_ground ) {</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> sharp_damage = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 1, 10 );</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> rough_damage = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 1, 2 );</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;            <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a28fc0832c9c36a2deaa4f618f42c9c45">ter_furn_flag::TFLAG_SHARP</a>, <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) &amp;&amp; !<a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) &amp;&amp;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;                <a class="code" href="classmonster.html#ab55cbaa78e9a77935dfc63e5c292317b">get_armor_type</a>( <a class="code" href="monmove_8cpp.html#aecd517a9e74b5a5a21f0c75f88f50090">damage_cut</a>, <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ) ) &lt; sharp_damage &amp;&amp; <a class="code" href="classmonster.html#a2801a2f23fcaf2199b904c8bbf9fcab0">get_hp</a>() &gt; sharp_damage ) {</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;                <a class="code" href="classmonster.html#afc6e6f5443145732310dd4901a394b4f">apply_damage</a>( <span class="keyword">nullptr</span>, <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), sharp_damage );</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;            }</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;            <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ae9b0dbad49c1e68f88ba799b1956684f">ter_furn_flag::TFLAG_ROUGH</a>, <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 6 ) &amp;&amp;</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;                <a class="code" href="classmonster.html#ab55cbaa78e9a77935dfc63e5c292317b">get_armor_type</a>( <a class="code" href="monmove_8cpp.html#aecd517a9e74b5a5a21f0c75f88f50090">damage_cut</a>, <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ) ) &lt; rough_damage &amp;&amp; <a class="code" href="classmonster.html#a2801a2f23fcaf2199b904c8bbf9fcab0">get_hp</a>() &gt; rough_damage ) {</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;                <a class="code" href="classmonster.html#afc6e6f5443145732310dd4901a394b4f">apply_damage</a>( <span class="keyword">nullptr</span>, <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), rough_damage );</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;            }</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;        }</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        here.<a class="code" href="classmap.html#ae0dae45aeed1b7221d318c0a36abca5b">creature_on_trap</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#af033816139df1dfa154c27b199b51da6">is_dead</a>() ) {</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        }</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    }</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    <span class="keywordflow">if</span>( !will_be_water &amp;&amp; ( <a class="code" href="classmonster.html#a22e929800e08d5458140ec4dbaad53a5">digs</a>() || <a class="code" href="classmonster.html#a14e16a6d2e0a675a85b8794c8f5114cf">can_dig</a>() ) ) {</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;        <a class="code" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a> = here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aaebe86ebda0571101f8d02ab5f2a888c">ter_furn_flag::TFLAG_DIGGABLE</a>, <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    }</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160; </div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <span class="comment">// Digging creatures leave a trail of churned earth</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    <span class="comment">// They always leave some on their tile, and larger creatures emit some around themselves as well</span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#af705eea6e40e12d7866010955602c7b5">digging</a>() &amp;&amp; here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aaebe86ebda0571101f8d02ab5f2a888c">ter_furn_flag::TFLAG_DIGGABLE</a>, <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ) {</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;        <span class="keywordtype">int</span> factor = 0;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;        <span class="keywordflow">switch</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">size</a> ) {</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a>:</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;                factor = 4;</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a>:</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;                factor = 3;</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a>:</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;                factor = 2;</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aac651433a999fb14f71f6754f0199781">creature_size::num_sizes</a>:</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;ERROR: Invalid Creature size class.&quot;</span> );</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;                factor = 4;</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;        }</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;        here.<a class="code" href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">add_field</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="field__type_8cpp.html#a668009f9a173fd4f4be2b601be4a1f63">fd_churned_earth</a>, 2 );</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;dest : here.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 1, 0 ) ) {</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;            <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aaebe86ebda0571101f8d02ab5f2a888c">ter_furn_flag::TFLAG_DIGGABLE</a>, dest ) &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( factor ) ) {</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;                here.<a class="code" href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">add_field</a>( dest, <a class="code" href="field__type_8cpp.html#a668009f9a173fd4f4be2b601be4a1f63">fd_churned_earth</a>, 2 );</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;            }</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;        }</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    }</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160; </div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="comment">// Acid trail monsters leave... a trail of acid</span></div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a188f898480b93c89a0f5c0763cd8373d">mon_flag_ACIDTRAIL</a> ) ) {</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;        here.<a class="code" href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">add_field</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="field__type_8cpp.html#a58c69cd6c8ba46b692c5ca3fbe4f0ae4">fd_acid</a>, 3 );</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    }</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160; </div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <span class="comment">// Not all acid trail monsters leave as much acid. Every time this monster takes a step, there is a 1/5 chance it will drop a puddle.</span></div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ab04d901f795e5383be19f9bc78e36a2d">mon_flag_SHORTACIDTRAIL</a> ) ) {</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 5 ) ) {</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;            here.<a class="code" href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">add_field</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="field__type_8cpp.html#a58c69cd6c8ba46b692c5ca3fbe4f0ae4">fd_acid</a>, 3 );</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;        }</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    }</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160; </div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a758910f241f118e1f1bbe48a2bc41011">mon_flag_SLUDGETRAIL</a> ) ) {</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;sludge_p : here.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 1 ) ) {</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> fstr = 3 - ( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( sludge_p.x - <a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>() ) + <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( sludge_p.y - <a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>() ) );</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;            <span class="keywordflow">if</span>( fstr &gt;= 2 ) {</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;                here.<a class="code" href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">add_field</a>( sludge_p, <a class="code" href="field__type_8cpp.html#aef9321274b765b7943ca0412b949b373">fd_sludge</a>, fstr );</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;            }</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;        }</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    }</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160; </div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a423bde94101c93a1f67ed5ed8c334a05">mon_flag_SMALLSLUDGETRAIL</a> ) ) {</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) {</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;            here.<a class="code" href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">add_field</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="field__type_8cpp.html#aef9321274b765b7943ca0412b949b373">fd_sludge</a>, 1 );</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;        }</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    }</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160; </div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    <span class="comment">// Don&#39;t leave any kind of liquids on water tiles</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    <span class="keywordflow">if</span>( !here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">ter_furn_flag::TFLAG_SWIMMABLE</a>, destination ) ) {</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a976a9bbc5340ce1473ec88e960fb0f4e">mon_flag_DRIPS_NAPALM</a> ) ) {</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 10 ) ) {</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;                <span class="comment">// if it has more napalm, drop some and reduce ammo in tank</span></div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>[<a class="code" href="monmove_8cpp.html#a43d73ec1734433adc005632647aa155c">itype_pressurized_tank</a>] &gt; 0 ) {</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;                    here.<a class="code" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( <span class="stringliteral">&quot;napalm&quot;</span>, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, 50 ) );</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;                    <a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>[<a class="code" href="monmove_8cpp.html#a43d73ec1734433adc005632647aa155c">itype_pressurized_tank</a>] -= 50;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;                    <span class="comment">// TODO: remove mon_flag_DRIPS_NAPALM flag since no more napalm in tank</span></div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;                    <span class="comment">// Not possible for now since flag check is done on type, not individual monster</span></div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;                }</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;            }</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        }</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#af9b7f4b3884e6ac1b61f21cdcc4fdd57">mon_flag_DRIPS_GASOLINE</a> ) ) {</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 5 ) ) {</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;                <span class="comment">// TODO: use same idea that limits napalm dripping</span></div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;                here.<a class="code" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( <span class="stringliteral">&quot;gasoline&quot;</span> ) );</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;            }</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        }</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    }</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_a09ef3e8c2e6664e3ed98d1e1e18a4b4f"><div class="ttname"><a href="classmap.html#a09ef3e8c2e6664e3ed98d1e1e18a4b4f">map::has_flag_furn</a></div><div class="ttdeci">bool has_flag_furn(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03112">map.cpp:3112</a></div></div>
<div class="ttc" id="aclassmap_html_a20933e73f539d62c2a10bed22bb9a0c7"><div class="ttname"><a href="classmap.html#a20933e73f539d62c2a10bed22bb9a0c7">map::furnname</a></div><div class="ttdeci">std::string furnname(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01888">map.cpp:1888</a></div></div>
<div class="ttc" id="aclassmap_html_a32a9de57ddea3145ca42e6acfde7f3d6"><div class="ttname"><a href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">map::add_field</a></div><div class="ttdeci">bool add_field(const tripoint &amp;p, const field_type_id &amp;type_id, int intensity=INT_MAX, const time_duration &amp;age=0_turns, bool hit_player=true)</div><div class="ttdoc">Add field entry at point, or set intensity if present.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06563">map.cpp:6563</a></div></div>
<div class="ttc" id="aclassmap_html_a516c0764134cc86b57297811520395f7"><div class="ttname"><a href="classmap.html#a516c0764134cc86b57297811520395f7">map::has_flag_ter_or_furn</a></div><div class="ttdeci">bool has_flag_ter_or_furn(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03122">map.cpp:3122</a></div></div>
<div class="ttc" id="aclassmap_html_a51e32639c8df0c90e0743f929bcf2111"><div class="ttname"><a href="classmap.html#a51e32639c8df0c90e0743f929bcf2111">map::tername</a></div><div class="ttdeci">std::string tername(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02340">map.cpp:2340</a></div></div>
<div class="ttc" id="aclassmap_html_ab687d9988b59167571f5476882b24206"><div class="ttname"><a href="classmap.html#ab687d9988b59167571f5476882b24206">map::is_divable</a></div><div class="ttdeci">bool is_divable(const tripoint &amp;p) const</div><div class="ttdoc">Returns whether or not the terrain at the given location can be dived into (by monsters that can swim...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03389">map.cpp:3389</a></div></div>
<div class="ttc" id="aclassmonster_html_a04e580433cf344a504468495ba2d1ee3"><div class="ttname"><a href="classmonster.html#a04e580433cf344a504468495ba2d1ee3">monster::monster_move_in_vehicle</a></div><div class="ttdeci">bool monster_move_in_vehicle(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00135">monmove.cpp:135</a></div></div>
<div class="ttc" id="aclassmonster_html_a98cfa6c825f373b60a0a4021a8dbf750"><div class="ttname"><a href="classmonster.html#a98cfa6c825f373b60a0a4021a8dbf750">monster::calc_movecost</a></div><div class="ttdeci">int calc_movecost(const tripoint &amp;f, const tripoint &amp;t) const</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l01575">monmove.cpp:1575</a></div></div>
<div class="ttc" id="aclassmonster_html_ab370bb6801a47533c44b28894f910702"><div class="ttname"><a href="classmonster.html#ab370bb6801a47533c44b28894f910702">monster::calc_climb_cost</a></div><div class="ttdeci">int calc_climb_cost(const tripoint &amp;f, const tripoint &amp;t) const</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l01629">monmove.cpp:1629</a></div></div>
<div class="ttc" id="aclassmonster_html_ab7f8b49829445e6663e273473841fc22"><div class="ttname"><a href="classmonster.html#ab7f8b49829445e6663e273473841fc22">monster::footsteps</a></div><div class="ttdeci">void footsteps(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l01428">monmove.cpp:1428</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a></div><div class="ttdeci">@ m_warning</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00351">enums.h:351</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a58c69cd6c8ba46b692c5ca3fbe4f0ae4"><div class="ttname"><a href="field__type_8cpp.html#a58c69cd6c8ba46b692c5ca3fbe4f0ae4">fd_acid</a></div><div class="ttdeci">const field_type_str_id fd_acid(&quot;fd_acid&quot;)</div></div>
<div class="ttc" id="afield__type_8cpp_html_a668009f9a173fd4f4be2b601be4a1f63"><div class="ttname"><a href="field__type_8cpp.html#a668009f9a173fd4f4be2b601be4a1f63">fd_churned_earth</a></div><div class="ttdeci">const field_type_str_id fd_churned_earth(&quot;fd_churned_earth&quot;)</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a03729ff11aa021aad1751ad38ed85c81"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a03729ff11aa021aad1751ad38ed85c81">ter_furn_flag::TFLAG_UNSTABLE</a></div><div class="ttdeci">@ TFLAG_UNSTABLE</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a069663dd0b045b0a7e5268c906c5790f"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a069663dd0b045b0a7e5268c906c5790f">ter_furn_flag::TFLAG_NO_SIGHT</a></div><div class="ttdeci">@ TFLAG_NO_SIGHT</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054ae9b0dbad49c1e68f88ba799b1956684f"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ae9b0dbad49c1e68f88ba799b1956684f">ter_furn_flag::TFLAG_ROUGH</a></div><div class="ttdeci">@ TFLAG_ROUGH</div></div>
<div class="ttc" id="amath__parser__func_8h_html_a24f6ac6e06720c7cdf972a6083847132"><div class="ttname"><a href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">abs</a></div><div class="ttdeci">double abs(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00030">math_parser_func.h:30</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_ac9196b0cf8d9dd209db9fc00a69a55f6"><div class="ttname"><a href="math__parser__func_8h.html#ac9196b0cf8d9dd209db9fc00a69a55f6">ceil</a></div><div class="ttdeci">double ceil(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00100">math_parser_func.h:100</a></div></div>
<div class="ttc" id="amonmove_8cpp_html_a43d73ec1734433adc005632647aa155c"><div class="ttname"><a href="monmove_8cpp.html#a43d73ec1734433adc005632647aa155c">itype_pressurized_tank</a></div><div class="ttdeci">static const itype_id itype_pressurized_tank(&quot;pressurized_tank&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_a8d60c9f8582084603277543346b965c2"><div class="ttname"><a href="monmove_8cpp.html#a8d60c9f8582084603277543346b965c2">find_closest_stair</a></div><div class="ttdeci">static tripoint find_closest_stair(const tripoint &amp;near_this, const ter_furn_flag stair_type)</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l01840">monmove.cpp:1840</a></div></div>
<div class="ttc" id="amonmove_8cpp_html_aa3320a370fe1f7f1cf6e14918ca20358"><div class="ttname"><a href="monmove_8cpp.html#aa3320a370fe1f7f1cf6e14918ca20358">effect_bouldering</a></div><div class="ttdeci">static const efftype_id effect_bouldering(&quot;bouldering&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_af079f6d5681dabcbc1c4ee804c0ba556"><div class="ttname"><a href="monmove_8cpp.html#af079f6d5681dabcbc1c4ee804c0ba556">effect_no_sight</a></div><div class="ttdeci">static const efftype_id effect_no_sight(&quot;no_sight&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_a188f898480b93c89a0f5c0763cd8373d"><div class="ttname"><a href="mtype_8cpp.html#a188f898480b93c89a0f5c0763cd8373d">mon_flag_ACIDTRAIL</a></div><div class="ttdeci">mon_flag_id mon_flag_ACIDTRAIL</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00042">mtype.cpp:42</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a423bde94101c93a1f67ed5ed8c334a05"><div class="ttname"><a href="mtype_8cpp.html#a423bde94101c93a1f67ed5ed8c334a05">mon_flag_SMALLSLUDGETRAIL</a></div><div class="ttdeci">mon_flag_id mon_flag_SMALLSLUDGETRAIL</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00149">mtype.cpp:149</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a758910f241f118e1f1bbe48a2bc41011"><div class="ttname"><a href="mtype_8cpp.html#a758910f241f118e1f1bbe48a2bc41011">mon_flag_SLUDGETRAIL</a></div><div class="ttdeci">mon_flag_id mon_flag_SLUDGETRAIL</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00148">mtype.cpp:148</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a976a9bbc5340ce1473ec88e960fb0f4e"><div class="ttname"><a href="mtype_8cpp.html#a976a9bbc5340ce1473ec88e960fb0f4e">mon_flag_DRIPS_NAPALM</a></div><div class="ttdeci">mon_flag_id mon_flag_DRIPS_NAPALM</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00075">mtype.cpp:75</a></div></div>
<div class="ttc" id="amtype_8cpp_html_ab04d901f795e5383be19f9bc78e36a2d"><div class="ttname"><a href="mtype_8cpp.html#ab04d901f795e5383be19f9bc78e36a2d">mon_flag_SHORTACIDTRAIL</a></div><div class="ttdeci">mon_flag_id mon_flag_SHORTACIDTRAIL</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00144">mtype.cpp:144</a></div></div>
<div class="ttc" id="amtype_8cpp_html_af9b7f4b3884e6ac1b61f21cdcc4fdd57"><div class="ttname"><a href="mtype_8cpp.html#af9b7f4b3884e6ac1b61f21cdcc4fdd57">mon_flag_DRIPS_GASOLINE</a></div><div class="ttdeci">mon_flag_id mon_flag_DRIPS_GASOLINE</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00074">mtype.cpp:74</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea563fb2626cff0acc6c8273fef3e3a8d0"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea563fb2626cff0acc6c8273fef3e3a8d0">VPFLAG_CARGO</a></div><div class="ttdeci">@ VPFLAG_CARGO</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00094">veh_type.h:94</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="math__parser__func_8h_source.html#l00030">abs()</a>, <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="map_8cpp_source.html#l06563">map::add_field()</a>, <a class="el" href="map_8cpp_source.html#l05177">map::add_item_or_charges()</a>, <a class="el" href="messages_8cpp_source.html#l01007">add_msg_if_player_sees()</a>, <a class="el" href="monster_8h_source.html#l00582">ammo</a>, <a class="el" href="monster_8cpp_source.html#l02169">apply_damage()</a>, <a class="el" href="monmove_8cpp_source.html#l01629">calc_climb_cost()</a>, <a class="el" href="monmove_8cpp_source.html#l01575">calc_movecost()</a>, <a class="el" href="monster_8cpp_source.html#l01252">can_dig()</a>, <a class="el" href="monmove_8cpp_source.html#l00356">can_move_to()</a>, <a class="el" href="monster_8cpp_source.html#l01230">can_submerge()</a>, <a class="el" href="math__parser__func_8h_source.html#l00100">ceil()</a>, <a class="el" href="monster_8cpp_source.html#l01267">climbs()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="map_8cpp_source.html#l09887">map::creature_on_trap()</a>, <a class="el" href="monmove_8cpp.html#aecd517a9e74b5a5a21f0c75f88f50090">damage_cut</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="monster_8cpp_source.html#l01247">digging()</a>, <a class="el" href="monster_8cpp_source.html#l01257">digs()</a>, <a class="el" href="monmove_8cpp.html#aa3320a370fe1f7f1cf6e14918ca20358">effect_bouldering</a>, <a class="el" href="monmove_8cpp.html#af079f6d5681dabcbc1c4ee804c0ba556">effect_no_sight</a>, <a class="el" href="field__type_8cpp.html#a58c69cd6c8ba46b692c5ca3fbe4f0ae4">fd_acid</a>, <a class="el" href="field__type_8cpp.html#a668009f9a173fd4f4be2b601be4a1f63">fd_churned_earth</a>, <a class="el" href="field__type_8cpp.html#aef9321274b765b7943ca0412b949b373">fd_sludge</a>, <a class="el" href="monmove_8cpp_source.html#l01840">find_closest_stair()</a>, <a class="el" href="monster_8cpp_source.html#l01262">flies()</a>, <a class="el" href="monmove_8cpp_source.html#l01428">footsteps()</a>, <a class="el" href="creature_8h_source.html#l00241">force</a>, <a class="el" href="map_8cpp_source.html#l01888">map::furnname()</a>, <a class="el" href="monster_8cpp_source.html#l02405">get_armor_type()</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="monster_8cpp_source.html#l03748">get_hp()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="creature_8cpp_source.html#l02138">Creature::get_speed()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l03112">map::has_flag_furn()</a>, <a class="el" href="map_8cpp_source.html#l03122">map::has_flag_ter_or_furn()</a>, <a class="el" href="map_8cpp_source.html#l02739">map::has_vehicle_floor()</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">huge</a>, <a class="el" href="map_8cpp_source.html#l02462">map::impassable()</a>, <a class="el" href="monster_8cpp_source.html#l03580">is_dead()</a>, <a class="el" href="map_8cpp_source.html#l03389">map::is_divable()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>, <a class="el" href="monmove_8cpp.html#a43d73ec1734433adc005632647aa155c">itype_pressurized_tank</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">large</a>, <a class="el" href="enums_8h_source.html#l00351">m_warning</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">medium</a>, <a class="el" href="creature_8cpp_source.html#l02008">Creature::mod_moves()</a>, <a class="el" href="mtype_8cpp_source.html#l00042">mon_flag_ACIDTRAIL</a>, <a class="el" href="mtype_8cpp_source.html#l00048">mon_flag_AQUATIC</a>, <a class="el" href="mtype_8cpp_source.html#l00074">mon_flag_DRIPS_GASOLINE</a>, <a class="el" href="mtype_8cpp_source.html#l00075">mon_flag_DRIPS_NAPALM</a>, <a class="el" href="mtype_8cpp_source.html#l00144">mon_flag_SHORTACIDTRAIL</a>, <a class="el" href="mtype_8cpp_source.html#l00148">mon_flag_SLUDGETRAIL</a>, <a class="el" href="mtype_8cpp_source.html#l00149">mon_flag_SMALLSLUDGETRAIL</a>, <a class="el" href="monmove_8cpp_source.html#l00135">monster_move_in_vehicle()</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aac651433a999fb14f71f6754f0199781">num_sizes</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="vehicle_8cpp_source.html#l02698">optional_vpart_position::part_with_feature()</a>, <a class="el" href="translations_8h_source.html#l00092">pgettext</a>, <a class="el" href="map_8cpp_source.html#l10109">map::points_in_radius()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8h_source.html#l00311">Creature::posx()</a>, <a class="el" href="creature_8h_source.html#l00314">Creature::posy()</a>, <a class="el" href="creature_8cpp_source.html#l01722">Creature::remove_effect()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="creature_8cpp_source.html#l00188">Creature::setpos()</a>, <a class="el" href="mtype_8h_source.html#l00407">mtype::size</a>, <a class="el" href="monster_8cpp_source.html#l01272">swims()</a>, <a class="el" href="map_8cpp_source.html#l02340">map::tername()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac0ec7541a0f28e104d9c691936512481">TFLAG_CLIMBABLE</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aaebe86ebda0571101f8d02ab5f2a888c">TFLAG_DIGGABLE</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ab09f2463f4ce060d051439b5535a47e6">TFLAG_GOES_DOWN</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a589ce1673849a76ea3bf17df3fe84ab3">TFLAG_GOES_UP</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054af607730a38ff7975c6724b22881e0e58">TFLAG_NO_FLOOR</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a069663dd0b045b0a7e5268c906c5790f">TFLAG_NO_SIGHT</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ae9b0dbad49c1e68f88ba799b1956684f">TFLAG_ROUGH</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a28fc0832c9c36a2deaa4f618f42c9c45">TFLAG_SHARP</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">TFLAG_SWIMMABLE</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a03729ff11aa021aad1751ad38ed85c81">TFLAG_UNSTABLE</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">tiny</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, <a class="el" href="creature_8h_source.html#l00941">Creature::underwater</a>, <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>, <a class="el" href="veh__type_8h_source.html#l00094">VPFLAG_CARGO</a>, and <a class="el" href="point_8h_source.html#l00134">tripoint::z</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l00465">melee_actor::do_grab()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="game_8cpp_source.html#l10870">game::place_player()</a>, <a class="el" href="monexamine_8cpp_source.html#l00137">anonymous_namespace{monexamine.cpp}::push()</a>, <a class="el" href="monmove_8cpp_source.html#l02094">push_to()</a>, and <a class="el" href="monmove_8cpp_source.html#l02233">stumble()</a>.</p>

</div>
</div>
<a id="a3ff46700c4e8b9527cb331151d7b7c26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ff46700c4e8b9527cb331151d7b7c26">&#9670;&nbsp;</a></span>movement_impaired()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::movement_impaired </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the monster has its movement impaired. </p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02200">2200</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;{</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a04c74718e60016b199e7cdff71d5aa90">effect_cache</a>[<a class="code" href="monster_8h.html#a84ab55bd738531d991f877a7650b7fd1a13d4d639667d468eab8c51243acc4802">MOVEMENT_IMPAIRED</a>];</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00654">effect_cache</a>, and <a class="el" href="monster_8h_source.html#l00069">MOVEMENT_IMPAIRED</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l02094">push_to()</a>.</p>

</div>
</div>
<a id="a7cb9d9786d11c2c0926d3482d3f51ffe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cb9d9786d11c2c0926d3482d3f51ffe">&#9670;&nbsp;</a></span>name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string monster::name </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>quantity</em> = <code>1</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00722">722</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;{</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a> ) {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;monster::name empty type!&quot;</span> );</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        <span class="keywordflow">return</span> std::string();</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    std::string result = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">nname</a>( quantity );</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a7fc9e3a231d3eafe78fa2a296a8ce1f5">nickname</a>.empty() ) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a7fc9e3a231d3eafe78fa2a296a8ce1f5">nickname</a>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a5e50554c4210ec2a15d9ed44e61bcf3a">unique_name</a>.empty() ) {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="comment">//~ %1$s: monster name, %2$s: unique name</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        result = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;unique monster name&quot;</span>, <span class="stringliteral">&quot;%1$s: %2$s&quot;</span> ),</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                                result, <a class="code" href="classmonster.html#a5e50554c4210ec2a15d9ed44e61bcf3a">unique_name</a> );</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#ac18a1fa7e650a4c2d927d666a10f84aa">mission_fused</a>.empty() ) {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <span class="comment">//~ name when a monster fuses with a mission target</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        result = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;fused mission monster&quot;</span>, <span class="stringliteral">&quot;*%s&quot;</span> ), result );</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_a9a8f4ead67d1836e3f4db624533af5aa"><div class="ttname"><a href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">mtype::nname</a></div><div class="ttdeci">std::string nname(unsigned int quantity=1) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00330">mtype.cpp:330</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="monster_8h_source.html#l00549">mission_fused</a>, <a class="el" href="monster_8h_source.html#l00566">nickname</a>, <a class="el" href="mtype_8cpp_source.html#l00330">mtype::nname()</a>, <a class="el" href="translations_8h_source.html#l00092">pgettext</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="monster_8h_source.html#l00564">unique_name</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l00415">mattack::absorb_items()</a>, <a class="el" href="monattack_8cpp_source.html#l04093">mattack::absorb_meat()</a>, <a class="el" href="monattack_8cpp_source.html#l00821">mattack::acid_barf()</a>, <a class="el" href="monmove_8cpp_source.html#l00478">anger_cub_threatened()</a>, <a class="el" href="monmove_8cpp_source.html#l00446">anger_hostile_seen()</a>, <a class="el" href="monmove_8cpp_source.html#l00465">anger_mating_season()</a>, <a class="el" href="monattack_8cpp_source.html#l05040">mattack::bio_op_disarm()</a>, <a class="el" href="monattack_8cpp_source.html#l04962">mattack::bio_op_impale()</a>, <a class="el" href="monattack_8cpp_source.html#l04853">mattack::bio_op_takedown()</a>, <a class="el" href="bionics_8cpp_source.html#l01810">Character::bionics_uninstall_failure()</a>, <a class="el" href="monattack_8cpp_source.html#l04223">mattack::blow_whistle()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00124">talker_monster_const::bodytype()</a>, <a class="el" href="monattack_8cpp_source.html#l01071">mattack::boomer()</a>, <a class="el" href="monattack_8cpp_source.html#l01112">mattack::boomer_glow()</a>, <a class="el" href="mondeath_8cpp_source.html#l00220">mdeath::broken()</a>, <a class="el" href="monattack_8cpp_source.html#l00608">mattack::browse()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00110">leap_actor::call()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00673">melee_actor::call()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l01106">gun_actor::call()</a>, <a class="el" href="iuse_8cpp_source.html#l06517">iuse::camera()</a>, <a class="el" href="iuse_8cpp_source.html#l03225">iuse::can_goo()</a>, <a class="el" href="game_8cpp_source.html#l10223">game::check_safe_mode_allowed()</a>, <a class="el" href="monattack_8cpp_source.html#l03721">mattack::chickenbot()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00164">trapfunc::cot()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00398">trapfunc::crossbow()</a>, <a class="el" href="monattack_8cpp_source.html#l02686">mattack::dance()</a>, <a class="el" href="monattack_8cpp_source.html#l04290">mattack::darkman()</a>, <a class="el" href="monattack_8cpp_source.html#l02439">mattack::depart()</a>, <a class="el" href="monattack_8cpp_source.html#l02313">mattack::dermatik()</a>, <a class="el" href="monattack_8cpp_source.html#l02394">mattack::dermatik_growth()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="monmove_8cpp_source.html#l00849">die_if_drowning()</a>, <a class="el" href="game_8cpp_source.html#l10373">game::disable_robot()</a>, <a class="el" href="mondeath_8cpp_source.html#l00213">mdeath::disappear()</a>, <a class="el" href="monster_8cpp_source.html#l00775">disp_name()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00465">melee_actor::do_grab()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04392">disable_activity_actor::do_turn()</a>, <a class="el" href="monattack_8cpp_source.html#l02726">mattack::dogthing()</a>, <a class="el" href="monattack_8cpp_source.html#l05516">mattack::doot()</a>, <a class="el" href="monattack_8cpp_source.html#l05545">mattack::dsa_drone_scan()</a>, <a class="el" href="monattack_8cpp_source.html#l00544">mattack::eat_carrion()</a>, <a class="el" href="monattack_8cpp_source.html#l00338">mattack::eat_crop()</a>, <a class="el" href="monattack_8cpp_source.html#l00504">mattack::eat_food()</a>, <a class="el" href="iuse_8cpp_source.html#l05858">effects_description_for_creature()</a>, <a class="el" href="iuse_8cpp_source.html#l05497">iuse::einktabletpc()</a>, <a class="el" href="explosion_8cpp_source.html#l00657">explosion_handler::emp_blast()</a>, <a class="el" href="monattack_8cpp_source.html#l04590">mattack::evolve_kill_strike()</a>, <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="iuse_8cpp_source.html#l01918">iuse::extinguisher()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04412">disable_activity_actor::finish()</a>, <a class="el" href="monattack_8cpp_source.html#l03581">mattack::flamethrower()</a>, <a class="el" href="monattack_8cpp_source.html#l04032">mattack::flesh_golem()</a>, <a class="el" href="monattack_8cpp_source.html#l04755">mattack::flesh_tendril()</a>, <a class="el" href="game_8cpp_source.html#l05671">game::forced_door_closing()</a>, <a class="el" href="monattack_8cpp_source.html#l03267">mattack::frag()</a>, <a class="el" href="fungal__effects_8cpp_source.html#l00058">fungal_effects::fungalize()</a>, <a class="el" href="iuse_8cpp_source.html#l00665">iuse::fungicide()</a>, <a class="el" href="monattack_8cpp_source.html#l01900">mattack::fungus()</a>, <a class="el" href="monattack_8cpp_source.html#l01982">mattack::fungus_big_blossom()</a>, <a class="el" href="monattack_8cpp_source.html#l02093">mattack::fungus_bristle()</a>, <a class="el" href="monattack_8cpp_source.html#l01953">mattack::fungus_corporate()</a>, <a class="el" href="monattack_8cpp_source.html#l02179">mattack::fungus_fortify()</a>, <a class="el" href="monattack_8cpp_source.html#l02148">mattack::fungus_growth()</a>, <a class="el" href="monattack_8cpp_source.html#l01967">mattack::fungus_haze()</a>, <a class="el" href="monattack_8cpp_source.html#l02029">mattack::fungus_inject()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00178">talker_monster_const::get_grab_strength()</a>, <a class="el" href="monster_8cpp_source.html#l00717">get_name()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00171">talker_monster_const::get_size()</a>, <a class="el" href="monattack_8cpp_source.html#l00572">mattack::graze()</a>, <a class="el" href="monattack_8cpp_source.html#l05259">grenade_helper()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01498">spell_effect::guilt()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00110">talker_monster_const::has_flag()</a>, <a class="el" href="monster_8cpp_source.html#l01207">has_flag()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00117">talker_monster_const::has_species()</a>, <a class="el" href="monattack_8cpp_source.html#l02647">mattack::jackson()</a>, <a class="el" href="monattack_8cpp_source.html#l05114">mattack::kamikaze()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00263">creature_tracker::kill_marked_for_death()</a>, <a class="el" href="monmove_8cpp_source.html#l02280">knock_back_to()</a>, <a class="el" href="monattack_8cpp_source.html#l04148">mattack::lunge()</a>, <a class="el" href="iuse_8cpp_source.html#l02295">iuse::mace()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04752">basecamp::make_corpse_from_group()</a>, <a class="el" href="monattack_8cpp_source.html#l00314">make_fake_npc()</a>, <a class="el" href="monster_8cpp_source.html#l03413">make_fungus()</a>, <a class="el" href="monster_8cpp_source.html#l01903">melee_attack()</a>, <a class="el" href="game_8cpp_source.html#l04596">game::mon_info_update()</a>, <a class="el" href="monattack_8cpp_source.html#l04693">mattack::mon_leech_evolution()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00173">avatar_action::move()</a>, <a class="el" href="monster_8cpp_source.html#l02205">move_effects()</a>, <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, <a class="el" href="monattack_8cpp_source.html#l03805">mattack::multi_robot()</a>, <a class="el" href="mondeath_8cpp_source.html#l00059">mdeath::normal()</a>, <a class="el" href="monattack_8cpp_source.html#l02844">mattack::nurse_assist()</a>, <a class="el" href="monattack_8cpp_source.html#l02883">mattack::nurse_operate()</a>, <a class="el" href="monmove_8cpp_source.html#l01357">nursebot_operate()</a>, <a class="el" href="monster_8cpp_source.html#l03679">on_hit()</a>, <a class="el" href="monster_8cpp_source.html#l03858">on_load()</a>, <a class="el" href="iuse_8cpp_source.html#l06109">photo_def_for_camera_point()</a>, <a class="el" href="monattack_8cpp_source.html#l03033">mattack::photograph()</a>, <a class="el" href="game_8cpp_source.html#l10870">game::place_player()</a>, <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>, <a class="el" href="monattack_8cpp_source.html#l02409">mattack::plant()</a>, <a class="el" href="monster_8cpp_source.html#l00864">print_info()</a>, <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>, <a class="el" href="monster_8cpp_source.html#l01662">process_triggers()</a>, <a class="el" href="monster_8cpp_source.html#l02627">process_turn()</a>, <a class="el" href="monattack_8cpp_source.html#l00988">mattack::pull_metal_weapon()</a>, <a class="el" href="monmove_8cpp_source.html#l02094">push_to()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00168">creature_tracker::remove()</a>, <a class="el" href="monattack_8cpp_source.html#l01159">mattack::resurrect()</a>, <a class="el" href="monattack_8cpp_source.html#l03218">mattack::rifle()</a>, <a class="el" href="monattack_8cpp_source.html#l01426">mattack::science()</a>, <a class="el" href="explosion_8cpp_source.html#l00645">explosion_handler::scrambler_blast()</a>, <a class="el" href="monattack_8cpp_source.html#l00977">mattack::shocking_reveal()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l01219">gun_actor::shoot()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00496">trapfunc::shotgun()</a>, <a class="el" href="monattack_8cpp_source.html#l00647">mattack::shriek_alert()</a>, <a class="el" href="monattack_8cpp_source.html#l01324">mattack::smash()</a>, <a class="el" href="monattack_8cpp_source.html#l00391">mattack::split()</a>, <a class="el" href="monattack_8cpp_source.html#l00276">sting_shoot()</a>, <a class="el" href="monattack_8cpp_source.html#l05399">mattack::stretch_attack()</a>, <a class="el" href="monmove_8cpp_source.html#l02233">stumble()</a>, <a class="el" href="monattack_8cpp_source.html#l03327">mattack::tankgun()</a>, <a class="el" href="monattack_8cpp_source.html#l03173">mattack::taze()</a>, <a class="el" href="monattack_8cpp_source.html#l04713">mattack::tindalos_teleport()</a>, <a class="el" href="monattack_8cpp_source.html#l02790">mattack::triffid_growth()</a>, <a class="el" href="character__escape_8cpp_source.html#l00181">Character::try_remove_grab()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l01171">gun_actor::try_target()</a>, <a class="el" href="bionics_8cpp_source.html#l02214">Character::uninstall_bionic()</a>, <a class="el" href="monattack_8cpp_source.html#l03930">mattack::upgrade()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00902">place_monster_iuse::use()</a>, <a class="el" href="monattack_8cpp_source.html#l01755">mattack::vine()</a>, <a class="el" href="suffer_8cpp_source.html#l00316">suffer::while_grabbed()</a>, <a class="el" href="mondefense_8cpp_source.html#l00044">mdefense::zapback()</a>, and <a class="el" href="monattack_8cpp_source.html#l05474">mattack::zombie_fuse()</a>.</p>

</div>
</div>
<a id="a0b115a9b93d5cd2f4f53a849aac6cfa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b115a9b93d5cd2f4f53a849aac6cfa9">&#9670;&nbsp;</a></span>name_with_armor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string monster::name_with_armor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00745">745</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;{</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    std::string <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a> ) ) {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;carapace&quot;</span> );</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#adaa52641aaea718721dc2fd611ed5831">material_veggy</a> ) ) {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;thick bark&quot;</span> );</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#aa83f04c09d26764216682c3f99031335">material_bone</a> ) ) {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;exoskeleton&quot;</span> );</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#a20136c47b45ab5d735760a8a5853f1b3">material_flesh</a> ) || <a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#a13777fde4af6be894eb371bdc5cf6439">material_hflesh</a> ) ) {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;thick hide&quot;</span> );</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#a770eb7c8ac46ca214eafc8a3778dc4be">material_iron</a> ) || <a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#a6cda9e7cd9c37d3822410cf6280babdf">material_steel</a> ) ) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;armor plating&quot;</span> );</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) ) {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;dense jelly mass&quot;</span> );</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;armor&quot;</span> );</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a39eb4b84c51b6934941230cd1979b7d0">effect_monster_armor</a> ) &amp;&amp; !<a class="code" href="classmonster.html#a275d73e1bf3d08e2ea1a0704ac898f7e">inv</a>.empty() ) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;armor : <a class="code" href="classmonster.html#a275d73e1bf3d08e2ea1a0704ac898f7e">inv</a> ) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;            <span class="keywordflow">if</span>( armor.is_pet_armor( <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;wearing %1$s&quot;</span> ), armor.tname( 1 ) );</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        }</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    }</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;}</div>
<div class="ttc" id="amonster_8cpp_html_a770eb7c8ac46ca214eafc8a3778dc4be"><div class="ttname"><a href="monster_8cpp.html#a770eb7c8ac46ca214eafc8a3778dc4be">material_iron</a></div><div class="ttdeci">static const material_id material_iron(&quot;iron&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="monster_8cpp.html#a39eb4b84c51b6934941230cd1979b7d0">effect_monster_armor</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="monster_8h_source.html#l00524">inv</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">LIQUID</a>, <a class="el" href="monster_8cpp_source.html#l01304">made_of()</a>, <a class="el" href="monster_8cpp.html#aa83f04c09d26764216682c3f99031335">material_bone</a>, <a class="el" href="monster_8cpp.html#a20136c47b45ab5d735760a8a5853f1b3">material_flesh</a>, <a class="el" href="monster_8cpp.html#a13777fde4af6be894eb371bdc5cf6439">material_hflesh</a>, <a class="el" href="monster_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a>, <a class="el" href="monster_8cpp.html#a770eb7c8ac46ca214eafc8a3778dc4be">material_iron</a>, <a class="el" href="monster_8cpp.html#a6cda9e7cd9c37d3822410cf6280babdf">material_steel</a>, <a class="el" href="monster_8cpp.html#adaa52641aaea718721dc2fd611ed5831">material_veggy</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00784">skin_name()</a>.</p>

</div>
</div>
<a id="af6d05a3d7157530aba98073fd5166607"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6d05a3d7157530aba98073fd5166607">&#9670;&nbsp;</a></span>next_upgrade_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int monster::next_upgrade_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Normal upgrades. </p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00431">431</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;{</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ac5d26fd8f0685f847029c3d34a0a7a17">age_grow</a> &gt; 0 ) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ac5d26fd8f0685f847029c3d34a0a7a17">age_grow</a>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> scaled_half_life = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9e9e707bf8f83b24296e21b6eaa414a2">half_life</a> * get_option&lt;float&gt;( <span class="stringliteral">&quot;MONSTER_UPGRADE_FACTOR&quot;</span> );</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">day</a> = 1; <span class="comment">// 1 day of guaranteed evolve time</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="monster_8cpp.html#abb54d4ac621327475af51ae74da9ca47">UPGRADE_MAX_ITERS</a>; i++ ) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">day</a> += <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, scaled_half_life );</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">day</a>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">day</a> += scaled_half_life;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">// didn&#39;t manage to upgrade, shouldn&#39;t ever then</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="classmonster.html#a62679e1efa30cbc49d0ac34082171ed5">upgrades</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div>
<div class="ttc" id="acalendar_8h_html_a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8"><div class="ttname"><a href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">clipped_unit::day</a></div><div class="ttdeci">@ day</div></div>
<div class="ttc" id="amonster_8cpp_html_abb54d4ac621327475af51ae74da9ca47"><div class="ttname"><a href="monster_8cpp.html#abb54d4ac621327475af51ae74da9ca47">UPGRADE_MAX_ITERS</a></div><div class="ttdeci">static constexpr int UPGRADE_MAX_ITERS</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00202">monster.cpp:202</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00467">mtype::age_grow</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">day</a>, <a class="el" href="mtype_8h_source.html#l00466">mtype::half_life</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, <a class="el" href="monster_8cpp_source.html#l00202">UPGRADE_MAX_ITERS</a>, and <a class="el" href="monster_8h_source.html#l00622">upgrades</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00451">try_upgrade()</a>.</p>

</div>
</div>
<a id="a3078e262a3a130efa9985bfa04a26bd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3078e262a3a130efa9985bfa04a26bd8">&#9670;&nbsp;</a></span>nursebot_operate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::nursebot_operate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>dragged_foe</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l01357">1357</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;{</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="comment">// No dragged foe, nothing to do.</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <span class="keywordflow">if</span>( dragged_foe == <span class="keyword">nullptr</span> || !<a class="code" href="classmonster.html#a1bfdcc078e39c06a1cf7047803610204">has_dest</a>() ) {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    }</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160; </div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="comment">// Nothing to do if they can&#39;t operate, or they don&#39;t think they&#39;re dragging.</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordflow">if</span>( !( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a3782082ac316cac7f189d089b3b16000">has_special_attack</a>( <span class="stringliteral">&quot;OPERATE&quot;</span> ) &amp;&amp; <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#a692b3825de327022efb956655bf5e441">effect_dragging</a> ) ) ) {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    }</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160; </div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <a class="code" href="classcreature__tracker.html">creature_tracker</a> &amp;creatures = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>();</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>(), <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() ) == 1 &amp;&amp;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        !here.<a class="code" href="classmap.html#a09ef3e8c2e6664e3ed98d1e1e18a4b4f">has_flag_furn</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a5b189c7326ca1246de45a1579b907d5e">ter_furn_flag::TFLAG_AUTODOC_COUCH</a>, here.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() ) ) &amp;&amp;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#ab8dd6142a7131d3af944e532002ac9e3">effect_operating</a> ) ) {</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        <span class="keywordflow">if</span>( dragged_foe-&gt;<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#ae326c5e4da7f23bc429d04d215dd7c9d">effect_grabbed</a> ) &amp;&amp; !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#a8bbfe91713ddfaa4c647fa68f9734e34">effect_countdown</a> ) &amp;&amp;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            ( creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() ) == <span class="keyword">nullptr</span> ||</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;              creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() ) == dragged_foe ) ) {</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %1$s slowly but firmly puts %2$s down onto the Autodoc couch.&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(),</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                     dragged_foe-&gt;<a class="code" href="classCharacter.html#a1e1996b6d6fc0a86d917cd155e1656d8">disp_name</a>() );</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160; </div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            dragged_foe-&gt;<a class="code" href="classCreature.html#a5e2f65bf9e0412193ebaaf60d02cc0cc">move_to</a>( <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() );</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160; </div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;            <span class="comment">// There&#39;s still time to get away</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;            <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monmove_8cpp.html#a8bbfe91713ddfaa4c647fa68f9734e34">effect_countdown</a>, 2_turns );</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s produces a syringe full of some translucent liquid.&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() ) != <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#a692b3825de327022efb956655bf5e441">effect_dragging</a> ) ) {</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            <a class="code" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 8, <a class="code" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ab761780ade49c11f48702cf2b0e3b0cd">sounds::sound_t::electronic_speech</a>,</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                           <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                               <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;a soft robotic voice say, \&quot;Please step away from the Autodoc, this patient needs immediate care.\&quot;&quot;</span> ) ) );</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;            <span class="comment">// TODO: Make it able to push NPC/player</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;            <a class="code" href="classmonster.html#a1a829284017aa69618d25208a53061d1">push_to</a>( here.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() ), 4, 0 );</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        }</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    }</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a1ba25d990e8532dd2b0331bfc6cc694c">get_effect_dur</a>( <a class="code" href="monmove_8cpp.html#a8bbfe91713ddfaa4c647fa68f9734e34">effect_countdown</a> ) == 1_turns &amp;&amp; !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#ab8dd6142a7131d3af944e532002ac9e3">effect_operating</a> ) ) {</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        <span class="keywordflow">if</span>( dragged_foe-&gt;<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#ae326c5e4da7f23bc429d04d215dd7c9d">effect_grabbed</a> ) ) {</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160; </div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;            <span class="keyword">const</span> <a class="code" href="classbionic__collection.html">bionic_collection</a> &amp;collec = *dragged_foe-&gt;<a class="code" href="classCharacter.html#a388bca3ef975bd265c67df45bb280bee">my_bionics</a>;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;            <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( !collec.empty() );</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> index = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, collec.size() - 1 );</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;            <span class="keyword">const</span> <a class="code" href="structbionic.html">bionic</a> *<span class="keyword">const</span> target_cbm = &amp;collec[index];</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;            <span class="keyword">const</span> <a class="code" href="structbionic.html">bionic</a> &amp;real_target =</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                target_cbm-&gt;<a class="code" href="structbionic.html#ad3b2c3960fdbb6492918ecc8f911e0dd">is_included</a>()</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                ? **dragged_foe-&gt;<a class="code" href="classCharacter.html#af0e2967a36e27b1bb3774cf0eeb51c72">find_bionic_by_uid</a>( target_cbm-&gt;<a class="code" href="structbionic.html#a9255cc84ea78c25ee01fe4aff4de1624">get_parent_uid</a>() )</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                : *target_cbm;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160; </div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;            <span class="comment">//8 intelligence*4 + 8 first aid*4 + 3 computer *3 + 4 electronic*1 = 77</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> adjusted_skill = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( 77 ) - <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( 40 ),</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                                         <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( 77 ) - <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( 77 ) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( 10.0 ) );</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160; </div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            dragged_foe-&gt;<a class="code" href="classCharacter.html#a597968eba450c923b56a1c9cac1676dc">cancel_activity</a>();</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;            <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCharacter.html#a6091baffbbf96adb27c6ab844960b1ff">uninstall_bionic</a>( real_target, *<span class="keyword">this</span>, *dragged_foe, adjusted_skill );</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160; </div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;            <span class="comment">// Remove target grab</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classeffect.html">effect</a> &amp;eff : dragged_foe-&gt;<a class="code" href="classCreature.html#a952f5a3103775159e193c6ee4e60979b">get_effects_with_flag</a>( <a class="code" href="monmove_8cpp.html#ab41f4e77a586e85f347f7151266b9dd5">json_flag_GRAB</a> ) ) {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                dragged_foe-&gt;<a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( eff.get_id() );</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;            }</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;            <span class="comment">// And our own grab filters</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classeffect.html">effect</a> &amp;eff : <a class="code" href="classCreature.html#a952f5a3103775159e193c6ee4e60979b">get_effects_with_flag</a>( <a class="code" href="monmove_8cpp.html#a2724a97ce27ac9050939a55314eab590">json_flag_GRAB_FILTER</a> ) ) {</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( eff.get_id() );</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;            }</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;            <a class="code" href="classmonster.html#ab00d759ebe29170bf2a166dd155bfeb2">dragged_foe_id</a> = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4abf21153f2489c6f52bf69def405456ad">character_id</a>();</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160; </div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        }</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    }</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;}</div>
<div class="ttc" id="acata__assert_8h_html_abb2ca9fce6a171932c05748ecc5df5bb"><div class="ttname"><a href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a></div><div class="ttdeci">#define cata_assert(expression)</div><div class="ttdef"><b>Definition:</b> <a href="cata__assert_8h_source.html#l00036">cata_assert.h:36</a></div></div>
<div class="ttc" id="aclassCharacter_html_a1e1996b6d6fc0a86d917cd155e1656d8"><div class="ttname"><a href="classCharacter.html#a1e1996b6d6fc0a86d917cd155e1656d8">Character::disp_name</a></div><div class="ttdeci">std::string disp_name(bool possessive=false, bool capitalize_first=false) const override</div><div class="ttdoc">Returns either &quot;you&quot; or the player's name.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00829">character.cpp:829</a></div></div>
<div class="ttc" id="aclassCharacter_html_a388bca3ef975bd265c67df45bb280bee"><div class="ttname"><a href="classCharacter.html#a388bca3ef975bd265c67df45bb280bee">Character::my_bionics</a></div><div class="ttdeci">pimpl&lt; bionic_collection &gt; my_bionics</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02723">character.h:2723</a></div></div>
<div class="ttc" id="aclassCharacter_html_a597968eba450c923b56a1c9cac1676dc"><div class="ttname"><a href="classCharacter.html#a597968eba450c923b56a1c9cac1676dc">Character::cancel_activity</a></div><div class="ttdeci">void cancel_activity()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08983">character.cpp:8983</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6091baffbbf96adb27c6ab844960b1ff"><div class="ttname"><a href="classCharacter.html#a6091baffbbf96adb27c6ab844960b1ff">Character::uninstall_bionic</a></div><div class="ttdeci">bool uninstall_bionic(const bionic &amp;bio, Character &amp;installer, bool autodoc=false, int skill_level=-1)</div><div class="ttdoc">Initialize all the values needed to start the operation player_activity.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8cpp_source.html#l02117">bionics.cpp:2117</a></div></div>
<div class="ttc" id="aclassCharacter_html_af0e2967a36e27b1bb3774cf0eeb51c72"><div class="ttname"><a href="classCharacter.html#af0e2967a36e27b1bb3774cf0eeb51c72">Character::find_bionic_by_uid</a></div><div class="ttdeci">std::optional&lt; bionic * &gt; find_bionic_by_uid(bionic_uid bio_uid) const</div><div class="ttdoc">Finds the bionic with specified UID.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8cpp_source.html#l02810">bionics.cpp:2810</a></div></div>
<div class="ttc" id="aclassCreature_html_a1ba25d990e8532dd2b0331bfc6cc694c"><div class="ttname"><a href="classCreature.html#a1ba25d990e8532dd2b0331bfc6cc694c">Creature::get_effect_dur</a></div><div class="ttdeci">time_duration get_effect_dur(const efftype_id &amp;eff_id, const bodypart_id &amp;bp=bodypart_str_id::NULL_ID()) const</div><div class="ttdoc">Returns the duration of the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01863">creature.cpp:1863</a></div></div>
<div class="ttc" id="aclassbionic__collection_html"><div class="ttname"><a href="classbionic__collection.html">bionic_collection</a></div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00266">bionics.h:267</a></div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a5b189c7326ca1246de45a1579b907d5e"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a5b189c7326ca1246de45a1579b907d5e">ter_furn_flag::TFLAG_AUTODOC_COUCH</a></div><div class="ttdeci">@ TFLAG_AUTODOC_COUCH</div></div>
<div class="ttc" id="amonmove_8cpp_html_a2724a97ce27ac9050939a55314eab590"><div class="ttname"><a href="monmove_8cpp.html#a2724a97ce27ac9050939a55314eab590">json_flag_GRAB_FILTER</a></div><div class="ttdeci">static const flag_id json_flag_GRAB_FILTER(&quot;GRAB_FILTER&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_a8bbfe91713ddfaa4c647fa68f9734e34"><div class="ttname"><a href="monmove_8cpp.html#a8bbfe91713ddfaa4c647fa68f9734e34">effect_countdown</a></div><div class="ttdeci">static const efftype_id effect_countdown(&quot;countdown&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_ab41f4e77a586e85f347f7151266b9dd5"><div class="ttname"><a href="monmove_8cpp.html#ab41f4e77a586e85f347f7151266b9dd5">json_flag_GRAB</a></div><div class="ttdeci">static const flag_id json_flag_GRAB(&quot;GRAB&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_ab8dd6142a7131d3af944e532002ac9e3"><div class="ttname"><a href="monmove_8cpp.html#ab8dd6142a7131d3af944e532002ac9e3">effect_operating</a></div><div class="ttdeci">static const efftype_id effect_operating(&quot;operating&quot;)</div></div>
<div class="ttc" id="anamespacesounds_html_a6bb79ae1c9c3dcd8c8e0b28c66b0398d"><div class="ttname"><a href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a></div><div class="ttdeci">void sound(const tripoint &amp;p, int vol, sound_t category, const std::string &amp;description, bool ambient=false, const std::string &amp;id=&quot;&quot;, const std::string &amp;variant=&quot;default&quot;)</div><div class="ttdoc">Sound at (p) of intensity (vol)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00318">sounds.cpp:318</a></div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3ab761780ade49c11f48702cf2b0e3b0cd"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ab761780ade49c11f48702cf2b0e3b0cd">sounds::sound_t::electronic_speech</a></div><div class="ttdeci">@ electronic_speech</div></div>
<div class="ttc" id="astructbionic_html"><div class="ttname"><a href="structbionic.html">bionic</a></div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00198">bionics.h:198</a></div></div>
<div class="ttc" id="astructbionic_html_a9255cc84ea78c25ee01fe4aff4de1624"><div class="ttname"><a href="structbionic.html#a9255cc84ea78c25ee01fe4aff4de1624">bionic::get_parent_uid</a></div><div class="ttdeci">bionic_uid get_parent_uid() const</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8cpp_source.html#l03478">bionics.cpp:3478</a></div></div>
<div class="ttc" id="astructbionic_html_ad3b2c3960fdbb6492918ecc8f911e0dd"><div class="ttname"><a href="structbionic.html#ad3b2c3960fdbb6492918ecc8f911e0dd">bionic::is_included</a></div><div class="ttdeci">bool is_included() const</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8cpp_source.html#l03473">bionics.cpp:3473</a></div></div>
<div class="ttc" id="astructmtype_html_a3782082ac316cac7f189d089b3b16000"><div class="ttname"><a href="structmtype.html#a3782082ac316cac7f189d089b3b16000">mtype::has_special_attack</a></div><div class="ttdeci">bool has_special_attack(const std::string &amp;attack_name) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00335">mtype.cpp:335</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="character_8cpp_source.html#l08983">Character::cancel_activity()</a>, <a class="el" href="cata__assert_8h_source.html#l00036">cata_assert</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4abf21153f2489c6f52bf69def405456ad">character_id</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="character_8cpp_source.html#l00829">Character::disp_name()</a>, <a class="el" href="monster_8h_source.html#l00528">dragged_foe_id</a>, <a class="el" href="monmove_8cpp.html#a8bbfe91713ddfaa4c647fa68f9734e34">effect_countdown</a>, <a class="el" href="monmove_8cpp.html#a692b3825de327022efb956655bf5e441">effect_dragging</a>, <a class="el" href="monmove_8cpp.html#ae326c5e4da7f23bc429d04d215dd7c9d">effect_grabbed</a>, <a class="el" href="monmove_8cpp.html#ab8dd6142a7131d3af944e532002ac9e3">effect_operating</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ab761780ade49c11f48702cf2b0e3b0cd">sounds::electronic_speech</a>, <a class="el" href="bionics_8cpp_source.html#l02810">Character::find_bionic_by_uid()</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="monster_8cpp_source.html#l01375">get_dest()</a>, <a class="el" href="creature_8cpp_source.html#l01863">Creature::get_effect_dur()</a>, <a class="el" href="creature_8cpp_source.html#l01808">Creature::get_effects_with_flag()</a>, <a class="el" href="creature_8cpp_source.html#l03232">Creature::get_location()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="bionics_8cpp_source.html#l03478">bionic::get_parent_uid()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="map_8cpp_source.html#l09635">map::getlocal()</a>, <a class="el" href="monster_8cpp_source.html#l01370">has_dest()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="map_8cpp_source.html#l03112">map::has_flag_furn()</a>, <a class="el" href="mtype_8cpp_source.html#l00335">mtype::has_special_attack()</a>, <a class="el" href="bionics_8cpp_source.html#l03473">bionic::is_included()</a>, <a class="el" href="monmove_8cpp.html#ab41f4e77a586e85f347f7151266b9dd5">json_flag_GRAB</a>, <a class="el" href="monmove_8cpp.html#a2724a97ce27ac9050939a55314eab590">json_flag_GRAB_FILTER</a>, <a class="el" href="enums_8h_source.html#l00348">m_bad</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="creature_8cpp_source.html#l00195">Creature::move_to()</a>, <a class="el" href="character_8h_source.html#l02723">Character::my_bionics</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="monmove_8cpp_source.html#l02094">push_to()</a>, <a class="el" href="creature_8cpp_source.html#l01722">Creature::remove_effect()</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="sounds_8cpp_source.html#l00318">sounds::sound()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a5b189c7326ca1246de45a1579b907d5e">TFLAG_AUTODOC_COUCH</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="bionics_8cpp_source.html#l02117">Character::uninstall_bionic()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>.</p>

</div>
</div>
<a id="a63a3ac24a8bfae6331b5bbc2fe7883d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63a3ac24a8bfae6331b5bbc2fe7883d8">&#9670;&nbsp;</a></span>on_dodge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::on_dodge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>difficulty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>training_level</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This creature just dodged an attack - possibly special/ranged attack - from source. </p>
<p>Players should train dodge, monsters may use some special defenses. </p>

<p>Implements <a class="el" href="classCreature.html#addeddc9bebcf52539dd21b4a767d7f11">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03674">3674</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;{</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;    <span class="comment">// Currently does nothing, later should handle faction relations</span></div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa5864ff57cc2915379bb5e644aa8d25a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5864ff57cc2915379bb5e644aa8d25a">&#9670;&nbsp;</a></span>on_hit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::on_hit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>&#160;</td>
          <td class="paramname"><em>bp_hit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>difficulty</em> = <code>INT_MIN</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdealt__projectile__attack.html">dealt_projectile_attack</a> const *&#160;</td>
          <td class="paramname"><em>proj</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This creature just got hit by an attack - possibly special/ranged attack - from source. </p>
<p>Players should train dodge, possibly counter-attack somehow. </p>

<p>Implements <a class="el" href="classCreature.html#a29989737d8bdd693384ee1c193ce7270">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03679">3679</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;{</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;    }</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160; </div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, 100 ) &lt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ab32b846a584f6b94c9ca74f667dd9ce0">def_chance</a> ) ) {</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;        <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a90766c9bb21264c53ed3c97ca031ccf6">sp_defense</a>( *<span class="keyword">this</span>, source, proj );</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;    }</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160; </div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;    <span class="comment">// Adjust anger/morale of nearby monsters, if they have the appropriate trigger and are friendly</span></div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;    <span class="comment">// Keep filtering on the hit monsters&#39; triggers to preserve current functionality</span></div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;    <span class="keywordtype">bool</span> trigger = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a1591b72595720ef740301a72139f13d5">has_anger_trigger</a>( <a class="code" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913abd66b731cd089c3b1692d4fa03cd2cce">mon_trigger::FRIEND_ATTACKED</a> ) ||</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;                   <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a4ffaeffe120b5fe20ecfb1f5764234f8">has_fear_trigger</a>( <a class="code" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913abd66b731cd089c3b1692d4fa03cd2cce">mon_trigger::FRIEND_ATTACKED</a> ) ||</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;                   <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a03912692fa8faeb80dfd1b5fb007408e">has_placate_trigger</a>( <a class="code" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913abd66b731cd089c3b1692d4fa03cd2cce">mon_trigger::FRIEND_ATTACKED</a> );</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160; </div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;    <span class="keywordflow">if</span>( trigger ) {</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">light</a> = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;light_level( <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() );</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;        <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classmonster.html">monster</a> &amp;critter : <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_monsters() ) {</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;            <span class="comment">// Do we actually care about this faction?</span></div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;            <span class="keywordflow">if</span>( critter.faction-&gt;attitude( <a class="code" href="classfaction.html">faction</a> ) != <a class="code" href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0a8baef7717ecdcd96e64dca04ab2b4c97">MFA_FRIENDLY</a> ) {</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;            }</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160; </div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;            <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aa8a67baac3cc72b2f5fbd669894587a0">sees</a>( critter.pos(), <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">light</a> ) ) {</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;                <span class="comment">// Anger trumps fear trumps ennui</span></div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;                <span class="keywordflow">if</span>( critter.type-&gt;has_anger_trigger( <a class="code" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913abd66b731cd089c3b1692d4fa03cd2cce">mon_trigger::FRIEND_ATTACKED</a> ) ) {</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;                    critter.anger += 15;</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;                    <span class="keywordflow">if</span>( source != <span class="keyword">nullptr</span> &amp;&amp; !source-&gt;<a class="code" href="classCreature.html#a07012d6d1998068bef112510c7424374">is_monster</a>() &amp;&amp; !source-&gt;<a class="code" href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">is_fake</a>() ) {</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;                        <span class="comment">// A character attacked our friend</span></div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;                        <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>, <span class="stringliteral">&quot;%s&#39;s character aggro triggered by attacking a friendly %s&quot;</span>,</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;                                       critter.name(), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;                        critter.aggro_character = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;                    }</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( critter.type-&gt;has_fear_trigger( <a class="code" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913abd66b731cd089c3b1692d4fa03cd2cce">mon_trigger::FRIEND_ATTACKED</a> ) ) {</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;                    critter.morale -= 15;</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( critter.type-&gt;has_placate_trigger( <a class="code" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913abd66b731cd089c3b1692d4fa03cd2cce">mon_trigger::FRIEND_ATTACKED</a> ) ) {</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;                    critter.anger -= 15;</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;                }</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;            }</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;        }</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;    }</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;    <span class="keywordflow">if</span>( source != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCharacter.html">Character</a> *attacker = source-&gt;<a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>() ) {</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;            <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a235df1c169577eb7cf43baedc92654ce">families</a>.<a class="code" href="structweakpoint__families.html#ad035a97bb4e111ad235f63a7c58f0959">practice_hit</a>( *attacker );</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;        }</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;    }</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160; </div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;    <a class="code" href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158">check_dead_state</a>();</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;    <span class="comment">// TODO: Faction relations</span></div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;}</div>
<div class="ttc" id="amtype_8h_html_a3bf0d3734009dbabe39a0d9fad3a5913abd66b731cd089c3b1692d4fa03cd2cce"><div class="ttname"><a href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913abd66b731cd089c3b1692d4fa03cd2cce">mon_trigger::FRIEND_ATTACKED</a></div><div class="ttdeci">@ FRIEND_ATTACKED</div></div>
<div class="ttc" id="astructmtype_html_a235df1c169577eb7cf43baedc92654ce"><div class="ttname"><a href="structmtype.html#a235df1c169577eb7cf43baedc92654ce">mtype::families</a></div><div class="ttdeci">weakpoint_families families</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00338">mtype.h:338</a></div></div>
<div class="ttc" id="astructmtype_html_ab32b846a584f6b94c9ca74f667dd9ce0"><div class="ttname"><a href="structmtype.html#ab32b846a584f6b94c9ca74f667dd9ce0">mtype::def_chance</a></div><div class="ttdeci">unsigned int def_chance</div><div class="ttdoc">vision range in total darkness</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00461">mtype.h:461</a></div></div>
<div class="ttc" id="astructweakpoint__families_html_ad035a97bb4e111ad235f63a7c58f0959"><div class="ttname"><a href="structweakpoint__families.html#ad035a97bb4e111ad235f63a7c58f0959">weakpoint_families::practice_hit</a></div><div class="ttdeci">bool practice_hit(Character &amp;learner) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00141">weakpoint.cpp:141</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="creature_8h_source.html#l00274">Creature::as_character()</a>, <a class="el" href="creature_8cpp_source.html#l03067">Creature::check_dead_state()</a>, <a class="el" href="mtype_8h_source.html#l00461">mtype::def_chance</a>, <a class="el" href="debug_8h_source.html#l00265">debugmode::DF_MONSTER</a>, <a class="el" href="mtype_8h_source.html#l00338">mtype::families</a>, <a class="el" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913abd66b731cd089c3b1692d4fa03cd2cce">FRIEND_ATTACKED</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="mtype_8cpp_source.html#l00365">mtype::has_anger_trigger()</a>, <a class="el" href="mtype_8cpp_source.html#l00370">mtype::has_fear_trigger()</a>, <a class="el" href="mtype_8cpp_source.html#l00375">mtype::has_placate_trigger()</a>, <a class="el" href="creature_8cpp_source.html#l01518">Creature::is_fake()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="creature_8h_source.html#l00271">Creature::is_monster()</a>, <a class="el" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">light</a>, <a class="el" href="monfaction_8h_source.html#l00023">MFA_FRIENDLY</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8h_source.html#l00317">Creature::posz()</a>, <a class="el" href="weakpoint_8cpp_source.html#l00141">weakpoint_families::practice_hit()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="map_8cpp_source.html#l07377">map::sees()</a>, <a class="el" href="mtype_8h_source.html#l00295">mtype::sp_defense</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02097">deal_projectile_attack()</a>.</p>

</div>
</div>
<a id="a7665943b7fd94fa6aa4a7389b4199d24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7665943b7fd94fa6aa4a7389b4199d24">&#9670;&nbsp;</a></span>on_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::on_load </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retroactively update monster. </p>
<p>Call this after a preexisting monster has been placed on map. Don't call for monsters that have been freshly created, it may cause the monster to upgrade itself into another monster type. </p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03858">3858</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;{</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;    <a class="code" href="classmonster.html#a63cfaab5c6126ecc3f3c3e966f4bf574">try_upgrade</a>( <span class="keyword">false</span> );</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;    <a class="code" href="classmonster.html#a02e7dee3b3f096d760d7332395ba54f3">try_reproduce</a>();</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;    <a class="code" href="classmonster.html#a5419be03caffc0d80b49a9317beb00cf">try_biosignature</a>();</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;    <a class="code" href="classmonster.html#a82664fe81ce8c11ed9bbd28ef0cfded8">reset_digestion</a>();</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160; </div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;    <span class="comment">//Clean up runaway values for monsters which eat but don&#39;t digest yet.</span></div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a11074efaf5980ef21e67507fb97232a3">amount_eaten</a> &gt; 0 ) {</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#aa37e8c765633b2710dcc31bf2c864b37">mon_flag_EATS</a> ) ) {</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;            <a class="code" href="classmonster.html#aa6e5cda6283d3a6bbf243bafe93ed8d0">digest_food</a>();</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;            <a class="code" href="classmonster.html#a11074efaf5980ef21e67507fb97232a3">amount_eaten</a> = 0;</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;        }</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;    }</div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160; </div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#acff8e2ead205b29d0d81a91ffe150fff">mon_flag_MILKABLE</a> ) ) {</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;        <a class="code" href="classmonster.html#ae054bfde7618d0ff8c7dff70a9e3e392">refill_udders</a>();</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;    }</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160; </div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> dt = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> - <a class="code" href="classCreature.html#a9c0a2f5bc6bb8c450f9eddad749cf407">last_updated</a>;</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;    <a class="code" href="classCreature.html#a9c0a2f5bc6bb8c450f9eddad749cf407">last_updated</a> = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;    <span class="keywordflow">if</span>( dt &lt;= 0_turns ) {</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;    }</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160; </div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> != <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8a889ba3d1d6eb87ca31ce8999c9e6d0">morale</a> ) { <span class="comment">// if works, will put into helper function</span></div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;        <span class="keywordtype">int</span> dt_left_m = to_turns&lt;int&gt;( dt );</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160; </div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> - <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8a889ba3d1d6eb87ca31ce8999c9e6d0">morale</a> ) &gt; 15 ) {</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> adjust_by_m = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( ( dt_left_m / 4 ),</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;                                              ( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> - <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8a889ba3d1d6eb87ca31ce8999c9e6d0">morale</a> ) - 15 ) );</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;            dt_left_m -= adjust_by_m * 4;</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;            <span class="keywordflow">if</span>( morale &lt; type-&gt;<a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> ) {</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;                <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> += adjust_by_m;</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;                <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> -= adjust_by_m;</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;            }</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;        }</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160; </div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;        <span class="comment">// Avoiding roll_remainder - PC out of situation, monster can calm down</span></div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;        <span class="keywordflow">if</span>( morale &lt; type-&gt;<a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> ) {</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;            <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> += <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="math__parser__func_8h.html#ac9196b0cf8d9dd209db9fc00a69a55f6">std::ceil</a>( dt_left_m / 8.0 ) ),</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;                                <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> - <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8a889ba3d1d6eb87ca31ce8999c9e6d0">morale</a> ) );</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;            <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> -= <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( ( dt_left_m / 8 ),</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;                                <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> - <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8a889ba3d1d6eb87ca31ce8999c9e6d0">morale</a> ) );</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;        }</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;    }</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> != <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a59bfdad7bfcd71c923ae8463630c95">agro</a> ) {</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;        <span class="keywordtype">int</span> dt_left_a = to_turns&lt;int&gt;( dt );</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160; </div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> - <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a59bfdad7bfcd71c923ae8463630c95">agro</a> ) &gt; 15 ) {</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> adjust_by_a = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( ( dt_left_a / 4 ),</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;                                              ( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> - <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a59bfdad7bfcd71c923ae8463630c95">agro</a> ) - 15 ) );</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;            dt_left_a -= adjust_by_a * 4;</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;            <span class="keywordflow">if</span>( anger &lt; type-&gt;agro ) {</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;                <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> += adjust_by_a;</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;                <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> -= adjust_by_a;</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;            }</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;        }</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160; </div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> &gt; <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a59bfdad7bfcd71c923ae8463630c95">agro</a> ) {</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;            <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> -= <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="math__parser__func_8h.html#ac9196b0cf8d9dd209db9fc00a69a55f6">std::ceil</a>( dt_left_a / 8.0 ) ),</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;                               <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> - <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a59bfdad7bfcd71c923ae8463630c95">agro</a> ) );</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;            <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> += <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( ( dt_left_a / 8 ),</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;                               <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> - <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a59bfdad7bfcd71c923ae8463630c95">agro</a> ) );</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;        }</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;        <span class="comment">// If we got angry at characters have a chance at calming down</span></div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> &amp;&amp; !<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa8d13fe74b20a471589013558a91ca2a">aggro_character</a> &amp;&amp; !<a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a>, 100 ) ) {</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;            <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>, <span class="stringliteral">&quot;%s&#39;s character aggro reset&quot;</span>, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;            <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;        }</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;    }</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160; </div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;    <span class="comment">// TODO: regen_morale</span></div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;    <span class="keywordtype">float</span> regen = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9c5f5681128376b6abcd83747e947262">regenerates</a>;</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;    <span class="keywordflow">if</span>( regen &lt;= 0 ) {</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a9611ac53122972087173a34c2d62e422">mon_flag_REVIVES</a> ) &amp;&amp; !<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#afded2a41cb5fee46d27f7bc5b0fa3189">mon_flag_DORMANT</a> ) ) {</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;            regen = 0.02f * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">hp</a> / to_turns&lt;int&gt;( 1_hours );</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#a20136c47b45ab5d735760a8a5853f1b3">material_flesh</a> ) || <a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a> ) ||</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;                   <a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#adaa52641aaea718721dc2fd611ed5831">material_veggy</a> ) ) {</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;            <span class="comment">// Most living stuff here</span></div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;            regen = 0.005f * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">hp</a> / to_turns&lt;int&gt;( 1_hours );</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;        }</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;    }</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> heal_amount = <a class="code" href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a>( regen * to_turns&lt;int&gt;( dt ) );</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> healed = <a class="code" href="classmonster.html#af7763c0da8025aea231a29272f25d5fc">heal</a>( heal_amount );</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;    <span class="keywordtype">int</span> healed_speed = 0;</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a>() &lt; <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#addfa6852e581c8cebbd1bbf9c4ebbd9a">speed</a> ) {</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> old_speed = <a class="code" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a>();</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> &gt;= <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">hp</a> ) {</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;            <a class="code" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">set_speed_base</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#addfa6852e581c8cebbd1bbf9c4ebbd9a">speed</a> );</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> speed_delta = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( healed * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#addfa6852e581c8cebbd1bbf9c4ebbd9a">speed</a> / <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">hp</a>, 1 );</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;            <a class="code" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">set_speed_base</a>( <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( old_speed + speed_delta, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#addfa6852e581c8cebbd1bbf9c4ebbd9a">speed</a> ) );</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;        }</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;        healed_speed = <a class="code" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a>() - old_speed;</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;    }</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160; </div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;    <span class="comment">// Update special attacks&#39; cooldown</span></div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;sp_type : <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">special_attacks</a> ) {</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;        <span class="keyword">const</span> std::string &amp;special_name = sp_type.first;</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> local_iter = <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.find( special_name );</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;        <span class="keywordflow">if</span>( local_iter == <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.end() ) {</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;        }</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;        <a class="code" href="classmon__special__attack.html">mon_special_attack</a> &amp;local_attack_data = local_iter-&gt;second;</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;        <span class="keywordflow">if</span>( !local_attack_data.<a class="code" href="classmon__special__attack.html#abbba44d1a5d5d62d696959bab20b8e67">enabled</a> ) {</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;        }</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160; </div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;        <span class="keywordflow">if</span>( local_attack_data.<a class="code" href="classmon__special__attack.html#a0f121c831a2ecb77efe06aa048f60e58">cooldown</a> &gt; 0 ) {</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;            local_attack_data.<a class="code" href="classmon__special__attack.html#a0f121c831a2ecb77efe06aa048f60e58">cooldown</a> = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 0, local_attack_data.<a class="code" href="classmon__special__attack.html#a0f121c831a2ecb77efe06aa048f60e58">cooldown</a> - to_turns&lt;int&gt;( dt ) );</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;        }</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;    }</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160; </div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>, <span class="stringliteral">&quot;on_load() by %s, %d turns, healed %d hp, %d speed&quot;</span>,</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;                   <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(), to_turns&lt;int&gt;( dt ), healed, healed_speed );</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a02e7dee3b3f096d760d7332395ba54f3"><div class="ttname"><a href="classmonster.html#a02e7dee3b3f096d760d7332395ba54f3">monster::try_reproduce</a></div><div class="ttdeci">void try_reproduce()</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00547">monster.cpp:547</a></div></div>
<div class="ttc" id="aclassmonster_html_a5419be03caffc0d80b49a9317beb00cf"><div class="ttname"><a href="classmonster.html#a5419be03caffc0d80b49a9317beb00cf">monster::try_biosignature</a></div><div class="ttdeci">void try_biosignature()</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00672">monster.cpp:672</a></div></div>
<div class="ttc" id="aclassmonster_html_a63cfaab5c6126ecc3f3c3e966f4bf574"><div class="ttname"><a href="classmonster.html#a63cfaab5c6126ecc3f3c3e966f4bf574">monster::try_upgrade</a></div><div class="ttdeci">void try_upgrade(bool pin_time)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00451">monster.cpp:451</a></div></div>
<div class="ttc" id="aclassmonster_html_a82664fe81ce8c11ed9bbd28ef0cfded8"><div class="ttname"><a href="classmonster.html#a82664fe81ce8c11ed9bbd28ef0cfded8">monster::reset_digestion</a></div><div class="ttdeci">void reset_digestion()</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00647">monster.cpp:647</a></div></div>
<div class="ttc" id="aclassmonster_html_aa6e5cda6283d3a6bbf243bafe93ed8d0"><div class="ttname"><a href="classmonster.html#aa6e5cda6283d3a6bbf243bafe93ed8d0">monster::digest_food</a></div><div class="ttdeci">void digest_food()</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00659">monster.cpp:659</a></div></div>
<div class="ttc" id="aclassmonster_html_ae054bfde7618d0ff8c7dff70a9e3e392"><div class="ttname"><a href="classmonster.html#ae054bfde7618d0ff8c7dff70a9e3e392">monster::refill_udders</a></div><div class="ttdeci">void refill_udders()</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00613">monster.cpp:613</a></div></div>
<div class="ttc" id="amtype_8cpp_html_a9611ac53122972087173a34c2d62e422"><div class="ttname"><a href="mtype_8cpp.html#a9611ac53122972087173a34c2d62e422">mon_flag_REVIVES</a></div><div class="ttdeci">mon_flag_id mon_flag_REVIVES</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00140">mtype.cpp:140</a></div></div>
<div class="ttc" id="amtype_8cpp_html_aa37e8c765633b2710dcc31bf2c864b37"><div class="ttname"><a href="mtype_8cpp.html#aa37e8c765633b2710dcc31bf2c864b37">mon_flag_EATS</a></div><div class="ttdeci">mon_flag_id mon_flag_EATS</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00077">mtype.cpp:77</a></div></div>
<div class="ttc" id="amtype_8cpp_html_acff8e2ead205b29d0d81a91ffe150fff"><div class="ttname"><a href="mtype_8cpp.html#acff8e2ead205b29d0d81a91ffe150fff">mon_flag_MILKABLE</a></div><div class="ttdeci">mon_flag_id mon_flag_MILKABLE</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00109">mtype.cpp:109</a></div></div>
<div class="ttc" id="arng_8cpp_html_acd19ae79e3590a99c9eaf0389318b686"><div class="ttname"><a href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a></div><div class="ttdeci">int roll_remainder(double value)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00134">rng.cpp:134</a></div></div>
<div class="ttc" id="astructmtype_html_a9c5f5681128376b6abcd83747e947262"><div class="ttname"><a href="structmtype.html#a9c5f5681128376b6abcd83747e947262">mtype::regenerates</a></div><div class="ttdeci">int regenerates</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00424">mtype.h:424</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="math__parser__func_8h_source.html#l00030">abs()</a>, <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="monster_8h_source.html#l00572">aggro_character</a>, <a class="el" href="mtype_8h_source.html#l00507">mtype::aggro_character</a>, <a class="el" href="mtype_8h_source.html#l00415">mtype::agro</a>, <a class="el" href="monster_8h_source.html#l00543">amount_eaten</a>, <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="math__parser__func_8h_source.html#l00100">ceil()</a>, <a class="el" href="monster_8h_source.html#l00050">mon_special_attack::cooldown</a>, <a class="el" href="debug_8h_source.html#l00265">debugmode::DF_MONSTER</a>, <a class="el" href="monster_8cpp_source.html#l00659">digest_food()</a>, <a class="el" href="monster_8h_source.html#l00051">mon_special_attack::enabled</a>, <a class="el" href="creature_8cpp_source.html#l02782">Creature::get_speed_base()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="monster_8cpp_source.html#l02149">heal()</a>, <a class="el" href="monster_8h_source.html#l00616">hp</a>, <a class="el" href="mtype_8h_source.html#l00413">mtype::hp</a>, <a class="el" href="creature_8h_source.html#l01238">Creature::last_updated</a>, <a class="el" href="monster_8cpp_source.html#l01304">made_of()</a>, <a class="el" href="monster_8cpp.html#a20136c47b45ab5d735760a8a5853f1b3">material_flesh</a>, <a class="el" href="monster_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a>, <a class="el" href="monster_8cpp.html#adaa52641aaea718721dc2fd611ed5831">material_veggy</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="mtype_8cpp_source.html#l00071">mon_flag_DORMANT</a>, <a class="el" href="mtype_8cpp_source.html#l00077">mon_flag_EATS</a>, <a class="el" href="mtype_8cpp_source.html#l00109">mon_flag_MILKABLE</a>, <a class="el" href="mtype_8cpp_source.html#l00140">mon_flag_REVIVES</a>, <a class="el" href="monster_8h_source.html#l00541">morale</a>, <a class="el" href="mtype_8h_source.html#l00416">mtype::morale</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="monster_8cpp_source.html#l00613">refill_udders()</a>, <a class="el" href="mtype_8h_source.html#l00424">mtype::regenerates</a>, <a class="el" href="monster_8cpp_source.html#l00647">reset_digestion()</a>, <a class="el" href="rng_8cpp_source.html#l00134">roll_remainder()</a>, <a class="el" href="creature_8cpp_source.html#l02873">Creature::set_speed_base()</a>, <a class="el" href="monster_8h_source.html#l00617">special_attacks</a>, <a class="el" href="mtype_8h_source.html#l00378">mtype::special_attacks</a>, <a class="el" href="mtype_8h_source.html#l00414">mtype::speed</a>, <a class="el" href="monster_8cpp_source.html#l00672">try_biosignature()</a>, <a class="el" href="monster_8cpp_source.html#l00547">try_reproduce()</a>, <a class="el" href="monster_8cpp_source.html#l00451">try_upgrade()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="calendar_8cpp_source.html#l00784">x_in_y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l08905">map::spawn_monsters_submap()</a>, and <a class="el" href="map_8cpp_source.html#l08762">map::spawn_monsters_submap_group()</a>.</p>

</div>
</div>
<a id="a07ecb2c6c03edee8565908c4e52f1c6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07ecb2c6c03edee8565908c4e52f1c6a">&#9670;&nbsp;</a></span>on_move()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::on_move </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>old_pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a8e5fa5a8918563efe031ed0fe41c4dc6">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00357">357</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;{</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="classCreature.html#a8e5fa5a8918563efe031ed0fe41c4dc6">Creature::on_move</a>( old_pos );</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">if</span>( old_pos == <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() ) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;update_zombie_pos( *<span class="keyword">this</span>, old_pos, <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() );</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a> ) &amp;&amp; <a class="code" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a> &amp;&amp;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <a class="code" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a>-&gt;<a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() != <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() ) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>, <span class="stringliteral">&quot;Ridden monster %s moved independently and dumped player&quot;</span>,</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                       <a class="code" href="classmonster.html#ad4fba0b9aea36097d8b972e05e66d914">get_name</a>() );</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a>-&gt;<a class="code" href="classCharacter.html#a85a591640ed5dec800bd4e6e42241fbf">forced_dismount</a>();</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a1bfdcc078e39c06a1cf7047803610204">has_dest</a>() &amp;&amp; <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() == <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>() ) {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="classmonster.html#a1488f5a618c74a508fb87b82be05ef11">unset_dest</a>();</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a8e5fa5a8918563efe031ed0fe41c4dc6"><div class="ttname"><a href="classCreature.html#a8e5fa5a8918563efe031ed0fe41c4dc6">Creature::on_move</a></div><div class="ttdeci">virtual void on_move(const tripoint_abs_ms &amp;old_pos)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00212">creature.cpp:212</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="debug_8h_source.html#l00265">debugmode::DF_MONSTER</a>, <a class="el" href="monster_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, and <a class="el" href="creature_8cpp_source.html#l00212">Creature::on_move()</a>.</p>

</div>
</div>
<a id="adddc15b785c2e80527177d188419cfc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adddc15b785c2e80527177d188419cfc8">&#9670;&nbsp;</a></span>on_try_dodge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::on_try_dodge </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Invoked when the creature attempts to dodge, regardless of success or failure. </p>

<p>Implements <a class="el" href="classCreature.html#aa80c16d08f583214085a919a921ab179">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00435">435</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b1d540688fa0a359032b9a8ab9d3080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b1d540688fa0a359032b9a8ab9d3080">&#9670;&nbsp;</a></span>on_unload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::on_unload </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do some cleanup and caching as monster is being unloaded from map. </p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03853">3853</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;{</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;    <a class="code" href="classCreature.html#a9c0a2f5bc6bb8c450f9eddad749cf407">last_updated</a> = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8h_source.html#l01238">Creature::last_updated</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l12750">game::despawn_monster()</a>.</p>

</div>
</div>
<a id="a376cc4abcca57ae2e858d360f7d9926a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a376cc4abcca57ae2e858d360f7d9926a">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmonster.html">monster</a> &amp; monster::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmonster.html">monster</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a130f757910556df5bad83d01692a6fcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a130f757910556df5bad83d01692a6fcf">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmonster.html">monster</a> &amp; monster::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmonster.html">monster</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7577aacda4ad32c8ce9e443cceec0a1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7577aacda4ad32c8ce9e443cceec0a1a">&#9670;&nbsp;</a></span>plan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::plan </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l00517">517</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;{</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="structmonster__plan.html">monster_plan</a> mon_plan( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    std::bitset&lt;OVERMAP_LAYERS&gt; seen_levels = here.<a class="code" href="classmap.html#a5191133cdc235a399330f5e322570401">get_inter_level_visibility</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>().z );</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4">monster_attitude</a> <a class="code" href="widget_8h.html#ac9c40e0d5ffae2a9e10019da79b7983fadc27c0e30cacf9b64bc66bc26f09c89a">mood</a> = <a class="code" href="classmonster.html#a6f9b80e613e46d2a7ebbb21ea5e11e4c">attitude</a>();</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="comment">// If we can see the player, move toward them or flee.</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == 0 &amp;&amp; seen_levels.test( player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>().<a class="code" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> + <a class="code" href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a> ) &amp;&amp;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( player_character ) ) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        mon_plan.dist = <a class="code" href="classmonster.html#aac5e0ccac0ace79a458f219f8778f223">rate_target</a>( player_character, mon_plan.dist, mon_plan.smart_planning );</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        mon_plan.fleeing = mon_plan.fleeing || <a class="code" href="classmonster.html#a0f5047243bc2dc00f32c39b5d0918002">is_fleeing</a>( player_character );</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        mon_plan.target = &amp;player_character;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="keywordflow">if</span>( !mon_plan.fleeing &amp;&amp; <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> &lt;= 20 ) {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> += mon_plan.angers_hostile_seen;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <a class="code" href="classmonster.html#a49eaa3645377b9873ceefc3418c34e82">anger_hostile_seen</a>( mon_plan );</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">if</span>( mon_plan.dist &lt;= 5 ) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> &lt;= 30 ) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> += mon_plan.angers_hostile_near;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <span class="keywordflow">if</span>( mon_plan.angers_hostile_near &amp;&amp; <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a>, 100 ) ) {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>, <span class="stringliteral">&quot;%s&#39;s character aggro triggered by proximity&quot;</span>, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> -= mon_plan.fears_hostile_near;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            <a class="code" href="classmonster.html#a740a0ee7c4c9baa7150fc8b0d0e5d237">anger_mating_season</a>( mon_plan );</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <a class="code" href="classmonster.html#a24bcf1eb9c4beb329036ad01b5f062dd">anger_cub_threatened</a>( mon_plan );</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> != 0 &amp;&amp; !mon_plan.docile ) {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classmonster.html">monster</a> &amp;tmp : <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_monsters() ) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <span class="keywordflow">if</span>( tmp.friendly == 0 &amp;&amp; tmp.attitude_to( *<span class="keyword">this</span> ) == <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Attitude::HOSTILE</a> &amp;&amp;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                seen_levels.test( tmp.pos().z + <a class="code" href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a> ) ) {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                <span class="keywordtype">float</span> rating = <a class="code" href="classmonster.html#aac5e0ccac0ace79a458f219f8778f223">rate_target</a>( tmp, mon_plan.dist, mon_plan.smart_planning );</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                <span class="keywordflow">if</span>( rating &lt; mon_plan.dist ) {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                    mon_plan.target = &amp;tmp;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                    mon_plan.dist = rating;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">if</span>( mon_plan.docile ) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> != 0 &amp;&amp; mon_plan.target != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <a class="code" href="classmonster.html#a59dab0b0d7e791038c18d01277393686">set_dest</a>( mon_plan.target-&gt;get_location() );</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        }</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordtype">int</span> valid_targets = ( mon_plan.target == nullptr ) ? 0 : 1;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classnpc.html">npc</a> &amp;who : <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_npcs() ) {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <a class="code" href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0">mf_attitude</a> faction_att = <a class="code" href="classfaction.html">faction</a>.obj().attitude( who.get_monster_faction() );</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keywordflow">if</span>( faction_att == <a class="code" href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0a23a2d35aee5d2497bcb11e15f7d7c586">MFA_NEUTRAL</a> || faction_att == <a class="code" href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0a8baef7717ecdcd96e64dca04ab2b4c97">MFA_FRIENDLY</a> ) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordflow">if</span>( !seen_levels.test( who.pos().z + <a class="code" href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a> ) ) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="keywordtype">float</span> rating = <a class="code" href="classmonster.html#aac5e0ccac0ace79a458f219f8778f223">rate_target</a>( who, mon_plan.dist, mon_plan.smart_planning );</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordtype">bool</span> fleeing_from = <a class="code" href="classmonster.html#a0f5047243bc2dc00f32c39b5d0918002">is_fleeing</a>( who );</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <span class="keywordflow">if</span>( rating == mon_plan.dist &amp;&amp; ( mon_plan.fleeing || <a class="code" href="classmonster.html#a6f9b80e613e46d2a7ebbb21ea5e11e4c">attitude</a>( &amp;who ) == <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a87f44dc6e793f84b2342dafd6460b263">MATT_ATTACK</a> ||</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                                         <a class="code" href="classmonster.html#a6f9b80e613e46d2a7ebbb21ea5e11e4c">attitude</a>( &amp;who ) == <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a850d5624fd1d54192310ab8b13f228ee">MATT_FOLLOW</a> ) ) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            ++valid_targets;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( valid_targets ) ) {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                mon_plan.target = &amp;who;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="comment">// Switch targets if closer and hostile or scarier than current target</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="keywordflow">if</span>( ( rating &lt; mon_plan.dist &amp;&amp; mon_plan.fleeing ) ||</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            ( faction_att == <a class="code" href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0a80fd3bb623381aa87ca80a3d035d3867">MFA_HATE</a> ) ||</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            ( rating &lt; mon_plan.dist &amp;&amp; <a class="code" href="classmonster.html#a6f9b80e613e46d2a7ebbb21ea5e11e4c">attitude</a>( &amp;who ) == <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a87f44dc6e793f84b2342dafd6460b263">MATT_ATTACK</a> ) ||</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            ( !mon_plan.fleeing &amp;&amp; fleeing_from ) ) {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            mon_plan.target = &amp;who;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            mon_plan.dist = rating;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            valid_targets = 1;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        mon_plan.fleeing = mon_plan.fleeing || fleeing_from;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">if</span>( rating &lt;= 5 ) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> &lt;= 30 ) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> += mon_plan.angers_hostile_near;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            <span class="keywordflow">if</span>( mon_plan.angers_hostile_near &amp;&amp; <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a>, 100 ) ) {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>, <span class="stringliteral">&quot;%s&#39;s character aggro triggered by proximity to %s&quot;</span>, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(),</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                               who.name );</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> -= mon_plan.fears_hostile_near;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            <a class="code" href="classmonster.html#a740a0ee7c4c9baa7150fc8b0d0e5d237">anger_mating_season</a>( mon_plan );</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keywordflow">if</span>( !mon_plan.fleeing &amp;&amp; <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> &lt;= 20 &amp;&amp; valid_targets != 0 ) {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> += mon_plan.angers_hostile_seen;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="keywordflow">if</span>( !mon_plan.fleeing &amp;&amp; valid_targets != 0 ) {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> -= mon_plan.fears_hostile_seen;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            <a class="code" href="classmonster.html#a49eaa3645377b9873ceefc3418c34e82">anger_hostile_seen</a>( mon_plan );</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    mon_plan.fleeing = mon_plan.fleeing || ( <a class="code" href="widget_8h.html#ac9c40e0d5ffae2a9e10019da79b7983fadc27c0e30cacf9b64bc66bc26f09c89a">mood</a> == <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a1c6426f1f830743448b46e8e2aa068b4">MATT_FLEE</a> );</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="comment">// Throttle monster thinking, if there are no apparent threats, stop paying attention.</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    constexpr <span class="keywordtype">int</span> max_turns_for_rate_limiting = 1800;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    constexpr <span class="keywordtype">double</span> max_turns_to_skip = 600.0;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="comment">// Outputs a range from 0.0 - 1.0.</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordtype">float</span> rate_limiting_factor = 1.0 - <a class="code" href="cata__utility_8cpp.html#a6a85dc6d2ab7bcb093e77d20fcf171d6">logarithmic_range</a>( 0, max_turns_for_rate_limiting,</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                                 <a class="code" href="classmonster.html#a9653c5f9353177ecee5aff0197af2fcc">turns_since_target</a> );</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordtype">int</span> turns_to_skip = max_turns_to_skip * rate_limiting_factor;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="classcreature__tracker.html">creature_tracker</a> &amp;tracker = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>();</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == 0 &amp;&amp; ( turns_to_skip == 0 || <a class="code" href="classmonster.html#a9653c5f9353177ecee5aff0197af2fcc">turns_since_target</a> % turns_to_skip == 0 ) ) {</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        tracker.<a class="code" href="classcreature__tracker.html#a9790b8a1e05d0c5cff55a8aaeef80d94">for_each_reachable</a>( *<span class="keyword">this</span>, [<span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code" href="classint__id.html">mfaction_id</a> &amp; <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> ) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <span class="keyword">const</span> <a class="code" href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0">mf_attitude</a> faction_att = <a class="code" href="classfaction.html">faction</a>-&gt;attitude( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> );</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <span class="keywordflow">return</span> !( faction_att == <a class="code" href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0a23a2d35aee5d2497bcb11e15f7d7c586">MFA_NEUTRAL</a> || faction_att == <a class="code" href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0a8baef7717ecdcd96e64dca04ab2b4c97">MFA_FRIENDLY</a> );</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        },</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        [<span class="keyword">this</span>, &amp;seen_levels, &amp;mon_plan, &amp;valid_targets]( <a class="code" href="classCreature.html">Creature</a> * <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> ) {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            <span class="keywordflow">if</span>( !seen_levels.test( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>-&gt;posz() + <a class="code" href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a> ) ) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <a class="code" href="classmonster.html">monster</a> *mon_ptr = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classmonster.html">monster</a> *<span class="keyword">&gt;</span>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> );</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <span class="keywordflow">if</span>( mon_ptr == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <a class="code" href="classmonster.html">monster</a> &amp;mon = *mon_ptr;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <span class="keywordtype">float</span> rating = <a class="code" href="classmonster.html#aac5e0ccac0ace79a458f219f8778f223">rate_target</a>( mon, mon_plan.dist, mon_plan.smart_planning );</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            <span class="keywordflow">if</span>( rating == mon_plan.dist ) {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                ++valid_targets;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( valid_targets ) ) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                    mon_plan.target = &amp;mon;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                }</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <span class="keywordflow">if</span>( rating &lt; mon_plan.dist ) {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                mon_plan.target = &amp;mon;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                mon_plan.dist = rating;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                valid_targets = 1;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <span class="keywordflow">if</span>( rating &lt;= 5 ) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> &lt;= 30 ) {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                    <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> += mon_plan.angers_hostile_near;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> -= mon_plan.fears_hostile_near;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <span class="keywordflow">if</span>( !mon_plan.fleeing &amp;&amp; <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> &lt;= 20 &amp;&amp; valid_targets != 0 ) {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> += mon_plan.angers_hostile_seen;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            <span class="keywordflow">if</span>( !mon_plan.fleeing &amp;&amp; valid_targets != 0 ) {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> -= mon_plan.fears_hostile_seen;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        } );</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">if</span>( mon_plan.target == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="comment">// Just avoiding overflow.</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <a class="code" href="classmonster.html#a9653c5f9353177ecee5aff0197af2fcc">turns_since_target</a> = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <a class="code" href="classmonster.html#a9653c5f9353177ecee5aff0197af2fcc">turns_since_target</a> + 1, max_turns_for_rate_limiting );</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <a class="code" href="classmonster.html#a9653c5f9353177ecee5aff0197af2fcc">turns_since_target</a> = 0;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="comment">// Friendly monsters here</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="comment">// Avoid for hordes of same-faction stuff or it could get expensive</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keyword">const</span> <a class="code" href="classint__id.html">mfaction_id</a> actual_faction = <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == 0 ? <a class="code" href="classmonster.html#a8e30fdb59bcecd8ecb8a609431cb6caf">faction</a> : <a class="code" href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a>( <a class="code" href="type__id_8h.html#a0de4f7de7b6dc7d13c525e8a5e0eb615">mfaction_str_id</a>( <span class="stringliteral">&quot;player&quot;</span> ) );</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    mon_plan.swarms = mon_plan.swarms &amp;&amp; mon_plan.target == <span class="keyword">nullptr</span>; <span class="comment">// Only swarm if we have no target</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">if</span>( mon_plan.group_morale || mon_plan.swarms ) {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        tracker.<a class="code" href="classcreature__tracker.html#a9790b8a1e05d0c5cff55a8aaeef80d94">for_each_reachable</a>( *<span class="keyword">this</span>, [actual_faction]( <span class="keyword">const</span> <a class="code" href="classint__id.html">mfaction_id</a> &amp; <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> ) {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="keywordflow">return</span> actual_faction == <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        },</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        [<span class="keyword">this</span>, &amp;seen_levels, &amp;mon_plan]( <a class="code" href="classCreature.html">Creature</a> * <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> ) {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <span class="keywordflow">if</span>( !seen_levels.test( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>-&gt;posz() + <a class="code" href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a> ) ) {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            <a class="code" href="classmonster.html">monster</a> *mon_ptr = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classmonster.html">monster</a> *<span class="keyword">&gt;</span>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> );</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <span class="keywordflow">if</span>( mon_ptr == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            <a class="code" href="classmonster.html">monster</a> &amp;mon = *mon_ptr;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            <span class="keywordtype">float</span> rating = <a class="code" href="classmonster.html#aac5e0ccac0ace79a458f219f8778f223">rate_target</a>( mon, mon_plan.dist, mon_plan.smart_planning );</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            <span class="keywordflow">if</span>( mon_plan.group_morale &amp;&amp; rating &lt;= 10 ) {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> += 10 - rating;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            <span class="keywordflow">if</span>( mon_plan.swarms ) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                <span class="keywordflow">if</span>( rating &lt; 5 ) { <span class="comment">// Too crowded here</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                    <a class="code" href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">wander_pos</a> = <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>();</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                    <span class="keywordflow">while</span>( <a class="code" href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">wander_pos</a> == <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() ) {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                        <a class="code" href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">wander_pos</a> += <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( -3, 3 ), <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( -3, 3 ) );</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                    }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                    <a class="code" href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">wandf</a> = 2;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                    mon_plan.target = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                    <span class="comment">// Swarm to the furthest ally you can see</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( rating &lt; FLT_MAX &amp;&amp; rating &gt; mon_plan.dist &amp;&amp; <a class="code" href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">wandf</a> &lt;= 0 ) {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                    mon_plan.target = &amp;mon;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                    mon_plan.dist = rating;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                }</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        } );</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    }</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="comment">// Operating monster keep you safe while they operate, how nice....</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a3782082ac316cac7f189d089b3b16000">has_special_attack</a>( <span class="stringliteral">&quot;OPERATE&quot;</span> ) ) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#ab8dd6142a7131d3af944e532002ac9e3">effect_operating</a> ) ) {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> = 100;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="classCreature.html">Creature</a> *critter : here.<a class="code" href="classmap.html#a1a80ad5cb3705a2bde8834eb8e4a93bd">get_creatures_in_radius</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 6 ) ) {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                <a class="code" href="classmonster.html">monster</a> *mon = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classmonster.html">monster</a> *<span class="keyword">&gt;</span>( critter );</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                <span class="keywordflow">if</span>( mon != <span class="keyword">nullptr</span> &amp;&amp; mon-&gt;<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code" href="monmove_8cpp.html#a6d062e430202ce21974bf3fb492002bf">species_ZOMBIE</a> ) ) {</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                    <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> = 100;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                    <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> = 0;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#a692b3825de327022efb956655bf5e441">effect_dragging</a> ) ) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160; </div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a3782082ac316cac7f189d089b3b16000">has_special_attack</a>( <span class="stringliteral">&quot;OPERATE&quot;</span> ) ) {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160; </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            <span class="keywordtype">bool</span> found_path_to_couch = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            <a class="code" href="structtripoint.html">tripoint</a> tmp( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() + <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 12, 12 ) );</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <a class="code" href="structtripoint.html">tripoint</a> couch_loc;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;couch_pos : here.<a class="code" href="classmap.html#af714ce93fc3f45015bdc9cd4d256599f">find_furnitures_with_flag_in_radius</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 10,</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                    <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a5b189c7326ca1246de45a1579b907d5e">ter_furn_flag::TFLAG_AUTODOC_COUCH</a> ) ) {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a49630763b899657bfa7c10586df7d360">clear_path</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), couch_pos, 10, 0, 100 ) ) {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), couch_pos ) &lt; <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), tmp ) ) {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                        tmp = couch_pos;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                        found_path_to_couch = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                        couch_loc = couch_pos;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                    }</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            }</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; </div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            <span class="keywordflow">if</span>( !found_path_to_couch ) {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> = 0;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monmove_8cpp.html#a692b3825de327022efb956655bf5e441">effect_dragging</a> );</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                <a class="code" href="classmonster.html#a59dab0b0d7e791038c18d01277393686">set_dest</a>( here.<a class="code" href="classmap.html#ac868b594b36b6b9bbcb130650fd4f61f">getglobal</a>( couch_loc ) );</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( mon_plan.target != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> dest = mon_plan.target-&gt;get_location();</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217">Creature::Attitude</a> att_to_target = <a class="code" href="classmonster.html#a125622587c2069dc4dbbe07943c81336">attitude_to</a>( *mon_plan.target );</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keywordflow">if</span>( att_to_target == <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Attitude::HOSTILE</a> &amp;&amp; !mon_plan.fleeing ) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            <a class="code" href="classmonster.html#a59dab0b0d7e791038c18d01277393686">set_dest</a>( dest );</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( mon_plan.fleeing ) {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> away = <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() - dest + <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>();</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            away.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() = <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>();</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            <a class="code" href="classmonster.html#a59dab0b0d7e791038c18d01277393686">set_dest</a>( away );</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="keywordflow">if</span>( ( mon_plan.angers_hostile_weak || mon_plan.fears_hostile_weak ||</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;              mon_plan.placate_hostile_weak ) &amp;&amp;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            att_to_target != <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Attitude::FRIENDLY</a> ) {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            <span class="keywordtype">int</span> hp_per = mon_plan.target-&gt;hp_percentage();</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            <span class="keywordflow">if</span>( hp_per &lt;= 70 ) {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                <span class="keywordflow">if</span>( mon_plan.angers_hostile_weak &amp;&amp; <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> &lt;= 40 ) {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                    <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> += 10 - <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( hp_per / 10 );</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a>, 100 ) ) {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                        <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>, <span class="stringliteral">&quot;%s&#39;s character aggro triggered by %s&#39;s weakness&quot;</span>, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(),</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                                       mon_plan.target-&gt;disp_name() );</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                        <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                    }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( mon_plan.fears_hostile_weak ) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                    <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> -= 10 - <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( hp_per / 10 );</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( mon_plan.placate_hostile_weak ) {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                    <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> -= 10 - <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( hp_per / 10 );</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#ae4ddfd29306c2e768f545aed901be3f9">patrol_route</a>.empty() ) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <span class="comment">// If we have a patrol route and no target, find the current step on the route</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> next_stop = <a class="code" href="classmonster.html#ae4ddfd29306c2e768f545aed901be3f9">patrol_route</a>.at( <a class="code" href="classmonster.html#abeb3743ffee119ce1507af082bb5a0e0">next_patrol_point</a> );</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <span class="comment">// if there is more than one patrol point, advance to the next one if we&#39;re almost there</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="comment">// this handles impassable obstacles but patrollers can still get stuck</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <span class="keywordflow">if</span>( ( <a class="code" href="classmonster.html#ae4ddfd29306c2e768f545aed901be3f9">patrol_route</a>.size() &gt; 1 ) &amp;&amp; <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( next_stop, <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() ) &lt; 2 ) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            <a class="code" href="classmonster.html#abeb3743ffee119ce1507af082bb5a0e0">next_patrol_point</a> = ( <a class="code" href="classmonster.html#abeb3743ffee119ce1507af082bb5a0e0">next_patrol_point</a> + 1 ) % <a class="code" href="classmonster.html#ae4ddfd29306c2e768f545aed901be3f9">patrol_route</a>.size();</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            next_stop = <a class="code" href="classmonster.html#ae4ddfd29306c2e768f545aed901be3f9">patrol_route</a>.at( <a class="code" href="classmonster.html#abeb3743ffee119ce1507af082bb5a0e0">next_patrol_point</a> );</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        }</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <a class="code" href="classmonster.html#a59dab0b0d7e791038c18d01277393686">set_dest</a>( next_stop );</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> != 0 &amp;&amp; <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#ad5fa326832c0a774d6a775e605f27788">effect_led_by_leash</a> ) &amp;&amp;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;               <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>().z() == <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>().z() ) {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="comment">// visibility doesn&#39;t matter, we&#39;re getting pulled by a leash</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="comment">// To use stairs smoothly, if the destination is on a different Z-level, move there first.</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <a class="code" href="classmonster.html#a59dab0b0d7e791038c18d01277393686">set_dest</a>( player_character.<a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() );</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> &gt; 0 &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            <span class="comment">// Grow restless with no targets</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a>--;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> &gt; 0 &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        <span class="comment">// Grow restless with no targets</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a>--;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a28fd163537c2f82c7a733d69c8c8da75">is_pet_follow</a>() &amp;&amp; <a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( player_character ) &amp;&amp;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;               ( <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>().z() == player_character.<a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>().<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() ||</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                 <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>().z() == <a class="code" href="classmonster.html#a1045089ac9dd6efe4ce04941f9196398">get_dest</a>().z() ) ) {</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <span class="comment">// Simpleminded animals are too dumb to follow the player.</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <span class="comment">// To use stairs smoothly, if the destination is on a different Z-level, move there first.</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <a class="code" href="classmonster.html#a59dab0b0d7e791038c18d01277393686">set_dest</a>( player_character.<a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>() );</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;}</div>
<div class="ttc" id="acata__utility_8cpp_html_a6a85dc6d2ab7bcb093e77d20fcf171d6"><div class="ttname"><a href="cata__utility_8cpp.html#a6a85dc6d2ab7bcb093e77d20fcf171d6">logarithmic_range</a></div><div class="ttdeci">double logarithmic_range(int min, int max, int pos)</div><div class="ttdoc">Normalized logistic function.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8cpp_source.html#l00166">cata_utility.cpp:166</a></div></div>
<div class="ttc" id="aclasscreature__tracker_html_a9790b8a1e05d0c5cff55a8aaeef80d94"><div class="ttname"><a href="classcreature__tracker.html#a9790b8a1e05d0c5cff55a8aaeef80d94">creature_tracker::for_each_reachable</a></div><div class="ttdeci">void for_each_reachable(const Creature &amp;origin, VisitFn &amp;&amp;visit_fn)</div><div class="ttdoc">Visits all reachable creatures using the given functor.</div><div class="ttdef"><b>Definition:</b> <a href="creature__tracker_8h_source.html#l00218">creature_tracker.h:218</a></div></div>
<div class="ttc" id="aclassmap_html_a49630763b899657bfa7c10586df7d360"><div class="ttname"><a href="classmap.html#a49630763b899657bfa7c10586df7d360">map::clear_path</a></div><div class="ttdeci">bool clear_path(const tripoint &amp;f, const tripoint &amp;t, int range, int cost_min, int cost_max) const</div><div class="ttdoc">Check whether there's a direct line of sight between F and T with the additional movecost restraints.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07748">map.cpp:7748</a></div></div>
<div class="ttc" id="aclassmap_html_a5191133cdc235a399330f5e322570401"><div class="ttname"><a href="classmap.html#a5191133cdc235a399330f5e322570401">map::get_inter_level_visibility</a></div><div class="ttdeci">std::bitset&lt; OVERMAP_LAYERS &gt; get_inter_level_visibility(int origin_zlevel) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09397">map.cpp:9397</a></div></div>
<div class="ttc" id="aclassmap_html_af714ce93fc3f45015bdc9cd4d256599f"><div class="ttname"><a href="classmap.html#af714ce93fc3f45015bdc9cd4d256599f">map::find_furnitures_with_flag_in_radius</a></div><div class="ttdeci">std::list&lt; tripoint &gt; find_furnitures_with_flag_in_radius(const tripoint &amp;center, size_t radius, const std::string &amp;flag, size_t radiusz=0) const</div><div class="ttdoc">returns positions of furnitures with matching flag in the specified radius</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l10200">map.cpp:10200</a></div></div>
<div class="ttc" id="aclassmonster_html_a0f5047243bc2dc00f32c39b5d0918002"><div class="ttname"><a href="classmonster.html#a0f5047243bc2dc00f32c39b5d0918002">monster::is_fleeing</a></div><div class="ttdeci">bool is_fleeing(Character &amp;u) const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01438">monster.cpp:1438</a></div></div>
<div class="ttc" id="aclassmonster_html_a24bcf1eb9c4beb329036ad01b5f062dd"><div class="ttname"><a href="classmonster.html#a24bcf1eb9c4beb329036ad01b5f062dd">monster::anger_cub_threatened</a></div><div class="ttdeci">void anger_cub_threatened(monster_plan &amp;mon_plan)</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00478">monmove.cpp:478</a></div></div>
<div class="ttc" id="aclassmonster_html_a49eaa3645377b9873ceefc3418c34e82"><div class="ttname"><a href="classmonster.html#a49eaa3645377b9873ceefc3418c34e82">monster::anger_hostile_seen</a></div><div class="ttdeci">void anger_hostile_seen(const monster_plan &amp;mon_plan)</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00446">monmove.cpp:446</a></div></div>
<div class="ttc" id="aclassmonster_html_a59dab0b0d7e791038c18d01277393686"><div class="ttname"><a href="classmonster.html#a59dab0b0d7e791038c18d01277393686">monster::set_dest</a></div><div class="ttdeci">void set_dest(const tripoint_abs_ms &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01380">monster.cpp:1380</a></div></div>
<div class="ttc" id="aclassmonster_html_a740a0ee7c4c9baa7150fc8b0d0e5d237"><div class="ttname"><a href="classmonster.html#a740a0ee7c4c9baa7150fc8b0d0e5d237">monster::anger_mating_season</a></div><div class="ttdeci">void anger_mating_season(const monster_plan &amp;mon_plan)</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00465">monmove.cpp:465</a></div></div>
<div class="ttc" id="aclassmonster_html_a9653c5f9353177ecee5aff0197af2fcc"><div class="ttname"><a href="classmonster.html#a9653c5f9353177ecee5aff0197af2fcc">monster::turns_since_target</a></div><div class="ttdeci">int turns_since_target</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00655">monster.h:655</a></div></div>
<div class="ttc" id="aclassmonster_html_aac5e0ccac0ace79a458f219f8778f223"><div class="ttname"><a href="classmonster.html#aac5e0ccac0ace79a458f219f8778f223">monster::rate_target</a></div><div class="ttdeci">float rate_target(Creature &amp;c, float best, bool smart=false) const</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00361">monmove.cpp:361</a></div></div>
<div class="ttc" id="agame__constants_8h_html_aad0eacfa516a8f7e005674027d7640fe"><div class="ttname"><a href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a></div><div class="ttdeci">constexpr int OVERMAP_DEPTH</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00073">game_constants.h:73</a></div></div>
<div class="ttc" id="amonmove_8cpp_html_a6d062e430202ce21974bf3fb492002bf"><div class="ttname"><a href="monmove_8cpp.html#a6d062e430202ce21974bf3fb492002bf">species_ZOMBIE</a></div><div class="ttdeci">static const species_id species_ZOMBIE(&quot;ZOMBIE&quot;)</div></div>
<div class="ttc" id="astructmonster__plan_html"><div class="ttname"><a href="structmonster__plan.html">monster_plan</a></div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00395">monmove.cpp:395</a></div></div>
<div class="ttc" id="atype__id_8h_html_a0de4f7de7b6dc7d13c525e8a5e0eb615"><div class="ttname"><a href="type__id_8h.html#a0de4f7de7b6dc7d13c525e8a5e0eb615">mfaction_str_id</a></div><div class="ttdeci">string_id&lt; monfaction &gt; mfaction_str_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00161">type_id.h:161</a></div></div>
<div class="ttc" id="awidget_8h_html_ac9c40e0d5ffae2a9e10019da79b7983fadc27c0e30cacf9b64bc66bc26f09c89a"><div class="ttname"><a href="widget_8h.html#ac9c40e0d5ffae2a9e10019da79b7983fadc27c0e30cacf9b64bc66bc26f09c89a">widget_var::mood</a></div><div class="ttdeci">@ mood</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="monster_8h_source.html#l00572">aggro_character</a>, <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="monmove_8cpp_source.html#l00478">anger_cub_threatened()</a>, <a class="el" href="monmove_8cpp_source.html#l00446">anger_hostile_seen()</a>, <a class="el" href="monmove_8cpp_source.html#l00465">anger_mating_season()</a>, <a class="el" href="monmove_8cpp_source.html#l00407">monster_plan::angers_hostile_near</a>, <a class="el" href="monmove_8cpp_source.html#l00408">monster_plan::angers_hostile_seen</a>, <a class="el" href="monmove_8cpp_source.html#l00404">monster_plan::angers_hostile_weak</a>, <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="monster_8cpp_source.html#l01450">attitude_to()</a>, <a class="el" href="map_8cpp_source.html#l07748">map::clear_path()</a>, <a class="el" href="debug_8h_source.html#l00265">debugmode::DF_MONSTER</a>, <a class="el" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">Creature::disp_name()</a>, <a class="el" href="monmove_8cpp_source.html#l00414">monster_plan::dist</a>, <a class="el" href="monmove_8cpp_source.html#l00402">monster_plan::docile</a>, <a class="el" href="monmove_8cpp.html#a692b3825de327022efb956655bf5e441">effect_dragging</a>, <a class="el" href="monmove_8cpp.html#ad5fa326832c0a774d6a775e605f27788">effect_led_by_leash</a>, <a class="el" href="monmove_8cpp.html#ab8dd6142a7131d3af944e532002ac9e3">effect_operating</a>, <a class="el" href="monster_8h_source.html#l00545">faction</a>, <a class="el" href="monmove_8cpp_source.html#l00420">monster_plan::fears_hostile_near</a>, <a class="el" href="monmove_8cpp_source.html#l00421">monster_plan::fears_hostile_seen</a>, <a class="el" href="monmove_8cpp_source.html#l00405">monster_plan::fears_hostile_weak</a>, <a class="el" href="map_8cpp_source.html#l10200">map::find_furnitures_with_flag_in_radius()</a>, <a class="el" href="monmove_8cpp_source.html#l00401">monster_plan::fleeing</a>, <a class="el" href="creature__tracker_8h_source.html#l00218">creature_tracker::for_each_reachable()</a>, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Creature::FRIENDLY</a>, <a class="el" href="monster_8h_source.html#l00539">friendly</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="map_8cpp_source.html#l10228">map::get_creatures_in_radius()</a>, <a class="el" href="monster_8cpp_source.html#l01375">get_dest()</a>, <a class="el" href="map_8cpp_source.html#l09397">map::get_inter_level_visibility()</a>, <a class="el" href="creature_8cpp_source.html#l03232">Creature::get_location()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="map_8cpp_source.html#l09625">map::getglobal()</a>, <a class="el" href="monmove_8cpp_source.html#l00410">monster_plan::group_morale</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="mtype_8cpp_source.html#l00335">mtype::has_special_attack()</a>, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Creature::HOSTILE</a>, <a class="el" href="classCreature.html#a140c55c27932cd7a09befc12d80b9a3c">Creature::hp_percentage()</a>, <a class="el" href="mtype_8cpp_source.html#l00385">mtype::in_species()</a>, <a class="el" href="monster_8cpp_source.html#l01438">is_fleeing()</a>, <a class="el" href="monster_8cpp_source.html#l01329">is_pet_follow()</a>, <a class="el" href="cata__utility_8cpp_source.html#l00166">logarithmic_range()</a>, <a class="el" href="monster_8h_source.html#l00064">MATT_ATTACK</a>, <a class="el" href="monster_8h_source.html#l00061">MATT_FLEE</a>, <a class="el" href="monster_8h_source.html#l00063">MATT_FOLLOW</a>, <a class="el" href="monfaction_8h_source.html#l00023">MFA_FRIENDLY</a>, <a class="el" href="monfaction_8h_source.html#l00024">MFA_HATE</a>, <a class="el" href="monfaction_8h_source.html#l00022">MFA_NEUTRAL</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="widget_8h.html#ac9c40e0d5ffae2a9e10019da79b7983fadc27c0e30cacf9b64bc66bc26f09c89a">mood</a>, <a class="el" href="monster_8h_source.html#l00541">morale</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="monster_8h_source.html#l00652">next_patrol_point</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>, <a class="el" href="game__constants_8h_source.html#l00073">OVERMAP_DEPTH</a>, <a class="el" href="monster_8h_source.html#l00651">patrol_route</a>, <a class="el" href="monmove_8cpp_source.html#l00406">monster_plan::placate_hostile_weak</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8h_source.html#l00317">Creature::posz()</a>, <a class="el" href="monmove_8cpp_source.html#l00361">rate_target()</a>, <a class="el" href="creature_8cpp_source.html#l01722">Creature::remove_effect()</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="creature_8cpp_source.html#l00358">Creature::sees()</a>, <a class="el" href="monster_8cpp_source.html#l01380">set_dest()</a>, <a class="el" href="monmove_8cpp_source.html#l00399">monster_plan::smart_planning</a>, <a class="el" href="monmove_8cpp.html#a6d062e430202ce21974bf3fb492002bf">species_ZOMBIE</a>, <a class="el" href="make__static_8h_source.html#l00031">STATIC</a>, <a class="el" href="monmove_8cpp_source.html#l00411">monster_plan::swarms</a>, <a class="el" href="monmove_8cpp_source.html#l00423">monster_plan::target</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a5b189c7326ca1246de45a1579b907d5e">TFLAG_AUTODOC_COUCH</a>, <a class="el" href="monster_8h_source.html#l00655">turns_since_target</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, <a class="el" href="monster_8h_source.html#l00521">wander_pos</a>, <a class="el" href="monster_8h_source.html#l00523">wandf</a>, <a class="el" href="calendar_8cpp_source.html#l00784">x_in_y()</a>, <a class="el" href="coordinates_8h_source.html#l00167">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::z()</a>, and <a class="el" href="point_8h_source.html#l00134">tripoint::z</a>.</p>

</div>
</div>
<a id="a39d78be1e47deaf970439c3b9504e5d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39d78be1e47deaf970439c3b9504e5d9">&#9670;&nbsp;</a></span>poly()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::poly </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00375">375</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;{</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classmonster.html#aed44761b8e8ac00ee8ffef0347265e4c">hp_percentage</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> ) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">hp</a> );</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a2f9d03ffee51f0193855490a75511596">no_extra_death_drops</a> ) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <a class="code" href="classmonster.html#a05f8c2f20e4981ce5f9cffdf395af8b7">generate_inventory</a>();</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a> = &amp;<span class="keywordtype">id</span>.obj();</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">Creature::set_speed_base</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#addfa6852e581c8cebbd1bbf9c4ebbd9a">speed</a> );</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a59bfdad7bfcd71c923ae8463630c95">agro</a>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8a889ba3d1d6eb87ca31ce8999c9e6d0">morale</a>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classmonster.html#aed44761b8e8ac00ee8ffef0347265e4c">hp_percentage</a> * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">hp</a> );</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.clear();</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;sa : <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">special_attacks</a> ) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <a class="code" href="classmon__special__attack.html">mon_special_attack</a> &amp;entry = <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>[sa.first];</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        entry.<a class="code" href="classmon__special__attack.html#a0f121c831a2ecb77efe06aa048f60e58">cooldown</a> = sa.second-&gt;cooldown;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="classfaction.html">faction</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ac5d8669b2e2b6e98c6288b8d87a29e51">default_faction</a>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="classmonster.html#a62679e1efa30cbc49d0ac34082171ed5">upgrades</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a1050d0f186ffaf805c7a3bce1f5d72b0">upgrades</a>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="classmonster.html#ad040aa7a065e88de5c26f205a590b6dd">reproduces</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa5d095d022d8661fbadcd45a916a4388">reproduces</a>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="classmonster.html#acce0f9e8bbe3751a3051b9ff6c5acd98">biosignatures</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8172db8cb8992550dbe1a446cca7245a">biosignatures</a>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa8d13fe74b20a471589013558a91ca2a">aggro_character</a>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a05f8c2f20e4981ce5f9cffdf395af8b7"><div class="ttname"><a href="classmonster.html#a05f8c2f20e4981ce5f9cffdf395af8b7">monster::generate_inventory</a></div><div class="ttdeci">void generate_inventory(bool disableDrops=true)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02991">monster.cpp:2991</a></div></div>
<div class="ttc" id="aclassmonster_html_aed44761b8e8ac00ee8ffef0347265e4c"><div class="ttname"><a href="classmonster.html#aed44761b8e8ac00ee8ffef0347265e4c">monster::hp_percentage</a></div><div class="ttdeci">int hp_percentage() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01652">monster.cpp:1652</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00572">aggro_character</a>, <a class="el" href="mtype_8h_source.html#l00507">mtype::aggro_character</a>, <a class="el" href="mtype_8h_source.html#l00415">mtype::agro</a>, <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="monster_8h_source.html#l00626">biosignatures</a>, <a class="el" href="mtype_8h_source.html#l00504">mtype::biosignatures</a>, <a class="el" href="monster_8h_source.html#l00050">mon_special_attack::cooldown</a>, <a class="el" href="mtype_8h_source.html#l00302">mtype::default_faction</a>, <a class="el" href="monster_8cpp_source.html#l02991">generate_inventory()</a>, <a class="el" href="monster_8h_source.html#l00616">hp</a>, <a class="el" href="mtype_8h_source.html#l00413">mtype::hp</a>, <a class="el" href="monster_8cpp_source.html#l01652">hp_percentage()</a>, <a class="el" href="monster_8h_source.html#l00541">morale</a>, <a class="el" href="mtype_8h_source.html#l00416">mtype::morale</a>, <a class="el" href="creature_8h_source.html#l01193">Creature::moves</a>, <a class="el" href="monster_8h_source.html#l00552">no_extra_death_drops</a>, <a class="el" href="monster_8h_source.html#l00624">reproduces</a>, <a class="el" href="mtype_8h_source.html#l00503">mtype::reproduces</a>, <a class="el" href="creature_8cpp_source.html#l02873">Creature::set_speed_base()</a>, <a class="el" href="monster_8h_source.html#l00617">special_attacks</a>, <a class="el" href="mtype_8h_source.html#l00378">mtype::special_attacks</a>, <a class="el" href="mtype_8h_source.html#l00414">mtype::speed</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, <a class="el" href="monster_8h_source.html#l00622">upgrades</a>, and <a class="el" href="mtype_8h_source.html#l00502">mtype::upgrades</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l02464">blobify()</a>, <a class="el" href="iuse_8cpp_source.html#l03225">iuse::can_goo()</a>, <a class="el" href="monattack_8cpp_source.html#l02394">mattack::dermatik_growth()</a>, <a class="el" href="monattack_8cpp_source.html#l02726">mattack::dogthing()</a>, <a class="el" href="monattack_8cpp_source.html#l02148">mattack::fungus_growth()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00731">trapfunc::goo()</a>, <a class="el" href="monattack_8cpp_source.html#l04661">mattack::leech_spawner()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00590">magical_polymorph()</a>, <a class="el" href="monster_8cpp_source.html#l03413">make_fungus()</a>, <a class="el" href="monattack_8cpp_source.html#l04693">mattack::mon_leech_evolution()</a>, <a class="el" href="monattack_8cpp_source.html#l02409">mattack::plant()</a>, <a class="el" href="monattack_8cpp_source.html#l02454">poly_keep_speed()</a>, <a class="el" href="monattack_8cpp_source.html#l02790">mattack::triffid_growth()</a>, and <a class="el" href="monster_8cpp_source.html#l00451">try_upgrade()</a>.</p>

</div>
</div>
<a id="a7a5cf1efd547b8140a2379598ab387c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a5cf1efd547b8140a2379598ab387c8">&#9670;&nbsp;</a></span>power_rating()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float monster::power_rating </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an approximation of the creature's strength. </p>

<p>Implements <a class="el" href="classCreature.html#a02d2efea607ba8fd8ecc714e35413d32">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03651">3651</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;{</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;    <span class="comment">// This should probably be replaced by something based on difficulty,</span></div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;    <span class="comment">// at least for smarter critters using it for evaluation.</span></div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="classmonster.html#ab92cac0ecb2b2062fd4f821b671f86ac">get_size</a>() - 2.0f; <span class="comment">// Zed gets 1, cat -1, hulk 3</span></div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;    <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += <a class="code" href="classCreature.html#a47f25d00d7403a9b318a6e54847169bd">is_ranged_attacker</a>() ? 2.0f : 0.0f;</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;    <span class="comment">// Hostile stuff gets a big boost</span></div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;    <span class="comment">// Neutral moose will still get burned if it comes close</span></div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a47f25d00d7403a9b318a6e54847169bd"><div class="ttname"><a href="classCreature.html#a47f25d00d7403a9b318a6e54847169bd">Creature::is_ranged_attacker</a></div><div class="ttdeci">virtual bool is_ranged_attacker() const</div><div class="ttdoc">Returns true if this monster has a gun-type attack or the RANGED_ATTACKER flag.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00309">creature.cpp:309</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l03503">get_size()</a>, <a class="el" href="creature_8cpp_source.html#l00309">Creature::is_ranged_attacker()</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

</div>
</div>
<a id="a8214716bae5ea3955cc6937c12a7eb81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8214716bae5ea3955cc6937c12a7eb81">&#9670;&nbsp;</a></span>print_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int monster::print_info </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vLines</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>column</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write information about this creature. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">w</td><td>the window to print the text into. </td></tr>
    <tr><td class="paramname">vStart</td><td>vertical start to print, that means the first line to print. </td></tr>
    <tr><td class="paramname">vLines</td><td>number of lines to print at most (printing less is fine). </td></tr>
    <tr><td class="paramname">column</td><td>horizontal start to print (column), horizontal end is one character before the right border of the window (to keep the border). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The line just behind the last printed line, that means multiple calls to this can be stacked, the return value is acceptable as vStart for the next call without creating empty lines or overwriting lines. </dd></dl>

<p>Implements <a class="el" href="classCreature.html#ab0d27ad3c2c730a3c88ee897e55f344f">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00864">864</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;{</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> vEnd = vStart + vLines;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> max_width = <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) - column - 1;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    std::ostringstream oss;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    oss &lt;&lt; <a class="code" href="color_8cpp.html#ada4ce8f644b693ffce233ae5f94e6214">get_tag_from_color</a>( <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a> ) &lt;&lt; <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Origin: &quot;</span> );</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    oss &lt;&lt; <a class="code" href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a2d1d188238745cf6ac334c69be8cd931">src</a>.begin(),</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a2d1d188238745cf6ac334c69be8cd931">src</a>.end(), []( <span class="keyword">const</span> std::pair&lt;mtype_id, mod_id&gt; &amp;source ) {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        return string_format( <span class="stringliteral">&quot;&#39;%s&#39;&quot;</span>, source.second-&gt;name() );</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    }, <a class="code" href="output_8h.html#acff0d12357d8a4690e781eed41b36b98a9022a153e6190f10d9b57aa4232b8aea">enumeration_conjunction::arrow</a> );</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;&lt;/color&gt;&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="debug_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a> ) {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        oss &lt;&lt; <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a> );</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="comment">// Print health bar, monster name, then statuses on the first line.</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <a class="code" href="classnc__color.html">nc_color</a> bar_color = <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    std::string bar_str;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <a class="code" href="classmonster.html#ad8a1c3e7751cf9cc06c2293b2dbc1021">get_HP_Bar</a>( bar_color, bar_str );</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    oss &lt;&lt; <a class="code" href="color_8cpp.html#ada4ce8f644b693ffce233ae5f94e6214">get_tag_from_color</a>( bar_color ) &lt;&lt; bar_str &lt;&lt; <span class="stringliteral">&quot;&lt;/color&gt;&quot;</span>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;&lt;color_white&gt;&quot;</span> &lt;&lt; std::string( 5 - <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( bar_str ), <span class="charliteral">&#39;.&#39;</span> ) &lt;&lt; <span class="stringliteral">&quot;&lt;/color&gt; &quot;</span>;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    oss &lt;&lt; <a class="code" href="color_8cpp.html#ada4ce8f644b693ffce233ae5f94e6214">get_tag_from_color</a>( <a class="code" href="classmonster.html#a8bce8bde3c0ee3824c875264f30c47cf">basic_symbol_color</a>() ) &lt;&lt; <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() &lt;&lt; <span class="stringliteral">&quot;&lt;/color&gt; &quot;</span>;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;&lt;color_h_white&gt;&quot;</span> &lt;&lt; <a class="code" href="classmonster.html#a33b7b408cf37cf721ff9775c4f137820">get_effect_status</a>() &lt;&lt; <span class="stringliteral">&quot;&lt;/color&gt;&quot;</span>;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    vStart += <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( column, vStart ), max_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, oss.str() );</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;pc = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordtype">bool</span> sees_player = <a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( pc );</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> player_knows = !pc.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="monster_8cpp.html#a7f3efc14d34d48d62804d9b8b8e627cc">trait_INATTENTIVE</a> );</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160; </div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="comment">// Hostility indicator on the second line.</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    std::pair&lt;std::string, nc_color&gt; att = <a class="code" href="classmonster.html#ae808866ea52bc8b079ee607547acfb5f">get_attitude</a>();</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordflow">if</span>( player_knows ) {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( column, vStart++ ), att.second, att.first );</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160; </div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="comment">// Awareness indicator in the third line.</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    std::string senses_str = sees_player ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Can see to your current location&quot;</span> ) :</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                             <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Can&#39;t see to your current location&quot;</span> );</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">if</span>( player_knows ) {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        vStart += <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( column, vStart ), max_width, player_knows &amp;&amp;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                                  sees_player ? <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> : <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a>,</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                                  senses_str );</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    }</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keyword">const</span> std::string speed_desc = <a class="code" href="classmonster.html#a8f374ed84027ba4933a19980bfaf2734">speed_description</a>(</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                                       <a class="code" href="classmonster.html#aa726a9074840d376b00a575d4079bcbc">speed_rating</a>(),</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                                       <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#af8eb4198f7564379a407e89c13cdd1b7">mon_flag_IMMOBILE</a> ),</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                                       <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a50af5397af17c8cab22ec136b8fc3252">speed_desc</a> );</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    vStart += <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( column, vStart ), max_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, speed_desc );</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="comment">// Monster description on following lines.</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    std::vector&lt;std::string&gt; lines = <a class="code" href="output_8cpp.html#aea67d56cef07017be061e1ceefee80df">foldstring</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#abace25d482003f6cfc96e4ef98763eea">get_description</a>(), max_width );</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keywordtype">int</span> numlines = lines.size();</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; numlines &amp;&amp; vStart &lt; vEnd; i++ ) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( column, vStart++ ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, lines[i] );</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#ac18a1fa7e650a4c2d927d666a10f84aa">mission_fused</a>.empty() ) {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <span class="comment">// Mission monsters fused into this monster</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <span class="keyword">const</span> std::string fused_desc = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Parts of %s protrude from its body.&quot;</span> ),</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                                       <a class="code" href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a>( <a class="code" href="classmonster.html#ac18a1fa7e650a4c2d927d666a10f84aa">mission_fused</a> ) );</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        lines = <a class="code" href="output_8cpp.html#aea67d56cef07017be061e1ceefee80df">foldstring</a>( fused_desc, max_width );</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        numlines = lines.size();</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; numlines &amp;&amp; vStart &lt; vEnd; i++ ) {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( column, ++vStart ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, lines[i] );</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="comment">// Riding indicator on next line after description.</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a> ) &amp;&amp; <a class="code" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a> ) {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( column, ++vStart ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Rider: %s&quot;</span> ), <a class="code" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a>-&gt;<a class="code" href="classCharacter.html#a1e1996b6d6fc0a86d917cd155e1656d8">disp_name</a>() );</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160; </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="comment">// Show monster size on the last line</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a09d744e753389b85555df87d01f19bf0">size_bonus</a> &gt; 0 ) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( column, ++vStart ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; It is %s.&quot;</span> ),</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                   <a class="code" href="monster_8cpp.html#a47bbbe195cfd102f5523b5209b233f2c">size_names</a>.at( <a class="code" href="classmonster.html#ab92cac0ecb2b2062fd4f821b671f86ac">get_size</a>() ) );</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160; </div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;ENABLE_ASCII_ART&quot;</span> ) ) {</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <span class="keyword">const</span> <a class="code" href="classstring__id.html">ascii_art_id</a> art = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a19d25bfcbd1f04b3536652f4baf2e2f3">get_picture_id</a>();</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <span class="keywordflow">if</span>( art.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;<a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> : art-&gt;<a class="code" href="classascii__art.html#ad15e094a0d8a2cd64309e4d943f10f39">picture</a> ) {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( column, ++vStart ), max_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> );</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            }</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        }</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    }</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordflow">return</span> ++vStart;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;}</div>
<div class="ttc" id="acatacharset_8cpp_html_af20ee33da59ccceb9f4c14005c0bbe80"><div class="ttname"><a href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a></div><div class="ttdeci">int utf8_width(const std::string_view s, const bool ignore_tags)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00104">catacharset.cpp:104</a></div></div>
<div class="ttc" id="aclassascii__art_html_ad15e094a0d8a2cd64309e4d943f10f39"><div class="ttname"><a href="classascii__art.html#ad15e094a0d8a2cd64309e4d943f10f39">ascii_art::picture</a></div><div class="ttdeci">std::vector&lt; std::string &gt; picture</div><div class="ttdef"><b>Definition:</b> <a href="ascii__art_8h_source.html#l00025">ascii_art.h:25</a></div></div>
<div class="ttc" id="aclassmonster_html_a8bce8bde3c0ee3824c875264f30c47cf"><div class="ttname"><a href="classmonster.html#a8bce8bde3c0ee3824c875264f30c47cf">monster::basic_symbol_color</a></div><div class="ttdeci">nc_color basic_symbol_color() const override</div><div class="ttdoc">Creature symbol color.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01153">monster.cpp:1153</a></div></div>
<div class="ttc" id="aclassmonster_html_ad8a1c3e7751cf9cc06c2293b2dbc1021"><div class="ttname"><a href="classmonster.html#ad8a1c3e7751cf9cc06c2293b2dbc1021">monster::get_HP_Bar</a></div><div class="ttdeci">void get_HP_Bar(nc_color &amp;color, std::string &amp;text) const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00789">monster.cpp:789</a></div></div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00078">achievement.cpp:78</a></div></div>
<div class="ttc" id="acolor_8cpp_html_ada4ce8f644b693ffce233ae5f94e6214"><div class="ttname"><a href="color_8cpp.html#ada4ce8f644b693ffce233ae5f94e6214">get_tag_from_color</a></div><div class="ttdeci">std::string get_tag_from_color(const nc_color &amp;color)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00737">color.cpp:737</a></div></div>
<div class="ttc" id="acolor_8h_html_a0d06dc49b9761bbc54607397213728bb"><div class="ttname"><a href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a></div><div class="ttdeci">#define c_white</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00016">color.h:16</a></div></div>
<div class="ttc" id="acolor_8h_html_a1b1e3c0bef566a83c3535e38a93ad733"><div class="ttname"><a href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a></div><div class="ttdeci">#define c_light_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00017">color.h:17</a></div></div>
<div class="ttc" id="acolor_8h_html_a1cb87e74156596960610fd0a9ace766d"><div class="ttname"><a href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a></div><div class="ttdeci">#define c_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00020">color.h:20</a></div></div>
<div class="ttc" id="acolor_8h_html_af0a87eaef36305269f4506dfa34d94c0"><div class="ttname"><a href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a></div><div class="ttdeci">#define c_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00019">color.h:19</a></div></div>
<div class="ttc" id="amagic_8h_html_a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474"><div class="ttname"><a href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">spell_shape::line</a></div><div class="ttdeci">@ line</div></div>
<div class="ttc" id="anamespacecatacurses_html_a929fe85d472028f52d8a5cdfc0d35017"><div class="ttname"><a href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">catacurses::getmaxx</a></div><div class="ttdeci">int getmaxx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00091">ncurses_def.cpp:91</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1184e3eda011b110d09bf2dcf08228f5"><div class="ttname"><a href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a></div><div class="ttdeci">void mvwprintz(const catacurses::window &amp;w, const point &amp;p, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03290">output.cpp:3290</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab9659cbe9ec23a2efd813f795cb7fb73"><div class="ttname"><a href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a></div><div class="ttdeci">int fold_and_print(const catacurses::window &amp;w, const point &amp;begin, int width, const nc_color &amp;base_color, const std::string &amp;text, const char split)</div><div class="ttdoc">Fold and print text in the given window.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00379">output.cpp:379</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aea67d56cef07017be061e1ceefee80df"><div class="ttname"><a href="output_8cpp.html#aea67d56cef07017be061e1ceefee80df">foldstring</a></div><div class="ttdeci">std::vector&lt; std::string &gt; foldstring(const std::string &amp;str, int width, const char split)</div><div class="ttdoc">Split the input text into separate lines and wrap long lines.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00123">output.cpp:123</a></div></div>
<div class="ttc" id="astructmtype_html_a19d25bfcbd1f04b3536652f4baf2e2f3"><div class="ttname"><a href="structmtype.html#a19d25bfcbd1f04b3536652f4baf2e2f3">mtype::get_picture_id</a></div><div class="ttdeci">ascii_art_id get_picture_id() const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00508">mtype.cpp:508</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="output_8h.html#acff0d12357d8a4690e781eed41b36b98a9022a153e6190f10d9b57aa4232b8aea">arrow</a>, <a class="el" href="monster_8cpp_source.html#l01153">basic_symbol_color()</a>, <a class="el" href="color_8h_source.html#l00020">c_green</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="color_8cpp_source.html#l00742">colorize()</a>, <a class="el" href="debug_8cpp_source.html#l00210">debug_mode</a>, <a class="el" href="character_8cpp_source.html#l00829">Character::disp_name()</a>, <a class="el" href="monster_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a>, <a class="el" href="output_8h_source.html#l00647">enumerate_as_string()</a>, <a class="el" href="output_8cpp_source.html#l00379">fold_and_print()</a>, <a class="el" href="output_8cpp_source.html#l00123">foldstring()</a>, <a class="el" href="monster_8cpp_source.html#l00794">get_attitude()</a>, <a class="el" href="mtype_8cpp_source.html#l00503">mtype::get_description()</a>, <a class="el" href="monster_8cpp_source.html#l02380">get_effect_status()</a>, <a class="el" href="monster_8cpp_source.html#l00789">get_HP_Bar()</a>, <a class="el" href="mtype_8cpp_source.html#l00508">mtype::get_picture_id()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="monster_8cpp_source.html#l03503">get_size()</a>, <a class="el" href="color_8cpp_source.html#l00737">get_tag_from_color()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="mtype_8h_source.html#l00301">mtype::id</a>, <a class="el" href="achievement_8cpp_source.html#l00078">string_id&lt; T &gt;::is_valid()</a>, <a class="el" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>, <a class="el" href="monster_8h_source.html#l00549">mission_fused</a>, <a class="el" href="mtype_8cpp_source.html#l00101">mon_flag_IMMOBILE</a>, <a class="el" href="monster_8h_source.html#l00526">mounted_player</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="ascii__art_8h_source.html#l00025">ascii_art::picture</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="creature_8cpp_source.html#l00358">Creature::sees()</a>, <a class="el" href="creature_8h_source.html#l01230">Creature::size_bonus</a>, <a class="el" href="monster_8cpp_source.html#l00204">size_names</a>, <a class="el" href="mtype_8h_source.html#l00305">mtype::speed_desc</a>, <a class="el" href="monster_8cpp_source.html#l00835">speed_description()</a>, <a class="el" href="monster_8cpp_source.html#l03662">speed_rating()</a>, <a class="el" href="mtype_8h_source.html#l00337">mtype::src</a>, <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="monster_8cpp.html#a7f3efc14d34d48d62804d9b8b8e627cc">trait_INATTENTIVE</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="catacharset_8cpp_source.html#l00104">utf8_width()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wish_8cpp_source.html#l00686">wish_monster_callback::refresh()</a>.</p>

</div>
</div>
<a id="a4469c5dffabf4f23d22217747e93a093"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4469c5dffabf4f23d22217747e93a093">&#9670;&nbsp;</a></span>process_effects()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::process_effects </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes monster-specific effects before calling <a class="el" href="classCreature.html#a7c4224e3e3ce5b7bf6af5da26c622af6" title="Processes through all the effects on the Creature.">Creature::process_effects()</a>. </p>

<p>Reimplemented from <a class="el" href="classCreature.html#a7c4224e3e3ce5b7bf6af5da26c622af6">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03204">3204</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;{</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;    <span class="comment">// Monster only effects</span></div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : *<a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;_effect_it : elem.second ) {</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;            <a class="code" href="classmonster.html#ac8656d9b9ad311f1824287403e546e6e">process_one_effect</a>( _effect_it.second, <span class="keyword">false</span> );</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;        }</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;    }</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160; </div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;    <span class="comment">// Like with player/NPCs - keep the speed above 0</span></div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> min_speed_bonus = -0.75 * <a class="code" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a>();</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a35bbfb9c042ed3cf7e0ae9b7280384c4">get_speed_bonus</a>() &lt; min_speed_bonus ) {</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;        <a class="code" href="classCreature.html#a81fd71e521e09908425fc63a64458f59">set_speed_bonus</a>( min_speed_bonus );</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;    }</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160; </div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;    <span class="comment">//If this monster has the ability to heal in combat, do it now.</span></div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;    <span class="keywordtype">int</span> regeneration_amount = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9c5f5681128376b6abcd83747e947262">regenerates</a>;</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    <span class="comment">//Apply effect-triggered regeneartion modifiers</span></div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;regeneration_modifier : <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af4eec186d1567593df128351c81932ad">regeneration_modifiers</a> ) {</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( regeneration_modifier.first ) ) {</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;            regeneration_amount += regeneration_modifier.second;</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;        }</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;    }</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;    <span class="comment">//Apply enchantment modifiers</span></div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;    regeneration_amount = <a class="code" href="classmonster.html#a1182f5685e5de114ebf316c732a866f5">calculate_by_enchantment</a>( regeneration_amount, <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998a520a67c2759f97817d9c5eac54a02b8a">enchant_vals::mod::REGEN_HP</a>,</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;                          <span class="keyword">true</span> );</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;    <span class="comment">//Prevent negative regeneration</span></div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;    <span class="keywordflow">if</span>( regeneration_amount &lt; 0 ) {</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;        regeneration_amount = 0;</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;    }</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> healed_amount = <a class="code" href="classmonster.html#af7763c0da8025aea231a29272f25d5fc">heal</a>( regeneration_amount );</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    <span class="keywordflow">if</span>( healed_amount &gt; 0 &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) {</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;        std::string healing_format_string;</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;        <span class="keywordflow">if</span>( healed_amount &gt;= 50 ) {</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;            healing_format_string = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s is visibly regenerating!&quot;</span> );</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( healed_amount &gt;= 10 ) {</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;            healing_format_string = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s seems a little healthier.&quot;</span> );</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;            healing_format_string = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s is healing slowly.&quot;</span> );</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;        }</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;        <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( *<span class="keyword">this</span>, <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, healing_format_string, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;    }</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160; </div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#afaaebe8d0765896be201b3cffafa55c3">regenerates_in_dark</a> &amp;&amp; !<a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_in_sunlight( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ) {</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">light</a> = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a47284179cd831f04aaa7ff3242a5fb7b">ambient_light_at</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;        <span class="comment">// Magic number 10000 was chosen so that a floodlight prevents regeneration in a range of 20 tiles</span></div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> dHP = 50.0 * std::exp( - <a class="code" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">light</a> * <a class="code" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">light</a> / 10000 );</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#af7763c0da8025aea231a29272f25d5fc">heal</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( dHP ) ) &gt; 0 &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) {</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;            <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( *<span class="keyword">this</span>, <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s uses the darkness to regenerate.&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;        }</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;    }</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160; </div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#ad060c301873debf1b1401edcee21874f">effect_critter_well_fed</a> ) &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 90 ) ) {</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;        <a class="code" href="classmonster.html#af7763c0da8025aea231a29272f25d5fc">heal</a>( 1 );</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;    }</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160; </div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;    <span class="comment">//We already check these timers on_load, but adding a random chance for them to go off here</span></div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;    <span class="comment">//will make it so that the player needn&#39;t leave the area and return for critters to poop,</span></div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;    <span class="comment">//become hungry, evolve, have babies, or refill udders.</span></div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 30000 ) ) {</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;        <a class="code" href="classmonster.html#a63cfaab5c6126ecc3f3c3e966f4bf574">try_upgrade</a>( <span class="keyword">false</span> );</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;        <a class="code" href="classmonster.html#a02e7dee3b3f096d760d7332395ba54f3">try_reproduce</a>();</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;        <a class="code" href="classmonster.html#a5419be03caffc0d80b49a9317beb00cf">try_biosignature</a>();</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160; </div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a11074efaf5980ef21e67507fb97232a3">amount_eaten</a> &gt; 0 ) {</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#aa37e8c765633b2710dcc31bf2c864b37">mon_flag_EATS</a> ) ) {</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;                <a class="code" href="classmonster.html#aa6e5cda6283d3a6bbf243bafe93ed8d0">digest_food</a>();</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;                <a class="code" href="classmonster.html#a11074efaf5980ef21e67507fb97232a3">amount_eaten</a> = 0;</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;            }</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;        }</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160; </div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#acff8e2ead205b29d0d81a91ffe150fff">mon_flag_MILKABLE</a> ) ) {</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;            <a class="code" href="classmonster.html#ae054bfde7618d0ff8c7dff70a9e3e392">refill_udders</a>();</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;        }</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;    }</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160; </div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;    <span class="comment">//Monster will regen morale and aggression if it is at/above max HP</span></div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    <span class="comment">//It regens more morale and aggression if is currently fleeing.</span></div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a7bb30162b64f86f4eebcf00b3b37146d">regen_morale</a> &amp;&amp; <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> &gt;= <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">hp</a> ) {</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a0f5047243bc2dc00f32c39b5d0918002">is_fleeing</a>( player_character ) ) {</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;            <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8a889ba3d1d6eb87ca31ce8999c9e6d0">morale</a>;</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;            <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a59bfdad7bfcd71c923ae8463630c95">agro</a>;</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;        }</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;        <span class="keywordflow">if</span>( morale &lt; type-&gt;<a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> ) {</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;            <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> += 1;</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;        }</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;        <span class="keywordflow">if</span>( anger &lt; type-&gt;agro ) {</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;            <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> += 1;</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;        }</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> &lt; 0 &amp;&amp; morale &lt; type-&gt;<a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> ) {</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;            <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> += 5;</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;            <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a>, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8a889ba3d1d6eb87ca31ce8999c9e6d0">morale</a> );</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;        }</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> &lt; 0 &amp;&amp; anger &lt; type-&gt;agro ) {</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;            <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> += 5;</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;            <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a>, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a59bfdad7bfcd71c923ae8463630c95">agro</a> );</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;        }</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;    }</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160; </div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ad0b5d22261d4a035ff236d207b0100d8">mon_flag_CORNERED_FIGHTER</a> ) ) {</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;        <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;        <a class="code" href="classcreature__tracker.html">creature_tracker</a> &amp;creatures = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>();</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : here.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 2 ) ) {</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;            <span class="keyword">const</span> <a class="code" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>&lt;<a class="code" href="classmonster.html">monster</a>&gt;( p );</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;            <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> *<span class="keyword">const</span> guy = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>&lt;<a class="code" href="classCharacter.html">Character</a>&gt;( p );</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;            <span class="keywordflow">if</span>( mon &amp;&amp; mon != <span class="keyword">this</span> &amp;&amp; mon-&gt;<a class="code" href="classmonster.html#a8e30fdb59bcecd8ecb8a609431cb6caf">faction</a>-&gt;<a class="code" href="classmonfaction.html#ad48af5228028d52c07f480e5d7c2bf93">attitude</a>( <a class="code" href="classfaction.html">faction</a> ) != <a class="code" href="monfaction_8h.html#ac5f72a9f6d69d1d5c271af54b16f9ab0a8baef7717ecdcd96e64dca04ab2b4c97">MFA_FRIENDLY</a> &amp;&amp;</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;                !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a20a7f54a516a50e57f8fa7d4ebba0d4f">effect_spooked</a> ) &amp;&amp; <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> &lt;= 0 ) {</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;                <span class="keywordflow">if</span>( !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a8b94d7315b54bfefe3545b9adbaa8096">effect_spooked_recent</a> ) ) {</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;                    <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a20a7f54a516a50e57f8fa7d4ebba0d4f">effect_spooked</a>, 3_turns, <span class="keyword">false</span> );</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;                    <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a8b94d7315b54bfefe3545b9adbaa8096">effect_spooked_recent</a>, 9_turns, <span class="keyword">false</span> );</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;                    <span class="keywordflow">if</span>( morale &lt; type-&gt;<a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> ) {</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;                        <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8a889ba3d1d6eb87ca31ce8999c9e6d0">morale</a>;</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;                        <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a59bfdad7bfcd71c923ae8463630c95">agro</a>;</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;                    }</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;                }</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;            }</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;            <span class="keywordflow">if</span>( guy ) {</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;                <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4">monster_attitude</a> att = <a class="code" href="classmonster.html#a6f9b80e613e46d2a7ebbb21ea5e11e4c">attitude</a>( guy );</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;                <span class="keywordflow">if</span>( ( <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == 0 ) &amp;&amp; ( att == <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a850d5624fd1d54192310ab8b13f228ee">MATT_FOLLOW</a> || att == <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a1c6426f1f830743448b46e8e2aa068b4">MATT_FLEE</a> ) &amp;&amp;</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;                    !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a20a7f54a516a50e57f8fa7d4ebba0d4f">effect_spooked</a> ) ) {</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;                    <span class="keywordflow">if</span>( !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a8b94d7315b54bfefe3545b9adbaa8096">effect_spooked_recent</a> ) ) {</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;                        <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a20a7f54a516a50e57f8fa7d4ebba0d4f">effect_spooked</a>, 3_turns, <span class="keyword">false</span> );</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;                        <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a8b94d7315b54bfefe3545b9adbaa8096">effect_spooked_recent</a>, 9_turns, <span class="keyword">false</span> );</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;                        <span class="keywordflow">if</span>( morale &lt; type-&gt;<a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> ) {</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;                            <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8a889ba3d1d6eb87ca31ce8999c9e6d0">morale</a>;</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;                            <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a59bfdad7bfcd71c923ae8463630c95">agro</a>;</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;                        }</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;                    }</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;                }</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;            }</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;        }</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;    }</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160; </div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa8489f3022eccd25b5a5efb67bedfba6">is_nemesis</a>() ) {</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;        <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a4f511140c4cfad71f73a4ffd03fd781d">effect_nemesis_buff</a>, 1000_turns, <span class="keyword">true</span> );</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;    }</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160; </div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a0f05449d8007b14135665be5ac29c264">mon_flag_PHOTOPHOBIC</a> ) &amp;&amp; <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().ambient_light_at( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) &gt;= 30.0f ) {</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;        <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( *<span class="keyword">this</span>, <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The shadow withers in the light!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;        <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a256d697dd30ba2a0dcefb8c3ff2caf35">effect_photophobia</a>, 5_turns, <span class="keyword">true</span> );</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;    }</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160; </div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;    <span class="comment">// If this critter dies in sunlight, check &amp; assess damage.</span></div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ac15b344ef0a6c63960a6b7c042b0ce94">mon_flag_SUNDEATH</a> ) &amp;&amp; <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_in_sunlight( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ) {</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;        <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( *<span class="keyword">this</span>, <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s burns horribly in the sunlight!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;        <a class="code" href="classmonster.html#afc6e6f5443145732310dd4901a394b4f">apply_damage</a>( <span class="keyword">nullptr</span>, <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), 100 );</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> &lt; 0 ) {</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;            <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> = 0;</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;        }</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;    }</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160; </div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;    <span class="comment">// Apply or remove the cramped_space effect, which needs specific information about the monster&#39;s surroundings.</span></div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> z_pos = <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>();</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;    <span class="keyword">const</span> <a class="code" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( z_pos );</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a4720d4449171de19328e9e2adc8ba622">effect_cramped_space</a> ) &amp;&amp; !vp.has_value() ) {</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;        <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monster_8cpp.html#a4720d4449171de19328e9e2adc8ba622">effect_cramped_space</a> );</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;    }</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;    <span class="keywordflow">if</span>( vp.has_value() ) {</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;        <a class="code" href="classvehicle.html">vehicle</a> &amp;veh = vp-&gt;vehicle();</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;        <a class="code" href="classunits_1_1quantity.html">units::volume</a> capacity = 0_ml;</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;        <a class="code" href="classunits_1_1quantity.html">units::volume</a> free_cargo = 0_ml;</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;        <span class="keyword">auto</span> cargo_parts = veh.<a class="code" href="classvehicle.html#a38ba5bdc99241568c83ada974ed73e07">get_parts_at</a>( z_pos, <span class="stringliteral">&quot;CARGO&quot;</span>, <a class="code" href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02ca100b8cad7cf2a56f6df78f171f97a1ec">part_status_flag::any</a> );</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="structvehicle__part.html">vehicle_part</a> *&amp;part : cargo_parts ) {</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;            <a class="code" href="classvehicle__stack.html">vehicle_stack</a> <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a1ff93bf21a97272ada4556de4422fb80">contents</a> = veh.<a class="code" href="classvehicle.html#abbc4051229bf116dfd03c53dcc4a0765">get_items</a>( *part );</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;            <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> &amp;vpinfo = part-&gt;info();</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;            <span class="keywordflow">if</span>( !vp.<a class="code" href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">part_with_feature</a>( <span class="stringliteral">&quot;CARGO_PASSABLE&quot;</span>, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;                capacity += vpinfo.<a class="code" href="classvpart__info.html#aee4afe2c309516d6b91ff384fab6f2b2">size</a>;</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;                free_cargo += <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a1ff93bf21a97272ada4556de4422fb80">contents</a>.free_volume();</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;            }</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;        }</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;        <span class="keyword">const</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2">creature_size</a> <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> = <a class="code" href="classmonster.html#ab92cac0ecb2b2062fd4f821b671f86ac">get_size</a>();</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;        <span class="keywordflow">if</span>( capacity &gt; 0_ml ) {</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;            <span class="comment">// Open-topped vehicle parts have more room, and are always free space for fliers.</span></div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;            <span class="keywordflow">if</span>( !veh.<a class="code" href="classvehicle.html#afccaeaa8277a4fbfc2c596682bf8b2d1">enclosed_at</a>( z_pos ) ) {</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;                free_cargo *= 1.2;</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>() ) {</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;                    <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monster_8cpp.html#a4720d4449171de19328e9e2adc8ba622">effect_cramped_space</a> );</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;                }</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;            }</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;            <span class="keywordflow">if</span>( ( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a> &amp;&amp; free_cargo &lt; 15625_ml ) ||</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;                ( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">creature_size::small</a> &amp;&amp; free_cargo &lt; 31250_ml ) ||</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;                ( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a> &amp;&amp; free_cargo &lt; 62500_ml ) ||</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;                ( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a> &amp;&amp; free_cargo &lt; 125000_ml ) ||</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;                ( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a> &amp;&amp; free_cargo &lt; 250000_ml ) ) {</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;                <span class="keywordflow">if</span>( !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a4720d4449171de19328e9e2adc8ba622">effect_cramped_space</a> ) ) {</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;                    <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a4720d4449171de19328e9e2adc8ba622">effect_cramped_space</a>, 2_turns, <span class="keyword">true</span> );</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;                }</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;            }</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;        }</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#ab92cac0ecb2b2062fd4f821b671f86ac">get_size</a>() == <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a> &amp;&amp; !vp.<a class="code" href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">part_with_feature</a>( <span class="stringliteral">&quot;AISLE&quot;</span>, <span class="keyword">false</span> ) &amp;&amp;</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;            !vp.<a class="code" href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">part_with_feature</a>( <span class="stringliteral">&quot;HUGE_OK&quot;</span>, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a4720d4449171de19328e9e2adc8ba622">effect_cramped_space</a> ) ) {</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;                <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a4720d4449171de19328e9e2adc8ba622">effect_cramped_space</a>, 2_turns, <span class="keyword">true</span> );</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;            }</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;        }</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;        <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monster_8cpp.html#a4720d4449171de19328e9e2adc8ba622">effect_cramped_space</a> );</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;    }</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160; </div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;    <a class="code" href="classCreature.html#a7c4224e3e3ce5b7bf6af5da26c622af6">Creature::process_effects</a>();</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a35bbfb9c042ed3cf7e0ae9b7280384c4"><div class="ttname"><a href="classCreature.html#a35bbfb9c042ed3cf7e0ae9b7280384c4">Creature::get_speed_bonus</a></div><div class="ttdeci">virtual int get_speed_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02786">creature.cpp:2786</a></div></div>
<div class="ttc" id="aclassCreature_html_a7c4224e3e3ce5b7bf6af5da26c622af6"><div class="ttname"><a href="classCreature.html#a7c4224e3e3ce5b7bf6af5da26c622af6">Creature::process_effects</a></div><div class="ttdeci">virtual void process_effects()</div><div class="ttdoc">Processes through all the effects on the Creature.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01881">creature.cpp:1881</a></div></div>
<div class="ttc" id="aclassCreature_html_a81fd71e521e09908425fc63a64458f59"><div class="ttname"><a href="classCreature.html#a81fd71e521e09908425fc63a64458f59">Creature::set_speed_bonus</a></div><div class="ttdeci">virtual void set_speed_bonus(int nspeed)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02877">creature.cpp:2877</a></div></div>
<div class="ttc" id="aclassmonfaction_html_ad48af5228028d52c07f480e5d7c2bf93"><div class="ttname"><a href="classmonfaction.html#ad48af5228028d52c07f480e5d7c2bf93">monfaction::attitude</a></div><div class="ttdeci">mf_attitude attitude(const mfaction_id &amp;other) const</div><div class="ttdef"><b>Definition:</b> <a href="monfaction_8cpp_source.html#l00062">monfaction.cpp:62</a></div></div>
<div class="ttc" id="aclassmonster_html_a1182f5685e5de114ebf316c732a866f5"><div class="ttname"><a href="classmonster.html#a1182f5685e5de114ebf316c732a866f5">monster::calculate_by_enchantment</a></div><div class="ttdeci">double calculate_by_enchantment(double modify, enchant_vals::mod value, bool round_output=false) const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l04016">monster.cpp:4016</a></div></div>
<div class="ttc" id="aclassmonster_html_aa8489f3022eccd25b5a5efb67bedfba6"><div class="ttname"><a href="classmonster.html#aa8489f3022eccd25b5a5efb67bedfba6">monster::is_nemesis</a></div><div class="ttdeci">bool is_nemesis() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03585">monster.cpp:3585</a></div></div>
<div class="ttc" id="aclassmonster_html_ac8656d9b9ad311f1824287403e546e6e"><div class="ttname"><a href="classmonster.html#ac8656d9b9ad311f1824287403e546e6e">monster::process_one_effect</a></div><div class="ttdeci">void process_one_effect(effect &amp;it, bool is_new) override</div><div class="ttdoc">Processes monster-specific effects of an effect.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03111">monster.cpp:3111</a></div></div>
<div class="ttc" id="aclassvpart__info_html"><div class="ttname"><a href="classvpart__info.html">vpart_info</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00239">veh_type.h:240</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aee4afe2c309516d6b91ff384fab6f2b2"><div class="ttname"><a href="classvpart__info.html#aee4afe2c309516d6b91ff384fab6f2b2">vpart_info::size</a></div><div class="ttdeci">units::volume size</div><div class="ttdoc">Cargo location volume.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00391">veh_type.h:391</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a20a7f54a516a50e57f8fa7d4ebba0d4f"><div class="ttname"><a href="monster_8cpp.html#a20a7f54a516a50e57f8fa7d4ebba0d4f">effect_spooked</a></div><div class="ttdeci">static const efftype_id effect_spooked(&quot;spooked&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a256d697dd30ba2a0dcefb8c3ff2caf35"><div class="ttname"><a href="monster_8cpp.html#a256d697dd30ba2a0dcefb8c3ff2caf35">effect_photophobia</a></div><div class="ttdeci">static const efftype_id effect_photophobia(&quot;photophobia&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a4720d4449171de19328e9e2adc8ba622"><div class="ttname"><a href="monster_8cpp.html#a4720d4449171de19328e9e2adc8ba622">effect_cramped_space</a></div><div class="ttdeci">static const efftype_id effect_cramped_space(&quot;cramped_space&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a4f511140c4cfad71f73a4ffd03fd781d"><div class="ttname"><a href="monster_8cpp.html#a4f511140c4cfad71f73a4ffd03fd781d">effect_nemesis_buff</a></div><div class="ttdeci">static const efftype_id effect_nemesis_buff(&quot;nemesis_buff&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a8b94d7315b54bfefe3545b9adbaa8096"><div class="ttname"><a href="monster_8cpp.html#a8b94d7315b54bfefe3545b9adbaa8096">effect_spooked_recent</a></div><div class="ttdeci">static const efftype_id effect_spooked_recent(&quot;spooked_recent&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_a0f05449d8007b14135665be5ac29c264"><div class="ttname"><a href="mtype_8cpp.html#a0f05449d8007b14135665be5ac29c264">mon_flag_PHOTOPHOBIC</a></div><div class="ttdeci">mon_flag_id mon_flag_PHOTOPHOBIC</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00130">mtype.cpp:130</a></div></div>
<div class="ttc" id="amtype_8cpp_html_ac15b344ef0a6c63960a6b7c042b0ce94"><div class="ttname"><a href="mtype_8cpp.html#ac15b344ef0a6c63960a6b7c042b0ce94">mon_flag_SUNDEATH</a></div><div class="ttdeci">mon_flag_id mon_flag_SUNDEATH</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00154">mtype.cpp:154</a></div></div>
<div class="ttc" id="amtype_8cpp_html_ad0b5d22261d4a035ff236d207b0100d8"><div class="ttname"><a href="mtype_8cpp.html#ad0b5d22261d4a035ff236d207b0100d8">mon_flag_CORNERED_FIGHTER</a></div><div class="ttdeci">mon_flag_id mon_flag_CORNERED_FIGHTER</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00066">mtype.cpp:66</a></div></div>
<div class="ttc" id="anamespaceenchant__vals_html_acd6a6ebb27f9ecb82b3bce1d3aef2998a520a67c2759f97817d9c5eac54a02b8a"><div class="ttname"><a href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998a520a67c2759f97817d9c5eac54a02b8a">enchant_vals::mod::REGEN_HP</a></div><div class="ttdeci">@ REGEN_HP</div></div>
<div class="ttc" id="astructmtype_html_a7bb30162b64f86f4eebcf00b3b37146d"><div class="ttname"><a href="structmtype.html#a7bb30162b64f86f4eebcf00b3b37146d">mtype::regen_morale</a></div><div class="ttdeci">bool regen_morale</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00497">mtype.h:497</a></div></div>
<div class="ttc" id="astructmtype_html_af4eec186d1567593df128351c81932ad"><div class="ttname"><a href="structmtype.html#af4eec186d1567593df128351c81932ad">mtype::regeneration_modifiers</a></div><div class="ttdeci">std::map&lt; efftype_id, int &gt; regeneration_modifiers</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00366">mtype.h:366</a></div></div>
<div class="ttc" id="astructmtype_html_afaaebe8d0765896be201b3cffafa55c3"><div class="ttname"><a href="structmtype.html#afaaebe8d0765896be201b3cffafa55c3">mtype::regenerates_in_dark</a></div><div class="ttdeci">bool regenerates_in_dark</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00495">mtype.h:495</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="messages_8cpp_source.html#l01007">add_msg_if_player_sees()</a>, <a class="el" href="mtype_8h_source.html#l00415">mtype::agro</a>, <a class="el" href="lightmap_8cpp_source.html#l00640">map::ambient_light_at()</a>, <a class="el" href="monster_8h_source.html#l00543">amount_eaten</a>, <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02ca100b8cad7cf2a56f6df78f171f97a1ec">any</a>, <a class="el" href="monster_8cpp_source.html#l02169">apply_damage()</a>, <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="monfaction_8cpp_source.html#l00062">monfaction::attitude()</a>, <a class="el" href="monster_8cpp_source.html#l04016">calculate_by_enchantment()</a>, <a class="el" href="item__tname_8cpp_source.html#l00216">anonymous_namespace{item_tname.cpp}::contents()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="monster_8cpp_source.html#l00659">digest_food()</a>, <a class="el" href="monster_8cpp.html#a4720d4449171de19328e9e2adc8ba622">effect_cramped_space</a>, <a class="el" href="monster_8cpp.html#ad060c301873debf1b1401edcee21874f">effect_critter_well_fed</a>, <a class="el" href="monster_8cpp.html#a4f511140c4cfad71f73a4ffd03fd781d">effect_nemesis_buff</a>, <a class="el" href="monster_8cpp.html#a256d697dd30ba2a0dcefb8c3ff2caf35">effect_photophobia</a>, <a class="el" href="monster_8cpp.html#a20a7f54a516a50e57f8fa7d4ebba0d4f">effect_spooked</a>, <a class="el" href="monster_8cpp.html#a8b94d7315b54bfefe3545b9adbaa8096">effect_spooked_recent</a>, <a class="el" href="creature_8h_source.html#l01204">Creature::effects</a>, <a class="el" href="vehicle_8cpp_source.html#l07067">vehicle::enclosed_at()</a>, <a class="el" href="monster_8h_source.html#l00545">faction</a>, <a class="el" href="monster_8cpp_source.html#l01262">flies()</a>, <a class="el" href="monster_8h_source.html#l00539">friendly</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="vehicle_8cpp_source.html#l05922">vehicle::get_items()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="vehicle_8cpp_source.html#l02855">vehicle::get_parts_at()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="monster_8cpp_source.html#l03503">get_size()</a>, <a class="el" href="creature_8cpp_source.html#l02782">Creature::get_speed_base()</a>, <a class="el" href="creature_8cpp_source.html#l02786">Creature::get_speed_bonus()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="monster_8cpp_source.html#l02149">heal()</a>, <a class="el" href="monster_8h_source.html#l00616">hp</a>, <a class="el" href="mtype_8h_source.html#l00413">mtype::hp</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">huge</a>, <a class="el" href="monster_8cpp_source.html#l01438">is_fleeing()</a>, <a class="el" href="monster_8cpp_source.html#l03585">is_nemesis()</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">large</a>, <a class="el" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">light</a>, <a class="el" href="enums_8h_source.html#l00347">m_good</a>, <a class="el" href="enums_8h_source.html#l00351">m_warning</a>, <a class="el" href="monster_8h_source.html#l00061">MATT_FLEE</a>, <a class="el" href="monster_8h_source.html#l00063">MATT_FOLLOW</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">medium</a>, <a class="el" href="monfaction_8h_source.html#l00023">MFA_FRIENDLY</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="mtype_8cpp_source.html#l00066">mon_flag_CORNERED_FIGHTER</a>, <a class="el" href="mtype_8cpp_source.html#l00077">mon_flag_EATS</a>, <a class="el" href="mtype_8cpp_source.html#l00109">mon_flag_MILKABLE</a>, <a class="el" href="mtype_8cpp_source.html#l00130">mon_flag_PHOTOPHOBIC</a>, <a class="el" href="mtype_8cpp_source.html#l00154">mon_flag_SUNDEATH</a>, <a class="el" href="monster_8h_source.html#l00541">morale</a>, <a class="el" href="mtype_8h_source.html#l00416">mtype::morale</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="vehicle_8cpp_source.html#l02698">optional_vpart_position::part_with_feature()</a>, <a class="el" href="map_8cpp_source.html#l10109">map::points_in_radius()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8cpp_source.html#l01881">Creature::process_effects()</a>, <a class="el" href="monster_8cpp_source.html#l03111">process_one_effect()</a>, <a class="el" href="monster_8cpp_source.html#l00613">refill_udders()</a>, <a class="el" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998a520a67c2759f97817d9c5eac54a02b8a">enchant_vals::REGEN_HP</a>, <a class="el" href="mtype_8h_source.html#l00497">mtype::regen_morale</a>, <a class="el" href="mtype_8h_source.html#l00424">mtype::regenerates</a>, <a class="el" href="mtype_8h_source.html#l00495">mtype::regenerates_in_dark</a>, <a class="el" href="mtype_8h_source.html#l00366">mtype::regeneration_modifiers</a>, <a class="el" href="creature_8cpp_source.html#l01722">Creature::remove_effect()</a>, <a class="el" href="creature_8cpp_source.html#l02877">Creature::set_speed_bonus()</a>, <a class="el" href="omdata_8h_source.html#l00066">om_direction::size</a>, <a class="el" href="veh__type_8h_source.html#l00391">vpart_info::size</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">small</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">tiny</a>, <a class="el" href="monster_8cpp_source.html#l00672">try_biosignature()</a>, <a class="el" href="monster_8cpp_source.html#l00547">try_reproduce()</a>, <a class="el" href="monster_8cpp_source.html#l00451">try_upgrade()</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>.</p>

</div>
</div>
<a id="ac8656d9b9ad311f1824287403e546e6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8656d9b9ad311f1824287403e546e6e">&#9670;&nbsp;</a></span>process_one_effect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::process_one_effect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classeffect.html">effect</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes monster-specific effects of an effect. </p>

<p>Implements <a class="el" href="classCreature.html#a8b6571b163899884df43067ab146ab83">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03111">3111</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;{</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    <span class="comment">// Monsters don&#39;t get trait-based reduction, but they do get effect based reduction</span></div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <span class="keywordtype">bool</span> reduced = <a class="code" href="classCreature.html#a6b40041c12e2c414170aad5511878446">resists_effect</a>( it );</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">get_effect</a> = [&amp;it, is_new]( <span class="keyword">const</span> std::string &amp; arg, <span class="keywordtype">bool</span> reduced ) {</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;        <span class="keywordflow">if</span>( is_new ) {</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;            <span class="keywordflow">return</span> it.<a class="code" href="classeffect.html#a2e2d21337070e504205c7725f5b98475">get_amount</a>( arg, reduced );</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;        }</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;        <span class="keywordflow">return</span> it.<a class="code" href="classeffect.html#ae39c587cde27fc8512aee5491026006b">get_mod</a>( arg, reduced );</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    };</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160; </div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    <a class="code" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">mod_speed_bonus</a>( <a class="code" href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">get_effect</a>( <span class="stringliteral">&quot;SPEED&quot;</span>, reduced ) );</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    <a class="code" href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048">mod_dodge_bonus</a>( <a class="code" href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">get_effect</a>( <span class="stringliteral">&quot;DODGE&quot;</span>, reduced ) );</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    <a class="code" href="classCreature.html#a089a7123da50e5ffa294e86e0d8dacd6">mod_hit_bonus</a>( <a class="code" href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">get_effect</a>( <span class="stringliteral">&quot;HIT&quot;</span>, reduced ) );</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    <a class="code" href="classCreature.html#a23eee2ee9fde4c48750f12ab70fe45c5">mod_bash_bonus</a>( <a class="code" href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">get_effect</a>( <span class="stringliteral">&quot;BASH&quot;</span>, reduced ) );</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;    <a class="code" href="classCreature.html#af537fe5ecb67408c498ee4517b4ab603">mod_cut_bonus</a>( <a class="code" href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">get_effect</a>( <span class="stringliteral">&quot;CUT&quot;</span>, reduced ) );</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;    <a class="code" href="classCreature.html#a3f6ab734f2a1291f27a2b0b206f3b5c1">mod_size_bonus</a>( <a class="code" href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">get_effect</a>( <span class="stringliteral">&quot;SIZE&quot;</span>, reduced ) );</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160; </div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;    <span class="keywordtype">int</span> val = <a class="code" href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">get_effect</a>( <span class="stringliteral">&quot;HURT&quot;</span>, reduced );</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;    <span class="keywordflow">if</span>( val &gt; 0 ) {</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;        <span class="keywordflow">if</span>( is_new || it.<a class="code" href="classeffect.html#aaa010590b0d2ee2ca0de0ca79b10f822">activated</a>( <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <span class="stringliteral">&quot;HURT&quot;</span>, val, reduced, 1 ) ) {</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;            <a class="code" href="classmonster.html#afc6e6f5443145732310dd4901a394b4f">apply_damage</a>( it.<a class="code" href="classeffect.html#a11575c0577bad5c89b5400ca7eac6084">get_source</a>().<a class="code" href="classeffect__source.html#a19c0d8651913cae8698425a2ea3a6c18">resolve_creature</a>(), <a class="code" href="classint__id.html">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), val );</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;        }</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    }</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160; </div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;    <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> &amp;<span class="keywordtype">id</span> = it.<a class="code" href="classeffect.html#a23adf51cb199f3b2ee464211e43064e3">get_id</a>();</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;    <span class="comment">// TODO: MATERIALS use fire resistance</span></div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;    <span class="keywordflow">if</span>( it.<a class="code" href="classeffect.html#a5ff35deec9932ee548e1f09caa0eef96">impairs_movement</a>() ) {</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;        <a class="code" href="classmonster.html#a04c74718e60016b199e7cdff71d5aa90">effect_cache</a>[<a class="code" href="monster_8h.html#a84ab55bd738531d991f877a7650b7fd1a13d4d639667d468eab8c51243acc4802">MOVEMENT_IMPAIRED</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code" href="monster_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a> ) {</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;        <span class="keywordtype">int</span> dam = 0;</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#adaa52641aaea718721dc2fd611ed5831">material_veggy</a> ) ) {</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;            dam = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 10, 20 );</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#a20136c47b45ab5d735760a8a5853f1b3">material_flesh</a> ) || <a class="code" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code" href="monster_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a> ) ) {</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;            dam = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 5, 10 );</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;        }</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160; </div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;        dam -= <a class="code" href="classmonster.html#ab55cbaa78e9a77935dfc63e5c292317b">get_armor_type</a>( <a class="code" href="monster_8cpp.html#ae01ac1ba15b1a58809aef8bc1f735b5b">damage_heat</a>, <a class="code" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ) );</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;        <span class="keywordflow">if</span>( dam &gt; 0 ) {</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;            <a class="code" href="classmonster.html#afc6e6f5443145732310dd4901a394b4f">apply_damage</a>( it.<a class="code" href="classeffect.html#a11575c0577bad5c89b5400ca7eac6084">get_source</a>().<a class="code" href="classeffect__source.html#a19c0d8651913cae8698425a2ea3a6c18">resolve_creature</a>(), <a class="code" href="classint__id.html">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), dam );</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;            it.<a class="code" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;        }</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code" href="monster_8cpp.html#a74225467d1c09c7a6a7c659ee0139257">effect_run</a> ) {</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;        <a class="code" href="classmonster.html#a04c74718e60016b199e7cdff71d5aa90">effect_cache</a>[<a class="code" href="monster_8h.html#a84ab55bd738531d991f877a7650b7fd1a83cac1efd028387ff7fb9ced13f48f1d">FLEEING</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code" href="monster_8cpp.html#af079f6d5681dabcbc1c4ee804c0ba556">effect_no_sight</a> || <span class="keywordtype">id</span> == <a class="code" href="monster_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a> ) {</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;        <a class="code" href="classmonster.html#a04c74718e60016b199e7cdff71d5aa90">effect_cache</a>[<a class="code" href="monster_8h.html#a84ab55bd738531d991f877a7650b7fd1a38ef1c57a99bb9129742d1649235a1c1">VISION_IMPAIRED</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ( <span class="keywordtype">id</span> == <a class="code" href="monster_8cpp.html#a151e6b162a8a2cdbdb11c407013076eb">effect_bleed</a> || <span class="keywordtype">id</span> == <a class="code" href="monster_8cpp.html#a0d4dd7678b871e79750c90034233b12a">effect_dripping_mechanical_fluid</a> ) &amp;&amp;</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;               <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( it.<a class="code" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>(), it.<a class="code" href="classeffect.html#a11dfe5a38fa2a63bf309b491f64051e0">get_max_intensity</a>() ) ) {</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;        <span class="comment">// this is for balance only</span></div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;        it.<a class="code" href="classeffect.html#a118dd88810785bfbb8243af97a37d2ab">mod_duration</a>( -<a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 1_turns, it.<a class="code" href="classeffect.html#aae46cb63cdb1a4ca3e612d464f20446a">get_int_dur_factor</a>() / 2 ) );</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;        <a class="code" href="classCreature.html#a303fcc58869f10f44be1d598ed1aa26f">bleed</a>();</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;        <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code" href="monster_8cpp.html#a151e6b162a8a2cdbdb11c407013076eb">effect_bleed</a> ) {</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;            <span class="comment">// monsters are simplified so they just take damage from bleeding</span></div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;            <a class="code" href="classmonster.html#afc6e6f5443145732310dd4901a394b4f">apply_damage</a>( it.<a class="code" href="classeffect.html#a11575c0577bad5c89b5400ca7eac6084">get_source</a>().<a class="code" href="classeffect__source.html#a19c0d8651913cae8698425a2ea3a6c18">resolve_creature</a>(), <a class="code" href="classint__id.html">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), 1 );</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;        }</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code" href="monster_8cpp.html#a71a3856cb0922ca20b805fc1e51fc1f7">effect_fake_common_cold</a> ) {</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( <a class="code" href="classtime__duration.html#a24e810d76ce97cfab15fbe68a32a00ca">time_duration::from_seconds</a>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 30, 300 ) ) ) &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) {</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;            <a class="code" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 4, <a class="code" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a9b4a8a31b4caf3cc5c6205f74950ac14">sounds::sound_t::speech</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;a hacking cough.&quot;</span> ), <span class="keyword">false</span>, <span class="stringliteral">&quot;misc&quot;</span>, <span class="stringliteral">&quot;cough&quot;</span> );</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;        }</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160; </div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;        <a class="code" href="classavatar.html">avatar</a> &amp;you = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>(); <span class="comment">// No NPCs for now.</span></div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), you.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) &lt;= 1 ) {</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;            you.<a class="code" href="classCharacter.html#a29238233d4efeea436dabc6542e13a83">get_sick</a>( <span class="keyword">false</span> );</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;        }</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code" href="monster_8cpp.html#a09b074617dd8272ef4f50cff091fd645">effect_fake_flu</a> ) {</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;        <span class="comment">// Need to define the two separately because it&#39;s theoretically (and realistically) possible to have both flu and cold at once, both for players and monsters.</span></div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( <a class="code" href="classtime__duration.html#a24e810d76ce97cfab15fbe68a32a00ca">time_duration::from_seconds</a>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 30, 300 ) ) ) &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) {</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;            <a class="code" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 4, <a class="code" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a9b4a8a31b4caf3cc5c6205f74950ac14">sounds::sound_t::speech</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;a hacking cough.&quot;</span> ), <span class="keyword">false</span>, <span class="stringliteral">&quot;misc&quot;</span>, <span class="stringliteral">&quot;cough&quot;</span> );</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;        }</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160; </div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;        <a class="code" href="classavatar.html">avatar</a> &amp;you = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>(); <span class="comment">// No NPCs for now.</span></div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), you.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) &lt;= 1 ) {</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;            you.<a class="code" href="classCharacter.html#a29238233d4efeea436dabc6542e13a83">get_sick</a>( <span class="keyword">true</span> );</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;        }</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;    }</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160; </div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;    <span class="comment">//Process enchantments that apply to monsters.</span></div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    <a class="code" href="classmonster.html#a8878b1cacf3048e2278c80b58fbd9bf1">enchantment_cache</a>-&gt;clear();</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160; </div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : *<a class="code" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">enchantment_id</a> &amp;ench_id : elem.first-&gt;enchantments ) {</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;            <span class="keyword">const</span> <a class="code" href="classenchantment.html">enchantment</a> &amp;ench = ench_id.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;            <span class="keywordflow">if</span>( ench.<a class="code" href="classenchantment.html#a12a6048db4581672a0ebc5d6d1af4ad0">is_active</a>( *<span class="keyword">this</span> ) &amp;&amp; ench.<a class="code" href="classenchantment.html#ad943b411179181e7c6e30a0f59dbc8fe">is_monster_relevant</a>() ) {</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;                <a class="code" href="classmonster.html#a8878b1cacf3048e2278c80b58fbd9bf1">enchantment_cache</a>-&gt;force_add( ench, *<span class="keyword">this</span> );</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;            }</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;        }</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;    }</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;    <span class="comment">//Reset max speed</span></div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;    this-&gt;<a class="code" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">set_speed_base</a>( <a class="code" href="classmonster.html#a1182f5685e5de114ebf316c732a866f5">calculate_by_enchantment</a>( this-&gt;<a class="code" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a>(), <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998a65a59338b99aee6a451e86b17b462b5a">enchant_vals::mod::SPEED</a>,</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;                          <span class="keyword">true</span> ) );</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;}</div>
<div class="ttc" id="aavatar_8h_html_a7fe2c1a3376948380f856732d4f34c5c"><div class="ttname"><a href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a></div><div class="ttdeci">avatar &amp; get_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13817">game.cpp:13817</a></div></div>
<div class="ttc" id="aclassCharacter_html_a29238233d4efeea436dabc6542e13a83"><div class="ttname"><a href="classCharacter.html#a29238233d4efeea436dabc6542e13a83">Character::get_sick</a></div><div class="ttdeci">void get_sick(bool is_flu=false)</div><div class="ttdoc">Handles the chance to be infected by random diseases.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l05441">character.cpp:5441</a></div></div>
<div class="ttc" id="aclassCreature_html_a089a7123da50e5ffa294e86e0d8dacd6"><div class="ttname"><a href="classCreature.html#a089a7123da50e5ffa294e86e0d8dacd6">Creature::mod_hit_bonus</a></div><div class="ttdeci">virtual void mod_hit_bonus(float nhit)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02914">creature.cpp:2914</a></div></div>
<div class="ttc" id="aclassCreature_html_a23eee2ee9fde4c48750f12ab70fe45c5"><div class="ttname"><a href="classCreature.html#a23eee2ee9fde4c48750f12ab70fe45c5">Creature::mod_bash_bonus</a></div><div class="ttdeci">virtual void mod_bash_bonus(int nbash)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02918">creature.cpp:2918</a></div></div>
<div class="ttc" id="aclassCreature_html_a303fcc58869f10f44be1d598ed1aa26f"><div class="ttname"><a href="classCreature.html#a303fcc58869f10f44be1d598ed1aa26f">Creature::bleed</a></div><div class="ttdeci">virtual void bleed() const</div><div class="ttdoc">Adds an appropriate blood splatter.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00230">creature.cpp:230</a></div></div>
<div class="ttc" id="aclassCreature_html_a3f6ab734f2a1291f27a2b0b206f3b5c1"><div class="ttname"><a href="classCreature.html#a3f6ab734f2a1291f27a2b0b206f3b5c1">Creature::mod_size_bonus</a></div><div class="ttdeci">virtual void mod_size_bonus(int nsize)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02926">creature.cpp:2926</a></div></div>
<div class="ttc" id="aclassCreature_html_a60ca228583adf18b2e56e1c96ff8b048"><div class="ttname"><a href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048">Creature::mod_dodge_bonus</a></div><div class="ttdeci">virtual void mod_dodge_bonus(float ndodge)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02906">creature.cpp:2906</a></div></div>
<div class="ttc" id="aclassCreature_html_a6b40041c12e2c414170aad5511878446"><div class="ttname"><a href="classCreature.html#a6b40041c12e2c414170aad5511878446">Creature::resists_effect</a></div><div class="ttdeci">bool resists_effect(const effect &amp;e) const</div><div class="ttdoc">Returns true if the creature resists an effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01928">creature.cpp:1928</a></div></div>
<div class="ttc" id="aclassCreature_html_aa4f09ff71f1aa8562798d47cb4ef0682"><div class="ttname"><a href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">Creature::mod_speed_bonus</a></div><div class="ttdeci">virtual void mod_speed_bonus(int nspeed)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02902">creature.cpp:2902</a></div></div>
<div class="ttc" id="aclassCreature_html_aa8d3d8f5a3260c5b54e4973e957f356d"><div class="ttname"><a href="classCreature.html#aa8d3d8f5a3260c5b54e4973e957f356d">Creature::get_effect</a></div><div class="ttdeci">const effect &amp; get_effect(const efftype_id &amp;eff_id, const bodypart_id &amp;bp=bodypart_str_id::NULL_ID()) const</div><div class="ttdoc">Return the effect that matches the given arguments exactly.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01852">creature.cpp:1852</a></div></div>
<div class="ttc" id="aclassCreature_html_af537fe5ecb67408c498ee4517b4ab603"><div class="ttname"><a href="classCreature.html#af537fe5ecb67408c498ee4517b4ab603">Creature::mod_cut_bonus</a></div><div class="ttdeci">virtual void mod_cut_bonus(int ncut)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02922">creature.cpp:2922</a></div></div>
<div class="ttc" id="aclassavatar_html"><div class="ttname"><a href="classavatar.html">avatar</a></div><div class="ttdef"><b>Definition:</b> <a href="avatar_8h_source.html#l00083">avatar.h:84</a></div></div>
<div class="ttc" id="aclasseffect__source_html_a19c0d8651913cae8698425a2ea3a6c18"><div class="ttname"><a href="classeffect__source.html#a19c0d8651913cae8698425a2ea3a6c18">effect_source::resolve_creature</a></div><div class="ttdeci">Creature * resolve_creature() const</div><div class="ttdef"><b>Definition:</b> <a href="effect__source_8cpp_source.html#l00089">effect_source.cpp:89</a></div></div>
<div class="ttc" id="aclasseffect_html_a11575c0577bad5c89b5400ca7eac6084"><div class="ttname"><a href="classeffect.html#a11575c0577bad5c89b5400ca7eac6084">effect::get_source</a></div><div class="ttdeci">const effect_source &amp; get_source() const</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01676">effect.cpp:1676</a></div></div>
<div class="ttc" id="aclasseffect_html_a118dd88810785bfbb8243af97a37d2ab"><div class="ttname"><a href="classeffect.html#a118dd88810785bfbb8243af97a37d2ab">effect::mod_duration</a></div><div class="ttdeci">void mod_duration(const time_duration &amp;dur, bool alert=false)</div><div class="ttdoc">Mods the duration, capping at max_duration.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01093">effect.cpp:1093</a></div></div>
<div class="ttc" id="aclasseffect_html_a11dfe5a38fa2a63bf309b491f64051e0"><div class="ttname"><a href="classeffect.html#a11dfe5a38fa2a63bf309b491f64051e0">effect::get_max_intensity</a></div><div class="ttdeci">int get_max_intensity() const</div><div class="ttdoc">Returns the maximum intensity of an effect.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01192">effect.cpp:1192</a></div></div>
<div class="ttc" id="aclasseffect_html_a23adf51cb199f3b2ee464211e43064e3"><div class="ttname"><a href="classeffect.html#a23adf51cb199f3b2ee464211e43064e3">effect::get_id</a></div><div class="ttdeci">const efftype_id &amp; get_id() const</div><div class="ttdoc">Returns the effect's matching effect_type id.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00427">effect.h:427</a></div></div>
<div class="ttc" id="aclasseffect_html_a2e2d21337070e504205c7725f5b98475"><div class="ttname"><a href="classeffect.html#a2e2d21337070e504205c7725f5b98475">effect::get_amount</a></div><div class="ttdeci">int get_amount(const std::string &amp;arg, bool reduced=false) const</div><div class="ttdoc">Returns the amount of a modifier type applied when a new effect is first added.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01293">effect.cpp:1293</a></div></div>
<div class="ttc" id="aclasseffect_html_a40265c904a684396b45a347239e38782"><div class="ttname"><a href="classeffect.html#a40265c904a684396b45a347239e38782">effect::set_duration</a></div><div class="ttdeci">void set_duration(const time_duration &amp;dur, bool alert=false)</div><div class="ttdoc">Sets the duration, capping at max duration.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01076">effect.cpp:1076</a></div></div>
<div class="ttc" id="aclasseffect_html_a5ff35deec9932ee548e1f09caa0eef96"><div class="ttname"><a href="classeffect.html#a5ff35deec9932ee548e1f09caa0eef96">effect::impairs_movement</a></div><div class="ttdeci">bool impairs_movement() const</div><div class="ttdoc">Returns if the effect is supposed to be handed in Creature::movement.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01457">effect.cpp:1457</a></div></div>
<div class="ttc" id="aclasseffect_html_a68192c5a91cf7ad4618263ba3de8b802"><div class="ttname"><a href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">effect::get_intensity</a></div><div class="ttdeci">int get_intensity() const</div><div class="ttdoc">Returns the intensity of an effect.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01188">effect.cpp:1188</a></div></div>
<div class="ttc" id="aclasseffect_html_aaa010590b0d2ee2ca0de0ca79b10f822"><div class="ttname"><a href="classeffect.html#aaa010590b0d2ee2ca0de0ca79b10f822">effect::activated</a></div><div class="ttdeci">bool activated(const time_point &amp;when, const std::string &amp;arg, int val, bool reduced=false, double mod=1) const</div><div class="ttdoc">Checks to see if a given modifier type can activate, and performs any rolls required to do so.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01355">effect.cpp:1355</a></div></div>
<div class="ttc" id="aclasseffect_html_aae46cb63cdb1a4ca3e612d464f20446a"><div class="ttname"><a href="classeffect.html#aae46cb63cdb1a4ca3e612d464f20446a">effect::get_int_dur_factor</a></div><div class="ttdeci">time_duration get_int_dur_factor() const</div><div class="ttdoc">Returns the number of turns it takes for the intensity to fall by 1 or 0 if intensity isn't based on ...</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01414">effect.cpp:1414</a></div></div>
<div class="ttc" id="aclasseffect_html_ae39c587cde27fc8512aee5491026006b"><div class="ttname"><a href="classeffect.html#ae39c587cde27fc8512aee5491026006b">effect::get_mod</a></div><div class="ttdeci">int get_mod(const std::string &amp;arg, bool reduced=false) const</div><div class="ttdoc">Returns the matching modifier type from an effect, used for getting actual effect effects.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01265">effect.cpp:1265</a></div></div>
<div class="ttc" id="aclassenchantment_html"><div class="ttname"><a href="classenchantment.html">enchantment</a></div><div class="ttdef"><b>Definition:</b> <a href="magic__enchantment_8h_source.html#l00181">magic_enchantment.h:182</a></div></div>
<div class="ttc" id="aclassenchantment_html_a12a6048db4581672a0ebc5d6d1af4ad0"><div class="ttname"><a href="classenchantment.html#a12a6048db4581672a0ebc5d6d1af4ad0">enchantment::is_active</a></div><div class="ttdeci">bool is_active(const Character &amp;guy, const item &amp;parent) const</div><div class="ttdef"><b>Definition:</b> <a href="magic__enchantment_8cpp_source.html#l00256">magic_enchantment.cpp:256</a></div></div>
<div class="ttc" id="aclassenchantment_html_ad943b411179181e7c6e30a0f59dbc8fe"><div class="ttname"><a href="classenchantment.html#ad943b411179181e7c6e30a0f59dbc8fe">enchantment::is_monster_relevant</a></div><div class="ttdeci">bool is_monster_relevant() const</div><div class="ttdef"><b>Definition:</b> <a href="magic__enchantment_8cpp_source.html#l00310">magic_enchantment.cpp:310</a></div></div>
<div class="ttc" id="aclasstime__duration_html_a24e810d76ce97cfab15fbe68a32a00ca"><div class="ttname"><a href="classtime__duration.html#a24e810d76ce97cfab15fbe68a32a00ca">time_duration::from_seconds</a></div><div class="ttdeci">static constexpr time_duration from_seconds(const T t)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00229">calendar.h:229</a></div></div>
<div class="ttc" id="amonster_8cpp_html_a09b074617dd8272ef4f50cff091fd645"><div class="ttname"><a href="monster_8cpp.html#a09b074617dd8272ef4f50cff091fd645">effect_fake_flu</a></div><div class="ttdeci">static const efftype_id effect_fake_flu(&quot;fake_flu&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a09e952ef4d27618e2f60ec737a8d1bae"><div class="ttname"><a href="monster_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a></div><div class="ttdeci">static const efftype_id effect_blind(&quot;blind&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a71a3856cb0922ca20b805fc1e51fc1f7"><div class="ttname"><a href="monster_8cpp.html#a71a3856cb0922ca20b805fc1e51fc1f7">effect_fake_common_cold</a></div><div class="ttdeci">static const efftype_id effect_fake_common_cold(&quot;fake_common_cold&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_af079f6d5681dabcbc1c4ee804c0ba556"><div class="ttname"><a href="monster_8cpp.html#af079f6d5681dabcbc1c4ee804c0ba556">effect_no_sight</a></div><div class="ttdeci">static const efftype_id effect_no_sight(&quot;no_sight&quot;)</div></div>
<div class="ttc" id="anamespacecalendar_html_a356df28513f4d655ae35c312ab6e7d55"><div class="ttname"><a href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a></div><div class="ttdeci">bool once_every(const time_duration &amp;event_frequency)</div><div class="ttdoc">Predicate to handle rate-limiting.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00753">calendar.cpp:753</a></div></div>
<div class="ttc" id="anamespaceenchant__vals_html_acd6a6ebb27f9ecb82b3bce1d3aef2998a65a59338b99aee6a451e86b17b462b5a"><div class="ttname"><a href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998a65a59338b99aee6a451e86b17b462b5a">enchant_vals::mod::SPEED</a></div><div class="ttdeci">@ SPEED</div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3a9b4a8a31b4caf3cc5c6205f74950ac14"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a9b4a8a31b4caf3cc5c6205f74950ac14">sounds::sound_t::speech</a></div><div class="ttdeci">@ speech</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="effect_8cpp_source.html#l01355">effect::activated()</a>, <a class="el" href="monster_8cpp_source.html#l02169">apply_damage()</a>, <a class="el" href="creature_8cpp_source.html#l00230">Creature::bleed()</a>, <a class="el" href="monster_8cpp_source.html#l04016">calculate_by_enchantment()</a>, <a class="el" href="monster_8cpp.html#ae01ac1ba15b1a58809aef8bc1f735b5b">damage_heat</a>, <a class="el" href="monster_8cpp.html#a151e6b162a8a2cdbdb11c407013076eb">effect_bleed</a>, <a class="el" href="monster_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a>, <a class="el" href="monster_8h_source.html#l00654">effect_cache</a>, <a class="el" href="monster_8cpp.html#a0d4dd7678b871e79750c90034233b12a">effect_dripping_mechanical_fluid</a>, <a class="el" href="monster_8cpp.html#a71a3856cb0922ca20b805fc1e51fc1f7">effect_fake_common_cold</a>, <a class="el" href="monster_8cpp.html#a09b074617dd8272ef4f50cff091fd645">effect_fake_flu</a>, <a class="el" href="monster_8cpp.html#af079f6d5681dabcbc1c4ee804c0ba556">effect_no_sight</a>, <a class="el" href="monster_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, <a class="el" href="monster_8cpp.html#a74225467d1c09c7a6a7c659ee0139257">effect_run</a>, <a class="el" href="creature_8h_source.html#l01204">Creature::effects</a>, <a class="el" href="monster_8h_source.html#l00576">enchantment_cache</a>, <a class="el" href="monster_8h_source.html#l00070">FLEEING</a>, <a class="el" href="calendar_8h_source.html#l00229">time_duration::from_seconds()</a>, <a class="el" href="effect_8cpp_source.html#l01293">effect::get_amount()</a>, <a class="el" href="monster_8cpp_source.html#l02405">get_armor_type()</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="creature_8cpp_source.html#l01852">Creature::get_effect()</a>, <a class="el" href="effect_8h_source.html#l00427">effect::get_id()</a>, <a class="el" href="effect_8cpp_source.html#l01414">effect::get_int_dur_factor()</a>, <a class="el" href="effect_8cpp_source.html#l01188">effect::get_intensity()</a>, <a class="el" href="effect_8cpp_source.html#l01192">effect::get_max_intensity()</a>, <a class="el" href="effect_8cpp_source.html#l01265">effect::get_mod()</a>, <a class="el" href="character_8cpp_source.html#l05441">Character::get_sick()</a>, <a class="el" href="effect_8cpp_source.html#l01676">effect::get_source()</a>, <a class="el" href="creature_8cpp_source.html#l02782">Creature::get_speed_base()</a>, <a class="el" href="effect_8cpp_source.html#l01457">effect::impairs_movement()</a>, <a class="el" href="magic__enchantment_8cpp_source.html#l00256">enchantment::is_active()</a>, <a class="el" href="magic__enchantment_8cpp_source.html#l00310">enchantment::is_monster_relevant()</a>, <a class="el" href="monster_8cpp_source.html#l01304">made_of()</a>, <a class="el" href="monster_8cpp.html#a20136c47b45ab5d735760a8a5853f1b3">material_flesh</a>, <a class="el" href="monster_8cpp.html#a7a66d8a18b4c357a9ec56e2c6aca1d80">material_iflesh</a>, <a class="el" href="monster_8cpp.html#adaa52641aaea718721dc2fd611ed5831">material_veggy</a>, <a class="el" href="creature_8cpp_source.html#l02918">Creature::mod_bash_bonus()</a>, <a class="el" href="creature_8cpp_source.html#l02922">Creature::mod_cut_bonus()</a>, <a class="el" href="creature_8cpp_source.html#l02906">Creature::mod_dodge_bonus()</a>, <a class="el" href="effect_8cpp_source.html#l01093">effect::mod_duration()</a>, <a class="el" href="creature_8cpp_source.html#l02914">Creature::mod_hit_bonus()</a>, <a class="el" href="creature_8cpp_source.html#l02926">Creature::mod_size_bonus()</a>, <a class="el" href="creature_8cpp_source.html#l02902">Creature::mod_speed_bonus()</a>, <a class="el" href="monster_8h_source.html#l00069">MOVEMENT_IMPAIRED</a>, <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>, <a class="el" href="calendar_8cpp_source.html#l00753">calendar::once_every()</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8cpp_source.html#l01928">Creature::resists_effect()</a>, <a class="el" href="effect__source_8cpp_source.html#l00089">effect_source::resolve_creature()</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="effect_8cpp_source.html#l01076">effect::set_duration()</a>, <a class="el" href="creature_8cpp_source.html#l02873">Creature::set_speed_base()</a>, <a class="el" href="sounds_8cpp_source.html#l00318">sounds::sound()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a9b4a8a31b4caf3cc5c6205f74950ac14">sounds::speech</a>, <a class="el" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998a65a59338b99aee6a451e86b17b462b5a">enchant_vals::SPEED</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="monster_8h_source.html#l00071">VISION_IMPAIRED</a>, and <a class="el" href="calendar_8cpp_source.html#l00784">x_in_y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>.</p>

</div>
</div>
<a id="a31d55a6e7da021f2e33f73f7af1443cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31d55a6e7da021f2e33f73f7af1443cc">&#9670;&nbsp;</a></span>process_trigger() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::process_trigger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913">mon_trigger</a>&#160;</td>
          <td class="paramname"><em>trig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; int()&gt; &amp;&#160;</td>
          <td class="paramname"><em>amount_func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01735">1735</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;{</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a1591b72595720ef740301a72139f13d5">has_anger_trigger</a>( trig ) ) {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> += amount_func();</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    }</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a4ffaeffe120b5fe20ecfb1f5764234f8">has_fear_trigger</a>( trig ) ) {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> -= amount_func();</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    }</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a03912692fa8faeb80dfd1b5fb007408e">has_placate_trigger</a>( trig ) ) {</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> -= amount_func();</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    }</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="mtype_8cpp_source.html#l00365">mtype::has_anger_trigger()</a>, <a class="el" href="mtype_8cpp_source.html#l00370">mtype::has_fear_trigger()</a>, <a class="el" href="mtype_8cpp_source.html#l00375">mtype::has_placate_trigger()</a>, <a class="el" href="monster_8h_source.html#l00541">morale</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

</div>
</div>
<a id="a111b29c27d9c21920d01db403b3659e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a111b29c27d9c21920d01db403b3659e1">&#9670;&nbsp;</a></span>process_trigger() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::process_trigger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913">mon_trigger</a>&#160;</td>
          <td class="paramname"><em>trig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>amount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01722">1722</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;{</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a1591b72595720ef740301a72139f13d5">has_anger_trigger</a>( trig ) ) {</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> += amount;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    }</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a4ffaeffe120b5fe20ecfb1f5764234f8">has_fear_trigger</a>( trig ) ) {</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> -= amount;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    }</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a03912692fa8faeb80dfd1b5fb007408e">has_placate_trigger</a>( trig ) ) {</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> -= amount;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    }</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="mtype_8cpp_source.html#l00365">mtype::has_anger_trigger()</a>, <a class="el" href="mtype_8cpp_source.html#l00370">mtype::has_fear_trigger()</a>, <a class="el" href="mtype_8cpp_source.html#l00375">mtype::has_placate_trigger()</a>, <a class="el" href="monster_8h_source.html#l00541">morale</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02169">apply_damage()</a>, <a class="el" href="monster_8cpp_source.html#l03758">hear_sound()</a>, and <a class="el" href="monster_8cpp_source.html#l01662">process_triggers()</a>.</p>

</div>
</div>
<a id="adfe6d440a8d4424aa73ae4c0d6d02e18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfe6d440a8d4424aa73ae4c0d6d02e18">&#9670;&nbsp;</a></span>process_triggers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::process_triggers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01662">1662</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;{</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <a class="code" href="classmonster.html#a111b29c27d9c21920d01db403b3659e1">process_trigger</a>( <a class="code" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913adad75b58c728eec8eb867b67e24c00e5">mon_trigger::STALK</a>, [<span class="keyword">this</span>]() {</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> &gt; 0 &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 5 ) ? 1 : 0;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    } );</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160; </div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <a class="code" href="classmonster.html#a111b29c27d9c21920d01db403b3659e1">process_trigger</a>( <a class="code" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913a2f44d447a89dae30b8a749d4b174a98c">mon_trigger::BRIGHT_LIGHT</a>, [<span class="keyword">this</span>]() {</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = 0;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> dim_light = <a class="code" href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">round</a>( .75 * <a class="code" href="calendar_8cpp.html#a18db382f9462474fe6c1caae45cec587">default_daylight_level</a>() );</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">light</a> = <a class="code" href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">round</a>( <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().ambient_light_at( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) );</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">light</a> &gt;= dim_light ) {</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;            <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += 10;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        }</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    } );</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160; </div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <a class="code" href="classmonster.html#a111b29c27d9c21920d01db403b3659e1">process_trigger</a>( <a class="code" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913ab7426fb9c3932995306fceba2874d057">mon_trigger::FIRE</a>, [<span class="keyword">this</span>]() {</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = 0;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;        <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;        <span class="keyword">const</span> <a class="code" href="classint__id.html">field_type_id</a> <a class="code" href="field__type_8cpp.html#a0090428c1f6724209c133c6b04b037cd">fd_fire</a> = <a class="code" href="field__type_8cpp.html#a0090428c1f6724209c133c6b04b037cd">::fd_fire</a>; <span class="comment">// convert to int_id once</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : here.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 3 ) ) {</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;            <span class="comment">// note using `has_field_at` without bound checks,</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;            <span class="comment">// as points that come from `points_in_radius` are guaranteed to be in bounds</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> fire_intensity =</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                here.<a class="code" href="classmap.html#aa69021d452dbc555723d55d7c9fe98ef">has_field_at</a>( p, <span class="keyword">false</span> ) ? 5 * here.<a class="code" href="classmap.html#a34f983a946812fa51de439bd68f6dc09">get_field_intensity</a>( p, <a class="code" href="field__type_8cpp.html#a0090428c1f6724209c133c6b04b037cd">fd_fire</a> ) : 0;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;            <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += fire_intensity;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        }</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    } );</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160; </div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> != <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8a889ba3d1d6eb87ca31ce8999c9e6d0">morale</a> &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) &amp;&amp;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        ( ( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> - <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a8a889ba3d1d6eb87ca31ce8999c9e6d0">morale</a> ) &gt; 15 ) || <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) ) {</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;        <span class="keywordflow">if</span>( morale &lt; type-&gt;<a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> ) {</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a>++;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;            <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a>--;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        }</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    }</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160; </div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> != <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a59bfdad7bfcd71c923ae8463630c95">agro</a> &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) &amp;&amp;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        ( ( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> - <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a59bfdad7bfcd71c923ae8463630c95">agro</a> ) &gt; 15 ) || <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) ) {</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        <span class="keywordflow">if</span>( anger &lt; type-&gt;agro ) {</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;            <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a>++;</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;            <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a>--;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        }</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    }</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160; </div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="comment">// If we got angry at characters have a chance at calming down</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> == <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a59bfdad7bfcd71c923ae8463630c95">agro</a> &amp;&amp; <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> &amp;&amp; !<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa8d13fe74b20a471589013558a91ca2a">aggro_character</a> &amp;&amp; !<a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a>, 100 ) ) {</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>, <span class="stringliteral">&quot;%s&#39;s character aggro reset&quot;</span>, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    }</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160; </div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <span class="comment">// Cap values at [-100, 100] to prevent perma-angry moose etc.</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( 100, <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( -100, <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> ) );</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a>  = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( 100, <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( -100, <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> ) );</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a18db382f9462474fe6c1caae45cec587"><div class="ttname"><a href="calendar_8cpp.html#a18db382f9462474fe6c1caae45cec587">default_daylight_level</a></div><div class="ttdeci">float default_daylight_level()</div><div class="ttdoc">How much light is provided in full daylight.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00047">calendar.cpp:47</a></div></div>
<div class="ttc" id="aclassmap_html_a34f983a946812fa51de439bd68f6dc09"><div class="ttname"><a href="classmap.html#a34f983a946812fa51de439bd68f6dc09">map::get_field_intensity</a></div><div class="ttdeci">int get_field_intensity(const tripoint &amp;p, const field_type_id &amp;type) const</div><div class="ttdoc">Get the intensity of a field entry (field_entry::intensity), if there is no field of that type,...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06476">map.cpp:6476</a></div></div>
<div class="ttc" id="aclassmap_html_aa69021d452dbc555723d55d7c9fe98ef"><div class="ttname"><a href="classmap.html#aa69021d452dbc555723d55d7c9fe98ef">map::has_field_at</a></div><div class="ttdeci">bool has_field_at(const tripoint &amp;p, bool check_bounds=true) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06487">map.cpp:6487</a></div></div>
<div class="ttc" id="amtype_8h_html_a3bf0d3734009dbabe39a0d9fad3a5913a2f44d447a89dae30b8a749d4b174a98c"><div class="ttname"><a href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913a2f44d447a89dae30b8a749d4b174a98c">mon_trigger::BRIGHT_LIGHT</a></div><div class="ttdeci">@ BRIGHT_LIGHT</div></div>
<div class="ttc" id="amtype_8h_html_a3bf0d3734009dbabe39a0d9fad3a5913ab7426fb9c3932995306fceba2874d057"><div class="ttname"><a href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913ab7426fb9c3932995306fceba2874d057">mon_trigger::FIRE</a></div><div class="ttdeci">@ FIRE</div></div>
<div class="ttc" id="amtype_8h_html_a3bf0d3734009dbabe39a0d9fad3a5913adad75b58c728eec8eb867b67e24c00e5"><div class="ttname"><a href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913adad75b58c728eec8eb867b67e24c00e5">mon_trigger::STALK</a></div><div class="ttdeci">@ STALK</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="math__parser__func_8h_source.html#l00030">abs()</a>, <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="monster_8h_source.html#l00572">aggro_character</a>, <a class="el" href="mtype_8h_source.html#l00507">mtype::aggro_character</a>, <a class="el" href="mtype_8h_source.html#l00415">mtype::agro</a>, <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913a2f44d447a89dae30b8a749d4b174a98c">BRIGHT_LIGHT</a>, <a class="el" href="calendar_8cpp_source.html#l00047">default_daylight_level()</a>, <a class="el" href="debug_8h_source.html#l00265">debugmode::DF_MONSTER</a>, <a class="el" href="field__type_8cpp.html#a0090428c1f6724209c133c6b04b037cd">fd_fire</a>, <a class="el" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913ab7426fb9c3932995306fceba2874d057">FIRE</a>, <a class="el" href="map_8cpp_source.html#l06476">map::get_field_intensity()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l06487">map::has_field_at()</a>, <a class="el" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">light</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="monster_8h_source.html#l00541">morale</a>, <a class="el" href="mtype_8h_source.html#l00416">mtype::morale</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="map_8cpp_source.html#l10109">map::points_in_radius()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="monster_8cpp_source.html#l01722">process_trigger()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="math__parser__func_8h_source.html#l00110">round()</a>, <a class="el" href="mtype_8h.html#a3bf0d3734009dbabe39a0d9fad3a5913adad75b58c728eec8eb867b67e24c00e5">STALK</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="calendar_8cpp_source.html#l00784">x_in_y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l10870">game::place_player()</a>.</p>

</div>
</div>
<a id="a077b0f7e49bc596862b531e47565b194"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a077b0f7e49bc596862b531e47565b194">&#9670;&nbsp;</a></span>process_turn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::process_turn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes effects and bonuses and allocates move points based on speed. </p>

<p>Reimplemented from <a class="el" href="classCreature.html#a28d410ab38e30292e266188c1b95cae5">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02627">2627</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;{</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const emit_id, time_duration&gt; &amp;e : <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af8c6ef38251384681d596f484a5e3ba4">emit_fields</a> ) {</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( e.second ) ) {</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;            }</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;            <span class="keyword">const</span> <a class="code" href="classstring__id.html">emit_id</a> emid = e.first;</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;            <span class="keywordflow">if</span>( emid == <a class="code" href="monster_8cpp.html#a8a5fb4491dd185b9065bfeea7e5d45aa">emit_emit_shock_cloud</a> ) {</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a92d95019a8d6d822439d2358b9614f4d">effect_emp</a> ) ) {</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;                    <span class="keywordflow">continue</span>; <span class="comment">// don&#39;t emit electricity while EMPed</span></div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a658dacc92bc5463c158cf281b412f6ff">effect_supercharged</a> ) ) {</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;                    here.<a class="code" href="classmap.html#a150f1b826e0e2722ccf76dbdac136ffd">emit_field</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="monster_8cpp.html#ab7b258c2a2d448439ec67f23f5fd5933">emit_emit_shock_cloud_big</a> );</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;                }</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;            }</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;            here.<a class="code" href="classmap.html#a150f1b826e0e2722ccf76dbdac136ffd">emit_field</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), emid );</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;        }</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;    }</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160; </div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;    <span class="comment">// Special attack cooldowns are updated here.</span></div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;    <span class="comment">// Loop through the monster&#39;s special attacks, same as monster::move.</span></div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;sp_type : <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">special_attacks</a> ) {</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;        <span class="keyword">const</span> std::string &amp;special_name = sp_type.first;</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> local_iter = <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.find( special_name );</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;        <span class="keywordflow">if</span>( local_iter == <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.end() ) {</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;        }</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;        <a class="code" href="classmon__special__attack.html">mon_special_attack</a> &amp;local_attack_data = local_iter-&gt;second;</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;        <span class="keywordflow">if</span>( !local_attack_data.<a class="code" href="classmon__special__attack.html#abbba44d1a5d5d62d696959bab20b8e67">enabled</a> ) {</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;        }</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160; </div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;        <span class="keywordflow">if</span>( local_attack_data.<a class="code" href="classmon__special__attack.html#a0f121c831a2ecb77efe06aa048f60e58">cooldown</a> &gt; 0 ) {</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;            local_attack_data.<a class="code" href="classmon__special__attack.html#a0f121c831a2ecb77efe06aa048f60e58">cooldown</a>--;</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;        }</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    }</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    <a class="code" href="classcreature__tracker.html">creature_tracker</a> &amp;creatures = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>();</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;    <span class="comment">// Persist grabs as long as there&#39;s an adjacent target.</span></div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#aed2af9ad3e8abd06b3c3c4f1adaf607e">has_effect_with_flag</a>( <a class="code" href="monster_8cpp.html#a2724a97ce27ac9050939a55314eab590">json_flag_GRAB_FILTER</a> ) ) {</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958a0f6969d7052da9261e31ddb6e88c136e">remove</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;dest : here.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 1, 0 ) ) {</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;            <span class="keyword">const</span> <a class="code" href="classCreature.html">Creature</a> *<span class="keyword">const</span> you = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>&lt;<a class="code" href="classCreature.html">Creature</a>&gt;( dest );</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;            <span class="keywordflow">if</span>( you &amp;&amp; you-&gt;<a class="code" href="classCreature.html#aed2af9ad3e8abd06b3c3c4f1adaf607e">has_effect_with_flag</a>( <a class="code" href="monster_8cpp.html#ab41f4e77a586e85f347f7151266b9dd5">json_flag_GRAB</a> ) ) {</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;                <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb">debugmode::DF_MATTACK</a>, <span class="stringliteral">&quot;Grabbed creature %s found, persisting grab.&quot;</span>,</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;                               you-&gt;<a class="code" href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">get_name</a>() );</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;                <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958a0f6969d7052da9261e31ddb6e88c136e">remove</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;            }</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;        }</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958a0f6969d7052da9261e31ddb6e88c136e">remove</a> ) {</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classeffect.html">effect</a> &amp;eff : <a class="code" href="classCreature.html#a952f5a3103775159e193c6ee4e60979b">get_effects_with_flag</a>( <a class="code" href="monster_8cpp.html#a2724a97ce27ac9050939a55314eab590">json_flag_GRAB_FILTER</a> ) ) {</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;                <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> effid = eff.get_id();</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;                <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( effid );</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;                <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb">debugmode::DF_MATTACK</a>, <span class="stringliteral">&quot;Grab filter effect %s removed.&quot;</span>, effid.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() );</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;            }</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;        }</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;    }</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;    <span class="comment">// We update electrical fields here since they act every turn.</span></div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a1a5411b7cdf8d1a031eb9f1b5485d784">mon_flag_ELECTRIC_FIELD</a> ) &amp;&amp; !<a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a92d95019a8d6d822439d2358b9614f4d">effect_emp</a> ) ) {</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( 10_turns ) ) {</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;                <a class="code" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 5, <a class="code" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;hummmmm.&quot;</span> ), <span class="keyword">false</span>, <span class="stringliteral">&quot;humming&quot;</span>, <span class="stringliteral">&quot;electric&quot;</span> );</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;            }</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;            <a class="code" href="classweather__manager.html">weather_manager</a> &amp;<a class="code" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3aaab92e69374e4c7b8c6741fe02e574b9">weather</a> = <a class="code" href="game_8cpp.html#a20e1e24b746d8844d2e554086ba3b3bb">get_weather</a>();</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;zap : here.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 1 ) ) {</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;                <span class="keyword">const</span> <a class="code" href="classmap__stack.html">map_stack</a> items = here.<a class="code" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( zap );</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;<a class="code" href="classitem.html">item</a> : items ) {</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="classitem.html">item</a>.<a class="code" href="classitem.html#a0795ac0d3e2ba958ab3a6ff4e282482b">made_of</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) &amp;&amp; <a class="code" href="classitem.html">item</a>.<a class="code" href="classitem.html#a464c09886d48850b162592b9aa985853">flammable</a>() ) { <span class="comment">// start a fire!</span></div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;                        here.<a class="code" href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">add_field</a>( zap, <a class="code" href="field__type_8cpp.html#a0090428c1f6724209c133c6b04b037cd">fd_fire</a>, 2, 1_minutes );</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;                        <a class="code" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 30, <a class="code" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>,  <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;fwoosh!&quot;</span> ), <span class="keyword">false</span>, <span class="stringliteral">&quot;fire&quot;</span>, <span class="stringliteral">&quot;ignition&quot;</span> );</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;                    }</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;                }</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;                <span class="keywordflow">if</span>( zap != <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) {</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;                    <a class="code" href="namespaceexplosion__handler.html#abb7207a5fbd820d9ce599c7753a691c0">explosion_handler::emp_blast</a>( zap ); <span class="comment">// Fries electronics due to the intensity of the field</span></div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;                }</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;                <span class="keyword">const</span> <a class="code" href="classint__id.html">ter_id</a> t = here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( zap );</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;                <span class="keywordflow">if</span>( t == <a class="code" href="monster_8cpp.html#ac7b82dd0a9cc15d6ebcaa96c107f7d34">ter_t_gas_pump</a> || t == <a class="code" href="monster_8cpp.html#acf2fe634c9d3945f603a50a69dfcd9d7">ter_t_gas_pump_a</a> ) {</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) ) {</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;                        <a class="code" href="namespaceexplosion__handler.html#af4ae8e07a9627dbfe22b2d07ea577587">explosion_handler::explosion</a>( <span class="keyword">this</span>, <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 40, 0.8, <span class="keyword">true</span> );</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;                        <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( zap, <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s explodes in a fiery inferno!&quot;</span> ),</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;                                                here.<a class="code" href="classmap.html#a51e32639c8df0c90e0743f929bcf2111">tername</a>( zap ) );</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;                        <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( zap, <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Lightning from %1$s engulfs the %2$s!&quot;</span> ),</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;                                                <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(), here.<a class="code" href="classmap.html#a51e32639c8df0c90e0743f929bcf2111">tername</a>( zap ) );</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;                        here.<a class="code" href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">add_field</a>( zap, <a class="code" href="field__type_8cpp.html#a0090428c1f6724209c133c6b04b037cd">fd_fire</a>, 1, 2_turns );</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;                    }</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;                }</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;            }</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3aaab92e69374e4c7b8c6741fe02e574b9">weather</a>.lightning_active &amp;&amp; !<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a658dacc92bc5463c158cf281b412f6ff">effect_supercharged</a> ) &amp;&amp;</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;                here.<a class="code" href="classmap.html#a3bc75c8b706a54c1575b4460b2f363b1">is_outside</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ) {</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;                <a class="code" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3aaab92e69374e4c7b8c6741fe02e574b9">weather</a>.lightning_active = <span class="keyword">false</span>; <span class="comment">// only one supercharge per strike</span></div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;                <a class="code" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 300, <a class="code" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;BOOOOOOOM!!!&quot;</span> ), <span class="keyword">false</span>, <span class="stringliteral">&quot;environment&quot;</span>,</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;                               <span class="stringliteral">&quot;thunder_near&quot;</span> );</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;                <a class="code" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 20, <a class="code" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;vrrrRRRUUMMMMMMMM!&quot;</span> ), <span class="keyword">false</span>, <span class="stringliteral">&quot;explosion&quot;</span>,</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;                               <span class="stringliteral">&quot;default&quot;</span> );</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;                <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;                <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">sees</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ) {</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Lightning strikes the %s!&quot;</span> ), <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Your vision goes white!&quot;</span> ) );</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;                    player_character.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a>, <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 1_minutes, 2_minutes ) );</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;                }</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;                <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a658dacc92bc5463c158cf281b412f6ff">effect_supercharged</a>, 12_hours );</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a658dacc92bc5463c158cf281b412f6ff">effect_supercharged</a> ) &amp;&amp; <a class="code" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( 5_turns ) ) {</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;                <a class="code" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 20, <a class="code" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;VMMMMMMMMM!&quot;</span> ), <span class="keyword">false</span>, <span class="stringliteral">&quot;humming&quot;</span>,</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;                               <span class="stringliteral">&quot;electric&quot;</span> );</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;            }</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;        }</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;    }</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160; </div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    <a class="code" href="classCreature.html#a28d410ab38e30292e266188c1b95cae5">Creature::process_turn</a>();</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a28d410ab38e30292e266188c1b95cae5"><div class="ttname"><a href="classCreature.html#a28d410ab38e30292e266188c1b95cae5">Creature::process_turn</a></div><div class="ttdeci">virtual void process_turn()</div><div class="ttdoc">Processes effects and bonuses and allocates move points based on speed.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00259">creature.cpp:259</a></div></div>
<div class="ttc" id="aclassCreature_html_a5881c150a3ed435f757e0b34b0d1009e"><div class="ttname"><a href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">Creature::get_name</a></div><div class="ttdeci">virtual std::string get_name() const =0</div></div>
<div class="ttc" id="aclassitem_html_a0795ac0d3e2ba958ab3a6ff4e282482b"><div class="ttname"><a href="classitem.html#a0795ac0d3e2ba958ab3a6ff4e282482b">item::made_of</a></div><div class="ttdeci">const std::map&lt; material_id, int &gt; &amp; made_of() const</div><div class="ttdoc">The ids of all the materials this is made of.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09146">item.cpp:9146</a></div></div>
<div class="ttc" id="aclassitem_html_a464c09886d48850b162592b9aa985853"><div class="ttname"><a href="classitem.html#a464c09886d48850b162592b9aa985853">item::flammable</a></div><div class="ttdeci">bool flammable(int threshold=0) const</div><div class="ttdoc">Whether the items is flammable.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l11811">item.cpp:11811</a></div></div>
<div class="ttc" id="aclassmap__stack_html"><div class="ttname"><a href="classmap__stack.html">map_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00106">map.h:107</a></div></div>
<div class="ttc" id="aclassmap_html_a150f1b826e0e2722ccf76dbdac136ffd"><div class="ttname"><a href="classmap.html#a150f1b826e0e2722ccf76dbdac136ffd">map::emit_field</a></div><div class="ttdeci">void emit_field(const tripoint &amp;pos, const emit_id &amp;src, float mul=1.0f)</div><div class="ttdoc">Runs one cycle of emission src which may result in propagation of fields.</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l02102">map_field.cpp:2102</a></div></div>
<div class="ttc" id="aclassmap_html_a5130a127601b67e569eaef37a1a88610"><div class="ttname"><a href="classmap.html#a5130a127601b67e569eaef37a1a88610">map::i_at</a></div><div class="ttdeci">map_stack i_at(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04978">map.cpp:4978</a></div></div>
<div class="ttc" id="aclassweather__manager_html"><div class="ttname"><a href="classweather__manager.html">weather_manager</a></div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00198">weather.h:199</a></div></div>
<div class="ttc" id="agame_8cpp_html_a20e1e24b746d8844d2e554086ba3b3bb"><div class="ttname"><a href="game_8cpp.html#a20e1e24b746d8844d2e554086ba3b3bb">get_weather</a></div><div class="ttdeci">weather_manager &amp; get_weather()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13866">game.cpp:13866</a></div></div>
<div class="ttc" id="ainput__context_8cpp_html_a077f0863a15ffb1731f2cb207abcb958a0f6969d7052da9261e31ddb6e88c136e"><div class="ttname"><a href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958a0f6969d7052da9261e31ddb6e88c136e">kb_menu_status::remove</a></div><div class="ttdeci">@ remove</div></div>
<div class="ttc" id="amonster_8cpp_html_a658dacc92bc5463c158cf281b412f6ff"><div class="ttname"><a href="monster_8cpp.html#a658dacc92bc5463c158cf281b412f6ff">effect_supercharged</a></div><div class="ttdeci">static const efftype_id effect_supercharged(&quot;supercharged&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a8a5fb4491dd185b9065bfeea7e5d45aa"><div class="ttname"><a href="monster_8cpp.html#a8a5fb4491dd185b9065bfeea7e5d45aa">emit_emit_shock_cloud</a></div><div class="ttdeci">static const emit_id emit_emit_shock_cloud(&quot;emit_shock_cloud&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_a92d95019a8d6d822439d2358b9614f4d"><div class="ttname"><a href="monster_8cpp.html#a92d95019a8d6d822439d2358b9614f4d">effect_emp</a></div><div class="ttdeci">static const efftype_id effect_emp(&quot;emp&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ab7b258c2a2d448439ec67f23f5fd5933"><div class="ttname"><a href="monster_8cpp.html#ab7b258c2a2d448439ec67f23f5fd5933">emit_emit_shock_cloud_big</a></div><div class="ttdeci">static const emit_id emit_emit_shock_cloud_big(&quot;emit_shock_cloud_big&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ac7b82dd0a9cc15d6ebcaa96c107f7d34"><div class="ttname"><a href="monster_8cpp.html#ac7b82dd0a9cc15d6ebcaa96c107f7d34">ter_t_gas_pump</a></div><div class="ttdeci">static const ter_str_id ter_t_gas_pump(&quot;t_gas_pump&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_acf2fe634c9d3945f603a50a69dfcd9d7"><div class="ttname"><a href="monster_8cpp.html#acf2fe634c9d3945f603a50a69dfcd9d7">ter_t_gas_pump_a</a></div><div class="ttdeci">static const ter_str_id ter_t_gas_pump_a(&quot;t_gas_pump_a&quot;)</div></div>
<div class="ttc" id="amtype_8cpp_html_a1a5411b7cdf8d1a031eb9f1b5485d784"><div class="ttname"><a href="mtype_8cpp.html#a1a5411b7cdf8d1a031eb9f1b5485d784">mon_flag_ELECTRIC_FIELD</a></div><div class="ttdeci">mon_flag_id mon_flag_ELECTRIC_FIELD</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00079">mtype.cpp:79</a></div></div>
<div class="ttc" id="anamespaceexplosion__handler_html_abb7207a5fbd820d9ce599c7753a691c0"><div class="ttname"><a href="namespaceexplosion__handler.html#abb7207a5fbd820d9ce599c7753a691c0">explosion_handler::emp_blast</a></div><div class="ttdeci">void emp_blast(const tripoint &amp;p)</div><div class="ttdoc">Triggers an EMP blast at p.</div><div class="ttdef"><b>Definition:</b> <a href="explosion_8cpp_source.html#l00657">explosion.cpp:657</a></div></div>
<div class="ttc" id="anamespaceexplosion__handler_html_af4ae8e07a9627dbfe22b2d07ea577587"><div class="ttname"><a href="namespaceexplosion__handler.html#af4ae8e07a9627dbfe22b2d07ea577587">explosion_handler::explosion</a></div><div class="ttdeci">void explosion(const Creature *source, const tripoint &amp;p, float power, float factor, bool fire, int casing_mass, float frag_mass)</div><div class="ttdoc">Queue an explosion at p of intensity (power) with (shrapnel) chunks of shrapnel.</div><div class="ttdef"><b>Definition:</b> <a href="explosion_8cpp_source.html#l00489">explosion.cpp:489</a></div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3aaab92e69374e4c7b8c6741fe02e574b9"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3aaab92e69374e4c7b8c6741fe02e574b9">sounds::sound_t::weather</a></div><div class="ttdeci">@ weather</div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a></div><div class="ttdeci">@ combat</div></div>
<div class="ttc" id="astructmtype_html_af8c6ef38251384681d596f484a5e3ba4"><div class="ttname"><a href="structmtype.html#af8c6ef38251384681d596f484a5e3ba4">mtype::emit_fields</a></div><div class="ttdeci">std::map&lt; emit_id, time_duration &gt; emit_fields</div><div class="ttdoc">Emission sources that cycle each turn the monster remains alive.</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00380">mtype.h:380</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="map_8cpp_source.html#l06563">map::add_field()</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="messages_8cpp_source.html#l01007">add_msg_if_player_sees()</a>, <a class="el" href="string__id_8h_source.html#l00252">string_id&lt; T &gt;::c_str()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::combat</a>, <a class="el" href="monster_8h_source.html#l00050">mon_special_attack::cooldown</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="debug_8h_source.html#l00262">debugmode::DF_MATTACK</a>, <a class="el" href="monster_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a>, <a class="el" href="monster_8cpp.html#a92d95019a8d6d822439d2358b9614f4d">effect_emp</a>, <a class="el" href="monster_8cpp.html#a658dacc92bc5463c158cf281b412f6ff">effect_supercharged</a>, <a class="el" href="monster_8cpp.html#a8a5fb4491dd185b9065bfeea7e5d45aa">emit_emit_shock_cloud</a>, <a class="el" href="monster_8cpp.html#ab7b258c2a2d448439ec67f23f5fd5933">emit_emit_shock_cloud_big</a>, <a class="el" href="map__field_8cpp_source.html#l02102">map::emit_field()</a>, <a class="el" href="mtype_8h_source.html#l00380">mtype::emit_fields</a>, <a class="el" href="explosion_8cpp_source.html#l00657">explosion_handler::emp_blast()</a>, <a class="el" href="monster_8h_source.html#l00051">mon_special_attack::enabled</a>, <a class="el" href="explosion_8cpp_source.html#l00489">explosion_handler::explosion()</a>, <a class="el" href="field__type_8cpp.html#a0090428c1f6724209c133c6b04b037cd">fd_fire</a>, <a class="el" href="item_8cpp_source.html#l11811">item::flammable()</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="creature_8cpp_source.html#l01808">Creature::get_effects_with_flag()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">Creature::get_name()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="game_8cpp_source.html#l13866">get_weather()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="creature_8cpp_source.html#l01792">Creature::has_effect_with_flag()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="map_8cpp_source.html#l04978">map::i_at()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="map_8cpp_source.html#l03395">map::is_outside()</a>, <a class="el" href="monster_8cpp.html#ab41f4e77a586e85f347f7151266b9dd5">json_flag_GRAB</a>, <a class="el" href="monster_8cpp.html#a2724a97ce27ac9050939a55314eab590">json_flag_GRAB_FILTER</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">LIQUID</a>, <a class="el" href="enums_8h_source.html#l00348">m_bad</a>, <a class="el" href="enums_8h_source.html#l00351">m_warning</a>, <a class="el" href="item_8cpp_source.html#l09146">item::made_of()</a>, <a class="el" href="mtype_8cpp_source.html#l00079">mon_flag_ELECTRIC_FIELD</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="calendar_8cpp_source.html#l00753">calendar::once_every()</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="map_8cpp_source.html#l10109">map::points_in_radius()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8cpp_source.html#l00259">Creature::process_turn()</a>, <a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958a0f6969d7052da9261e31ddb6e88c136e">remove</a>, <a class="el" href="creature_8cpp_source.html#l01722">Creature::remove_effect()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="character_8cpp_source.html#l11397">Character::sees()</a>, <a class="el" href="sounds_8cpp_source.html#l00318">sounds::sound()</a>, <a class="el" href="monster_8h_source.html#l00617">special_attacks</a>, <a class="el" href="mtype_8h_source.html#l00378">mtype::special_attacks</a>, <a class="el" href="map_8cpp_source.html#l01922">map::ter()</a>, <a class="el" href="monster_8cpp.html#ac7b82dd0a9cc15d6ebcaa96c107f7d34">ter_t_gas_pump</a>, <a class="el" href="monster_8cpp.html#acf2fe634c9d3945f603a50a69dfcd9d7">ter_t_gas_pump_a</a>, <a class="el" href="map_8cpp_source.html#l02340">map::tername()</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

</div>
</div>
<a id="a1a829284017aa69618d25208a53061d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a829284017aa69618d25208a53061d1">&#9670;&nbsp;</a></span>push_to()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::push_to </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>boost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>depth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to push away whatever occupies p, then step in. </p>
<p>May recurse and try to make the creature at p push further.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Location of pushed object </td></tr>
    <tr><td class="paramname">boost</td><td>A bonus on the roll to represent a horde pushing from behind </td></tr>
    <tr><td class="paramname">depth</td><td>Number of recursions so far</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if we managed to push something and took its place, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l02094">2094</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;{</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;        <span class="comment">// Don&#39;t let hallucinations push, not even other hallucinations</span></div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    }</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160; </div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#af882b7fb7b2ad4d4d8a66371e2a5793c">mon_flag_PUSH_MON</a> ) || depth &gt; 2 || <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monmove_8cpp.html#a6500d7a3ab33f453019cc4e7f55ced72">effect_pushed</a> ) ) {</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    }</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160; </div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <a class="code" href="classcreature__tracker.html">creature_tracker</a> &amp;creatures = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>();</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <span class="comment">// TODO: Generalize this to Creature</span></div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <a class="code" href="classmonster.html">monster</a> *<span class="keyword">const</span> critter = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>&lt;<a class="code" href="classmonster.html">monster</a>&gt;( p );</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    <span class="keywordflow">if</span>( critter == <span class="keyword">nullptr</span> || critter == <span class="keyword">this</span> ||</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;        p == <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() || critter-&gt;<a class="code" href="classmonster.html#a3ff46700c4e8b9527cb331151d7b7c26">movement_impaired</a>() ) {</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    }</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160; </div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a241bdfccd5d6b2200c0bfd5eca9ce8ab">can_move_to</a>( p ) ) {</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;    }</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160; </div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    <span class="keywordflow">if</span>( critter-&gt;<a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;        <span class="comment">// Kill the hallu, but return false so that the regular move_to is uses instead</span></div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;        critter-&gt;<a class="code" href="classmonster.html#a82ae41773b05af94d4b678cb33bfb329">die</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    }</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160; </div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    <span class="comment">// Stability roll of the pushed critter</span></div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> defend = critter-&gt;<a class="code" href="classmonster.html#a1d2c8b9ef1d6562d8b08c9d89e04b5c9">stability_roll</a>();</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <span class="comment">// Stability roll of the pushing zed</span></div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> = <a class="code" href="classmonster.html#a1d2c8b9ef1d6562d8b08c9d89e04b5c9">stability_roll</a>() + boost;</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <span class="keywordflow">if</span>( defend &gt; <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> ) {</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    }</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160; </div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> movecost_from = 50 * here.<a class="code" href="classmap.html#abe9e7b93cf8ee15c370ad55c3138c4f6">move_cost</a>( p );</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> movecost_attacker = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( movecost_from, 200 - 10 * ( <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> - defend ) );</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> dir = p - <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>();</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160; </div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    <span class="comment">// Mark self as pushed to simplify recursive pushing</span></div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monmove_8cpp.html#a6500d7a3ab33f453019cc4e7f55ced72">effect_pushed</a>, 1_turns );</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160; </div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; 6; i++ ) {</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> d( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( -1, 1 ), <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( -1, 1 ) );</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <span class="keywordflow">if</span>( d.x == 0 &amp;&amp; d.y == 0 ) {</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;        }</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160; </div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;        <span class="comment">// Pushing forward is easier than pushing aside</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> direction_penalty = <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( d.x - dir.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> ) + <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( d.y - dir.<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> );</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;        <span class="keywordflow">if</span>( direction_penalty &gt; 2 ) {</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;        }</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160; </div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;        <a class="code" href="structtripoint.html">tripoint</a> dest( p + d );</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> dest_movecost_from = 50 * here.<a class="code" href="classmap.html#abe9e7b93cf8ee15c370ad55c3138c4f6">move_cost</a>( dest );</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160; </div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;        <span class="comment">// Pushing into cars/windows etc. is harder</span></div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> movecost_penalty = here.<a class="code" href="classmap.html#abe9e7b93cf8ee15c370ad55c3138c4f6">move_cost</a>( dest ) - 2;</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;        <span class="keywordflow">if</span>( movecost_penalty &lt;= -2 ) {</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;            <span class="comment">// Can&#39;t push into unpassable terrain</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;        }</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160; </div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;        <span class="keywordtype">int</span> roll = <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> - ( defend + direction_penalty + movecost_penalty );</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;        <span class="keywordflow">if</span>( roll &lt; 0 ) {</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;        }</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160; </div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;        <a class="code" href="classCreature.html">Creature</a> *critter_recur = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( dest );</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;        <span class="keywordflow">if</span>( !( critter_recur == <span class="keyword">nullptr</span> || critter_recur-&gt;<a class="code" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">is_hallucination</a>() ) ) {</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;            <span class="comment">// Try to push recursively</span></div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;            <a class="code" href="classmonster.html">monster</a> *mon_recur = <span class="keyword">dynamic_cast&lt;</span> <a class="code" href="classmonster.html">monster</a> * <span class="keyword">&gt;</span>( critter_recur );</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;            <span class="keywordflow">if</span>( mon_recur == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;            }</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160; </div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;            <span class="keywordflow">if</span>( critter-&gt;<a class="code" href="classmonster.html#a1a829284017aa69618d25208a53061d1">push_to</a>( dest, roll, depth + 1 ) ) {</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;                <span class="comment">// The tile isn&#39;t necessarily free, need to check</span></div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;                <span class="keywordflow">if</span>( !creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( p ) ) {</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;                    <a class="code" href="classmonster.html#ab3c07bd4cb325287741fa2e561168e56">move_to</a>( p );</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;                }</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160; </div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;                <a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -movecost_attacker );</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160; </div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;                <span class="comment">// Don&#39;t knock down a creature that successfully</span></div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;                <span class="comment">// pushed another creature, just reduce moves</span></div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;                critter-&gt;<a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -dest_movecost_from );</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;            }</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;        }</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160; </div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;        critter_recur = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( dest );</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;        <span class="keywordflow">if</span>( critter_recur != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;            <span class="keywordflow">if</span>( critter_recur-&gt;<a class="code" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">is_hallucination</a>() ) {</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;                critter_recur-&gt;<a class="code" href="classCreature.html#a330dad28f732a1cf3af695eedb54877d">die</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;            }</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !critter-&gt;<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#af8eb4198f7564379a407e89c13cdd1b7">mon_flag_IMMOBILE</a> ) ) {</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;            critter-&gt;<a class="code" href="classCreature.html#ac16dcdb688f6f47c594c98c83528a670">setpos</a>( dest );</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;            <a class="code" href="classmonster.html#ab3c07bd4cb325287741fa2e561168e56">move_to</a>( p );</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;            <a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -movecost_attacker );</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;            critter-&gt;<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monmove_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="code" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( movecost_from / 100 + 1 ) );</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;        }</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    }</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160; </div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    <span class="comment">// Try to trample over a much weaker zed (or one with worse rolls)</span></div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    <span class="comment">// Don&#39;t allow trampling with boost</span></div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    <span class="keywordflow">if</span>( boost &gt; 0 || <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> &lt; 2 * defend ) {</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    }</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160; </div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;swap_critters( *critter, *<span class="keyword">this</span> );</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    critter-&gt;<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monmove_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0_turns, 2_turns ) );</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    <span class="comment">// Only print the message when near player or it can get spammy</span></div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) &lt; 4 ) {</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;        <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( *critter, <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %1$s tramples %2$s.&quot;</span> ),</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;                                <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(), critter-&gt;<a class="code" href="classmonster.html#af3444e4763b1dd53e75c5ea50fd8ba9f">disp_name</a>() );</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    }</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160; </div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -movecost_attacker );</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <span class="keywordflow">if</span>( movecost_from &gt; 100 ) {</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;        critter-&gt;<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monmove_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="code" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( movecost_from / 100 + 1 ) );</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;        critter-&gt;<a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -movecost_from );</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    }</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160; </div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a330dad28f732a1cf3af695eedb54877d"><div class="ttname"><a href="classCreature.html#a330dad28f732a1cf3af695eedb54877d">Creature::die</a></div><div class="ttdeci">virtual void die(Creature *killer)=0</div><div class="ttdoc">Empty function.</div></div>
<div class="ttc" id="aclassmonster_html_a1d2c8b9ef1d6562d8b08c9d89e04b5c9"><div class="ttname"><a href="classmonster.html#a1d2c8b9ef1d6562d8b08c9d89e04b5c9">monster::stability_roll</a></div><div class="ttdeci">float stability_roll() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02435">monster.cpp:2435</a></div></div>
<div class="ttc" id="aclassmonster_html_a3ff46700c4e8b9527cb331151d7b7c26"><div class="ttname"><a href="classmonster.html#a3ff46700c4e8b9527cb331151d7b7c26">monster::movement_impaired</a></div><div class="ttdeci">bool movement_impaired()</div><div class="ttdoc">Returns true if the monster has its movement impaired.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02200">monster.cpp:2200</a></div></div>
<div class="ttc" id="amonmove_8cpp_html_a08481f62adb6937636ea44b855311037"><div class="ttname"><a href="monmove_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a></div><div class="ttdeci">static const efftype_id effect_downed(&quot;downed&quot;)</div></div>
<div class="ttc" id="amonmove_8cpp_html_a6500d7a3ab33f453019cc4e7f55ced72"><div class="ttname"><a href="monmove_8cpp.html#a6500d7a3ab33f453019cc4e7f55ced72">effect_pushed</a></div><div class="ttdeci">static const efftype_id effect_pushed(&quot;pushed&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="math__parser__func_8h_source.html#l00030">abs()</a>, <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="messages_8cpp_source.html#l01007">add_msg_if_player_sees()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00581">spell_effect::attack()</a>, <a class="el" href="monmove_8cpp_source.html#l00356">can_move_to()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="classCreature.html#a330dad28f732a1cf3af695eedb54877d">Creature::die()</a>, <a class="el" href="monster_8cpp_source.html#l00775">disp_name()</a>, <a class="el" href="monmove_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="el" href="monmove_8cpp.html#a6500d7a3ab33f453019cc4e7f55ced72">effect_pushed</a>, <a class="el" href="monmove_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, <a class="el" href="calendar_8h_source.html#l00221">time_duration::from_turns()</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">Creature::is_hallucination()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="enums_8h_source.html#l00351">m_warning</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="creature_8cpp_source.html#l02008">Creature::mod_moves()</a>, <a class="el" href="mtype_8cpp_source.html#l00101">mon_flag_IMMOBILE</a>, <a class="el" href="mtype_8cpp_source.html#l00134">mon_flag_PUSH_MON</a>, <a class="el" href="map_8cpp_source.html#l02434">map::move_cost()</a>, <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, <a class="el" href="monster_8cpp_source.html#l02200">movement_impaired()</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="monmove_8cpp_source.html#l02094">push_to()</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="creature_8cpp_source.html#l00188">Creature::setpos()</a>, <a class="el" href="monster_8cpp_source.html#l02435">stability_roll()</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, <a class="el" href="point_8h_source.html#l00132">tripoint::x</a>, <a class="el" href="point_8h_source.html#l00024">point::y</a>, and <a class="el" href="point_8h_source.html#l00133">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="monattack_8cpp_source.html#l02883">mattack::nurse_operate()</a>, <a class="el" href="monmove_8cpp_source.html#l01357">nursebot_operate()</a>, and <a class="el" href="monmove_8cpp_source.html#l02094">push_to()</a>.</p>

</div>
</div>
<a id="aac5e0ccac0ace79a458f219f8778f223"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac5e0ccac0ace79a458f219f8778f223">&#9670;&nbsp;</a></span>rate_target()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float monster::rate_target </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>best</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>smart</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l00361">361</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;{</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keyword">const</span> <a class="code" href="structFastDistanceApproximation.html">FastDistanceApproximation</a> d = <a class="code" href="line_8h.html#ab7e2c307c51b94809057c788b81afbba">rl_dist_fast</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.pos() );</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">if</span>( d &lt;= 0 ) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">return</span> FLT_MAX;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">// Check a very common and cheap case first</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">if</span>( !smart &amp;&amp; d &gt;= best ) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="keywordflow">return</span> FLT_MAX;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> ) ) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">return</span> FLT_MAX;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">if</span>( !smart ) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( d );</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="namespaceunits.html#aafd2a8bd44b71ecc20b880db8071ad53">power</a> = <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.power_rating();</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="classmonster.html">monster</a> *mon = <span class="keyword">dynamic_cast&lt;</span> <a class="code" href="classmonster.html">monster</a> * <span class="keyword">&gt;</span>( &amp;<a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> );</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="comment">// Their attitude to us and not ours to them, so that bobcats won&#39;t get gunned down</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">if</span>( mon != <span class="keyword">nullptr</span> &amp;&amp; mon-&gt;<a class="code" href="classmonster.html#a125622587c2069dc4dbbe07943c81336">attitude_to</a>( *<span class="keyword">this</span> ) == <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Attitude::HOSTILE</a> ) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <a class="code" href="namespaceunits.html#aafd2a8bd44b71ecc20b880db8071ad53">power</a> += 2;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespaceunits.html#aafd2a8bd44b71ecc20b880db8071ad53">power</a> &gt; 0 ) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( d ) / <a class="code" href="namespaceunits.html#aafd2a8bd44b71ecc20b880db8071ad53">power</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span> FLT_MAX;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
<div class="ttc" id="aline_8h_html_ab7e2c307c51b94809057c788b81afbba"><div class="ttname"><a href="line_8h.html#ab7e2c307c51b94809057c788b81afbba">rl_dist_fast</a></div><div class="ttdeci">FastDistanceApproximation rl_dist_fast(const tripoint &amp;loc1, const tripoint &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="line_8h_source.html#l00237">line.h:237</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a6753ecfe87da659675b18c2f81d6ec12"><div class="ttname"><a href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a></div><div class="ttdeci">static constexpr double c</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01568">magic.cpp:1568</a></div></div>
<div class="ttc" id="anamespaceunits_html_aafd2a8bd44b71ecc20b880db8071ad53"><div class="ttname"><a href="namespaceunits.html#aafd2a8bd44b71ecc20b880db8071ad53">units::power</a></div><div class="ttdeci">quantity&lt; std::int64_t, power_in_milliwatt_tag &gt; power</div><div class="ttdef"><b>Definition:</b> <a href="units__fwd_8h_source.html#l00057">units_fwd.h:57</a></div></div>
<div class="ttc" id="astructFastDistanceApproximation_html"><div class="ttname"><a href="structFastDistanceApproximation.html">FastDistanceApproximation</a></div><div class="ttdoc">Helper type for the return value of dist_fast().</div><div class="ttdef"><b>Definition:</b> <a href="line_8h_source.html#l00198">line.h:198</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01450">attitude_to()</a>, <a class="el" href="magic_8cpp_source.html#l01568">c</a>, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217a10794171f9c3f68753d26303cfec9747">Creature::HOSTILE</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="line_8h_source.html#l00237">rl_dist_fast()</a>, and <a class="el" href="creature_8cpp_source.html#l00358">Creature::sees()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>.</p>

</div>
</div>
<a id="ae054bfde7618d0ff8c7dff70a9e3e392"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae054bfde7618d0ff8c7dff70a9e3e392">&#9670;&nbsp;</a></span>refill_udders()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::refill_udders </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00613">613</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;{</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a7a3165f2cd86b6e9b68c748ed7f4c0">starting_ammo</a>.empty() ) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;monster %s has no starting ammo to refill udders&quot;</span>, <a class="code" href="classmonster.html#ad4fba0b9aea36097d8b972e05e66d914">get_name</a>() );</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>.empty() ) {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="comment">// legacy animals got empty ammo map, fill them up now if needed.</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>[<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a7a3165f2cd86b6e9b68c748ed7f4c0">starting_ammo</a>.begin()-&gt;first] = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a7a3165f2cd86b6e9b68c748ed7f4c0">starting_ammo</a>.begin()-&gt;second;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keyword">auto</span> current_milk = <a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>.find( <a class="code" href="monster_8cpp.html#ab3491c327a32b31ea6eeb4550e3b1c3b">itype_milk_raw</a> );</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">if</span>( current_milk == <a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>.end() ) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        current_milk = <a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>.find( <a class="code" href="monster_8cpp.html#a56ff8be984411de1513f4bec53675c89">itype_milk</a> );</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keywordflow">if</span>( current_milk != <a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>.end() ) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            <span class="comment">// take this opportunity to update milk udders to raw_milk</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            <a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>[<a class="code" href="monster_8cpp.html#ab3491c327a32b31ea6eeb4550e3b1c3b">itype_milk_raw</a>] = current_milk-&gt;second;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="comment">// Erase old key-value from map</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            <a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>.erase( current_milk );</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        }</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    }</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="comment">// if we got here, we got milk.</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">if</span>( current_milk-&gt;second == <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a7a3165f2cd86b6e9b68c748ed7f4c0">starting_ammo</a>.begin()-&gt;second ) {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="comment">// already full up</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#aa37e8c765633b2710dcc31bf2c864b37">mon_flag_EATS</a> ) || <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#ad060c301873debf1b1401edcee21874f">effect_critter_well_fed</a> ) ) {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> - <a class="code" href="classmonster.html#afddce3b0ff89fefe1d36b256bf9a03d0">udder_timer</a> &gt; 1_days ) {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <span class="comment">// You milk once a day. Monsters with the EATS flag need to be well fed or they won&#39;t refill their udders.</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>.begin()-&gt;second = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a7a3165f2cd86b6e9b68c748ed7f4c0">starting_ammo</a>.begin()-&gt;second;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <a class="code" href="classmonster.html#afddce3b0ff89fefe1d36b256bf9a03d0">udder_timer</a> = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;}</div>
<div class="ttc" id="amonster_8cpp_html_a56ff8be984411de1513f4bec53675c89"><div class="ttname"><a href="monster_8cpp.html#a56ff8be984411de1513f4bec53675c89">itype_milk</a></div><div class="ttdeci">static const itype_id itype_milk(&quot;milk&quot;)</div></div>
<div class="ttc" id="amonster_8cpp_html_ab3491c327a32b31ea6eeb4550e3b1c3b"><div class="ttname"><a href="monster_8cpp.html#ab3491c327a32b31ea6eeb4550e3b1c3b">itype_milk_raw</a></div><div class="ttdeci">static const itype_id itype_milk_raw(&quot;milk_raw&quot;)</div></div>
<div class="ttc" id="astructmtype_html_a9a7a3165f2cd86b6e9b68c748ed7f4c0"><div class="ttname"><a href="structmtype.html#a9a7a3165f2cd86b6e9b68c748ed7f4c0">mtype::starting_ammo</a></div><div class="ttdeci">std::map&lt; itype_id, int &gt; starting_ammo</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00358">mtype.h:358</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00582">ammo</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="monster_8cpp.html#ad060c301873debf1b1401edcee21874f">effect_critter_well_fed</a>, <a class="el" href="monster_8cpp_source.html#l00717">get_name()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="monster_8cpp.html#a56ff8be984411de1513f4bec53675c89">itype_milk</a>, <a class="el" href="monster_8cpp.html#ab3491c327a32b31ea6eeb4550e3b1c3b">itype_milk_raw</a>, <a class="el" href="mtype_8cpp_source.html#l00077">mon_flag_EATS</a>, <a class="el" href="mtype_8h_source.html#l00358">mtype::starting_ammo</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="monster_8h_source.html#l00628">udder_timer</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l03858">on_load()</a>, and <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>.</p>

</div>
</div>
<a id="aa16651738b2e1ab517fde90b5108fc89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa16651738b2e1ab517fde90b5108fc89">&#9670;&nbsp;</a></span>remove_grab()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::remove_grab </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>&#160;</td>
          <td class="paramname"><em>bp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02511">2511</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;{</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    <a class="code" href="classmonster.html#ab867ed85af4f78ffd00d7c525fba796b">grabbed_limbs</a>.erase( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> );</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#ab867ed85af4f78ffd00d7c525fba796b">grabbed_limbs</a>.empty() ) {</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;        <a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="monster_8cpp.html#a66f79823ab25161f7aabf43445a580a4">effect_grabbing</a>, 1_days, <span class="keyword">true</span>, 1 );</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    }</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="creature_8h_source.html#l00238">bp</a>, <a class="el" href="monster_8cpp.html#a66f79823ab25161f7aabf43445a580a4">effect_grabbing</a>, and <a class="el" href="monster_8h_source.html#l00519">grabbed_limbs</a>.</p>

<p class="reference">Referenced by <a class="el" href="melee_8cpp_source.html#l01801">Character::perform_technique()</a>, and <a class="el" href="character__escape_8cpp_source.html#l00181">Character::try_remove_grab()</a>.</p>

</div>
</div>
<a id="a325bdd1f920294d677cc67ead42e4e3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a325bdd1f920294d677cc67ead42e4e3c">&#9670;&nbsp;</a></span>reset_bonuses()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::reset_bonuses </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets the value of all bonus fields to 0, clears special effect flags. </p>

<p>Reimplemented from <a class="el" href="classCreature.html#ac17b598158d47e40713408e8c88b20b4">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02574">2574</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;{</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    <a class="code" href="classmonster.html#a04c74718e60016b199e7cdff71d5aa90">effect_cache</a>.reset();</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160; </div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;    <a class="code" href="classCreature.html#ac17b598158d47e40713408e8c88b20b4">Creature::reset_bonuses</a>();</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_ac17b598158d47e40713408e8c88b20b4"><div class="ttname"><a href="classCreature.html#ac17b598158d47e40713408e8c88b20b4">Creature::reset_bonuses</a></div><div class="ttdeci">virtual void reset_bonuses()</div><div class="ttdoc">Resets the value of all bonus fields to 0.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00235">creature.cpp:235</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00654">effect_cache</a>, and <a class="el" href="creature_8cpp_source.html#l00235">Creature::reset_bonuses()</a>.</p>

</div>
</div>
<a id="a82664fe81ce8c11ed9bbd28ef0cfded8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82664fe81ce8c11ed9bbd28ef0cfded8">&#9670;&nbsp;</a></span>reset_digestion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::reset_digestion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00647">647</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;{</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> - <a class="code" href="classmonster.html#af2ce96fae9d4693c77d3bd60cee9a452">stomach_timer</a> &gt; 3_days ) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="comment">//If the player hasn&#39;t been around, assume critters have been operating at a subsistence level.</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <span class="comment">//Otherwise everything will constantly be underfed. We only run this on load to prevent problems.</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monster_8cpp.html#a40bcaf4d5f2dddb213337b389dc5aacd">effect_critter_underfed</a> );</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <a class="code" href="classCreature.html#a1c6d98c5a339561c989ba3e1ca34eeb8">remove_effect</a>( <a class="code" href="monster_8cpp.html#ad060c301873debf1b1401edcee21874f">effect_critter_well_fed</a> );</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <a class="code" href="classmonster.html#a11074efaf5980ef21e67507fb97232a3">amount_eaten</a> = 0;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <a class="code" href="classmonster.html#af2ce96fae9d4693c77d3bd60cee9a452">stomach_timer</a> = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    }</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00543">amount_eaten</a>, <a class="el" href="monster_8cpp.html#a40bcaf4d5f2dddb213337b389dc5aacd">effect_critter_underfed</a>, <a class="el" href="monster_8cpp.html#ad060c301873debf1b1401edcee21874f">effect_critter_well_fed</a>, <a class="el" href="creature_8cpp_source.html#l01722">Creature::remove_effect()</a>, <a class="el" href="monster_8h_source.html#l00629">stomach_timer</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l03858">on_load()</a>.</p>

</div>
</div>
<a id="a504851437db082b0c62e50ff48ec08fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a504851437db082b0c62e50ff48ec08fb">&#9670;&nbsp;</a></span>reset_pathfinding_cd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::reset_pathfinding_cd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00641">641</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                                    {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <a class="code" href="classmonster.html#a2a072b02f6b004032034c2d553c1867b">pathfinding_cd</a> = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <a class="code" href="classmonster.html#a5dda3c789745355b4de568d5d346d932">pathfinding_backoff</a> = 2_seconds;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00636">pathfinding_backoff</a>, <a class="el" href="monster_8h_source.html#l00635">pathfinding_cd</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02169">apply_damage()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, and <a class="el" href="monster_8cpp_source.html#l01380">set_dest()</a>.</p>

</div>
</div>
<a id="a60ae9c29710c56417f769dea8381becf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60ae9c29710c56417f769dea8381becf">&#9670;&nbsp;</a></span>reset_special()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::reset_special </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>special_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets a given special to its monster type cooldown value. </p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02586">2586</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;{</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    <a class="code" href="classmonster.html#a82a2a2617c817a34c892e793c3b6a407">set_special</a>( special_name, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">special_attacks</a>.at( special_name )-&gt;cooldown );</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a82a2a2617c817a34c892e793c3b6a407"><div class="ttname"><a href="classmonster.html#a82a2a2617c817a34c892e793c3b6a407">monster::set_special</a></div><div class="ttdeci">void set_special(const std::string &amp;special_name, int time)</div><div class="ttdoc">Sets a given special to the given value.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02596">monster.cpp:2596</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l02596">set_special()</a>, <a class="el" href="mtype_8h_source.html#l00378">mtype::special_attacks</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l03988">mattack::breathe()</a>, and <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>.</p>

</div>
</div>
<a id="af8b3b69b1cc4029b7b2166f65ca5a23b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8b3b69b1cc4029b7b2166f65ca5a23b">&#9670;&nbsp;</a></span>reset_special_rng()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::reset_special_rng </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>special_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets a given special to a value between 0 and its monster type cooldown value. </p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02591">2591</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;{</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    <a class="code" href="classmonster.html#a82a2a2617c817a34c892e793c3b6a407">set_special</a>( special_name, <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">special_attacks</a>.at( special_name )-&gt;cooldown ) );</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="monster_8cpp_source.html#l02596">set_special()</a>, <a class="el" href="mtype_8h_source.html#l00378">mtype::special_attacks</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

</div>
</div>
<a id="af473270f1a26f86ced6123e1aa7bf134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af473270f1a26f86ced6123e1aa7bf134">&#9670;&nbsp;</a></span>reset_stats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::reset_stats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets stats, and applies effects in an idempotent manner. </p>

<p>Implements <a class="el" href="classCreature.html#a80f8d134c689097b8137f973e7401c84">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02581">2581</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;{</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    <span class="comment">// Nothing here yet</span></div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a18f2e8acb4dd2bfad739bcf7eba885a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18f2e8acb4dd2bfad739bcf7eba885a7">&#9670;&nbsp;</a></span>respond_to_light()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::respond_to_light </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>light_level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ace81cf5d7ddd0385d3cf2e66d4c47ff7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace81cf5d7ddd0385d3cf2e66d4c47ff7">&#9670;&nbsp;</a></span>scent_move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtripoint.html">tripoint</a> monster::scent_move </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l01475">1475</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;{</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="comment">// TODO: Remove when scentmap is 3D</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() - <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().get_abs_sub().z() ) &gt; <a class="code" href="scent__map_8h.html#ae37b6acaf47b352000fac854f116c126">SCENT_MAP_Z_REACH</a> ) {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        <span class="keywordflow">return</span> { -1, -1, INT_MIN };</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    }</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <a class="code" href="classscent__map.html">scent_map</a> &amp;scents = <a class="code" href="game_8cpp.html#afee362892b161716a3fc614b030a877d">get_scent</a>();</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="keywordtype">bool</span> in_range = scents.<a class="code" href="classscent__map.html#af8194e788fb41147bd4c95dbf09b95fb">inbounds</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <span class="keywordflow">if</span>( !in_range ) {</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        <span class="keywordflow">return</span> { -1, -1, INT_MIN };</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    }</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="keyword">const</span> std::set&lt;scenttype_id&gt; &amp;tracked_scents = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a42b480d35fc4dc0428223b76a41c3ecf">scents_tracked</a>;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <span class="keyword">const</span> std::set&lt;scenttype_id&gt; &amp;ignored_scents = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a30acba3bb0f18e38d564fe72b7e34f8b">scents_ignored</a>;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160; </div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    std::vector&lt;tripoint&gt; sdirection;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    std::vector&lt;tripoint&gt; smoves;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160; </div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="keywordtype">int</span> bestsmell = 10; <span class="comment">// Squares with smell 0 are not eligible targets.</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="keywordtype">int</span> smell_threshold = 200; <span class="comment">// Squares at or above this level are ineligible.</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#aaacb1b1721666f5ed2282384e9a27d77">mon_flag_KEENNOSE</a> ) ) {</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        bestsmell = 1;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        smell_threshold = 400;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    }</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> fleeing = <a class="code" href="classmonster.html#a0f5047243bc2dc00f32c39b5d0918002">is_fleeing</a>( player_character );</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordtype">int</span> scent_here = scents.<a class="code" href="classscent__map.html#a55c51947e481f387010888565ec7ba7c">get_unsafe</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordflow">if</span>( fleeing ) {</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        bestsmell = scent_here;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    }</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160; </div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> next( -1, -1, <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() );</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="comment">// Scent is too weak, can&#39;t follow it.</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <span class="keywordflow">if</span>( scent_here == 0 ) {</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        <span class="keywordflow">return</span> next;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    }</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="comment">// Check for the scent type being compatible.</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="keyword">const</span> <a class="code" href="classstring__id.html">scenttype_id</a> &amp;type_scent = scents.<a class="code" href="classscent__map.html#a781c9a7c953f40d3027c3e3a36446ff3">get_type</a>();</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <span class="keywordtype">bool</span> right_scent = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="comment">// is the monster tracking this scent</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="keywordflow">if</span>( !tracked_scents.empty() ) {</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        right_scent = tracked_scents.find( type_scent ) != tracked_scents.end();</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    }</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <span class="comment">//is this scent recognised by the monster species</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="keywordflow">if</span>( !type_scent.<a class="code" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;        <span class="keyword">const</span> std::set&lt;species_id&gt; &amp;receptive_species = type_scent-&gt;<a class="code" href="classscent__type.html#aa9c81f6208c954f5264ff20e48d4082a">receptive_species</a>;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        <span class="keyword">const</span> std::set&lt;species_id&gt; &amp;monster_species = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad2d6c0780216ad8a2999bc4e7ec7822c">species</a>;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;        std::vector&lt;species_id&gt; v_intersection;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        std::set_intersection( receptive_species.begin(), receptive_species.end(), monster_species.begin(),</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                               monster_species.end(), std::back_inserter( v_intersection ) );</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        <span class="keywordflow">if</span>( !v_intersection.empty() ) {</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;            right_scent = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        }</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    }</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="comment">// is the monster actually ignoring this scent</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <span class="keywordflow">if</span>( !ignored_scents.empty() &amp;&amp; ( ignored_scents.find( type_scent ) != ignored_scents.end() ) ) {</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        right_scent = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    }</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="keywordflow">if</span>( !right_scent ) {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        <span class="keywordflow">return</span> { -1, -1, INT_MIN };</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    }</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160; </div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_bash = <a class="code" href="classmonster.html#a7410372f55ca62ae5eda0fcc63b48622">bash_skill</a>() &gt; 0;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <span class="keywordflow">if</span>( !fleeing &amp;&amp; scent_here &gt; smell_threshold ) {</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        <span class="comment">// Smell too strong to track, wander around</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        sdirection.push_back( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        <span class="comment">// Get direction of scent</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;dest : here.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 1, <a class="code" href="scent__map_8h.html#ae37b6acaf47b352000fac854f116c126">SCENT_MAP_Z_REACH</a> ) ) {</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            <span class="keywordtype">int</span> smell = scents.<a class="code" href="classscent__map.html#a99aff3e6d8963d7f34618216a8448c8c">get</a>( dest );</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160; </div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;            <span class="keywordflow">if</span>( ( !fleeing &amp;&amp; smell &lt; bestsmell ) || ( fleeing &amp;&amp; smell &gt; bestsmell ) ) {</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            }</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            <span class="keywordflow">if</span>( ( !fleeing &amp;&amp; smell &gt; bestsmell ) || ( fleeing &amp;&amp; smell &lt; bestsmell ) ) {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                sdirection.clear();</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                sdirection.push_back( dest );</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                bestsmell = smell;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ( !fleeing &amp;&amp; smell == bestsmell ) || ( fleeing &amp;&amp; smell == bestsmell ) ) {</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;                sdirection.push_back( dest );</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;            }</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        }</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    }</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160; </div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;<a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a> : sdirection ) {</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <span class="comment">// Add some randomness to make creatures zigzag towards the source</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;dest : here.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a>, 1 ) ) {</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;            <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a3188771064ca49d4798c6a80bfad0fcd">valid_move</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), dest, can_bash, <span class="keyword">true</span> ) &amp;&amp;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                ( <a class="code" href="classmonster.html#a241bdfccd5d6b2200c0bfd5eca9ce8ab">can_move_to</a>( dest ) || ( dest == player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ||</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                  ( can_bash &amp;&amp; here.<a class="code" href="classmap.html#a6c9fdb474119bafd75efa7c12e0bec1a">bash_rating</a>( <a class="code" href="classmonster.html#a22061ca6aa966283a748d84ce4352fb4">bash_estimate</a>(), dest ) &gt; 0 ) ) ) {</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;                smoves.push_back( dest );</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            }</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        }</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    }</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160; </div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( smoves, next );</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;}</div>
<div class="ttc" id="aclassscent__map_html"><div class="ttname"><a href="classscent__map.html">scent_map</a></div><div class="ttdef"><b>Definition:</b> <a href="scent__map_8h_source.html#l00044">scent_map.h:45</a></div></div>
<div class="ttc" id="aclassscent__map_html_a55c51947e481f387010888565ec7ba7c"><div class="ttname"><a href="classscent__map.html#a55c51947e481f387010888565ec7ba7c">scent_map::get_unsafe</a></div><div class="ttdeci">int get_unsafe(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="scent__map_8cpp_source.html#l00117">scent_map.cpp:117</a></div></div>
<div class="ttc" id="aclassscent__map_html_a781c9a7c953f40d3027c3e3a36446ff3"><div class="ttname"><a href="classscent__map.html#a781c9a7c953f40d3027c3e3a36446ff3">scent_map::get_type</a></div><div class="ttdeci">scenttype_id get_type() const</div><div class="ttdef"><b>Definition:</b> <a href="scent__map_8cpp_source.html#l00122">scent_map.cpp:122</a></div></div>
<div class="ttc" id="aclassscent__map_html_a99aff3e6d8963d7f34618216a8448c8c"><div class="ttname"><a href="classscent__map.html#a99aff3e6d8963d7f34618216a8448c8c">scent_map::get</a></div><div class="ttdeci">int get(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="scent__map_8cpp_source.html#l00095">scent_map.cpp:95</a></div></div>
<div class="ttc" id="aclassscent__map_html_af8194e788fb41147bd4c95dbf09b95fb"><div class="ttname"><a href="classscent__map.html#af8194e788fb41147bd4c95dbf09b95fb">scent_map::inbounds</a></div><div class="ttdeci">bool inbounds(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="scent__map_8cpp_source.html#l00136">scent_map.cpp:136</a></div></div>
<div class="ttc" id="aclassscent__type_html_aa9c81f6208c954f5264ff20e48d4082a"><div class="ttname"><a href="classscent__type.html#aa9c81f6208c954f5264ff20e48d4082a">scent_type::receptive_species</a></div><div class="ttdeci">std::set&lt; species_id &gt; receptive_species</div><div class="ttdef"><b>Definition:</b> <a href="scent__map_8h_source.html#l00040">scent_map.h:40</a></div></div>
<div class="ttc" id="agame_8cpp_html_afee362892b161716a3fc614b030a877d"><div class="ttname"><a href="game_8cpp.html#afee362892b161716a3fc614b030a877d">get_scent</a></div><div class="ttdeci">scent_map &amp; get_scent()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13851">game.cpp:13851</a></div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a></div><div class="ttdeci">direction</div><div class="ttdef"><b>Definition:</b> <a href="line_8h_source.html#l00042">line.h:42</a></div></div>
<div class="ttc" id="amtype_8cpp_html_aaacb1b1721666f5ed2282384e9a27d77"><div class="ttname"><a href="mtype_8cpp.html#aaacb1b1721666f5ed2282384e9a27d77">mon_flag_KEENNOSE</a></div><div class="ttdeci">mon_flag_id mon_flag_KEENNOSE</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00104">mtype.cpp:104</a></div></div>
<div class="ttc" id="arng_8h_html_a12244355ee77108f1b08618e9962e4d1"><div class="ttname"><a href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a></div><div class="ttdeci">V random_entry(const C &amp;container, D default_value)</div><div class="ttdoc">Returns a random entry in the container.</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00104">rng.h:104</a></div></div>
<div class="ttc" id="ascent__map_8h_html_ae37b6acaf47b352000fac854f116c126"><div class="ttname"><a href="scent__map_8h.html#ae37b6acaf47b352000fac854f116c126">SCENT_MAP_Z_REACH</a></div><div class="ttdeci">constexpr int SCENT_MAP_Z_REACH</div><div class="ttdef"><b>Definition:</b> <a href="scent__map_8h_source.html#l00019">scent_map.h:19</a></div></div>
<div class="ttc" id="astructmtype_html_a30acba3bb0f18e38d564fe72b7e34f8b"><div class="ttname"><a href="structmtype.html#a30acba3bb0f18e38d564fe72b7e34f8b">mtype::scents_ignored</a></div><div class="ttdeci">std::set&lt; scenttype_id &gt; scents_ignored</div><div class="ttdoc">Types of scent tracked by this mtype.</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00369">mtype.h:369</a></div></div>
<div class="ttc" id="astructmtype_html_a42b480d35fc4dc0428223b76a41c3ecf"><div class="ttname"><a href="structmtype.html#a42b480d35fc4dc0428223b76a41c3ecf">mtype::scents_tracked</a></div><div class="ttdeci">std::set&lt; scenttype_id &gt; scents_tracked</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00368">mtype.h:368</a></div></div>
<div class="ttc" id="astructmtype_html_ad2d6c0780216ad8a2999bc4e7ec7822c"><div class="ttname"><a href="structmtype.html#ad2d6c0780216ad8a2999bc4e7ec7822c">mtype::species</a></div><div class="ttdeci">std::set&lt; species_id &gt; species</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00362">mtype.h:362</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="math__parser__func_8h_source.html#l00030">abs()</a>, <a class="el" href="monmove_8cpp_source.html#l01719">bash_estimate()</a>, <a class="el" href="map_8cpp_source.html#l03304">map::bash_rating()</a>, <a class="el" href="monmove_8cpp_source.html#l01730">bash_skill()</a>, <a class="el" href="monmove_8cpp_source.html#l00356">can_move_to()</a>, <a class="el" href="scent__map_8cpp_source.html#l00095">scent_map::get()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="game_8cpp_source.html#l13851">get_scent()</a>, <a class="el" href="scent__map_8cpp_source.html#l00122">scent_map::get_type()</a>, <a class="el" href="scent__map_8cpp_source.html#l00117">scent_map::get_unsafe()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="scent__map_8cpp_source.html#l00136">scent_map::inbounds()</a>, <a class="el" href="string__id_8h_source.html#l00303">string_id&lt; T &gt;::is_empty()</a>, <a class="el" href="monster_8cpp_source.html#l01438">is_fleeing()</a>, <a class="el" href="mtype_8cpp_source.html#l00104">mon_flag_KEENNOSE</a>, <a class="el" href="map_8cpp_source.html#l10109">map::points_in_radius()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8h_source.html#l00317">Creature::posz()</a>, <a class="el" href="rng_8h_source.html#l00104">random_entry()</a>, <a class="el" href="scent__map_8h_source.html#l00040">scent_type::receptive_species</a>, <a class="el" href="scent__map_8h_source.html#l00019">SCENT_MAP_Z_REACH</a>, <a class="el" href="mtype_8h_source.html#l00369">mtype::scents_ignored</a>, <a class="el" href="mtype_8h_source.html#l00368">mtype::scents_tracked</a>, <a class="el" href="mtype_8h_source.html#l00362">mtype::species</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="map_8cpp_source.html#l02542">map::valid_move()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>.</p>

</div>
</div>
<a id="af313a62c8ecf3df3919cace7627c7079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af313a62c8ecf3df3919cace7627c7079">&#9670;&nbsp;</a></span>serialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>json</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l02596">2596</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;{</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;    <span class="comment">// This must be after the json object has been started, so any super class</span></div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;    <span class="comment">// puts their data into the same json object.</span></div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    <a class="code" href="classmonster.html#ad9789c1a8077e047ef45500100c33fe9">store</a>( json );</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;}</div>
<div class="ttc" id="aclassJsonOut_html_a4756f9a569adbfc60de127f7c335d82f"><div class="ttname"><a href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">JsonOut::start_object</a></div><div class="ttdeci">void start_object(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02316">json.cpp:2316</a></div></div>
<div class="ttc" id="aclassJsonOut_html_aa38d37840ed6ba168b78a43570e98681"><div class="ttname"><a href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">JsonOut::end_object</a></div><div class="ttdeci">void end_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02327">json.cpp:2327</a></div></div>
<div class="ttc" id="aclassmonster_html_ad9789c1a8077e047ef45500100c33fe9"><div class="ttname"><a href="classmonster.html#ad9789c1a8077e047ef45500100c33fe9">monster::store</a></div><div class="ttdeci">void store(JsonOut &amp;json) const</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l02605">savegame_json.cpp:2605</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l02327">JsonOut::end_object()</a>, and <a class="el" href="json_8cpp_source.html#l02316">JsonOut::start_object()</a>.</p>

</div>
</div>
<a id="a59dab0b0d7e791038c18d01277393686"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59dab0b0d7e791038c18d01277393686">&#9670;&nbsp;</a></span>set_dest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::set_dest </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01380">1380</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;{</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a7c3e07d777236b91713d6db073581dd3">goal</a> || <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( p, *<a class="code" href="classmonster.html#a7c3e07d777236b91713d6db073581dd3">goal</a> ) &gt; 2 ) {</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        <a class="code" href="classmonster.html#a504851437db082b0c62e50ff48ec08fb">reset_pathfinding_cd</a>();</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    }</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <a class="code" href="classmonster.html#a7c3e07d777236b91713d6db073581dd3">goal</a> = p;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00618">goal</a>, <a class="el" href="monster_8h_source.html#l00641">reset_pathfinding_cd()</a>, and <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l07916">iuse::directional_hologram()</a>, <a class="el" href="monattack_8cpp_source.html#l02883">mattack::nurse_operate()</a>, <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>, and <a class="el" href="monattack_8cpp_source.html#l01311">mattack::smash_specific()</a>.</p>

</div>
</div>
<a id="a33b23afe9e525edecfd1c9f2edff0593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33b23afe9e525edecfd1c9f2edff0593">&#9670;&nbsp;</a></span>set_horde_attraction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::set_horde_attraction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022a">monster_horde_attraction</a>&#160;</td>
          <td class="paramname"><em>mha</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03826">3826</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;{</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;    <a class="code" href="classmonster.html#a6e59f031b6007370e42a38bc89a2d1c3">horde_attraction</a> = mha;</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00630">horde_attraction</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l08762">map::spawn_monsters_submap_group()</a>.</p>

</div>
</div>
<a id="a98c421c82c34706735f13afe25ea7f1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98c421c82c34706735f13afe25ea7f1f">&#9670;&nbsp;</a></span>set_hp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::set_hp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Directly set the current <a class="el" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> of the monster (not capped at the maximal hp). </p>
<p>You might want to use <a class="el" href="classmonster.html#af7763c0da8025aea231a29272f25d5fc">heal</a> / <a class="el" href="classmonster.html#afc6e6f5443145732310dd4901a394b4f">apply_damage</a> or <a class="el" href="classCreature.html#af1f141f381984e2d0f119dc94429f1d3">deal_damage</a> instead. </p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02164">2164</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;{</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    this-&gt;<a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> = <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a>;</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00616">hp</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l00415">mattack::absorb_items()</a>, <a class="el" href="monattack_8cpp_source.html#l02464">blobify()</a>, <a class="el" href="iuse_8cpp_source.html#l03225">iuse::can_goo()</a>, <a class="el" href="game_8cpp_source.html#l12750">game::despawn_monster()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="monattack_8cpp_source.html#l02433">mattack::disappear()</a>, <a class="el" href="monattack_8cpp_source.html#l02497">mattack::formblob()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00731">trapfunc::goo()</a>, <a class="el" href="iuse_8cpp_source.html#l03274">iuse::granade_act()</a>, <a class="el" href="monattack_8cpp_source.html#l04693">mattack::mon_leech_evolution()</a>, <a class="el" href="monattack_8cpp_source.html#l02409">mattack::plant()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00215">talker_monster::set_all_parts_hp_cur()</a>, and <a class="el" href="monattack_8cpp_source.html#l00391">mattack::split()</a>.</p>

</div>
</div>
<a id="a59cf36dc1839ff6765216afb377b1eb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59cf36dc1839ff6765216afb377b1eb0">&#9670;&nbsp;</a></span>set_patrol_route()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::set_patrol_route </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structpoint.html">point</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>patrol_pts_rel_ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01355">1355</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;{</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> base_abs_ms = project_to&lt;coords::ms&gt;( <a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>() );</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> &amp;patrol_pt : patrol_pts_rel_ms ) {</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <a class="code" href="classmonster.html#ae4ddfd29306c2e768f545aed901be3f9">patrol_route</a>.push_back( base_abs_ms + patrol_pt );</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    }</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <a class="code" href="classmonster.html#abeb3743ffee119ce1507af082bb5a0e0">next_patrol_point</a> = 0;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a14ecbd8f044628463354090421a805b4"><div class="ttname"><a href="classCreature.html#a14ecbd8f044628463354090421a805b4">Creature::global_omt_location</a></div><div class="ttdeci">tripoint_abs_omt global_omt_location() const</div><div class="ttdoc">Returns the location of the creature in global overmap terrain coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03242">creature.cpp:3242</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8cpp_source.html#l03242">Creature::global_omt_location()</a>, <a class="el" href="monster_8h_source.html#l00652">next_patrol_point</a>, and <a class="el" href="monster_8h_source.html#l00651">patrol_route</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l08905">map::spawn_monsters_submap()</a>.</p>

</div>
</div>
<a id="a82a2a2617c817a34c892e793c3b6a407"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82a2a2617c817a34c892e793c3b6a407">&#9670;&nbsp;</a></span>set_special()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::set_special </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>special_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a given special to the given value. </p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02596">2596</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;{</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>[ special_name ].cooldown = time;</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00617">special_attacks</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02586">reset_special()</a>, and <a class="el" href="monster_8cpp_source.html#l02591">reset_special_rng()</a>.</p>

</div>
</div>
<a id="ad4df190a76da148153fe489beddca352"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4df190a76da148153fe489beddca352">&#9670;&nbsp;</a></span>shearable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::shearable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01314">1314</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;{</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a592f0120b3a568773e0c807b07bb24e8">shearing</a>.<a class="code" href="classshearing__data.html#aa3a1886651e4499734f7cd3218762bdd">valid</a>();</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;}</div>
<div class="ttc" id="aclassshearing__data_html_aa3a1886651e4499734f7cd3218762bdd"><div class="ttname"><a href="classshearing__data.html#aa3a1886651e4499734f7cd3218762bdd">shearing_data::valid</a></div><div class="ttdeci">bool valid() const</div><div class="ttdef"><b>Definition:</b> <a href="shearing_8h_source.html#l00038">shearing.h:38</a></div></div>
<div class="ttc" id="astructmtype_html_a592f0120b3a568773e0c807b07bb24e8"><div class="ttname"><a href="structmtype.html#a592f0120b3a568773e0c807b07bb24e8">mtype::shearing</a></div><div class="ttdeci">shearing_data shearing</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00356">mtype.h:356</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00356">mtype::shearing</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="shearing_8h_source.html#l00038">shearing_data::valid()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monexamine_8cpp_source.html#l00578">monexamine::pet_menu()</a>, and <a class="el" href="activity__actor_8cpp_source.html#l04992">shearing_activity_actor::start()</a>.</p>

</div>
</div>
<a id="ace222aa389f6fa2aa23596b9b0c2ce83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace222aa389f6fa2aa23596b9b0c2ce83">&#9670;&nbsp;</a></span>shift()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::shift </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>sm_shift</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01364">1364</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;{</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="comment">// TODO: migrate this to absolute coords and get rid of shift()</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.clear();</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00632">path</a>.</p>

</div>
</div>
<a id="ad18dfb6454b3ce4172d476af3a042f4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad18dfb6454b3ce4172d476af3a042f4b">&#9670;&nbsp;</a></span>shove_vehicle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::shove_vehicle </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>remote_destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>nearby_destination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l02425">2425</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;{</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;    <span class="keywordflow">if</span>( this-&gt;<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#aabb42fd7984b2addbc4580930166b17b">mon_flag_PUSH_VEH</a> ) &amp;&amp; !<a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;        <a class="code" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( nearby_destination );</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;        <span class="keywordflow">if</span>( vp ) {</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;            <a class="code" href="classvehicle.html">vehicle</a> &amp;veh = vp-&gt;vehicle();</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;            <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::mass</a> veh_mass = veh.<a class="code" href="classvehicle.html#a5a7d83716bf73d4b58d265b626872d01">total_mass</a>();</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;            <span class="keywordtype">int</span> shove_moves_minimal = 0;</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;            <span class="keywordtype">int</span> shove_veh_mass_moves_factor = 0;</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;            <span class="keywordtype">int</span> shove_velocity = 0;</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;            <span class="keywordtype">float</span> shove_damage_min = 0.00F;</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;            <span class="keywordtype">float</span> shove_damage_max = 0.00F;</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;            <span class="keywordflow">switch</span>( this-&gt;<a class="code" href="classmonster.html#ab92cac0ecb2b2062fd4f821b671f86ac">get_size</a>() ) {</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a>:</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">creature_size::small</a>:</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a>:</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;                    <span class="keywordflow">if</span>( veh_mass &lt; 500_kilogram ) {</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;                        shove_moves_minimal = 150;</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;                        shove_veh_mass_moves_factor = 20;</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;                        shove_velocity = 500;</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;                        shove_damage_min = 0.00F;</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;                        shove_damage_max = 0.01F;</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;                    }</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a>:</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;                    <span class="keywordflow">if</span>( veh_mass &lt; 1000_kilogram ) {</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;                        shove_moves_minimal = 100;</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;                        shove_veh_mass_moves_factor = 8;</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;                        shove_velocity = 1000;</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;                        shove_damage_min = 0.00F;</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;                        shove_damage_max = 0.03F;</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;                    }</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a>:</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;                    <span class="keywordflow">if</span>( veh_mass &lt; 2000_kilogram ) {</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;                        shove_moves_minimal = 50;</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;                        shove_veh_mass_moves_factor = 4;</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;                        shove_velocity = 1500;</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;                        shove_damage_min = 0.00F;</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;                        shove_damage_max = 0.05F;</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;                    }</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;            }</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;            <span class="keywordflow">if</span>( shove_velocity &gt; 0 ) {</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;                <span class="comment">//~ %1$s - monster name, %2$s - vehicle name</span></div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;                <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( this-&gt;<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s shoves %2$s out of their way!&quot;</span> ),</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;                                        this-&gt;<a class="code" href="classmonster.html#af3444e4763b1dd53e75c5ea50fd8ba9f">disp_name</a>(),</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;                                        veh.<a class="code" href="classvehicle.html#ace5c25f3faffd8848491570cfb89f086">disp_name</a>() );</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;                <span class="keywordtype">int</span> shove_moves = shove_veh_mass_moves_factor * veh_mass / 10_kilogram;</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;                shove_moves = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( shove_moves, shove_moves_minimal );</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;                this-&gt;<a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -shove_moves );</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;                <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> destination_delta( -nearby_destination + remote_destination );</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;                <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> shove_destination( <a class="code" href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a>( destination_delta.x, -1, 1 ),</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;                                                  <a class="code" href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a>( destination_delta.y, -1, 1 ),</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;                                                  <a class="code" href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a>( destination_delta.z, -1, 1 ) );</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;                veh.<a class="code" href="classvehicle.html#a320ca34b5c38568efd801731cef78a35">skidding</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;                veh.<a class="code" href="classvehicle.html#a4d83e86fe57ec6126893a68f68c3c304">velocity</a> = shove_velocity;</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;                <span class="keywordflow">if</span>( shove_destination != <a class="code" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a> ) {</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;                    <span class="keywordflow">if</span>( shove_destination.z != 0 ) {</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;                        veh.<a class="code" href="classvehicle.html#a416a2bc9ee792663fced3344db322cb8">vertical_velocity</a> = shove_destination.z &lt; 0 ? -shove_velocity : +shove_velocity;</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;                    }</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;                    here.<a class="code" href="classmap.html#add9128611766f2a8095b0104f0fd7371">move_vehicle</a>( veh, shove_destination, veh.<a class="code" href="classvehicle.html#a8e021d197980bbed36ff3c43962df957">face</a> );</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;                }</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;                veh.<a class="code" href="classvehicle.html#a8bbdfb41ea75fdc007feab08e2137aa2">move</a> = <a class="code" href="classtileray.html">tileray</a>( destination_delta.xy() );</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;                veh.<a class="code" href="classvehicle.html#a8b023391122d88cc354e7fca903cec54">smash</a>( here, shove_damage_min, shove_damage_max, 0.10F );</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;            }</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;        }</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    }</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;}</div>
<div class="ttc" id="acata__utility_8h_html_ad22b4a043b6eb4c2c06f87f83b720b15"><div class="ttname"><a href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a></div><div class="ttdeci">constexpr T clamp(const T &amp;val, const T &amp;min, const T &amp;max)</div><div class="ttdoc">Clamp first argument so that it is no lower than second and no higher than third.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8h_source.html#l00221">cata_utility.h:221</a></div></div>
<div class="ttc" id="aclassmap_html_add9128611766f2a8095b0104f0fd7371"><div class="ttname"><a href="classmap.html#add9128611766f2a8095b0104f0fd7371">map::move_vehicle</a></div><div class="ttdeci">vehicle * move_vehicle(vehicle &amp;veh, const tripoint &amp;dp, const tileray &amp;facing)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00752">map.cpp:752</a></div></div>
<div class="ttc" id="aclasstileray_html"><div class="ttname"><a href="classtileray.html">tileray</a></div><div class="ttdef"><b>Definition:</b> <a href="tileray_8h_source.html#l00028">tileray.h:29</a></div></div>
<div class="ttc" id="aclassvehicle_html_a320ca34b5c38568efd801731cef78a35"><div class="ttname"><a href="classvehicle.html#a320ca34b5c38568efd801731cef78a35">vehicle::skidding</a></div><div class="ttdeci">bool skidding</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02363">vehicle.h:2363</a></div></div>
<div class="ttc" id="aclassvehicle_html_a416a2bc9ee792663fced3344db322cb8"><div class="ttname"><a href="classvehicle.html#a416a2bc9ee792663fced3344db322cb8">vehicle::vertical_velocity</a></div><div class="ttdeci">int vertical_velocity</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02286">vehicle.h:2286</a></div></div>
<div class="ttc" id="aclassvehicle_html_a4d83e86fe57ec6126893a68f68c3c304"><div class="ttname"><a href="classvehicle.html#a4d83e86fe57ec6126893a68f68c3c304">vehicle::velocity</a></div><div class="ttdeci">int velocity</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02276">vehicle.h:2276</a></div></div>
<div class="ttc" id="aclassvehicle_html_a5a7d83716bf73d4b58d265b626872d01"><div class="ttname"><a href="classvehicle.html#a5a7d83716bf73d4b58d265b626872d01">vehicle::total_mass</a></div><div class="ttdeci">units::mass total_mass() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03472">vehicle.cpp:3472</a></div></div>
<div class="ttc" id="aclassvehicle_html_a8b023391122d88cc354e7fca903cec54"><div class="ttname"><a href="classvehicle.html#a8b023391122d88cc354e7fca903cec54">vehicle::smash</a></div><div class="ttdeci">void smash(map &amp;m, float hp_percent_loss_min=0.1f, float hp_percent_loss_max=1.2f, float percent_of_parts_to_affect=1.0f, point damage_origin=point_zero, float damage_size=0)</div><div class="ttdoc">Smashes up a vehicle that has already been placed; used for generating very damaged vehicles.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l00863">vehicle.cpp:863</a></div></div>
<div class="ttc" id="aclassvehicle_html_a8bbdfb41ea75fdc007feab08e2137aa2"><div class="ttname"><a href="classvehicle.html#a8bbdfb41ea75fdc007feab08e2137aa2">vehicle::move</a></div><div class="ttdeci">tileray move</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02314">vehicle.h:2314</a></div></div>
<div class="ttc" id="aclassvehicle_html_a8e021d197980bbed36ff3c43962df957"><div class="ttname"><a href="classvehicle.html#a8e021d197980bbed36ff3c43962df957">vehicle::face</a></div><div class="ttdeci">tileray face</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02312">vehicle.h:2312</a></div></div>
<div class="ttc" id="aclassvehicle_html_ace5c25f3faffd8848491570cfb89f086"><div class="ttname"><a href="classvehicle.html#ace5c25f3faffd8848491570cfb89f086">vehicle::disp_name</a></div><div class="ttdeci">std::string disp_name() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__display_8cpp_source.html#l00032">vehicle_display.cpp:32</a></div></div>
<div class="ttc" id="amtype_8cpp_html_aabb42fd7984b2addbc4580930166b17b"><div class="ttname"><a href="mtype_8cpp.html#aabb42fd7984b2addbc4580930166b17b">mon_flag_PUSH_VEH</a></div><div class="ttdeci">mon_flag_id mon_flag_PUSH_VEH</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00135">mtype.cpp:135</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="messages_8cpp_source.html#l01007">add_msg_if_player_sees()</a>, <a class="el" href="cata__utility_8h_source.html#l00221">clamp()</a>, <a class="el" href="vehicle__display_8cpp_source.html#l00032">vehicle::disp_name()</a>, <a class="el" href="monster_8cpp_source.html#l00775">disp_name()</a>, <a class="el" href="vehicle_8h_source.html#l02312">vehicle::face</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="monster_8cpp_source.html#l03503">get_size()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">huge</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">large</a>, <a class="el" href="enums_8h_source.html#l00348">m_bad</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">medium</a>, <a class="el" href="creature_8cpp_source.html#l02008">Creature::mod_moves()</a>, <a class="el" href="mtype_8cpp_source.html#l00135">mon_flag_PUSH_VEH</a>, <a class="el" href="vehicle_8h_source.html#l02314">vehicle::move</a>, <a class="el" href="map_8cpp_source.html#l00752">map::move_vehicle()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="vehicle_8h_source.html#l02363">vehicle::skidding</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">small</a>, <a class="el" href="vehicle_8cpp_source.html#l00863">vehicle::smash()</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">tiny</a>, <a class="el" href="vehicle_8cpp_source.html#l03472">vehicle::total_mass()</a>, <a class="el" href="point_8h_source.html#l00250">tripoint_zero</a>, <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>, <a class="el" href="vehicle_8h_source.html#l02276">vehicle::velocity</a>, <a class="el" href="vehicle_8h_source.html#l02286">vehicle::vertical_velocity</a>, <a class="el" href="point_8h_source.html#l00132">tripoint::x</a>, <a class="el" href="point_8h_source.html#l00202">tripoint::xy()</a>, <a class="el" href="point_8h_source.html#l00133">tripoint::y</a>, and <a class="el" href="point_8h_source.html#l00134">tripoint::z</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>.</p>

</div>
</div>
<a id="af3c02b36896c6f75cbce492d5c4a6150"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3c02b36896c6f75cbce492d5c4a6150">&#9670;&nbsp;</a></span>sight_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int monster::sight_range </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>light_level</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>How far the creature sees under the given light. </p>
<p><a class="el" href="classCreature.html">Creature</a> cannot see places outside this range. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">light_level</td><td>See <a class="el" href="classgame.html#aab9e0cb18f4c49452fc3ece910859cc9">game::light_level</a>. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classCreature.html#ac38f528b62575754ce16027ae50ae8da">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01285">1285</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;{</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="comment">// Non-aquatic monsters can&#39;t see much when submerged</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a79c1aef59cccba881fc60e52fb6d8cb9">can_see</a>() || <a class="code" href="classmonster.html#a04c74718e60016b199e7cdff71d5aa90">effect_cache</a>[<a class="code" href="monster_8h.html#a84ab55bd738531d991f877a7650b7fd1a38ef1c57a99bb9129742d1649235a1c1">VISION_IMPAIRED</a>] ||</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        ( <a class="code" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a> &amp;&amp; !<a class="code" href="classmonster.html#a4be04fecf05b13bc290b5b1dcc6b9137">swims</a>() &amp;&amp; !<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a10899530fa212da51fd92b98b0cacdb5">mon_flag_AQUATIC</a> ) &amp;&amp; !<a class="code" href="classmonster.html#af705eea6e40e12d7866010955602c7b5">digging</a>() ) ) {</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    }</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">float</span> default_daylight = <a class="code" href="calendar_8cpp.html#a18db382f9462474fe6c1caae45cec587">default_daylight_level</a>();</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keywordflow">if</span>( light_level == 0 ) {</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af37c4d88f49584515720ebd0d9542114">vision_night</a>;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( light_level &gt;= default_daylight ) {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a3e1904385c3aeb343021eea90b466b19">vision_day</a>;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    }</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keywordtype">int</span> range = ( light_level * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a3e1904385c3aeb343021eea90b466b19">vision_day</a> + ( default_daylight - light_level ) *</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                  <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af37c4d88f49584515720ebd0d9542114">vision_night</a> ) / default_daylight;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160; </div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordflow">return</span> range;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01220">can_see()</a>, <a class="el" href="calendar_8cpp_source.html#l00047">default_daylight_level()</a>, <a class="el" href="monster_8cpp_source.html#l01247">digging()</a>, <a class="el" href="monster_8h_source.html#l00654">effect_cache</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="mtype_8cpp_source.html#l00048">mon_flag_AQUATIC</a>, <a class="el" href="monster_8cpp_source.html#l01272">swims()</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, <a class="el" href="creature_8h_source.html#l00941">Creature::underwater</a>, <a class="el" href="mtype_8h_source.html#l00458">mtype::vision_day</a>, <a class="el" href="monster_8h_source.html#l00071">VISION_IMPAIRED</a>, and <a class="el" href="mtype_8h_source.html#l00459">mtype::vision_night</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l03986">get_path_avoid()</a>.</p>

</div>
</div>
<a id="ace25eb1c0a0fdacbcd379f27cd40c6ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace25eb1c0a0fdacbcd379f27cd40c6ff">&#9670;&nbsp;</a></span>skin_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string monster::skin_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a490503cd007e206dcd23fd8457017793">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00784">784</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;{</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a0b115a9b93d5cd2f4f53a849aac6cfa9">name_with_armor</a>();</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a0b115a9b93d5cd2f4f53a849aac6cfa9"><div class="ttname"><a href="classmonster.html#a0b115a9b93d5cd2f4f53a849aac6cfa9">monster::name_with_armor</a></div><div class="ttdeci">std::string name_with_armor() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00745">monster.cpp:745</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l00745">name_with_armor()</a>.</p>

</div>
</div>
<a id="ac5b4a624cd62dba138b7e882d694a3b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5b4a624cd62dba138b7e882d694a3b5">&#9670;&nbsp;</a></span>spawn() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::spawn </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00705">705</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;{</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="classCreature.html#a7b94528e3a599dfc8647117bc6741243">set_pos_only</a>( p );</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="classmonster.html#a1488f5a618c74a508fb87b82be05ef11">unset_dest</a>();</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8cpp_source.html#l00202">Creature::set_pos_only()</a>, and <a class="el" href="monster_8cpp_source.html#l01388">unset_dest()</a>.</p>

<p class="reference">Referenced by <a class="el" href="creature__tracker_8cpp_source.html#l00222">creature_tracker::swap_positions()</a>.</p>

</div>
</div>
<a id="a689af3aca7e498f125a76f661298c260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a689af3aca7e498f125a76f661298c260">&#9670;&nbsp;</a></span>spawn() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::spawn </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>loc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00711">711</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;{</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <a class="code" href="classCreature.html#ac93f4ccc1bff76ada002c7e886c941ef">set_location</a>( loc );</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="classmonster.html#a1488f5a618c74a508fb87b82be05ef11">unset_dest</a>();</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8cpp_source.html#l00207">Creature::set_location()</a>, and <a class="el" href="monster_8cpp_source.html#l01388">unset_dest()</a>.</p>

</div>
</div>
<a id="af42a60922d1d070414fa6ca7e8a1f282"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af42a60922d1d070414fa6ca7e8a1f282">&#9670;&nbsp;</a></span>spawn_dissectables_on_death()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::spawn_dissectables_on_death </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>corpse</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03081">3081</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;{</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;    }</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a1ded0aadea9144dbf755d559912dc1e5">dissect</a>.<a class="code" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;    }</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160; </div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structharvest__entry.html">harvest_entry</a> &amp;entry : *<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a1ded0aadea9144dbf755d559912dc1e5">dissect</a> ) {</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;        std::vector&lt;item&gt; dissectables = <a class="code" href="namespaceitem__group.html#a2d51a14b1504b58288fd1b3e5060f528">item_group::items_from</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4af5c0a408d77dc8bdcc0b6fc92594b63e">item_group_id</a>( entry.<a class="code" href="structharvest__entry.html#aab3c35976b3c964b24ad2af530bfdd3f">drop</a> ),</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;                                         <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>,</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;                                         <a class="code" href="item__group_8h.html#a503bb97ffe5855f821f949403cad698eac28a9ccef02070ab726509230c245c2a">spawn_flags::use_spawn_rate</a> );</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;dissectable : dissectables ) {</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;            dissectable.dropped_from = entry.<a class="code" href="structharvest__entry.html#ad13fe226d085ab376f3f41cc28d74936">type</a>;</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">flag_id</a> &amp;flg : entry.<a class="code" href="structharvest__entry.html#ac243fc5cfe2768a881cd8f6d87d4b43e">flags</a> ) {</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;                dissectable.set_flag( flg );</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;            }</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">fault_id</a> &amp;flt : entry.<a class="code" href="structharvest__entry.html#a46710bb492ce943c1270e55133c07d21">faults</a> ) {</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;                dissectable.faults.emplace( flt );</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;            }</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a> ) {</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;                <a class="code" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>-&gt;put_in( dissectable, <a class="code" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1afd1267e84434bdbba6fd4fa7f869117d">pocket_type::CORPSE</a> );</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;                <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), dissectable );</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;            }</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;        }</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    }</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4af5c0a408d77dc8bdcc0b6fc92594b63e"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4af5c0a408d77dc8bdcc0b6fc92594b63e">cata_variant_type::item_group_id</a></div><div class="ttdeci">@ item_group_id</div></div>
<div class="ttc" id="astructharvest__entry_html"><div class="ttname"><a href="structharvest__entry.html">harvest_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="harvest_8h_source.html#l00073">harvest.h:73</a></div></div>
<div class="ttc" id="astructharvest__entry_html_a46710bb492ce943c1270e55133c07d21"><div class="ttname"><a href="structharvest__entry.html#a46710bb492ce943c1270e55133c07d21">harvest_entry::faults</a></div><div class="ttdeci">std::vector&lt; fault_id &gt; faults</div><div class="ttdef"><b>Definition:</b> <a href="harvest_8h_source.html#l00088">harvest.h:88</a></div></div>
<div class="ttc" id="astructharvest__entry_html_aab3c35976b3c964b24ad2af530bfdd3f"><div class="ttname"><a href="structharvest__entry.html#aab3c35976b3c964b24ad2af530bfdd3f">harvest_entry::drop</a></div><div class="ttdeci">std::string drop</div><div class="ttdef"><b>Definition:</b> <a href="harvest_8h_source.html#l00075">harvest.h:75</a></div></div>
<div class="ttc" id="astructharvest__entry_html_ac243fc5cfe2768a881cd8f6d87d4b43e"><div class="ttname"><a href="structharvest__entry.html#ac243fc5cfe2768a881cd8f6d87d4b43e">harvest_entry::flags</a></div><div class="ttdeci">std::vector&lt; flag_id &gt; flags</div><div class="ttdef"><b>Definition:</b> <a href="harvest_8h_source.html#l00087">harvest.h:87</a></div></div>
<div class="ttc" id="astructharvest__entry_html_ad13fe226d085ab376f3f41cc28d74936"><div class="ttname"><a href="structharvest__entry.html#ad13fe226d085ab376f3f41cc28d74936">harvest_entry::type</a></div><div class="ttdeci">harvest_drop_type_id type</div><div class="ttdef"><b>Definition:</b> <a href="harvest_8h_source.html#l00082">harvest.h:82</a></div></div>
<div class="ttc" id="astructmtype_html_a1ded0aadea9144dbf755d559912dc1e5"><div class="ttname"><a href="structmtype.html#a1ded0aadea9144dbf755d559912dc1e5">mtype::dissect</a></div><div class="ttdeci">harvest_id dissect</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00304">mtype.h:304</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l05177">map::add_item_or_charges()</a>, <a class="el" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>, <a class="el" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1afd1267e84434bdbba6fd4fa7f869117d">CORPSE</a>, <a class="el" href="mtype_8h_source.html#l00304">mtype::dissect</a>, <a class="el" href="harvest_8h_source.html#l00075">harvest_entry::drop</a>, <a class="el" href="harvest_8h_source.html#l00088">harvest_entry::faults</a>, <a class="el" href="harvest_8h_source.html#l00087">harvest_entry::flags</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="string__id_8h_source.html#l00303">string_id&lt; T &gt;::is_empty()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4af5c0a408d77dc8bdcc0b6fc92594b63e">item_group_id</a>, <a class="el" href="item__group_8cpp_source.html#l00979">item_group::items_from()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="harvest_8h_source.html#l00082">harvest_entry::type</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="item__group_8h.html#a503bb97ffe5855f821f949403cad698eac28a9ccef02070ab726509230c245c2a">use_spawn_rate</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02742">die()</a>.</p>

</div>
</div>
<a id="aa7b7aac18bcc472f8d257b74df80ad28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7b7aac18bcc472f8d257b74df80ad28">&#9670;&nbsp;</a></span>special_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::special_available </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>special_name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test whether the specified special is ready. </p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02606">2606</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;{</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    std::map&lt;std::string, mon_special_attack&gt;::const_iterator iter = <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.find(</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;                special_name );</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;    <span class="keywordflow">return</span> iter != <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a>.end() &amp;&amp; iter-&gt;second.enabled &amp;&amp; iter-&gt;second.cooldown == 0;</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00617">special_attacks</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster__oracle_8cpp_source.html#l00097">behavior::monster_oracle_t::special_available()</a>.</p>

</div>
</div>
<a id="a8f374ed84027ba4933a19980bfaf2734"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f374ed84027ba4933a19980bfaf2734">&#9670;&nbsp;</a></span>speed_description()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string monster::speed_description </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>mon_speed_rating</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>immobile</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ab21b18873fac91ea77a29ffc414bb9f3">speed_description_id</a> &amp;&#160;</td>
          <td class="paramname"><em>speed_desc</em> = <code><a class="el" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">speed_description_id::NULL_ID</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00835">835</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;{</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordflow">if</span>( speed_desc.<a class="code" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() || !speed_desc.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="keywordflow">return</span> std::string();</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160; </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keyword">const</span> <a class="code" href="classavatar.html">avatar</a> &amp;ply = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordtype">double</span> player_runcost = ply.<a class="code" href="classCharacter.html#a85e40d1109c07460a6e03ff0421c7e2d">run_cost</a>( 100 );</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">if</span>( player_runcost &lt;= 0.00 ) {</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        player_runcost = 0.01f;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="comment">// tpt = tiles per turn</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> player_tpt = ply.<a class="code" href="classCharacter.html#aedc66fc50d352420cae7791b4a0f57f7">get_speed</a>() / player_runcost;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordtype">double</span> ratio_tpt = player_tpt == 0.00 ?</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                       100.00 : mon_speed_rating / player_tpt;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    ratio_tpt *= immobile ? 0.00 : 1.00;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160; </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classspeed__description__value.html">speed_description_value</a> &amp;speed_value : speed_desc-&gt;<a class="code" href="classspeed__description.html#aa6663842b8763f9a28ed7d5382ef0a28">values</a>() ) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        <span class="keywordflow">if</span>( ratio_tpt &gt;= speed_value.value() ) {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( speed_value.descriptions(), <a class="code" href="classtranslation.html">translation</a>() ).translated();</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        }</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">return</span> std::string();</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a85e40d1109c07460a6e03ff0421c7e2d"><div class="ttname"><a href="classCharacter.html#a85e40d1109c07460a6e03ff0421c7e2d">Character::run_cost</a></div><div class="ttdeci">int run_cost(int base_cost, bool diag=false) const</div><div class="ttdoc">Returns the player's modified base movement cost.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l10243">character.cpp:10243</a></div></div>
<div class="ttc" id="aclassCharacter_html_aedc66fc50d352420cae7791b4a0f57f7"><div class="ttname"><a href="classCharacter.html#aedc66fc50d352420cae7791b4a0f57f7">Character::get_speed</a></div><div class="ttdeci">int get_speed() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04192">character.cpp:4192</a></div></div>
<div class="ttc" id="aclassspeed__description__value_html"><div class="ttname"><a href="classspeed__description__value.html">speed_description_value</a></div><div class="ttdef"><b>Definition:</b> <a href="speed__description_8h_source.html#l00042">speed_description.h:43</a></div></div>
<div class="ttc" id="aclassspeed__description_html_aa6663842b8763f9a28ed7d5382ef0a28"><div class="ttname"><a href="classspeed__description.html#aa6663842b8763f9a28ed7d5382ef0a28">speed_description::values</a></div><div class="ttdeci">const std::vector&lt; speed_description_value &gt; &amp; values() const</div><div class="ttdef"><b>Definition:</b> <a href="speed__description_8h_source.html#l00026">speed_description.h:26</a></div></div>
<div class="ttc" id="aclassstring__id_html_a3ca78345025397b3d3ac22729ba1684b"><div class="ttname"><a href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">string_id::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Returns whether this represents the id of the null-object (in which case it's the null-id).</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00322">string_id.h:322</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="character_8cpp_source.html#l04192">Character::get_speed()</a>, <a class="el" href="string__id_8h_source.html#l00322">string_id&lt; T &gt;::is_null()</a>, <a class="el" href="achievement_8cpp_source.html#l00078">string_id&lt; T &gt;::is_valid()</a>, <a class="el" href="rng_8h_source.html#l00104">random_entry()</a>, <a class="el" href="character_8cpp_source.html#l10243">Character::run_cost()</a>, and <a class="el" href="speed__description_8h_source.html#l00026">speed_description::values()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, and <a class="el" href="monster_8cpp_source.html#l00864">print_info()</a>.</p>

</div>
</div>
<a id="aa726a9074840d376b00a575d4079bcbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa726a9074840d376b00a575d4079bcbc">&#9670;&nbsp;</a></span>speed_rating()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float monster::speed_rating </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an approximate number of tiles this creature can travel per turn. </p>

<p>Implements <a class="el" href="classCreature.html#a23ca807a88c3b940eb5b68461849b7df">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03662">3662</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;{</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">get_speed</a>() / 100.0f;</div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> leap = <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">special_attacks</a>.find( <span class="stringliteral">&quot;leap&quot;</span> );</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;    <span class="keywordflow">if</span>( leap != <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">special_attacks</a>.end() ) {</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;        <span class="comment">// TODO: Make this calculate sane values here</span></div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += 0.5f;</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;    }</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160; </div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8cpp_source.html#l02138">Creature::get_speed()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="mtype_8h_source.html#l00378">mtype::special_attacks</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l00467">npc::evaluate_monster()</a>, <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, and <a class="el" href="monster_8cpp_source.html#l00864">print_info()</a>.</p>

</div>
</div>
<a id="a1d2c8b9ef1d6562d8b08c9d89e04b5c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d2c8b9ef1d6562d8b08c9d89e04b5c9">&#9670;&nbsp;</a></span>stability_roll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float monster::stability_roll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a5410043563487884142ddc5b6706f8ae">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02435">2435</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;{</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classCreature.html#a09d744e753389b85555df87d01f19bf0">size_bonus</a> = 0;</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    <span class="keywordflow">switch</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aa03998a1de174a26778a0d6384d55b89">size</a> ) {</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a>:</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;            <a class="code" href="classCreature.html#a09d744e753389b85555df87d01f19bf0">size_bonus</a> -= 7;</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">creature_size::small</a>:</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;            <a class="code" href="classCreature.html#a09d744e753389b85555df87d01f19bf0">size_bonus</a> -= 3;</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a>:</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;            <a class="code" href="classCreature.html#a09d744e753389b85555df87d01f19bf0">size_bonus</a> += 5;</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a>:</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;            <a class="code" href="classCreature.html#a09d744e753389b85555df87d01f19bf0">size_bonus</a> += 10;</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a>:</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;            <span class="keywordflow">break</span>; <span class="comment">// keep default</span></div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aac651433a999fb14f71f6754f0199781">creature_size::num_sizes</a>:</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;ERROR: Invalid Creature size class.&quot;</span> );</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;    }</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160; </div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;    <span class="keywordtype">int</span> stability = <a class="code" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af346fa78fe3bff4e8e321e9046bc9717">melee_sides</a>, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a561d4830d7f7c613c177f5880c2e15fb">melee_dice</a> ) + <a class="code" href="classCreature.html#a09d744e753389b85555df87d01f19bf0">size_bonus</a>;</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a> ) ) {</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;        stability -= <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 1, 5 );</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    }</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;    <span class="keywordflow">return</span> stability;</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="rng_8cpp_source.html#l00123">dice()</a>, <a class="el" href="monster_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">huge</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">large</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">medium</a>, <a class="el" href="mtype_8h_source.html#l00430">mtype::melee_dice</a>, <a class="el" href="mtype_8h_source.html#l00431">mtype::melee_sides</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aac651433a999fb14f71f6754f0199781">num_sizes</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="mtype_8h_source.html#l00407">mtype::size</a>, <a class="el" href="creature_8h_source.html#l01230">Creature::size_bonus</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">small</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">tiny</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l02094">push_to()</a>.</p>

</div>
</div>
<a id="ad9789c1a8077e047ef45500100c33fe9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9789c1a8077e047ef45500100c33fe9">&#9670;&nbsp;</a></span>store()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::store </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>json</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l02605">2605</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;{</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    <a class="code" href="classCreature.html#aad45b0367bbda008f053447862966d88">Creature::store</a>( json );</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;typeid&quot;</span>, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a> );</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;unique_name&quot;</span>, <a class="code" href="classmonster.html#a5e50554c4210ec2a15d9ed44e61bcf3a">unique_name</a> );</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;nickname&quot;</span>, <a class="code" href="classmonster.html#a7fc9e3a231d3eafe78fa2a296a8ce1f5">nickname</a> );</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;goal&quot;</span>, <a class="code" href="classmonster.html#a7c3e07d777236b91713d6db073581dd3">goal</a> );</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;wander_pos&quot;</span>, <a class="code" href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">wander_pos</a> );</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;wandf&quot;</span>, <a class="code" href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">wandf</a> );</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;provocative_sound&quot;</span>, <a class="code" href="classmonster.html#a790b213f8c42018dba14f5358644226f">provocative_sound</a> );</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#ae4ddfd29306c2e768f545aed901be3f9">patrol_route</a>.empty() ) {</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;patrol_route&quot;</span>, <a class="code" href="classmonster.html#ae4ddfd29306c2e768f545aed901be3f9">patrol_route</a> );</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;next_patrol_point&quot;</span>, <a class="code" href="classmonster.html#abeb3743ffee119ce1507af082bb5a0e0">next_patrol_point</a> );</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    }</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;hp&quot;</span>, <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> );</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;special_attacks&quot;</span>, <a class="code" href="classmonster.html#a939eb403e417f4b0c032e827fecc9ab3">special_attacks</a> );</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;friendly&quot;</span>, <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> );</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;fish_population&quot;</span>, <a class="code" href="classmonster.html#a1bcf8c4105ed1ba90775fbdef4afeaf6">fish_population</a> );</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;faction&quot;</span>, <a class="code" href="classfaction.html">faction</a>.<a class="code" href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">id</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;mission_ids&quot;</span>, <a class="code" href="classmonster.html#a01b78cfdda7c7750af4020aa9f0d3994">mission_ids</a> );</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;mission_fused&quot;</span>, <a class="code" href="classmonster.html#ac18a1fa7e650a4c2d927d666a10f84aa">mission_fused</a> );</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;no_extra_death_drops&quot;</span>, <a class="code" href="classmonster.html#a2f9d03ffee51f0193855490a75511596">no_extra_death_drops</a> );</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;dead&quot;</span>, <a class="code" href="classmonster.html#aa2dfdd8d67d988b02c1bba9410df7f79">dead</a> );</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;anger&quot;</span>, <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> );</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;morale&quot;</span>, <a class="code" href="classmonster.html#aa25af680aabcc13beba81f0d5410d2ff">morale</a> );</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;hallucination&quot;</span>, <a class="code" href="classmonster.html#a9a2109e8e8394c4580a7a545ab9c04fb">hallucination</a> );</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;aggro_character&quot;</span>, <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> );</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a2881507933646bca97ef83c7112595ac">tied_item</a> ) {</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;tied_item&quot;</span>, *<a class="code" href="classmonster.html#a2881507933646bca97ef83c7112595ac">tied_item</a> );</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    }</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a662acdf990147854bad39a7c128afcaa">tack_item</a> ) {</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;tack_item&quot;</span>, *<a class="code" href="classmonster.html#a662acdf990147854bad39a7c128afcaa">tack_item</a> );</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    }</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#ae152269bc060756feb09757c9f8c3f0c">armor_item</a> ) {</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;armor_item&quot;</span>, *<a class="code" href="classmonster.html#ae152269bc060756feb09757c9f8c3f0c">armor_item</a> );</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    }</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#ab0eaba81bb3c25eecea173d9074f5521">storage_item</a> ) {</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;storage_item&quot;</span>, *<a class="code" href="classmonster.html#ab0eaba81bb3c25eecea173d9074f5521">storage_item</a> );</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    }</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a5d5bdb6389c0388198bda9530620e4af">battery_item</a> ) {</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;battery_item&quot;</span>, *<a class="code" href="classmonster.html#a5d5bdb6389c0388198bda9530620e4af">battery_item</a> );</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;    }</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;ammo&quot;</span>, <a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a> );</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;underwater&quot;</span>, <a class="code" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a> );</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;upgrades&quot;</span>, <a class="code" href="classmonster.html#a62679e1efa30cbc49d0ac34082171ed5">upgrades</a> );</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;upgrade_time&quot;</span>, <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> );</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;reproduces&quot;</span>, <a class="code" href="classmonster.html#ad040aa7a065e88de5c26f205a590b6dd">reproduces</a> );</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;baby_timer&quot;</span>, <a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a> );</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;biosignatures&quot;</span>, <a class="code" href="classmonster.html#acce0f9e8bbe3751a3051b9ff6c5acd98">biosignatures</a> );</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;biosig_timer&quot;</span>, <a class="code" href="classmonster.html#a5ef22126311aed7f324e1c19f650295a">biosig_timer</a> );</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;udder_timer&quot;</span>, <a class="code" href="classmonster.html#afddce3b0ff89fefe1d36b256bf9a03d0">udder_timer</a> );</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160; </div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a6e59f031b6007370e42a38bc89a2d1c3">horde_attraction</a> &gt; <a class="code" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aa4ee17bcfcc1218862d5509c8c291b1fb">MHA_NULL</a> &amp;&amp; <a class="code" href="classmonster.html#a6e59f031b6007370e42a38bc89a2d1c3">horde_attraction</a> &lt; <a class="code" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aa94d22f9afc17fc2795a91f86a75f0993">NUM_MONSTER_HORDE_ATTRACTION</a> ) {</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;horde_attraction&quot;</span>, <a class="code" href="classmonster.html#a6e59f031b6007370e42a38bc89a2d1c3">horde_attraction</a> );</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    }</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;inv&quot;</span>, <a class="code" href="classmonster.html#a275d73e1bf3d08e2ea1a0704ac898f7e">inv</a> );</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;dissectable_inv&quot;</span>, <a class="code" href="classmonster.html#a465028b1b8fcd3e2f397549f02cb1719">dissectable_inv</a> );</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160; </div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;dragged_foe_id&quot;</span>, <a class="code" href="classmonster.html#ab00d759ebe29170bf2a166dd155bfeb2">dragged_foe_id</a> );</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    <span class="comment">// storing the rider</span></div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;mounted_player_id&quot;</span>, <a class="code" href="classmonster.html#aaac3e97cc65bb74fce0de43c73844aa9">mounted_player_id</a> );</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160; </div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    <span class="comment">// store grabbed limbs</span></div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;grabbed_limbs&quot;</span>, <a class="code" href="classmonster.html#ab867ed85af4f78ffd00d7c525fba796b">grabbed_limbs</a> );</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_aad45b0367bbda008f053447862966d88"><div class="ttname"><a href="classCreature.html#aad45b0367bbda008f053447862966d88">Creature::store</a></div><div class="ttdeci">void store(JsonOut &amp;jsout) const</div><div class="ttdoc">These two functions are responsible for storing and loading the members of this class to/from json da...</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l03726">savegame_json.cpp:3726</a></div></div>
<div class="ttc" id="aclassJsonOut_html_afb935698620b87ff71b01e7763004de1"><div class="ttname"><a href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">JsonOut::member</a></div><div class="ttdeci">void member(std::string_view name)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02422">json.cpp:2422</a></div></div>
<div class="ttc" id="amonster_8h_html_aa13c8de924aae342f9bcb80fb3e7022aa94d22f9afc17fc2795a91f86a75f0993"><div class="ttname"><a href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aa94d22f9afc17fc2795a91f86a75f0993">NUM_MONSTER_HORDE_ATTRACTION</a></div><div class="ttdeci">@ NUM_MONSTER_HORDE_ATTRACTION</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00083">monster.h:82</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">friendly</a>, <a class="el" href="display_8h.html#ad55df0d7f625a78f1afc728ee1a6d6a4ad2ccda10db94c2b5d51beed10484c025">hp</a>, <a class="el" href="faction_8h_source.html#l00112">faction_template::id</a>, <a class="el" href="json_8cpp_source.html#l02422">JsonOut::member()</a>, <a class="el" href="monster_8h_source.html#l00076">MHA_NULL</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01385">spell_effect::morale()</a>, <a class="el" href="monster_8h_source.html#l00082">NUM_MONSTER_HORDE_ATTRACTION</a>, <a class="el" href="savegame__json_8cpp_source.html#l03726">Creature::store()</a>, <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>, and <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.</p>

</div>
</div>
<a id="a6adba28c21a8b6e6cc1b81f2f31d1947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6adba28c21a8b6e6cc1b81f2f31d1947">&#9670;&nbsp;</a></span>stumble()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::stumble </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stumble in a random direction, but with some caveats. </p>

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l02233">2233</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;{</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2ab576821e0d29160d6272e3c6f9faa323">debugmode::DF_MONMOVE</a>, <span class="stringliteral">&quot;%s starting monmove::stumble&quot;</span>, <a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    <span class="comment">// Only move every 10 turns.</span></div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 10 ) ) {</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    }</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160; </div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    std::vector&lt;tripoint&gt; valid_stumbles;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    valid_stumbles.reserve( 11 );</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> avoid_water = <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a4c417260415c080a792537389ec1c0fe">mon_flag_NO_BREATHE</a> ) &amp;&amp; !<a class="code" href="classmonster.html#a4be04fecf05b13bc290b5b1dcc6b9137">swims</a>() &amp;&amp;</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;                             !<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a10899530fa212da51fd92b98b0cacdb5">mon_flag_AQUATIC</a> );</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;dest : here.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 1 ) ) {</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;        <span class="keywordflow">if</span>( dest != <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) {</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;            <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a26a026d844907da147f1350754b5210b">ter_furn_flag::TFLAG_RAMP_DOWN</a>, dest ) ) {</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;                valid_stumbles.emplace_back( dest.xy(), dest.z - 1 );</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;            } <span class="keywordflow">else</span>  <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a4099f16f8e2c4ea80e996db0ea6f4c02">ter_furn_flag::TFLAG_RAMP_UP</a>, dest ) ) {</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;                valid_stumbles.emplace_back( dest.xy(), dest.z + 1 );</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;                valid_stumbles.push_back( dest );</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;            }</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;        }</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    }</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> <a class="code" href="cube__direction_8h.html#aea62013051f3c8842efa174037dfb5bca6cede1cfde12fc6d88ad1d8b6636a977">below</a>( <a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>(), <a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>(), <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() - 1 );</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a3188771064ca49d4798c6a80bfad0fcd">valid_move</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="cube__direction_8h.html#aea62013051f3c8842efa174037dfb5bca6cede1cfde12fc6d88ad1d8b6636a977">below</a>, <span class="keyword">false</span>, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;        valid_stumbles.push_back( <a class="code" href="cube__direction_8h.html#aea62013051f3c8842efa174037dfb5bca6cede1cfde12fc6d88ad1d8b6636a977">below</a> );</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    }</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160; </div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    <a class="code" href="classcreature__tracker.html">creature_tracker</a> &amp;creatures = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>();</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    <span class="keywordflow">while</span>( !valid_stumbles.empty() &amp;&amp; !<a class="code" href="classmonster.html#af033816139df1dfa154c27b199b51da6">is_dead</a>() ) {</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> dest = <a class="code" href="rng_8h.html#ac634f688b3c7864ab6992939ac7b0a6e">random_entry_removed</a>( valid_stumbles );</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a241bdfccd5d6b2200c0bfd5eca9ce8ab">can_move_to</a>( dest ) &amp;&amp;</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;            <span class="comment">//Stop zombies and other non-breathing monsters wandering INTO water</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;            <span class="comment">//(Unless they can swim/are aquatic)</span></div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;            <span class="comment">//But let them wander OUT of water if they are there.</span></div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;            !( avoid_water &amp;&amp;</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;               here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">ter_furn_flag::TFLAG_SWIMMABLE</a>, dest ) &amp;&amp;</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;               !here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">ter_furn_flag::TFLAG_SWIMMABLE</a>, <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ) &amp;&amp;</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;            ( creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( dest, <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) == <span class="keyword">nullptr</span> ) ) {</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#ab3c07bd4cb325287741fa2e561168e56">move_to</a>( dest, <span class="keyword">true</span>, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;            }</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;        }</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    }</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;}</div>
<div class="ttc" id="acube__direction_8h_html_aea62013051f3c8842efa174037dfb5bca6cede1cfde12fc6d88ad1d8b6636a977"><div class="ttname"><a href="cube__direction_8h.html#aea62013051f3c8842efa174037dfb5bca6cede1cfde12fc6d88ad1d8b6636a977">cube_direction::below</a></div><div class="ttdeci">@ below</div></div>
<div class="ttc" id="arng_8h_html_ac634f688b3c7864ab6992939ac7b0a6e"><div class="ttname"><a href="rng_8h.html#ac634f688b3c7864ab6992939ac7b0a6e">random_entry_removed</a></div><div class="ttdeci">V random_entry_removed(C &amp;container)</div><div class="ttdoc">Returns a random entry in the container and removes it from the container.</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00186">rng.h:186</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="cube__direction_8h.html#aea62013051f3c8842efa174037dfb5bca6cede1cfde12fc6d88ad1d8b6636a977">below</a>, <a class="el" href="monmove_8cpp_source.html#l00356">can_move_to()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="debug_8h_source.html#l00264">debugmode::DF_MONMOVE</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, <a class="el" href="monster_8cpp_source.html#l03580">is_dead()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="mtype_8cpp_source.html#l00048">mon_flag_AQUATIC</a>, <a class="el" href="mtype_8cpp_source.html#l00116">mon_flag_NO_BREATHE</a>, <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="map_8cpp_source.html#l10109">map::points_in_radius()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8h_source.html#l00311">Creature::posx()</a>, <a class="el" href="creature_8h_source.html#l00314">Creature::posy()</a>, <a class="el" href="creature_8h_source.html#l00317">Creature::posz()</a>, <a class="el" href="rng_8h_source.html#l00186">random_entry_removed()</a>, <a class="el" href="monster_8cpp_source.html#l01272">swims()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a26a026d844907da147f1350754b5210b">TFLAG_RAMP_DOWN</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a4099f16f8e2c4ea80e996db0ea6f4c02">TFLAG_RAMP_UP</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">TFLAG_SWIMMABLE</a>, and <a class="el" href="map_8cpp_source.html#l02542">map::valid_move()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l02313">mattack::dermatik()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, and <a class="el" href="trapfunc_8cpp_source.html#l00335">trapfunc::tripwire()</a>.</p>

</div>
</div>
<a id="a4be04fecf05b13bc290b5b1dcc6b9137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4be04fecf05b13bc290b5b1dcc6b9137">&#9670;&nbsp;</a></span>swims()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::swims </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01272">1272</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;{</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a379356839a4a015f081521de9dcc432f">mon_flag_SWIMS</a> );</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;}</div>
<div class="ttc" id="amtype_8cpp_html_a379356839a4a015f081521de9dcc432f"><div class="ttname"><a href="mtype_8cpp.html#a379356839a4a015f081521de9dcc432f">mon_flag_SWIMS</a></div><div class="ttdeci">mon_flag_id mon_flag_SWIMS</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00156">mtype.cpp:156</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, and <a class="el" href="mtype_8cpp_source.html#l00156">mon_flag_SWIMS</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l01575">calc_movecost()</a>, <a class="el" href="monster_8cpp_source.html#l01236">can_drown()</a>, <a class="el" href="monster_8cpp_source.html#l01230">can_submerge()</a>, <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, <a class="el" href="monster_8cpp_source.html#l01285">sight_range()</a>, <a class="el" href="monmove_8cpp_source.html#l02233">stumble()</a>, and <a class="el" href="character_8cpp_source.html#l01416">Character::swim_speed()</a>.</p>

</div>
</div>
<a id="a75545ec99050815b0c30d93a2152319b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75545ec99050815b0c30d93a2152319b">&#9670;&nbsp;</a></span>symbol()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; monster::symbol </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classCreature.html">Creature</a> symbol. </p>

<p>Implements <a class="el" href="classCreature.html#af159bc6bc0d82e5eec0cf7beca25b795">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01148">1148</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;{</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a38400904b6ae1207054cca44318d0426">sym</a>;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_a38400904b6ae1207054cca44318d0426"><div class="ttname"><a href="structmtype.html#a38400904b6ae1207054cca44318d0426">mtype::sym</a></div><div class="ttdeci">std::string sym</div><div class="ttdoc">UTF-8 encoded symbol, should be exactly one cell wide.</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00352">mtype.h:352</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00352">mtype::sym</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00554">anonymous_namespace{animation.cpp}::draw_hit_mon_curses()</a>.</p>

</div>
</div>
<a id="abd289978ae73cfeebbcc7d3e89647498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd289978ae73cfeebbcc7d3e89647498">&#9670;&nbsp;</a></span>symbol_color()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnc__color.html">nc_color</a> monster::symbol_color </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classCreature.html">Creature</a> symbol background color. </p>

<p>Implements <a class="el" href="classCreature.html#ac05b5c462926b4f5b329e7b2826f8ce7">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01158">1158</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;{</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#a404ac744f6b202d5ea3d09a3f1d7a35c">color_with_effects</a>();</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_a404ac744f6b202d5ea3d09a3f1d7a35c"><div class="ttname"><a href="classmonster.html#a404ac744f6b202d5ea3d09a3f1d7a35c">monster::color_with_effects</a></div><div class="ttdeci">nc_color color_with_effects() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01168">monster.cpp:1168</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01168">color_with_effects()</a>.</p>

</div>
</div>
<a id="a219672c5ddbdc58b41dcb8182572e1b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a219672c5ddbdc58b41dcb8182572e1b0">&#9670;&nbsp;</a></span>to_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> monster::to_item </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert this monster into an item (see <a class="el" href="structmtype.html#a02618ceb25281f59dc290714769cd987">mtype::revert_to_itype</a>). </p>
<p>Only useful for robots and the like, the monster must have at least a non-empty item id as revert_to_itype. </p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03639">3639</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;{</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a02618ceb25281f59dc290714769cd987">revert_to_itype</a>.<a class="code" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>();</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;    }</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;    <span class="comment">// Birthday is wrong, but the item created here does not use it anyway (I hope).</span></div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;    <a class="code" href="classitem.html">item</a> result( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a02618ceb25281f59dc290714769cd987">revert_to_itype</a>, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> damfac = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 1, ( result.max_damage() + 1 ) * <a class="code" href="classmonster.html#a841238b6cd308ba7b54f5f71e7c2c4d4">hp</a> / <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">hp</a> );</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;    result.set_damage( <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 0, ( result.max_damage() + 1 ) - damfac ) );</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_a02618ceb25281f59dc290714769cd987"><div class="ttname"><a href="structmtype.html#a02618ceb25281f59dc290714769cd987">mtype::revert_to_itype</a></div><div class="ttdeci">itype_id revert_to_itype</div><div class="ttdoc">If this is not empty, the monster can be converted into an item of this type (if it's friendly).</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00323">mtype.h:323</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00616">hp</a>, <a class="el" href="mtype_8h_source.html#l00413">mtype::hp</a>, <a class="el" href="string__id_8h_source.html#l00303">string_id&lt; T &gt;::is_empty()</a>, <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="item_8cpp_source.html#l08900">item::max_damage()</a>, <a class="el" href="mtype_8h_source.html#l00323">mtype::revert_to_itype</a>, <a class="el" href="item_8cpp_source.html#l00905">item::set_damage()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="explosion_8cpp_source.html#l00657">explosion_handler::emp_blast()</a>, and <a class="el" href="activity__actor_8cpp_source.html#l04412">disable_activity_actor::finish()</a>.</p>

</div>
</div>
<a id="a5419be03caffc0d80b49a9317beb00cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5419be03caffc0d80b49a9317beb00cf">&#9670;&nbsp;</a></span>try_biosignature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::try_biosignature </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00672">672</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;{</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#acce0f9e8bbe3751a3051b9ff6c5acd98">biosignatures</a> ) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ace454217d2e89ef6c98d9358862f7647">biosig_timer</a> ) {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    }</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a40bcaf4d5f2dddb213337b389dc5aacd">effect_critter_underfed</a> ) ) {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a5ef22126311aed7f324e1c19f650295a">biosig_timer</a> ) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <a class="code" href="classmonster.html#a5ef22126311aed7f324e1c19f650295a">biosig_timer</a>.emplace( <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + *<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ace454217d2e89ef6c98d9358862f7647">biosig_timer</a> );</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordtype">int</span> counter = 0;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="comment">// don&#39;t catch up too much, otherwise on some scenarios,</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="comment">// we could have years worth of poop just deposited on the floor.</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <span class="keywordflow">if</span>( *<a class="code" href="classmonster.html#a5ef22126311aed7f324e1c19f650295a">biosig_timer</a> &gt; <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> || counter &gt; 50 ) {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        here.<a class="code" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a56905ee90a4850f9487c377131a63109">biosig_item</a>, *<a class="code" href="classmonster.html#a5ef22126311aed7f324e1c19f650295a">biosig_timer</a>, 1 ), <span class="keyword">true</span> );</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        *<a class="code" href="classmonster.html#a5ef22126311aed7f324e1c19f650295a">biosig_timer</a> += *<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ace454217d2e89ef6c98d9358862f7647">biosig_timer</a>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        counter += 1;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;}</div>
<div class="ttc" id="astructmtype_html_a56905ee90a4850f9487c377131a63109"><div class="ttname"><a href="structmtype.html#a56905ee90a4850f9487c377131a63109">mtype::biosig_item</a></div><div class="ttdeci">itype_id biosig_item</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00317">mtype.h:317</a></div></div>
<div class="ttc" id="astructmtype_html_ace454217d2e89ef6c98d9358862f7647"><div class="ttname"><a href="structmtype.html#ace454217d2e89ef6c98d9358862f7647">mtype::biosig_timer</a></div><div class="ttdeci">std::optional&lt; time_duration &gt; biosig_timer</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00488">mtype.h:488</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l05177">map::add_item_or_charges()</a>, <a class="el" href="mtype_8h_source.html#l00317">mtype::biosig_item</a>, <a class="el" href="monster_8h_source.html#l00627">biosig_timer</a>, <a class="el" href="mtype_8h_source.html#l00488">mtype::biosig_timer</a>, <a class="el" href="monster_8h_source.html#l00626">biosignatures</a>, <a class="el" href="monster_8cpp.html#a40bcaf4d5f2dddb213337b389dc5aacd">effect_critter_underfed</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l03858">on_load()</a>, and <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>.</p>

</div>
</div>
<a id="a02e7dee3b3f096d760d7332395ba54f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02e7dee3b3f096d760d7332395ba54f3">&#9670;&nbsp;</a></span>try_reproduce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::try_reproduce </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00547">547</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;{</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#ad040aa7a065e88de5c26f205a590b6dd">reproduces</a> ) {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">// This can happen if the monster type has changed (from reproducing to non-reproducing monster)</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a65f2b779578b589c2f85c0047f86b7bf">baby_timer</a> ) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a> &amp;&amp; <a class="code" href="classmonster.html#a11074efaf5980ef21e67507fb97232a3">amount_eaten</a> &gt;= <a class="code" href="classmonster.html#aada2988a7383cd60274263184d51303d">stomach_size</a> ) {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="comment">// Assume this is a freshly spawned monster (because baby_timer is not set yet), set the point when it reproduce to somewhere in the future.</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="comment">// Monsters need to have eaten eat to start their pregnancy timer, but that&#39;s all.</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a>.emplace( <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + *<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a65f2b779578b589c2f85c0047f86b7bf">baby_timer</a> );</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordtype">bool</span> season_spawn = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordtype">bool</span> season_match = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// only 50% of animals should reproduce</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordtype">bool</span> female = <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 );</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;elem : <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9636bf314611b06345f1a78b4e88e8ae">baby_flags</a> ) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keywordflow">if</span>( elem == <span class="stringliteral">&quot;SUMMER&quot;</span> || elem == <span class="stringliteral">&quot;WINTER&quot;</span> || elem == <span class="stringliteral">&quot;SPRING&quot;</span> || elem == <span class="stringliteral">&quot;AUTUMN&quot;</span> ) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            season_spawn = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="comment">// add a decreasing chance of additional spawns when &quot;catching up&quot; an existing animal.</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordtype">int</span> chance = -1;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a>.has_value() || *<a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a> &gt; <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <span class="keywordflow">if</span>( season_spawn ) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            season_match = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;elem : <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9636bf314611b06345f1a78b4e88e8ae">baby_flags</a> ) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                <span class="keywordflow">if</span>( ( <a class="code" href="calendar_8cpp.html#a81656706da6c7486137ad8578c0f523e">season_of_year</a>( *<a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a> ) == <a class="code" href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba6d813ab9ea240f6c6eeff923ccb680ae">SUMMER</a> &amp;&amp; elem == <span class="stringliteral">&quot;SUMMER&quot;</span> ) ||</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                    ( <a class="code" href="calendar_8cpp.html#a81656706da6c7486137ad8578c0f523e">season_of_year</a>( *<a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a> ) == <a class="code" href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba1d8c9db74467f6c2fdad36f154ca6873">WINTER</a> &amp;&amp; elem == <span class="stringliteral">&quot;WINTER&quot;</span> ) ||</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                    ( <a class="code" href="calendar_8cpp.html#a81656706da6c7486137ad8578c0f523e">season_of_year</a>( *<a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a> ) == <a class="code" href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba74ce3137b26cdafc19bdb66d881971fa">SPRING</a> &amp;&amp; elem == <span class="stringliteral">&quot;SPRING&quot;</span> ) ||</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                    ( <a class="code" href="calendar_8cpp.html#a81656706da6c7486137ad8578c0f523e">season_of_year</a>( *<a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a> ) == <a class="code" href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1ba5c29d7e8c16f80d457fa37c9dafab61e">AUTUMN</a> &amp;&amp; elem == <span class="stringliteral">&quot;AUTUMN&quot;</span> ) ) {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                    season_match = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        chance += 2;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#aa37e8c765633b2710dcc31bf2c864b37">mon_flag_EATS</a> ) &amp;&amp; <a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="monster_8cpp.html#a40bcaf4d5f2dddb213337b389dc5aacd">effect_critter_underfed</a> ) ) {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            chance += 1; <span class="comment">//Reduce the chances but don&#39;t prevent birth if the animal is not eating.</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordflow">if</span>( season_match &amp;&amp; female &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( chance ) ) {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            <span class="keywordtype">int</span> spawn_cnt = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 1, <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a067238f4291179596bd5a657768faf5e">baby_count</a> );</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ac3d685da5268a2d00d8b8bd14eea54c2">baby_monster</a> ) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                here.<a class="code" href="classmap.html#a0a3760c8b1f3b57d7a811af96cfe46d8">add_spawn</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ac3d685da5268a2d00d8b8bd14eea54c2">baby_monster</a>, spawn_cnt, <a class="code" href="classCreature.html#af7172e571c5c69240d9f71a01fddf035">pos_bub</a>() );</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> egg( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a3a13c9cf426dc128a044ac158b505ccd">baby_egg</a>, *<a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a> );</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; spawn_cnt; i++ ) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                    here.<a class="code" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), egg, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        *<a class="code" href="classmonster.html#a57becddfeb3be38da4bf6e982c0a3fa8">baby_timer</a> += *<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a65f2b779578b589c2f85c0047f86b7bf">baby_timer</a>;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_a0a3760c8b1f3b57d7a811af96cfe46d8"><div class="ttname"><a href="classmap.html#a0a3760c8b1f3b57d7a811af96cfe46d8">map::add_spawn</a></div><div class="ttdeci">void add_spawn(const mtype_id &amp;type, int count, const tripoint_bub_ms &amp;p, bool friendly=false, int faction_id=-1, int mission_id=-1, const std::optional&lt; std::string &gt; &amp;name=std::nullopt)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l06680">mapgen.cpp:6680</a></div></div>
<div class="ttc" id="astructmtype_html_a067238f4291179596bd5a657768faf5e"><div class="ttname"><a href="structmtype.html#a067238f4291179596bd5a657768faf5e">mtype::baby_count</a></div><div class="ttdeci">int baby_count</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00470">mtype.h:470</a></div></div>
<div class="ttc" id="astructmtype_html_a3a13c9cf426dc128a044ac158b505ccd"><div class="ttname"><a href="structmtype.html#a3a13c9cf426dc128a044ac158b505ccd">mtype::baby_egg</a></div><div class="ttdeci">itype_id baby_egg</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00315">mtype.h:315</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l05177">map::add_item_or_charges()</a>, <a class="el" href="mapgen_8cpp_source.html#l06680">map::add_spawn()</a>, <a class="el" href="monster_8h_source.html#l00543">amount_eaten</a>, <a class="el" href="calendar_8h_source.html#l00024">AUTUMN</a>, <a class="el" href="mtype_8h_source.html#l00470">mtype::baby_count</a>, <a class="el" href="mtype_8h_source.html#l00315">mtype::baby_egg</a>, <a class="el" href="mtype_8h_source.html#l00350">mtype::baby_flags</a>, <a class="el" href="mtype_8h_source.html#l00314">mtype::baby_monster</a>, <a class="el" href="monster_8h_source.html#l00625">baby_timer</a>, <a class="el" href="mtype_8h_source.html#l00485">mtype::baby_timer</a>, <a class="el" href="monster_8cpp.html#a40bcaf4d5f2dddb213337b389dc5aacd">effect_critter_underfed</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="mtype_8cpp_source.html#l00077">mon_flag_EATS</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8cpp_source.html#l00183">Creature::pos_bub()</a>, <a class="el" href="monster_8h_source.html#l00624">reproduces</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="calendar_8cpp_source.html#l00810">season_of_year()</a>, <a class="el" href="calendar_8h_source.html#l00022">SPRING</a>, <a class="el" href="monster_8h_source.html#l00542">stomach_size</a>, <a class="el" href="calendar_8h_source.html#l00023">SUMMER</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="calendar_8h_source.html#l00025">WINTER</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l03858">on_load()</a>, and <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>.</p>

</div>
</div>
<a id="a63cfaab5c6126ecc3f3c3e966f4bf574"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63cfaab5c6126ecc3f3c3e966f4bf574">&#9670;&nbsp;</a></span>try_upgrade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::try_upgrade </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>pin_time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l00451">451</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;{</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a5a6be7cfbce50ad161774221638f356e">can_upgrade</a>() ) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> current_day = to_days&lt;int&gt;( <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> - <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> );</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">//This should only occur when a monster is created or upgraded to a new form</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> &lt; 0 ) {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> = <a class="code" href="classmonster.html#af6d05a3d7157530aba98073fd5166607">next_upgrade_time</a>();</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> &lt; 0 ) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordflow">if</span>( pin_time || <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ac5d26fd8f0685f847029c3d34a0a7a17">age_grow</a> &gt; 0 ) {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="comment">// offset by today, always true for growing creatures</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> += current_day;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            <span class="comment">// offset by starting season</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="comment">// TODO: revisit this and make it simpler</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> += to_days&lt;int&gt;( <a class="code" href="namespacecalendar.html#a0b28c598688bb85fbe9619baa7edf24b">calendar::start_of_cataclysm</a> - <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> );</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="comment">// Here we iterate until we either are before upgrade_time or can&#39;t upgrade any more.</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="comment">// This is so that late into game new monsters can &#39;catch up&#39; with all that half-life</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="comment">// upgrades they&#39;d get if we were simulating whole world.</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> &gt; current_day ) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <span class="comment">// not yet</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ac91d572a0dbdf7e6b24876b0d18535cb">upgrade_into</a> ) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <span class="comment">//If we upgrade into a blacklisted monster, treat it as though we are non-upgradeable</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classMonsterGroupManager.html#a40b4bc56bd97ac93e91a6ed6f3e308f8">MonsterGroupManager::monster_is_blacklisted</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ac91d572a0dbdf7e6b24876b0d18535cb">upgrade_into</a> ) ) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <a class="code" href="classmonster.html#a39d78be1e47deaf970439c3b9504e5d9">poly</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#ac91d572a0dbdf7e6b24876b0d18535cb">upgrade_into</a> );</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <a class="code" href="classstring__id.html">mtype_id</a> new_type;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#acb8c27d8fc28d006b4886bbf3d8fc0ae">upgrade_multi_range</a> ) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                <span class="keywordtype">bool</span> ret_default = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                std::vector&lt;MonsterGroupResult&gt; res = <a class="code" href="classMonsterGroupManager.html#a4473484572f9b11682effd2e0a0b241b">MonsterGroupManager::GetResultFromGroup</a>(</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                        <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aab5a7adaab8e548c3cb6360a985171e2">upgrade_group</a>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, <span class="keyword">false</span>, &amp;ret_default );</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                <span class="keywordflow">if</span>( !res.empty() &amp;&amp; !ret_default ) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                    <span class="comment">// Set the type to poly the current monster (preserves inventory)</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                    new_type = res.front().name;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                    res.front().pack_size--;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structMonsterGroupResult.html">MonsterGroupResult</a> &amp;mgr : res ) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                        <span class="keywordflow">if</span>( !mgr.name ) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                        }</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; mgr.pack_size; i++ ) {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                            <a class="code" href="structtripoint.html">tripoint</a> spawn_pos;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                            <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;find_nearby_spawn_point( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), mgr.name, 1, *<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#acb8c27d8fc28d006b4886bbf3d8fc0ae">upgrade_multi_range</a>,</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                                                            spawn_pos, <span class="keyword">false</span>, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                                <a class="code" href="classmonster.html">monster</a> *spawned = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_at( mgr.name, spawn_pos );</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                <span class="keywordflow">if</span>( spawned ) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                                    spawned-&gt;<a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> = <a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                                }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                            }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                        }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                new_type = <a class="code" href="classMonsterGroupManager.html#a9cccc521c1f910f907d23ffba50cd1dc">MonsterGroupManager::GetRandomMonsterFromGroup</a>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#aab5a7adaab8e548c3cb6360a985171e2">upgrade_group</a> );</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <span class="keywordflow">if</span>( !new_type.<a class="code" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                <span class="keywordflow">if</span>( new_type ) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                    <a class="code" href="classmonster.html#a39d78be1e47deaf970439c3b9504e5d9">poly</a>( new_type );</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                    <span class="comment">// &quot;upgrading&quot; to mon_null</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a0467be5722b99c50603094479997f3a8">upgrade_null_despawn</a> ) {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                        <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;remove_zombie( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                        <a class="code" href="classmonster.html#a82ae41773b05af94d4b678cb33bfb329">die</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                    }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a62679e1efa30cbc49d0ac34082171ed5">upgrades</a> ) {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            <span class="comment">// upgraded into a non-upgradeable monster</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> next_upgrade = <a class="code" href="classmonster.html#af6d05a3d7157530aba98073fd5166607">next_upgrade_time</a>();</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">if</span>( next_upgrade &lt; 0 ) {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <span class="comment">// hit never_upgrade</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <a class="code" href="classmonster.html#a0ca12eea14dc733e023e5f83ef2dbf4e">upgrade_time</a> += next_upgrade;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;}</div>
<div class="ttc" id="aclassMonsterGroupManager_html_a40b4bc56bd97ac93e91a6ed6f3e308f8"><div class="ttname"><a href="classMonsterGroupManager.html#a40b4bc56bd97ac93e91a6ed6f3e308f8">MonsterGroupManager::monster_is_blacklisted</a></div><div class="ttdeci">static bool monster_is_blacklisted(const mtype_id &amp;m)</div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8cpp_source.html#l00389">mongroup.cpp:389</a></div></div>
<div class="ttc" id="aclassMonsterGroupManager_html_a4473484572f9b11682effd2e0a0b241b"><div class="ttname"><a href="classMonsterGroupManager.html#a4473484572f9b11682effd2e0a0b241b">MonsterGroupManager::GetResultFromGroup</a></div><div class="ttdeci">static std::vector&lt; MonsterGroupResult &gt; GetResultFromGroup(const mongroup_id &amp;group, int *quantity=nullptr, bool *mon_found=nullptr, bool is_recursive=false, bool *returned_default=nullptr, bool use_pack_size=false)</div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8cpp_source.html#l00204">mongroup.cpp:204</a></div></div>
<div class="ttc" id="aclassMonsterGroupManager_html_a9cccc521c1f910f907d23ffba50cd1dc"><div class="ttname"><a href="classMonsterGroupManager.html#a9cccc521c1f910f907d23ffba50cd1dc">MonsterGroupManager::GetRandomMonsterFromGroup</a></div><div class="ttdeci">static const mtype_id &amp; GetRandomMonsterFromGroup(const mongroup_id &amp;group)</div><div class="ttdoc">Gets a random monster, weighted by frequency.</div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8cpp_source.html#l00619">mongroup.cpp:619</a></div></div>
<div class="ttc" id="aclassmonster_html_af6d05a3d7157530aba98073fd5166607"><div class="ttname"><a href="classmonster.html#af6d05a3d7157530aba98073fd5166607">monster::next_upgrade_time</a></div><div class="ttdeci">int next_upgrade_time()</div><div class="ttdoc">Normal upgrades.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00431">monster.cpp:431</a></div></div>
<div class="ttc" id="astructMonsterGroupResult_html"><div class="ttname"><a href="structMonsterGroupResult.html">MonsterGroupResult</a></div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8h_source.html#l00076">mongroup.h:76</a></div></div>
<div class="ttc" id="astructmtype_html_a0467be5722b99c50603094479997f3a8"><div class="ttname"><a href="structmtype.html#a0467be5722b99c50603094479997f3a8">mtype::upgrade_null_despawn</a></div><div class="ttdeci">bool upgrade_null_despawn</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00498">mtype.h:498</a></div></div>
<div class="ttc" id="astructmtype_html_aab5a7adaab8e548c3cb6360a985171e2"><div class="ttname"><a href="structmtype.html#aab5a7adaab8e548c3cb6360a985171e2">mtype::upgrade_group</a></div><div class="ttdeci">mongroup_id upgrade_group</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00308">mtype.h:308</a></div></div>
<div class="ttc" id="astructmtype_html_ac91d572a0dbdf7e6b24876b0d18535cb"><div class="ttname"><a href="structmtype.html#ac91d572a0dbdf7e6b24876b0d18535cb">mtype::upgrade_into</a></div><div class="ttdeci">mtype_id upgrade_into</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00307">mtype.h:307</a></div></div>
<div class="ttc" id="astructmtype_html_acb8c27d8fc28d006b4886bbf3d8fc0ae"><div class="ttname"><a href="structmtype.html#acb8c27d8fc28d006b4886bbf3d8fc0ae">mtype::upgrade_multi_range</a></div><div class="ttdeci">std::optional&lt; int &gt; upgrade_multi_range</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00482">mtype.h:482</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00467">mtype::age_grow</a>, <a class="el" href="monster_8cpp_source.html#l00399">can_upgrade()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="monster_8h_source.html#l00539">friendly</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="mongroup_8cpp_source.html#l00619">MonsterGroupManager::GetRandomMonsterFromGroup()</a>, <a class="el" href="mongroup_8cpp_source.html#l00204">MonsterGroupManager::GetResultFromGroup()</a>, <a class="el" href="string__id_8h_source.html#l00303">string_id&lt; T &gt;::is_empty()</a>, <a class="el" href="mongroup_8cpp_source.html#l00389">MonsterGroupManager::monster_is_blacklisted()</a>, <a class="el" href="monster_8cpp_source.html#l00431">next_upgrade_time()</a>, <a class="el" href="monster_8cpp_source.html#l00375">poly()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::start_of_cataclysm</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="calendar_8h_source.html#l00541">calendar::turn_zero</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, <a class="el" href="mtype_8h_source.html#l00308">mtype::upgrade_group</a>, <a class="el" href="mtype_8h_source.html#l00307">mtype::upgrade_into</a>, <a class="el" href="mtype_8h_source.html#l00482">mtype::upgrade_multi_range</a>, <a class="el" href="mtype_8h_source.html#l00498">mtype::upgrade_null_despawn</a>, <a class="el" href="monster_8h_source.html#l00623">upgrade_time</a>, and <a class="el" href="monster_8h_source.html#l00622">upgrades</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l04590">mattack::evolve_kill_strike()</a>, <a class="el" href="monster_8cpp_source.html#l03858">on_load()</a>, <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01485">spell_effect::upgrade()</a>, and <a class="el" href="monattack_8cpp_source.html#l03930">mattack::upgrade()</a>.</p>

</div>
</div>
<a id="aa411814aee066a5e242f51efe6daec65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa411814aee066a5e242f51efe6daec65">&#9670;&nbsp;</a></span>turns_to_reach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::turns_to_reach </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l02399">2399</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;{</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    <span class="comment">// HACK: This function is a(n old) temporary hack that should soon be removed</span></div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    <span class="keyword">auto</span> <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a> = here.<a class="code" href="classmap.html#acd464679b3bb514e2568ffdb3260ef0c">route</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>( p, <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() ), <a class="code" href="classmonster.html#a873925c09bec361ffd2363626828a362">get_pathfinding_settings</a>() );</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.empty() ) {</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;        <span class="keywordflow">return</span> 999;</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    }</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160; </div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    <span class="keywordtype">double</span> turns = 0.;</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.size(); i++ ) {</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;        <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;next = <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>[i];</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">impassable</a>( next ) ) {</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;            <span class="comment">// No bashing through, it looks stupid when you go back and find</span></div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;            <span class="comment">// the doors intact.</span></div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;            <span class="keywordflow">return</span> 999;</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( i == 0 ) {</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;            turns += <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( <a class="code" href="classmonster.html#a98cfa6c825f373b60a0a4021a8dbf750">calc_movecost</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), next ) ) / <a class="code" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">get_speed</a>();</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;            turns += <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( <a class="code" href="classmonster.html#a98cfa6c825f373b60a0a4021a8dbf750">calc_movecost</a>( <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>[i - 1], next ) ) / <a class="code" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">get_speed</a>();</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;        }</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;    }</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160; </div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( turns + .9 ); <span class="comment">// Halve (to get turns) and round up</span></div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monmove_8cpp_source.html#l01575">calc_movecost()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="monster_8cpp_source.html#l03981">get_pathfinding_settings()</a>, <a class="el" href="creature_8cpp_source.html#l02138">Creature::get_speed()</a>, <a class="el" href="map_8cpp_source.html#l02462">map::impassable()</a>, <a class="el" href="monster_8h_source.html#l00632">path</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8h_source.html#l00317">Creature::posz()</a>, <a class="el" href="pathfinding_8cpp_source.html#l00192">map::route()</a>, and <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>.</p>

</div>
</div>
<a id="a1488f5a618c74a508fb87b82be05ef11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1488f5a618c74a508fb87b82be05ef11">&#9670;&nbsp;</a></span>unset_dest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::unset_dest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01388">1388</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;{</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <a class="code" href="classmonster.html#a7c3e07d777236b91713d6db073581dd3">goal</a> = std::nullopt;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.clear();</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00618">goal</a>, and <a class="el" href="monster_8h_source.html#l00632">path</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01412">spell_effect::charm_monster()</a>, <a class="el" href="monster_8cpp_source.html#l03443">make_friendly()</a>, <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="monster_8cpp_source.html#l00705">spawn()</a>, and <a class="el" href="monexamine_8cpp_source.html#l00445">anonymous_namespace{monexamine.cpp}::start_leading()</a>.</p>

</div>
</div>
<a id="a78fcc19cb31f6bf97b2d9f0d2d34304f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78fcc19cb31f6bf97b2d9f0d2d34304f">&#9670;&nbsp;</a></span>use_mech_power()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a2dcfce0ba186227c52bb1083744871bb">units::energy</a> monster::use_mech_power </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceunits.html#a2dcfce0ba186227c52bb1083744871bb">units::energy</a>&#160;</td>
          <td class="paramname"><em>amt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Consume UPS from mech battery. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">amt</td><td>amount of energy to consume. Is rounded down to kJ precision. Do not use negative values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Actual amount of energy consumed </dd></dl>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l02959">2959</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;{</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() || !<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a1ce59be15eeebc2aa195dc5a5cf38358">mon_flag_RIDEABLE_MECH</a> ) || !<a class="code" href="classmonster.html#a5d5bdb6389c0388198bda9530620e4af">battery_item</a> ) {</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;        <span class="keywordflow">return</span> 0_kJ;</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;    }</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> max_drain = <a class="code" href="classmonster.html#a5d5bdb6389c0388198bda9530620e4af">battery_item</a>-&gt;ammo_remaining();</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> consumption = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="namespaceunits.html#a7f3948de70e78d68af74fb3d119cf176">units::to_kilojoule</a>( amt ) ), max_drain );</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;    <a class="code" href="classmonster.html#a5d5bdb6389c0388198bda9530620e4af">battery_item</a>-&gt;ammo_consume( consumption, <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceunits.html#a9a9f862b2cd8fb3133a67b8bf927b017">units::from_kilojoule</a>( <span class="keyword">static_cast&lt;</span>std::int64_t<span class="keyword">&gt;</span>( consumption ) );</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;}</div>
<div class="ttc" id="anamespaceunits_html_a7f3948de70e78d68af74fb3d119cf176"><div class="ttname"><a href="namespaceunits.html#a7f3948de70e78d68af74fb3d119cf176">units::to_kilojoule</a></div><div class="ttdeci">constexpr value_type to_kilojoule(const quantity&lt; value_type, energy_in_millijoule_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00578">units.h:578</a></div></div>
<div class="ttc" id="anamespaceunits_html_a9a9f862b2cd8fb3133a67b8bf927b017"><div class="ttname"><a href="namespaceunits.html#a9a9f862b2cd8fb3133a67b8bf927b017">units::from_kilojoule</a></div><div class="ttdeci">constexpr quantity&lt; value_type, energy_in_millijoule_tag &gt; from_kilojoule(const value_type v)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00555">units.h:555</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00533">battery_item</a>, <a class="el" href="units_8h_source.html#l00555">units::from_kilojoule()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="mtype_8cpp_source.html#l00142">mon_flag_RIDEABLE_MECH</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, and <a class="el" href="units_8h_source.html#l00578">units::to_kilojoule()</a>.</p>

<p class="reference">Referenced by <a class="el" href="handle__action_8cpp_source.html#l00868">smash()</a>, <a class="el" href="monattack_8cpp_source.html#l01311">mattack::smash_specific()</a>, and <a class="el" href="game_8cpp_source.html#l11966">game::vertical_move()</a>.</p>

</div>
</div>
<a id="a552098ce86a22d30643078a9ea191648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a552098ce86a22d30643078a9ea191648">&#9670;&nbsp;</a></span>wander_to()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monster::wander_to </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set p as wander destination. </p>
<p>This will cause the monster to slowly move towards the destination, unless there is an overriding smell or plan.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Destination of monster's wanderings </td></tr>
    <tr><td class="paramname">f</td><td>The priority of the destination, as well as how long we should wander towards there. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01399">1399</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;{</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <a class="code" href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">wander_pos</a> = p;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <a class="code" href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">wandf</a> = f;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00521">wander_pos</a>, and <a class="el" href="monster_8h_source.html#l00523">wandf</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l03758">hear_sound()</a>, and <a class="el" href="map_8cpp_source.html#l08762">map::spawn_monsters_submap_group()</a>.</p>

</div>
</div>
<a id="a34c23a00051674235ed13bb0b5e4778c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34c23a00051674235ed13bb0b5e4778c">&#9670;&nbsp;</a></span>weakpoint_skill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float monster::weakpoint_skill </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="weakpoint_8cpp_source.html#l00072">72</a> of file <a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;{</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a575a59af47aec8bf8bfb9021eb4dddf5">melee_skill</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00429">mtype::melee_skill</a>, and <a class="el" href="monster_8h_source.html#l00550">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="weakpoint_8cpp_source.html#l00355">weakpoint_attack::compute_wp_skill()</a>.</p>

</div>
</div>
<a id="a0c49beaccb216bf74bec21f9b7330076"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c49beaccb216bf74bec21f9b7330076">&#9670;&nbsp;</a></span>weight_capacity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> monster::weight_capacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a3abf87ed21086c0a4ea2c6da9aef08cd">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03513">3513</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;{</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a71161bb5851b4c48f32f3ebaf35b9b1d">weight</a> * <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#afade983335b7aba4ab5c44a9575d08e8">mountable_weight_ratio</a>;</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mtype_8h_source.html#l00426">mtype::mountable_weight_ratio</a>, <a class="el" href="monster_8h_source.html#l00550">type</a>, and <a class="el" href="mtype_8h_source.html#l00292">mtype::weight</a>.</p>

<p class="reference">Referenced by <a class="el" href="monexamine_8cpp_source.html#l00308">anonymous_namespace{monexamine.cpp}::add_armor()</a>, <a class="el" href="monexamine_8cpp_source.html#l00169">anonymous_namespace{monexamine.cpp}::attach_bag_to()</a>, <a class="el" href="monexamine_8cpp_source.html#l00241">anonymous_namespace{monexamine.cpp}::give_items_to()</a>, and <a class="el" href="activity__actor_8cpp_source.html#l04314">stash_on_pet()</a>.</p>

</div>
</div>
<a id="a781dd02df67ea9e0395b0bafb6d2f6f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a781dd02df67ea9e0395b0bafb6d2f6f2">&#9670;&nbsp;</a></span>will_join_horde()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::will_join_horde </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l03831">3831</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;{</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;    <span class="keyword">const</span> <a class="code" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022a">monster_horde_attraction</a> mha = <a class="code" href="classmonster.html#aef26e967fc1e2cd13ddfc752c086c3b8">get_horde_attraction</a>();</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;    <span class="keywordflow">if</span>( this-&gt;<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#af8eb4198f7564379a407e89c13cdd1b7">mon_flag_IMMOBILE</a> ) || this-&gt;<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#aa505d1aacd64ab77f011f9480fbeed67">mon_flag_NEVER_WANDER</a> ) ) {</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">//immobile monsters should never join a horde. Same with Never Wander monsters.</span></div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;    }</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;    <span class="keywordflow">if</span>( mha == <a class="code" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aa290ae99e05fe5dc437b16b2ce7acb759">MHA_NEVER</a> ) {</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;    }</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;    <span class="keywordflow">if</span>( mha == <a class="code" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aacc73cbe39e60f837c921ac9e11736546">MHA_ALWAYS</a> ) {</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;    }</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ae3d370c9f42b19b87dbb23f631fee998">ter_furn_flag::TFLAG_INDOORS</a>, <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) &amp;&amp;</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;        ( mha == <a class="code" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aa40233284493458de48b2f09931869c82">MHA_OUTDOORS</a> || mha == <a class="code" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aaca027d792cd49d0593bd967aeac711b3">MHA_OUTDOORS_AND_LARGE</a> ) ) {</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;    }</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> &lt; 3 &amp;&amp; ( mha == <a class="code" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aa9165d76bff1bbcab2ab693cd457247e3">MHA_LARGE</a> || mha == <a class="code" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aaca027d792cd49d0593bd967aeac711b3">MHA_OUTDOORS_AND_LARGE</a> ) ) {</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;    }</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;}</div>
<div class="ttc" id="aclassmonster_html_aef26e967fc1e2cd13ddfc752c086c3b8"><div class="ttname"><a href="classmonster.html#aef26e967fc1e2cd13ddfc752c086c3b8">monster::get_horde_attraction</a></div><div class="ttdeci">monster_horde_attraction get_horde_attraction()</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03818">monster.cpp:3818</a></div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054ae3d370c9f42b19b87dbb23f631fee998"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ae3d370c9f42b19b87dbb23f631fee998">ter_furn_flag::TFLAG_INDOORS</a></div><div class="ttdeci">@ TFLAG_INDOORS</div></div>
<div class="ttc" id="amonster_8h_html_aa13c8de924aae342f9bcb80fb3e7022aa290ae99e05fe5dc437b16b2ce7acb759"><div class="ttname"><a href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aa290ae99e05fe5dc437b16b2ce7acb759">MHA_NEVER</a></div><div class="ttdeci">@ MHA_NEVER</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00081">monster.h:81</a></div></div>
<div class="ttc" id="amonster_8h_html_aa13c8de924aae342f9bcb80fb3e7022aa40233284493458de48b2f09931869c82"><div class="ttname"><a href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aa40233284493458de48b2f09931869c82">MHA_OUTDOORS</a></div><div class="ttdeci">@ MHA_OUTDOORS</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00079">monster.h:79</a></div></div>
<div class="ttc" id="amonster_8h_html_aa13c8de924aae342f9bcb80fb3e7022aa9165d76bff1bbcab2ab693cd457247e3"><div class="ttname"><a href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aa9165d76bff1bbcab2ab693cd457247e3">MHA_LARGE</a></div><div class="ttdeci">@ MHA_LARGE</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00078">monster.h:78</a></div></div>
<div class="ttc" id="amonster_8h_html_aa13c8de924aae342f9bcb80fb3e7022aaca027d792cd49d0593bd967aeac711b3"><div class="ttname"><a href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aaca027d792cd49d0593bd967aeac711b3">MHA_OUTDOORS_AND_LARGE</a></div><div class="ttdeci">@ MHA_OUTDOORS_AND_LARGE</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00080">monster.h:80</a></div></div>
<div class="ttc" id="amonster_8h_html_aa13c8de924aae342f9bcb80fb3e7022aacc73cbe39e60f837c921ac9e11736546"><div class="ttname"><a href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aacc73cbe39e60f837c921ac9e11736546">MHA_ALWAYS</a></div><div class="ttdeci">@ MHA_ALWAYS</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00077">monster.h:77</a></div></div>
<div class="ttc" id="amtype_8cpp_html_aa505d1aacd64ab77f011f9480fbeed67"><div class="ttname"><a href="mtype_8cpp.html#aa505d1aacd64ab77f011f9480fbeed67">mon_flag_NEVER_WANDER</a></div><div class="ttdeci">mon_flag_id mon_flag_NEVER_WANDER</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00111">mtype.cpp:111</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l03818">get_horde_attraction()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="monster_8h_source.html#l00077">MHA_ALWAYS</a>, <a class="el" href="monster_8h_source.html#l00078">MHA_LARGE</a>, <a class="el" href="monster_8h_source.html#l00081">MHA_NEVER</a>, <a class="el" href="monster_8h_source.html#l00079">MHA_OUTDOORS</a>, <a class="el" href="monster_8h_source.html#l00080">MHA_OUTDOORS_AND_LARGE</a>, <a class="el" href="mtype_8cpp_source.html#l00101">mon_flag_IMMOBILE</a>, <a class="el" href="mtype_8cpp_source.html#l00111">mon_flag_NEVER_WANDER</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="omdata_8h_source.html#l00066">om_direction::size</a>, and <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ae3d370c9f42b19b87dbb23f631fee998">TFLAG_INDOORS</a>.</p>

<p class="reference">Referenced by <a class="el" href="overmap_8cpp_source.html#l04033">overmap::move_hordes()</a>.</p>

</div>
</div>
<a id="a7d8135ba3578b7ad43d4e7b5acc9269d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d8135ba3578b7ad43d4e7b5acc9269d">&#9670;&nbsp;</a></span>will_move_to()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::will_move_to </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l00193">193</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;{</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">impassable</a>( p ) ) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#af705eea6e40e12d7866010955602c7b5">digging</a>() ) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <span class="keywordflow">if</span>( !here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a3c02a3fdfed55eb397855458954edb4d">ter_furn_flag::TFLAG_BURROWABLE</a>, p ) ) {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !( <a class="code" href="classmonster.html#abca4913777aa7ed67c109de4b667ed54">can_climb</a>() &amp;&amp; here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac0ec7541a0f28e104d9c691936512481">ter_furn_flag::TFLAG_CLIMBABLE</a>, p ) ) ) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span>( !here.<a class="code" href="classmap.html#a5ee9fe3a08892870a0574b8e1ab4e6b0">has_vehicle_floor</a>( p ) ) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classmonster.html#a55fd0614c264b7e89a5735270ff6d2c7">can_submerge</a>() &amp;&amp; !<a class="code" href="classmonster.html#aedaf54c4048d596420fae0d32bb1f586">flies</a>() &amp;&amp; here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac6e19e1c41724be67b2bff2870539ca1">ter_furn_flag::TFLAG_DEEP_WATER</a>, p ) ) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a22e929800e08d5458140ec4dbaad53a5">digs</a>() &amp;&amp; !here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aaebe86ebda0571101f8d02ab5f2a888c">ter_furn_flag::TFLAG_DIGGABLE</a>, p ) &amp;&amp;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        !here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a3c02a3fdfed55eb397855458954edb4d">ter_furn_flag::TFLAG_BURROWABLE</a>, p ) ) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a10899530fa212da51fd92b98b0cacdb5">mon_flag_AQUATIC</a> ) &amp;&amp; (</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            !here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">ter_furn_flag::TFLAG_SWIMMABLE</a>, p ) ||</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="comment">// AQUATIC (confined to water) monster avoid vehicles, unless they are already underneath one</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            ( here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( p ) &amp;&amp; !here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) )</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        ) ) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#ac15b344ef0a6c63960a6b7c042b0ce94">mon_flag_SUNDEATH</a> ) &amp;&amp; <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_in_sunlight( p ) ) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#ab92cac0ecb2b2062fd4f821b671f86ac">get_size</a>() &gt; <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a> &amp;&amp;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        here.<a class="code" href="classmap.html#af0e872a5d0a7bf1e9745aeb18d3b5e44">has_flag_ter</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ab6eeca58f1d5eff47e105ee3c132539f">ter_furn_flag::TFLAG_SMALL_PASSAGE</a>, p ) ) {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// if a large critter, can&#39;t move through tight passages</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;}</div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a3c02a3fdfed55eb397855458954edb4d"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a3c02a3fdfed55eb397855458954edb4d">ter_furn_flag::TFLAG_BURROWABLE</a></div><div class="ttdeci">@ TFLAG_BURROWABLE</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054ab6eeca58f1d5eff47e105ee3c132539f"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ab6eeca58f1d5eff47e105ee3c132539f">ter_furn_flag::TFLAG_SMALL_PASSAGE</a></div><div class="ttdeci">@ TFLAG_SMALL_PASSAGE</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01242">can_climb()</a>, <a class="el" href="monster_8cpp_source.html#l01230">can_submerge()</a>, <a class="el" href="monster_8cpp_source.html#l01247">digging()</a>, <a class="el" href="monster_8cpp_source.html#l01257">digs()</a>, <a class="el" href="monster_8cpp_source.html#l01262">flies()</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="monster_8cpp_source.html#l03503">get_size()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="map_8cpp_source.html#l03077">map::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l03107">map::has_flag_ter()</a>, <a class="el" href="map_8cpp_source.html#l02739">map::has_vehicle_floor()</a>, <a class="el" href="map_8cpp_source.html#l02462">map::impassable()</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">medium</a>, <a class="el" href="mtype_8cpp_source.html#l00048">mon_flag_AQUATIC</a>, <a class="el" href="mtype_8cpp_source.html#l00154">mon_flag_SUNDEATH</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a3c02a3fdfed55eb397855458954edb4d">TFLAG_BURROWABLE</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac0ec7541a0f28e104d9c691936512481">TFLAG_CLIMBABLE</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ac6e19e1c41724be67b2bff2870539ca1">TFLAG_DEEP_WATER</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054aaebe86ebda0571101f8d02ab5f2a888c">TFLAG_DIGGABLE</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054ab6eeca58f1d5eff47e105ee3c132539f">TFLAG_SMALL_PASSAGE</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">TFLAG_SWIMMABLE</a>, and <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l00110">leap_actor::call()</a>, <a class="el" href="monmove_8cpp_source.html#l00356">can_move_to()</a>, and <a class="el" href="game_8cpp_source.html#l05169">can_place_monster()</a>.</p>

</div>
</div>
<a id="a73aa45942033a7c02529df8ab4b229af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73aa45942033a7c02529df8ab4b229af">&#9670;&nbsp;</a></span>will_reach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::will_reach </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monmove_8cpp_source.html#l02361">2361</a> of file <a class="el" href="monmove_8cpp_source.html">monmove.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;{</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4">monster_attitude</a> att = <a class="code" href="classmonster.html#a6f9b80e613e46d2a7ebbb21ea5e11e4c">attitude</a>( &amp;<a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>() );</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    <span class="keywordflow">if</span>( att != <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a850d5624fd1d54192310ab8b13f228ee">MATT_FOLLOW</a> &amp;&amp; att != <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a87f44dc6e793f84b2342dafd6460b263">MATT_ATTACK</a> &amp;&amp; att != <a class="code" href="monster_8h.html#aac044bb92427fa3cd80c3c945ba7ecd4a7284d60cdedff9ecfaaf33b10ba4986b">MATT_FRIEND</a> ) {</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    }</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160; </div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a22e929800e08d5458140ec4dbaad53a5">digs</a>() || <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a10899530fa212da51fd92b98b0cacdb5">mon_flag_AQUATIC</a> ) ) {</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    }</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160; </div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    <span class="keywordflow">if</span>( ( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#af8eb4198f7564379a407e89c13cdd1b7">mon_flag_IMMOBILE</a> ) || <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a1ce59be15eeebc2aa195dc5a5cf38358">mon_flag_RIDEABLE_MECH</a> ) ) &amp;&amp;</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;        ( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>().xy() != p ) ) {</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    }</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160; </div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <span class="keyword">auto</span> <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a> = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#acd464679b3bb514e2568ffdb3260ef0c">route</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>( p, <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() ), <a class="code" href="classmonster.html#a873925c09bec361ffd2363626828a362">get_pathfinding_settings</a>() );</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#aa162caeeef96c7c0aecca97871435d71">path</a>.empty() ) {</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    }</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160; </div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a43202b3e829143741862e0f5f1e826a7">has_flag</a>( <a class="code" href="mtype_8cpp.html#a7598512ae9ca78a96974d3ca4237b044">mon_flag_SMELLS</a> ) &amp;&amp; <a class="code" href="game_8cpp.html#afee362892b161716a3fc614b030a877d">get_scent</a>().<a class="code" href="namespacerotatable__symbols.html#a7d2f855a39674de736a7829423a577f4">get</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;        <a class="code" href="game_8cpp.html#afee362892b161716a3fc614b030a877d">get_scent</a>().<a class="code" href="namespacerotatable__symbols.html#a7d2f855a39674de736a7829423a577f4">get</a>( { p, <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() } ) &gt; <a class="code" href="game_8cpp.html#afee362892b161716a3fc614b030a877d">get_scent</a>().<a class="code" href="classscent__map.html#a99aff3e6d8963d7f34618216a8448c8c">get</a>( <a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ) {</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    }</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160; </div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a1e799308a5bfe0f6c1f3d47a5c10987a">can_hear</a>() &amp;&amp; <a class="code" href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">wandf</a> &gt; 0 &amp;&amp; <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().getlocal( <a class="code" href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">wander_pos</a> ).xy(), p ) &lt;= 2 &amp;&amp;</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;        <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>().xy(), <a class="code" href="classmonster.html#a56a49e970812e2317cc67035c33fa96f">wander_pos</a>.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() ) &lt;= <a class="code" href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">wandf</a> ) {</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    }</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160; </div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmonster.html#a79c1aef59cccba881fc60e52fb6d8cb9">can_see</a>() &amp;&amp; <a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>( p, <a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() ) ) ) {</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    }</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160; </div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;}</div>
<div class="ttc" id="anamespacerotatable__symbols_html_a7d2f855a39674de736a7829423a577f4"><div class="ttname"><a href="namespacerotatable__symbols.html#a7d2f855a39674de736a7829423a577f4">rotatable_symbols::get</a></div><div class="ttdeci">uint32_t get(const uint32_t &amp;symbol, int n)</div><div class="ttdef"><b>Definition:</b> <a href="rotatable__symbols_8cpp_source.html#l00091">rotatable_symbols.cpp:91</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="monster_8cpp_source.html#l01225">can_hear()</a>, <a class="el" href="monster_8cpp_source.html#l01220">can_see()</a>, <a class="el" href="monster_8cpp_source.html#l01257">digs()</a>, <a class="el" href="scent__map_8cpp_source.html#l00095">scent_map::get()</a>, <a class="el" href="rotatable__symbols_8cpp_source.html#l00091">rotatable_symbols::get()</a>, <a class="el" href="creature_8cpp_source.html#l03232">Creature::get_location()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="monster_8cpp_source.html#l03981">get_pathfinding_settings()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="game_8cpp_source.html#l13851">get_scent()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="monster_8h_source.html#l00064">MATT_ATTACK</a>, <a class="el" href="monster_8h_source.html#l00063">MATT_FOLLOW</a>, <a class="el" href="monster_8h_source.html#l00059">MATT_FRIEND</a>, <a class="el" href="mtype_8cpp_source.html#l00048">mon_flag_AQUATIC</a>, <a class="el" href="mtype_8cpp_source.html#l00101">mon_flag_IMMOBILE</a>, <a class="el" href="mtype_8cpp_source.html#l00142">mon_flag_RIDEABLE_MECH</a>, <a class="el" href="mtype_8cpp_source.html#l00151">mon_flag_SMELLS</a>, <a class="el" href="monster_8h_source.html#l00632">path</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8h_source.html#l00317">Creature::posz()</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="pathfinding_8cpp_source.html#l00192">map::route()</a>, <a class="el" href="creature_8cpp_source.html#l00358">Creature::sees()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a45a310b5cb289ed0e3a8870a1991736e">tripoint</a>, <a class="el" href="monster_8h_source.html#l00521">wander_pos</a>, <a class="el" href="monster_8h_source.html#l00523">wandf</a>, and <a class="el" href="coordinates_8h_source.html#l00273">coords::coord_point&lt; Point, Origin, Scale, InBounds &gt;::xy()</a>.</p>

</div>
</div>
<a id="ada0edb1d5af1422cfffd94fb3811919a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada0edb1d5af1422cfffd94fb3811919a">&#9670;&nbsp;</a></span>witness_thievery()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monster::witness_thievery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a44bc765d3db26eb21fe1a541c4610cc4">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="monster_8cpp_source.html#l01420">1420</a> of file <a class="el" href="monster_8cpp_source.html">monster.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;{</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s saw the %2$s being stolen!&quot;</span> ), <a class="code" href="classmonster.html#ad4fba0b9aea36097d8b972e05e66d914">get_name</a>(), it-&gt;<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>() );</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    std::vector&lt;npc *&gt; <a class="code" href="namespaceanonymous__namespace_02math__parser__diag_8cpp_03.html#a84e1c6512fd6091046994b6c8e5477f2a28f20a02bf8a021fab4fcec48afb584e">friends</a>;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classnpc.html">npc</a> &amp;guy : <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_npcs() ) {</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        <span class="keywordflow">if</span>( guy.get_faction() &amp;&amp; guy.get_faction()-&gt;mon_faction == <a class="code" href="classfaction.html">faction</a>.<a class="code" href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">id</a>() ) {</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;            <a class="code" href="namespaceanonymous__namespace_02math__parser__diag_8cpp_03.html#a84e1c6512fd6091046994b6c8e5477f2a28f20a02bf8a021fab4fcec48afb584e">friends</a>.push_back( &amp;guy );</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        }</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    }</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespaceanonymous__namespace_02math__parser__diag_8cpp_03.html#a84e1c6512fd6091046994b6c8e5477f2a28f20a02bf8a021fab4fcec48afb584e">friends</a>.empty() ) {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        <a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <a class="code" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> = 100;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    }</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    std::sort( <a class="code" href="namespaceanonymous__namespace_02math__parser__diag_8cpp_03.html#a84e1c6512fd6091046994b6c8e5477f2a28f20a02bf8a021fab4fcec48afb584e">friends</a>.begin(), <a class="code" href="namespaceanonymous__namespace_02math__parser__diag_8cpp_03.html#a84e1c6512fd6091046994b6c8e5477f2a28f20a02bf8a021fab4fcec48afb584e">friends</a>.end(), <a class="code" href="classnpc.html#aa2736c9bc23fe9d6d780e2d5def2274e">npc::theft_witness_compare</a> );</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02math__parser__diag_8cpp_03.html#a84e1c6512fd6091046994b6c8e5477f2a28f20a02bf8a021fab4fcec48afb584e">friends</a>[0]-&gt;witness_thievery( it );</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;}</div>
<div class="ttc" id="aclassitem_html_a30837987c08ac5daf3b1e377e0ecaa21"><div class="ttname"><a href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">item::tname</a></div><div class="ttdeci">std::string tname(unsigned int quantity=1, tname::segment_bitset const &amp;segments=tname::default_tname) const</div><div class="ttdoc">Return the (translated) item name.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06814">item.cpp:6814</a></div></div>
<div class="ttc" id="aclassnpc_html_aa2736c9bc23fe9d6d780e2d5def2274e"><div class="ttname"><a href="classnpc.html#aa2736c9bc23fe9d6d780e2d5def2274e">npc::theft_witness_compare</a></div><div class="ttdeci">static bool theft_witness_compare(const npc *lhs, const npc *rhs)</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03588">npc.cpp:3588</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02math__parser__diag_8cpp_03_html_a84e1c6512fd6091046994b6c8e5477f2a28f20a02bf8a021fab4fcec48afb584e"><div class="ttname"><a href="namespaceanonymous__namespace_02math__parser__diag_8cpp_03.html#a84e1c6512fd6091046994b6c8e5477f2a28f20a02bf8a021fab4fcec48afb584e">anonymous_namespace{math_parser_diag.cpp}::mon_filter::friends</a></div><div class="ttdeci">@ friends</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="monster_8h_source.html#l00572">aggro_character</a>, <a class="el" href="monster_8h_source.html#l00540">anger</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="monster_8cpp_source.html#l00717">get_name()</a>, <a class="el" href="faction_8h_source.html#l00112">faction_template::id</a>, <a class="el" href="enums_8h_source.html#l00348">m_bad</a>, <a class="el" href="npc_8cpp_source.html#l03588">npc::theft_witness_compare()</a>, and <a class="el" href="item_8cpp_source.html#l06814">item::tname()</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a61f882783d55204dfb52502ca1d5d9db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61f882783d55204dfb52502ca1d5d9db">&#9670;&nbsp;</a></span>editmap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classeditmap.html">editmap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00087">87</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ab80f9246aad2b3c22becee9f34dc17d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab80f9246aad2b3c22becee9f34dc17d8">&#9670;&nbsp;</a></span>aggro_character</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::aggro_character = true</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00572">572</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00478">anger_cub_threatened()</a>, <a class="el" href="monmove_8cpp_source.html#l00446">anger_hostile_seen()</a>, <a class="el" href="monmove_8cpp_source.html#l00465">anger_mating_season()</a>, <a class="el" href="monster_8cpp_source.html#l02169">apply_damage()</a>, <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l01106">gun_actor::call()</a>, <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>, <a class="el" href="monster_8cpp_source.html#l03858">on_load()</a>, <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>, <a class="el" href="monster_8cpp_source.html#l00375">poly()</a>, <a class="el" href="monster_8cpp_source.html#l01662">process_triggers()</a>, and <a class="el" href="monster_8cpp_source.html#l01420">witness_thievery()</a>.</p>

</div>
</div>
<a id="aa5740a03294bcab8ef209151af709c4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5740a03294bcab8ef209151af709c4c">&#9670;&nbsp;</a></span>ammo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, int&gt; monster::ammo</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00582">582</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mondeath_8cpp_source.html#l00220">mdeath::broken()</a>, <a class="el" href="explosion_8cpp_source.html#l00657">explosion_handler::emp_blast()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04929">milk_activity_actor::finish()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04412">disable_activity_actor::finish()</a>, <a class="el" href="monattack_8cpp_source.html#l03267">mattack::frag()</a>, <a class="el" href="monattack_8cpp_source.html#l05259">grenade_helper()</a>, <a class="el" href="monattack_8cpp_source.html#l05114">mattack::kamikaze()</a>, <a class="el" href="monexamine_8cpp_source.html#l00473">anonymous_namespace{monexamine.cpp}::milk_source()</a>, <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, <a class="el" href="monattack_8cpp_source.html#l02883">mattack::nurse_operate()</a>, <a class="el" href="monster_8cpp_source.html#l00613">refill_udders()</a>, <a class="el" href="game_8cpp_source.html#l05538">game::revive_corpse()</a>, <a class="el" href="monattack_8cpp_source.html#l03218">mattack::rifle()</a>, <a class="el" href="monattack_8cpp_source.html#l01426">mattack::science()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l01219">gun_actor::shoot()</a>, <a class="el" href="map_8cpp_source.html#l08905">map::spawn_monsters_submap()</a>, <a class="el" href="monattack_8cpp_source.html#l03327">mattack::tankgun()</a>, <a class="el" href="bionics_8cpp_source.html#l02214">Character::uninstall_bionic()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00902">place_monster_iuse::use()</a>.</p>

</div>
</div>
<a id="a11074efaf5980ef21e67507fb97232a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11074efaf5980ef21e67507fb97232a3">&#9670;&nbsp;</a></span>amount_eaten</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::amount_eaten = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00543">543</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l00608">mattack::browse()</a>, <a class="el" href="monster_8cpp_source.html#l00659">digest_food()</a>, <a class="el" href="monattack_8cpp_source.html#l00544">mattack::eat_carrion()</a>, <a class="el" href="monattack_8cpp_source.html#l00338">mattack::eat_crop()</a>, <a class="el" href="monattack_8cpp_source.html#l00504">mattack::eat_food()</a>, <a class="el" href="monattack_8cpp_source.html#l00572">mattack::graze()</a>, <a class="el" href="monexamine_8cpp_source.html#l00928">monexamine::mfriend_menu()</a>, <a class="el" href="monster_8cpp_source.html#l03858">on_load()</a>, <a class="el" href="monexamine_8cpp_source.html#l00578">monexamine::pet_menu()</a>, <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>, <a class="el" href="monster_8cpp_source.html#l00647">reset_digestion()</a>, and <a class="el" href="monster_8cpp_source.html#l00547">try_reproduce()</a>.</p>

</div>
</div>
<a id="a7b22fe8719e4783fe1896429cedefa8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b22fe8719e4783fe1896429cedefa8d">&#9670;&nbsp;</a></span>anger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::anger = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00540">540</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00478">anger_cub_threatened()</a>, <a class="el" href="monmove_8cpp_source.html#l00446">anger_hostile_seen()</a>, <a class="el" href="monmove_8cpp_source.html#l00465">anger_mating_season()</a>, <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="monster_8cpp_source.html#l01450">attitude_to()</a>, <a class="el" href="monattack_8cpp_source.html#l03671">mattack::copbot()</a>, <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="monattack_8cpp_source.html#l02029">mattack::fungus_inject()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00146">talker_monster_const::get_anger()</a>, <a class="el" href="monattack_8cpp_source.html#l05259">grenade_helper()</a>, <a class="el" href="monster_8cpp_source.html#l03758">hear_sound()</a>, <a class="el" href="monster_8cpp_source.html#l01438">is_fleeing()</a>, <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>, <a class="el" href="monattack_8cpp_source.html#l02883">mattack::nurse_operate()</a>, <a class="el" href="monster_8cpp_source.html#l03858">on_load()</a>, <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>, <a class="el" href="monster_8cpp_source.html#l00375">poly()</a>, <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>, <a class="el" href="monster_8cpp_source.html#l01722">process_trigger()</a>, <a class="el" href="monster_8cpp_source.html#l01662">process_triggers()</a>, <a class="el" href="monattack_8cpp_source.html#l01159">mattack::resurrect()</a>, <a class="el" href="monattack_8cpp_source.html#l04386">mattack::riotbot()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00151">talker_monster::set_anger()</a>, <a class="el" href="monattack_8cpp_source.html#l03930">mattack::upgrade()</a>, and <a class="el" href="monster_8cpp_source.html#l01420">witness_thievery()</a>.</p>

</div>
</div>
<a id="ae152269bc060756feb09757c9f8c3f0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae152269bc060756feb09757c9f8c3f0c">&#9670;&nbsp;</a></span>armor_item</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt;<a class="el" href="classitem.html">item</a>&gt; monster::armor_item</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00531">531</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monexamine_8cpp_source.html#l00308">anonymous_namespace{monexamine.cpp}::add_armor()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="monster_8cpp_source.html#l03545">get_carried_weight()</a>, <a class="el" href="monster_8cpp_source.html#l02394">get_worn_armor_val()</a>, <a class="el" href="monster_8cpp_source.html#l00288">monster()</a>, and <a class="el" href="monexamine_8cpp_source.html#l00343">anonymous_namespace{monexamine.cpp}::remove_armor()</a>.</p>

</div>
</div>
<a id="a57becddfeb3be38da4bf6e982c0a3fa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57becddfeb3be38da4bf6e982c0a3fa8">&#9670;&nbsp;</a></span>baby_timer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt;<a class="el" href="classtime__point.html">time_point</a>&gt; monster::baby_timer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00625">625</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, and <a class="el" href="monster_8cpp_source.html#l00547">try_reproduce()</a>.</p>

</div>
</div>
<a id="a5d5bdb6389c0388198bda9530620e4af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d5bdb6389c0388198bda9530620e4af">&#9670;&nbsp;</a></span>battery_item</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt;<a class="el" href="classitem.html">item</a>&gt; monster::battery_item</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00533">533</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02975">check_mech_powered()</a>, <a class="el" href="monexamine_8cpp_source.html#l00530">anonymous_namespace{monexamine.cpp}::insert_battery()</a>, <a class="el" href="monster_8cpp_source.html#l00288">monster()</a>, <a class="el" href="monexamine_8cpp_source.html#l00578">monexamine::pet_menu()</a>, <a class="el" href="monexamine_8cpp_source.html#l00524">anonymous_namespace{monexamine.cpp}::remove_battery()</a>, and <a class="el" href="monster_8cpp_source.html#l02959">use_mech_power()</a>.</p>

</div>
</div>
<a id="a5ef22126311aed7f324e1c19f650295a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ef22126311aed7f324e1c19f650295a">&#9670;&nbsp;</a></span>biosig_timer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt;<a class="el" href="classtime__point.html">time_point</a>&gt; monster::biosig_timer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00627">627</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>, and <a class="el" href="monster_8cpp_source.html#l00672">try_biosignature()</a>.</p>

</div>
</div>
<a id="acce0f9e8bbe3751a3051b9ff6c5acd98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acce0f9e8bbe3751a3051b9ff6c5acd98">&#9670;&nbsp;</a></span>biosignatures</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::biosignatures = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00626">626</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="monster_8cpp_source.html#l00288">monster()</a>, <a class="el" href="monster_8cpp_source.html#l00375">poly()</a>, and <a class="el" href="monster_8cpp_source.html#l00672">try_biosignature()</a>.</p>

</div>
</div>
<a id="aa2dfdd8d67d988b02c1bba9410df7f79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2dfdd8d67d988b02c1bba9410df7f79">&#9670;&nbsp;</a></span>dead</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::dead = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00619">619</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="monster_8cpp_source.html#l03580">is_dead()</a>, and <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>.</p>

</div>
</div>
<a id="af8ac8dd571acf81aad0df01924d335c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8ac8dd571acf81aad0df01924d335c6">&#9670;&nbsp;</a></span>death_drops</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::death_drops = true</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00556">556</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>, <a class="el" href="mondeath_8cpp_source.html#l00059">mdeath::normal()</a>, and <a class="el" href="monattack_8cpp_source.html#l05474">mattack::zombie_fuse()</a>.</p>

</div>
</div>
<a id="a465028b1b8fcd3e2f397549f02cb1719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a465028b1b8fcd3e2f397549f02cb1719">&#9670;&nbsp;</a></span>dissectable_inv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classitem.html">item</a>&gt; monster::dissectable_inv</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00525">525</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, and <a class="el" href="monster_8cpp_source.html#l03590">init_from_item()</a>.</p>

</div>
</div>
<a id="ab00d759ebe29170bf2a166dd155bfeb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab00d759ebe29170bf2a166dd155bfeb2">&#9670;&nbsp;</a></span>dragged_foe_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcharacter__id.html">character_id</a> monster::dragged_foe_id</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00528">528</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l01334">find_dragged_foe()</a>, <a class="el" href="monattack_8cpp_source.html#l02883">mattack::nurse_operate()</a>, and <a class="el" href="monmove_8cpp_source.html#l01357">nursebot_operate()</a>.</p>

</div>
</div>
<a id="a04c74718e60016b199e7cdff71d5aa90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04c74718e60016b199e7cdff71d5aa90">&#9670;&nbsp;</a></span>effect_cache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::bitset&lt;<a class="el" href="monster_8h.html#a84ab55bd738531d991f877a7650b7fd1a5ec6d88e970730e71a4ee4d786a7a761">NUM_MEFF</a>&gt; monster::effect_cache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00654">654</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="monster_8cpp_source.html#l01220">can_see()</a>, <a class="el" href="monster_8cpp_source.html#l01438">is_fleeing()</a>, <a class="el" href="monster_8cpp_source.html#l02205">move_effects()</a>, <a class="el" href="monster_8cpp_source.html#l02200">movement_impaired()</a>, <a class="el" href="monster_8cpp_source.html#l03111">process_one_effect()</a>, <a class="el" href="monster_8cpp_source.html#l02574">reset_bonuses()</a>, and <a class="el" href="monster_8cpp_source.html#l01285">sight_range()</a>.</p>

</div>
</div>
<a id="a8878b1cacf3048e2278c80b58fbd9bf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8878b1cacf3048e2278c80b58fbd9bf1">&#9670;&nbsp;</a></span>enchantment_cache</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpimpl.html">pimpl</a>&lt;<a class="el" href="classenchant__cache.html">enchant_cache</a>&gt; monster::enchantment_cache</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00576">576</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l04016">calculate_by_enchantment()</a>, and <a class="el" href="monster_8cpp_source.html#l03111">process_one_effect()</a>.</p>

</div>
</div>
<a id="a8e30fdb59bcecd8ecb8a609431cb6caf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e30fdb59bcecd8ecb8a609431cb6caf">&#9670;&nbsp;</a></span>faction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="npc_8h.html#a3472a8986ea9d6078ab02871b7791add">mfaction_id</a> monster::faction</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00545">545</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01450">attitude_to()</a>, <a class="el" href="effect__source_8cpp_source.html#l00013">effect_source::effect_source()</a>, <a class="el" href="item_8cpp_source.html#l02131">item::is_owned_by()</a>, <a class="el" href="monster_8cpp_source.html#l03449">make_ally()</a>, <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>, <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>, and <a class="el" href="monattack_8cpp_source.html#l05474">mattack::zombie_fuse()</a>.</p>

</div>
</div>
<a id="a1bcf8c4105ed1ba90775fbdef4afeaf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bcf8c4105ed1ba90775fbdef4afeaf6">&#9670;&nbsp;</a></span>fish_population</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::fish_population = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00569">569</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l01829">iuse::fish_trap_tick()</a>, <a class="el" href="monster_8cpp_source.html#l00288">monster()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l02880">rod_fish()</a>.</p>

</div>
</div>
<a id="a4e17d0d504a12d9b2e4de3e7a7503fff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e17d0d504a12d9b2e4de3e7a7503fff">&#9670;&nbsp;</a></span>friendly</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::friendly = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00539">539</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="math__parser__diag_8cpp_source.html#l00702">anonymous_namespace{math_parser_diag.cpp}::_matches_attitude_filter()</a>, <a class="el" href="mutation_8cpp_source.html#l00739">Character::activate_mutation()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01200">add_summoned_mon()</a>, <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="character_8cpp_source.html#l11349">Character::attitude_to()</a>, <a class="el" href="monster_8cpp_source.html#l01450">attitude_to()</a>, <a class="el" href="monattack_8cpp_source.html#l04223">mattack::blow_whistle()</a>, <a class="el" href="monattack_8cpp_source.html#l04016">mattack::brandish()</a>, <a class="el" href="monattack_8cpp_source.html#l00608">mattack::browse()</a>, <a class="el" href="talker__avatar_8cpp_source.html#l00067">talker_avatar::buy_monster()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l01106">gun_actor::call()</a>, <a class="el" href="monattack_8cpp_source.html#l02605">mattack::callblobs()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04446">disable_activity_actor::can_disable_or_reprogram()</a>, <a class="el" href="monexamine_8cpp_source.html#l00563">Character::can_mount()</a>, <a class="el" href="iuse_8cpp_source.html#l07997">iuse::capture_monster_act()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01412">spell_effect::charm_monster()</a>, <a class="el" href="monattack_8cpp_source.html#l02987">mattack::check_money_left()</a>, <a class="el" href="monattack_8cpp_source.html#l03721">mattack::chickenbot()</a>, <a class="el" href="monattack_8cpp_source.html#l04290">mattack::darkman()</a>, <a class="el" href="iuse_8cpp_source.html#l07916">iuse::directional_hologram()</a>, <a class="el" href="monattack_8cpp_source.html#l02726">mattack::dogthing()</a>, <a class="el" href="monattack_8cpp_source.html#l00504">mattack::eat_food()</a>, <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="npctalk_8cpp_source.html#l05798">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_spawn_monster()</a>, <a class="el" href="game_8cpp_source.html#l12386">game::find_or_make_stairs()</a>, <a class="el" href="monattack_8cpp_source.html#l03581">mattack::flamethrower()</a>, <a class="el" href="monattack_8cpp_source.html#l02497">mattack::formblob()</a>, <a class="el" href="monattack_8cpp_source.html#l02093">mattack::fungus_bristle()</a>, <a class="el" href="monattack_8cpp_source.html#l02179">mattack::fungus_fortify()</a>, <a class="el" href="monattack_8cpp_source.html#l02029">mattack::fungus_inject()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00166">talker_monster_const::get_friendly()</a>, <a class="el" href="monattack_8cpp_source.html#l00572">mattack::graze()</a>, <a class="el" href="monattack_8cpp_source.html#l01724">mattack::grow_vine()</a>, <a class="el" href="monster_8cpp_source.html#l03758">hear_sound()</a>, <a class="el" href="monattack_8cpp_source.html#l00716">mattack::howl()</a>, <a class="el" href="monster_8cpp_source.html#l01324">is_pet()</a>, <a class="el" href="monster_8cpp_source.html#l01163">is_symbol_highlighted()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00590">magical_polymorph()</a>, <a class="el" href="monster_8cpp_source.html#l03449">make_ally()</a>, <a class="el" href="monattack_8cpp_source.html#l00314">make_fake_npc()</a>, <a class="el" href="monster_8cpp_source.html#l03443">make_friendly()</a>, <a class="el" href="monexamine_8cpp_source.html#l00854">monexamine::mech_hack()</a>, <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>, <a class="el" href="monmove_8cpp_source.html#l00426">monster_plan::monster_plan()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00173">avatar_action::move()</a>, <a class="el" href="monster_8cpp_source.html#l02205">move_effects()</a>, <a class="el" href="monattack_8cpp_source.html#l03805">mattack::multi_robot()</a>, <a class="el" href="monattack_8cpp_source.html#l02883">mattack::nurse_operate()</a>, <a class="el" href="monexamine_8cpp_source.html#l00887">monexamine::pay_bot()</a>, <a class="el" href="monattack_8cpp_source.html#l03033">mattack::photograph()</a>, <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>, <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>, <a class="el" href="monattack_8cpp_source.html#l03883">mattack::ratking()</a>, <a class="el" href="monattack_8cpp_source.html#l00748">mattack::rattle()</a>, <a class="el" href="wish_8cpp_source.html#l00686">wish_monster_callback::refresh()</a>, <a class="el" href="iuse_8cpp_source.html#l05311">iuse::robotcontrol_can_target()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00200">talker_monster::set_friendly()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l01219">gun_actor::shoot()</a>, <a class="el" href="map_8cpp_source.html#l08905">map::spawn_monsters_submap()</a>, <a class="el" href="monattack_8cpp_source.html#l01835">mattack::triffid_heartbeat()</a>, <a class="el" href="monster_8cpp_source.html#l00451">try_upgrade()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00902">place_monster_iuse::use()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01575">vehicle::use_harness()</a>, <a class="el" href="melee_8cpp_source.html#l01657">Character::valid_aoe_technique()</a>, <a class="el" href="game_8cpp_source.html#l11966">game::vertical_move()</a>, <a class="el" href="iuse_8cpp_source.html#l04289">iuse::vortex()</a>, <a class="el" href="wish_8cpp_source.html#l00726">debug_menu::wishmonster()</a>, and <a class="el" href="mission_8cpp_source.html#l00373">mission::wrap_up()</a>.</p>

</div>
</div>
<a id="a7c3e07d777236b91713d6db073581dd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c3e07d777236b91713d6db073581dd3">&#9670;&nbsp;</a></span>goal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt;<a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>&gt; monster::goal</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00618">618</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01375">get_dest()</a>, <a class="el" href="monster_8cpp_source.html#l01370">has_dest()</a>, <a class="el" href="monster_8cpp_source.html#l01380">set_dest()</a>, and <a class="el" href="monster_8cpp_source.html#l01388">unset_dest()</a>.</p>

</div>
</div>
<a id="ab867ed85af4f78ffd00d7c525fba796b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab867ed85af4f78ffd00d7c525fba796b">&#9670;&nbsp;</a></span>grabbed_limbs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_set&lt;<a class="el" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>&gt; monster::grabbed_limbs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00519">519</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02505">add_grab()</a>, <a class="el" href="monster_8cpp_source.html#l02519">is_grabbing()</a>, and <a class="el" href="monster_8cpp_source.html#l02511">remove_grab()</a>.</p>

</div>
</div>
<a id="a9a2109e8e8394c4580a7a545ab9c04fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a2109e8e8394c4580a7a545ab9c04fb">&#9670;&nbsp;</a></span>hallucination</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::hallucination = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00567">567</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l03460">is_hallucination()</a>, <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>, and <a class="el" href="wish_8cpp_source.html#l00726">debug_menu::wishmonster()</a>.</p>

</div>
</div>
<a id="a6e59f031b6007370e42a38bc89a2d1c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e59f031b6007370e42a38bc89a2d1c3">&#9670;&nbsp;</a></span>horde_attraction</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022a">monster_horde_attraction</a> monster::horde_attraction = <a class="el" href="monster_8h.html#aa13c8de924aae342f9bcb80fb3e7022aa4ee17bcfcc1218862d5509c8c291b1fb">MHA_NULL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00630">630</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l03818">get_horde_attraction()</a>, <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>, and <a class="el" href="monster_8cpp_source.html#l03826">set_horde_attraction()</a>.</p>

</div>
</div>
<a id="a841238b6cd308ba7b54f5f71e7c2c4d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a841238b6cd308ba7b54f5f71e7c2c4d4">&#9670;&nbsp;</a></span>hp</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int monster::hp = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00616">616</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02169">apply_damage()</a>, <a class="el" href="monster_8cpp_source.html#l02189">die_in_explosion()</a>, <a class="el" href="monster_8cpp_source.html#l02620">explode()</a>, <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="monster_8cpp_source.html#l03743">get_hp()</a>, <a class="el" href="monster_8cpp_source.html#l00789">get_HP_Bar()</a>, <a class="el" href="monster_8cpp_source.html#l02149">heal()</a>, <a class="el" href="monster_8cpp_source.html#l03590">init_from_item()</a>, <a class="el" href="monster_8cpp_source.html#l01865">is_dead_state()</a>, <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>, <a class="el" href="monster_8cpp_source.html#l03858">on_load()</a>, <a class="el" href="monster_8cpp_source.html#l00375">poly()</a>, <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>, <a class="el" href="monster_8cpp_source.html#l02164">set_hp()</a>, and <a class="el" href="monster_8cpp_source.html#l03639">to_item()</a>.</p>

</div>
</div>
<a id="a65cbbc1b321226ed46f86c8a163b657a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65cbbc1b321226ed46f86c8a163b657a">&#9670;&nbsp;</a></span>ignoring</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short monster::ignoring = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00571">571</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="handle__action_8cpp_source.html#l02111">game::do_regular_action()</a>, <a class="el" href="game_8cpp_source.html#l04596">game::mon_info_update()</a>, and <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>.</p>

</div>
</div>
<a id="a275d73e1bf3d08e2ea1a0704ac898f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a275d73e1bf3d08e2ea1a0704ac898f7e">&#9670;&nbsp;</a></span>inv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classitem.html">item</a>&gt; monster::inv</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00524">524</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l03455">add_item()</a>, <a class="el" href="monattack_8cpp_source.html#l02987">mattack::check_money_left()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="monexamine_8cpp_source.html#l00207">anonymous_namespace{monexamine.cpp}::dump_items()</a>, <a class="el" href="monster_8cpp_source.html#l02991">generate_inventory()</a>, <a class="el" href="monster_8cpp_source.html#l03563">get_carried_volume()</a>, <a class="el" href="monster_8cpp_source.html#l03545">get_carried_weight()</a>, <a class="el" href="monster_8cpp_source.html#l03590">init_from_item()</a>, <a class="el" href="monster_8cpp_source.html#l00745">name_with_armor()</a>, <a class="el" href="monexamine_8cpp_source.html#l00578">monexamine::pet_menu()</a>, <a class="el" href="monexamine_8cpp_source.html#l00223">anonymous_namespace{monexamine.cpp}::remove_bag_from()</a>, and <a class="el" href="monattack_8cpp_source.html#l03381">mattack::searchlight()</a>.</p>

</div>
</div>
<a id="af46606649876d6d9978b914694f9ca16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af46606649876d6d9978b914694f9ca16">&#9670;&nbsp;</a></span>lastseen_turn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt;<a class="el" href="classtime__point.html">time_point</a>&gt; monster::lastseen_turn</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00574">574</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l04596">game::mon_info_update()</a>.</p>

</div>
</div>
<a id="ab0adc4673278e497b75a357040ce2739"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0adc4673278e497b75a357040ce2739">&#9670;&nbsp;</a></span>made_footstep</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::made_footstep = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00560">560</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l01428">footsteps()</a>, and <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>.</p>

</div>
</div>
<a id="ac18a1fa7e650a4c2d927d666a10f84aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac18a1fa7e650a4c2d927d666a10f84aa">&#9670;&nbsp;</a></span>mission_fused</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; monster::mission_fused</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00549">549</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="monster_8cpp_source.html#l00864">print_info()</a>, and <a class="el" href="monattack_8cpp_source.html#l05474">mattack::zombie_fuse()</a>.</p>

</div>
</div>
<a id="a01b78cfdda7c7750af4020aa9f0d3994"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01b78cfdda7c7750af4020aa9f0d3994">&#9670;&nbsp;</a></span>mission_ids</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;int&gt; monster::mission_ids</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00547">547</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mission_8cpp_source.html#l00467">mission::is_complete()</a>, <a class="el" href="overmap_8cpp_source.html#l04033">overmap::move_hordes()</a>, <a class="el" href="mission_8cpp_source.html#l00160">mission::on_creature_death()</a>, <a class="el" href="mission_8cpp_source.html#l00243">mission::on_creature_fusion()</a>, <a class="el" href="map_8cpp_source.html#l08905">map::spawn_monsters_submap()</a>, and <a class="el" href="mission_8cpp_source.html#l00373">mission::wrap_up()</a>.</p>

</div>
</div>
<a id="aa25af680aabcc13beba81f0d5410d2ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa25af680aabcc13beba81f0d5410d2ff">&#9670;&nbsp;</a></span>morale</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::morale = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00541">541</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00478">anger_cub_threatened()</a>, <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="monster_8cpp_source.html#l01450">attitude_to()</a>, <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="monster_8cpp_source.html#l03758">hear_sound()</a>, <a class="el" href="monster_8cpp_source.html#l01438">is_fleeing()</a>, <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>, <a class="el" href="monmove_8cpp_source.html#l00426">monster_plan::monster_plan()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00156">talker_monster_const::morale_cur()</a>, <a class="el" href="monster_8cpp_source.html#l03858">on_load()</a>, <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>, <a class="el" href="monster_8cpp_source.html#l00375">poly()</a>, <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>, <a class="el" href="monster_8cpp_source.html#l01722">process_trigger()</a>, <a class="el" href="monster_8cpp_source.html#l01662">process_triggers()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00161">talker_monster::set_morale()</a>, and <a class="el" href="mission_8cpp_source.html#l00373">mission::wrap_up()</a>.</p>

</div>
</div>
<a id="aa07ebef40819868b9f7a86383d6cd8c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa07ebef40819868b9f7a86383d6cd8c3">&#9670;&nbsp;</a></span>mounted_player</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCharacter.html">Character</a>* monster::mounted_player = nullptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00526">526</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="creature_8cpp_source.html#l01535">Creature::add_effect()</a>, <a class="el" href="creature_8cpp_source.html#l03176">Character::add_msg_player_or_say()</a>, <a class="el" href="creature_8cpp_source.html#l00797">Creature::deal_melee_hit()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="npc_8cpp_source.html#l02790">npc::die()</a>, <a class="el" href="character_8cpp_source.html#l01840">Character::dismount()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00772">trapfunc::dissector()</a>, <a class="el" href="monster_8cpp_source.html#l00864">print_info()</a>, and <a class="el" href="game_8cpp_source.html#l11966">game::vertical_move()</a>.</p>

</div>
</div>
<a id="aaac3e97cc65bb74fce0de43c73844aa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaac3e97cc65bb74fce0de43c73844aa9">&#9670;&nbsp;</a></span>mounted_player_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcharacter__id.html">character_id</a> monster::mounted_player_id</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00527">527</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="npc_8cpp_source.html#l02790">npc::die()</a>, <a class="el" href="character_8cpp_source.html#l01840">Character::dismount()</a>, and <a class="el" href="character_8cpp_source.html#l01592">Character::mount_creature()</a>.</p>

</div>
</div>
<a id="abeb3743ffee119ce1507af082bb5a0e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeb3743ffee119ce1507af082bb5a0e0">&#9670;&nbsp;</a></span>next_patrol_point</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int monster::next_patrol_point = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00652">652</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>, and <a class="el" href="monster_8cpp_source.html#l01355">set_patrol_route()</a>.</p>

</div>
</div>
<a id="a7fc9e3a231d3eafe78fa2a296a8ce1f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fc9e3a231d3eafe78fa2a296a8ce1f5">&#9670;&nbsp;</a></span>nickname</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string monster::nickname</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00566">566</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l07649">game::look_around()</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, and <a class="el" href="monattack_8cpp_source.html#l04713">mattack::tindalos_teleport()</a>.</p>

</div>
</div>
<a id="a55f85ad0bf2f4d114107820910a42c0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55f85ad0bf2f4d114107820910a42c0a">&#9670;&nbsp;</a></span>no_corpse_quiet</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::no_corpse_quiet = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00554">554</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01200">add_summoned_mon()</a>, <a class="el" href="mondeath_8cpp_source.html#l00220">mdeath::broken()</a>, <a class="el" href="game_8cpp_source.html#l01427">game::catch_a_monster()</a>, <a class="el" href="monattack_8cpp_source.html#l02439">mattack::depart()</a>, <a class="el" href="npctalk_8cpp_source.html#l05798">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_spawn_monster()</a>, <a class="el" href="mondeath_8cpp_source.html#l00059">mdeath::normal()</a>, and <a class="el" href="monattack_8cpp_source.html#l03033">mattack::photograph()</a>.</p>

</div>
</div>
<a id="a2f9d03ffee51f0193855490a75511596"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f9d03ffee51f0193855490a75511596">&#9670;&nbsp;</a></span>no_extra_death_drops</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::no_extra_death_drops = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00552">552</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01200">add_summoned_mon()</a>, <a class="el" href="monattack_8cpp_source.html#l02439">mattack::depart()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="npctalk_8cpp_source.html#l05798">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_spawn_monster()</a>, <a class="el" href="monster_8cpp_source.html#l02991">generate_inventory()</a>, <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>, <a class="el" href="monattack_8cpp_source.html#l03033">mattack::photograph()</a>, <a class="el" href="monster_8cpp_source.html#l00375">poly()</a>, and <a class="el" href="game_8cpp_source.html#l05538">game::revive_corpse()</a>.</p>

</div>
</div>
<a id="aa162caeeef96c7c0aecca97871435d71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa162caeeef96c7c0aecca97871435d71">&#9670;&nbsp;</a></span>path</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structtripoint.html">tripoint</a>&gt; monster::path</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Found path. </p>
<p>Note: Not used by monsters that don't pathfind! </p>

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00632">632</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="monster_8cpp_source.html#l01364">shift()</a>, <a class="el" href="monmove_8cpp_source.html#l02399">turns_to_reach()</a>, <a class="el" href="monster_8cpp_source.html#l01388">unset_dest()</a>, and <a class="el" href="monmove_8cpp_source.html#l02361">will_reach()</a>.</p>

</div>
</div>
<a id="a5dda3c789745355b4de568d5d346d932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dda3c789745355b4de568d5d346d932">&#9670;&nbsp;</a></span>pathfinding_backoff</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__duration.html">time_duration</a> monster::pathfinding_backoff = 2_seconds</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00636">636</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8h_source.html#l00645">increment_pathfinding_cd()</a>, and <a class="el" href="monster_8h_source.html#l00641">reset_pathfinding_cd()</a>.</p>

</div>
</div>
<a id="a2a072b02f6b004032034c2d553c1867b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a072b02f6b004032034c2d553c1867b">&#9670;&nbsp;</a></span>pathfinding_cd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__point.html">time_point</a> monster::pathfinding_cd = <a class="el" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00635">635</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8h_source.html#l00638">can_pathfind()</a>, <a class="el" href="monster_8h_source.html#l00645">increment_pathfinding_cd()</a>, and <a class="el" href="monster_8h_source.html#l00641">reset_pathfinding_cd()</a>.</p>

</div>
</div>
<a id="ae4ddfd29306c2e768f545aed901be3f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4ddfd29306c2e768f545aed901be3f9">&#9670;&nbsp;</a></span>patrol_route</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>&gt; monster::patrol_route</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>patrol points for monsters that can pathfind and have a patrol route! </p>

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00651">651</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01394">is_wandering()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>, and <a class="el" href="monster_8cpp_source.html#l01355">set_patrol_route()</a>.</p>

</div>
</div>
<a id="a790b213f8c42018dba14f5358644226f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a790b213f8c42018dba14f5358644226f">&#9670;&nbsp;</a></span>provocative_sound</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::provocative_sound = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00522">522</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l03758">hear_sound()</a>, and <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>.</p>

</div>
</div>
<a id="a4ebb9c26fcbaee32919a7cd671761c9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ebb9c26fcbaee32919a7cd671761c9d">&#9670;&nbsp;</a></span>quiet_death</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::quiet_death = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00558">558</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mondeath_8cpp_source.html#l00059">mdeath::normal()</a>, and <a class="el" href="monattack_8cpp_source.html#l05474">mattack::zombie_fuse()</a>.</p>

</div>
</div>
<a id="ad040aa7a065e88de5c26f205a590b6dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad040aa7a065e88de5c26f205a590b6dd">&#9670;&nbsp;</a></span>reproduces</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::reproduces = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00624">624</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="monster_8cpp_source.html#l00288">monster()</a>, <a class="el" href="monster_8cpp_source.html#l00375">poly()</a>, and <a class="el" href="monster_8cpp_source.html#l00547">try_reproduce()</a>.</p>

</div>
</div>
<a id="a939eb403e417f4b0c032e827fecc9ab3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a939eb403e417f4b0c032e827fecc9ab3">&#9670;&nbsp;</a></span>special_attacks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, <a class="el" href="classmon__special__attack.html">mon_special_attack</a>, std::less&lt;&gt; &gt; monster::special_attacks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00617">617</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l02601">disable_special()</a>, <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="monster_8cpp_source.html#l02613">has_special()</a>, <a class="el" href="monster_8cpp_source.html#l00288">monster()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="monster_8cpp_source.html#l03858">on_load()</a>, <a class="el" href="monster_8cpp_source.html#l00375">poly()</a>, <a class="el" href="monster_8cpp_source.html#l02627">process_turn()</a>, <a class="el" href="monster_8cpp_source.html#l02596">set_special()</a>, and <a class="el" href="monster_8cpp_source.html#l02606">special_available()</a>.</p>

</div>
</div>
<a id="a779b1b90c8017ca7d84ae0d3aaab97fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a779b1b90c8017ca7d84ae0d3aaab97fa">&#9670;&nbsp;</a></span>staircount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::staircount = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00579">579</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

</div>
</div>
<a id="aada2988a7383cd60274263184d51303d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aada2988a7383cd60274263184d51303d">&#9670;&nbsp;</a></span>stomach_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::stomach_size = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00542">542</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l00608">mattack::browse()</a>, <a class="el" href="monster_8cpp_source.html#l00659">digest_food()</a>, <a class="el" href="monattack_8cpp_source.html#l00544">mattack::eat_carrion()</a>, <a class="el" href="monattack_8cpp_source.html#l00338">mattack::eat_crop()</a>, <a class="el" href="monattack_8cpp_source.html#l00504">mattack::eat_food()</a>, <a class="el" href="monattack_8cpp_source.html#l00572">mattack::graze()</a>, <a class="el" href="monexamine_8cpp_source.html#l00928">monexamine::mfriend_menu()</a>, <a class="el" href="monster_8cpp_source.html#l00288">monster()</a>, <a class="el" href="monexamine_8cpp_source.html#l00578">monexamine::pet_menu()</a>, and <a class="el" href="monster_8cpp_source.html#l00547">try_reproduce()</a>.</p>

</div>
</div>
<a id="af2ce96fae9d4693c77d3bd60cee9a452"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2ce96fae9d4693c77d3bd60cee9a452">&#9670;&nbsp;</a></span>stomach_timer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__point.html">time_point</a> monster::stomach_timer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00629">629</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00659">digest_food()</a>, <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>, and <a class="el" href="monster_8cpp_source.html#l00647">reset_digestion()</a>.</p>

</div>
</div>
<a id="ab0eaba81bb3c25eecea173d9074f5521"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0eaba81bb3c25eecea173d9074f5521">&#9670;&nbsp;</a></span>storage_item</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt;<a class="el" href="classitem.html">item</a>&gt; monster::storage_item</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00532">532</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monexamine_8cpp_source.html#l00169">anonymous_namespace{monexamine.cpp}::attach_bag_to()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="monster_8cpp_source.html#l03545">get_carried_weight()</a>, <a class="el" href="monexamine_8cpp_source.html#l00241">anonymous_namespace{monexamine.cpp}::give_items_to()</a>, <a class="el" href="monexamine_8cpp_source.html#l00223">anonymous_namespace{monexamine.cpp}::remove_bag_from()</a>, and <a class="el" href="activity__actor_8cpp_source.html#l04314">stash_on_pet()</a>.</p>

</div>
</div>
<a id="a662acdf990147854bad39a7c128afcaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a662acdf990147854bad39a7c128afcaa">&#9670;&nbsp;</a></span>tack_item</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt;<a class="el" href="classitem.html">item</a>&gt; monster::tack_item</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00530">530</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monexamine_8cpp_source.html#l00082">anonymous_namespace{monexamine.cpp}::attach_saddle_to()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="monster_8cpp_source.html#l03545">get_carried_weight()</a>, <a class="el" href="monster_8cpp_source.html#l00288">monster()</a>, and <a class="el" href="monexamine_8cpp_source.html#l00097">anonymous_namespace{monexamine.cpp}::remove_saddle_from()</a>.</p>

</div>
</div>
<a id="a2881507933646bca97ef83c7112595ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2881507933646bca97ef83c7112595ac">&#9670;&nbsp;</a></span>tied_item</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt;<a class="el" href="classitem.html">item</a>&gt; monster::tied_item</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00529">529</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monexamine_8cpp_source.html#l00378">anonymous_namespace{monexamine.cpp}::add_leash()</a>, <a class="el" href="creature_8cpp_source.html#l00854">projectile::apply_effects_damage()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="monster_8cpp_source.html#l00288">monster()</a>, <a class="el" href="character_8cpp_source.html#l01592">Character::mount_creature()</a>, <a class="el" href="monster_8cpp_source.html#l02205">move_effects()</a>, <a class="el" href="monexamine_8cpp_source.html#l00409">anonymous_namespace{monexamine.cpp}::remove_leash()</a>, and <a class="el" href="vehicle__use_8cpp_source.html#l01575">vehicle::use_harness()</a>.</p>

</div>
</div>
<a id="a9653c5f9353177ecee5aff0197af2fcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9653c5f9353177ecee5aff0197af2fcc">&#9670;&nbsp;</a></span>turns_since_target</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int monster::turns_since_target = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00655">655</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>.</p>

</div>
</div>
<a id="aa30f973bf524ba275ada847f6118b048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa30f973bf524ba275ada847f6118b048">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structmtype.html">mtype</a>* monster::type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00550">550</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l01875">absorb_hit()</a>, <a class="el" href="monattack_8cpp_source.html#l00415">mattack::absorb_items()</a>, <a class="el" href="monattack_8cpp_source.html#l00821">mattack::acid_barf()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00068">creature_tracker::add()</a>, <a class="el" href="monmove_8cpp_source.html#l00478">anger_cub_threatened()</a>, <a class="el" href="creature_8cpp_source.html#l01415">Creature::attack_air()</a>, <a class="el" href="monmove_8cpp_source.html#l01778">attack_at()</a>, <a class="el" href="monster_8cpp_source.html#l01496">attitude()</a>, <a class="el" href="monster_8cpp_source.html#l01186">avoid_trap()</a>, <a class="el" href="monmove_8cpp_source.html#l01730">bash_skill()</a>, <a class="el" href="monster_8cpp_source.html#l01153">basic_symbol_color()</a>, <a class="el" href="monattack_8cpp_source.html#l05040">mattack::bio_op_disarm()</a>, <a class="el" href="monattack_8cpp_source.html#l04962">mattack::bio_op_impale()</a>, <a class="el" href="monattack_8cpp_source.html#l04853">mattack::bio_op_takedown()</a>, <a class="el" href="monster_8cpp_source.html#l03488">bloodType()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00124">talker_monster_const::bodytype()</a>, <a class="el" href="monattack_8cpp_source.html#l03988">mattack::breathe()</a>, <a class="el" href="mondeath_8cpp_source.html#l00220">mdeath::broken()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00673">melee_actor::call()</a>, <a class="el" href="iuse_8cpp_source.html#l06517">iuse::camera()</a>, <a class="el" href="monster_8cpp_source.html#l02494">can_attack_high()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04446">disable_activity_actor::can_disable_or_reprogram()</a>, <a class="el" href="character_8cpp_source.html#l07836">Character::can_wield()</a>, <a class="el" href="iuse_8cpp_source.html#l07997">iuse::capture_monster_act()</a>, <a class="el" href="game_8cpp_source.html#l01427">game::catch_a_monster()</a>, <a class="el" href="npctalk_8cpp_source.html#l00797">game::chat()</a>, <a class="el" href="monster_8cpp_source.html#l02975">check_mech_powered()</a>, <a class="el" href="monster_8cpp_source.html#l01168">color_with_effects()</a>, <a class="el" href="weakpoint_8cpp_source.html#l00355">weakpoint_attack::compute_wp_skill()</a>, <a class="el" href="iuse_8cpp_source.html#l07979">item::contain_monster()</a>, <a class="el" href="monattack_8cpp_source.html#l03671">mattack::copbot()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00398">trapfunc::crossbow()</a>, <a class="el" href="monster_8cpp_source.html#l02097">deal_projectile_attack()</a>, <a class="el" href="monattack_8cpp_source.html#l02313">mattack::dermatik()</a>, <a class="el" href="monster_8cpp_source.html#l02742">die()</a>, <a class="el" href="game_8cpp_source.html#l10373">game::disable_robot()</a>, <a class="el" href="mondeath_8cpp_source.html#l00213">mdeath::disappear()</a>, <a class="el" href="character_8cpp_source.html#l01840">Character::dismount()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00772">trapfunc::dissector()</a>, <a class="el" href="animation_8cpp_source.html#l00554">anonymous_namespace{animation.cpp}::draw_hit_mon_curses()</a>, <a class="el" href="monster_8cpp_source.html#l03016">drop_items_on_death()</a>, <a class="el" href="monattack_8cpp_source.html#l00504">mattack::eat_food()</a>, <a class="el" href="iuse_8cpp_source.html#l05497">iuse::einktabletpc()</a>, <a class="el" href="explosion_8cpp_source.html#l00657">explosion_handler::emp_blast()</a>, <a class="el" href="npcmove_8cpp_source.html#l00467">npc::evaluate_monster()</a>, <a class="el" href="monattack_8cpp_source.html#l04590">mattack::evolve_kill_strike()</a>, <a class="el" href="game_8cpp_source.html#l06188">game::examine()</a>, <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="npctalk_8cpp_source.html#l03534">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_location_variable()</a>, <a class="el" href="npctalk_8cpp_source.html#l05250">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_run_monster_eocs()</a>, <a class="el" href="npctalk_8cpp_source.html#l05798">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_spawn_monster()</a>, <a class="el" href="monster_8cpp_source.html#l02524">fall_damage_mod()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04929">milk_activity_actor::finish()</a>, <a class="el" href="activity__actor_8cpp_source.html#l05064">shearing_activity_actor::finish()</a>, <a class="el" href="iuse_8cpp_source.html#l01829">iuse::fish_trap_tick()</a>, <a class="el" href="monattack_8cpp_source.html#l04032">mattack::flesh_golem()</a>, <a class="el" href="monattack_8cpp_source.html#l04755">mattack::flesh_tendril()</a>, <a class="el" href="game_8cpp_source.html#l11735">game::fling_creature()</a>, <a class="el" href="monmove_8cpp_source.html#l01428">footsteps()</a>, <a class="el" href="game_8cpp_source.html#l05671">game::forced_door_closing()</a>, <a class="el" href="monattack_8cpp_source.html#l02497">mattack::formblob()</a>, <a class="el" href="monattack_8cpp_source.html#l03267">mattack::frag()</a>, <a class="el" href="fungal__effects_8cpp_source.html#l00058">fungal_effects::fungalize()</a>, <a class="el" href="iuse_8cpp_source.html#l00665">iuse::fungicide()</a>, <a class="el" href="monattack_8cpp_source.html#l02093">mattack::fungus_bristle()</a>, <a class="el" href="monattack_8cpp_source.html#l02179">mattack::fungus_fortify()</a>, <a class="el" href="monattack_8cpp_source.html#l02029">mattack::fungus_inject()</a>, <a class="el" href="monster_8cpp_source.html#l02991">generate_inventory()</a>, <a class="el" href="monster_8cpp_source.html#l01345">get_absorb_material()</a>, <a class="el" href="monster_8cpp_source.html#l02405">get_armor_type()</a>, <a class="el" href="monster_8cpp_source.html#l02415">get_dodge_base()</a>, <a class="el" href="monster_8cpp_source.html#l01657">get_eff_per()</a>, <a class="el" href="monster_8cpp_source.html#l02500">get_grab_strength()</a>, <a class="el" href="monster_8cpp_source.html#l02410">get_hit_base()</a>, <a class="el" href="monster_8cpp_source.html#l00789">get_HP_Bar()</a>, <a class="el" href="monster_8cpp_source.html#l03733">get_hp_max()</a>, <a class="el" href="monster_8cpp_source.html#l02484">get_melee()</a>, <a class="el" href="monster_8cpp_source.html#l03753">get_mountable_weight_ratio()</a>, <a class="el" href="monster_8cpp_source.html#l01350">get_no_absorb_material()</a>, <a class="el" href="monster_8cpp_source.html#l03981">get_pathfinding_settings()</a>, <a class="el" href="monster_8cpp_source.html#l03503">get_size()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00220">talker_monster_const::get_topics()</a>, <a class="el" href="monster_8cpp_source.html#l03518">get_volume()</a>, <a class="el" href="monster_8cpp_source.html#l03508">get_weight()</a>, <a class="el" href="monster_8cpp_source.html#l03495">gibType()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00731">trapfunc::goo()</a>, <a class="el" href="iuse_8cpp_source.html#l03274">iuse::granade_act()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01498">spell_effect::guilt()</a>, <a class="el" href="ranged_8cpp_source.html#l04010">gunmode_checks_weapon()</a>, <a class="el" href="item_8cpp_source.html#l06595">item::handle_pickup_ownership()</a>, <a class="el" href="monster_8cpp_source.html#l01202">has_flag()</a>, <a class="el" href="monattack_8cpp_source.html#l01746">has_vine_parent()</a>, <a class="el" href="monster_8cpp_source.html#l00405">hasten_upgrade()</a>, <a class="el" href="monster_8cpp_source.html#l02149">heal()</a>, <a class="el" href="monattack_8cpp_source.html#l00716">mattack::howl()</a>, <a class="el" href="monster_8cpp_source.html#l01770">in_species()</a>, <a class="el" href="monster_8cpp_source.html#l03590">init_from_item()</a>, <a class="el" href="monster_8cpp_source.html#l01829">is_immune_damage()</a>, <a class="el" href="monster_8cpp_source.html#l01780">is_immune_effect()</a>, <a class="el" href="monmove_8cpp_source.html#l00093">is_immune_field()</a>, <a class="el" href="creature_8cpp_source.html#l00309">Creature::is_ranged_attacker()</a>, <a class="el" href="monmove_8cpp_source.html#l02280">knock_back_to()</a>, <a class="el" href="monmove_8cpp_source.html#l00237">know_danger_at()</a>, <a class="el" href="monattack_8cpp_source.html#l04148">mattack::lunge()</a>, <a class="el" href="monster_8cpp_source.html#l01304">made_of()</a>, <a class="el" href="monster_8cpp_source.html#l01309">made_of_any()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00590">magical_polymorph()</a>, <a class="el" href="monster_8cpp_source.html#l01849">make_bleed()</a>, <a class="el" href="monster_8cpp_source.html#l03413">make_fungus()</a>, <a class="el" href="mondeath_8cpp_source.html#l00284">make_mon_corpse()</a>, <a class="el" href="monmove_8cpp_source.html#l00501">mating_angry()</a>, <a class="el" href="monster_8cpp_source.html#l02970">mech_str_addition()</a>, <a class="el" href="monster_8cpp_source.html#l01903">melee_attack()</a>, <a class="el" href="melee_8cpp_source.html#l00590">Character::melee_attack_abstract()</a>, <a class="el" href="monexamine_8cpp_source.html#l00928">monexamine::mfriend_menu()</a>, <a class="el" href="monexamine_8cpp_source.html#l00473">anonymous_namespace{monexamine.cpp}::milk_source()</a>, <a class="el" href="math__parser__diag_8cpp_source.html#l00691">anonymous_namespace{math_parser_diag.cpp}::mon_check_group()</a>, <a class="el" href="math__parser__diag_8cpp_source.html#l00681">anonymous_namespace{math_parser_diag.cpp}::mon_check_id()</a>, <a class="el" href="game_8cpp_source.html#l04596">game::mon_info_update()</a>, <a class="el" href="monster_8cpp_source.html#l00288">monster()</a>, <a class="el" href="map__field_8cpp_source.html#l01819">map::monster_in_field()</a>, <a class="el" href="monmove_8cpp_source.html#l00135">monster_move_in_vehicle()</a>, <a class="el" href="monmove_8cpp_source.html#l00426">monster_plan::monster_plan()</a>, <a class="el" href="character_8cpp_source.html#l01592">Character::mount_creature()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="monster_8cpp_source.html#l02205">move_effects()</a>, <a class="el" href="overmap_8cpp_source.html#l04033">overmap::move_hordes()</a>, <a class="el" href="monmove_8cpp_source.html#l01852">move_to()</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="monster_8cpp_source.html#l00431">next_upgrade_time()</a>, <a class="el" href="mondeath_8cpp_source.html#l00059">mdeath::normal()</a>, <a class="el" href="monattack_8cpp_source.html#l02883">mattack::nurse_operate()</a>, <a class="el" href="monmove_8cpp_source.html#l01357">nursebot_operate()</a>, <a class="el" href="monster_8cpp_source.html#l03679">on_hit()</a>, <a class="el" href="monster_8cpp_source.html#l03858">on_load()</a>, <a class="el" href="monexamine_8cpp_source.html#l00297">anonymous_namespace{monexamine.cpp}::pet_armor_loc()</a>, <a class="el" href="monexamine_8cpp_source.html#l00578">monexamine::pet_menu()</a>, <a class="el" href="iuse_8cpp_source.html#l06109">photo_def_for_camera_point()</a>, <a class="el" href="monattack_8cpp_source.html#l03033">mattack::photograph()</a>, <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>, <a class="el" href="monexamine_8cpp_source.html#l00360">anonymous_namespace{monexamine.cpp}::play_with()</a>, <a class="el" href="monster_8cpp_source.html#l00375">poly()</a>, <a class="el" href="monster_8cpp_source.html#l00864">print_info()</a>, <a class="el" href="monster_8cpp_source.html#l03204">process_effects()</a>, <a class="el" href="monster_8cpp_source.html#l01722">process_trigger()</a>, <a class="el" href="monster_8cpp_source.html#l01662">process_triggers()</a>, <a class="el" href="monster_8cpp_source.html#l02627">process_turn()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00699">rate_critter()</a>, <a class="el" href="monster_8cpp_source.html#l00613">refill_udders()</a>, <a class="el" href="wish_8cpp_source.html#l00686">wish_monster_callback::refresh()</a>, <a class="el" href="monster_8cpp_source.html#l02586">reset_special()</a>, <a class="el" href="monster_8cpp_source.html#l02591">reset_special_rng()</a>, <a class="el" href="monattack_8cpp_source.html#l01159">mattack::resurrect()</a>, <a class="el" href="mondefense_8cpp_source.html#l00144">mdefense::return_fire()</a>, <a class="el" href="monattack_8cpp_source.html#l04386">mattack::riotbot()</a>, <a class="el" href="iuse_8cpp_source.html#l05311">iuse::robotcontrol_can_target()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02880">rod_fish()</a>, <a class="el" href="monmove_8cpp_source.html#l01475">scent_move()</a>, <a class="el" href="monattack_8cpp_source.html#l03381">mattack::searchlight()</a>, <a class="el" href="creature_8cpp_source.html#l00358">Creature::sees()</a>, <a class="el" href="monster_8cpp_source.html#l01314">shearable()</a>, <a class="el" href="talker__monster_8cpp_source.html#l00141">talker_monster_const::short_description()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00496">trapfunc::shotgun()</a>, <a class="el" href="monster_8cpp_source.html#l01285">sight_range()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01809">spell_effect::slime_split_on_death()</a>, <a class="el" href="monattack_8cpp_source.html#l01324">mattack::smash()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00642">trapfunc::snare_heavy()</a>, <a class="el" href="monster_8cpp_source.html#l03081">spawn_dissectables_on_death()</a>, <a class="el" href="map_8cpp_source.html#l08905">map::spawn_monsters_submap()</a>, <a class="el" href="monster_8cpp_source.html#l03662">speed_rating()</a>, <a class="el" href="mondeath_8cpp_source.html#l00139">mdeath::splatter()</a>, <a class="el" href="monattack_8cpp_source.html#l00391">mattack::split()</a>, <a class="el" href="monster_8cpp_source.html#l02435">stability_roll()</a>, <a class="el" href="monattack_8cpp_source.html#l05399">mattack::stretch_attack()</a>, <a class="el" href="monster_8cpp_source.html#l01148">symbol()</a>, <a class="el" href="monster_8cpp_source.html#l03639">to_item()</a>, <a class="el" href="monster_8cpp_source.html#l00672">try_biosignature()</a>, <a class="el" href="monster_8cpp_source.html#l00547">try_reproduce()</a>, <a class="el" href="monster_8cpp_source.html#l00451">try_upgrade()</a>, <a class="el" href="monattack_8cpp_source.html#l03930">mattack::upgrade()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00902">place_monster_iuse::use()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01575">vehicle::use_harness()</a>, <a class="el" href="weakpoint_8cpp_source.html#l00072">weakpoint_skill()</a>, and <a class="el" href="monster_8cpp_source.html#l03513">weight_capacity()</a>.</p>

</div>
</div>
<a id="afddce3b0ff89fefe1d36b256bf9a03d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afddce3b0ff89fefe1d36b256bf9a03d0">&#9670;&nbsp;</a></span>udder_timer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__point.html">time_point</a> monster::udder_timer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00628">628</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>, and <a class="el" href="monster_8cpp_source.html#l00613">refill_udders()</a>.</p>

</div>
</div>
<a id="a5e50554c4210ec2a15d9ed44e61bcf3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e50554c4210ec2a15d9ed44e61bcf3a">&#9670;&nbsp;</a></span>unique_name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string monster::unique_name</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00564">564</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="talker__avatar_8cpp_source.html#l00067">talker_avatar::buy_monster()</a>, <a class="el" href="activity__actor_8cpp_source.html#l05064">shearing_activity_actor::finish()</a>, <a class="el" href="mondeath_8cpp_source.html#l00284">make_mon_corpse()</a>, <a class="el" href="monster_8cpp_source.html#l00722">name()</a>, <a class="el" href="monexamine_8cpp_source.html#l00158">anonymous_namespace{monexamine.cpp}::rename_pet()</a>, <a class="el" href="map_8cpp_source.html#l08905">map::spawn_monsters_submap()</a>, <a class="el" href="mondeath_8cpp_source.html#l00139">mdeath::splatter()</a>, and <a class="el" href="activity__actor_8cpp_source.html#l04992">shearing_activity_actor::start()</a>.</p>

</div>
</div>
<a id="a0ca12eea14dc733e023e5f83ef2dbf4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ca12eea14dc733e023e5f83ef2dbf4e">&#9670;&nbsp;</a></span>upgrade_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int monster::upgrade_time = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00623">623</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00424">allow_upgrade()</a>, <a class="el" href="monster_8cpp_source.html#l00958">extended_description()</a>, <a class="el" href="monster_8cpp_source.html#l00418">get_upgrade_time()</a>, <a class="el" href="monster_8cpp_source.html#l00405">hasten_upgrade()</a>, <a class="el" href="monster_8cpp_source.html#l03590">init_from_item()</a>, <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>, and <a class="el" href="monster_8cpp_source.html#l00451">try_upgrade()</a>.</p>

</div>
</div>
<a id="a62679e1efa30cbc49d0ac34082171ed5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62679e1efa30cbc49d0ac34082171ed5">&#9670;&nbsp;</a></span>upgrades</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool monster::upgrades = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00622">622</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00399">can_upgrade()</a>, <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>, <a class="el" href="monster_8cpp_source.html#l00431">next_upgrade_time()</a>, <a class="el" href="monster_8cpp_source.html#l00375">poly()</a>, and <a class="el" href="monster_8cpp_source.html#l00451">try_upgrade()</a>.</p>

</div>
</div>
<a id="a56a49e970812e2317cc67035c33fa96f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56a49e970812e2317cc67035c33fa96f">&#9670;&nbsp;</a></span>wander_pos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> monster::wander_pos</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00521">521</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>, <a class="el" href="map_8cpp_source.html#l08762">map::spawn_monsters_submap_group()</a>, <a class="el" href="monster_8cpp_source.html#l01399">wander_to()</a>, and <a class="el" href="monmove_8cpp_source.html#l02361">will_reach()</a>.</p>

</div>
</div>
<a id="a88c30bfeb57c6d44b965f92265fc16d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88c30bfeb57c6d44b965f92265fc16d2">&#9670;&nbsp;</a></span>wandf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monster::wandf = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monster_8h_source.html#l00523">523</a> of file <a class="el" href="monster_8h_source.html">monster.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l07916">iuse::directional_hologram()</a>, <a class="el" href="monster_8cpp_source.html#l03758">hear_sound()</a>, <a class="el" href="monster_8cpp_source.html#l00260">monster()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">move()</a>, <a class="el" href="monmove_8cpp_source.html#l00517">plan()</a>, <a class="el" href="monster_8cpp_source.html#l01399">wander_to()</a>, and <a class="el" href="monmove_8cpp_source.html#l02361">will_reach()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="monster_8h_source.html">monster.h</a></li>
<li>src/<a class="el" href="monmove_8cpp_source.html">monmove.cpp</a></li>
<li>src/<a class="el" href="monster_8cpp_source.html">monster.cpp</a></li>
<li>src/<a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a></li>
<li>src/<a class="el" href="weakpoint_8cpp_source.html">weakpoint.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:42 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
