<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: src/crafting_gui.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">crafting_gui.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="crafting__gui_8h_source.html">crafting_gui.h</a>&quot;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
<code>#include &lt;cstddef&gt;</code><br />
<code>#include &lt;cstring&gt;</code><br />
<code>#include &lt;functional&gt;</code><br />
<code>#include &lt;iterator&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;optional&gt;</code><br />
<code>#include &lt;set&gt;</code><br />
<code>#include &lt;sstream&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;string_view&gt;</code><br />
<code>#include &lt;type_traits&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &quot;<a class="el" href="calendar_8h_source.html">calendar.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cata__utility_8h_source.html">cata_utility.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="catacharset_8h_source.html">catacharset.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="character_8h_source.html">character.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="character__id_8h_source.html">character_id.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="color_8h_source.html">color.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="crafting_8h_source.html">crafting.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cuboid__rectangle_8h_source.html">cuboid_rectangle.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cursesdef_8h_source.html">cursesdef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="debug_8h_source.html">debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="display_8h_source.html">display.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="flag_8h_source.html">flag.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="flat__set_8h_source.html">flat_set.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="flexbuffer__json-inl_8h_source.html">flexbuffer_json-inl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="flexbuffer__json_8h_source.html">flexbuffer_json.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="game__constants_8h_source.html">game_constants.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="game__inventory_8h_source.html">game_inventory.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="input_8h_source.html">input.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="input__context_8h_source.html">input_context.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="input__enums_8h_source.html">input_enums.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="inventory_8h_source.html">inventory.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="inventory__ui_8h_source.html">inventory_ui.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="item_8h_source.html">item.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="item__factory_8h_source.html">item_factory.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="item__location_8h_source.html">item_location.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="itype_8h_source.html">itype.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="localized__comparator_8h_source.html">localized_comparator.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="options_8h_source.html">options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="output_8h_source.html">output.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="point_8h_source.html">point.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="popup_8h_source.html">popup.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="recipe_8h_source.html">recipe.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="recipe__dictionary_8h_source.html">recipe_dictionary.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="requirements_8h_source.html">requirements.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="skill_8h_source.html">skill.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="string__formatter_8h_source.html">string_formatter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="string__input__popup_8h_source.html">string_input_popup.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="translation_8h_source.html">translation.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="translation__cache_8h_source.html">translation_cache.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="translations_8h_source.html">translations.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="type__id_8h_source.html">type_id.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ui_8h_source.html">ui.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="uistate_8h_source.html">uistate.h</a>&quot;</code><br />
</div>
<p><a href="crafting__gui_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structanonymous__namespace_02crafting__gui_8cpp_03_1_1availability.html">anonymous_namespace{crafting_gui.cpp}::availability</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrecipe__result__info__cache.html">recipe_result_info_cache</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrecipe__info__cache.html">recipe_info_cache</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structitem__info__cache.html">item_info_cache</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structanonymous__namespace_02crafting__gui_8cpp_03_1_1SearchPrefix.html">anonymous_namespace{crafting_gui.cpp}::SearchPrefix</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceanonymous__namespace_02crafting__gui_8cpp_03"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02crafting__gui_8cpp_03.html">anonymous_namespace{crafting_gui.cpp}</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a85d81375d681a4e56a25b42f9f753cde"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cde">TAB_MODE</a> { <a class="el" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdea50d1448013c6f17125caee18aa418af7">NORMAL</a>
, <a class="el" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdeab0f4e80b9200bdfca611883a5bb2cecb">FILTERED</a>
, <a class="el" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdeabc04848b2d94351b99f92127e29bb075">BATCH</a>
 }</td></tr>
<tr class="separator:a85d81375d681a4e56a25b42f9f753cde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e43c9f74f26ed29a56b7604423c5df7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7">CRAFTING_SPEED_STATE</a> { <br />
&#160;&#160;<a class="el" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7ab3bd1be5e1c57878bbe9bfc395a282de">TOO_DARK_TO_CRAFT</a>
, <a class="el" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7af94eb213c963484ed2c22f6a1b1c3758">TOO_SLOW_TO_CRAFT</a>
, <a class="el" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7a6e7c3222d17b91d3f5858c3a5e159516">SLOW_BUT_CRAFTABLE</a>
, <a class="el" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7afe1c60a78bf3305361842c78b834fdaa">FAST_CRAFTING</a>
, <br />
&#160;&#160;<a class="el" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7ab5b361cc749c5ec246646fffab4332f2">NORMAL_CRAFTING</a>
<br />
 }</td></tr>
<tr class="separator:a0e43c9f74f26ed29a56b7604423c5df7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a54ac13f9e7249edeaee765f5a60e8788"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a54ac13f9e7249edeaee765f5a60e8788">flag_AFFECTED_BY_PAIN</a> (&quot;AFFECTED_BY_PAIN&quot;)</td></tr>
<tr class="separator:a54ac13f9e7249edeaee765f5a60e8788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82b84a91dff6914a85f043f856341c9a"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a82b84a91dff6914a85f043f856341c9a">flag_BLIND_EASY</a> (&quot;BLIND_EASY&quot;)</td></tr>
<tr class="separator:a82b84a91dff6914a85f043f856341c9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca65d188b99ba28b7aa105b7ed7bd077"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#aca65d188b99ba28b7aa105b7ed7bd077">flag_BLIND_HARD</a> (&quot;BLIND_HARD&quot;)</td></tr>
<tr class="separator:aca65d188b99ba28b7aa105b7ed7bd077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4806094ba6d128566c88713330de8b74"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a4806094ba6d128566c88713330de8b74">flag_NO_MANIP</a> (&quot;NO_MANIP&quot;)</td></tr>
<tr class="separator:a4806094ba6d128566c88713330de8b74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2d1ea16753e055ea82f24e431dfa775"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#aa2d1ea16753e055ea82f24e431dfa775">query_is_yes</a> (std::string_view query)</td></tr>
<tr class="separator:aa2d1ea16753e055ea82f24e431dfa775"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a617c94a2fbd871936182c0cb18ca62ba"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a617c94a2fbd871936182c0cb18ca62ba">draw_hidden_amount</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, int amount, int num_recipe)</td></tr>
<tr class="separator:a617c94a2fbd871936182c0cb18ca62ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a565811ca311d0ecb089df0bf324fb40c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a565811ca311d0ecb089df0bf324fb40c">draw_can_craft_indicator</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, const <a class="el" href="classrecipe.html">recipe</a> &amp;rec, <a class="el" href="classCharacter.html">Character</a> &amp;crafter)</td></tr>
<tr class="separator:a565811ca311d0ecb089df0bf324fb40c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27baf6e831488479b228dfcf8afaa451"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt; size_t, <a class="el" href="structinclusive__rectangle.html">inclusive_rectangle</a>&lt; <a class="el" href="structpoint.html">point</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a27baf6e831488479b228dfcf8afaa451">draw_recipe_tabs</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, const <a class="el" href="classtab__list.html">tab_list</a> &amp;tab, <a class="el" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cde">TAB_MODE</a> mode, bool filtered_unread, <a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt; <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>, bool &gt; &amp;unread)</td></tr>
<tr class="separator:a27baf6e831488479b228dfcf8afaa451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef8a9c446d871dc74175076ec78918fb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt; size_t, <a class="el" href="structinclusive__rectangle.html">inclusive_rectangle</a>&lt; <a class="el" href="structpoint.html">point</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#aef8a9c446d871dc74175076ec78918fb">draw_recipe_subtabs</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &amp;tab, size_t subtab, const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp;available_recipes, <a class="el" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cde">TAB_MODE</a> mode, <a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt; <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>, bool &gt; &amp;unread)</td></tr>
<tr class="separator:aef8a9c446d871dc74175076ec78918fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd6a4642380025007e2aeec05116389a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#acd6a4642380025007e2aeec05116389a">choose_crafter</a> (const std::vector&lt; <a class="el" href="classCharacter.html">Character</a> * &gt; &amp;crafting_group, int crafter_i, const <a class="el" href="classrecipe.html">recipe</a> *rec, bool rec_valid)</td></tr>
<tr class="memdesc:acd6a4642380025007e2aeec05116389a"><td class="mdescLeft">&#160;</td><td class="mdescRight">return index of newly chosen crafter.  <a href="crafting__gui_8cpp.html#acd6a4642380025007e2aeec05116389a">More...</a><br /></td></tr>
<tr class="separator:acd6a4642380025007e2aeec05116389a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9e5daeb774429a851e2c749b657204a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#ab9e5daeb774429a851e2c749b657204a">peek_related_recipe</a> (const <a class="el" href="classrecipe.html">recipe</a> *current, const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp;available, <a class="el" href="classCharacter.html">Character</a> &amp;crafter)</td></tr>
<tr class="separator:ab9e5daeb774429a851e2c749b657204a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8888fc821692b5bfd3e8f70b0850355a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a8888fc821692b5bfd3e8f70b0850355a">related_menu_fill</a> (<a class="el" href="classuilist.html">uilist</a> &amp;rmenu, const std::vector&lt; std::pair&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &gt;&gt; &amp;related_recipes, const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp;available)</td></tr>
<tr class="separator:a8888fc821692b5bfd3e8f70b0850355a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a816200b489267c27fac27b5261f1b764"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a816200b489267c27fac27b5261f1b764">get_recipe_result_item</a> (const <a class="el" href="classrecipe.html">recipe</a> &amp;rec, <a class="el" href="classCharacter.html">Character</a> &amp;crafter)</td></tr>
<tr class="separator:a816200b489267c27fac27b5261f1b764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b5801d3a34aab98bef0ab1ef9b7dcc3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a9b5801d3a34aab98bef0ab1ef9b7dcc3">compare_recipe_with_item</a> (const <a class="el" href="classitem.html">item</a> &amp;recipe_item, <a class="el" href="classCharacter.html">Character</a> &amp;crafter)</td></tr>
<tr class="separator:a9b5801d3a34aab98bef0ab1ef9b7dcc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2baf06a421262c877057f32edfb0e90"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#aa2baf06a421262c877057f32edfb0e90">get_cat_unprefixed</a> (const std::string_view prefixed_name)</td></tr>
<tr class="separator:aa2baf06a421262c877057f32edfb0e90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a630a6f0102b218ecf44dcb5615f2173e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a630a6f0102b218ecf44dcb5615f2173e">load_recipe_category</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jsobj)</td></tr>
<tr class="separator:a630a6f0102b218ecf44dcb5615f2173e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ddca9d195789dc97434d31d9dfdb41d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a1ddca9d195789dc97434d31d9dfdb41d">get_subcat_unprefixed</a> (const std::string_view cat, const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &amp;prefixed_name)</td></tr>
<tr class="separator:a1ddca9d195789dc97434d31d9dfdb41d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8ee3f5b0aa324d4db5e0af57f80ee3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#af8ee3f5b0aa324d4db5e0af57f80ee3b">reset_recipe_categories</a> ()</td></tr>
<tr class="separator:af8ee3f5b0aa324d4db5e0af57f80ee3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa2020ca5f158118ea1c5b8a5c482e1d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#aaa2020ca5f158118ea1c5b8a5c482e1d">cannot_gain_skill_or_prof</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;crafter, const <a class="el" href="classrecipe.html">recipe</a> &amp;recp)</td></tr>
<tr class="separator:aaa2020ca5f158118ea1c5b8a5c482e1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22dd8b1eb16b713873ded67115c79501"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a22dd8b1eb16b713873ded67115c79501">craft_success_chance_string</a> (const <a class="el" href="classrecipe.html">recipe</a> &amp;recp, const <a class="el" href="classCharacter.html">Character</a> &amp;guy)</td></tr>
<tr class="separator:a22dd8b1eb16b713873ded67115c79501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a087fe318fa80c432eefe1c7c49b8d4da"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a087fe318fa80c432eefe1c7c49b8d4da">cata_fail_chance_string</a> (const <a class="el" href="classrecipe.html">recipe</a> &amp;recp, const <a class="el" href="classCharacter.html">Character</a> &amp;guy)</td></tr>
<tr class="separator:a087fe318fa80c432eefe1c7c49b8d4da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab67874716360c37d2786aa9fef2cd57b"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#ab67874716360c37d2786aa9fef2cd57b">recipe_info</a> (const <a class="el" href="classrecipe.html">recipe</a> &amp;recp, const availability &amp;avail, <a class="el" href="classCharacter.html">Character</a> &amp;guy, const std::string_view qry_comps, const int batch_size, const int fold_width, const <a class="el" href="classnc__color.html">nc_color</a> &amp;<a class="el" href="editmap_8cpp.html#a87385d720a3aba24286fd8b799cc55d3">color</a>, const std::vector&lt; <a class="el" href="classCharacter.html">Character</a> * &gt; &amp;crafting_group)</td></tr>
<tr class="separator:ab67874716360c37d2786aa9fef2cd57b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b7ee7c89f221e94470bd5a147a3d40a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a6b7ee7c89f221e94470bd5a147a3d40a">practice_recipe_description</a> (const <a class="el" href="classrecipe.html">recipe</a> &amp;recp, const <a class="el" href="classCharacter.html">Character</a> &amp;crafter)</td></tr>
<tr class="separator:a6b7ee7c89f221e94470bd5a147a3d40a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa81bd5ab80d6567bb231ae07cc137eb0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classinput__context.html">input_context</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#aa81bd5ab80d6567bb231ae07cc137eb0">make_crafting_context</a> (bool highlight_unread_recipes)</td></tr>
<tr class="separator:aa81bd5ab80d6567bb231ae07cc137eb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a638984281aad5710838fa6f18bb154fb"><td class="memItemLeft" align="right" valign="top">static std::pair&lt; std::vector&lt; const <a class="el" href="classrecipe.html">recipe</a> * &gt;, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a638984281aad5710838fa6f18bb154fb">recipes_from_cat</a> (const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp;available_recipes, const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &amp;cat, const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &amp;subcat)</td></tr>
<tr class="separator:a638984281aad5710838fa6f18bb154fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4596c4f7be1f0849480de73fb4b8048"><td class="memItemLeft" align="right" valign="top">static const std::vector&lt; <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#ad4596c4f7be1f0849480de73fb4b8048">cached_recipe_info</a> (<a class="el" href="structrecipe__info__cache.html">recipe_info_cache</a> &amp;info_cache, const <a class="el" href="classrecipe.html">recipe</a> &amp;recp, const availability &amp;avail, <a class="el" href="classCharacter.html">Character</a> &amp;guy, const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &amp;qry_comps, const int batch_size, const int fold_width, const <a class="el" href="classnc__color.html">nc_color</a> &amp;<a class="el" href="editmap_8cpp.html#a87385d720a3aba24286fd8b799cc55d3">color</a>, const std::vector&lt; <a class="el" href="classCharacter.html">Character</a> * &gt; &amp;crafting_group)</td></tr>
<tr class="separator:ad4596c4f7be1f0849480de73fb4b8048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf53a2e49691c44280fb320bf524c330"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classrecipe__subset.html">recipe_subset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#abf53a2e49691c44280fb320bf524c330">filter_recipes</a> (const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp;available_recipes, const std::string_view qry, const <a class="el" href="classCharacter.html">Character</a> &amp;crafter, const std::function&lt; void(size_t, size_t)&gt; &amp;progress_callback)</td></tr>
<tr class="separator:abf53a2e49691c44280fb320bf524c330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d3b02d087e3910f0da791dcc7773001"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a3d3b02d087e3910f0da791dcc7773001">mouse_in_window</a> (<a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="structpoint.html">point</a> &gt; coord, const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w_)</td></tr>
<tr class="separator:a3d3b02d087e3910f0da791dcc7773001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0965fdbfb8880d31edf0bf9c39aa8eb0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a0965fdbfb8880d31edf0bf9c39aa8eb0">recursively_expance_recipes</a> (std::vector&lt; const <a class="el" href="classrecipe.html">recipe</a> * &gt; &amp;current, std::vector&lt; int &gt; &amp;indent, <a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt; const <a class="el" href="classrecipe.html">recipe</a> *, availability &gt; &amp;availability_cache, int i, <a class="el" href="classCharacter.html">Character</a> &amp;crafter, bool unread_recipes_first, bool highlight_unread_recipes, const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp;available_recipes, const std::set&lt; <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> &gt; &amp;hidden_recipes)</td></tr>
<tr class="separator:a0965fdbfb8880d31edf0bf9c39aa8eb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75a535618b08ea03b642953f7a0bf724"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a75a535618b08ea03b642953f7a0bf724">expand_recipes</a> (std::vector&lt; const <a class="el" href="classrecipe.html">recipe</a> * &gt; &amp;current, std::vector&lt; int &gt; &amp;indent, <a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt; const <a class="el" href="classrecipe.html">recipe</a> *, availability &gt; &amp;availability_cache, <a class="el" href="classCharacter.html">Character</a> &amp;crafter, bool unread_recipes_first, bool highlight_unread_recipes, const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp;available_recipes, const std::set&lt; <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> &gt; &amp;hidden_recipes)</td></tr>
<tr class="separator:a75a535618b08ea03b642953f7a0bf724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee2aef325edf92b1116862353af6af40"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#aee2aef325edf92b1116862353af6af40">list_nested</a> (<a class="el" href="classCharacter.html">Character</a> &amp;crafter, const <a class="el" href="classrecipe.html">recipe</a> *rec, const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp;available_recipes, int indent=0)</td></tr>
<tr class="separator:aee2aef325edf92b1116862353af6af40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d2cf798bed0e369065eed1457c4bddd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a5d2cf798bed0e369065eed1457c4bddd">nested_toggle</a> (<a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> rec, bool &amp;recalc, bool &amp;keepline)</td></tr>
<tr class="separator:a5d2cf798bed0e369065eed1457c4bddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaba36c2b9b4097f09cd4f365878dc46"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#adaba36c2b9b4097f09cd4f365878dc46">selection_ok</a> (const std::vector&lt; const <a class="el" href="classrecipe.html">recipe</a> * &gt; &amp;list, const int current_line, const bool nested_acceptable)</td></tr>
<tr class="separator:adaba36c2b9b4097f09cd4f365878dc46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a703e78838fe3f6167fb2e3ab93c9a3"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="classCharacter.html">Character</a> *, const <a class="el" href="classrecipe.html">recipe</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a9a703e78838fe3f6167fb2e3ab93c9a3">select_crafter_and_crafting_recipe</a> (int &amp;batch_size_out, const <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> &amp;goto_recipe, <a class="el" href="classCharacter.html">Character</a> *crafter, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> filterstring)</td></tr>
<tr class="memdesc:a9a703e78838fe3f6167fb2e3ab93c9a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open crafting menu where user selects who will craft what (the crafter &amp; the recipe).  <a href="crafting__gui_8cpp.html#a9a703e78838fe3f6167fb2e3ab93c9a3">More...</a><br /></td></tr>
<tr class="separator:a9a703e78838fe3f6167fb2e3ab93c9a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacbc89c6f0ca0710695c2a8d603f4dd7"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#aacbc89c6f0ca0710695c2a8d603f4dd7">subcategories_for_category</a> (const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &amp;category)</td></tr>
<tr class="separator:aacbc89c6f0ca0710695c2a8d603f4dd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8751ef846def36cb3c192fc18d34cc3b"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#ac81bfdd5eecfc0ef693c225689604940">limb_score_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a8751ef846def36cb3c192fc18d34cc3b">limb_score_manip</a> (&quot;manip&quot;)</td></tr>
<tr class="separator:a8751ef846def36cb3c192fc18d34cc3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af19ff13e451201336c6f68c13e36c9a0"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt; const <a class="el" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7">CRAFTING_SPEED_STATE</a>, <a class="el" href="classtranslation.html">translation</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#af19ff13e451201336c6f68c13e36c9a0">craft_speed_reason_strings</a></td></tr>
<tr class="separator:af19ff13e451201336c6f68c13e36c9a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa56eb1d3153ac8abf3ede81da9bef10b"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#aa56eb1d3153ac8abf3ede81da9bef10b">craft_cat_list</a></td></tr>
<tr class="separator:aa56eb1d3153ac8abf3ede81da9bef10b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03dfc4c687680a542638da508622d822"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt; <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>, std::vector&lt; <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a></td></tr>
<tr class="separator:a03dfc4c687680a542638da508622d822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b18b8cf2179a2d47ccd6e5ac22a4659"><td class="memItemLeft" align="right" valign="top">static const std::vector&lt; SearchPrefix &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#a2b18b8cf2179a2d47ccd6e5ac22a4659">prefixes</a></td></tr>
<tr class="separator:a2b18b8cf2179a2d47ccd6e5ac22a4659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4ebf1d1c569ad5aac1ca50e87c90c3b"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classtranslation.html">translation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crafting__gui_8cpp.html#af4ebf1d1c569ad5aac1ca50e87c90c3b">filter_help_start</a></td></tr>
<tr class="separator:af4ebf1d1c569ad5aac1ca50e87c90c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a0e43c9f74f26ed29a56b7604423c5df7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e43c9f74f26ed29a56b7604423c5df7">&#9670;&nbsp;</a></span>CRAFTING_SPEED_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7">CRAFTING_SPEED_STATE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a0e43c9f74f26ed29a56b7604423c5df7ab3bd1be5e1c57878bbe9bfc395a282de"></a>TOO_DARK_TO_CRAFT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0e43c9f74f26ed29a56b7604423c5df7af94eb213c963484ed2c22f6a1b1c3758"></a>TOO_SLOW_TO_CRAFT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0e43c9f74f26ed29a56b7604423c5df7a6e7c3222d17b91d3f5858c3a5e159516"></a>SLOW_BUT_CRAFTABLE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0e43c9f74f26ed29a56b7604423c5df7afe1c60a78bf3305361842c78b834fdaa"></a>FAST_CRAFTING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0e43c9f74f26ed29a56b7604423c5df7ab5b361cc749c5ec246646fffab4332f2"></a>NORMAL_CRAFTING&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00078">78</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                          {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7ab3bd1be5e1c57878bbe9bfc395a282de">TOO_DARK_TO_CRAFT</a>,</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7af94eb213c963484ed2c22f6a1b1c3758">TOO_SLOW_TO_CRAFT</a>,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7a6e7c3222d17b91d3f5858c3a5e159516">SLOW_BUT_CRAFTABLE</a>,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7afe1c60a78bf3305361842c78b834fdaa">FAST_CRAFTING</a>,</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7ab5b361cc749c5ec246646fffab4332f2">NORMAL_CRAFTING</a></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;};</div>
<div class="ttc" id="acrafting__gui_8cpp_html_a0e43c9f74f26ed29a56b7604423c5df7a6e7c3222d17b91d3f5858c3a5e159516"><div class="ttname"><a href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7a6e7c3222d17b91d3f5858c3a5e159516">SLOW_BUT_CRAFTABLE</a></div><div class="ttdeci">@ SLOW_BUT_CRAFTABLE</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00081">crafting_gui.cpp:81</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a0e43c9f74f26ed29a56b7604423c5df7ab3bd1be5e1c57878bbe9bfc395a282de"><div class="ttname"><a href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7ab3bd1be5e1c57878bbe9bfc395a282de">TOO_DARK_TO_CRAFT</a></div><div class="ttdeci">@ TOO_DARK_TO_CRAFT</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00079">crafting_gui.cpp:79</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a0e43c9f74f26ed29a56b7604423c5df7ab5b361cc749c5ec246646fffab4332f2"><div class="ttname"><a href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7ab5b361cc749c5ec246646fffab4332f2">NORMAL_CRAFTING</a></div><div class="ttdeci">@ NORMAL_CRAFTING</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00084">crafting_gui.cpp:83</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a0e43c9f74f26ed29a56b7604423c5df7af94eb213c963484ed2c22f6a1b1c3758"><div class="ttname"><a href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7af94eb213c963484ed2c22f6a1b1c3758">TOO_SLOW_TO_CRAFT</a></div><div class="ttdeci">@ TOO_SLOW_TO_CRAFT</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00080">crafting_gui.cpp:80</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a0e43c9f74f26ed29a56b7604423c5df7afe1c60a78bf3305361842c78b834fdaa"><div class="ttname"><a href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7afe1c60a78bf3305361842c78b834fdaa">FAST_CRAFTING</a></div><div class="ttdeci">@ FAST_CRAFTING</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00082">crafting_gui.cpp:82</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a85d81375d681a4e56a25b42f9f753cde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85d81375d681a4e56a25b42f9f753cde">&#9670;&nbsp;</a></span>TAB_MODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cde">TAB_MODE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a85d81375d681a4e56a25b42f9f753cdea50d1448013c6f17125caee18aa418af7"></a>NORMAL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a85d81375d681a4e56a25b42f9f753cdeab0f4e80b9200bdfca611883a5bb2cecb"></a>FILTERED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a85d81375d681a4e56a25b42f9f753cdeabc04848b2d94351b99f92127e29bb075"></a>BATCH&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00072">72</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;              {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdea50d1448013c6f17125caee18aa418af7">NORMAL</a>,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdeab0f4e80b9200bdfca611883a5bb2cecb">FILTERED</a>,</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdeabc04848b2d94351b99f92127e29bb075">BATCH</a></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;};</div>
<div class="ttc" id="acrafting__gui_8cpp_html_a85d81375d681a4e56a25b42f9f753cdea50d1448013c6f17125caee18aa418af7"><div class="ttname"><a href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdea50d1448013c6f17125caee18aa418af7">NORMAL</a></div><div class="ttdeci">@ NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00073">crafting_gui.cpp:73</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a85d81375d681a4e56a25b42f9f753cdeab0f4e80b9200bdfca611883a5bb2cecb"><div class="ttname"><a href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdeab0f4e80b9200bdfca611883a5bb2cecb">FILTERED</a></div><div class="ttdeci">@ FILTERED</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00074">crafting_gui.cpp:74</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a85d81375d681a4e56a25b42f9f753cdeabc04848b2d94351b99f92127e29bb075"><div class="ttname"><a href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdeabc04848b2d94351b99f92127e29bb075">BATCH</a></div><div class="ttdeci">@ BATCH</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00076">crafting_gui.cpp:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad4596c4f7be1f0849480de73fb4b8048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4596c4f7be1f0849480de73fb4b8048">&#9670;&nbsp;</a></span>cached_recipe_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const std::vector&lt;<a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&gt;&amp; cached_recipe_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrecipe__info__cache.html">recipe_info_cache</a> &amp;&#160;</td>
          <td class="paramname"><em>info_cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>recp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const availability &amp;&#160;</td>
          <td class="paramname"><em>avail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>guy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>qry_comps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>fold_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnc__color.html">nc_color</a> &amp;&#160;</td>
          <td class="paramname"><em>color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classCharacter.html">Character</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>crafting_group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00887">887</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;{</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> lang_version = <a class="code" href="namespacedetail.html#a6f9be586b5aca78f19bfc004c317e1d6">detail::get_current_language_version</a>();</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160; </div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordflow">if</span>( info_cache.<a class="code" href="structrecipe__info__cache.html#a86127151c21c631ffe3b3e71f650e613">recp</a> != &amp;recp ||</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        info_cache.<a class="code" href="structrecipe__info__cache.html#a277475ebde7cb6a7293a03808344550c">guy_id</a> != guy.<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() ||</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        info_cache.<a class="code" href="structrecipe__info__cache.html#ae0bc7f9757b48d2f1cd7db0260fc6055">qry_comps</a> != qry_comps ||</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        info_cache.<a class="code" href="structrecipe__info__cache.html#ae98908321ce84afa09fd64b0e6c88d8b">batch_size</a> != batch_size ||</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        info_cache.<a class="code" href="structrecipe__info__cache.html#a84efd06f5a23359ef8659cdc25bc3258">fold_width</a> != fold_width ||</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        lang_version != <a class="code" href="namespacedetail.html#a6f9be586b5aca78f19bfc004c317e1d6">detail::get_current_language_version</a>()</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      ) {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        info_cache.<a class="code" href="structrecipe__info__cache.html#a86127151c21c631ffe3b3e71f650e613">recp</a> = &amp;recp;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        info_cache.<a class="code" href="structrecipe__info__cache.html#a277475ebde7cb6a7293a03808344550c">guy_id</a> = guy.<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>();</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        info_cache.<a class="code" href="structrecipe__info__cache.html#ae0bc7f9757b48d2f1cd7db0260fc6055">qry_comps</a> = qry_comps;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        info_cache.<a class="code" href="structrecipe__info__cache.html#ae98908321ce84afa09fd64b0e6c88d8b">batch_size</a> = batch_size;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        info_cache.<a class="code" href="structrecipe__info__cache.html#a84efd06f5a23359ef8659cdc25bc3258">fold_width</a> = fold_width;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        info_cache.<a class="code" href="structrecipe__info__cache.html#ab4a2b1e6fcde9fff75928bd61d53a24c">text</a> = <a class="code" href="crafting__gui_8cpp.html#ab67874716360c37d2786aa9fef2cd57b">recipe_info</a>( recp, avail, guy, qry_comps, batch_size, fold_width, <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a>,</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                                       crafting_group );</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        lang_version = <a class="code" href="namespacedetail.html#a6f9be586b5aca78f19bfc004c317e1d6">detail::get_current_language_version</a>();</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    }</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordflow">return</span> info_cache.<a class="code" href="structrecipe__info__cache.html#ab4a2b1e6fcde9fff75928bd61d53a24c">text</a>;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_adb54bdcb284abb66b6be99c8ae225065"><div class="ttname"><a href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">Character::getID</a></div><div class="ttdeci">character_id getID() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00652">character.cpp:652</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_ab67874716360c37d2786aa9fef2cd57b"><div class="ttname"><a href="crafting__gui_8cpp.html#ab67874716360c37d2786aa9fef2cd57b">recipe_info</a></div><div class="ttdeci">static std::vector&lt; std::string &gt; recipe_info(const recipe &amp;recp, const availability &amp;avail, Character &amp;guy, const std::string_view qry_comps, const int batch_size, const int fold_width, const nc_color &amp;color, const std::vector&lt; Character * &gt; &amp;crafting_group)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00367">crafting_gui.cpp:367</a></div></div>
<div class="ttc" id="aeditmap_8cpp_html_a025a5c063205294df20818edc4cfe355"><div class="ttname"><a href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a></div><div class="ttdeci">static nc_color color(const T_t &amp;t)</div></div>
<div class="ttc" id="anamespacedetail_html_a6f9be586b5aca78f19bfc004c317e1d6"><div class="ttname"><a href="namespacedetail.html#a6f9be586b5aca78f19bfc004c317e1d6">detail::get_current_language_version</a></div><div class="ttdeci">int get_current_language_version()</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00015">translations.cpp:15</a></div></div>
<div class="ttc" id="astructrecipe__info__cache_html_a277475ebde7cb6a7293a03808344550c"><div class="ttname"><a href="structrecipe__info__cache.html#a277475ebde7cb6a7293a03808344550c">recipe_info_cache::guy_id</a></div><div class="ttdeci">character_id guy_id</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00880">crafting_gui.cpp:880</a></div></div>
<div class="ttc" id="astructrecipe__info__cache_html_a84efd06f5a23359ef8659cdc25bc3258"><div class="ttname"><a href="structrecipe__info__cache.html#a84efd06f5a23359ef8659cdc25bc3258">recipe_info_cache::fold_width</a></div><div class="ttdeci">int fold_width</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00883">crafting_gui.cpp:883</a></div></div>
<div class="ttc" id="astructrecipe__info__cache_html_a86127151c21c631ffe3b3e71f650e613"><div class="ttname"><a href="structrecipe__info__cache.html#a86127151c21c631ffe3b3e71f650e613">recipe_info_cache::recp</a></div><div class="ttdeci">const recipe * recp</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00879">crafting_gui.cpp:879</a></div></div>
<div class="ttc" id="astructrecipe__info__cache_html_ab4a2b1e6fcde9fff75928bd61d53a24c"><div class="ttname"><a href="structrecipe__info__cache.html#ab4a2b1e6fcde9fff75928bd61d53a24c">recipe_info_cache::text</a></div><div class="ttdeci">std::vector&lt; std::string &gt; text</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00884">crafting_gui.cpp:884</a></div></div>
<div class="ttc" id="astructrecipe__info__cache_html_ae0bc7f9757b48d2f1cd7db0260fc6055"><div class="ttname"><a href="structrecipe__info__cache.html#ae0bc7f9757b48d2f1cd7db0260fc6055">recipe_info_cache::qry_comps</a></div><div class="ttdeci">std::string qry_comps</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00881">crafting_gui.cpp:881</a></div></div>
<div class="ttc" id="astructrecipe__info__cache_html_ae98908321ce84afa09fd64b0e6c88d8b"><div class="ttname"><a href="structrecipe__info__cache.html#ae98908321ce84afa09fd64b0e6c88d8b">recipe_info_cache::batch_size</a></div><div class="ttdeci">int batch_size</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00882">crafting_gui.cpp:882</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting__gui_8cpp_source.html#l00882">recipe_info_cache::batch_size</a>, <a class="el" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00883">recipe_info_cache::fold_width</a>, <a class="el" href="translations_8cpp_source.html#l00015">detail::get_current_language_version()</a>, <a class="el" href="character_8cpp_source.html#l00652">Character::getID()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00880">recipe_info_cache::guy_id</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00881">recipe_info_cache::qry_comps</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00367">recipe_info()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00879">recipe_info_cache::recp</a>, and <a class="el" href="crafting__gui_8cpp_source.html#l00884">recipe_info_cache::text</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l01186">select_crafter_and_crafting_recipe()</a>.</p>

</div>
</div>
<a id="aaa2020ca5f158118ea1c5b8a5c482e1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa2020ca5f158118ea1c5b8a5c482e1d">&#9670;&nbsp;</a></span>cannot_gain_skill_or_prof()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool cannot_gain_skill_or_prof </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>crafter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>recp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00177">177</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">if</span>( recp.<a class="code" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> &amp;&amp;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( crafter.<a class="code" href="classCharacter.html#a93a3570e884214ba5c0eb3cdf1af75cc">get_skill_level</a>( recp.<a class="code" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> ) ) &lt;= recp.<a class="code" href="classrecipe.html#a625fb46aaf8716b45b206d13bc9fb946">get_skill_cap</a>() ) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">proficiency_id</a> &amp;prof : recp.<a class="code" href="classrecipe.html#aac09e7da40fe9536e10c2dd023b10e8e">used_proficiencies</a>() ) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keywordflow">if</span>( !crafter.<a class="code" href="classCharacter.html#a72472dd1bc3a1fba8b053682ae5a2244">has_proficiency</a>( prof ) ) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a72472dd1bc3a1fba8b053682ae5a2244"><div class="ttname"><a href="classCharacter.html#a72472dd1bc3a1fba8b053682ae5a2244">Character::has_proficiency</a></div><div class="ttdeci">bool has_proficiency(const proficiency_id &amp;prof) const</div><div class="ttdef"><b>Definition:</b> <a href="character__proficiency_8cpp_source.html#l00019">character_proficiency.cpp:19</a></div></div>
<div class="ttc" id="aclassCharacter_html_a93a3570e884214ba5c0eb3cdf1af75cc"><div class="ttname"><a href="classCharacter.html#a93a3570e884214ba5c0eb3cdf1af75cc">Character::get_skill_level</a></div><div class="ttdeci">float get_skill_level(const skill_id &amp;ident) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03428">character.cpp:3428</a></div></div>
<div class="ttc" id="aclassrecipe_html_a0af03931c6f034e6b5269a5206e31bd2"><div class="ttname"><a href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">recipe::skill_used</a></div><div class="ttdeci">skill_id skill_used</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00188">recipe.h:188</a></div></div>
<div class="ttc" id="aclassrecipe_html_a625fb46aaf8716b45b206d13bc9fb946"><div class="ttname"><a href="classrecipe.html#a625fb46aaf8716b45b206d13bc9fb946">recipe::get_skill_cap</a></div><div class="ttdeci">int get_skill_cap() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00062">recipe.cpp:62</a></div></div>
<div class="ttc" id="aclassrecipe_html_aac09e7da40fe9536e10c2dd023b10e8e"><div class="ttname"><a href="classrecipe.html#aac09e7da40fe9536e10c2dd023b10e8e">recipe::used_proficiencies</a></div><div class="ttdeci">std::vector&lt; proficiency_id &gt; used_proficiencies() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01018">recipe.cpp:1018</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; proficiency &gt;</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="recipe_8cpp_source.html#l00062">recipe::get_skill_cap()</a>, <a class="el" href="character_8cpp_source.html#l03428">Character::get_skill_level()</a>, <a class="el" href="character__proficiency_8cpp_source.html#l00019">Character::has_proficiency()</a>, <a class="el" href="recipe_8h_source.html#l00188">recipe::skill_used</a>, and <a class="el" href="recipe_8cpp_source.html#l01018">recipe::used_proficiencies()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l00194">anonymous_namespace{crafting_gui.cpp}::availability::availability()</a>.</p>

</div>
</div>
<a id="a087fe318fa80c432eefe1c7c49b8d4da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a087fe318fa80c432eefe1c7c49b8d4da">&#9670;&nbsp;</a></span>cata_fail_chance_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> cata_fail_chance_string </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>recp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>guy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00349">349</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;{</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordtype">float</span> chance = 100.f * guy.<a class="code" href="classCharacter.html#a52f50cc5ea96f27ea8ed5055e7bd3577">item_destruction_chance</a>( recp );</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    std::string <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">if</span>( chance &gt; 50 ) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> = <span class="stringliteral">&quot;i_red&quot;</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( chance &gt; 20 ) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> = <span class="stringliteral">&quot;red&quot;</span>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( chance &gt; 5 ) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> = <span class="stringliteral">&quot;yellow&quot;</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> = <span class="stringliteral">&quot;light_gray&quot;</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Catastrophic Failure Chance: &lt;color_%s&gt;%2.2f%%&lt;/color&gt;&quot;</span> ), <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a>,</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                          chance );</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a52f50cc5ea96f27ea8ed5055e7bd3577"><div class="ttname"><a href="classCharacter.html#a52f50cc5ea96f27ea8ed5055e7bd3577">Character::item_destruction_chance</a></div><div class="ttdeci">float item_destruction_chance(const recipe &amp;making) const</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01274">crafting.cpp:1274</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color()</a>, <a class="el" href="crafting_8cpp_source.html#l01274">Character::item_destruction_chance()</a>, and <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l00367">recipe_info()</a>.</p>

</div>
</div>
<a id="acd6a4642380025007e2aeec05116389a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd6a4642380025007e2aeec05116389a">&#9670;&nbsp;</a></span>choose_crafter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int choose_crafter </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classCharacter.html">Character</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>crafting_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>crafter_i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>rec_valid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return index of newly chosen crafter. </p>
<p>return &lt; 0 if error happens or nobody is choosen. </p>

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l02037">2037</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;{</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    std::vector&lt;std::string&gt; header = { <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Crafter&quot;</span> ) };</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <span class="keywordflow">if</span>( rec_valid ) {</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;        header.emplace_back( rec-&gt;<a class="code" href="classrecipe.html#a6ffa5ac015e9cb54bf2d360e5709cff3">is_practice</a>() ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Can practice&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Can craft&quot;</span> ) );</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;        header.emplace_back( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Missing&quot;</span> ) );</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    }</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    header.emplace_back( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Status&quot;</span> ) );</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <a class="code" href="classuimenu.html">uimenu</a> choose_char_menu( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( header.size() ) );</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    choose_char_menu.set_title( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Choose the crafter&quot;</span> ) );</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    choose_char_menu.addentry( -1, <span class="keyword">false</span>, header );</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160; </div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classCharacter.html">Character</a> *chara : crafting_group ) {</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;        std::vector&lt;std::string&gt; entry = { chara-&gt;name_and_maybe_activity() };</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;        <span class="keywordflow">if</span>( rec_valid ) {</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;            availability avail = availability( *chara, rec );</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;            std::vector&lt;std::string&gt; reasons;</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160; </div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;            <span class="keywordtype">bool</span> has_stuff = rec-&gt;<a class="code" href="classrecipe.html#ab1b55d41175b239729f740aaad63f306">deduped_requirements</a>().<a class="code" href="classdeduped__requirement__data.html#a904e48b7f9ea958a7dfcd06ca614581b">can_make_with_inventory</a>(</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;                                 chara-&gt;crafting_inventory(), rec-&gt;<a class="code" href="classrecipe.html#a45b065c59b172ccab9e0630fd036fe09">get_component_filter</a>( <a class="code" href="recipe_8h.html#a6409b244d953153c56933adfbdc71b81a334c4a4c42fdb79d7ebc3e73b517e6f8">recipe_filter_flags::none</a> ), 1,</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;                                 <a class="code" href="crafting_8h.html#ab503da66be6153085c91ed89e5f8b0c4ac09b0863169aa4c63d88adf3644aef93">craft_flags::start_only</a> );</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;            <span class="keywordflow">if</span>( !has_stuff ) {</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;                reasons.emplace_back( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;stuff&quot;</span> ) );</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;            }</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;            <span class="keywordflow">if</span>( !avail.crafter_has_primary_skill ) {</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;                reasons.emplace_back( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;skill&quot;</span> ) );</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;            }</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;            <span class="keywordflow">if</span>( !avail.has_proficiencies ) {  <span class="comment">// this is required proficiency</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;                reasons.emplace_back( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;proficiency&quot;</span> ) );</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;            }</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;            <span class="keywordflow">if</span>( chara-&gt;lighting_craft_speed_multiplier( *rec ) &lt;= 0.0f ) {</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;                reasons.emplace_back( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;light&quot;</span> ) );</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;            }</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;            std::string dummy;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;            <span class="keywordflow">if</span>( chara-&gt;is_npc() &amp;&amp; !rec-&gt;<a class="code" href="classrecipe.html#ad7dba12233e28bfef59dfa43c4386bcd">npc_can_craft</a>( dummy ) ) {</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;                reasons.emplace_back( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;is NPC&quot;</span> ) );</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;            }</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160; </div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;            entry.emplace_back(</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;                <span class="comment">// *INDENT-OFF* readable ternary operator</span></div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;                rec-&gt;<a class="code" href="classrecipe.html#a7ff67127daa1a2dafb9cc580863fb272">is_nested</a>()</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;                    ? <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <span class="stringliteral">&quot;-&quot;</span>, <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a> )</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;                    : reasons.empty()</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;                        ? <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;yes&quot;</span> ), <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a> )</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;                        : <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;no&quot;</span> ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> ) );</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;                <span class="comment">// *INDENT-ON* readable ternary operator</span></div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;            entry.emplace_back( <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="cata__utility_8h.html#ac991956646ae07083eff5852c753b886">string_join</a>( reasons, <span class="stringliteral">&quot;, &quot;</span> ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> ) );</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;        }</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;        entry.emplace_back( chara-&gt;in_sleep_state()</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;                            ? <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;asleep&quot;</span> ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> )</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;                            : <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;awake&quot;</span> ), <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a> ) );</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;        choose_char_menu.addentry( i, !chara-&gt;in_sleep_state(), entry );</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;        ++i;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    }</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160; </div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    choose_char_menu.set_selected( crafter_i + 1 );  <span class="comment">// +1 for header entry</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    <span class="keywordflow">return</span> choose_char_menu.query();</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;}</div>
<div class="ttc" id="acata__utility_8h_html_ac991956646ae07083eff5852c753b886"><div class="ttname"><a href="cata__utility_8h.html#ac991956646ae07083eff5852c753b886">string_join</a></div><div class="ttdeci">std::string string_join(const Container &amp;iterable, const std::string &amp;joiner)</div><div class="ttdoc">Joins an iterable (class implementing begin() and end()) of elements into a single string with specif...</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8h_source.html#l00495">cata_utility.h:495</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclassdeduped__requirement__data_html_a904e48b7f9ea958a7dfcd06ca614581b"><div class="ttname"><a href="classdeduped__requirement__data.html#a904e48b7f9ea958a7dfcd06ca614581b">deduped_requirement_data::can_make_with_inventory</a></div><div class="ttdeci">bool can_make_with_inventory(const read_only_visitable &amp;crafting_inv, const std::function&lt; bool(const item &amp;)&gt; &amp;filter, int batch=1, craft_flags=craft_flags::none) const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l01671">requirements.cpp:1671</a></div></div>
<div class="ttc" id="aclassrecipe_html_a45b065c59b172ccab9e0630fd036fe09"><div class="ttname"><a href="classrecipe.html#a45b065c59b172ccab9e0630fd036fe09">recipe::get_component_filter</a></div><div class="ttdeci">std::function&lt; bool(const item &amp;)&gt; get_component_filter(recipe_filter_flags=recipe_filter_flags::none) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01256">recipe.cpp:1256</a></div></div>
<div class="ttc" id="aclassrecipe_html_a6ffa5ac015e9cb54bf2d360e5709cff3"><div class="ttname"><a href="classrecipe.html#a6ffa5ac015e9cb54bf2d360e5709cff3">recipe::is_practice</a></div><div class="ttdeci">bool is_practice() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01336">recipe.cpp:1336</a></div></div>
<div class="ttc" id="aclassrecipe_html_a7ff67127daa1a2dafb9cc580863fb272"><div class="ttname"><a href="classrecipe.html#a7ff67127daa1a2dafb9cc580863fb272">recipe::is_nested</a></div><div class="ttdeci">bool is_nested() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01341">recipe.cpp:1341</a></div></div>
<div class="ttc" id="aclassrecipe_html_ab1b55d41175b239729f740aaad63f306"><div class="ttname"><a href="classrecipe.html#ab1b55d41175b239729f740aaad63f306">recipe::deduped_requirements</a></div><div class="ttdeci">const deduped_requirement_data &amp; deduped_requirements() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00151">recipe.h:151</a></div></div>
<div class="ttc" id="aclassrecipe_html_ad7dba12233e28bfef59dfa43c4386bcd"><div class="ttname"><a href="classrecipe.html#ad7dba12233e28bfef59dfa43c4386bcd">recipe::npc_can_craft</a></div><div class="ttdeci">bool npc_can_craft(std::string &amp;reason) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01317">recipe.cpp:1317</a></div></div>
<div class="ttc" id="aclassuimenu_html"><div class="ttname"><a href="classuimenu.html">uimenu</a></div><div class="ttdoc">Hack ui list to behave as a multi column menu.</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00534">ui.h:535</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a0f25678be1fc95cb81381a004493a4cc"><div class="ttname"><a href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a></div><div class="ttdeci">std::string colorize(const std::string &amp;text, const nc_color &amp;color)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00742">color.cpp:742</a></div></div>
<div class="ttc" id="acolor_8h_html_a1cb87e74156596960610fd0a9ace766d"><div class="ttname"><a href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a></div><div class="ttdeci">#define c_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00020">color.h:20</a></div></div>
<div class="ttc" id="acolor_8h_html_a81e80ab9142609903b4788a6bb31ae45"><div class="ttname"><a href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a></div><div class="ttdeci">#define c_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00030">color.h:30</a></div></div>
<div class="ttc" id="acolor_8h_html_af0a87eaef36305269f4506dfa34d94c0"><div class="ttname"><a href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a></div><div class="ttdeci">#define c_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00019">color.h:19</a></div></div>
<div class="ttc" id="acrafting_8h_html_ab503da66be6153085c91ed89e5f8b0c4ac09b0863169aa4c63d88adf3644aef93"><div class="ttname"><a href="crafting_8h.html#ab503da66be6153085c91ed89e5f8b0c4ac09b0863169aa4c63d88adf3644aef93">craft_flags::start_only</a></div><div class="ttdeci">@ start_only</div></div>
<div class="ttc" id="arecipe_8h_html_a6409b244d953153c56933adfbdc71b81a334c4a4c42fdb79d7ebc3e73b517e6f8"><div class="ttname"><a href="recipe_8h.html#a6409b244d953153c56933adfbdc71b81a334c4a4c42fdb79d7ebc3e73b517e6f8">recipe_filter_flags::none</a></div><div class="ttdeci">@ none</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="ui_8cpp_source.html#l01289">uimenu::addentry()</a>, <a class="el" href="color_8h_source.html#l00020">c_green</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="color_8h_source.html#l00030">c_yellow</a>, <a class="el" href="requirements_8cpp_source.html#l01671">deduped_requirement_data::can_make_with_inventory()</a>, <a class="el" href="color_8cpp_source.html#l00742">colorize()</a>, <a class="el" href="recipe_8h_source.html#l00151">recipe::deduped_requirements()</a>, <a class="el" href="recipe_8cpp_source.html#l01256">recipe::get_component_filter()</a>, <a class="el" href="recipe_8cpp_source.html#l01341">recipe::is_nested()</a>, <a class="el" href="recipe_8cpp_source.html#l01336">recipe::is_practice()</a>, <a class="el" href="recipe_8h.html#a6409b244d953153c56933adfbdc71b81a334c4a4c42fdb79d7ebc3e73b517e6f8">none</a>, <a class="el" href="recipe_8cpp_source.html#l01317">recipe::npc_can_craft()</a>, <a class="el" href="ui_8cpp_source.html#l01342">uimenu::query()</a>, <a class="el" href="ui_8cpp_source.html#l01332">uimenu::set_selected()</a>, <a class="el" href="ui_8cpp_source.html#l01337">uimenu::set_title()</a>, <a class="el" href="crafting_8h.html#ab503da66be6153085c91ed89e5f8b0c4ac09b0863169aa4c63d88adf3644aef93">start_only</a>, and <a class="el" href="cata__utility_8h_source.html#l00495">string_join()</a>.</p>

</div>
</div>
<a id="a9b5801d3a34aab98bef0ab1ef9b7dcc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b5801d3a34aab98bef0ab1ef9b7dcc3">&#9670;&nbsp;</a></span>compare_recipe_with_item()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void compare_recipe_with_item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>recipe_item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>crafter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l02223">2223</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;{</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <a class="code" href="classinventory__pick__selector.html">inventory_pick_selector</a> inv_s( crafter );</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160; </div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    inv_s.add_character_items( crafter );</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    inv_s.set_title( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Compare&quot;</span> ) );</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    inv_s.set_hint( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select item to compare with.&quot;</span> ) );</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160; </div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keywordflow">if</span>( inv_s.empty() ) {</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( std::string( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;There are no items to compare.&quot;</span> ) ), <a class="code" href="output_8h.html#ab214b85345aeab978acdcea0250f27f5ad0065579023647501fcb0f076a1c5240">PF_GET_KEY</a> );</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    }</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160; </div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;        <span class="keyword">const</span> <a class="code" href="classitem__location.html">item_location</a> to_compare = inv_s.execute();</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        <span class="keywordflow">if</span>( !to_compare ) {</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;        }</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;        <a class="code" href="namespacegame__menus_1_1inv.html#a5ff3f5c27c60a8b35508dd9b3e078306">game_menus::inv::compare_items</a>( recipe_item, *to_compare );</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    } <span class="keywordflow">while</span>( <span class="keyword">true</span> );</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;}</div>
<div class="ttc" id="aclassinventory__pick__selector_html"><div class="ttname"><a href="classinventory__pick__selector.html">inventory_pick_selector</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory__ui_8h_source.html#l00921">inventory_ui.h:922</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00028">item_location.h:29</a></div></div>
<div class="ttc" id="anamespacegame__menus_1_1inv_html_a5ff3f5c27c60a8b35508dd9b3e078306"><div class="ttname"><a href="namespacegame__menus_1_1inv.html#a5ff3f5c27c60a8b35508dd9b3e078306">game_menus::inv::compare_items</a></div><div class="ttdeci">bool compare_items(const item &amp;first, const item &amp;second, const std::string &amp;confirm_message=&quot;&quot;)</div><div class="ttdoc">Compares two items, if confirm_message isn't empty then it will be printed to the screen and function...</div><div class="ttdef"><b>Definition:</b> <a href="game__inventory_8cpp_source.html#l02292">game_inventory.cpp:2292</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1e645471d321d71b235fb285da5c08ff"><div class="ttname"><a href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a></div><div class="ttdeci">int popup(const std::string &amp;text, PopupFlags flags)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00912">output.cpp:912</a></div></div>
<div class="ttc" id="aoutput_8h_html_ab214b85345aeab978acdcea0250f27f5ad0065579023647501fcb0f076a1c5240"><div class="ttname"><a href="output_8h.html#ab214b85345aeab978acdcea0250f27f5ad0065579023647501fcb0f076a1c5240">PF_GET_KEY</a></div><div class="ttdeci">@ PF_GET_KEY</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00476">output.h:476</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="inventory__ui_8cpp_source.html#l02079">inventory_selector::add_character_items()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02292">game_menus::inv::compare_items()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l02885">inventory_selector::empty()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l03277">inventory_pick_selector::execute()</a>, <a class="el" href="output_8h_source.html#l00476">PF_GET_KEY</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="inventory__ui_8h_source.html#l00630">inventory_selector::set_hint()</a>, and <a class="el" href="inventory__ui_8h_source.html#l00626">inventory_selector::set_title()</a>.</p>

</div>
</div>
<a id="a22dd8b1eb16b713873ded67115c79501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22dd8b1eb16b713873ded67115c79501">&#9670;&nbsp;</a></span>craft_success_chance_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> craft_success_chance_string </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>recp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>guy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00332">332</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;{</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordtype">float</span> chance = 100.f * ( 1.f - guy.<a class="code" href="classCharacter.html#a1ed2e630d9f1a8f518abfb4c2ddec802">recipe_success_chance</a>( recp ) );</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    std::string <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">if</span>( chance &gt; 75 ) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> = <span class="stringliteral">&quot;yellow&quot;</span>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( chance &gt; 50 ) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> = <span class="stringliteral">&quot;light_gray&quot;</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( chance &gt; 25 ) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> = <span class="stringliteral">&quot;green&quot;</span>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> = <span class="stringliteral">&quot;cyan&quot;</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Minor Failure Chance: &lt;color_%s&gt;%2.2f%%&lt;/color&gt;&quot;</span> ), <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a>, chance );</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a1ed2e630d9f1a8f518abfb4c2ddec802"><div class="ttname"><a href="classCharacter.html#a1ed2e630d9f1a8f518abfb4c2ddec802">Character::recipe_success_chance</a></div><div class="ttdeci">float recipe_success_chance(const recipe &amp;making) const</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01264">crafting.cpp:1264</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color()</a>, <a class="el" href="crafting_8cpp_source.html#l01264">Character::recipe_success_chance()</a>, and <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l00367">recipe_info()</a>.</p>

</div>
</div>
<a id="a565811ca311d0ecb089df0bf324fb40c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a565811ca311d0ecb089df0bf324fb40c">&#9670;&nbsp;</a></span>draw_can_craft_indicator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void draw_can_craft_indicator </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>crafter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l02273">2273</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;{</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    <span class="keywordflow">if</span>( crafter.<a class="code" href="classCharacter.html#a72f93d667c7b4c338f3a80817df0a8d8">lighting_craft_speed_multiplier</a>( rec ) &lt;= 0.0f ) {</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;        <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, 0, 1, <a class="code" href="color_8h.html#a56f36806be49a890c700dbc2eabac0ae">i_red</a>, <a class="code" href="crafting__gui_8cpp.html#af19ff13e451201336c6f68c13e36c9a0">craft_speed_reason_strings</a>.at( <a class="code" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7ab3bd1be5e1c57878bbe9bfc395a282de">TOO_DARK_TO_CRAFT</a> ).translated() );</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( crafter.<a class="code" href="classCharacter.html#a029105b8133dbafddbdd25b9603660f6">crafting_speed_multiplier</a>( rec ) &lt;= 0.0f ) {</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;        <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, 0, 1, <a class="code" href="color_8h.html#a56f36806be49a890c700dbc2eabac0ae">i_red</a>, <a class="code" href="crafting__gui_8cpp.html#af19ff13e451201336c6f68c13e36c9a0">craft_speed_reason_strings</a>.at( <a class="code" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7af94eb213c963484ed2c22f6a1b1c3758">TOO_SLOW_TO_CRAFT</a> ).translated() );</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( crafter.<a class="code" href="classCharacter.html#a029105b8133dbafddbdd25b9603660f6">crafting_speed_multiplier</a>( rec ) &lt; 1.0f ) {</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;        <span class="keywordtype">int</span> morale_modifier = crafter.<a class="code" href="classCharacter.html#a715218c4311d84bcc520ba82685bf561">morale_crafting_speed_multiplier</a>( rec ) * 100;</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;        <span class="keywordtype">int</span> lighting_modifier = crafter.<a class="code" href="classCharacter.html#a72f93d667c7b4c338f3a80817df0a8d8">lighting_craft_speed_multiplier</a>( rec ) * 100;</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;        <span class="keywordtype">int</span> limb_modifier = rec.<a class="code" href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">has_flag</a>( <a class="code" href="crafting__gui_8cpp.html#a4806094ba6d128566c88713330de8b74">flag_NO_MANIP</a> ) ? 100 : crafter.<a class="code" href="classCharacter.html#adac3431fb1398a94b0efa74945af8484">get_limb_score</a>(</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;                                <a class="code" href="crafting__gui_8cpp.html#a8751ef846def36cb3c192fc18d34cc3b">limb_score_manip</a> ) * 100;</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;        <span class="keywordtype">int</span> pain_multi = rec.<a class="code" href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">has_flag</a>( <a class="code" href="crafting__gui_8cpp.html#a54ac13f9e7249edeaee765f5a60e8788">flag_AFFECTED_BY_PAIN</a> ) ? 100 * <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 0.0f,</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;                         1.0f - ( crafter.<a class="code" href="classCharacter.html#a68de7da109abd90b4f2210057c982fe0">get_perceived_pain</a>() / 100.0f ) ) : 100;</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160; </div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;        std::stringstream modifiers_list;</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;        <span class="keywordflow">if</span>( morale_modifier &lt; 100 ) {</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;            modifiers_list &lt;&lt; <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;morale&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; morale_modifier &lt;&lt; <span class="stringliteral">&quot;%&quot;</span>;</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;        }</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;        <span class="keywordflow">if</span>( lighting_modifier &lt; 100 ) {</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;            <span class="keywordflow">if</span>( !modifiers_list.str().empty() ) {</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;                modifiers_list &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;            }</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;            modifiers_list &lt;&lt; <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;lighting&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; lighting_modifier &lt;&lt; <span class="stringliteral">&quot;%&quot;</span>;</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;        }</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;        <span class="keywordflow">if</span>( limb_modifier &lt; 100 ) {</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;            <span class="keywordflow">if</span>( !modifiers_list.str().empty() ) {</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;                modifiers_list &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;            }</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;            modifiers_list &lt;&lt; <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;hands encumbrance/wounds&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; limb_modifier &lt;&lt; <span class="stringliteral">&quot;%&quot;</span>;</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;        }</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;        <span class="keywordflow">if</span>( pain_multi &lt; 100 ) {</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;            <span class="keywordflow">if</span>( !modifiers_list.str().empty() ) {</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;                modifiers_list &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;            }</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;            modifiers_list &lt;&lt; <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;pain&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; pain_multi &lt;&lt; <span class="stringliteral">&quot;%&quot;</span>;</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;        }</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160; </div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;        <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, 0, 1, <a class="code" href="color_8h.html#a6ae40361a7c556faaf7cbb098307ad41">i_yellow</a>,</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;                     <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="crafting__gui_8cpp.html#af19ff13e451201336c6f68c13e36c9a0">craft_speed_reason_strings</a>.at( <a class="code" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7a6e7c3222d17b91d3f5858c3a5e159516">SLOW_BUT_CRAFTABLE</a> ).translated(),</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;                                    <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( crafter.<a class="code" href="classCharacter.html#a029105b8133dbafddbdd25b9603660f6">crafting_speed_multiplier</a>( rec ) * 100 ),</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;                                    modifiers_list.str() ) );</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( crafter.<a class="code" href="classCharacter.html#a029105b8133dbafddbdd25b9603660f6">crafting_speed_multiplier</a>( rec ) &gt; 1.0f ) {</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;        <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, 0, 1, <a class="code" href="color_8h.html#a33926885ed6ded5b33bf53abf65c931d">i_green</a>,</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;                     <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="crafting__gui_8cpp.html#af19ff13e451201336c6f68c13e36c9a0">craft_speed_reason_strings</a>.at( <a class="code" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7afe1c60a78bf3305361842c78b834fdaa">FAST_CRAFTING</a> ).translated(),</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;                                    <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( crafter.<a class="code" href="classCharacter.html#a029105b8133dbafddbdd25b9603660f6">crafting_speed_multiplier</a>( rec ) * 100 ) ) );</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;        <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, 0, 1, <a class="code" href="color_8h.html#a33926885ed6ded5b33bf53abf65c931d">i_green</a>, <a class="code" href="crafting__gui_8cpp.html#af19ff13e451201336c6f68c13e36c9a0">craft_speed_reason_strings</a>.at( <a class="code" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7ab5b361cc749c5ec246646fffab4332f2">NORMAL_CRAFTING</a> ).translated() );</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    }</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w );</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a029105b8133dbafddbdd25b9603660f6"><div class="ttname"><a href="classCharacter.html#a029105b8133dbafddbdd25b9603660f6">Character::crafting_speed_multiplier</a></div><div class="ttdeci">float crafting_speed_multiplier(const recipe &amp;rec) const</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00299">crafting.cpp:299</a></div></div>
<div class="ttc" id="aclassCharacter_html_a68de7da109abd90b4f2210057c982fe0"><div class="ttname"><a href="classCharacter.html#a68de7da109abd90b4f2210057c982fe0">Character::get_perceived_pain</a></div><div class="ttdeci">int get_perceived_pain() const override</div><div class="ttdoc">Returns perceived pain (reduced with painkillers)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l12517">character.cpp:12517</a></div></div>
<div class="ttc" id="aclassCharacter_html_a715218c4311d84bcc520ba82685bf561"><div class="ttname"><a href="classCharacter.html#a715218c4311d84bcc520ba82685bf561">Character::morale_crafting_speed_multiplier</a></div><div class="ttdeci">float morale_crafting_speed_multiplier(const recipe &amp;rec) const</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00204">crafting.cpp:204</a></div></div>
<div class="ttc" id="aclassCharacter_html_a72f93d667c7b4c338f3a80817df0a8d8"><div class="ttname"><a href="classCharacter.html#a72f93d667c7b4c338f3a80817df0a8d8">Character::lighting_craft_speed_multiplier</a></div><div class="ttdeci">float lighting_craft_speed_multiplier(const recipe &amp;rec, const tripoint &amp;p=tripoint_min) const</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00167">crafting.cpp:167</a></div></div>
<div class="ttc" id="aclassCharacter_html_adac3431fb1398a94b0efa74945af8484"><div class="ttname"><a href="classCharacter.html#adac3431fb1398a94b0efa74945af8484">Character::get_limb_score</a></div><div class="ttdeci">float get_limb_score(const limb_score_id &amp;score, const body_part_type::type &amp;bp=body_part_type::type::num_types, int override_encumb=-1, int override_wounds=-1) const</div><div class="ttdef"><b>Definition:</b> <a href="character__modifier_8cpp_source.html#l00226">character_modifier.cpp:226</a></div></div>
<div class="ttc" id="aclassrecipe_html_aca293605940df4e5c431fa8ba5009074"><div class="ttname"><a href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">recipe::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag_name) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00145">recipe.cpp:145</a></div></div>
<div class="ttc" id="acolor_8h_html_a33926885ed6ded5b33bf53abf65c931d"><div class="ttname"><a href="color_8h.html#a33926885ed6ded5b33bf53abf65c931d">i_green</a></div><div class="ttdeci">#define i_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00054">color.h:54</a></div></div>
<div class="ttc" id="acolor_8h_html_a56f36806be49a890c700dbc2eabac0ae"><div class="ttname"><a href="color_8h.html#a56f36806be49a890c700dbc2eabac0ae">i_red</a></div><div class="ttdeci">#define i_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00053">color.h:53</a></div></div>
<div class="ttc" id="acolor_8h_html_a6ae40361a7c556faaf7cbb098307ad41"><div class="ttname"><a href="color_8h.html#a6ae40361a7c556faaf7cbb098307ad41">i_yellow</a></div><div class="ttdeci">#define i_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00064">color.h:64</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a4806094ba6d128566c88713330de8b74"><div class="ttname"><a href="crafting__gui_8cpp.html#a4806094ba6d128566c88713330de8b74">flag_NO_MANIP</a></div><div class="ttdeci">static const std::string flag_NO_MANIP(&quot;NO_MANIP&quot;)</div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a54ac13f9e7249edeaee765f5a60e8788"><div class="ttname"><a href="crafting__gui_8cpp.html#a54ac13f9e7249edeaee765f5a60e8788">flag_AFFECTED_BY_PAIN</a></div><div class="ttdeci">static const std::string flag_AFFECTED_BY_PAIN(&quot;AFFECTED_BY_PAIN&quot;)</div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a8751ef846def36cb3c192fc18d34cc3b"><div class="ttname"><a href="crafting__gui_8cpp.html#a8751ef846def36cb3c192fc18d34cc3b">limb_score_manip</a></div><div class="ttdeci">static const limb_score_id limb_score_manip(&quot;manip&quot;)</div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_af19ff13e451201336c6f68c13e36c9a0"><div class="ttname"><a href="crafting__gui_8cpp.html#af19ff13e451201336c6f68c13e36c9a0">craft_speed_reason_strings</a></div><div class="ttdeci">static const std::map&lt; const CRAFTING_SPEED_STATE, translation &gt; craft_speed_reason_strings</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00086">crafting_gui.cpp:86</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_aa9823d249c21fa50daf277957fabb175"><div class="ttname"><a href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">catacurses::wnoutrefresh</a></div><div class="ttdeci">void wnoutrefresh(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00067">ncurses_def.cpp:67</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aa6093ccb0ebc7f7ee1f11edd5cc2711c"><div class="ttname"><a href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a></div><div class="ttdeci">int right_print(const catacurses::window &amp;w, const int line, const int right_indent, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00574">output.cpp:574</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00086">craft_speed_reason_strings</a>, <a class="el" href="crafting_8cpp_source.html#l00299">Character::crafting_speed_multiplier()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00082">FAST_CRAFTING</a>, <a class="el" href="crafting__gui_8cpp.html#a54ac13f9e7249edeaee765f5a60e8788">flag_AFFECTED_BY_PAIN()</a>, <a class="el" href="crafting__gui_8cpp.html#a4806094ba6d128566c88713330de8b74">flag_NO_MANIP()</a>, <a class="el" href="character__modifier_8cpp_source.html#l00226">Character::get_limb_score()</a>, <a class="el" href="character_8cpp_source.html#l12517">Character::get_perceived_pain()</a>, <a class="el" href="recipe_8cpp_source.html#l00145">recipe::has_flag()</a>, <a class="el" href="color_8h_source.html#l00054">i_green</a>, <a class="el" href="color_8h_source.html#l00053">i_red</a>, <a class="el" href="color_8h_source.html#l00064">i_yellow</a>, <a class="el" href="crafting_8cpp_source.html#l00167">Character::lighting_craft_speed_multiplier()</a>, <a class="el" href="crafting__gui_8cpp.html#a8751ef846def36cb3c192fc18d34cc3b">limb_score_manip</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="crafting_8cpp_source.html#l00204">Character::morale_crafting_speed_multiplier()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00083">NORMAL_CRAFTING</a>, <a class="el" href="output_8cpp_source.html#l00574">right_print()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00081">SLOW_BUT_CRAFTABLE</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00079">TOO_DARK_TO_CRAFT</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00080">TOO_SLOW_TO_CRAFT</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l01186">select_crafter_and_crafting_recipe()</a>.</p>

</div>
</div>
<a id="a617c94a2fbd871936182c0cb18ca62ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a617c94a2fbd871936182c0cb18ca62ba">&#9670;&nbsp;</a></span>draw_hidden_amount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void draw_hidden_amount </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_recipe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l02254">2254</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;{</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    <span class="keywordflow">if</span>( amount == 1 ) {</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;        <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, 1, 1, <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;* %s hidden recipe - %s in category *&quot;</span> ), amount,</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;                     num_recipe ) );</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( amount &gt;= 2 ) {</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;        <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, 1, 1, <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;* %s hidden recipes - %s in category *&quot;</span> ), amount,</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;                     num_recipe ) );</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( amount == 0 ) {</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, 1, 1, <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a>, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;* No hidden recipe - %s in category *&quot;</span> ),</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;                     num_recipe ) );</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    }</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    <span class="comment">//Finish border connection with the recipe tabs</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    <a class="code" href="namespacecatacurses.html#a378d993a574b6bf30ea509fa46de2142">mvwhline</a>( w, <a class="code" href="structpoint.html">point</a>( 0, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w ) - 1 ), <a class="code" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a>, <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) - 1 );</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) - 1, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w ) - 1 ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a479e8a9ad84c68ed5f8609d4b536a8bb">LINE_OOXX</a> ); <span class="comment">// ^|</span></div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w );</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;}</div>
<div class="ttc" id="anamespacecatacurses_html_a378d993a574b6bf30ea509fa46de2142"><div class="ttname"><a href="namespacecatacurses.html#a378d993a574b6bf30ea509fa46de2142">catacurses::mvwhline</a></div><div class="ttdeci">void mvwhline(const window &amp;win, const point &amp;p, chtype ch, int n)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00221">ncurses_def.cpp:221</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a929fe85d472028f52d8a5cdfc0d35017"><div class="ttname"><a href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">catacurses::getmaxx</a></div><div class="ttdeci">int getmaxx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00091">ncurses_def.cpp:91</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_adc81ca40445dc062af12fb6d7a4793d0"><div class="ttname"><a href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">catacurses::getmaxy</a></div><div class="ttdeci">int getmaxy(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00099">ncurses_def.cpp:99</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afb5597c87a5847c7d64b878ab3a77d5b"><div class="ttname"><a href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a></div><div class="ttdeci">void mvwputch(const catacurses::window &amp;w, const point &amp;p, nc_color FG, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00590">output.cpp:590</a></div></div>
<div class="ttc" id="aoutput_8h_html_a435355aeca1be3844e79fc4db8e691e1"><div class="ttname"><a href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a></div><div class="ttdeci">#define LINE_OXOX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00047">output.h:47</a></div></div>
<div class="ttc" id="aoutput_8h_html_a479e8a9ad84c68ed5f8609d4b536a8bb"><div class="ttname"><a href="output_8h.html#a479e8a9ad84c68ed5f8609d4b536a8bb">LINE_OOXX</a></div><div class="ttdeci">#define LINE_OOXX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00050">output.h:50</a></div></div>
<div class="ttc" id="aoutput_8h_html_a966901ace2cf6cba3fc9cec310150860"><div class="ttname"><a href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a></div><div class="ttdeci">#define BORDER_COLOR</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00098">output.h:98</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="output_8h_source.html#l00098">BORDER_COLOR</a>, <a class="el" href="color_8h_source.html#l00020">c_green</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00099">catacurses::getmaxy()</a>, <a class="el" href="output_8h_source.html#l00050">LINE_OOXX</a>, <a class="el" href="output_8h_source.html#l00047">LINE_OXOX</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00221">catacurses::mvwhline()</a>, <a class="el" href="output_8cpp_source.html#l00590">mvwputch()</a>, <a class="el" href="output_8cpp_source.html#l00574">right_print()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l01186">select_crafter_and_crafting_recipe()</a>.</p>

</div>
</div>
<a id="aef8a9c446d871dc74175076ec78918fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef8a9c446d871dc74175076ec78918fb">&#9670;&nbsp;</a></span>draw_recipe_subtabs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt; size_t, <a class="el" href="structinclusive__rectangle.html">inclusive_rectangle</a>&lt; <a class="el" href="structpoint.html">point</a> &gt; &gt; draw_recipe_subtabs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>subtab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp;&#160;</td>
          <td class="paramname"><em>available_recipes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cde">TAB_MODE</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt; <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>, bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>unread</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l02375">2375</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;{</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w );</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    std::map&lt;size_t, inclusive_rectangle&lt;point&gt;&gt; subtab_map;</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    <span class="keywordtype">int</span> width = <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w );</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160; </div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    <a class="code" href="namespacecatacurses.html#a6b1752cd3ddf8789d193e23b540d6354">mvwvline</a>( w, <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a>, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w ) );  <span class="comment">// |</span></div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    <a class="code" href="namespacecatacurses.html#a6b1752cd3ddf8789d193e23b540d6354">mvwvline</a>( w, <a class="code" href="structpoint.html">point</a>( width - 1, 0 ), <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a>, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w ) );  <span class="comment">// |</span></div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160; </div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <span class="keywordflow">switch</span>( mode ) {</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdea50d1448013c6f17125caee18aa418af7">NORMAL</a>: {</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;            std::vector&lt;std::string&gt; translated_subcats;</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;            std::vector&lt;bool&gt; empty_subcats;</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;            std::vector&lt;bool&gt; unread_subcats;</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;            translated_subcats.reserve( <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>[<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>].<a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a>() );</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;            empty_subcats.reserve( <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>[<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>].<a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a>() );</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;            unread_subcats.reserve( <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>[<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>].<a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a>() );</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;subcat : <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>[<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>] ) {</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;                translated_subcats.emplace_back( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <a class="code" href="crafting__gui_8cpp.html#a1ddca9d195789dc97434d31d9dfdb41d">get_subcat_unprefixed</a>( <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>, subcat ) ) );</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;                empty_subcats.emplace_back( available_recipes.<a class="code" href="classrecipe__subset.html#a7933724d9f3e4c4ef3e6a91507ac6807">empty_category</a>( <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>,</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;                                            subcat != <span class="stringliteral">&quot;CSC_ALL&quot;</span> ? subcat : <span class="stringliteral">&quot;&quot;</span> ) );</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;                unread_subcats.emplace_back( unread[subcat] );</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;            }</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;            std::pair&lt;std::vector&lt;std::string&gt;, <span class="keywordtype">size_t</span>&gt; fitted_subcat_list = <a class="code" href="output_8cpp.html#a93911359ca78d955b7d25295b358f07f">fit_tabs_to_width</a>( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ),</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;                    subtab, translated_subcats );</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;            <span class="keywordtype">size_t</span> offset = fitted_subcat_list.second;</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;            <span class="keywordflow">if</span>( fitted_subcat_list.first.size() + offset &gt; <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>[<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>].size() ) {</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;            }</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;            <span class="comment">// Draw the tabs on each other</span></div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;            <span class="keywordtype">int</span> pos_x = 2;</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;            <span class="comment">// Step between tabs, two for tabs border</span></div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;            <span class="keywordtype">int</span> tab_step = 3;</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; fitted_subcat_list.first.size(); ++i ) {</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;                <span class="keywordflow">if</span>( empty_subcats[i + offset] ) {</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;                    <a class="code" href="output_8cpp.html#aa5e44e8f0fb9e375fd713321d17c35cf">draw_subtab</a>( w, pos_x, fitted_subcat_list.first[i], subtab == i + offset, <span class="keyword">true</span>,</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;                                 empty_subcats[i + offset] );</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;                    subtab_map.emplace( i + offset, <a class="code" href="output_8cpp.html#aa5e44e8f0fb9e375fd713321d17c35cf">draw_subtab</a>( w, pos_x, fitted_subcat_list.first[i],</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;                                        subtab == i + offset, <span class="keyword">true</span>, empty_subcats[i + offset] ) );</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;                }</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;                pos_x += <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( fitted_subcat_list.first[i] ) + tab_step;</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;                <span class="keywordflow">if</span>( unread_subcats[i + offset] ) {</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;                    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w, <a class="code" href="structpoint.html">point</a>( pos_x - 2, 0 ), <a class="code" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a>, <span class="stringliteral">&quot;⁺&quot;</span> );</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;                }</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;            }</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;        }</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdeab0f4e80b9200bdfca611883a5bb2cecb">FILTERED</a>:</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdeabc04848b2d94351b99f92127e29bb075">BATCH</a>:</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;            <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w );</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; 3; i++ ) {</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;                <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( 0, i ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> ); <span class="comment">// |</span></div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;                <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( width - 1, i ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> ); <span class="comment">// |</span></div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;            }</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    }</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160; </div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w );</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    <span class="keywordflow">return</span> subtab_map;</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;}</div>
<div class="ttc" id="acatacharset_8cpp_html_af20ee33da59ccceb9f4c14005c0bbe80"><div class="ttname"><a href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a></div><div class="ttdeci">int utf8_width(const std::string_view s, const bool ignore_tags)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00104">catacharset.cpp:104</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html_a7933724d9f3e4c4ef3e6a91507ac6807"><div class="ttname"><a href="classrecipe__subset.html#a7933724d9f3e4c4ef3e6a91507ac6807">recipe_subset::empty_category</a></div><div class="ttdeci">bool empty_category(const std::string &amp;cat, const std::string &amp;subcat=std::string()) const</div><div class="ttdoc">Check if there is any recipes in given category (optionally restricted to subcategory),...</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00344">recipe_dictionary.cpp:344</a></div></div>
<div class="ttc" id="acolor_8h_html_a2236aa1fe66b707a104f19ad45c23230"><div class="ttname"><a href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a></div><div class="ttdeci">#define c_light_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00026">color.h:26</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a03dfc4c687680a542638da508622d822"><div class="ttname"><a href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a></div><div class="ttdeci">static std::map&lt; std::string, std::vector&lt; std::string &gt; &gt; craft_subcat_list</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00096">crafting_gui.cpp:96</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a1ddca9d195789dc97434d31d9dfdb41d"><div class="ttname"><a href="crafting__gui_8cpp.html#a1ddca9d195789dc97434d31d9dfdb41d">get_subcat_unprefixed</a></div><div class="ttdeci">static std::string get_subcat_unprefixed(const std::string_view cat, const std::string &amp;prefixed_name)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00159">crafting_gui.cpp:159</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a6b1752cd3ddf8789d193e23b540d6354"><div class="ttname"><a href="namespacecatacurses.html#a6b1752cd3ddf8789d193e23b540d6354">catacurses::mvwvline</a></div><div class="ttdeci">void mvwvline(const window &amp;win, const point &amp;p, chtype ch, int n)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00230">ncurses_def.cpp:230</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_ace2ce3990cb812fb83adf6e4ea1f9e8e"><div class="ttname"><a href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">catacurses::werase</a></div><div class="ttdeci">void werase(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00083">ncurses_def.cpp:83</a></div></div>
<div class="ttc" id="anamespacekeycode_html_a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86"><div class="ttname"><a href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">keycode::tab</a></div><div class="ttdeci">@ tab</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00077">input.h:77</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_af97f9dbddaa758278662da3478826c61"><div class="ttname"><a href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">om_direction::size</a></div><div class="ttdeci">const size_t size</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00066">omdata.h:66</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1184e3eda011b110d09bf2dcf08228f5"><div class="ttname"><a href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a></div><div class="ttdeci">void mvwprintz(const catacurses::window &amp;w, const point &amp;p, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03290">output.cpp:3290</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a93911359ca78d955b7d25295b358f07f"><div class="ttname"><a href="output_8cpp.html#a93911359ca78d955b7d25295b358f07f">fit_tabs_to_width</a></div><div class="ttdeci">std::pair&lt; std::vector&lt; std::string &gt;, size_t &gt; fit_tabs_to_width(const size_t max_width, const int current_tab, const std::vector&lt; std::string &gt; &amp;original_tab_list)</div><div class="ttdoc">Produces the largest subset of a list of tabs (for draw_tabs or draw_subtab) that can be displayed wi...</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01653">output.cpp:1653</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aa5e44e8f0fb9e375fd713321d17c35cf"><div class="ttname"><a href="output_8cpp.html#aa5e44e8f0fb9e375fd713321d17c35cf">draw_subtab</a></div><div class="ttdeci">inclusive_rectangle&lt; point &gt; draw_subtab(const catacurses::window &amp;w, int iOffsetX, const std::string &amp;sText, bool bSelected, bool bDecorate, bool bDisabled)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01534">output.cpp:1534</a></div></div>
<div class="ttc" id="aoutput_8h_html_a33ab4e0193402fed8f74590a30fadc3c"><div class="ttname"><a href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a></div><div class="ttdeci">#define LINE_XOXO</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00046">output.h:46</a></div></div>
<div class="ttc" id="apoint_8h_html_a0ee2195dcb488ae55fbf4316f5011172"><div class="ttname"><a href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></div><div class="ttdeci">constexpr point point_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00251">point.h:251</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00075">BATCH</a>, <a class="el" href="output_8h_source.html#l00098">BORDER_COLOR</a>, <a class="el" href="color_8h_source.html#l00026">c_light_green</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00096">craft_subcat_list</a>, <a class="el" href="output_8cpp_source.html#l01534">draw_subtab()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00344">recipe_subset::empty_category()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00074">FILTERED</a>, <a class="el" href="output_8cpp_source.html#l01653">fit_tabs_to_width()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00159">get_subcat_unprefixed()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00099">catacurses::getmaxy()</a>, <a class="el" href="output_8h_source.html#l00046">LINE_XOXO</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="output_8cpp_source.html#l00590">mvwputch()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00230">catacurses::mvwvline()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00073">NORMAL</a>, <a class="el" href="point_8h_source.html#l00251">point_zero</a>, <a class="el" href="omdata_8h_source.html#l00066">om_direction::size</a>, <a class="el" href="input_8h_source.html#l00077">keycode::tab</a>, <a class="el" href="catacharset_8cpp_source.html#l00104">utf8_width()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00083">catacurses::werase()</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l01186">select_crafter_and_crafting_recipe()</a>.</p>

</div>
</div>
<a id="a27baf6e831488479b228dfcf8afaa451"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27baf6e831488479b228dfcf8afaa451">&#9670;&nbsp;</a></span>draw_recipe_tabs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt; size_t, <a class="el" href="structinclusive__rectangle.html">inclusive_rectangle</a>&lt; <a class="el" href="structpoint.html">point</a> &gt; &gt; draw_recipe_tabs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtab__list.html">tab_list</a> &amp;&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cde">TAB_MODE</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>filtered_unread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt; <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>, bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>unread</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l02325">2325</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;{</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w );</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;    std::map&lt;size_t, inclusive_rectangle&lt;point&gt;&gt; tab_map;</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160; </div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    <span class="keywordflow">switch</span>( mode ) {</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdea50d1448013c6f17125caee18aa418af7">NORMAL</a>: {</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;            std::vector&lt;std::string&gt; translated_cats;</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;            translated_cats.reserve( <a class="code" href="crafting__gui_8cpp.html#aa56eb1d3153ac8abf3ede81da9bef10b">craft_cat_list</a>.size() );</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;cat : <a class="code" href="crafting__gui_8cpp.html#aa56eb1d3153ac8abf3ede81da9bef10b">craft_cat_list</a> ) {</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;                <span class="keywordflow">if</span>( unread[ cat ] ) {</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;                    translated_cats.emplace_back( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <a class="code" href="crafting__gui_8cpp.html#aa2baf06a421262c877057f32edfb0e90">get_cat_unprefixed</a>(</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;                                                         cat ) ).append( <span class="stringliteral">&quot;&lt;color_light_green&gt;⁺&lt;/color&gt;&quot;</span> ) );</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;                    translated_cats.emplace_back( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <a class="code" href="crafting__gui_8cpp.html#aa2baf06a421262c877057f32edfb0e90">get_cat_unprefixed</a>( cat ) ) );</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;                }</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;            }</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;            std::pair&lt;std::vector&lt;std::string&gt;, <span class="keywordtype">size_t</span>&gt; fitted_tabs = <a class="code" href="output_8cpp.html#a93911359ca78d955b7d25295b358f07f">fit_tabs_to_width</a>( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ),</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;                    <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>.cur_index(), translated_cats );</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;            tab_map = <a class="code" href="output_8cpp.html#a97d44f2e2721cace63774c2eb7a916d1">draw_tabs</a>( w, fitted_tabs.first, <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>.cur_index() - fitted_tabs.second,</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;                                 fitted_tabs.second );</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;        }</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdeab0f4e80b9200bdfca611883a5bb2cecb">FILTERED</a>: {</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;            <a class="code" href="namespacecatacurses.html#a378d993a574b6bf30ea509fa46de2142">mvwhline</a>( w, <a class="code" href="structpoint.html">point</a>( 0, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w ) - 1 ), <a class="code" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a>, <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) - 1 );  <span class="comment">// ─</span></div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( 0, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w ) - 1 ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a6405dcdb708433c3c3dde836aa8a15cc">LINE_OXXO</a> );  <span class="comment">// ┌</span></div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;            std::string tab_name = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Searched&quot;</span> );</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;            <span class="keywordflow">if</span>( filtered_unread ) {</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;                tab_name += <span class="stringliteral">&quot; &quot;</span>;  <span class="comment">// space for green &quot;+&quot;</span></div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;            }</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;            <a class="code" href="output_8cpp.html#a707eb1431f290f60a0cacedd83fbd0cf">draw_tab</a>( w, 2, tab_name, <span class="keyword">true</span> );</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;            <span class="keywordflow">if</span>( filtered_unread ) {</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w, <a class="code" href="structpoint.html">point</a>( 2 + <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( tab_name ), 1 ), <a class="code" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a>, <span class="stringliteral">&quot;⁺&quot;</span> );</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;            }</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;        }</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdeabc04848b2d94351b99f92127e29bb075">BATCH</a>:</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;            <a class="code" href="namespacecatacurses.html#a378d993a574b6bf30ea509fa46de2142">mvwhline</a>( w, <a class="code" href="structpoint.html">point</a>( 0, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w ) - 1 ), <a class="code" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a>, <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) - 1 );  <span class="comment">// ─</span></div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( 0, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w ) - 1 ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a6405dcdb708433c3c3dde836aa8a15cc">LINE_OXXO</a> );  <span class="comment">// ┌</span></div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;            <a class="code" href="output_8cpp.html#a707eb1431f290f60a0cacedd83fbd0cf">draw_tab</a>( w, 2, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Batch&quot;</span> ), <span class="keyword">true</span> );</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    }</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    <span class="comment">//draw_tabs will produce a border ending with ┐ but that&#39;s inappropriate here, so clean it up</span></div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) - 1, 2 ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a> );  <span class="comment">// ─</span></div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w );</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    <span class="keywordflow">return</span> tab_map;</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;}</div>
<div class="ttc" id="acrafting__gui_8cpp_html_aa2baf06a421262c877057f32edfb0e90"><div class="ttname"><a href="crafting__gui_8cpp.html#aa2baf06a421262c877057f32edfb0e90">get_cat_unprefixed</a></div><div class="ttdeci">static std::string get_cat_unprefixed(const std::string_view prefixed_name)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00125">crafting_gui.cpp:125</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_aa56eb1d3153ac8abf3ede81da9bef10b"><div class="ttname"><a href="crafting__gui_8cpp.html#aa56eb1d3153ac8abf3ede81da9bef10b">craft_cat_list</a></div><div class="ttdeci">static std::vector&lt; std::string &gt; craft_cat_list</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00095">crafting_gui.cpp:95</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a707eb1431f290f60a0cacedd83fbd0cf"><div class="ttname"><a href="output_8cpp.html#a707eb1431f290f60a0cacedd83fbd0cf">draw_tab</a></div><div class="ttdeci">void draw_tab(const catacurses::window &amp;w, int iOffsetX, const std::string_view sText, bool bSelected)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01495">output.cpp:1495</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a97d44f2e2721cace63774c2eb7a916d1"><div class="ttname"><a href="output_8cpp.html#a97d44f2e2721cace63774c2eb7a916d1">draw_tabs</a></div><div class="ttdeci">std::map&lt; size_t, inclusive_rectangle&lt; point &gt; &gt; draw_tabs(const catacurses::window &amp;w, const std::vector&lt; std::string &gt; &amp;tab_texts, const size_t current_tab, const size_t offset)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01562">output.cpp:1562</a></div></div>
<div class="ttc" id="aoutput_8h_html_a6405dcdb708433c3c3dde836aa8a15cc"><div class="ttname"><a href="output_8h.html#a6405dcdb708433c3c3dde836aa8a15cc">LINE_OXXO</a></div><div class="ttdeci">#define LINE_OXXO</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00049">output.h:49</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00075">BATCH</a>, <a class="el" href="output_8h_source.html#l00098">BORDER_COLOR</a>, <a class="el" href="color_8h_source.html#l00026">c_light_green</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00095">craft_cat_list</a>, <a class="el" href="output_8cpp_source.html#l01495">draw_tab()</a>, <a class="el" href="output_8cpp_source.html#l01562">draw_tabs()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00074">FILTERED</a>, <a class="el" href="output_8cpp_source.html#l01653">fit_tabs_to_width()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00125">get_cat_unprefixed()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00099">catacurses::getmaxy()</a>, <a class="el" href="output_8h_source.html#l00047">LINE_OXOX</a>, <a class="el" href="output_8h_source.html#l00049">LINE_OXXO</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00221">catacurses::mvwhline()</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="output_8cpp_source.html#l00590">mvwputch()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00073">NORMAL</a>, <a class="el" href="input_8h_source.html#l00077">keycode::tab</a>, <a class="el" href="catacharset_8cpp_source.html#l00104">utf8_width()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00083">catacurses::werase()</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l01186">select_crafter_and_crafting_recipe()</a>.</p>

</div>
</div>
<a id="a75a535618b08ea03b642953f7a0bf724"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75a535618b08ea03b642953f7a0bf724">&#9670;&nbsp;</a></span>expand_recipes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void expand_recipes </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; const <a class="el" href="classrecipe.html">recipe</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>indent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt; const <a class="el" href="classrecipe.html">recipe</a> *, availability &gt; &amp;&#160;</td>
          <td class="paramname"><em>availability_cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>crafter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>unread_recipes_first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>highlight_unread_recipes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp;&#160;</td>
          <td class="paramname"><em>available_recipes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>hidden_recipes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l01124">1124</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;{</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="comment">//TODO Make this more effecient</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; current.size(); ++i ) {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <span class="keywordflow">if</span>( current[i]-&gt;is_nested()</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            &amp;&amp; <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#aeb7e1c86d9c6731b93d12e64ecba4fe0">expanded_recipes</a>.find( current[i]-&gt;ident() ) != <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#aeb7e1c86d9c6731b93d12e64ecba4fe0">expanded_recipes</a>.end()</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;          ) {</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;            <span class="comment">// add all the recipes from the nests</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;            <a class="code" href="crafting__gui_8cpp.html#a0965fdbfb8880d31edf0bf9c39aa8eb0">recursively_expance_recipes</a>( current, indent, availability_cache, i, crafter,</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                                         unread_recipes_first, highlight_unread_recipes, available_recipes, hidden_recipes );</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        }</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    }</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;}</div>
<div class="ttc" id="aclassuistatedata_html_aeb7e1c86d9c6731b93d12e64ecba4fe0"><div class="ttname"><a href="classuistatedata.html#aeb7e1c86d9c6731b93d12e64ecba4fe0">uistatedata::expanded_recipes</a></div><div class="ttdeci">std::set&lt; recipe_id &gt; expanded_recipes</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00189">uistate.h:189</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a0965fdbfb8880d31edf0bf9c39aa8eb0"><div class="ttname"><a href="crafting__gui_8cpp.html#a0965fdbfb8880d31edf0bf9c39aa8eb0">recursively_expance_recipes</a></div><div class="ttdeci">static void recursively_expance_recipes(std::vector&lt; const recipe * &gt; &amp;current, std::vector&lt; int &gt; &amp;indent, std::map&lt; const recipe *, availability &gt; &amp;availability_cache, int i, Character &amp;crafter, bool unread_recipes_first, bool highlight_unread_recipes, const recipe_subset &amp;available_recipes, const std::set&lt; recipe_id &gt; &amp;hidden_recipes)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l01072">crafting_gui.cpp:1072</a></div></div>
<div class="ttc" id="agame_8cpp_html_a764052f34a47c6dee072c67b842a222c"><div class="ttname"><a href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a></div><div class="ttdeci">uistatedata uistate</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00385">game.cpp:385</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uistate_8h_source.html#l00189">uistatedata::expanded_recipes</a>, <a class="el" href="crafting__gui_8cpp_source.html#l01072">recursively_expance_recipes()</a>, and <a class="el" href="game_8cpp_source.html#l00385">uistate</a>.</p>

</div>
</div>
<a id="abf53a2e49691c44280fb320bf524c330"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf53a2e49691c44280fb320bf524c330">&#9670;&nbsp;</a></span>filter_recipes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classrecipe__subset.html">recipe_subset</a> filter_recipes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp;&#160;</td>
          <td class="paramname"><em>available_recipes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string_view&#160;</td>
          <td class="paramname"><em>qry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>crafter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void(size_t, size_t)&gt; &amp;&#160;</td>
          <td class="paramname"><em>progress_callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00918">918</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;{</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keywordtype">size_t</span> qry_begin = 0;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordtype">size_t</span> qry_end = 0;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <a class="code" href="classrecipe__subset.html">recipe_subset</a> filtered_recipes = available_recipes;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <span class="comment">// Find next &#39;,&#39;</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        qry_end = qry.find_first_of( <span class="charliteral">&#39;,&#39;</span>, qry_begin );</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        std::string qry_filter_str = <a class="code" href="output_8cpp.html#aaaccf20f312c5db1637a1a967b37f194">trim</a>( qry.substr( qry_begin, qry_end - qry_begin ) );</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <span class="comment">// Process filter</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <span class="keywordflow">if</span>( qry_filter_str.size() &gt; 2 &amp;&amp; qry_filter_str[1] == <span class="charliteral">&#39;:&#39;</span> ) {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;            <span class="keywordflow">switch</span>( qry_filter_str[0] ) {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>:</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                    filtered_recipes = filtered_recipes.<a class="code" href="classrecipe__subset.html#a612ec51b6a927844d9dd2ee2297d7387">reduce</a>( qry_filter_str.substr( 2 ),</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                                       <a class="code" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07a39ab32c5aeb56c9f5ae17f073ce31023">recipe_subset::search_type::tool</a>, progress_callback );</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                    filtered_recipes = filtered_recipes.<a class="code" href="classrecipe__subset.html#a612ec51b6a927844d9dd2ee2297d7387">reduce</a>( qry_filter_str.substr( 2 ),</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                                       <a class="code" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07a700c216fb376666eaeda0c892e8bdc09">recipe_subset::search_type::component</a>, progress_callback );</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160; </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                    filtered_recipes = filtered_recipes.<a class="code" href="classrecipe__subset.html#a612ec51b6a927844d9dd2ee2297d7387">reduce</a>( qry_filter_str.substr( 2 ),</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                                       <a class="code" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07a713dd4d0b2e842c08da62ddeec872331">recipe_subset::search_type::skill</a>, progress_callback );</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                    filtered_recipes = filtered_recipes.<a class="code" href="classrecipe__subset.html#a612ec51b6a927844d9dd2ee2297d7387">reduce</a>( qry_filter_str.substr( 2 ),</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                                       <a class="code" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07ab6823d3826d07696c2663ca5d09bc308">recipe_subset::search_type::primary_skill</a>, progress_callback );</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160; </div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;Q&#39;</span>:</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                    filtered_recipes = filtered_recipes.<a class="code" href="classrecipe__subset.html#a612ec51b6a927844d9dd2ee2297d7387">reduce</a>( qry_filter_str.substr( 2 ),</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                                       <a class="code" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07ad66636b253cb346dbb6240e30def3618">recipe_subset::search_type::quality</a>, progress_callback );</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160; </div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;q&#39;</span>:</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                    filtered_recipes = filtered_recipes.<a class="code" href="classrecipe__subset.html#a612ec51b6a927844d9dd2ee2297d7387">reduce</a>( qry_filter_str.substr( 2 ),</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                                       <a class="code" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07af72e02f1ec09d417a73e9177d22c2842">recipe_subset::search_type::quality_result</a>, progress_callback );</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160; </div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                    filtered_recipes = filtered_recipes.<a class="code" href="classrecipe__subset.html#a612ec51b6a927844d9dd2ee2297d7387">reduce</a>( qry_filter_str.substr( 2 ),</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                                       <a class="code" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07ab97e7d71101523641d6d44fbe4f5fce0">recipe_subset::search_type::description_result</a>, progress_callback );</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>: {</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                    <span class="comment">// get_learned_recipes lists NO nested_recipes</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classrecipe__subset.html">recipe_subset</a> &amp;learned = crafter.<a class="code" href="classCharacter.html#a982ac6331662b9f0d643f7752e0b60da">get_learned_recipes</a>();</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                    <a class="code" href="classrecipe__subset.html">recipe_subset</a> temp_subset;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="crafting__gui_8cpp.html#aa2d1ea16753e055ea82f24e431dfa775">query_is_yes</a>( qry_filter_str ) ) {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                        temp_subset = available_recipes.<a class="code" href="classrecipe__subset.html#a0b48251db46847f431ee11b148fda16b">intersection</a>( learned );</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                        <span class="comment">// nested_recipes cannot be learned so don&#39;t show them</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                        temp_subset = available_recipes.<a class="code" href="classrecipe__subset.html#abf934da21a2868fb45b8e90ff931ba29">difference</a>( learned )</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                                      .<a class="code" href="classrecipe__subset.html#abf934da21a2868fb45b8e90ff931ba29">difference</a>( <a class="code" href="recipe__dictionary_8cpp.html#a9fdb53bd54fb6dcc5f9b2e1e1b44570f">recipe_dict</a>.<a class="code" href="classrecipe__dictionary.html#ac0618c8a67479fe903af650ea96c8f21">all_nested</a>() );</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                    }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                    filtered_recipes = filtered_recipes.<a class="code" href="classrecipe__subset.html#a0b48251db46847f431ee11b148fda16b">intersection</a>( temp_subset );</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160; </div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;P&#39;</span>:</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                    filtered_recipes = filtered_recipes.<a class="code" href="classrecipe__subset.html#a612ec51b6a927844d9dd2ee2297d7387">reduce</a>( qry_filter_str.substr( 2 ),</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                                       <a class="code" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07abbe573f4fc17a9c1900d559b703221fc">recipe_subset::search_type::proficiency</a>, progress_callback );</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;l&#39;</span>:</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                    filtered_recipes = filtered_recipes.<a class="code" href="classrecipe__subset.html#a612ec51b6a927844d9dd2ee2297d7387">reduce</a>( qry_filter_str.substr( 2 ),</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                                       <a class="code" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07a3d6885a0e5f663baa3e2d1abe195b024">recipe_subset::search_type::difficulty</a>, progress_callback );</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>: {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                    <a class="code" href="classrecipe__subset.html">recipe_subset</a> result;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structitype.html">itype</a> *e : <a class="code" href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a>-&gt;all() ) {</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                        <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#a1d2fecc57218d4b919232bf05f5e1740">wildcard_match</a>( e-&gt;nname( 1 ), qry_filter_str.substr( 2 ) ) ) {</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                            result.<a class="code" href="classrecipe__subset.html#ab91d636738b42059a724ac86ff6944a4">include</a>( <a class="code" href="classrecipe__subset.html">recipe_subset</a>( available_recipes,</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                                                           available_recipes.<a class="code" href="classrecipe__subset.html#a7e88353a1cf81d4c0a36be16770a0b46">recipes_that_produce</a>( e-&gt;get_id() ) ) );</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                        }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                    }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                    filtered_recipes = result;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160; </div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                }</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160; </div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                    filtered_recipes = filtered_recipes.<a class="code" href="classrecipe__subset.html#a612ec51b6a927844d9dd2ee2297d7387">reduce</a>( qry_filter_str.substr( 2 ),</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                                       <a class="code" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07a3715598906de462b20618b42e68f3aa4">recipe_subset::search_type::activity_level</a>, progress_callback );</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            }</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( qry_filter_str.size() &gt; 1 &amp;&amp; qry_filter_str[0] == <span class="charliteral">&#39;-&#39;</span> ) {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            filtered_recipes = filtered_recipes.<a class="code" href="classrecipe__subset.html#a612ec51b6a927844d9dd2ee2297d7387">reduce</a>( qry_filter_str.substr( 1 ),</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                               <a class="code" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07af1049ff0ae7c7e84b7f7f5e5af0088f9">recipe_subset::search_type::exclude_name</a>, progress_callback );</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            filtered_recipes = filtered_recipes.<a class="code" href="classrecipe__subset.html#a612ec51b6a927844d9dd2ee2297d7387">reduce</a>( qry_filter_str );</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        }</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        qry_begin = qry_end + 1;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    } <span class="keywordflow">while</span>( qry_end != std::string::npos );</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">return</span> filtered_recipes;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a982ac6331662b9f0d643f7752e0b60da"><div class="ttname"><a href="classCharacter.html#a982ac6331662b9f0d643f7752e0b60da">Character::get_learned_recipes</a></div><div class="ttdeci">const recipe_subset &amp; get_learned_recipes() const</div><div class="ttdoc">Returns all known recipes.</div><div class="ttdef"><b>Definition:</b> <a href="character__crafting_8cpp_source.html#l00077">character_crafting.cpp:77</a></div></div>
<div class="ttc" id="aclassrecipe__dictionary_html_ac0618c8a67479fe903af650ea96c8f21"><div class="ttname"><a href="classrecipe__dictionary.html#ac0618c8a67479fe903af650ea96c8f21">recipe_dictionary::all_nested</a></div><div class="ttdeci">const std::set&lt; const recipe * &gt; &amp; all_nested() const</div><div class="ttdoc">Returns all recipes that are nested categories.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8h_source.html#l00034">recipe_dictionary.h:34</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html"><div class="ttname"><a href="classrecipe__subset.html">recipe_subset</a></div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8h_source.html#l00090">recipe_dictionary.h:91</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html_a0b48251db46847f431ee11b148fda16b"><div class="ttname"><a href="classrecipe__subset.html#a0b48251db46847f431ee11b148fda16b">recipe_subset::intersection</a></div><div class="ttdeci">recipe_subset intersection(const recipe_subset &amp;subset) const</div><div class="ttdoc">Set intersection between recipe_subsets.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00314">recipe_dictionary.cpp:314</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html_a612ec51b6a927844d9dd2ee2297d7387"><div class="ttname"><a href="classrecipe__subset.html#a612ec51b6a927844d9dd2ee2297d7387">recipe_subset::reduce</a></div><div class="ttdeci">recipe_subset reduce(std::string_view txt, search_type key=search_type::name, const std::function&lt; void(size_t, size_t)&gt; &amp;progress_callback={}) const</div><div class="ttdoc">Find recipes matching query and return a new recipe_subset.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00308">recipe_dictionary.cpp:308</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html_a7e88353a1cf81d4c0a36be16770a0b46"><div class="ttname"><a href="classrecipe__subset.html#a7e88353a1cf81d4c0a36be16770a0b46">recipe_subset::recipes_that_produce</a></div><div class="ttdeci">std::vector&lt; const recipe * &gt; recipes_that_produce(const itype_id &amp;item) const</div><div class="ttdoc">Find recipes producing the item.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00333">recipe_dictionary.cpp:333</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html_ab91d636738b42059a724ac86ff6944a4"><div class="ttname"><a href="classrecipe__subset.html#ab91d636738b42059a724ac86ff6944a4">recipe_subset::include</a></div><div class="ttdeci">void include(const recipe *r, int custom_difficulty=-1)</div><div class="ttdoc">Include a recipe to the subset.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00734">recipe_dictionary.cpp:734</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html_abf934da21a2868fb45b8e90ff931ba29"><div class="ttname"><a href="classrecipe__subset.html#abf934da21a2868fb45b8e90ff931ba29">recipe_subset::difference</a></div><div class="ttdeci">recipe_subset difference(const recipe_subset &amp;subset) const</div><div class="ttdoc">Set difference between recipe_subsets.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00321">recipe_dictionary.cpp:321</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html_af6886a5e036672953a82ad2f77933c07a3715598906de462b20618b42e68f3aa4"><div class="ttname"><a href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07a3715598906de462b20618b42e68f3aa4">recipe_subset::search_type::activity_level</a></div><div class="ttdeci">@ activity_level</div></div>
<div class="ttc" id="aclassrecipe__subset_html_af6886a5e036672953a82ad2f77933c07a39ab32c5aeb56c9f5ae17f073ce31023"><div class="ttname"><a href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07a39ab32c5aeb56c9f5ae17f073ce31023">recipe_subset::search_type::tool</a></div><div class="ttdeci">@ tool</div></div>
<div class="ttc" id="aclassrecipe__subset_html_af6886a5e036672953a82ad2f77933c07a3d6885a0e5f663baa3e2d1abe195b024"><div class="ttname"><a href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07a3d6885a0e5f663baa3e2d1abe195b024">recipe_subset::search_type::difficulty</a></div><div class="ttdeci">@ difficulty</div></div>
<div class="ttc" id="aclassrecipe__subset_html_af6886a5e036672953a82ad2f77933c07a700c216fb376666eaeda0c892e8bdc09"><div class="ttname"><a href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07a700c216fb376666eaeda0c892e8bdc09">recipe_subset::search_type::component</a></div><div class="ttdeci">@ component</div></div>
<div class="ttc" id="aclassrecipe__subset_html_af6886a5e036672953a82ad2f77933c07a713dd4d0b2e842c08da62ddeec872331"><div class="ttname"><a href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07a713dd4d0b2e842c08da62ddeec872331">recipe_subset::search_type::skill</a></div><div class="ttdeci">@ skill</div></div>
<div class="ttc" id="aclassrecipe__subset_html_af6886a5e036672953a82ad2f77933c07ab6823d3826d07696c2663ca5d09bc308"><div class="ttname"><a href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07ab6823d3826d07696c2663ca5d09bc308">recipe_subset::search_type::primary_skill</a></div><div class="ttdeci">@ primary_skill</div></div>
<div class="ttc" id="aclassrecipe__subset_html_af6886a5e036672953a82ad2f77933c07ab97e7d71101523641d6d44fbe4f5fce0"><div class="ttname"><a href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07ab97e7d71101523641d6d44fbe4f5fce0">recipe_subset::search_type::description_result</a></div><div class="ttdeci">@ description_result</div></div>
<div class="ttc" id="aclassrecipe__subset_html_af6886a5e036672953a82ad2f77933c07abbe573f4fc17a9c1900d559b703221fc"><div class="ttname"><a href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07abbe573f4fc17a9c1900d559b703221fc">recipe_subset::search_type::proficiency</a></div><div class="ttdeci">@ proficiency</div></div>
<div class="ttc" id="aclassrecipe__subset_html_af6886a5e036672953a82ad2f77933c07ad66636b253cb346dbb6240e30def3618"><div class="ttname"><a href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07ad66636b253cb346dbb6240e30def3618">recipe_subset::search_type::quality</a></div><div class="ttdeci">@ quality</div></div>
<div class="ttc" id="aclassrecipe__subset_html_af6886a5e036672953a82ad2f77933c07af1049ff0ae7c7e84b7f7f5e5af0088f9"><div class="ttname"><a href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07af1049ff0ae7c7e84b7f7f5e5af0088f9">recipe_subset::search_type::exclude_name</a></div><div class="ttdeci">@ exclude_name</div></div>
<div class="ttc" id="aclassrecipe__subset_html_af6886a5e036672953a82ad2f77933c07af72e02f1ec09d417a73e9177d22c2842"><div class="ttname"><a href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07af72e02f1ec09d417a73e9177d22c2842">recipe_subset::search_type::quality_result</a></div><div class="ttdeci">@ quality_result</div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_aa2d1ea16753e055ea82f24e431dfa775"><div class="ttname"><a href="crafting__gui_8cpp.html#aa2d1ea16753e055ea82f24e431dfa775">query_is_yes</a></div><div class="ttdeci">static bool query_is_yes(std::string_view query)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l02245">crafting_gui.cpp:2245</a></div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a62fc9d4e4ca8f0e62b4556f5f65b666c"><div class="ttname"><a href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a></div><div class="ttdeci">std::unique_ptr&lt; Item_factory &gt; item_controller</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00126">item_factory.cpp:126</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1d2fecc57218d4b919232bf05f5e1740"><div class="ttname"><a href="output_8cpp.html#a1d2fecc57218d4b919232bf05f5e1740">wildcard_match</a></div><div class="ttdeci">bool wildcard_match(const std::string &amp;text_in, const std::string &amp;pattern_in)</div><div class="ttdoc">Match text containing wildcards (*)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03152">output.cpp:3152</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aaaccf20f312c5db1637a1a967b37f194"><div class="ttname"><a href="output_8cpp.html#aaaccf20f312c5db1637a1a967b37f194">trim</a></div><div class="ttdeci">static std::string trim(std::string_view s, Predicate pred)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01346">output.cpp:1346</a></div></div>
<div class="ttc" id="arecipe__dictionary_8cpp_html_a9fdb53bd54fb6dcc5f9b2e1e1b44570f"><div class="ttname"><a href="recipe__dictionary_8cpp.html#a9fdb53bd54fb6dcc5f9b2e1e1b44570f">recipe_dict</a></div><div class="ttdeci">recipe_dictionary recipe_dict</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00031">recipe_dictionary.cpp:31</a></div></div>
<div class="ttc" id="astructitype_html"><div class="ttname"><a href="structitype.html">itype</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01186">itype.h:1186</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07a3715598906de462b20618b42e68f3aa4">recipe_subset::activity_level</a>, <a class="el" href="recipe__dictionary_8h_source.html#l00034">recipe_dictionary::all_nested()</a>, <a class="el" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07a700c216fb376666eaeda0c892e8bdc09">recipe_subset::component</a>, <a class="el" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07ab97e7d71101523641d6d44fbe4f5fce0">recipe_subset::description_result</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00321">recipe_subset::difference()</a>, <a class="el" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07a3d6885a0e5f663baa3e2d1abe195b024">recipe_subset::difficulty</a>, <a class="el" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07af1049ff0ae7c7e84b7f7f5e5af0088f9">recipe_subset::exclude_name</a>, <a class="el" href="character__crafting_8cpp_source.html#l00077">Character::get_learned_recipes()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00734">recipe_subset::include()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00314">recipe_subset::intersection()</a>, <a class="el" href="item__factory_8cpp_source.html#l00126">item_controller</a>, <a class="el" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07ab6823d3826d07696c2663ca5d09bc308">recipe_subset::primary_skill</a>, <a class="el" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07abbe573f4fc17a9c1900d559b703221fc">recipe_subset::proficiency</a>, <a class="el" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07ad66636b253cb346dbb6240e30def3618">recipe_subset::quality</a>, <a class="el" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07af72e02f1ec09d417a73e9177d22c2842">recipe_subset::quality_result</a>, <a class="el" href="crafting__gui_8cpp_source.html#l02245">query_is_yes()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00031">recipe_dict</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00333">recipe_subset::recipes_that_produce()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00308">recipe_subset::reduce()</a>, <a class="el" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07a713dd4d0b2e842c08da62ddeec872331">recipe_subset::skill</a>, <a class="el" href="classrecipe__subset.html#af6886a5e036672953a82ad2f77933c07a39ab32c5aeb56c9f5ae17f073ce31023">recipe_subset::tool</a>, <a class="el" href="output_8cpp_source.html#l01346">trim()</a>, and <a class="el" href="output_8cpp_source.html#l03152">wildcard_match()</a>.</p>

</div>
</div>
<a id="a54ac13f9e7249edeaee765f5a60e8788"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54ac13f9e7249edeaee765f5a60e8788">&#9670;&nbsp;</a></span>flag_AFFECTED_BY_PAIN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> flag_AFFECTED_BY_PAIN </td>
          <td>(</td>
          <td class="paramtype">&quot;AFFECTED_BY_PAIN&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l02273">draw_can_craft_indicator()</a>.</p>

</div>
</div>
<a id="a82b84a91dff6914a85f043f856341c9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82b84a91dff6914a85f043f856341c9a">&#9670;&nbsp;</a></span>flag_BLIND_EASY()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> flag_BLIND_EASY </td>
          <td>(</td>
          <td class="paramtype">&quot;BLIND_EASY&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l00367">recipe_info()</a>.</p>

</div>
</div>
<a id="aca65d188b99ba28b7aa105b7ed7bd077"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca65d188b99ba28b7aa105b7ed7bd077">&#9670;&nbsp;</a></span>flag_BLIND_HARD()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> flag_BLIND_HARD </td>
          <td>(</td>
          <td class="paramtype">&quot;BLIND_HARD&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l00367">recipe_info()</a>.</p>

</div>
</div>
<a id="a4806094ba6d128566c88713330de8b74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4806094ba6d128566c88713330de8b74">&#9670;&nbsp;</a></span>flag_NO_MANIP()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> flag_NO_MANIP </td>
          <td>(</td>
          <td class="paramtype">&quot;NO_MANIP&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l02273">draw_can_craft_indicator()</a>.</p>

</div>
</div>
<a id="aa2baf06a421262c877057f32edfb0e90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2baf06a421262c877057f32edfb0e90">&#9670;&nbsp;</a></span>get_cat_unprefixed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> get_cat_unprefixed </td>
          <td>(</td>
          <td class="paramtype">const std::string_view&#160;</td>
          <td class="paramname"><em>prefixed_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00125">125</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;{</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">return</span> std::string( prefixed_name.substr( 3, prefixed_name.size() - 3 ) );</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l02325">draw_recipe_tabs()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00159">get_subcat_unprefixed()</a>, and <a class="el" href="crafting__gui_8cpp_source.html#l00130">load_recipe_category()</a>.</p>

</div>
</div>
<a id="a816200b489267c27fac27b5261f1b764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a816200b489267c27fac27b5261f1b764">&#9670;&nbsp;</a></span>get_recipe_result_item()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classitem.html">item</a> get_recipe_result_item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>crafter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00731">731</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;{</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <a class="code" href="classitem.html">item</a> dummy_result = <a class="code" href="classitem.html">item</a>( rec.<a class="code" href="classrecipe.html#aeefe6a56019c2cdaf9c6754ef65f1b81">result</a>(), <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <a class="code" href="structitem_1_1default__charges__tag.html">item::default_charges_tag</a>{} );</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">if</span>( !rec.<a class="code" href="classrecipe.html#a77b9606fdb04a4128cc5ce924412f432">variant</a>().empty() ) {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        dummy_result.<a class="code" href="classitem.html#a2307462a36b9809493966946645c2bc4">set_itype_variant</a>( rec.<a class="code" href="classrecipe.html#a77b9606fdb04a4128cc5ce924412f432">variant</a>() );</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="comment">//Check if recipe result is a clothing item that can be properly fitted</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">if</span>( dummy_result.<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="flag_8cpp.html#ac2e75bd71461a88a762c817f199feb23">flag_VARSIZE</a> ) &amp;&amp; !dummy_result.<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="flag_8cpp.html#aab1184bf751613f16480d6412006f74e">flag_FIT</a> ) ) {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <span class="comment">//Check if it can actually fit.  If so, list the fitted info</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <a class="code" href="classitem.html#a62ace782681001a7e8adbb600101f60a">item::sizing</a> general_fit = dummy_result.<a class="code" href="classitem.html#ac72213261395e0c525121ee6d2553a97">get_sizing</a>( crafter );</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">if</span>( general_fit == <a class="code" href="classitem.html#a62ace782681001a7e8adbb600101f60aa096d4645ed938b760b6111684abd8c4c">item::sizing::small_sized_small_char</a> ||</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            general_fit == <a class="code" href="classitem.html#a62ace782681001a7e8adbb600101f60aa781d038afb4ccd0fb1b2085adfefd1c3">item::sizing::human_sized_human_char</a> ||</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            general_fit == <a class="code" href="classitem.html#a62ace782681001a7e8adbb600101f60aae3c281ac6effc3982eea0c56df3fe766">item::sizing::big_sized_big_char</a> ||</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            general_fit == <a class="code" href="classitem.html#a62ace782681001a7e8adbb600101f60aa567bc1d268f135496de3d5b946b691f3">item::sizing::ignore</a> ) {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            dummy_result.<a class="code" href="classitem.html#a5b29c86dff457effe5dc4b9e7a24da12">set_flag</a>( <a class="code" href="flag_8cpp.html#aab1184bf751613f16480d6412006f74e">flag_FIT</a> );</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">if</span>( dummy_result.<a class="code" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ) {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        dummy_result.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = 1;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    dummy_result.<a class="code" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;recipe_exemplar&quot;</span>, rec.<a class="code" href="classrecipe.html#aa75469c5d2213a774931a5abf668a9dc">ident</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">return</span> dummy_result;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;}</div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassitem_html_a2307462a36b9809493966946645c2bc4"><div class="ttname"><a href="classitem.html#a2307462a36b9809493966946645c2bc4">item::set_itype_variant</a></div><div class="ttdeci">void set_itype_variant(const std::string &amp;variant)</div><div class="ttdoc">Set the gun variant of this item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09361">item.cpp:9361</a></div></div>
<div class="ttc" id="aclassitem_html_a3e532e4e5b7cef943634b1d910f99384"><div class="ttname"><a href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">item::has_flag</a></div><div class="ttdeci">bool has_flag(const flag_id &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07578">item.cpp:7578</a></div></div>
<div class="ttc" id="aclassitem_html_a40963a016376016eb408bdb9dbb94388"><div class="ttname"><a href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a></div><div class="ttdeci">bool count_by_charges() const</div><div class="ttdoc">Return true if this item's type is counted by charges (true for stackable, ammo, or comestible)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08618">item.cpp:8618</a></div></div>
<div class="ttc" id="aclassitem_html_a4938361b8fe897c4e85d66020ef91aff"><div class="ttname"><a href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">item::set_var</a></div><div class="ttdeci">void set_var(const std::string &amp;name, int value)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01809">item.cpp:1809</a></div></div>
<div class="ttc" id="aclassitem_html_a5b29c86dff457effe5dc4b9e7a24da12"><div class="ttname"><a href="classitem.html#a5b29c86dff457effe5dc4b9e7a24da12">item::set_flag</a></div><div class="ttdeci">item &amp; set_flag(const flag_id &amp;flag)</div><div class="ttdoc">Idempotent filter setting an item specific flag.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07602">item.cpp:7602</a></div></div>
<div class="ttc" id="aclassitem_html_a62ace782681001a7e8adbb600101f60a"><div class="ttname"><a href="classitem.html#a62ace782681001a7e8adbb600101f60a">item::sizing</a></div><div class="ttdeci">sizing</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03039">item.h:3039</a></div></div>
<div class="ttc" id="aclassitem_html_a62ace782681001a7e8adbb600101f60aa096d4645ed938b760b6111684abd8c4c"><div class="ttname"><a href="classitem.html#a62ace782681001a7e8adbb600101f60aa096d4645ed938b760b6111684abd8c4c">item::sizing::small_sized_small_char</a></div><div class="ttdeci">@ small_sized_small_char</div></div>
<div class="ttc" id="aclassitem_html_a62ace782681001a7e8adbb600101f60aa567bc1d268f135496de3d5b946b691f3"><div class="ttname"><a href="classitem.html#a62ace782681001a7e8adbb600101f60aa567bc1d268f135496de3d5b946b691f3">item::sizing::ignore</a></div><div class="ttdeci">@ ignore</div></div>
<div class="ttc" id="aclassitem_html_a62ace782681001a7e8adbb600101f60aa781d038afb4ccd0fb1b2085adfefd1c3"><div class="ttname"><a href="classitem.html#a62ace782681001a7e8adbb600101f60aa781d038afb4ccd0fb1b2085adfefd1c3">item::sizing::human_sized_human_char</a></div><div class="ttdeci">@ human_sized_human_char</div></div>
<div class="ttc" id="aclassitem_html_a62ace782681001a7e8adbb600101f60aae3c281ac6effc3982eea0c56df3fe766"><div class="ttname"><a href="classitem.html#a62ace782681001a7e8adbb600101f60aae3c281ac6effc3982eea0c56df3fe766">item::sizing::big_sized_big_char</a></div><div class="ttdeci">@ big_sized_big_char</div></div>
<div class="ttc" id="aclassitem_html_a6bfb92ab5d41e0eb3a1da160fac71b0e"><div class="ttname"><a href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">item::charges</a></div><div class="ttdeci">int charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03133">item.h:3133</a></div></div>
<div class="ttc" id="aclassitem_html_ac72213261395e0c525121ee6d2553a97"><div class="ttname"><a href="classitem.html#ac72213261395e0c525121ee6d2553a97">item::get_sizing</a></div><div class="ttdeci">sizing get_sizing(const Character &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l02038">item.cpp:2038</a></div></div>
<div class="ttc" id="aclassrecipe_html_a77b9606fdb04a4128cc5ce924412f432"><div class="ttname"><a href="classrecipe.html#a77b9606fdb04a4128cc5ce924412f432">recipe::variant</a></div><div class="ttdeci">const std::string &amp; variant() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00115">recipe.h:115</a></div></div>
<div class="ttc" id="aclassrecipe_html_aa75469c5d2213a774931a5abf668a9dc"><div class="ttname"><a href="classrecipe.html#aa75469c5d2213a774931a5abf668a9dc">recipe::ident</a></div><div class="ttdeci">const recipe_id &amp; ident() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00155">recipe.h:155</a></div></div>
<div class="ttc" id="aclassrecipe_html_aeefe6a56019c2cdaf9c6754ef65f1b81"><div class="ttname"><a href="classrecipe.html#aeefe6a56019c2cdaf9c6754ef65f1b81">recipe::result</a></div><div class="ttdeci">const itype_id &amp; result() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00111">recipe.h:111</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae75b0a209b55081a67c5fe6c17a4be00"><div class="ttname"><a href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00260">string_id.h:260</a></div></div>
<div class="ttc" id="aflag_8cpp_html_aab1184bf751613f16480d6412006f74e"><div class="ttname"><a href="flag_8cpp.html#aab1184bf751613f16480d6412006f74e">flag_FIT</a></div><div class="ttdeci">const flag_id flag_FIT(&quot;FIT&quot;)</div></div>
<div class="ttc" id="aflag_8cpp_html_ac2e75bd71461a88a762c817f199feb23"><div class="ttname"><a href="flag_8cpp.html#ac2e75bd71461a88a762c817f199feb23">flag_VARSIZE</a></div><div class="ttdeci">const flag_id flag_VARSIZE(&quot;VARSIZE&quot;)</div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00038">calendar.cpp:38</a></div></div>
<div class="ttc" id="astructitem_1_1default__charges__tag_html"><div class="ttname"><a href="structitem_1_1default__charges__tag.html">item::default_charges_tag</a></div><div class="ttdoc">Suppress randomization and always start with default quantity of charges.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00211">item.h:211</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classitem.html#a62ace782681001a7e8adbb600101f60aae3c281ac6effc3982eea0c56df3fe766">item::big_sized_big_char</a>, <a class="el" href="item_8h_source.html#l03133">item::charges</a>, <a class="el" href="item_8cpp_source.html#l08618">item::count_by_charges()</a>, <a class="el" href="flag_8cpp.html#aab1184bf751613f16480d6412006f74e">flag_FIT</a>, <a class="el" href="flag_8cpp.html#ac2e75bd71461a88a762c817f199feb23">flag_VARSIZE</a>, <a class="el" href="item_8cpp_source.html#l02038">item::get_sizing()</a>, <a class="el" href="item_8cpp_source.html#l07578">item::has_flag()</a>, <a class="el" href="classitem.html#a62ace782681001a7e8adbb600101f60aa781d038afb4ccd0fb1b2085adfefd1c3">item::human_sized_human_char</a>, <a class="el" href="recipe_8h_source.html#l00155">recipe::ident()</a>, <a class="el" href="classitem.html#a62ace782681001a7e8adbb600101f60aa567bc1d268f135496de3d5b946b691f3">item::ignore</a>, <a class="el" href="recipe_8h_source.html#l00111">recipe::result()</a>, <a class="el" href="item_8cpp_source.html#l07602">item::set_flag()</a>, <a class="el" href="item_8cpp_source.html#l09361">item::set_itype_variant()</a>, <a class="el" href="item_8cpp_source.html#l01809">item::set_var()</a>, <a class="el" href="classitem.html#a62ace782681001a7e8adbb600101f60aa096d4645ed938b760b6111684abd8c4c">item::small_sized_small_char</a>, <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, and <a class="el" href="recipe_8h_source.html#l00115">recipe::variant()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l00755">recipe_result_info_cache::get_result_data()</a>.</p>

</div>
</div>
<a id="a1ddca9d195789dc97434d31d9dfdb41d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ddca9d195789dc97434d31d9dfdb41d">&#9670;&nbsp;</a></span>get_subcat_unprefixed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> get_subcat_unprefixed </td>
          <td>(</td>
          <td class="paramtype">const std::string_view&#160;</td>
          <td class="paramname"><em>cat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>prefixed_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00159">159</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    std::string <a class="code" href="namespacebase__camps.html#ac2310c6a4c935d23c24600fcd6f76092">prefix</a> = <span class="stringliteral">&quot;CSC_&quot;</span> + <a class="code" href="crafting__gui_8cpp.html#aa2baf06a421262c877057f32edfb0e90">get_cat_unprefixed</a>( cat ) + <span class="stringliteral">&quot;_&quot;</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span>( prefixed_name.find( prefix ) == 0 ) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">return</span> prefixed_name.substr( <a class="code" href="namespacebase__camps.html#ac2310c6a4c935d23c24600fcd6f76092">prefix</a>.size(), prefixed_name.size() - <a class="code" href="namespacebase__camps.html#ac2310c6a4c935d23c24600fcd6f76092">prefix</a>.size() );</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">return</span> prefixed_name == <span class="stringliteral">&quot;CSC_ALL&quot;</span> ? <a class="code" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;ALL&quot;</span> ) : <a class="code" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;NONCRAFT&quot;</span> );</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
<div class="ttc" id="anamespacebase__camps_html_ac2310c6a4c935d23c24600fcd6f76092"><div class="ttname"><a href="namespacebase__camps.html#ac2310c6a4c935d23c24600fcd6f76092">base_camps::prefix</a></div><div class="ttdeci">const std::string prefix</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00104">basecamp.h:104</a></div></div>
<div class="ttc" id="atranslations_8h_html_a0b3ab525ec6b450b2487e7644255fa7c"><div class="ttname"><a href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a></div><div class="ttdeci">#define translate_marker(x)</div><div class="ttdoc">Marks a string literal to be extracted for translation.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00017">translations.h:17</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting__gui_8cpp_source.html#l00125">get_cat_unprefixed()</a>, and <a class="el" href="translations_8h_source.html#l00017">translate_marker</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l02375">draw_recipe_subtabs()</a>.</p>

</div>
</div>
<a id="aee2aef325edf92b1116862353af6af40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee2aef325edf92b1116862353af6af40">&#9670;&nbsp;</a></span>list_nested()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> list_nested </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>crafter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp;&#160;</td>
          <td class="paramname"><em>available_recipes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>indent</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l01141">1141</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;{</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    std::string description;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    availability avail( crafter, rec );</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <span class="keywordflow">if</span>( rec-&gt;<a class="code" href="classrecipe.html#a7ff67127daa1a2dafb9cc580863fb272">is_nested</a>() ) {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        description += <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( std::string( indent,</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                                              <span class="charliteral">&#39; &#39;</span> ) + rec-&gt;<a class="code" href="classrecipe.html#a7aab303fc95f1e765db693bc59823ed6">result_name</a>() + <span class="stringliteral">&quot;:\n&quot;</span>, avail.color() );</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">recipe_id</a> &amp;r : rec-&gt;<a class="code" href="classrecipe.html#aaa9d4f97c6be15ae676b0e756695e312">nested_category_data</a> ) {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;            description += <a class="code" href="crafting__gui_8cpp.html#aee2aef325edf92b1116862353af6af40">list_nested</a>( crafter, &amp;r.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>(), available_recipes, indent + 2 );</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        }</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( available_recipes.<a class="code" href="classrecipe__subset.html#af79647c29ab10027ad8bfb568a5e523d">contains</a>( rec ) ) {</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        description += <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( std::string( indent,</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                                              <span class="charliteral">&#39; &#39;</span> ) + rec-&gt;<a class="code" href="classrecipe.html#a7aab303fc95f1e765db693bc59823ed6">result_name</a>() + <span class="stringliteral">&quot;\n&quot;</span>, avail.color() );</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    }</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160; </div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="keywordflow">return</span> description;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;}</div>
<div class="ttc" id="aclassrecipe__subset_html_af79647c29ab10027ad8bfb568a5e523d"><div class="ttname"><a href="classrecipe__subset.html#af79647c29ab10027ad8bfb568a5e523d">recipe_subset::contains</a></div><div class="ttdeci">bool contains(const recipe *r) const</div><div class="ttdoc">Check if the subset contains a recipe with the specified id.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8h_source.html#l00118">recipe_dictionary.h:118</a></div></div>
<div class="ttc" id="aclassrecipe_html_a7aab303fc95f1e765db693bc59823ed6"><div class="ttname"><a href="classrecipe.html#a7aab303fc95f1e765db693bc59823ed6">recipe::result_name</a></div><div class="ttdeci">std::string result_name(bool decorated=false) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01216">recipe.cpp:1216</a></div></div>
<div class="ttc" id="aclassrecipe_html_aaa9d4f97c6be15ae676b0e756695e312"><div class="ttname"><a href="classrecipe.html#aaa9d4f97c6be15ae676b0e756695e312">recipe::nested_category_data</a></div><div class="ttdeci">std::set&lt; recipe_id &gt; nested_category_data</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00199">recipe.h:199</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00071">achievement.cpp:71</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_aee2aef325edf92b1116862353af6af40"><div class="ttname"><a href="crafting__gui_8cpp.html#aee2aef325edf92b1116862353af6af40">list_nested</a></div><div class="ttdeci">static std::string list_nested(Character &amp;crafter, const recipe *rec, const recipe_subset &amp;available_recipes, int indent=0)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l01141">crafting_gui.cpp:1141</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="color_8cpp_source.html#l00742">colorize()</a>, <a class="el" href="recipe__dictionary_8h_source.html#l00118">recipe_subset::contains()</a>, <a class="el" href="recipe_8cpp_source.html#l01341">recipe::is_nested()</a>, <a class="el" href="recipe_8h_source.html#l00199">recipe::nested_category_data</a>, <a class="el" href="achievement_8cpp_source.html#l00071">string_id&lt; T &gt;::obj()</a>, and <a class="el" href="recipe_8cpp_source.html#l01216">recipe::result_name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l01186">select_crafter_and_crafting_recipe()</a>.</p>

</div>
</div>
<a id="a630a6f0102b218ecf44dcb5615f2173e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a630a6f0102b218ecf44dcb5615f2173e">&#9670;&nbsp;</a></span>load_recipe_category()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void load_recipe_category </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jsobj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00130">130</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keyword">const</span> std::string <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a01bb93e9b73c4fc64afc80ffde115c0a">category</a> = jsobj.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <span class="stringliteral">&quot;id&quot;</span> );</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_hidden = jsobj.<a class="code" href="classJsonObject.html#a3d748a5d67f435bbd170a3e92a7cd0ca">get_bool</a>( <span class="stringliteral">&quot;is_hidden&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a01bb93e9b73c4fc64afc80ffde115c0a">category</a>.find( <span class="stringliteral">&quot;CC_&quot;</span> ) != 0 ) {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        jsobj.<a class="code" href="classJsonObject.html#af3e3ae76afc340c1fa3510acaaba57b8">throw_error</a>( <span class="stringliteral">&quot;Crafting category id has to be prefixed with &#39;CC_&#39;&quot;</span> );</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">if</span>( !is_hidden</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        &amp;&amp; std::find( <a class="code" href="crafting__gui_8cpp.html#aa56eb1d3153ac8abf3ede81da9bef10b">craft_cat_list</a>.begin(), <a class="code" href="crafting__gui_8cpp.html#aa56eb1d3153ac8abf3ede81da9bef10b">craft_cat_list</a>.end(), <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a01bb93e9b73c4fc64afc80ffde115c0a">category</a> ) == <a class="code" href="crafting__gui_8cpp.html#aa56eb1d3153ac8abf3ede81da9bef10b">craft_cat_list</a>.end()</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      ) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <a class="code" href="crafting__gui_8cpp.html#aa56eb1d3153ac8abf3ede81da9bef10b">craft_cat_list</a>.push_back( <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a01bb93e9b73c4fc64afc80ffde115c0a">category</a> );</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keyword">const</span> std::string cat_name = <a class="code" href="crafting__gui_8cpp.html#aa2baf06a421262c877057f32edfb0e90">get_cat_unprefixed</a>( <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a01bb93e9b73c4fc64afc80ffde115c0a">category</a> );</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>[<a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a01bb93e9b73c4fc64afc80ffde115c0a">category</a>].clear();</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string subcat_id : jsobj.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;recipe_subcategories&quot;</span> ) ) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">if</span>( subcat_id.find( <span class="stringliteral">&quot;CSC_&quot;</span> + cat_name + <span class="stringliteral">&quot;_&quot;</span> ) != 0 &amp;&amp; subcat_id != <span class="stringliteral">&quot;CSC_ALL&quot;</span> ) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            jsobj.<a class="code" href="classJsonObject.html#af3e3ae76afc340c1fa3510acaaba57b8">throw_error</a>( <span class="stringliteral">&quot;Crafting sub-category id has to be prefixed with CSC_&lt;category_name&gt;_&quot;</span> );</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">if</span>( find( <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>[<a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a01bb93e9b73c4fc64afc80ffde115c0a">category</a>].begin(), <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>[<a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a01bb93e9b73c4fc64afc80ffde115c0a">category</a>].<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a>(),</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                  subcat_id ) == <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>[<a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a01bb93e9b73c4fc64afc80ffde115c0a">category</a>].<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a>() ) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>[<a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a01bb93e9b73c4fc64afc80ffde115c0a">category</a>].push_back( subcat_id );</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div>
<div class="ttc" id="aclassJsonObject_html_a1abb3808bb2a992716d5ef6f27a32b3c"><div class="ttname"><a href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">JsonObject::get_string</a></div><div class="ttdeci">std::string get_string(const std::string &amp;key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00813">flexbuffer_json-inl.h:813</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a3d748a5d67f435bbd170a3e92a7cd0ca"><div class="ttname"><a href="classJsonObject.html#a3d748a5d67f435bbd170a3e92a7cd0ca">JsonObject::get_bool</a></div><div class="ttdeci">bool get_bool(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00850">flexbuffer_json-inl.h:850</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a88142edb1dd9ea1e7a96c7a99cd70896"><div class="ttname"><a href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00855">flexbuffer_json-inl.h:855</a></div></div>
<div class="ttc" id="aclassJsonObject_html_af3e3ae76afc340c1fa3510acaaba57b8"><div class="ttname"><a href="classJsonObject.html#af3e3ae76afc340c1fa3510acaaba57b8">JsonObject::throw_error</a></div><div class="ttdeci">void throw_error(const std::string &amp;err) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8cpp_source.html#l00353">flexbuffer_json.cpp:353</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02item__tname_8cpp_03_html_a01bb93e9b73c4fc64afc80ffde115c0a"><div class="ttname"><a href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a01bb93e9b73c4fc64afc80ffde115c0a">anonymous_namespace{item_tname.cpp}::category</a></div><div class="ttdeci">std::string category(item const &amp;it, unsigned int quantity, segment_bitset const &amp;segments)</div><div class="ttdef"><b>Definition:</b> <a href="item__tname_8cpp_source.html#l00540">item_tname.cpp:540</a></div></div>
<div class="ttc" id="anamespacekeycode_html_a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac"><div class="ttname"><a href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">keycode::end</a></div><div class="ttdeci">@ end</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00095">input.h:95</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__tname_8cpp_source.html#l00540">anonymous_namespace{item_tname.cpp}::category()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00095">craft_cat_list</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00096">craft_subcat_list</a>, <a class="el" href="input_8h_source.html#l00095">keycode::end</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00855">JsonObject::get_array()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00850">JsonObject::get_bool()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00125">get_cat_unprefixed()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00813">JsonObject::get_string()</a>, and <a class="el" href="flexbuffer__json_8cpp_source.html#l00353">JsonObject::throw_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8cpp_source.html#l00237">DynamicDataLoader::initialize()</a>.</p>

</div>
</div>
<a id="aa81bd5ab80d6567bb231ae07cc137eb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa81bd5ab80d6567bb231ae07cc137eb0">&#9670;&nbsp;</a></span>make_crafting_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classinput__context.html">input_context</a> make_crafting_context </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>highlight_unread_recipes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00589">589</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;{</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <a class="code" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;CRAFTING&quot;</span> );</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    ctxt.register_cardinal();</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;CONFIRM&quot;</span> );</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;SCROLL_RECIPE_INFO_UP&quot;</span> );</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;SCROLL_RECIPE_INFO_DOWN&quot;</span> );</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;PAGE_UP&quot;</span>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Fast scroll up&quot;</span> ) );</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;PAGE_DOWN&quot;</span>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Fast scroll down&quot;</span> ) );</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;HOME&quot;</span> );</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;END&quot;</span> );</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;SCROLL_ITEM_INFO_UP&quot;</span> );</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;SCROLL_ITEM_INFO_DOWN&quot;</span> );</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;PREV_TAB&quot;</span> );</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;NEXT_TAB&quot;</span> );</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;FILTER&quot;</span> );</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;RESET_FILTER&quot;</span> );</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;TOGGLE_FAVORITE&quot;</span> );</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;HELP_RECIPE&quot;</span> );</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> );</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;CYCLE_BATCH&quot;</span> );</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;CHOOSE_CRAFTER&quot;</span> );</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;RELATED_RECIPES&quot;</span> );</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;HIDE_SHOW_RECIPE&quot;</span> );</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;SELECT&quot;</span> );</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;SCROLL_UP&quot;</span> );</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;SCROLL_DOWN&quot;</span> );</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;COMPARE&quot;</span> );</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">if</span>( highlight_unread_recipes ) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        ctxt.register_action( <span class="stringliteral">&quot;TOGGLE_RECIPE_UNREAD&quot;</span> );</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        ctxt.register_action( <span class="stringliteral">&quot;MARK_ALL_RECIPES_READ&quot;</span> );</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        ctxt.register_action( <span class="stringliteral">&quot;TOGGLE_UNREAD_RECIPES_FIRST&quot;</span> );</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">return</span> ctxt;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;}</div>
<div class="ttc" id="aclassinput__context_html"><div class="ttname"><a href="classinput__context.html">input_context</a></div><div class="ttdoc">Represents a context in which a set of actions can be performed.</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8h_source.html#l00039">input_context.h:40</a></div></div>
<div class="ttc" id="atranslation_8cpp_html_a176e288c640c6506a86330cb10fbe13a"><div class="ttname"><a href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a></div><div class="ttdeci">translation to_translation(const std::string &amp;raw)</div><div class="ttdoc">Shorthands for translation::to_translation.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8cpp_source.html#l00420">translation.cpp:420</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input__context_8cpp_source.html#l00180">input_context::register_action()</a>, <a class="el" href="input__context_8cpp_source.html#l00513">input_context::register_cardinal()</a>, and <a class="el" href="translation_8cpp_source.html#l00420">to_translation()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l01186">select_crafter_and_crafting_recipe()</a>.</p>

</div>
</div>
<a id="a3d3b02d087e3910f0da791dcc7773001"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d3b02d087e3910f0da791dcc7773001">&#9670;&nbsp;</a></span>mouse_in_window()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool mouse_in_window </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="structpoint.html">point</a> &gt;&#160;</td>
          <td class="paramname"><em>coord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>w_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l01060">1060</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;{</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keywordflow">if</span>( coord.has_value() ) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <a class="code" href="structinclusive__rectangle.html">inclusive_rectangle&lt;point&gt;</a> window_area( <a class="code" href="structpoint.html">point</a>( <a class="code" href="namespacecatacurses.html#a3e3320f426a1343cb1effcaf648d2d1a">getbegx</a>( w_ ), <a class="code" href="namespacecatacurses.html#aa2debb3330f9739012d1d11db8db31d2">getbegy</a>( w_ ) ),</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                                                <a class="code" href="structpoint.html">point</a>( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w_ ) + <a class="code" href="namespacecatacurses.html#a3e3320f426a1343cb1effcaf648d2d1a">getbegx</a>( w_ ), <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w_ ) + <a class="code" href="namespacecatacurses.html#aa2debb3330f9739012d1d11db8db31d2">getbegy</a>( w_ ) ) );</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        <span class="keywordflow">if</span>( window_area.contains( coord.value() ) ) {</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        }</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;}</div>
<div class="ttc" id="anamespacecatacurses_html_a3e3320f426a1343cb1effcaf648d2d1a"><div class="ttname"><a href="namespacecatacurses.html#a3e3320f426a1343cb1effcaf648d2d1a">catacurses::getbegx</a></div><div class="ttdeci">int getbegx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00107">ncurses_def.cpp:107</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_aa2debb3330f9739012d1d11db8db31d2"><div class="ttname"><a href="namespacecatacurses.html#aa2debb3330f9739012d1d11db8db31d2">catacurses::getbegy</a></div><div class="ttdeci">int getbegy(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00115">ncurses_def.cpp:115</a></div></div>
<div class="ttc" id="astructinclusive__rectangle_html"><div class="ttname"><a href="structinclusive__rectangle.html">inclusive_rectangle&lt; point &gt;</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cuboid__rectangle_8h_source.html#l00054">inclusive_rectangle&lt; Point, &gt;::contains()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00107">catacurses::getbegx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00115">catacurses::getbegy()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00099">catacurses::getmaxy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="output_8cpp_source.html#l02212">scrolling_text_view::handle_navigation()</a>, and <a class="el" href="output_8cpp_source.html#l01975">multiline_list::handle_navigation()</a>.</p>

</div>
</div>
<a id="a5d2cf798bed0e369065eed1457c4bddd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d2cf798bed0e369065eed1457c4bddd">&#9670;&nbsp;</a></span>nested_toggle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nested_toggle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>recalc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>keepline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l01161">1161</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;{</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keyword">auto</span> loc = <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#aeb7e1c86d9c6731b93d12e64ecba4fe0">expanded_recipes</a>.find( rec );</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <span class="keywordflow">if</span>( loc != <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#aeb7e1c86d9c6731b93d12e64ecba4fe0">expanded_recipes</a>.end() ) {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#aeb7e1c86d9c6731b93d12e64ecba4fe0">expanded_recipes</a>.erase( rec );</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#aeb7e1c86d9c6731b93d12e64ecba4fe0">expanded_recipes</a>.insert( rec );</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    recalc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    keepline = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uistate_8h_source.html#l00189">uistatedata::expanded_recipes</a>, and <a class="el" href="game_8cpp_source.html#l00385">uistate</a>.</p>

</div>
</div>
<a id="ab9e5daeb774429a851e2c749b657204a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9e5daeb774429a851e2c749b657204a">&#9670;&nbsp;</a></span>peek_related_recipe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> peek_related_recipe </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> *&#160;</td>
          <td class="paramname"><em>current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp;&#160;</td>
          <td class="paramname"><em>available</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>crafter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l02098">2098</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;{</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <span class="keyword">auto</span> compare_second =</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;        []( <span class="keyword">const</span> std::pair&lt;itype_id, std::string&gt; &amp;<a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>,</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    <span class="keyword">const</span> std::pair&lt;itype_id, std::string&gt; &amp;<a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ) {</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="localized__comparator_8h.html#aa323a1324b9ad3f0c7dc65690aed09c6">localized_compare</a>( <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>.second, <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.second );</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    };</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160; </div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <span class="comment">// current recipe components</span></div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    std::vector&lt;std::pair&lt;itype_id, std::string&gt;&gt; related_components;</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    <span class="keyword">const</span> <a class="code" href="structrequirement__data.html">requirement_data</a> &amp;req = current-&gt;<a class="code" href="classrecipe.html#ad68760d09d83ba4b7793ad831f7973d5">simple_requirements</a>();</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::vector&lt;item_comp&gt; &amp;<a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> : req.<a class="code" href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">get_components</a>() ) {</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structitem__comp.html">item_comp</a> &amp;<a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> : <a class="code" href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a> ) {</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;            related_components.emplace_back( <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>.type, <a class="code" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>.type, 1 ) );</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;        }</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    }</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;    std::sort( related_components.begin(), related_components.end(), compare_second );</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <span class="comment">// current recipe result</span></div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    std::vector&lt;std::pair&lt;itype_id, std::string&gt;&gt; related_results;</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    <a class="code" href="classitem.html">item</a> tmp( current-&gt;<a class="code" href="classrecipe.html#aeefe6a56019c2cdaf9c6754ef65f1b81">result</a>() );</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <span class="comment">// use this item</span></div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> tid = tmp.typeId();</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    <span class="keyword">const</span> std::set&lt;const recipe *&gt; &amp;known_recipes =</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;        crafter.<a class="code" href="classCharacter.html#a982ac6331662b9f0d643f7752e0b60da">get_learned_recipes</a>().<a class="code" href="classrecipe__subset.html#ab4acb1f4fcfc79a7415a55e2eeda9a95">of_component</a>( tid );</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> * <span class="keyword">const</span> &amp;<a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> : known_recipes ) {</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">available</a>.contains( <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ) ) {</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;            related_results.emplace_back( <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;result(), <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;result_name( <span class="comment">/*decorated=*/</span><span class="keyword">true</span> ) );</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;        }</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    }</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    std::stable_sort( related_results.begin(), related_results.end(), compare_second );</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160; </div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    <span class="keywordflow">if</span>( related_components.empty() &amp;&amp; related_results.empty() ) {</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    }</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160; </div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    <a class="code" href="classuilist.html">uilist</a> rel_menu;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    <span class="keywordtype">int</span> np_last = -1;</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    <span class="keywordflow">if</span>( !related_components.empty() ) {</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        rel_menu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( ++np_last, <span class="keyword">false</span>, -1, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;COMPONENTS&quot;</span> ) );</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    }</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    np_last = <a class="code" href="crafting__gui_8cpp.html#a8888fc821692b5bfd3e8f70b0850355a">related_menu_fill</a>( rel_menu, related_components, available );</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    <span class="keywordflow">if</span>( !related_results.empty() ) {</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        rel_menu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( ++np_last, <span class="keyword">false</span>, -1, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;RESULTS&quot;</span> ) );</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    }</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160; </div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    <a class="code" href="crafting__gui_8cpp.html#a8888fc821692b5bfd3e8f70b0850355a">related_menu_fill</a>( rel_menu, related_results, available );</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160; </div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    rel_menu.<a class="code" href="classuilist.html#a5ed3c6e3829c033040fa9f11f1a7d0aa">settext</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Related recipes:&quot;</span> ) );</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    rel_menu.<a class="code" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <span class="keywordflow">if</span>( rel_menu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> != <a class="code" href="ui_8h.html#ae8a811731dd950d56e478c3ddc17e725">UILIST_CANCEL</a> ) {</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160; </div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;        <span class="comment">// Grab the recipe name without our bullet point.</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;        std::string <a class="code" href="classrecipe.html">recipe</a> = rel_menu.<a class="code" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>[rel_menu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>].txt.substr( strlen( <span class="stringliteral">&quot;─ &quot;</span> ) );</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160; </div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;        <span class="comment">// If the string is decorated as a favourite, return it without the star</span></div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classrecipe.html">recipe</a>.rfind( <span class="stringliteral">&quot;* &quot;</span>, 0 ) == 0 ) {</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classrecipe.html">recipe</a>.substr( strlen( <span class="stringliteral">&quot;* &quot;</span> ) );</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;        }</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160; </div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classrecipe.html">recipe</a>;</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    }</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160; </div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;}</div>
<div class="ttc" id="abasecamp_8h_html_a982b3d353e6071114d36ce561f3d8d81"><div class="ttname"><a href="basecamp_8h.html#a982b3d353e6071114d36ce561f3d8d81">comp_list</a></div><div class="ttdeci">std::vector&lt; npc_ptr &gt; comp_list</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00065">basecamp.h:65</a></div></div>
<div class="ttc" id="aclassitem_html_a438855ffd52d33307e1dfba6d607535b"><div class="ttname"><a href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a></div><div class="ttdeci">static std::string nname(const itype_id &amp;id, unsigned int quantity=1)</div><div class="ttdoc">Returns the translated item name for the item with given id.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14557">item.cpp:14557</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html_ab4acb1f4fcfc79a7415a55e2eeda9a95"><div class="ttname"><a href="classrecipe__subset.html#ab4acb1f4fcfc79a7415a55e2eeda9a95">recipe_subset::of_component</a></div><div class="ttdeci">const std::set&lt; const recipe * &gt; &amp; of_component(const itype_id &amp;id) const</div><div class="ttdoc">Returns all recipes which could use component.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00396">recipe_dictionary.cpp:396</a></div></div>
<div class="ttc" id="aclassrecipe_html"><div class="ttname"><a href="classrecipe.html">recipe</a></div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00086">recipe.h:87</a></div></div>
<div class="ttc" id="aclassrecipe_html_ad68760d09d83ba4b7793ad831f7973d5"><div class="ttname"><a href="classrecipe.html#ad68760d09d83ba4b7793ad831f7973d5">recipe::simple_requirements</a></div><div class="ttdeci">const requirement_data &amp; simple_requirements() const</div><div class="ttdoc">Fetch combined requirement data (inline and via &quot;using&quot; syntax).</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00147">recipe.h:147</a></div></div>
<div class="ttc" id="aclassuilist_html"><div class="ttname"><a href="classuilist.html">uilist</a></div><div class="ttdoc">uilist: scrolling vertical list menu</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00231">ui.h:232</a></div></div>
<div class="ttc" id="aclassuilist_html_a0baa34622db6972a59d47d478bfd21d6"><div class="ttname"><a href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">uilist::ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00525">ui.h:525</a></div></div>
<div class="ttc" id="aclassuilist_html_a18fd9765355d9e418bc2c399048e0645"><div class="ttname"><a href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">uilist::addentry</a></div><div class="ttdeci">void addentry(const std::string &amp;txt)</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01210">ui.cpp:1210</a></div></div>
<div class="ttc" id="aclassuilist_html_a5ed3c6e3829c033040fa9f11f1a7d0aa"><div class="ttname"><a href="classuilist.html#a5ed3c6e3829c033040fa9f11f1a7d0aa">uilist::settext</a></div><div class="ttdeci">void settext(const std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01259">ui.cpp:1259</a></div></div>
<div class="ttc" id="aclassuilist_html_af5fc2972d43a795c49a632dbcf58132b"><div class="ttname"><a href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">uilist::entries</a></div><div class="ttdeci">std::vector&lt; uilist_entry &gt; entries</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00422">ui.h:422</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a8888fc821692b5bfd3e8f70b0850355a"><div class="ttname"><a href="crafting__gui_8cpp.html#a8888fc821692b5bfd3e8f70b0850355a">related_menu_fill</a></div><div class="ttdeci">static int related_menu_fill(uilist &amp;rmenu, const std::vector&lt; std::pair&lt; itype_id, std::string &gt;&gt; &amp;related_recipes, const recipe_subset &amp;available)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l02164">crafting_gui.cpp:2164</a></div></div>
<div class="ttc" id="agroup__UI_html_ga7604af7545244003f0a52ac87ce37979"><div class="ttname"><a href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">uilist::query</a></div><div class="ttdeci">void query(bool loop=true, int timeout=-1)</div><div class="ttdoc">Handle input and update display.</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01032">ui.cpp:1032</a></div></div>
<div class="ttc" id="alocalized__comparator_8h_html_aa323a1324b9ad3f0c7dc65690aed09c6"><div class="ttname"><a href="localized__comparator_8h.html#aa323a1324b9ad3f0c7dc65690aed09c6">localized_compare</a></div><div class="ttdeci">constexpr localized_comparator localized_compare</div><div class="ttdef"><b>Definition:</b> <a href="localized__comparator_8h_source.html#l00054">localized_comparator.h:54</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a188caae18b60b66f9f44214c7e28ac1f"><div class="ttname"><a href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a></div><div class="ttdeci">static constexpr double a</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01566">magic.cpp:1566</a></div></div>
<div class="ttc" id="amagic_8cpp_html_aa93a189fb7bbbf87be54bcc7bd11bb6f"><div class="ttname"><a href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a></div><div class="ttdeci">static constexpr double b</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01567">magic.cpp:1567</a></div></div>
<div class="ttc" id="aovermap_8cpp_html_a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb"><div class="ttname"><a href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">join_type::available</a></div><div class="ttdeci">@ available</div></div>
<div class="ttc" id="astructitem__comp_html"><div class="ttname"><a href="structitem__comp.html">item_comp</a></div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00110">requirements.h:110</a></div></div>
<div class="ttc" id="astructrequirement__data_html"><div class="ttname"><a href="structrequirement__data.html">requirement_data</a></div><div class="ttdoc">The *_vector members represent list of alternatives requirements: alter_tool_comp_vector = { * { { a,...</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00209">requirements.h:209</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a56dbf23ade6bced0dc6148b8e1a12d4c"><div class="ttname"><a href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">requirement_data::get_components</a></div><div class="ttdeci">const alter_item_comp_vector &amp; get_components() const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l01162">requirements.cpp:1162</a></div></div>
<div class="ttc" id="aui_8h_html_ae8a811731dd950d56e478c3ddc17e725"><div class="ttname"><a href="ui_8h.html#ae8a811731dd950d56e478c3ddc17e725">UILIST_CANCEL</a></div><div class="ttdeci">const int UILIST_CANCEL</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00035">ui.h:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="magic_8cpp_source.html#l01566">a</a>, <a class="el" href="ui_8cpp_source.html#l01210">uilist::addentry()</a>, <a class="el" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">available</a>, <a class="el" href="magic_8cpp_source.html#l01567">b</a>, <a class="el" href="ui_8h_source.html#l00422">uilist::entries</a>, <a class="el" href="requirements_8cpp_source.html#l01162">requirement_data::get_components()</a>, <a class="el" href="character__crafting_8cpp_source.html#l00077">Character::get_learned_recipes()</a>, <a class="el" href="localized__comparator_8h_source.html#l00054">localized_compare</a>, <a class="el" href="item_8cpp_source.html#l14557">item::nname()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00396">recipe_subset::of_component()</a>, <a class="el" href="ui_8cpp_source.html#l01032">uilist::query()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l02164">related_menu_fill()</a>, <a class="el" href="recipe_8h_source.html#l00111">recipe::result()</a>, <a class="el" href="ui_8h_source.html#l00525">uilist::ret</a>, <a class="el" href="ui_8cpp_source.html#l01259">uilist::settext()</a>, <a class="el" href="recipe_8h_source.html#l00147">recipe::simple_requirements()</a>, <a class="el" href="item_8cpp_source.html#l11850">item::typeId()</a>, and <a class="el" href="ui_8h_source.html#l00035">UILIST_CANCEL</a>.</p>

</div>
</div>
<a id="a6b7ee7c89f221e94470bd5a147a3d40a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b7ee7c89f221e94470bd5a147a3d40a">&#9670;&nbsp;</a></span>practice_recipe_description()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> practice_recipe_description </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>recp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>crafter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00557">557</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;{</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    std::ostringstream oss;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    oss &lt;&lt; recp.<a class="code" href="classrecipe.html#a334fe87cf6e3da5ad075fcabeae44c7c">description</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>() &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">if</span>( recp.<a class="code" href="classrecipe.html#a25b2fae46c280dcc5f315c58629d8ca6">practice_data</a>-&gt;min_difficulty != recp.<a class="code" href="classrecipe.html#a25b2fae46c280dcc5f315c58629d8ca6">practice_data</a>-&gt;max_difficulty ) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        std::string txt = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Difficulty range: %d to %d&quot;</span> ),</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                                         recp.<a class="code" href="classrecipe.html#a25b2fae46c280dcc5f315c58629d8ca6">practice_data</a>-&gt;min_difficulty, recp.<a class="code" href="classrecipe.html#a25b2fae46c280dcc5f315c58629d8ca6">practice_data</a>-&gt;max_difficulty );</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        oss &lt;&lt; txt &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span>( recp.<a class="code" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> ) {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> player_skill_level = crafter.<a class="code" href="classCharacter.html#a3e9cc7439320523d3e2386ce9df012e4">get_all_skills</a>().<a class="code" href="classSkillLevelMap.html#a2976a1a19d2ca922ac3ba34610555e49">get_skill_level</a>( recp.<a class="code" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> );</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keywordflow">if</span>( player_skill_level &lt; recp.practice_data-&gt;min_difficulty ) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            std::string txt = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                                  <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The crafter does not possess the minimum &lt;color_cyan&gt;%s&lt;/color&gt; skill level required to practice this.&quot;</span> ),</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                                  recp.<a class="code" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a>-&gt;<a class="code" href="classSkill.html#a11c69074ce9b251983f170510808bd85">name</a>() );</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            txt = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&lt;color_red&gt;%s&lt;/color&gt;&quot;</span>, txt );</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            oss &lt;&lt; txt &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordflow">if</span>( recp.<a class="code" href="classrecipe.html#a25b2fae46c280dcc5f315c58629d8ca6">practice_data</a>-&gt;skill_limit != <a class="code" href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a> ) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            std::string txt = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                                  <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;This practice action will not increase your &lt;color_cyan&gt;%s&lt;/color&gt; skill above %d.&quot;</span> ),</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                                  recp.<a class="code" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a>-&gt;<a class="code" href="classSkill.html#a11c69074ce9b251983f170510808bd85">name</a>(), recp.<a class="code" href="classrecipe.html#a25b2fae46c280dcc5f315c58629d8ca6">practice_data</a>-&gt;skill_limit );</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <span class="keywordflow">if</span>( player_skill_level &gt;= recp.<a class="code" href="classrecipe.html#a25b2fae46c280dcc5f315c58629d8ca6">practice_data</a>-&gt;skill_limit ) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                txt = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&lt;color_brown&gt;%s&lt;/color&gt;&quot;</span>, txt );</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            oss &lt;&lt; txt &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">return</span> oss.str();</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a3e9cc7439320523d3e2386ce9df012e4"><div class="ttname"><a href="classCharacter.html#a3e9cc7439320523d3e2386ce9df012e4">Character::get_all_skills</a></div><div class="ttdeci">SkillLevelMap get_all_skills() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03409">character.cpp:3409</a></div></div>
<div class="ttc" id="aclassSkillLevelMap_html_a2976a1a19d2ca922ac3ba34610555e49"><div class="ttname"><a href="classSkillLevelMap.html#a2976a1a19d2ca922ac3ba34610555e49">SkillLevelMap::get_skill_level</a></div><div class="ttdeci">int get_skill_level(const skill_id &amp;ident) const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8cpp_source.html#l00492">skill.cpp:492</a></div></div>
<div class="ttc" id="aclassSkill_html_a11c69074ce9b251983f170510808bd85"><div class="ttname"><a href="classSkill.html#a11c69074ce9b251983f170510808bd85">Skill::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00071">skill.h:71</a></div></div>
<div class="ttc" id="aclassrecipe_html_a25b2fae46c280dcc5f315c58629d8ca6"><div class="ttname"><a href="classrecipe.html#a25b2fae46c280dcc5f315c58629d8ca6">recipe::practice_data</a></div><div class="ttdeci">std::optional&lt; practice_recipe_data &gt; practice_data</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00197">recipe.h:197</a></div></div>
<div class="ttc" id="aclassrecipe_html_a334fe87cf6e3da5ad075fcabeae44c7c"><div class="ttname"><a href="classrecipe.html#a334fe87cf6e3da5ad075fcabeae44c7c">recipe::description</a></div><div class="ttdeci">translation description</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00129">recipe.h:129</a></div></div>
<div class="ttc" id="aclasstranslation_html_a30b5b9d586c786942c2321701a53e572"><div class="ttname"><a href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translation::translated</a></div><div class="ttdeci">std::string translated(int num=1) const</div><div class="ttdoc">Returns raw string if no translation is needed, otherwise returns the translated string.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8cpp_source.html#l00294">translation.cpp:294</a></div></div>
<div class="ttc" id="agame__constants_8h_html_ae9c0ec5b4724c15132efddb8862ca652"><div class="ttname"><a href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a></div><div class="ttdeci">constexpr int MAX_SKILL</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00120">game_constants.h:120</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="recipe_8h_source.html#l00129">recipe::description</a>, <a class="el" href="character_8cpp_source.html#l03409">Character::get_all_skills()</a>, <a class="el" href="skill_8cpp_source.html#l00492">SkillLevelMap::get_skill_level()</a>, <a class="el" href="game__constants_8h_source.html#l00120">MAX_SKILL</a>, <a class="el" href="skill_8h_source.html#l00071">Skill::name()</a>, <a class="el" href="recipe_8h_source.html#l00197">recipe::practice_data</a>, <a class="el" href="recipe_8h_source.html#l00188">recipe::skill_used</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, and <a class="el" href="translation_8cpp_source.html#l00294">translation::translated()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l01186">select_crafter_and_crafting_recipe()</a>.</p>

</div>
</div>
<a id="aa2d1ea16753e055ea82f24e431dfa775"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2d1ea16753e055ea82f24e431dfa775">&#9670;&nbsp;</a></span>query_is_yes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool query_is_yes </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l02245">2245</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;{</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    <span class="keyword">const</span> std::string_view subquery = query.substr( 2 );</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160; </div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    <span class="keywordflow">return</span> subquery == <span class="stringliteral">&quot;yes&quot;</span> || subquery == <span class="stringliteral">&quot;y&quot;</span> || subquery == <span class="stringliteral">&quot;1&quot;</span> ||</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;           subquery == <span class="stringliteral">&quot;true&quot;</span> || subquery == <span class="stringliteral">&quot;t&quot;</span> || subquery == <span class="stringliteral">&quot;on&quot;</span> ||</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;           subquery == <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;yes&quot;</span> );</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l00918">filter_recipes()</a>.</p>

</div>
</div>
<a id="ab67874716360c37d2786aa9fef2cd57b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab67874716360c37d2786aa9fef2cd57b">&#9670;&nbsp;</a></span>recipe_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::vector&lt;<a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&gt; recipe_info </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>recp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const availability &amp;&#160;</td>
          <td class="paramname"><em>avail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>guy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string_view&#160;</td>
          <td class="paramname"><em>qry_comps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>fold_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnc__color.html">nc_color</a> &amp;&#160;</td>
          <td class="paramname"><em>color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classCharacter.html">Character</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>crafting_group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00367">367</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;{</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    std::ostringstream oss;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Crafter: %s\n&quot;</span> ), guy.<a class="code" href="classCharacter.html#acc49695b155d5e60f8547e47c3951246">name_and_maybe_activity</a>() );</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Primary skill: %s\n&quot;</span> ), recp.<a class="code" href="classrecipe.html#ad5e9c9f00eb0751558cbeda0ce6a6e0f">primary_skill_string</a>( guy ) );</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">if</span>( !avail.crafter_has_primary_skill ) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">if</span>( recp.<a class="code" href="classrecipe.html#a6ffa5ac015e9cb54bf2d360e5709cff3">is_practice</a>() ) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            oss &lt;&lt; <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_red&gt;Crafter cannot practice this because they &quot;</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                      <span class="stringliteral">&quot;lack the theoretical knowledge for it.&lt;/color&gt;\n&quot;</span> );</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            oss &lt;&lt; <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_red&gt;Crafter cannot craft this because they &quot;</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                      <span class="stringliteral">&quot;lack the theoretical knowledge to understand the recipe.&lt;/color&gt;\n&quot;</span> );</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span>( !recp.<a class="code" href="classrecipe.html#a0f8a4801e8ff8e2c0310b04ef0c4a245">required_skills</a>.empty() ) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Other skills: %s\n&quot;</span> ), recp.<a class="code" href="classrecipe.html#a9a26f91201bd48d5aa47b88587ac0d79">required_skills_string</a>( guy ) );</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keyword">const</span> std::string req_profs = recp.<a class="code" href="classrecipe.html#a3550b3d77d5b7703d2e8561a89e05378">required_proficiencies_string</a>( &amp;guy );</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">if</span>( !req_profs.empty() ) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Proficiencies Required: %s\n&quot;</span> ), req_profs );</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keyword">const</span> std::string used_profs = recp.<a class="code" href="classrecipe.html#ae83ad9c5aa254f333fdc2bbb211a2381">used_proficiencies_string</a>( &amp;guy );</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">if</span>( !used_profs.empty() ) {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Proficiencies Used: %s\n&quot;</span> ), used_profs );</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keyword">const</span> std::string missing_profs = recp.<a class="code" href="classrecipe.html#aea0f8ec262f6a3c2cb388de7a58dcc5a">missing_proficiencies_string</a>( &amp;guy );</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span>( !missing_profs.empty() ) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Proficiencies Missing: %s\n&quot;</span> ), missing_profs );</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    oss &lt;&lt; <a class="code" href="crafting__gui_8cpp.html#a22dd8b1eb16b713873ded67115c79501">craft_success_chance_string</a>( recp, guy ) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    oss &lt;&lt; <a class="code" href="crafting__gui_8cpp.html#a087fe318fa80c432eefe1c7c49b8d4da">cata_fail_chance_string</a>( recp, guy ) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">if</span>( !recp.<a class="code" href="classrecipe.html#a7ff67127daa1a2dafb9cc580863fb272">is_nested</a>() ) {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> expected_turns = guy.<a class="code" href="classCharacter.html#a78703faaa3ad2441c43012d5fb9373b9">expected_time_to_craft</a>( recp, batch_size )</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                                   / to_moves&lt;int&gt;( 1_turns );</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Time to complete: &lt;color_cyan&gt;%s&lt;/color&gt;\n&quot;</span> ),</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                              <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a>( <a class="code" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( expected_turns ) ) );</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keyword">const</span> std::string batch_savings = recp.<a class="code" href="classrecipe.html#aed1bf302d13802b4009d16dfaf9ade0d">batch_savings_string</a>();</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">if</span>( !batch_savings.empty() ) {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Batch time savings: &lt;color_cyan&gt;%s&lt;/color&gt;\n&quot;</span> ), batch_savings );</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Activity level: &lt;color_cyan&gt;%s&lt;/color&gt;\n&quot;</span> ),</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                          <a class="code" href="namespacedisplay.html#a9490ef62945576859b5e5200ba9ca5b8">display::activity_level_str</a>( recp.<a class="code" href="classrecipe.html#a8b1340359e15a704dc0942bfe5f9a5fa">exertion_level</a>() ) );</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> makes = recp.<a class="code" href="classrecipe.html#a5c4a4110edf3bd4a33732d4fd8a9d53f">makes_amount</a>();</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span>( makes &gt; 1 ) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Recipe makes: &lt;color_cyan&gt;%d&lt;/color&gt;\n&quot;</span> ), makes );</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Craftable in the dark?  &lt;color_cyan&gt;%s&lt;/color&gt;\n&quot;</span> ),</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                          recp.<a class="code" href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">has_flag</a>( <a class="code" href="crafting__gui_8cpp.html#a82b84a91dff6914a85f043f856341c9a">flag_BLIND_EASY</a> ) ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Easy&quot;</span> ) :</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                          recp.<a class="code" href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">has_flag</a>( <a class="code" href="crafting__gui_8cpp.html#aca65d188b99ba28b7aa105b7ed7bd077">flag_BLIND_HARD</a> ) ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Hard&quot;</span> ) :</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                          <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Impossible&quot;</span> ) );</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keyword">const</span> <a class="code" href="classinventory.html">inventory</a> &amp;crafting_inv = guy.<a class="code" href="classCharacter.html#ace218285f4fbc7c7a9feac8378bc632e">crafting_inventory</a>();</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">if</span>( recp.<a class="code" href="classrecipe.html#aeefe6a56019c2cdaf9c6754ef65f1b81">result</a>() ) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> nearby_amount = crafting_inv.<a class="code" href="classinventory.html#a41e48b6ff6b76a00740eaadd006d6867">count_item</a>( recp.<a class="code" href="classrecipe.html#aeefe6a56019c2cdaf9c6754ef65f1b81">result</a>() );</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        std::string nearby_string;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordflow">if</span>( nearby_amount == 0 ) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            nearby_string = <span class="stringliteral">&quot;&lt;color_light_gray&gt;0&lt;/color&gt;&quot;</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( nearby_amount &gt; 9000 ) {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="comment">// at some point you get too many to count at a glance and just know you have a lot</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            nearby_string = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_red&gt;It&#39;s Over 9000!!!&lt;/color&gt;&quot;</span> );</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            nearby_string = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&lt;color_yellow&gt;%d&lt;/color&gt;&quot;</span>, nearby_amount );</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Nearby: %s\n&quot;</span> ), nearby_string );</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_craft_this = avail.can_craft;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">if</span>( can_craft_this &amp;&amp; avail.would_use_rotten ) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        oss &lt;&lt; <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_red&gt;Will use rotten ingredients&lt;/color&gt;\n&quot;</span> );</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">if</span>( can_craft_this &amp;&amp; avail.would_use_favorite ) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        oss &lt;&lt; <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_red&gt;Will use favorited ingredients&lt;/color&gt;\n&quot;</span> );</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> too_complex = recp.<a class="code" href="classrecipe.html#ab1b55d41175b239729f740aaad63f306">deduped_requirements</a>().<a class="code" href="classdeduped__requirement__data.html#a853040ef9b7bb3b8e6329fa87ca38c48">is_too_complex</a>();</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">if</span>( can_craft_this &amp;&amp; too_complex ) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        oss &lt;&lt; <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Due to the complex overlapping requirements, this &quot;</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                  <span class="stringliteral">&quot;recipe &lt;color_yellow&gt;may appear to be craftable &quot;</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                  <span class="stringliteral">&quot;when it is not&lt;/color&gt;.\n&quot;</span> );</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    std::string reason;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordtype">bool</span> npc_cant = avail.crafter.is_npc() &amp;&amp; !recp.<a class="code" href="classrecipe.html#ad7dba12233e28bfef59dfa43c4386bcd">npc_can_craft</a>( reason );</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">if</span>( !can_craft_this &amp;&amp; avail.apparently_craftable &amp;&amp; !recp.<a class="code" href="classrecipe.html#a7ff67127daa1a2dafb9cc580863fb272">is_nested</a>() &amp;&amp; !npc_cant ) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        oss &lt;&lt; <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_red&gt;Cannot be crafted because the same item is needed &quot;</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                  <span class="stringliteral">&quot;for multiple components.&lt;/color&gt;\n&quot;</span> );</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">if</span>( !can_craft_this &amp;&amp; npc_cant ) {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        oss &lt;&lt; <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( reason, <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> ) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    }</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> disp_prof_msg = avail.has_proficiencies &amp;&amp; !recp.<a class="code" href="classrecipe.html#a7ff67127daa1a2dafb9cc580863fb272">is_nested</a>();</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> time_maluses = avail.get_proficiency_time_maluses();</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> max_time_malus = avail.get_max_proficiency_time_maluses();</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> skill_maluses = avail.get_proficiency_skill_maluses();</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> max_skill_malus = avail.get_max_proficiency_skill_maluses();</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">if</span>( disp_prof_msg &amp;&amp; time_maluses &lt; max_time_malus &amp;&amp; skill_maluses &lt; max_skill_malus ) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_green&gt;This recipe will be %.2fx faster than normal, &quot;</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                                 <span class="stringliteral">&quot;and your effective skill will be %.2f levels higher than normal, because of &quot;</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                                 <span class="stringliteral">&quot;the proficiencies the crafter has.&lt;/color&gt;\n&quot;</span> ),</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                              max_time_malus / time_maluses, max_skill_malus - skill_maluses );</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( disp_prof_msg &amp;&amp; time_maluses &lt; max_time_malus ) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_green&gt;This recipe will be %.2fx faster than normal, &quot;</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                                 <span class="stringliteral">&quot;because of the proficiencies the crafter has.&lt;/color&gt;\n&quot;</span> ), max_time_malus / time_maluses );</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( disp_prof_msg &amp;&amp; skill_maluses &lt; max_skill_malus ) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_green&gt;Your effective skill will be %.2f levels higher than normal, &quot;</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                   <span class="stringliteral">&quot;because of the proficiencies the crafter has.&lt;/color&gt;\n&quot;</span> ), max_skill_malus - skill_maluses );</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">if</span>( !can_craft_this &amp;&amp; !avail.has_proficiencies ) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        oss &lt;&lt; <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_red&gt;Cannot be crafted because the crafter lacks&quot;</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                  <span class="stringliteral">&quot; the required proficiencies.&lt;/color&gt;\n&quot;</span> );</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span>( recp.<a class="code" href="classrecipe.html#aafed4e19afa36b6e5acb7eadbf9655f5">has_byproducts</a>() ) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        oss &lt;&lt; <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Byproducts:\n&quot;</span> );</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const itype_id, int&gt; &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> : recp.<a class="code" href="classrecipe.html#a32228c93cbd015d48c6cf5d95c3b45e2">get_byproducts</a>() ) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            <span class="keyword">const</span> <a class="code" href="structitype.html">itype</a> *t = <a class="code" href="classitem.html#a11cf8d500b6d8106302470dce5ca9177">item::find_type</a>( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.first );</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            <span class="keywordtype">int</span> amount = <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.second * batch_size;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <span class="keywordflow">if</span>( t-&gt;<a class="code" href="structitype.html#a9defae7ba72f6d0af2e5629c4244f00e">count_by_charges</a>() ) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&gt; %s (%d)\n&quot;</span>, t-&gt;<a class="code" href="structitype.html#ad35fbe0013544c1c396944b20b264421">nname</a>( 1 ), amount );</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&gt; %d %s\n&quot;</span>, amount,</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                      t-&gt;<a class="code" href="structitype.html#ad35fbe0013544c1c396944b20b264421">nname</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>( amount ) ) );</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    std::vector&lt;std::string&gt; result = <a class="code" href="output_8cpp.html#aea67d56cef07017be061e1ceefee80df">foldstring</a>( oss.str(), fold_width );</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">if</span>( !recp.<a class="code" href="classrecipe.html#a7ff67127daa1a2dafb9cc580863fb272">is_nested</a>() ) {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keyword">const</span> <a class="code" href="structrequirement__data.html">requirement_data</a> &amp;req = recp.<a class="code" href="classrecipe.html#ad68760d09d83ba4b7793ad831f7973d5">simple_requirements</a>();</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="keyword">const</span> std::vector&lt;std::string&gt; tools = req.<a class="code" href="structrequirement__data.html#a7518cd295931d5e30f6ba0341f90aa8b">get_folded_tools_list</a>(</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                fold_width, <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a>, crafting_inv, batch_size );</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keyword">const</span> std::vector&lt;std::string&gt; comps = req.<a class="code" href="structrequirement__data.html#a9b9025140c166ce2a00fcf41db96b7a9">get_folded_components_list</a>(</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                fold_width, <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a>, crafting_inv, recp.<a class="code" href="classrecipe.html#a45b065c59b172ccab9e0630fd036fe09">get_component_filter</a>(), batch_size, qry_comps );</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        result.insert( result.end(), tools.begin(), tools.end() );</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        result.insert( result.end(), comps.begin(), comps.end() );</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    oss = std::ostringstream();</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">if</span>( !guy.<a class="code" href="classCharacter.html#a7950b035ea05fa28a0851b4107377265">knows_recipe</a>( &amp;recp ) ) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        oss &lt;&lt; <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Recipe not memorized yet\n&quot;</span> );</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keyword">const</span> std::set&lt;itype_id&gt; books_with_recipe = guy.<a class="code" href="classCharacter.html#aa1bc061d7ee96f6d8efb97e53c3f85da">get_books_for_recipe</a>( crafting_inv, &amp;recp );</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="keywordflow">if</span>( !books_with_recipe.empty() ) {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <span class="keyword">const</span> std::string enumerated_books = <a class="code" href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a>( books_with_recipe,</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            []( <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> &amp; type_id ) {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( type_id ), <a class="code" href="color_8h.html#a95b67111e2e4be7fcac981d2b7b208f6">c_cyan</a> );</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            } );</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Written in: %s\n&quot;</span> ), enumerated_books );</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        }</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        std::vector&lt;const Character *&gt; knowing_helpers;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> *helper : crafting_group ) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <span class="comment">// guy.getID() != helper-&gt;getID(): guy doesn&#39;t know the recipe anyway, but this should be faster</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordflow">if</span>( guy.<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() != helper-&gt;getID() &amp;&amp; helper-&gt;knows_recipe( &amp;recp ) ) {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                knowing_helpers.push_back( helper );</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordflow">if</span>( !knowing_helpers.empty() ) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <span class="keyword">const</span> std::string enumerated_helpers = <a class="code" href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a>( knowing_helpers,</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            []( <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> * helper ) {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( helper-&gt;<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You&quot;</span> ) : helper-&gt;<a class="code" href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">get_name</a>(), <a class="code" href="color_8h.html#a95b67111e2e4be7fcac981d2b7b208f6">c_cyan</a> );</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            } );</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            oss &lt;&lt; <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Known by: %s\n&quot;</span> ), enumerated_helpers );</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    std::vector&lt;std::string&gt; tmp = <a class="code" href="output_8cpp.html#aea67d56cef07017be061e1ceefee80df">foldstring</a>( oss.str(), fold_width );</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    result.insert( result.end(), tmp.begin(), tmp.end() );</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_abf1cdb8f4662bf96c8d762e9229df8d9"><div class="ttname"><a href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a></div><div class="ttdeci">std::string to_string(const time_duration &amp;d, const bool compact)</div><div class="ttdoc">Returns a string showing a duration.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00546">calendar.cpp:546</a></div></div>
<div class="ttc" id="aclassCharacter_html_a78703faaa3ad2441c43012d5fb9373b9"><div class="ttname"><a href="classCharacter.html#a78703faaa3ad2441c43012d5fb9373b9">Character::expected_time_to_craft</a></div><div class="ttdeci">int64_t expected_time_to_craft(const recipe &amp;rec, int batch_size=1) const</div><div class="ttdoc">Expected time to craft a recipe, with assumption that multipliers stay constant.</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00468">crafting.cpp:468</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7950b035ea05fa28a0851b4107377265"><div class="ttname"><a href="classCharacter.html#a7950b035ea05fa28a0851b4107377265">Character::knows_recipe</a></div><div class="ttdeci">bool knows_recipe(const recipe *rec) const</div><div class="ttdef"><b>Definition:</b> <a href="character__crafting_8cpp_source.html#l00026">character_crafting.cpp:26</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa1bc061d7ee96f6d8efb97e53c3f85da"><div class="ttname"><a href="classCharacter.html#aa1bc061d7ee96f6d8efb97e53c3f85da">Character::get_books_for_recipe</a></div><div class="ttdeci">std::set&lt; itype_id &gt; get_books_for_recipe(const inventory &amp;crafting_inv, const recipe *r) const</div><div class="ttdoc">Returns the set of book types in crafting_inv that provide the given recipe.</div><div class="ttdef"><b>Definition:</b> <a href="character__crafting_8cpp_source.html#l00193">character_crafting.cpp:193</a></div></div>
<div class="ttc" id="aclassCharacter_html_acc49695b155d5e60f8547e47c3951246"><div class="ttname"><a href="classCharacter.html#acc49695b155d5e60f8547e47c3951246">Character::name_and_maybe_activity</a></div><div class="ttdeci">virtual std::string name_and_maybe_activity() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00844">character.cpp:844</a></div></div>
<div class="ttc" id="aclassCharacter_html_ace218285f4fbc7c7a9feac8378bc632e"><div class="ttname"><a href="classCharacter.html#ace218285f4fbc7c7a9feac8378bc632e">Character::crafting_inventory</a></div><div class="ttdeci">const inventory &amp; crafting_inventory(bool clear_path) const</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00629">crafting.cpp:629</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae47514f140700c67ea21ccbadf66d106"><div class="ttname"><a href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">Character::get_name</a></div><div class="ttdeci">std::string get_name() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l05731">character.cpp:5731</a></div></div>
<div class="ttc" id="aclassCreature_html_ac209d32cbfd3774af3d5c0500e2fae52"><div class="ttname"><a href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">Creature::is_avatar</a></div><div class="ttdeci">virtual bool is_avatar() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00265">creature.h:265</a></div></div>
<div class="ttc" id="aclassdeduped__requirement__data_html_a853040ef9b7bb3b8e6329fa87ca38c48"><div class="ttname"><a href="classdeduped__requirement__data.html#a853040ef9b7bb3b8e6329fa87ca38c48">deduped_requirement_data::is_too_complex</a></div><div class="ttdeci">bool is_too_complex() const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00483">requirements.h:483</a></div></div>
<div class="ttc" id="aclassinventory_html"><div class="ttname"><a href="classinventory.html">inventory</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00107">inventory.h:108</a></div></div>
<div class="ttc" id="aclassinventory_html_a41e48b6ff6b76a00740eaadd006d6867"><div class="ttname"><a href="classinventory.html#a41e48b6ff6b76a00740eaadd006d6867">inventory::count_item</a></div><div class="ttdeci">int count_item(const itype_id &amp;item_type) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00990">inventory.cpp:990</a></div></div>
<div class="ttc" id="aclassitem_html_a11cf8d500b6d8106302470dce5ca9177"><div class="ttname"><a href="classitem.html#a11cf8d500b6d8106302470dce5ca9177">item::find_type</a></div><div class="ttdeci">static const itype * find_type(const itype_id &amp;type)</div><div class="ttdoc">Returns the item type of the given identifier.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14581">item.cpp:14581</a></div></div>
<div class="ttc" id="aclassrecipe_html_a0f8a4801e8ff8e2c0310b04ef0c4a245"><div class="ttname"><a href="classrecipe.html#a0f8a4801e8ff8e2c0310b04ef0c4a245">recipe::required_skills</a></div><div class="ttdeci">std::map&lt; skill_id, int &gt; required_skills</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00189">recipe.h:189</a></div></div>
<div class="ttc" id="aclassrecipe_html_a32228c93cbd015d48c6cf5d95c3b45e2"><div class="ttname"><a href="classrecipe.html#a32228c93cbd015d48c6cf5d95c3b45e2">recipe::get_byproducts</a></div><div class="ttdeci">std::map&lt; itype_id, int &gt; get_byproducts() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00870">recipe.cpp:870</a></div></div>
<div class="ttc" id="aclassrecipe_html_a3550b3d77d5b7703d2e8561a89e05378"><div class="ttname"><a href="classrecipe.html#a3550b3d77d5b7703d2e8561a89e05378">recipe::required_proficiencies_string</a></div><div class="ttdeci">std::string required_proficiencies_string(const Character *c) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00903">recipe.cpp:903</a></div></div>
<div class="ttc" id="aclassrecipe_html_a5c4a4110edf3bd4a33732d4fd8a9d53f"><div class="ttname"><a href="classrecipe.html#a5c4a4110edf3bd4a33732d4fd8a9d53f">recipe::makes_amount</a></div><div class="ttdeci">int makes_amount() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01514">recipe.cpp:1514</a></div></div>
<div class="ttc" id="aclassrecipe_html_a8b1340359e15a704dc0942bfe5f9a5fa"><div class="ttname"><a href="classrecipe.html#a8b1340359e15a704dc0942bfe5f9a5fa">recipe::exertion_level</a></div><div class="ttdeci">float exertion_level() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01140">recipe.cpp:1140</a></div></div>
<div class="ttc" id="aclassrecipe_html_a9a26f91201bd48d5aa47b88587ac0d79"><div class="ttname"><a href="classrecipe.html#a9a26f91201bd48d5aa47b88587ac0d79">recipe::required_skills_string</a></div><div class="ttdeci">std::string required_skills_string(const Character &amp;c) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01194">recipe.cpp:1194</a></div></div>
<div class="ttc" id="aclassrecipe_html_aafed4e19afa36b6e5acb7eadbf9655f5"><div class="ttname"><a href="classrecipe.html#aafed4e19afa36b6e5acb7eadbf9655f5">recipe::has_byproducts</a></div><div class="ttdeci">bool has_byproducts() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00892">recipe.cpp:892</a></div></div>
<div class="ttc" id="aclassrecipe_html_ad5e9c9f00eb0751558cbeda0ce6a6e0f"><div class="ttname"><a href="classrecipe.html#ad5e9c9f00eb0751558cbeda0ce6a6e0f">recipe::primary_skill_string</a></div><div class="ttdeci">std::string primary_skill_string(const Character &amp;c) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01183">recipe.cpp:1183</a></div></div>
<div class="ttc" id="aclassrecipe_html_ae83ad9c5aa254f333fdc2bbb211a2381"><div class="ttname"><a href="classrecipe.html#ae83ad9c5aa254f333fdc2bbb211a2381">recipe::used_proficiencies_string</a></div><div class="ttdeci">std::string used_proficiencies_string(const Character *c) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00957">recipe.cpp:957</a></div></div>
<div class="ttc" id="aclassrecipe_html_aea0f8ec262f6a3c2cb388de7a58dcc5a"><div class="ttname"><a href="classrecipe.html#aea0f8ec262f6a3c2cb388de7a58dcc5a">recipe::missing_proficiencies_string</a></div><div class="ttdeci">std::string missing_proficiencies_string(const Character *c) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01108">recipe.cpp:1108</a></div></div>
<div class="ttc" id="aclassrecipe_html_aed1bf302d13802b4009d16dfaf9ade0d"><div class="ttname"><a href="classrecipe.html#aed1bf302d13802b4009d16dfaf9ade0d">recipe::batch_savings_string</a></div><div class="ttdeci">std::string batch_savings_string() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01209">recipe.cpp:1209</a></div></div>
<div class="ttc" id="aclasstime__duration_html_a0f7145f4fc4c09defbaf25f468e4e54a"><div class="ttname"><a href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a></div><div class="ttdeci">static constexpr time_duration from_turns(const T t)</div><div class="ttdoc">Named constructors to get a duration representing a multiple of the named time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00221">calendar.h:221</a></div></div>
<div class="ttc" id="acolor_8h_html_a95b67111e2e4be7fcac981d2b7b208f6"><div class="ttname"><a href="color_8h.html#a95b67111e2e4be7fcac981d2b7b208f6">c_cyan</a></div><div class="ttdeci">#define c_cyan</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00022">color.h:22</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a087fe318fa80c432eefe1c7c49b8d4da"><div class="ttname"><a href="crafting__gui_8cpp.html#a087fe318fa80c432eefe1c7c49b8d4da">cata_fail_chance_string</a></div><div class="ttdeci">static std::string cata_fail_chance_string(const recipe &amp;recp, const Character &amp;guy)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00349">crafting_gui.cpp:349</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a22dd8b1eb16b713873ded67115c79501"><div class="ttname"><a href="crafting__gui_8cpp.html#a22dd8b1eb16b713873ded67115c79501">craft_success_chance_string</a></div><div class="ttdeci">static std::string craft_success_chance_string(const recipe &amp;recp, const Character &amp;guy)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00332">crafting_gui.cpp:332</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a82b84a91dff6914a85f043f856341c9a"><div class="ttname"><a href="crafting__gui_8cpp.html#a82b84a91dff6914a85f043f856341c9a">flag_BLIND_EASY</a></div><div class="ttdeci">static const std::string flag_BLIND_EASY(&quot;BLIND_EASY&quot;)</div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_aca65d188b99ba28b7aa105b7ed7bd077"><div class="ttname"><a href="crafting__gui_8cpp.html#aca65d188b99ba28b7aa105b7ed7bd077">flag_BLIND_HARD</a></div><div class="ttdeci">static const std::string flag_BLIND_HARD(&quot;BLIND_HARD&quot;)</div></div>
<div class="ttc" id="acreature_8h_html_ac54f8023b2f6c4c85f60252cf47cc28d"><div class="ttname"><a href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a></div><div class="ttdeci">bodypart_id bp</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00238">creature.h:238</a></div></div>
<div class="ttc" id="anamespacedisplay_html_a9490ef62945576859b5e5200ba9ca5b8"><div class="ttname"><a href="namespacedisplay.html#a9490ef62945576859b5e5200ba9ca5b8">display::activity_level_str</a></div><div class="ttdeci">std::string activity_level_str(float level)</div><div class="ttdef"><b>Definition:</b> <a href="display_8cpp_source.html#l00513">display.cpp:513</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aea67d56cef07017be061e1ceefee80df"><div class="ttname"><a href="output_8cpp.html#aea67d56cef07017be061e1ceefee80df">foldstring</a></div><div class="ttdeci">std::vector&lt; std::string &gt; foldstring(const std::string &amp;str, int width, const char split)</div><div class="ttdoc">Split the input text into separate lines and wrap long lines.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00123">output.cpp:123</a></div></div>
<div class="ttc" id="aoutput_8h_html_a4be67498ee67b5186fcae5cf706f7512"><div class="ttname"><a href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a></div><div class="ttdeci">std::string enumerate_as_string(const Container &amp;values, enumeration_conjunction conj=enumeration_conjunction::and_)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00647">output.h:647</a></div></div>
<div class="ttc" id="astructitype_html_a9defae7ba72f6d0af2e5629c4244f00e"><div class="ttname"><a href="structitype.html#a9defae7ba72f6d0af2e5629c4244f00e">itype::count_by_charges</a></div><div class="ttdeci">bool count_by_charges() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01501">itype.h:1501</a></div></div>
<div class="ttc" id="astructitype_html_ad35fbe0013544c1c396944b20b264421"><div class="ttname"><a href="structitype.html#ad35fbe0013544c1c396944b20b264421">itype::nname</a></div><div class="ttdeci">std::string nname(unsigned int quantity) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00095">itype.cpp:95</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a7518cd295931d5e30f6ba0341f90aa8b"><div class="ttname"><a href="structrequirement__data.html#a7518cd295931d5e30f6ba0341f90aa8b">requirement_data::get_folded_tools_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_folded_tools_list(int width, nc_color col, const read_only_visitable &amp;crafting_inv, int batch=1) const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00819">requirements.cpp:819</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a9b9025140c166ce2a00fcf41db96b7a9"><div class="ttname"><a href="structrequirement__data.html#a9b9025140c166ce2a00fcf41db96b7a9">requirement_data::get_folded_components_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_folded_components_list(int width, nc_color col, const read_only_visitable &amp;crafting_inv, const std::function&lt; bool(const item &amp;)&gt; &amp;filter, int batch=1, std::string_view hilite={}, requirement_display_flags=requirement_display_flags::none) const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00732">requirements.cpp:732</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="display_8cpp_source.html#l00513">display::activity_level_str()</a>, <a class="el" href="recipe_8cpp_source.html#l01209">recipe::batch_savings_string()</a>, <a class="el" href="creature_8h_source.html#l00238">bp</a>, <a class="el" href="color_8h_source.html#l00022">c_cyan</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00349">cata_fail_chance_string()</a>, <a class="el" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color()</a>, <a class="el" href="color_8cpp_source.html#l00742">colorize()</a>, <a class="el" href="itype_8h_source.html#l01501">itype::count_by_charges()</a>, <a class="el" href="inventory_8cpp_source.html#l00990">inventory::count_item()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00332">craft_success_chance_string()</a>, <a class="el" href="crafting_8cpp_source.html#l00629">Character::crafting_inventory()</a>, <a class="el" href="recipe_8h_source.html#l00151">recipe::deduped_requirements()</a>, <a class="el" href="output_8h_source.html#l00647">enumerate_as_string()</a>, <a class="el" href="recipe_8cpp_source.html#l01140">recipe::exertion_level()</a>, <a class="el" href="crafting_8cpp_source.html#l00468">Character::expected_time_to_craft()</a>, <a class="el" href="item_8cpp_source.html#l14581">item::find_type()</a>, <a class="el" href="crafting__gui_8cpp.html#a82b84a91dff6914a85f043f856341c9a">flag_BLIND_EASY()</a>, <a class="el" href="crafting__gui_8cpp.html#aca65d188b99ba28b7aa105b7ed7bd077">flag_BLIND_HARD()</a>, <a class="el" href="output_8cpp_source.html#l00123">foldstring()</a>, <a class="el" href="calendar_8h_source.html#l00221">time_duration::from_turns()</a>, <a class="el" href="character__crafting_8cpp_source.html#l00193">Character::get_books_for_recipe()</a>, <a class="el" href="recipe_8cpp_source.html#l00870">recipe::get_byproducts()</a>, <a class="el" href="recipe_8cpp_source.html#l01256">recipe::get_component_filter()</a>, <a class="el" href="requirements_8cpp_source.html#l00732">requirement_data::get_folded_components_list()</a>, <a class="el" href="requirements_8cpp_source.html#l00819">requirement_data::get_folded_tools_list()</a>, <a class="el" href="character_8cpp_source.html#l05731">Character::get_name()</a>, <a class="el" href="character_8cpp_source.html#l00652">Character::getID()</a>, <a class="el" href="recipe_8cpp_source.html#l00892">recipe::has_byproducts()</a>, <a class="el" href="recipe_8cpp_source.html#l00145">recipe::has_flag()</a>, <a class="el" href="creature_8h_source.html#l00265">Creature::is_avatar()</a>, <a class="el" href="recipe_8cpp_source.html#l01341">recipe::is_nested()</a>, <a class="el" href="recipe_8cpp_source.html#l01336">recipe::is_practice()</a>, <a class="el" href="requirements_8h_source.html#l00483">deduped_requirement_data::is_too_complex()</a>, <a class="el" href="character__crafting_8cpp_source.html#l00026">Character::knows_recipe()</a>, <a class="el" href="recipe_8cpp_source.html#l01514">recipe::makes_amount()</a>, <a class="el" href="recipe_8cpp_source.html#l01108">recipe::missing_proficiencies_string()</a>, <a class="el" href="character_8cpp_source.html#l00844">Character::name_and_maybe_activity()</a>, <a class="el" href="item_8cpp_source.html#l14557">item::nname()</a>, <a class="el" href="itype_8cpp_source.html#l00095">itype::nname()</a>, <a class="el" href="recipe_8cpp_source.html#l01317">recipe::npc_can_craft()</a>, <a class="el" href="recipe_8cpp_source.html#l01183">recipe::primary_skill_string()</a>, <a class="el" href="recipe_8cpp_source.html#l00903">recipe::required_proficiencies_string()</a>, <a class="el" href="recipe_8h_source.html#l00189">recipe::required_skills</a>, <a class="el" href="recipe_8cpp_source.html#l01194">recipe::required_skills_string()</a>, <a class="el" href="recipe_8h_source.html#l00111">recipe::result()</a>, <a class="el" href="recipe_8h_source.html#l00147">recipe::simple_requirements()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="calendar_8cpp_source.html#l00546">to_string()</a>, and <a class="el" href="recipe_8cpp_source.html#l00957">recipe::used_proficiencies_string()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l00887">cached_recipe_info()</a>.</p>

</div>
</div>
<a id="a638984281aad5710838fa6f18bb154fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a638984281aad5710838fa6f18bb154fb">&#9670;&nbsp;</a></span>recipes_from_cat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::pair&lt;std::vector&lt;const <a class="el" href="classrecipe.html">recipe</a> *&gt;, bool&gt; recipes_from_cat </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp;&#160;</td>
          <td class="paramname"><em>available_recipes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>cat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>subcat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00863">863</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;{</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">if</span>( subcat == <span class="stringliteral">&quot;CSC_*_FAVORITE&quot;</span> ) {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="keywordflow">return</span> std::make_pair( available_recipes.<a class="code" href="classrecipe__subset.html#aeb54c3164f00d7804882232c8048c4bf">favorite</a>(), <span class="keyword">false</span> );</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( subcat == <span class="stringliteral">&quot;CSC_*_RECENT&quot;</span> ) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <span class="keywordflow">return</span> std::make_pair( available_recipes.<a class="code" href="classrecipe__subset.html#a71e6076bb93caff5d76cd0b792d3e8da">recent</a>(), <span class="keyword">false</span> );</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( subcat == <span class="stringliteral">&quot;CSC_*_HIDDEN&quot;</span> ) {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="keywordflow">return</span> std::make_pair( available_recipes.<a class="code" href="classrecipe__subset.html#acb197b29ff0d5b76df74d678ee87dd09">hidden</a>(), <span class="keyword">true</span> );</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <span class="keywordflow">return</span> std::make_pair( available_recipes.<a class="code" href="classrecipe__subset.html#aea45d12214c3c9fc378a7185a2370a2e">in_category</a>( cat, subcat != <span class="stringliteral">&quot;CSC_ALL&quot;</span> ? subcat : <span class="stringliteral">&quot;&quot;</span> ),</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                               <span class="keyword">false</span> );</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;}</div>
<div class="ttc" id="aclassrecipe__subset_html_a71e6076bb93caff5d76cd0b792d3e8da"><div class="ttname"><a href="classrecipe__subset.html#a71e6076bb93caff5d76cd0b792d3e8da">recipe_subset::recent</a></div><div class="ttdeci">std::vector&lt; const recipe * &gt; recent() const</div><div class="ttdoc">Find recently used recipes.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00154">recipe_dictionary.cpp:154</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html_acb197b29ff0d5b76df74d678ee87dd09"><div class="ttname"><a href="classrecipe__subset.html#acb197b29ff0d5b76df74d678ee87dd09">recipe_subset::hidden</a></div><div class="ttdeci">std::vector&lt; const recipe * &gt; hidden() const</div><div class="ttdoc">Find hidden recipes.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00126">recipe_dictionary.cpp:126</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html_aea45d12214c3c9fc378a7185a2370a2e"><div class="ttname"><a href="classrecipe__subset.html#aea45d12214c3c9fc378a7185a2370a2e">recipe_subset::in_category</a></div><div class="ttdeci">std::vector&lt; const recipe * &gt; in_category(const std::string &amp;cat, const std::string &amp;subcat=std::string()) const</div><div class="ttdoc">Get all recipes in given category (optionally restricted to subcategory)</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00372">recipe_dictionary.cpp:372</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html_aeb54c3164f00d7804882232c8048c4bf"><div class="ttname"><a href="classrecipe__subset.html#aeb54c3164f00d7804882232c8048c4bf">recipe_subset::favorite</a></div><div class="ttdeci">std::vector&lt; const recipe * &gt; favorite() const</div><div class="ttdoc">Find marked favorite recipes.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00112">recipe_dictionary.cpp:112</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="recipe__dictionary_8cpp_source.html#l00112">recipe_subset::favorite()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00126">recipe_subset::hidden()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00372">recipe_subset::in_category()</a>, and <a class="el" href="recipe__dictionary_8cpp_source.html#l00154">recipe_subset::recent()</a>.</p>

</div>
</div>
<a id="a0965fdbfb8880d31edf0bf9c39aa8eb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0965fdbfb8880d31edf0bf9c39aa8eb0">&#9670;&nbsp;</a></span>recursively_expance_recipes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void recursively_expance_recipes </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; const <a class="el" href="classrecipe.html">recipe</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>indent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt; const <a class="el" href="classrecipe.html">recipe</a> *, availability &gt; &amp;&#160;</td>
          <td class="paramname"><em>availability_cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>crafter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>unread_recipes_first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>highlight_unread_recipes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp;&#160;</td>
          <td class="paramname"><em>available_recipes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>hidden_recipes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l01072">1072</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;{</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    std::vector&lt;const recipe *&gt; tmp;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">recipe_id</a> &amp;nested : current[i]-&gt;nested_category_data ) {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <span class="keywordflow">if</span>( available_recipes.<a class="code" href="classrecipe__subset.html#af79647c29ab10027ad8bfb568a5e523d">contains</a>( &amp;nested.obj() )</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;            &amp;&amp; hidden_recipes.find( nested ) == hidden_recipes.end()</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;          ) {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            <span class="comment">// only do this if we can actually craft the recipe</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            tmp.push_back( &amp;nested.obj() );</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            indent.insert( indent.begin() + i + 1, indent[i] + 2 );</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            <span class="keywordflow">if</span>( !availability_cache.count( &amp;nested.obj() ) ) {</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                availability_cache.emplace( &amp;nested.obj(), availability( crafter, &amp;nested.obj() ) );</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        }</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    }</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    std::stable_sort( tmp.begin(), tmp.end(), [</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                       &amp;crafter, &amp;availability_cache, unread_recipes_first,</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                       highlight_unread_recipes</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    ]( <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> * <span class="keyword">const</span> <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>, <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> * <span class="keyword">const</span> <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        if( highlight_unread_recipes &amp;&amp; unread_recipes_first ) {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;            const bool a_read = uistate.read_recipes.count( a-&gt;ident() );</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            const bool b_read = uistate.read_recipes.count( b-&gt;ident() );</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            if( a_read != b_read ) {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                return !a_read;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;            }</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> can_craft_a = availability_cache.at( <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> ).can_craft;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> can_craft_b = availability_cache.at( <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ).can_craft;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <span class="keywordflow">if</span>( can_craft_a != can_craft_b ) {</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            return can_craft_a;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        }</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;difficulty != <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;difficulty ) {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            return b-&gt;difficulty &lt; a-&gt;difficulty;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        }</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <span class="keyword">const</span> std::string a_name = <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;result_name();</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        <span class="keyword">const</span> std::string b_name = <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;result_name();</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <span class="keywordflow">if</span>( a_name != b_name ) {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            return localized_compare( a_name, b_name );</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        }</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;time_to_craft( crafter ) &lt;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;               <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;time_to_craft( crafter );</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    } );</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    current.insert( current.begin() + i + 1, tmp.begin(), tmp.end() );</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01566">a</a>, <a class="el" href="magic_8cpp_source.html#l01567">b</a>, and <a class="el" href="recipe__dictionary_8h_source.html#l00118">recipe_subset::contains()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l01124">expand_recipes()</a>.</p>

</div>
</div>
<a id="a8888fc821692b5bfd3e8f70b0850355a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8888fc821692b5bfd3e8f70b0850355a">&#9670;&nbsp;</a></span>related_menu_fill()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int related_menu_fill </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classuilist.html">uilist</a> &amp;&#160;</td>
          <td class="paramname"><em>rmenu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>related_recipes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp;&#160;</td>
          <td class="paramname"><em>available</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l02164">2164</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;{</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    <span class="keyword">const</span> std::vector&lt;uilist_entry&gt; &amp;entries = rmenu.<a class="code" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>;</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <span class="keywordtype">int</span> np_last = entries.empty() ? -1 : entries.back().retval;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160; </div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    <span class="keywordflow">if</span>( related_recipes.empty() ) {</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;        <span class="keywordflow">return</span> np_last;</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    }</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160; </div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    std::string recipe_name_prev;</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;itype_id, std::string&gt; &amp;p : related_recipes ) {</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160; </div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;        <span class="comment">// we have different recipes with the same names</span></div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;        <span class="comment">// list only one of them as we show and filter by name only</span></div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;        std::string recipe_name = p.second;</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;        <span class="keywordflow">if</span>( recipe_name == recipe_name_prev ) {</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;        }</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;        recipe_name_prev = recipe_name;</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160; </div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;        std::vector&lt;const recipe *&gt; current_part = <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">available</a>.recipes_that_produce( p.first );</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;        <span class="keywordflow">if</span>( current_part.empty() ) {</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;        }</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160; </div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;        <span class="keywordtype">bool</span> different_recipes = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160; </div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;        <span class="comment">// 1st pass: check if we need to add group</span></div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> recipe_n = 0; recipe_n &lt; current_part.size(); recipe_n++ ) {</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;            <span class="keywordflow">if</span>( current_part[recipe_n]-&gt;result_name( <span class="comment">/*decorated=*/</span><span class="keyword">true</span> ) != recipe_name ) {</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;                <span class="comment">// add group</span></div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;                rmenu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( ++np_last, <span class="keyword">false</span>, -1, recipe_name );</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;                different_recipes = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( recipe_n == current_part.size() - 1 ) {</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;                <span class="comment">// only one result</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;                rmenu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( ++np_last, <span class="keyword">true</span>, -1, <span class="stringliteral">&quot;─ &quot;</span> + recipe_name );</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;            }</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;        }</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;        <span class="keywordflow">if</span>( !different_recipes ) {</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;        }</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;        std::string prev_item_name;</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;        <span class="comment">// 2nd pass: add different recipes</span></div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> recipe_n = 0; recipe_n &lt; current_part.size(); recipe_n++ ) {</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;            std::string cur_item_name = current_part[recipe_n]-&gt;result_name( <span class="comment">/*decorated=*/</span><span class="keyword">true</span> );</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;            <span class="keywordflow">if</span>( cur_item_name != prev_item_name ) {</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;                std::string sym = recipe_n == current_part.size() - 1 ? <span class="stringliteral">&quot;└ &quot;</span> : <span class="stringliteral">&quot;├ &quot;</span>;</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;                rmenu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( ++np_last, <span class="keyword">true</span>, -1, sym + cur_item_name );</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;            }</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;            prev_item_name = cur_item_name;</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;        }</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    }</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160; </div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <span class="keywordflow">return</span> np_last;</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui_8cpp_source.html#l01210">uilist::addentry()</a>, <a class="el" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">available</a>, and <a class="el" href="ui_8h_source.html#l00422">uilist::entries</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l02098">peek_related_recipe()</a>.</p>

</div>
</div>
<a id="af8ee3f5b0aa324d4db5e0af57f80ee3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8ee3f5b0aa324d4db5e0af57f80ee3b">&#9670;&nbsp;</a></span>reset_recipe_categories()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset_recipe_categories </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00171">171</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="crafting__gui_8cpp.html#aa56eb1d3153ac8abf3ede81da9bef10b">craft_cat_list</a>.clear();</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>.clear();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting__gui_8cpp_source.html#l00095">craft_cat_list</a>, and <a class="el" href="crafting__gui_8cpp_source.html#l00096">craft_subcat_list</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8cpp_source.html#l00548">DynamicDataLoader::unload_data()</a>.</p>

</div>
</div>
<a id="a9a703e78838fe3f6167fb2e3ab93c9a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a703e78838fe3f6167fb2e3ab93c9a3">&#9670;&nbsp;</a></span>select_crafter_and_crafting_recipe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt;<a class="el" href="classCharacter.html">Character</a> *, const <a class="el" href="classrecipe.html">recipe</a> *&gt; select_crafter_and_crafting_recipe </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>batch_size_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> &amp;&#160;</td>
          <td class="paramname"><em>goto_recipe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>crafter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td>
          <td class="paramname"><em>filterstring</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open crafting menu where user selects who will craft what (the crafter &amp; the recipe). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">crafter</td><td>who opened the menu - the initial crafter </td></tr>
    <tr><td class="paramname">filterstring</td><td>initial filter to execute</td></tr>
  </table>
  </dd>
</dl>
<p>Return: if recipe * is not nullptr, then <a class="el" href="classCharacter.html">Character</a> * is not nullptr either. </p>

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l01186">1186</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;{</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="keywordflow">if</span>( crafter == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        <span class="keywordflow">return</span> {<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>};</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    }</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <a class="code" href="classrecipe__result__info__cache.html">recipe_result_info_cache</a> result_info( *crafter );</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <a class="code" href="structrecipe__info__cache.html">recipe_info_cache</a> r_info_cache;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordtype">int</span> line_recipe_info = 0;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordtype">int</span> line_item_info = 0;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="keywordtype">int</span> line_item_info_popup = 0;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> headHeight = 3;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> subHeadHeight = 2;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160; </div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="newcharacter_8cpp.html#a211e8690b2c5bad873ca59b4d34d226f">isWide</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="keywordtype">int</span> width = 0;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <span class="keywordtype">int</span> dataLines = 0;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keywordtype">int</span> dataHalfLines = 0;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keywordtype">int</span> dataHeight = 0;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="keywordtype">int</span> item_info_width = 0;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> highlight_unread_recipes = get_option&lt;bool&gt;( <span class="stringliteral">&quot;HIGHLIGHT_UNREAD_RECIPES&quot;</span> );</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160; </div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <a class="code" href="classinput__context.html">input_context</a> ctxt = <a class="code" href="crafting__gui_8cpp.html#aa81bd5ab80d6567bb231ae07cc137eb0">make_crafting_context</a>( highlight_unread_recipes );</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> w_head_tabs; <span class="comment">//For the recipe category tabs on the left</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> w_head_info; <span class="comment">//For the new/hidden/status information on the right</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> w_subhead;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> w_data;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> w_iteminfo;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <a class="code" href="structinclusive__rectangle.html">inclusive_rectangle&lt;point&gt;</a> mouseover_area_list;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <a class="code" href="structinclusive__rectangle.html">inclusive_rectangle&lt;point&gt;</a> mouseover_area_recipe;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    std::vector&lt;std::string&gt; keybinding_tips;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordtype">int</span> keybinding_x = 0;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <a class="code" href="classui__adaptor.html">ui_adaptor</a> <a class="code" href="namespaceui.html">ui</a>;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.on_screen_resize( [&amp;]( <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> freeWidth = <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a>;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        <a class="code" href="newcharacter_8cpp.html#a211e8690b2c5bad873ca59b4d34d226f">isWide</a> = ( <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> &gt; <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> &amp;&amp; freeWidth &gt; 15 );</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160; </div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        width = <a class="code" href="newcharacter_8cpp.html#a211e8690b2c5bad873ca59b4d34d226f">isWide</a> ? ( freeWidth &gt; <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> ? <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> * 2 : <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> ) :</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a>;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> header_info_width = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( width / 4, width - <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> - 1 );</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> wStart = ( <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - width ) / 2;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160; </div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        std::vector&lt;std::string&gt; act_descs;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> add_action_desc = [&amp;]( <span class="keyword">const</span> std::string &amp; <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <span class="keyword">const</span> std::string &amp; txt ) {</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;            act_descs.emplace_back(</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                ctxt.<a class="code" href="classinput__context.html#abe76d2c284f2a277cbd2f367963fa9ab">get_desc</a>( <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, txt, <a class="code" href="classinput__context.html#af15391a3cae13b2e23c43e23342ec7c6">input_context::allow_all_keys</a> ) );</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        };</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        add_action_desc( <span class="stringliteral">&quot;CONFIRM&quot;</span>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;crafting gui&quot;</span>, <span class="stringliteral">&quot;Craft&quot;</span> ) );</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        add_action_desc( <span class="stringliteral">&quot;HELP_RECIPE&quot;</span>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;crafting gui&quot;</span>, <span class="stringliteral">&quot;Describe&quot;</span> ) );</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        add_action_desc( <span class="stringliteral">&quot;FILTER&quot;</span>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;crafting gui&quot;</span>, <span class="stringliteral">&quot;Filter&quot;</span> ) );</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        add_action_desc( <span class="stringliteral">&quot;RESET_FILTER&quot;</span>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;crafting gui&quot;</span>, <span class="stringliteral">&quot;Reset filter&quot;</span> ) );</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        <span class="keywordflow">if</span>( highlight_unread_recipes ) {</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;            add_action_desc( <span class="stringliteral">&quot;TOGGLE_RECIPE_UNREAD&quot;</span>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;crafting gui&quot;</span>, <span class="stringliteral">&quot;Read/unread&quot;</span> ) );</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;            add_action_desc( <span class="stringliteral">&quot;MARK_ALL_RECIPES_READ&quot;</span>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;crafting gui&quot;</span>, <span class="stringliteral">&quot;Mark all as read&quot;</span> ) );</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;            add_action_desc( <span class="stringliteral">&quot;TOGGLE_UNREAD_RECIPES_FIRST&quot;</span>,</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                             <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;crafting gui&quot;</span>, <span class="stringliteral">&quot;Show unread recipes first&quot;</span> ) );</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        }</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        add_action_desc( <span class="stringliteral">&quot;HIDE_SHOW_RECIPE&quot;</span>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;crafting gui&quot;</span>, <span class="stringliteral">&quot;Show/hide&quot;</span> ) );</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        add_action_desc( <span class="stringliteral">&quot;RELATED_RECIPES&quot;</span>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;crafting gui&quot;</span>, <span class="stringliteral">&quot;Related&quot;</span> ) );</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        add_action_desc( <span class="stringliteral">&quot;TOGGLE_FAVORITE&quot;</span>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;crafting gui&quot;</span>, <span class="stringliteral">&quot;Favorite&quot;</span> ) );</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        add_action_desc( <span class="stringliteral">&quot;CYCLE_BATCH&quot;</span>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;crafting gui&quot;</span>, <span class="stringliteral">&quot;Batch&quot;</span> ) );</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        add_action_desc( <span class="stringliteral">&quot;CHOOSE_CRAFTER&quot;</span>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;crafting gui&quot;</span>, <span class="stringliteral">&quot;Choose crafter&quot;</span> ) );</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        add_action_desc( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span>, <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;crafting gui&quot;</span>, <span class="stringliteral">&quot;Keybindings&quot;</span> ) );</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        keybinding_x = <a class="code" href="newcharacter_8cpp.html#a211e8690b2c5bad873ca59b4d34d226f">isWide</a> ? 5 : 2;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        keybinding_tips = <a class="code" href="output_8cpp.html#aea67d56cef07017be061e1ceefee80df">foldstring</a>( <a class="code" href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a>( act_descs, <a class="code" href="output_8h.html#acff0d12357d8a4690e781eed41b36b98a334c4a4c42fdb79d7ebc3e73b517e6f8">enumeration_conjunction::none</a> ),</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                                      width - keybinding_x * 2 );</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> tailHeight = keybinding_tips.size() + 2;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        dataLines = <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> - ( headHeight + subHeadHeight ) - tailHeight;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        dataHalfLines = dataLines / 2;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        dataHeight = <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> - ( headHeight + subHeadHeight );</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160; </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        w_head_tabs = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( headHeight, ( width - header_info_width ), <a class="code" href="structpoint.html">point</a>( wStart, 0 ) );</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        w_head_info = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( headHeight, header_info_width,</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                                          <a class="code" href="structpoint.html">point</a>( wStart + ( width - header_info_width ), 0 ) );</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        w_subhead = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( subHeadHeight, width, <a class="code" href="structpoint.html">point</a>( wStart, 3 ) );</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        w_data = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( dataHeight, width, <a class="code" href="structpoint.html">point</a>( wStart,</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                                     headHeight + subHeadHeight ) );</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160; </div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="newcharacter_8cpp.html#a211e8690b2c5bad873ca59b4d34d226f">isWide</a> ) {</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;            item_info_width = width - <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> - 1;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> item_info_height = dataHeight - tailHeight;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;            <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> item_info( wStart + width - item_info_width, headHeight + subHeadHeight );</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160; </div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;            w_iteminfo = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( item_info_height, item_info_width,</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                                             item_info );</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;            item_info_width = 0;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            w_iteminfo = {};</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        }</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        <a class="code" href="namespaceui.html">ui</a>.position( <a class="code" href="structpoint.html">point</a>( wStart, 0 ), <a class="code" href="structpoint.html">point</a>( width, <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> ) );</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    } );</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160; </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="keywordtype">bool</span> is_filtered_unread = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    std::map&lt;std::string, bool&gt; is_cat_unread;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    std::map&lt;std::string, std::map&lt;std::string, bool&gt;&gt; is_subcat_unread;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <a class="code" href="classtab__list.html">tab_list</a> <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>( <a class="code" href="crafting__gui_8cpp.html#aa56eb1d3153ac8abf3ede81da9bef10b">craft_cat_list</a> );</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <a class="code" href="classtab__list.html">tab_list</a> subtab( <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>[<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>.cur()] );</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    std::map&lt;size_t, inclusive_rectangle&lt;point&gt;&gt; translated_tab_map;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    std::map&lt;size_t, inclusive_rectangle&lt;point&gt;&gt; translated_subtab_map;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    std::map&lt;size_t, inclusive_rectangle&lt;point&gt;&gt; list_map;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="comment">// List of all recipes to show, to choose from</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    std::vector&lt;const recipe *&gt; current;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="comment">// how much to indent any item</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    std::vector&lt;int&gt; indent;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    std::vector&lt;availability&gt; <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">available</a>;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> = 0;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordtype">bool</span> unread_recipes_first = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="keywordtype">bool</span> user_moved_line = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keywordtype">bool</span> recalc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordtype">bool</span> recalc_unread = highlight_unread_recipes;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="keywordtype">bool</span> keepline = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordtype">bool</span> done = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="keywordtype">bool</span> batch = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="keywordtype">bool</span> show_hidden = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordtype">size_t</span> num_hidden = 0;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="keywordtype">int</span> num_recipe = 0;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keywordtype">int</span> batch_line = 0;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> *chosen = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keywordtype">int</span> last_line = -1;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="keywordtype">bool</span> just_toggled_unread = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160; </div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="keyword">const</span> std::vector&lt;Character *&gt; crafting_group = crafter-&gt;<a class="code" href="classCharacter.html#a1b9170b7f6d51a84396e9debed7c798e">get_crafting_group</a>();</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keywordtype">int</span> crafter_i = find( crafting_group.begin(), crafting_group.end(),</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                          crafter ) - crafting_group.begin();</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160; </div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="comment">// Get everyone&#39;s recipes</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="keyword">const</span> <a class="code" href="classrecipe__subset.html">recipe_subset</a> &amp;available_recipes = crafter-&gt;<a class="code" href="classCharacter.html#aa6f6059b227a5cae968cb85a91a1c501">get_group_available_recipes</a>();</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    std::map&lt;character_id, std::map&lt;const recipe *, availability&gt;&gt; guy_availability_cache;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="comment">// next line also inserts empty cache for crafter-&gt;getID()</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    std::map&lt;const recipe *, availability&gt; *availability_cache =</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        &amp;guy_availability_cache[crafter-&gt;<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>()];</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160; </div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <span class="keyword">const</span> std::string new_recipe_str = <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;crafting gui&quot;</span>, <span class="stringliteral">&quot;NEW!&quot;</span> );</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="keyword">const</span> <a class="code" href="classnc__color.html">nc_color</a> new_recipe_str_col = <a class="code" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a>;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> new_recipe_str_width = <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( new_recipe_str );</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160; </div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keywordflow">if</span>( goto_recipe.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <span class="keyword">const</span> std::vector&lt;const recipe *&gt; &amp;gotocat = available_recipes.<a class="code" href="classrecipe__subset.html#aea45d12214c3c9fc378a7185a2370a2e">in_category</a>( goto_recipe-&gt;<a class="code" href="classrecipe.html#a7c22888c560df7aa0f06a071bb4b4f05">category</a> );</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        <span class="keywordflow">if</span>( !gotocat.empty() ) {</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> gotorec = std::find_if( gotocat.begin(),</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            gotocat.end(), [&amp;goto_recipe]( <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> * r ) {</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                return r &amp;&amp; r-&gt;ident() == goto_recipe;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;            } );</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;            <span class="keywordflow">if</span>( gotorec != gotocat.end() &amp;&amp;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                std::find( <a class="code" href="crafting__gui_8cpp.html#aa56eb1d3153ac8abf3ede81da9bef10b">craft_cat_list</a>.begin(), <a class="code" href="crafting__gui_8cpp.html#aa56eb1d3153ac8abf3ede81da9bef10b">craft_cat_list</a>.end(),</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                           goto_recipe-&gt;<a class="code" href="classrecipe.html#a7c22888c560df7aa0f06a071bb4b4f05">category</a> ) != <a class="code" href="crafting__gui_8cpp.html#aa56eb1d3153ac8abf3ede81da9bef10b">craft_cat_list</a>.end() ) {</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                <span class="keywordflow">while</span>( <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>.cur() != goto_recipe-&gt;<a class="code" href="classrecipe.html#a7c22888c560df7aa0f06a071bb4b4f05">category</a> ) {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                    <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>.next();</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                }</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                subtab = <a class="code" href="classtab__list.html">tab_list</a>( <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>[<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>.cur()] );</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                chosen = *gotorec;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                show_hidden = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                keepline = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                current = gotocat;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> = gotorec - gotocat.begin();</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    }</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160; </div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.on_redraw( [&amp;]( <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        <span class="keywordflow">if</span>( highlight_unread_recipes &amp;&amp; recalc_unread ) {</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            <span class="keywordflow">if</span>( filterstring.empty() ) {</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                for( const std::string &amp;cat : craft_cat_list ) {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                    is_cat_unread[cat] = false;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                    for( const std::string &amp;subcat : craft_subcat_list[cat] ) {</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                        is_subcat_unread[cat][subcat] = false;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                        const std::pair&lt;std::vector&lt;const recipe *&gt;, bool&gt; result = recipes_from_cat( available_recipes,</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                                cat, subcat );</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                        const std::vector&lt;const recipe *&gt; &amp;recipes = result.first;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                        const bool include_hidden = result.second;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                        for( const recipe *const rcp : recipes ) {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                            const recipe_id &amp;rcp_id = rcp-&gt;ident();</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                            if( !include_hidden &amp;&amp; uistate.hidden_recipes.count( rcp_id ) ) {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                                continue;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                            }</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                            if( uistate.read_recipes.count( rcp_id ) ) {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                                continue;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                            }</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                            is_cat_unread[cat] = true;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;                            is_subcat_unread[cat][subcat] = true;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                            break;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                        }</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                    }</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                }</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                is_filtered_unread = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> *<span class="keyword">const</span> rcp : current ) {</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classstring__id.html">recipe_id</a> &amp;rcp_id = rcp-&gt;<a class="code" href="classrecipe.html#aa75469c5d2213a774931a5abf668a9dc">ident</a>();</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8beabc9b7efada6b41c81464c2935dd9">hidden_recipes</a>.count( rcp_id ) ) {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                        continue;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                    }</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a6d4e878b5ef16b6ed3fa1e4746797b8a">read_recipes</a>.count( rcp_id ) ) {</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                        continue;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                    }</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                    is_filtered_unread = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                }</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;            }</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;            recalc_unread = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        }</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160; </div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <span class="keyword">const</span> <a class="code" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cde">TAB_MODE</a> m = batch ? <a class="code" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdeabc04848b2d94351b99f92127e29bb075">BATCH</a> : filterstring.empty() ? <a class="code" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdea50d1448013c6f17125caee18aa418af7">NORMAL</a> : <a class="code" href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cdeab0f4e80b9200bdfca611883a5bb2cecb">FILTERED</a>;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        translated_tab_map = <a class="code" href="crafting__gui_8cpp.html#a27baf6e831488479b228dfcf8afaa451">draw_recipe_tabs</a>( w_head_tabs, <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>, m, is_filtered_unread, is_cat_unread );</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        translated_subtab_map = <a class="code" href="crafting__gui_8cpp.html#aef8a9c446d871dc74175076ec78918fb">draw_recipe_subtabs</a>( w_subhead, <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>.cur(), subtab.cur_index(),</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                                available_recipes, m,</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                                is_subcat_unread[<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>.cur()] );</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        <span class="comment">//Clear the crafting info panel, since that can change on a per-recipe basis</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_head_info );</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160; </div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        <span class="keywordflow">if</span>( !show_hidden ) {</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;            <a class="code" href="crafting__gui_8cpp.html#a617c94a2fbd871936182c0cb18ca62ba">draw_hidden_amount</a>( w_head_info, num_hidden, num_recipe );</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        }</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        <span class="comment">// Clear the screen of recipe data, and draw it anew</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_data );</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160; </div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; keybinding_tips.size(); ++i ) {</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;            <a class="code" href="classnc__color.html">nc_color</a> dummy = <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            <a class="code" href="output_8cpp.html#a64a769083b78bb93dbb99935b959f3f5">print_colored_text</a>( w_data, <a class="code" href="structpoint.html">point</a>( keybinding_x, dataLines + 1 + i ),</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                                dummy, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, keybinding_tips[i] );</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        }</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160; </div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <span class="comment">// Draw borders</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 1; i &lt; width - 1; ++i ) { <span class="comment">// -</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w_data, <a class="code" href="structpoint.html">point</a>( i, dataHeight - 1 ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a> );</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        }</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; dataHeight - 1; ++i ) { <span class="comment">// |</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w_data, <a class="code" href="structpoint.html">point</a>( 0, i ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> );</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w_data, <a class="code" href="structpoint.html">point</a>( width - 1, i ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> );</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        }</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w_data, <a class="code" href="structpoint.html">point</a>( 0, dataHeight - 1 ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#af6d239f277e1b763f690b94efa469792">LINE_XXOO</a> ); <span class="comment">// |_</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w_data, <a class="code" href="structpoint.html">point</a>( width - 1, dataHeight - 1 ), <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code" href="output_8h.html#ad3a54f998264087befce6de30cb787b0">LINE_XOOX</a> ); <span class="comment">// _|</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160; </div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> max_recipe_name_width = 27;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> recmax = current.size();</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        <span class="comment">// pair&lt;int, int&gt;</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; [istart, iend] = <a class="code" href="ui_8cpp.html#a12c098a4e293befc182e42170a6bd83b">subindex_around_cursor</a>( recmax, dataLines, <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> );</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        list_map.clear();</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = istart; i &lt; iend; ++i ) {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;            <span class="keywordflow">if</span>( i &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( indent.size() ) || indent[i] &lt; 0 ) {</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                indent.assign( current.size(), 0 );</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Indent for line %i not set correctly.  Indents reset to 0.&quot;</span> ), i );</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;            }</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;            std::string tmp_name = std::string( indent[i],</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                                                <span class="charliteral">&#39; &#39;</span> ) + current[i]-&gt;result_name( <span class="comment">/*decorated=*/</span><span class="keyword">true</span> );</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;            <span class="keywordflow">if</span>( batch ) {</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                tmp_name = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%2dx %s&quot;</span> ), i + 1, tmp_name );</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;            }</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> rcp_read = !highlight_unread_recipes ||</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                                  <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a6d4e878b5ef16b6ed3fa1e4746797b8a">read_recipes</a>.count( current[i]-&gt;ident() );</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> highlight = i == <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;            <a class="code" href="classnc__color.html">nc_color</a> col = highlight ? <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">available</a>[i].selected_color() : <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">available</a>[i].color();</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;            <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> print_from( 2, i - istart );</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;            <span class="keywordflow">if</span>( highlight ) {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                <a class="code" href="namespaceui.html">ui</a>.set_cursor( w_data, print_from );</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;            }</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;            <span class="keywordtype">int</span> rcp_name_trim_width = max_recipe_name_width;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;            <span class="keywordflow">if</span>( !rcp_read ) {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> offset( max_recipe_name_width - new_recipe_str_width, 0 );</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_data, print_from + offset, new_recipe_str_col, <span class="stringliteral">&quot;%s&quot;</span>, new_recipe_str );</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                rcp_name_trim_width -= new_recipe_str_width + 1;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;            }</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_data, print_from, col, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="output_8cpp.html#ae119f59b53c5e1e230cb211a0643c418">trim_by_length</a>( tmp_name, rcp_name_trim_width ) );</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;            list_map.emplace( i, <a class="code" href="structinclusive__rectangle.html">inclusive_rectangle&lt;point&gt;</a>( print_from, <a class="code" href="structpoint.html">point</a>( 2 + max_recipe_name_width,</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                              i - istart ) ) );</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        }</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160; </div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> batch_size = batch ? <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> + 1 : 1;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        <span class="keywordflow">if</span>( !current.empty() ) {</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;            <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> &amp;recp = *current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>];</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160; </div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;            <a class="code" href="crafting__gui_8cpp.html#a565811ca311d0ecb089df0bf324fb40c">draw_can_craft_indicator</a>( w_head_info, recp, *crafter );</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160; </div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;            <span class="keyword">const</span> availability &amp;avail = <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">available</a>[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>];</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;            <span class="comment">// border + padding + name + padding</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> xpos = 1 + 1 + max_recipe_name_width + 3;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> fold_width = <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> - xpos - 2;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> w_left = <a class="code" href="namespacecatacurses.html#a3e3320f426a1343cb1effcaf648d2d1a">getbegx</a>( w_data );</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;            mouseover_area_list = <a class="code" href="structinclusive__rectangle.html">inclusive_rectangle&lt;point&gt;</a>( <a class="code" href="structpoint.html">point</a>( 1 + w_left, headHeight + subHeadHeight ),</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                                  <a class="code" href="structpoint.html">point</a>( w_left + xpos - 1, headHeight + subHeadHeight + dataLines ) );</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;            mouseover_area_recipe = <a class="code" href="structinclusive__rectangle.html">inclusive_rectangle&lt;point&gt;</a>( <a class="code" href="structpoint.html">point</a>( xpos + w_left,</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                                    headHeight + subHeadHeight ), <a class="code" href="structpoint.html">point</a>( xpos + w_left + fold_width + 1,</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                                            headHeight + subHeadHeight + dataLines ) );</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;            <span class="keyword">const</span> <a class="code" href="classnc__color.html">nc_color</a> <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> = avail.color( <span class="keyword">true</span> );</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;            <span class="keyword">const</span> std::string qry = <a class="code" href="output_8cpp.html#aaaccf20f312c5db1637a1a967b37f194">trim</a>( filterstring );</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;            std::string qry_comps;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;            <span class="keywordflow">if</span>( qry.compare( 0, 2, <span class="stringliteral">&quot;c:&quot;</span> ) == 0 ) {</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                qry_comps = qry.substr( 2 );</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;            }</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160; </div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;            <span class="keyword">const</span> std::vector&lt;std::string&gt; &amp;info = <a class="code" href="crafting__gui_8cpp.html#ad4596c4f7be1f0849480de73fb4b8048">cached_recipe_info</a>( r_info_cache,</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                                                   recp, avail, *crafter, qry_comps, batch_size, fold_width, <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a>, crafting_group );</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160; </div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> total_lines = info.size();</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;            line_recipe_info = <a class="code" href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a>( line_recipe_info, 0, total_lines - dataLines );</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = line_recipe_info; i &lt; <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( line_recipe_info + dataLines, total_lines ); ++i ) {</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                <a class="code" href="classnc__color.html">nc_color</a> dummy = <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a>;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                <a class="code" href="output_8cpp.html#a64a769083b78bb93dbb99935b959f3f5">print_colored_text</a>( w_data, <a class="code" href="structpoint.html">point</a>( xpos, i - line_recipe_info ), dummy, <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a>, info[i] );</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            }</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            <span class="keywordflow">if</span>( total_lines &gt; dataLines ) {</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                <a class="code" href="classscrollbar.html">scrollbar</a>()</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                .<a class="code" href="classscrollbar.html#a226505801579af2a2dcf01a0c0b537df">offset_x</a>( xpos + fold_width + 1 )</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                .<a class="code" href="classscrollbar.html#a98f4ed3f32292f440c0672817e74616c">content_size</a>( total_lines )</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                .<a class="code" href="classscrollbar.html#a6d297e6f4366400fe0cc35bbeefe255e">viewport_pos</a>( line_recipe_info )</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                .<a class="code" href="classscrollbar.html#a93c98c6beb1deeb701317f00da76c69f">viewport_size</a>( dataLines )</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;                .<a class="code" href="classscrollbar.html#ae3e092da3bab2a8bb65d662538a27f62">apply</a>( w_data );</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;            }</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;        }</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        <a class="code" href="classscrollbar.html">scrollbar</a>()</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        .<a class="code" href="classscrollbar.html#a226505801579af2a2dcf01a0c0b537df">offset_x</a>( 0 )</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        .<a class="code" href="classscrollbar.html#a086351327a6cbd86aeed71287447b17f">offset_y</a>( 0 )</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        .<a class="code" href="classscrollbar.html#a98f4ed3f32292f440c0672817e74616c">content_size</a>( recmax )</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        .<a class="code" href="classscrollbar.html#a6d297e6f4366400fe0cc35bbeefe255e">viewport_pos</a>( istart )</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        .<a class="code" href="classscrollbar.html#a93c98c6beb1deeb701317f00da76c69f">viewport_size</a>( dataLines )</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        .<a class="code" href="classscrollbar.html#ae3e092da3bab2a8bb65d662538a27f62">apply</a>( w_data );</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160; </div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_data );</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160; </div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="newcharacter_8cpp.html#a211e8690b2c5bad873ca59b4d34d226f">isWide</a> &amp;&amp; !current.empty() ) {</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;            <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> *cur_recipe = current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>];</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;            <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_iteminfo );</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;            <span class="keywordflow">if</span>( cur_recipe-&gt;<a class="code" href="classrecipe.html#a6ffa5ac015e9cb54bf2d360e5709cff3">is_practice</a>() ) {</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                <span class="keyword">const</span> std::string desc = <a class="code" href="crafting__gui_8cpp.html#a6b7ee7c89f221e94470bd5a147a3d40a">practice_recipe_description</a>( *cur_recipe, *crafter );</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( w_iteminfo, <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, item_info_width, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, desc );</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                <a class="code" href="classscrollbar.html">scrollbar</a>().<a class="code" href="classscrollbar.html#a226505801579af2a2dcf01a0c0b537df">offset_x</a>( item_info_width - 1 ).<a class="code" href="classscrollbar.html#a086351327a6cbd86aeed71287447b17f">offset_y</a>( 0 ).<a class="code" href="classscrollbar.html#a98f4ed3f32292f440c0672817e74616c">content_size</a>( 1 ).<a class="code" href="classscrollbar.html#a93c98c6beb1deeb701317f00da76c69f">viewport_size</a>( <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>(</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                            w_iteminfo ) ).<a class="code" href="classscrollbar.html#ae3e092da3bab2a8bb65d662538a27f62">apply</a>( w_iteminfo );</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_iteminfo );</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( cur_recipe-&gt;<a class="code" href="classrecipe.html#a7ff67127daa1a2dafb9cc580863fb272">is_nested</a>() ) {</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                std::string desc = cur_recipe-&gt;<a class="code" href="classrecipe.html#a334fe87cf6e3da5ad075fcabeae44c7c">description</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>() + <span class="stringliteral">&quot;\n\n&quot;</span>;;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                desc += <a class="code" href="crafting__gui_8cpp.html#aee2aef325edf92b1116862353af6af40">list_nested</a>( *crafter, cur_recipe, available_recipes );</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( w_iteminfo, <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, item_info_width, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, desc );</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                <a class="code" href="classscrollbar.html">scrollbar</a>().<a class="code" href="classscrollbar.html#a226505801579af2a2dcf01a0c0b537df">offset_x</a>( item_info_width - 1 ).<a class="code" href="classscrollbar.html#a086351327a6cbd86aeed71287447b17f">offset_y</a>( 0 ).<a class="code" href="classscrollbar.html#a98f4ed3f32292f440c0672817e74616c">content_size</a>( 1 ).<a class="code" href="classscrollbar.html#a93c98c6beb1deeb701317f00da76c69f">viewport_size</a>( <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>(</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                            w_iteminfo ) ).<a class="code" href="classscrollbar.html#ae3e092da3bab2a8bb65d662538a27f62">apply</a>( w_iteminfo );</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_iteminfo );</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;                <a class="code" href="structitem__info__data.html">item_info_data</a> data = result_info.get_result_data( cur_recipe, batch_size, line_item_info,</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                                      w_iteminfo );</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                data.<a class="code" href="structitem__info__data.html#aebc34b872c27347457cc489fc5d4c15f">without_getch</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                data.<a class="code" href="structitem__info__data.html#ac30189a0f526d1897dbf46d6e77ac193">without_border</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                data.<a class="code" href="structitem__info__data.html#a14e079bd7ae3417fe4cccdef0d9f6f9d">scrollbar_left</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                data.<a class="code" href="structitem__info__data.html#adafcbaae8c911bf3d4fd7fff306a49a4">use_full_win</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                data.<a class="code" href="structitem__info__data.html#ac78d38be36e9d32c15632fde13e025d9">padding</a> = 0;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                <a class="code" href="output_8cpp.html#ae94727a9102271cfed214e5988c8f440">draw_item_info</a>( w_iteminfo, data );</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            }</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        }</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    } );</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160; </div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        <span class="keywordflow">if</span>( recalc ) {</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;            <span class="comment">// When we switch tabs, redraw the header</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;            recalc = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;            <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> *prev_rcp = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;            <span class="keywordflow">if</span>( keepline &amp;&amp; <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> &gt;= 0 &amp;&amp; <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> ) &lt; current.size() ) {</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;                prev_rcp = current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>];</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;            }</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160; </div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;            show_hidden = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">available</a>.clear();</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160; </div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            <span class="keywordflow">if</span>( batch ) {</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                current.clear();</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 1; i &lt;= 50; i++ ) {</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;                    current.push_back( chosen );</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;                    <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">available</a>.emplace_back( *crafter, chosen, i );</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;                }</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;                indent.assign( current.size(), 0 );</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                <a class="code" href="classstatic__popup.html">static_popup</a> <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                std::chrono::steady_clock::time_point last_update = std::chrono::steady_clock::now();</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                <span class="keyword">static</span> constexpr std::chrono::milliseconds update_interval( 500 );</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160; </div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                std::function&lt;void( <span class="keywordtype">size_t</span>, <span class="keywordtype">size_t</span> )&gt; progress_callback =</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                [&amp;]( <span class="keywordtype">size_t</span> at, <span class="keywordtype">size_t</span> out_of ) {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                    std::chrono::steady_clock::time_point now = std::chrono::steady_clock::now();</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;                    <span class="keywordflow">if</span>( now - last_update &lt; update_interval ) {</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;                    }</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                    last_update = now;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                    <span class="keywordtype">double</span> percent = 100.0 * at / out_of;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>.message( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Searching… %3.0f%%\n&quot;</span> ), percent );</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                    <a class="code" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                    <a class="code" href="ncurses__def_8cpp.html#a6fd55a287e038568d2304927ec8b2449">refresh_display</a>();</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                    <a class="code" href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a>.<a class="code" href="classinput__manager.html#a56fd029f8ad1ca3dcd864a6bb5537045">pump_events</a>();</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                };</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160; </div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                std::vector&lt;const recipe *&gt; picking;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                <span class="keywordflow">if</span>( !filterstring.empty() ) {</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                    std::string qry = <a class="code" href="output_8cpp.html#aaaccf20f312c5db1637a1a967b37f194">trim</a>( filterstring );</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;                    <a class="code" href="classrecipe__subset.html">recipe_subset</a> filtered_recipes =</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                        <a class="code" href="crafting__gui_8cpp.html#abf53a2e49691c44280fb320bf524c330">filter_recipes</a>( available_recipes, qry, *crafter, progress_callback );</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                    picking.insert( picking.end(), filtered_recipes.<a class="code" href="classrecipe__subset.html#a36c25155236247c865a9e1c96670ff9e">begin</a>(), filtered_recipes.<a class="code" href="classrecipe__subset.html#a31ca9e11ad90f60465229e44bab3b295">end</a>() );</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;                    <span class="keyword">const</span> std::pair&lt;std::vector&lt;const recipe *&gt;, <span class="keywordtype">bool</span>&gt; result = <a class="code" href="crafting__gui_8cpp.html#a638984281aad5710838fa6f18bb154fb">recipes_from_cat</a>( available_recipes,</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                            <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>.cur(), subtab.cur() );</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                    show_hidden = result.second;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                    <span class="keywordflow">if</span>( show_hidden ) {</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;                        current = result.first;</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                        picking = result.first;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;                    }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;                }</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160; </div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                <span class="keywordflow">if</span>( !show_hidden ) {</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                    current.clear();</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> *i : picking ) {</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;                        <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8beabc9b7efada6b41c81464c2935dd9">hidden_recipes</a>.find( i-&gt;ident() ) == <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8beabc9b7efada6b41c81464c2935dd9">hidden_recipes</a>.end() ) {</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;                            current.push_back( i );</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;                        }</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                    }</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                    num_hidden = picking.size() - current.size();</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;                    num_recipe = picking.size();</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;                }</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160; </div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">available</a>.reserve( current.size() );</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                <span class="comment">// cache recipe availability on first display</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> *e : current ) {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                    <span class="keywordflow">if</span>( !availability_cache-&gt;count( e ) ) {</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                        availability_cache-&gt;emplace( e, availability( *crafter, e ) );</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                    }</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                }</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160; </div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                <span class="keywordflow">if</span>( subtab.cur() != <span class="stringliteral">&quot;CSC_*_RECENT&quot;</span> ) {</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                    std::stable_sort( current.begin(), current.end(), [</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                       crafter, &amp;availability_cache, unread_recipes_first,</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                       highlight_unread_recipes</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                    ]( <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> * <span class="keyword">const</span> <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>, <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> * <span class="keyword">const</span> <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ) {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                        if( highlight_unread_recipes &amp;&amp; unread_recipes_first ) {</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                            const bool a_read = uistate.read_recipes.count( a-&gt;ident() );</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;                            const bool b_read = uistate.read_recipes.count( b-&gt;ident() );</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;                            if( a_read != b_read ) {</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                                return !a_read;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                            }</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                        }</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">bool</span> can_craft_a = availability_cache-&gt;at( <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> ).can_craft;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">bool</span> can_craft_b = availability_cache-&gt;at( <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ).can_craft;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                        <span class="keywordflow">if</span>( can_craft_a != can_craft_b ) {</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;                            return can_craft_a;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;                        }</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;                        <span class="keywordflow">if</span>( <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;difficulty != <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;difficulty ) {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;                            return b-&gt;difficulty &lt; a-&gt;difficulty;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;                        }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;                        <span class="keyword">const</span> std::string a_name = <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;result_name();</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                        <span class="keyword">const</span> std::string b_name = <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;result_name();</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                        <span class="keywordflow">if</span>( a_name != b_name ) {</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                            return localized_compare( a_name, b_name );</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                        }</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;time_to_craft( *crafter ) &lt;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;                               <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;time_to_craft( *crafter );</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                    } );</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                }</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160; </div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                <span class="comment">// set up indents and append the expanded entries</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                <span class="comment">// have to do this after we sort the list</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                indent.assign( current.size(), 0 );</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                <a class="code" href="crafting__gui_8cpp.html#a75a535618b08ea03b642953f7a0bf724">expand_recipes</a>( current, indent, *availability_cache, *crafter, unread_recipes_first,</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                                highlight_unread_recipes, available_recipes, <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8beabc9b7efada6b41c81464c2935dd9">hidden_recipes</a> );</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160; </div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                std::transform( current.begin(), current.end(),</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                std::back_inserter( available ), [&amp;]( <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> * e ) {</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                    return availability_cache-&gt;at( e );</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                } );</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;            }</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160; </div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;            <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> = 0;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;            <span class="keywordflow">if</span>( keepline &amp;&amp; prev_rcp ) {</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;                <span class="comment">// point to previously selected recipe</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;                <span class="keywordtype">int</span> rcp_idx = 0;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> *<span class="keyword">const</span> rcp : current ) {</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                    <span class="keywordflow">if</span>( rcp == prev_rcp ) {</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                        <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> = rcp_idx;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;                    }</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;                    ++rcp_idx;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;                }</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;            }</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        }</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        keepline = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160; </div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;        <span class="keywordflow">if</span>( highlight_unread_recipes &amp;&amp; !current.empty() &amp;&amp; user_moved_line ) {</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;            <span class="comment">// only automatically mark as read when moving cursor up or down by</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;            <span class="comment">// one line, which means that the user is likely reading through the</span></div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;            <span class="comment">// list.</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            user_moved_line = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;            <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a6d4e878b5ef16b6ed3fa1e4746797b8a">read_recipes</a>.insert( current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>]-&gt;ident() );</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;            <span class="keywordflow">if</span>( last_line != -1 ) {</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a6d4e878b5ef16b6ed3fa1e4746797b8a">read_recipes</a>.insert( current[last_line]-&gt;ident() );</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                last_line = -1;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;            }</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;            recalc_unread = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        }</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160; </div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> previously_toggled_unread = just_toggled_unread;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        just_toggled_unread = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        <a class="code" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> scroll_item_info_lines = <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">catacurses::getmaxy</a>( w_iteminfo ) - 4;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        std::string <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = ctxt.<a class="code" href="classinput__context.html#a43aa2fcd42cabfd04056def8986bc927">handle_input</a>();</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> recmax = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( current.size() );</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> scroll_rate = recmax &gt; 20 ? 10 : 3;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160; </div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        std::optional&lt;point&gt; coord = ctxt.<a class="code" href="classinput__context.html#a00c50d55439f9cd5b7b85f621be27da4">get_coordinates_text</a>( <a class="code" href="namespacecatacurses.html#a51707e12b1a95f6c69b1e128c4ba2601">catacurses::stdscr</a> );</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> mouse_in_list = coord.has_value() &amp;&amp; mouseover_area_list.<a class="code" href="structinclusive__rectangle.html#a88464be7378e0567ded0892675740e68">contains</a>( coord.value() );</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> mouse_in_recipe = coord.has_value() &amp;&amp; mouseover_area_recipe.<a class="code" href="structinclusive__rectangle.html#a88464be7378e0567ded0892675740e68">contains</a>( coord.value() );</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160; </div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        <span class="comment">// Check mouse selection of recipes separately so that selecting an already-selected recipe</span></div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        <span class="comment">// can go straight to &quot;CONFIRM&quot;</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SELECT&quot;</span> ) {</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;            <span class="keywordflow">if</span>( coord.has_value() ) {</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;                <a class="code" href="structpoint.html">point</a> local_coord = coord.value() - <a class="code" href="structpoint.html">point</a>( <a class="code" href="namespacecatacurses.html#a3e3320f426a1343cb1effcaf648d2d1a">getbegx</a>( w_data ), <a class="code" href="namespacecatacurses.html#aa2debb3330f9739012d1d11db8db31d2">getbegy</a>( w_data ) );</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;entry : list_map ) {</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;                    <span class="keywordflow">if</span>( entry.second.contains( local_coord ) ) {</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;                        <span class="keywordflow">if</span>( <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> == <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( entry.first ) ) {</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;                            <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = <span class="stringliteral">&quot;CONFIRM&quot;</span>;</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;                            <span class="keywordflow">if</span>( !previously_toggled_unread ) {</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;                                last_line = <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;                            }</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;                            <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> = entry.first;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;                            user_moved_line = highlight_unread_recipes;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;                        }</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;                    }</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                }</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;            }</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        }</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160; </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SELECT&quot;</span> ) {</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;            <span class="keywordtype">bool</span> handled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;            <span class="keywordflow">if</span>( coord.has_value() ) {</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;                <a class="code" href="structpoint.html">point</a> local_coord = coord.value() - <a class="code" href="structpoint.html">point</a>( <a class="code" href="namespacecatacurses.html#a3e3320f426a1343cb1effcaf648d2d1a">getbegx</a>( w_head_tabs ), <a class="code" href="namespacecatacurses.html#aa2debb3330f9739012d1d11db8db31d2">getbegy</a>( w_head_tabs ) );</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;entry : translated_tab_map ) {</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;                    <span class="keywordflow">if</span>( entry.second.contains( local_coord ) ) {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                        <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>.set_index( entry.first );</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;                        recalc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;                        subtab = <a class="code" href="classtab__list.html">tab_list</a>( <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>[<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>.cur()] );</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                        handled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                    }</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                }</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;                local_coord = coord.value() - <a class="code" href="structpoint.html">point</a>( <a class="code" href="namespacecatacurses.html#a3e3320f426a1343cb1effcaf648d2d1a">getbegx</a>( w_subhead ), <a class="code" href="namespacecatacurses.html#aa2debb3330f9739012d1d11db8db31d2">getbegy</a>( w_subhead ) );</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;                <span class="keywordflow">if</span>( !handled &amp;&amp; !batch &amp;&amp; filterstring.empty() ) {</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;entry : translated_subtab_map ) {</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;                        <span class="keywordflow">if</span>( entry.second.contains( local_coord ) ) {</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;                            subtab.set_index( entry.first );</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                            recalc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                        }</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                    }</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;                }</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;            }</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_RECIPE_INFO_UP&quot;</span> ) {</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;            line_recipe_info -= dataLines;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_UP&quot;</span> &amp;&amp; mouse_in_recipe ) {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;            --line_recipe_info;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_RECIPE_INFO_DOWN&quot;</span> ) {</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;            line_recipe_info += dataLines;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_DOWN&quot;</span> &amp;&amp; mouse_in_recipe ) {</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;            ++line_recipe_info;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;LEFT&quot;</span> || ( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_UP&quot;</span> &amp;&amp; <a class="code" href="crafting__gui_8cpp.html#a3d3b02d087e3910f0da791dcc7773001">mouse_in_window</a>( coord, w_subhead ) ) ) {</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;            <span class="keywordflow">if</span>( batch || !filterstring.empty() ) {</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;            }</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;            std::string start = subtab.cur();</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                subtab.prev();</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;            } <span class="keywordflow">while</span>( subtab.cur() != start &amp;&amp; available_recipes.<a class="code" href="classrecipe__subset.html#a7933724d9f3e4c4ef3e6a91507ac6807">empty_category</a>( <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>.cur(),</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;                     subtab.cur() != <span class="stringliteral">&quot;CSC_ALL&quot;</span> ? subtab.cur() : <span class="stringliteral">&quot;&quot;</span> ) );</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            recalc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_ITEM_INFO_UP&quot;</span> ) {</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;            line_item_info -= scroll_item_info_lines;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_UP&quot;</span> &amp;&amp; <a class="code" href="crafting__gui_8cpp.html#a3d3b02d087e3910f0da791dcc7773001">mouse_in_window</a>( coord, w_iteminfo ) ) {</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;            --line_item_info;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_ITEM_INFO_DOWN&quot;</span> ) {</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;            line_item_info += scroll_item_info_lines;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_DOWN&quot;</span> &amp;&amp; <a class="code" href="crafting__gui_8cpp.html#a3d3b02d087e3910f0da791dcc7773001">mouse_in_window</a>( coord, w_iteminfo ) ) {</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;            ++line_item_info;</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PREV_TAB&quot;</span> || ( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_UP&quot;</span> &amp;&amp;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;                                             <a class="code" href="crafting__gui_8cpp.html#a3d3b02d087e3910f0da791dcc7773001">mouse_in_window</a>( coord, w_head_tabs ) ) ) {</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;            <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>.prev();</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;            <span class="comment">// Default ALL</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;            subtab = <a class="code" href="classtab__list.html">tab_list</a>( <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>[<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>.cur()] );</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;            recalc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;RIGHT&quot;</span> || ( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_DOWN&quot;</span> &amp;&amp;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;                                          <a class="code" href="crafting__gui_8cpp.html#a3d3b02d087e3910f0da791dcc7773001">mouse_in_window</a>( coord, w_subhead ) ) ) {</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            <span class="keywordflow">if</span>( batch || !filterstring.empty() ) {</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;            }</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;            std::string start = subtab.cur();</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                subtab.next();</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;            } <span class="keywordflow">while</span>( subtab.cur() != start &amp;&amp; available_recipes.<a class="code" href="classrecipe__subset.html#a7933724d9f3e4c4ef3e6a91507ac6807">empty_category</a>( <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>.cur(),</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;                     subtab.cur() != <span class="stringliteral">&quot;CSC_ALL&quot;</span> ? subtab.cur() : <span class="stringliteral">&quot;&quot;</span> ) );</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;            recalc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;NEXT_TAB&quot;</span> || ( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_DOWN&quot;</span> &amp;&amp;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;                                             <a class="code" href="crafting__gui_8cpp.html#a3d3b02d087e3910f0da791dcc7773001">mouse_in_window</a>( coord, w_head_tabs ) ) ) {</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;            <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>.next();</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            <span class="comment">// Default ALL</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;            subtab = <a class="code" href="classtab__list.html">tab_list</a>( <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>[<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a7f8a083ed6a01738e4419fe6b0a86e86">tab</a>.cur()] );</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            recalc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;DOWN&quot;</span> ) {</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            <span class="keywordflow">if</span>( !previously_toggled_unread ) {</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;                last_line = <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;            }</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>++;</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;            user_moved_line = highlight_unread_recipes;</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_DOWN&quot;</span> &amp;&amp; mouse_in_list ) {</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;            <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( recmax - 1, <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> + 1 );</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;UP&quot;</span> ) {</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;            <span class="keywordflow">if</span>( !previously_toggled_unread ) {</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;                last_line = <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;            }</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;            <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>--;</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;            user_moved_line = highlight_unread_recipes;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_UP&quot;</span> &amp;&amp; mouse_in_list ) {</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;            <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 0, <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> - 1 );</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PAGE_UP&quot;</span> || <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PAGE_DOWN&quot;</span> ) {</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;            <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> = <a class="code" href="ui_8h.html#a7769441cdd9b57e2c0cefcf19fb40df7">inc_clamp</a>( <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>, <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PAGE_UP&quot;</span> ? -scroll_rate : scroll_rate, recmax );</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;HOME&quot;</span> ) {</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;            <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> = 0;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;            user_moved_line = highlight_unread_recipes;</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;END&quot;</span> ) {</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;            <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> = -1;</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;            user_moved_line = highlight_unread_recipes;</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CONFIRM&quot;</span> ) {</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">available</a>.empty() ) {</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;                <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Nothing selected!&quot;</span> ) );</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>]-&gt;is_nested() ) {</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;                <a class="code" href="crafting__gui_8cpp.html#a5d2cf798bed0e369065eed1457c4bddd">nested_toggle</a>( current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>]-&gt;ident(), recalc, keepline );</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !available[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>].can_craft ||</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;                       !available[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>].crafter_has_primary_skill ) {</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;                <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Crafter can&#39;t craft that!&quot;</span> ) );</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !crafter-&gt;<a class="code" href="classCharacter.html#aa6ebc0421b11e808ad5aad14576ecd1d">check_eligible_containers_for_crafting</a>( *current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>],</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;                       batch ? <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> + 1 : 1 ) ) {</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;                <span class="comment">// popup is already inside check</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( crafter-&gt;<a class="code" href="classCharacter.html#a72f93d667c7b4c338f3a80817df0a8d8">lighting_craft_speed_multiplier</a>( *current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>] ) &lt;= 0.0f ) {</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;                <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Crafter can&#39;t see!&quot;</span> ) );</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;                chosen = current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>];</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;                batch_size_out = batch ? <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> + 1 : 1;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;                done = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a6d4e878b5ef16b6ed3fa1e4746797b8a">read_recipes</a>.insert( chosen-&gt;<a class="code" href="classrecipe.html#aa75469c5d2213a774931a5abf668a9dc">ident</a>() );</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;            }</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;HELP_RECIPE&quot;</span> &amp;&amp; <a class="code" href="crafting__gui_8cpp.html#adaba36c2b9b4097f09cd4f365878dc46">selection_ok</a>( current, <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;            <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a6d4e878b5ef16b6ed3fa1e4746797b8a">read_recipes</a>.insert( current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>]-&gt;ident() );</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;            recalc_unread = highlight_unread_recipes;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;            <a class="code" href="namespaceui.html">ui</a>.invalidate_ui();</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160; </div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            <a class="code" href="structitem__info__data.html">item_info_data</a> data = result_info.get_result_data( current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>], 1, line_item_info_popup,</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                                  w_iteminfo );</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;            data.<a class="code" href="structitem__info__data.html#ae21c7618dbb6387bdc604ad7cf552dc9">handle_scrolling</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;            <a class="code" href="output_8cpp.html#ae94727a9102271cfed214e5988c8f440">draw_item_info</a>( []() -&gt; <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> {</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> width = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a>, <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> );</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> height = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a>, <a class="code" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> );</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( height, width, <a class="code" href="structpoint.html">point</a>( ( <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - width ) / 2, ( <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> - height ) / 2 ) );</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;            }, data );</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;FILTER&quot;</span> ) {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;            <span class="keywordtype">int</span> max_example_length = 0;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;prefix : <a class="code" href="crafting__gui_8cpp.html#a2b18b8cf2179a2d47ccd6e5ac22a4659">prefixes</a> ) {</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                max_example_length = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( max_example_length, <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( <a class="code" href="namespacebase__camps.html#ac2310c6a4c935d23c24600fcd6f76092">prefix</a>.example.translated() ) );</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;            }</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;            std::string spaces( max_example_length, <span class="charliteral">&#39; &#39;</span> );</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160; </div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;            std::string description = <a class="code" href="crafting__gui_8cpp.html#af4ebf1d1c569ad5aac1ca50e87c90c3b">filter_help_start</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160; </div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;            {</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;                std::string example_name = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;shirt&quot;</span> );</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;                <span class="keywordtype">int</span> padding = max_example_length - <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( example_name );</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;                description += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;                                   <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;  &lt;color_white&gt;%s&lt;/color&gt;%.*s    %s\n&quot;</span> ),</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;                                   example_name, padding, spaces,</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                                   <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_cyan&gt;name&lt;/color&gt; of resulting item&quot;</span> ) );</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160; </div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;                std::string example_exclude = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;clean&quot;</span> );</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                padding = max_example_length - <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( example_exclude );</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;                description += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;                                   <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;  &lt;color_yellow&gt;-&lt;/color&gt;&lt;color_white&gt;%s&lt;/color&gt;%.*s   %s\n&quot;</span> ),</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;                                   example_exclude, padding, spaces,</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;                                   <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_cyan&gt;names&lt;/color&gt; to exclude&quot;</span> ) );</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;            }</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160; </div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;prefix : <a class="code" href="crafting__gui_8cpp.html#a2b18b8cf2179a2d47ccd6e5ac22a4659">prefixes</a> ) {</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;                <span class="keywordtype">int</span> padding = max_example_length - <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( <a class="code" href="namespacebase__camps.html#ac2310c6a4c935d23c24600fcd6f76092">prefix</a>.example.translated() );</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;                description += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;                                   <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;  &lt;color_yellow&gt;%c&lt;/color&gt;&lt;color_white&gt;:%s&lt;/color&gt;%.*s  %s\n&quot;</span> ),</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;                                   <a class="code" href="namespacebase__camps.html#ac2310c6a4c935d23c24600fcd6f76092">prefix</a>.key, <a class="code" href="namespacebase__camps.html#ac2310c6a4c935d23c24600fcd6f76092">prefix</a>.example, padding, spaces, <a class="code" href="namespacebase__camps.html#ac2310c6a4c935d23c24600fcd6f76092">prefix</a>.description );</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;            }</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160; </div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;            description +=</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;\nUse &lt;color_red&gt;up/down arrow&lt;/color&gt; to go through your search history.&quot;</span> );</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160; </div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;            <a class="code" href="classstring__input__popup.html">string_input_popup</a> <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;            <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;            .title( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Search:&quot;</span> ) )</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;            .width( 85 )</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;            .description( description )</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;            .desc_color( <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> )</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;            .identifier( <span class="stringliteral">&quot;craft_recipe_filter&quot;</span> )</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;            .hist_use_uilist( <span class="keyword">false</span> )</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;            .edit( filterstring );</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160; </div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>.confirmed() ) {</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                recalc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;                recalc_unread = highlight_unread_recipes;</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;                <span class="keywordflow">if</span>( batch ) {</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;                    <span class="comment">// exit from batch selection</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;                    batch = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;                    <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> = batch_line;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;                }</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;            }</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;            chosen = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;            done = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;RESET_FILTER&quot;</span> ) {</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            filterstring.clear();</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;            recalc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;            recalc_unread = highlight_unread_recipes;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CYCLE_BATCH&quot;</span> &amp;&amp; <a class="code" href="crafting__gui_8cpp.html#adaba36c2b9b4097f09cd4f365878dc46">selection_ok</a>( current, <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;            batch = !batch;</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;            <span class="keywordflow">if</span>( batch ) {</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;                batch_line = <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;                chosen = current[batch_line];</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a6d4e878b5ef16b6ed3fa1e4746797b8a">read_recipes</a>.insert( chosen-&gt;<a class="code" href="classrecipe.html#aa75469c5d2213a774931a5abf668a9dc">ident</a>() );</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;                recalc_unread = highlight_unread_recipes;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                keepline = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;            }</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;            recalc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CHOOSE_CRAFTER&quot;</span> ) {</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;            <span class="comment">// allow for switching crafter when no recipes are shown (e.g. filter)</span></div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;            <span class="keywordtype">bool</span> rec_valid = !current.empty();</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;            <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> *rec = rec_valid ? current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>] : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;            <span class="keywordtype">int</span> new_crafter_i = <a class="code" href="crafting__gui_8cpp.html#acd6a4642380025007e2aeec05116389a">choose_crafter</a>( crafting_group, crafter_i, rec, rec_valid );</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;            <span class="keywordflow">if</span>( new_crafter_i &gt;= 0 &amp;&amp; new_crafter_i != crafter_i ) {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;                crafter_i = new_crafter_i;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;                crafter = crafting_group[crafter_i];</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;                <span class="comment">// next line also inserts empty cache for crafter-&gt;getID() if non existant</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;                availability_cache = &amp;guy_availability_cache[crafter-&gt;<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>()];</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;                recalc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;                keepline = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;            }</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_FAVORITE&quot;</span> &amp;&amp; <a class="code" href="crafting__gui_8cpp.html#adaba36c2b9b4097f09cd4f365878dc46">selection_ok</a>( current, <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;            keepline = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;            recalc = filterstring.empty() &amp;&amp; subtab.cur() == <span class="stringliteral">&quot;CSC_*_FAVORITE&quot;</span>;</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a774d42bebc3686bbc8a086b3a3001fc2">favorite_recipes</a>.find( current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>]-&gt;ident() ) != <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a774d42bebc3686bbc8a086b3a3001fc2">favorite_recipes</a>.end() ) {</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a774d42bebc3686bbc8a086b3a3001fc2">favorite_recipes</a>.erase( current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>]-&gt;ident() );</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;                <span class="keywordflow">if</span>( recalc ) {</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;                    <span class="keywordflow">if</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> ) + 1 &lt; current.size() ) {</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                        <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>++;</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;                        <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>--;</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;                    }</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                }</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a774d42bebc3686bbc8a086b3a3001fc2">favorite_recipes</a>.insert( current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>]-&gt;ident() );</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a6d4e878b5ef16b6ed3fa1e4746797b8a">read_recipes</a>.insert( current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>]-&gt;ident() );</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;            }</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;            recalc_unread = highlight_unread_recipes;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;HIDE_SHOW_RECIPE&quot;</span> &amp;&amp; <a class="code" href="crafting__gui_8cpp.html#adaba36c2b9b4097f09cd4f365878dc46">selection_ok</a>( current, <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;            <span class="keywordflow">if</span>( show_hidden ) {</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8beabc9b7efada6b41c81464c2935dd9">hidden_recipes</a>.erase( current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>]-&gt;ident() );</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8beabc9b7efada6b41c81464c2935dd9">hidden_recipes</a>.insert( current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>]-&gt;ident() );</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a6d4e878b5ef16b6ed3fa1e4746797b8a">read_recipes</a>.insert( current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>]-&gt;ident() );</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;            }</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160; </div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;            recalc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;            recalc_unread = highlight_unread_recipes;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;            keepline = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;            <span class="keywordflow">if</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> ) + 1 &lt; current.size() ) {</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;                <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>++;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;                <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>--;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;            }</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_RECIPE_UNREAD&quot;</span> &amp;&amp; <a class="code" href="crafting__gui_8cpp.html#adaba36c2b9b4097f09cd4f365878dc46">selection_ok</a>( current, <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;            <span class="keyword">const</span> <a class="code" href="classstring__id.html">recipe_id</a> rcp = current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>]-&gt;<a class="code" href="classrecipe.html#aa75469c5d2213a774931a5abf668a9dc">ident</a>();</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a6d4e878b5ef16b6ed3fa1e4746797b8a">read_recipes</a>.count( rcp ) ) {</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a6d4e878b5ef16b6ed3fa1e4746797b8a">read_recipes</a>.erase( rcp );</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a6d4e878b5ef16b6ed3fa1e4746797b8a">read_recipes</a>.insert( rcp );</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;            }</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;            recalc_unread = highlight_unread_recipes;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;            just_toggled_unread = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;MARK_ALL_RECIPES_READ&quot;</span> ) {</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;            <span class="keywordtype">bool</span> current_list_has_unread = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> *<span class="keyword">const</span> rcp : current ) {</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;                <span class="keywordflow">if</span>( !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a6d4e878b5ef16b6ed3fa1e4746797b8a">read_recipes</a>.count( rcp-&gt;<a class="code" href="classrecipe.html#aa75469c5d2213a774931a5abf668a9dc">ident</a>() ) ) {</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;                    current_list_has_unread = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;                }</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;            }</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;            std::string query_str;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;            <span class="keywordflow">if</span>( !current_list_has_unread ) {</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;                query_str = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_yellow&gt;/!\\&lt;/color&gt; Mark all recipes as read?  &quot;</span></div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;                               <span class="comment">// NOLINTNEXTLINE(cata-text-style): single spaced for symmetry</span></div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;                               <span class="stringliteral">&quot;This cannot be undone. &lt;color_yellow&gt;/!\\&lt;/color&gt;&quot;</span> );</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( filterstring.empty() ) {</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;                query_str = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Mark recipes in this tab as read?  This cannot be undone.  &quot;</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;                                              <span class="stringliteral">&quot;You can mark all recipes by choosing yes and pressing %s again.&quot;</span> ),</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;                                           ctxt.<a class="code" href="classinput__context.html#abe76d2c284f2a277cbd2f367963fa9ab">get_desc</a>( <span class="stringliteral">&quot;MARK_ALL_RECIPES_READ&quot;</span> ) );</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;                query_str = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Mark filtered recipes as read?  This cannot be undone.  &quot;</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;                                              <span class="stringliteral">&quot;You can mark all recipes by choosing yes and pressing %s again.&quot;</span> ),</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                                           ctxt.<a class="code" href="classinput__context.html#abe76d2c284f2a277cbd2f367963fa9ab">get_desc</a>( <span class="stringliteral">&quot;MARK_ALL_RECIPES_READ&quot;</span> ) );</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;            }</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( query_str ) ) {</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;                <span class="keywordflow">if</span>( current_list_has_unread ) {</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> *<span class="keyword">const</span> rcp : current ) {</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;                        <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a6d4e878b5ef16b6ed3fa1e4746797b8a">read_recipes</a>.insert( rcp-&gt;<a class="code" href="classrecipe.html#aa75469c5d2213a774931a5abf668a9dc">ident</a>() );</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;                    }</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classrecipe.html">recipe</a> *<span class="keyword">const</span> rcp : available_recipes ) {</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;                        <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a6d4e878b5ef16b6ed3fa1e4746797b8a">read_recipes</a>.insert( rcp-&gt;<a class="code" href="classrecipe.html#aa75469c5d2213a774931a5abf668a9dc">ident</a>() );</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;                    }</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;                }</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;            }</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;            recalc_unread = highlight_unread_recipes;</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_UNREAD_RECIPES_FIRST&quot;</span> ) {</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;            unread_recipes_first = !unread_recipes_first;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;            recalc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;            keepline = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;RELATED_RECIPES&quot;</span> &amp;&amp; <a class="code" href="crafting__gui_8cpp.html#adaba36c2b9b4097f09cd4f365878dc46">selection_ok</a>( current, <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;            <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a6d4e878b5ef16b6ed3fa1e4746797b8a">read_recipes</a>.insert( current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>]-&gt;ident() );</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;            recalc_unread = highlight_unread_recipes;</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;            <a class="code" href="namespaceui.html">ui</a>.invalidate_ui();</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160; </div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;            std::string recipe_name = <a class="code" href="crafting__gui_8cpp.html#ab9e5daeb774429a851e2c749b657204a">peek_related_recipe</a>( current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>], available_recipes, *crafter );</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;            <span class="keywordflow">if</span>( !recipe_name.empty() ) {</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;                filterstring = recipe_name;</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;                recalc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;                recalc_unread = highlight_unread_recipes;</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;            }</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;COMPARE&quot;</span> &amp;&amp; <a class="code" href="crafting__gui_8cpp.html#adaba36c2b9b4097f09cd4f365878dc46">selection_ok</a>( current, <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;            <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> recipe_result = <a class="code" href="crafting__gui_8cpp.html#a816200b489267c27fac27b5261f1b764">get_recipe_result_item</a>( *current[<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>], *crafter );</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;            <a class="code" href="crafting__gui_8cpp.html#a9b5801d3a34aab98bef0ab1ef9b7dcc3">compare_recipe_with_item</a>( recipe_result, *crafter );</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> ) {</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;            <span class="comment">// Regenerate keybinding tips</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;            <a class="code" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        }</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> &lt; 0 ) {</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;            <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> = current.size() - 1;</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( current.size() ) ) {</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;            <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> = 0;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;        }</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    } <span class="keywordflow">while</span>( !done );</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160; </div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <span class="keywordflow">return</span> { crafter, chosen };</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;}</div>
<div class="ttc" id="acata__utility_8h_html_ad22b4a043b6eb4c2c06f87f83b720b15"><div class="ttname"><a href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a></div><div class="ttdeci">constexpr T clamp(const T &amp;val, const T &amp;min, const T &amp;max)</div><div class="ttdoc">Clamp first argument so that it is no lower than second and no higher than third.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8h_source.html#l00221">cata_utility.h:221</a></div></div>
<div class="ttc" id="aclassCharacter_html_a1b9170b7f6d51a84396e9debed7c798e"><div class="ttname"><a href="classCharacter.html#a1b9170b7f6d51a84396e9debed7c798e">Character::get_crafting_group</a></div><div class="ttdeci">std::vector&lt; Character * &gt; get_crafting_group() const</div><div class="ttdoc">Return group of ally characters sharing knowledge of crafting.</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l03064">crafting.cpp:3064</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa6ebc0421b11e808ad5aad14576ecd1d"><div class="ttname"><a href="classCharacter.html#aa6ebc0421b11e808ad5aad14576ecd1d">Character::check_eligible_containers_for_crafting</a></div><div class="ttdeci">bool check_eligible_containers_for_crafting(const recipe &amp;rec, int batch_size=1) const</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00475">crafting.cpp:475</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa6f6059b227a5cae968cb85a91a1c501"><div class="ttname"><a href="classCharacter.html#aa6f6059b227a5cae968cb85a91a1c501">Character::get_group_available_recipes</a></div><div class="ttdeci">recipe_subset get_group_available_recipes() const</div><div class="ttdoc">Return all available recipes for any member of this crafter's group.</div><div class="ttdef"><b>Definition:</b> <a href="character__crafting_8cpp_source.html#l00184">character_crafting.cpp:184</a></div></div>
<div class="ttc" id="aclasscatacurses_1_1window_html"><div class="ttname"><a href="classcatacurses_1_1window.html">catacurses::window</a></div><div class="ttdoc">A wrapper over a pointer to a curses window.</div><div class="ttdef"><b>Definition:</b> <a href="cursesdef_8h_source.html#l00054">cursesdef.h:55</a></div></div>
<div class="ttc" id="aclassinput__context_html_a00c50d55439f9cd5b7b85f621be27da4"><div class="ttname"><a href="classinput__context.html#a00c50d55439f9cd5b7b85f621be27da4">input_context::get_coordinates_text</a></div><div class="ttdeci">std::optional&lt; point &gt; get_coordinates_text(const catacurses::window &amp;capture_win) const</div><div class="ttdoc">Get coordinate of text level from mouse input, difference between this and get_coordinates is that on...</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l01171">input_context.cpp:1171</a></div></div>
<div class="ttc" id="aclassinput__context_html_a43aa2fcd42cabfd04056def8986bc927"><div class="ttname"><a href="classinput__context.html#a43aa2fcd42cabfd04056def8986bc927">input_context::handle_input</a></div><div class="ttdeci">const std::string &amp; handle_input()</div><div class="ttdoc">Handles input and returns the next action in the queue.</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l00427">input_context.cpp:427</a></div></div>
<div class="ttc" id="aclassinput__context_html_abe76d2c284f2a277cbd2f367963fa9ab"><div class="ttname"><a href="classinput__context.html#abe76d2c284f2a277cbd2f367963fa9ab">input_context::get_desc</a></div><div class="ttdeci">std::string get_desc(const std::string &amp;action_descriptor, unsigned int max_limit=0, const input_event_filter &amp;evt_filter=allow_all_keys) const</div><div class="ttdoc">Get a description text for the key/other input method associated with the given action.</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l00269">input_context.cpp:269</a></div></div>
<div class="ttc" id="aclassinput__context_html_af15391a3cae13b2e23c43e23342ec7c6"><div class="ttname"><a href="classinput__context.html#af15391a3cae13b2e23c43e23342ec7c6">input_context::allow_all_keys</a></div><div class="ttdeci">static bool allow_all_keys(const input_event &amp;evt)</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l00264">input_context.cpp:264</a></div></div>
<div class="ttc" id="aclassinput__manager_html_a56fd029f8ad1ca3dcd864a6bb5537045"><div class="ttname"><a href="classinput__manager.html#a56fd029f8ad1ca3dcd864a6bb5537045">input_manager::pump_events</a></div><div class="ttdeci">void pump_events()</div><div class="ttdoc">Resize &amp; refresh if necessary, process all pending window events, and ignore keypresses.</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00356">ncurses_def.cpp:356</a></div></div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00347">color.h:348</a></div></div>
<div class="ttc" id="aclassrecipe__result__info__cache_html"><div class="ttname"><a href="classrecipe__result__info__cache.html">recipe_result_info_cache</a></div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00626">crafting_gui.cpp:627</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html_a31ca9e11ad90f60465229e44bab3b295"><div class="ttname"><a href="classrecipe__subset.html#a31ca9e11ad90f60465229e44bab3b295">recipe_subset::end</a></div><div class="ttdeci">std::set&lt; const recipe * &gt;::const_iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8h_source.html#l00198">recipe_dictionary.h:198</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html_a36c25155236247c865a9e1c96670ff9e"><div class="ttname"><a href="classrecipe__subset.html#a36c25155236247c865a9e1c96670ff9e">recipe_subset::begin</a></div><div class="ttdeci">std::set&lt; const recipe * &gt;::const_iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8h_source.html#l00194">recipe_dictionary.h:194</a></div></div>
<div class="ttc" id="aclassrecipe_html_a7c22888c560df7aa0f06a071bb4b4f05"><div class="ttname"><a href="classrecipe.html#a7c22888c560df7aa0f06a071bb4b4f05">recipe::category</a></div><div class="ttdeci">std::string category</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00126">recipe.h:126</a></div></div>
<div class="ttc" id="aclassscrollbar_html"><div class="ttname"><a href="classscrollbar.html">scrollbar</a></div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00889">output.h:890</a></div></div>
<div class="ttc" id="aclassscrollbar_html_a086351327a6cbd86aeed71287447b17f"><div class="ttname"><a href="classscrollbar.html#a086351327a6cbd86aeed71287447b17f">scrollbar::offset_y</a></div><div class="ttdeci">scrollbar &amp; offset_y(int offy)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01733">output.cpp:1733</a></div></div>
<div class="ttc" id="aclassscrollbar_html_a226505801579af2a2dcf01a0c0b537df"><div class="ttname"><a href="classscrollbar.html#a226505801579af2a2dcf01a0c0b537df">scrollbar::offset_x</a></div><div class="ttdeci">scrollbar &amp; offset_x(int offx)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01727">output.cpp:1727</a></div></div>
<div class="ttc" id="aclassscrollbar_html_a6d297e6f4366400fe0cc35bbeefe255e"><div class="ttname"><a href="classscrollbar.html#a6d297e6f4366400fe0cc35bbeefe255e">scrollbar::viewport_pos</a></div><div class="ttdeci">scrollbar &amp; viewport_pos(int vpos)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01745">output.cpp:1745</a></div></div>
<div class="ttc" id="aclassscrollbar_html_a93c98c6beb1deeb701317f00da76c69f"><div class="ttname"><a href="classscrollbar.html#a93c98c6beb1deeb701317f00da76c69f">scrollbar::viewport_size</a></div><div class="ttdeci">scrollbar &amp; viewport_size(int vsize)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01751">output.cpp:1751</a></div></div>
<div class="ttc" id="aclassscrollbar_html_a98f4ed3f32292f440c0672817e74616c"><div class="ttname"><a href="classscrollbar.html#a98f4ed3f32292f440c0672817e74616c">scrollbar::content_size</a></div><div class="ttdeci">scrollbar &amp; content_size(int csize)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01739">output.cpp:1739</a></div></div>
<div class="ttc" id="aclassscrollbar_html_ae3e092da3bab2a8bb65d662538a27f62"><div class="ttname"><a href="classscrollbar.html#ae3e092da3bab2a8bb65d662538a27f62">scrollbar::apply</a></div><div class="ttdeci">void apply(const catacurses::window &amp;window)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01787">output.cpp:1787</a></div></div>
<div class="ttc" id="aclassstatic__popup_html"><div class="ttname"><a href="classstatic__popup.html">static_popup</a></div><div class="ttdoc">Create a popup on the UI stack that gets displayed but receives no input itself.</div><div class="ttdef"><b>Definition:</b> <a href="popup_8h_source.html#l00271">popup.h:272</a></div></div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00078">achievement.cpp:78</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html"><div class="ttname"><a href="classstring__input__popup.html">string_input_popup</a></div><div class="ttdoc">Shows a window querying the user for input.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00048">string_input_popup.h:49</a></div></div>
<div class="ttc" id="aclasstab__list_html"><div class="ttname"><a href="classtab__list.html">tab_list</a></div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l01220">output.h:1221</a></div></div>
<div class="ttc" id="aclassui__adaptor_html"><div class="ttname"><a href="classui__adaptor.html">ui_adaptor</a></div><div class="ttdoc">Adaptor between UI code and the UI management system.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00074">ui_manager.h:75</a></div></div>
<div class="ttc" id="aclassuistatedata_html_a6d4e878b5ef16b6ed3fa1e4746797b8a"><div class="ttname"><a href="classuistatedata.html#a6d4e878b5ef16b6ed3fa1e4746797b8a">uistatedata::read_recipes</a></div><div class="ttdeci">cata::flat_set&lt; recipe_id &gt; read_recipes</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00190">uistate.h:190</a></div></div>
<div class="ttc" id="aclassuistatedata_html_a774d42bebc3686bbc8a086b3a3001fc2"><div class="ttname"><a href="classuistatedata.html#a774d42bebc3686bbc8a086b3a3001fc2">uistatedata::favorite_recipes</a></div><div class="ttdeci">std::set&lt; recipe_id &gt; favorite_recipes</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00188">uistate.h:188</a></div></div>
<div class="ttc" id="aclassuistatedata_html_a8beabc9b7efada6b41c81464c2935dd9"><div class="ttname"><a href="classuistatedata.html#a8beabc9b7efada6b41c81464c2935dd9">uistatedata::hidden_recipes</a></div><div class="ttdeci">std::set&lt; recipe_id &gt; hidden_recipes</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00187">uistate.h:187</a></div></div>
<div class="ttc" id="acolor_8h_html_a0d06dc49b9761bbc54607397213728bb"><div class="ttname"><a href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a></div><div class="ttdeci">#define c_white</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00016">color.h:16</a></div></div>
<div class="ttc" id="acolor_8h_html_a1b1e3c0bef566a83c3535e38a93ad733"><div class="ttname"><a href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a></div><div class="ttdeci">#define c_light_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00017">color.h:17</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a27baf6e831488479b228dfcf8afaa451"><div class="ttname"><a href="crafting__gui_8cpp.html#a27baf6e831488479b228dfcf8afaa451">draw_recipe_tabs</a></div><div class="ttdeci">static std::map&lt; size_t, inclusive_rectangle&lt; point &gt; &gt; draw_recipe_tabs(const catacurses::window &amp;w, const tab_list &amp;tab, TAB_MODE mode, bool filtered_unread, std::map&lt; std::string, bool &gt; &amp;unread)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l02325">crafting_gui.cpp:2325</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a2b18b8cf2179a2d47ccd6e5ac22a4659"><div class="ttname"><a href="crafting__gui_8cpp.html#a2b18b8cf2179a2d47ccd6e5ac22a4659">prefixes</a></div><div class="ttdeci">static const std::vector&lt; SearchPrefix &gt; prefixes</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l01035">crafting_gui.cpp:1035</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a3d3b02d087e3910f0da791dcc7773001"><div class="ttname"><a href="crafting__gui_8cpp.html#a3d3b02d087e3910f0da791dcc7773001">mouse_in_window</a></div><div class="ttdeci">static bool mouse_in_window(std::optional&lt; point &gt; coord, const catacurses::window &amp;w_)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l01060">crafting_gui.cpp:1060</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a565811ca311d0ecb089df0bf324fb40c"><div class="ttname"><a href="crafting__gui_8cpp.html#a565811ca311d0ecb089df0bf324fb40c">draw_can_craft_indicator</a></div><div class="ttdeci">static void draw_can_craft_indicator(const catacurses::window &amp;w, const recipe &amp;rec, Character &amp;crafter)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l02273">crafting_gui.cpp:2273</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a5d2cf798bed0e369065eed1457c4bddd"><div class="ttname"><a href="crafting__gui_8cpp.html#a5d2cf798bed0e369065eed1457c4bddd">nested_toggle</a></div><div class="ttdeci">static void nested_toggle(recipe_id rec, bool &amp;recalc, bool &amp;keepline)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l01161">crafting_gui.cpp:1161</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a617c94a2fbd871936182c0cb18ca62ba"><div class="ttname"><a href="crafting__gui_8cpp.html#a617c94a2fbd871936182c0cb18ca62ba">draw_hidden_amount</a></div><div class="ttdeci">static void draw_hidden_amount(const catacurses::window &amp;w, int amount, int num_recipe)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l02254">crafting_gui.cpp:2254</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a638984281aad5710838fa6f18bb154fb"><div class="ttname"><a href="crafting__gui_8cpp.html#a638984281aad5710838fa6f18bb154fb">recipes_from_cat</a></div><div class="ttdeci">static std::pair&lt; std::vector&lt; const recipe * &gt;, bool &gt; recipes_from_cat(const recipe_subset &amp;available_recipes, const std::string &amp;cat, const std::string &amp;subcat)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00863">crafting_gui.cpp:863</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a6b7ee7c89f221e94470bd5a147a3d40a"><div class="ttname"><a href="crafting__gui_8cpp.html#a6b7ee7c89f221e94470bd5a147a3d40a">practice_recipe_description</a></div><div class="ttdeci">static std::string practice_recipe_description(const recipe &amp;recp, const Character &amp;crafter)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00557">crafting_gui.cpp:557</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a75a535618b08ea03b642953f7a0bf724"><div class="ttname"><a href="crafting__gui_8cpp.html#a75a535618b08ea03b642953f7a0bf724">expand_recipes</a></div><div class="ttdeci">static void expand_recipes(std::vector&lt; const recipe * &gt; &amp;current, std::vector&lt; int &gt; &amp;indent, std::map&lt; const recipe *, availability &gt; &amp;availability_cache, Character &amp;crafter, bool unread_recipes_first, bool highlight_unread_recipes, const recipe_subset &amp;available_recipes, const std::set&lt; recipe_id &gt; &amp;hidden_recipes)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l01124">crafting_gui.cpp:1124</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a816200b489267c27fac27b5261f1b764"><div class="ttname"><a href="crafting__gui_8cpp.html#a816200b489267c27fac27b5261f1b764">get_recipe_result_item</a></div><div class="ttdeci">static item get_recipe_result_item(const recipe &amp;rec, Character &amp;crafter)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00731">crafting_gui.cpp:731</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a85d81375d681a4e56a25b42f9f753cde"><div class="ttname"><a href="crafting__gui_8cpp.html#a85d81375d681a4e56a25b42f9f753cde">TAB_MODE</a></div><div class="ttdeci">TAB_MODE</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00072">crafting_gui.cpp:72</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_a9b5801d3a34aab98bef0ab1ef9b7dcc3"><div class="ttname"><a href="crafting__gui_8cpp.html#a9b5801d3a34aab98bef0ab1ef9b7dcc3">compare_recipe_with_item</a></div><div class="ttdeci">static void compare_recipe_with_item(const item &amp;recipe_item, Character &amp;crafter)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l02223">crafting_gui.cpp:2223</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_aa81bd5ab80d6567bb231ae07cc137eb0"><div class="ttname"><a href="crafting__gui_8cpp.html#aa81bd5ab80d6567bb231ae07cc137eb0">make_crafting_context</a></div><div class="ttdeci">static input_context make_crafting_context(bool highlight_unread_recipes)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00589">crafting_gui.cpp:589</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_ab9e5daeb774429a851e2c749b657204a"><div class="ttname"><a href="crafting__gui_8cpp.html#ab9e5daeb774429a851e2c749b657204a">peek_related_recipe</a></div><div class="ttdeci">static std::string peek_related_recipe(const recipe *current, const recipe_subset &amp;available, Character &amp;crafter)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l02098">crafting_gui.cpp:2098</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_abf53a2e49691c44280fb320bf524c330"><div class="ttname"><a href="crafting__gui_8cpp.html#abf53a2e49691c44280fb320bf524c330">filter_recipes</a></div><div class="ttdeci">static recipe_subset filter_recipes(const recipe_subset &amp;available_recipes, const std::string_view qry, const Character &amp;crafter, const std::function&lt; void(size_t, size_t)&gt; &amp;progress_callback)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00918">crafting_gui.cpp:918</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_acd6a4642380025007e2aeec05116389a"><div class="ttname"><a href="crafting__gui_8cpp.html#acd6a4642380025007e2aeec05116389a">choose_crafter</a></div><div class="ttdeci">static int choose_crafter(const std::vector&lt; Character * &gt; &amp;crafting_group, int crafter_i, const recipe *rec, bool rec_valid)</div><div class="ttdoc">return index of newly chosen crafter.</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l02037">crafting_gui.cpp:2037</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_ad4596c4f7be1f0849480de73fb4b8048"><div class="ttname"><a href="crafting__gui_8cpp.html#ad4596c4f7be1f0849480de73fb4b8048">cached_recipe_info</a></div><div class="ttdeci">static const std::vector&lt; std::string &gt; &amp; cached_recipe_info(recipe_info_cache &amp;info_cache, const recipe &amp;recp, const availability &amp;avail, Character &amp;guy, const std::string &amp;qry_comps, const int batch_size, const int fold_width, const nc_color &amp;color, const std::vector&lt; Character * &gt; &amp;crafting_group)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00887">crafting_gui.cpp:887</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_adaba36c2b9b4097f09cd4f365878dc46"><div class="ttname"><a href="crafting__gui_8cpp.html#adaba36c2b9b4097f09cd4f365878dc46">selection_ok</a></div><div class="ttdeci">static bool selection_ok(const std::vector&lt; const recipe * &gt; &amp;list, const int current_line, const bool nested_acceptable)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l01173">crafting_gui.cpp:1173</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_aef8a9c446d871dc74175076ec78918fb"><div class="ttname"><a href="crafting__gui_8cpp.html#aef8a9c446d871dc74175076ec78918fb">draw_recipe_subtabs</a></div><div class="ttdeci">static std::map&lt; size_t, inclusive_rectangle&lt; point &gt; &gt; draw_recipe_subtabs(const catacurses::window &amp;w, const std::string &amp;tab, size_t subtab, const recipe_subset &amp;available_recipes, TAB_MODE mode, std::map&lt; std::string, bool &gt; &amp;unread)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l02375">crafting_gui.cpp:2375</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_af4ebf1d1c569ad5aac1ca50e87c90c3b"><div class="ttname"><a href="crafting__gui_8cpp.html#af4ebf1d1c569ad5aac1ca50e87c90c3b">filter_help_start</a></div><div class="ttdeci">static const translation filter_help_start</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l01051">crafting_gui.cpp:1051</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a></div><div class="ttdeci">@ action</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00044">dialogue.h:43</a></div></div>
<div class="ttc" id="ainput_8cpp_html_af16c50890fa8503efa899fc3b6de56d7"><div class="ttname"><a href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a></div><div class="ttdeci">input_manager inp_mngr</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00161">input.cpp:161</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_a4f3a5fd278254d867d914ad5953679e2"><div class="ttname"><a href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a></div><div class="ttdeci">void line(map *m, const ter_id &amp;type, const point &amp;p1, const point &amp;p2, int z)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l07721">mapgen.cpp:7721</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a993dede52d23a9a3d15b01a342391ef4"><div class="ttname"><a href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">min</a></div><div class="ttdeci">double min(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00043">math_parser_func.h:43</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a51707e12b1a95f6c69b1e128c4ba2601"><div class="ttname"><a href="namespacecatacurses.html#a51707e12b1a95f6c69b1e128c4ba2601">catacurses::stdscr</a></div><div class="ttdeci">window stdscr</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00306">ncurses_def.cpp:306</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a576fd20080b8f49e27acf97af45b374b"><div class="ttname"><a href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a></div><div class="ttdeci">window newwin(int nlines, int ncols, const point &amp;begin)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00058">ncurses_def.cpp:58</a></div></div>
<div class="ttc" id="anamespaceui__manager_html_ae38f3a918052ef286ee60daac47f52d4"><div class="ttname"><a href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a></div><div class="ttdeci">void redraw()</div><div class="ttdoc">Invalidate the top window and redraw all invalidated windows.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00504">ui_manager.cpp:504</a></div></div>
<div class="ttc" id="anamespaceui_html"><div class="ttname"><a href="namespaceui.html">ui</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00024">overmap_ui.h:25</a></div></div>
<div class="ttc" id="ancurses__def_8cpp_html_a6fd55a287e038568d2304927ec8b2449"><div class="ttname"><a href="ncurses__def_8cpp.html#a6fd55a287e038568d2304927ec8b2449">refresh_display</a></div><div class="ttdeci">void refresh_display()</div><div class="ttdoc">Make changes made to the display visible to the user immediately.</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00186">ncurses_def.cpp:186</a></div></div>
<div class="ttc" id="anewcharacter_8cpp_html_a211e8690b2c5bad873ca59b4d34d226f"><div class="ttname"><a href="newcharacter_8cpp.html#a211e8690b2c5bad873ca59b4d34d226f">isWide</a></div><div class="ttdeci">static bool isWide</div><div class="ttdef"><b>Definition:</b> <a href="newcharacter_8cpp_source.html#l00103">newcharacter.cpp:103</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a000abea6447dfafd5f9b787aa6753609"><div class="ttname"><a href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a></div><div class="ttdeci">int TERMX</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00049">output.cpp:49</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a32bc92e8282b63d800068ce8e182b269"><div class="ttname"><a href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a></div><div class="ttdeci">int FULL_SCREEN_HEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00058">output.cpp:58</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a567a63be8cb70cc3eb47bf8affced8e5"><div class="ttname"><a href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a></div><div class="ttdeci">int TERMY</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00050">output.cpp:50</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a64a769083b78bb93dbb99935b959f3f5"><div class="ttname"><a href="output_8cpp.html#a64a769083b78bb93dbb99935b959f3f5">print_colored_text</a></div><div class="ttdeci">void print_colored_text(const catacurses::window &amp;w, const point &amp;p, nc_color &amp;color, const nc_color &amp;base_color, const std::string_view text, const report_color_error color_error)</div><div class="ttdoc">Print text with embedded color_tags, x, y are in curses system.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00239">output.cpp:239</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab62599a77867b8f416669b92f60f4900"><div class="ttname"><a href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a></div><div class="ttdeci">bool query_yn(const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00811">output.cpp:811</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab9659cbe9ec23a2efd813f795cb7fb73"><div class="ttname"><a href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a></div><div class="ttdeci">int fold_and_print(const catacurses::window &amp;w, const point &amp;begin, int width, const nc_color &amp;base_color, const std::string &amp;text, const char split)</div><div class="ttdoc">Fold and print text in the given window.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00379">output.cpp:379</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ae119f59b53c5e1e230cb211a0643c418"><div class="ttname"><a href="output_8cpp.html#ae119f59b53c5e1e230cb211a0643c418">trim_by_length</a></div><div class="ttdeci">std::string trim_by_length(const std::string &amp;text, int width)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00278">output.cpp:278</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ae94727a9102271cfed214e5988c8f440"><div class="ttname"><a href="output_8cpp.html#ae94727a9102271cfed214e5988c8f440">draw_item_info</a></div><div class="ttdeci">input_event draw_item_info(const int iLeft, const int iWidth, const int iTop, const int iHeight, item_info_data &amp;data)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00962">output.cpp:962</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_af24921c70e875c1d0888315b9452b562"><div class="ttname"><a href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a></div><div class="ttdeci">int FULL_SCREEN_WIDTH</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00057">output.cpp:57</a></div></div>
<div class="ttc" id="aoutput_8h_html_acff0d12357d8a4690e781eed41b36b98a334c4a4c42fdb79d7ebc3e73b517e6f8"><div class="ttname"><a href="output_8h.html#acff0d12357d8a4690e781eed41b36b98a334c4a4c42fdb79d7ebc3e73b517e6f8">enumeration_conjunction::none</a></div><div class="ttdeci">@ none</div></div>
<div class="ttc" id="aoutput_8h_html_ad3a54f998264087befce6de30cb787b0"><div class="ttname"><a href="output_8h.html#ad3a54f998264087befce6de30cb787b0">LINE_XOOX</a></div><div class="ttdeci">#define LINE_XOOX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00051">output.h:51</a></div></div>
<div class="ttc" id="aoutput_8h_html_af6d239f277e1b763f690b94efa469792"><div class="ttname"><a href="output_8h.html#af6d239f277e1b763f690b94efa469792">LINE_XXOO</a></div><div class="ttdeci">#define LINE_XXOO</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00048">output.h:48</a></div></div>
<div class="ttc" id="asounds_8cpp_html_ad9fe7b616a93a8209da903eba756237e"><div class="ttname"><a href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a></div><div class="ttdeci">static activity_id act</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00079">sounds.cpp:79</a></div></div>
<div class="ttc" id="astructinclusive__rectangle_html_a88464be7378e0567ded0892675740e68"><div class="ttname"><a href="structinclusive__rectangle.html#a88464be7378e0567ded0892675740e68">inclusive_rectangle::contains</a></div><div class="ttdeci">constexpr bool contains(const Point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="cuboid__rectangle_8h_source.html#l00054">cuboid_rectangle.h:54</a></div></div>
<div class="ttc" id="astructitem__info__data_html"><div class="ttname"><a href="structitem__info__data.html">item_info_data</a></div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00508">output.h:508</a></div></div>
<div class="ttc" id="astructitem__info__data_html_a14e079bd7ae3417fe4cccdef0d9f6f9d"><div class="ttname"><a href="structitem__info__data.html#a14e079bd7ae3417fe4cccdef0d9f6f9d">item_info_data::scrollbar_left</a></div><div class="ttdeci">bool scrollbar_left</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00550">output.h:550</a></div></div>
<div class="ttc" id="astructitem__info__data_html_ac30189a0f526d1897dbf46d6e77ac193"><div class="ttname"><a href="structitem__info__data.html#ac30189a0f526d1897dbf46d6e77ac193">item_info_data::without_border</a></div><div class="ttdeci">bool without_border</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00547">output.h:547</a></div></div>
<div class="ttc" id="astructitem__info__data_html_ac78d38be36e9d32c15632fde13e025d9"><div class="ttname"><a href="structitem__info__data.html#ac78d38be36e9d32c15632fde13e025d9">item_info_data::padding</a></div><div class="ttdeci">unsigned int padding</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00552">output.h:552</a></div></div>
<div class="ttc" id="astructitem__info__data_html_adafcbaae8c911bf3d4fd7fff306a49a4"><div class="ttname"><a href="structitem__info__data.html#adafcbaae8c911bf3d4fd7fff306a49a4">item_info_data::use_full_win</a></div><div class="ttdeci">bool use_full_win</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00551">output.h:551</a></div></div>
<div class="ttc" id="astructitem__info__data_html_ae21c7618dbb6387bdc604ad7cf552dc9"><div class="ttname"><a href="structitem__info__data.html#ae21c7618dbb6387bdc604ad7cf552dc9">item_info_data::handle_scrolling</a></div><div class="ttdeci">bool handle_scrolling</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00548">output.h:548</a></div></div>
<div class="ttc" id="astructitem__info__data_html_aebc34b872c27347457cc489fc5d4c15f"><div class="ttname"><a href="structitem__info__data.html#aebc34b872c27347457cc489fc5d4c15f">item_info_data::without_getch</a></div><div class="ttdeci">bool without_getch</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00546">output.h:546</a></div></div>
<div class="ttc" id="astructrecipe__info__cache_html"><div class="ttname"><a href="structrecipe__info__cache.html">recipe_info_cache</a></div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00878">crafting_gui.cpp:878</a></div></div>
<div class="ttc" id="atranslations_8h_html_a46bdf4dff9d320938561cade1c9a5f7e"><div class="ttname"><a href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a></div><div class="ttdeci">#define pgettext(STRING1, STRING2)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00092">translations.h:92</a></div></div>
<div class="ttc" id="aui_8cpp_html_a12c098a4e293befc182e42170a6bd83b"><div class="ttname"><a href="ui_8cpp.html#a12c098a4e293befc182e42170a6bd83b">subindex_around_cursor</a></div><div class="ttdeci">std::pair&lt; int, int &gt; subindex_around_cursor(int num_entries, int available_space, int cursor_pos, bool focused)</div><div class="ttdoc">Return indexes [start, end) that should be displayed from list long num_entries, given that cursor is...</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01449">ui.cpp:1449</a></div></div>
<div class="ttc" id="aui_8h_html_a7769441cdd9b57e2c0cefcf19fb40df7"><div class="ttname"><a href="ui_8h.html#a7769441cdd9b57e2c0cefcf19fb40df7">inc_clamp</a></div><div class="ttdeci">std::enable_if_t&lt; !std::is_enum_v&lt; V &gt;, V &gt; inc_clamp(V val, int delta, S min, S max)</div><div class="ttdoc">Helper for typical UI list navigation without wrap-around Add delta to val, then clamp to the range [...</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00643">ui.h:643</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="sounds_8cpp_source.html#l00079">act</a>, <a class="el" href="input__context_8cpp_source.html#l00264">input_context::allow_all_keys()</a>, <a class="el" href="output_8cpp_source.html#l01787">scrollbar::apply()</a>, <a class="el" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ae4894ca167b08880bfc35862f18575eb">available</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00075">BATCH</a>, <a class="el" href="output_8h_source.html#l00098">BORDER_COLOR</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00026">c_light_green</a>, <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00887">cached_recipe_info()</a>, <a class="el" href="recipe_8h_source.html#l00126">recipe::category</a>, <a class="el" href="cata__utility_8h_source.html#l00221">clamp()</a>, <a class="el" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color()</a>, <a class="el" href="output_8cpp_source.html#l01739">scrollbar::content_size()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00095">craft_cat_list</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00096">craft_subcat_list</a>, <a class="el" href="output_8h_source.html#l01243">tab_list::cur_index()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="recipe_8h_source.html#l00129">recipe::description</a>, <a class="el" href="crafting__gui_8cpp_source.html#l02273">draw_can_craft_indicator()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l02254">draw_hidden_amount()</a>, <a class="el" href="output_8cpp_source.html#l00962">draw_item_info()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l02375">draw_recipe_subtabs()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l02325">draw_recipe_tabs()</a>, <a class="el" href="output_8h_source.html#l00647">enumerate_as_string()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00074">FILTERED</a>, <a class="el" href="output_8cpp_source.html#l00379">fold_and_print()</a>, <a class="el" href="output_8cpp_source.html#l00123">foldstring()</a>, <a class="el" href="output_8cpp_source.html#l00057">FULL_SCREEN_WIDTH</a>, <a class="el" href="crafting_8cpp_source.html#l03064">Character::get_crafting_group()</a>, <a class="el" href="input__context_8cpp_source.html#l00269">input_context::get_desc()</a>, <a class="el" href="character__crafting_8cpp_source.html#l00184">Character::get_group_available_recipes()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00755">recipe_result_info_cache::get_result_data()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00107">catacurses::getbegx()</a>, <a class="el" href="character_8cpp_source.html#l00652">Character::getID()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00099">catacurses::getmaxy()</a>, <a class="el" href="uistate_8h_source.html#l00187">uistatedata::hidden_recipes</a>, <a class="el" href="recipe_8h_source.html#l00155">recipe::ident()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00372">recipe_subset::in_category()</a>, <a class="el" href="recipe_8cpp_source.html#l01341">recipe::is_nested()</a>, <a class="el" href="recipe_8cpp_source.html#l01336">recipe::is_practice()</a>, <a class="el" href="achievement_8cpp_source.html#l00078">string_id&lt; T &gt;::is_valid()</a>, <a class="el" href="newcharacter_8cpp_source.html#l00103">isWide</a>, <a class="el" href="mapgen_8cpp_source.html#l07721">line()</a>, <a class="el" href="output_8h_source.html#l00047">LINE_OXOX</a>, <a class="el" href="output_8h_source.html#l00051">LINE_XOOX</a>, <a class="el" href="output_8h_source.html#l00046">LINE_XOXO</a>, <a class="el" href="output_8h_source.html#l00048">LINE_XXOO</a>, <a class="el" href="crafting__gui_8cpp_source.html#l01141">list_nested()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00589">make_crafting_context()</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="output_8cpp_source.html#l00590">mvwputch()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00058">catacurses::newwin()</a>, <a class="el" href="output_8h.html#acff0d12357d8a4690e781eed41b36b98a334c4a4c42fdb79d7ebc3e73b517e6f8">none</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00073">NORMAL</a>, <a class="el" href="output_8cpp_source.html#l01727">scrollbar::offset_x()</a>, <a class="el" href="output_8cpp_source.html#l01733">scrollbar::offset_y()</a>, <a class="el" href="output_8h_source.html#l00552">item_info_data::padding</a>, <a class="el" href="translations_8h_source.html#l00092">pgettext</a>, <a class="el" href="point_8h_source.html#l00251">point_zero</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00557">practice_recipe_description()</a>, <a class="el" href="output_8cpp_source.html#l00239">print_colored_text()</a>, <a class="el" href="uistate_8h_source.html#l00190">uistatedata::read_recipes</a>, <a class="el" href="output_8h_source.html#l00550">item_info_data::scrollbar_left</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="ui_8cpp_source.html#l01449">subindex_around_cursor()</a>, <a class="el" href="input_8h_source.html#l00077">keycode::tab</a>, <a class="el" href="output_8cpp_source.html#l00049">TERMX</a>, <a class="el" href="output_8cpp_source.html#l00050">TERMY</a>, <a class="el" href="translation_8cpp_source.html#l00294">translation::translated()</a>, <a class="el" href="output_8cpp_source.html#l01346">trim()</a>, <a class="el" href="output_8cpp_source.html#l00278">trim_by_length()</a>, <a class="el" href="game_8cpp_source.html#l00385">uistate</a>, <a class="el" href="output_8h_source.html#l00551">item_info_data::use_full_win</a>, <a class="el" href="catacharset_8cpp_source.html#l00104">utf8_width()</a>, <a class="el" href="output_8cpp_source.html#l01745">scrollbar::viewport_pos()</a>, <a class="el" href="output_8cpp_source.html#l01751">scrollbar::viewport_size()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00083">catacurses::werase()</a>, <a class="el" href="output_8h_source.html#l00547">item_info_data::without_border</a>, <a class="el" href="output_8h_source.html#l00546">item_info_data::without_getch</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l00394">Character::craft()</a>, and <a class="el" href="crafting_8cpp_source.html#l00421">Character::long_craft()</a>.</p>

</div>
</div>
<a id="adaba36c2b9b4097f09cd4f365878dc46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaba36c2b9b4097f09cd4f365878dc46">&#9670;&nbsp;</a></span>selection_ok()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool selection_ok </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; const <a class="el" href="classrecipe.html">recipe</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>current_line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>nested_acceptable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l01173">1173</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;{</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="keywordflow">if</span>( list.empty() ) {</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Nothing selected!&quot;</span> ) );</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( list[current_line]-&gt;is_nested() &amp;&amp; !nested_acceptable ) {</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select a recipe within this group&quot;</span> ) );</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    }</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, and <a class="el" href="output_8cpp_source.html#l00912">popup()</a>.</p>

</div>
</div>
<a id="aacbc89c6f0ca0710695c2a8d603f4dd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacbc89c6f0ca0710695c2a8d603f4dd7">&#9670;&nbsp;</a></span>subcategories_for_category()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;<a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&gt;* subcategories_for_category </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>category</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l02441">2441</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;{</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    <span class="keyword">auto</span> it = <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>.find( <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a01bb93e9b73c4fc64afc80ffde115c0a">category</a> );</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;    <span class="keywordflow">if</span>( it != <a class="code" href="crafting__gui_8cpp.html#a03dfc4c687680a542638da508622d822">craft_subcat_list</a>.end() ) {</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;        <span class="keywordflow">return</span> &amp;it-&gt;second;</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;    }</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__tname_8cpp_source.html#l00540">anonymous_namespace{item_tname.cpp}::category()</a>, and <a class="el" href="crafting__gui_8cpp_source.html#l00096">craft_subcat_list</a>.</p>

<p class="reference">Referenced by <a class="el" href="recipe__dictionary_8cpp_source.html#l00674">recipe_dictionary::check_consistency()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa56eb1d3153ac8abf3ede81da9bef10b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa56eb1d3153ac8abf3ede81da9bef10b">&#9670;&nbsp;</a></span>craft_cat_list</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&gt; craft_cat_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00095">95</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l02325">draw_recipe_tabs()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00130">load_recipe_category()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00171">reset_recipe_categories()</a>, and <a class="el" href="crafting__gui_8cpp_source.html#l01186">select_crafter_and_crafting_recipe()</a>.</p>

</div>
</div>
<a id="af19ff13e451201336c6f68c13e36c9a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af19ff13e451201336c6f68c13e36c9a0">&#9670;&nbsp;</a></span>craft_speed_reason_strings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt;const <a class="el" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7">CRAFTING_SPEED_STATE</a>, <a class="el" href="classtranslation.html">translation</a>&gt; craft_speed_reason_strings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    {<a class="code" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7ab3bd1be5e1c57878bbe9bfc395a282de">TOO_DARK_TO_CRAFT</a>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;too dark to craft&quot;</span> )},</div>
<div class="line">    {<a class="code" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7af94eb213c963484ed2c22f6a1b1c3758">TOO_SLOW_TO_CRAFT</a>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;unable to craft&quot;</span> )},</div>
<div class="line">    {<a class="code" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7a6e7c3222d17b91d3f5858c3a5e159516">SLOW_BUT_CRAFTABLE</a>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;crafting is slowed to %d%%: %s&quot;</span> )},</div>
<div class="line">    {<a class="code" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7afe1c60a78bf3305361842c78b834fdaa">FAST_CRAFTING</a>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;crafting is accelerated to %d%% due to amount of manipulators&quot;</span> )},</div>
<div class="line">    {<a class="code" href="crafting__gui_8cpp.html#a0e43c9f74f26ed29a56b7604423c5df7ab5b361cc749c5ec246646fffab4332f2">NORMAL_CRAFTING</a>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;craftable&quot;</span> )}</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00086">86</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l02273">draw_can_craft_indicator()</a>.</p>

</div>
</div>
<a id="a03dfc4c687680a542638da508622d822"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03dfc4c687680a542638da508622d822">&#9670;&nbsp;</a></span>craft_subcat_list</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt;<a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>, std::vector&lt;<a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&gt; &gt; craft_subcat_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l00096">96</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l02375">draw_recipe_subtabs()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00130">load_recipe_category()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00171">reset_recipe_categories()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l01186">select_crafter_and_crafting_recipe()</a>, and <a class="el" href="crafting__gui_8cpp_source.html#l02441">subcategories_for_category()</a>.</p>

</div>
</div>
<a id="af4ebf1d1c569ad5aac1ca50e87c90c3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4ebf1d1c569ad5aac1ca50e87c90c3b">&#9670;&nbsp;</a></span>filter_help_start</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classtranslation.html">translation</a> filter_help_start</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>(</div>
<div class="line">            <span class="stringliteral">&quot;The default is to search result names.  Some single-character prefixes &quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;can be used with a colon &lt;color_red&gt;:&lt;/color&gt; to search in other ways.  Additional filters &quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;are separated by commas &lt;color_red&gt;,&lt;/color&gt;.\n&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;Filtering by difficulty can accept range; &quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;&lt;color_yellow&gt;l&lt;/color&gt;&lt;color_white&gt;:5~10&lt;/color&gt; for all recipes from difficulty 5 to 10.\n&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;\n\n&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;&lt;color_white&gt;Examples:&lt;/color&gt;\n&quot;</span> )</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l01051">1051</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>

</div>
</div>
<a id="a8751ef846def36cb3c192fc18d34cc3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8751ef846def36cb3c192fc18d34cc3b">&#9670;&nbsp;</a></span>limb_score_manip</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#ac81bfdd5eecfc0ef693c225689604940">limb_score_id</a> limb_score_manip(&quot;manip&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;manip&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l02273">draw_can_craft_indicator()</a>.</p>

</div>
</div>
<a id="a2b18b8cf2179a2d47ccd6e5ac22a4659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b18b8cf2179a2d47ccd6e5ac22a4659">&#9670;&nbsp;</a></span>prefixes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;SearchPrefix&gt; prefixes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    </div>
<div class="line">    { <span class="charliteral">&#39;q&#39;</span>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;metal sawing&quot;</span> ), <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;&lt;color_cyan&gt;quality&lt;/color&gt; of resulting item&quot;</span> ) },</div>
<div class="line">    { <span class="charliteral">&#39;d&#39;</span>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;reach attack&quot;</span> ), <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;&lt;color_cyan&gt;full description&lt;/color&gt; of resulting item (slow)&quot;</span> ) },</div>
<div class="line">    { <span class="charliteral">&#39;c&#39;</span>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;plank&quot;</span> ), <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;&lt;color_cyan&gt;component&lt;/color&gt; required to craft&quot;</span> ) },</div>
<div class="line">    { <span class="charliteral">&#39;p&#39;</span>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;tailoring&quot;</span> ), <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;&lt;color_cyan&gt;primary skill&lt;/color&gt; used to craft&quot;</span> ) },</div>
<div class="line">    { <span class="charliteral">&#39;s&#39;</span>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;food handling&quot;</span> ), <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;&lt;color_cyan&gt;any skill&lt;/color&gt; used to craft&quot;</span> ) },</div>
<div class="line">    { <span class="charliteral">&#39;Q&#39;</span>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;fine bolt turning&quot;</span> ), <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;&lt;color_cyan&gt;quality&lt;/color&gt; required to craft&quot;</span> ) },</div>
<div class="line">    { <span class="charliteral">&#39;t&#39;</span>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;soldering iron&quot;</span> ), <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;&lt;color_cyan&gt;tool&lt;/color&gt; required to craft&quot;</span> ) },</div>
<div class="line">    { <span class="charliteral">&#39;m&#39;</span>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;yes&quot;</span> ), <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;recipes which are &lt;color_cyan&gt;memorized&lt;/color&gt; or not (hides nested)&quot;</span> ) },</div>
<div class="line">    { <span class="charliteral">&#39;P&#39;</span>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Blacksmithing&quot;</span> ), <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;&lt;color_cyan&gt;proficiency&lt;/color&gt; used to craft&quot;</span> ) },</div>
<div class="line">    { <span class="charliteral">&#39;l&#39;</span>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;5&quot;</span> ), <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;&lt;color_cyan&gt;difficulty&lt;/color&gt; of the recipe as a number or range&quot;</span> ) },</div>
<div class="line">    { <span class="charliteral">&#39;r&#39;</span>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;buttermilk&quot;</span> ), <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;recipe&#39;s (&lt;color_cyan&gt;by&lt;/color&gt;)&lt;color_cyan&gt;products&lt;/color&gt;; use * as wildcard&quot;</span> ) },</div>
<div class="line">    { <span class="charliteral">&#39;a&#39;</span>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;brisk&quot;</span> ), <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;recipe&#39;s &lt;color_cyan&gt;activity level&lt;/color&gt;&quot;</span> ) }</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="crafting__gui_8cpp_source.html#l01035">1035</a> of file <a class="el" href="crafting__gui_8cpp_source.html">crafting_gui.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:33 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
