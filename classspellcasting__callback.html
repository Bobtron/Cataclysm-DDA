<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: spellcasting_callback Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classspellcasting__callback-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">spellcasting_callback Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for spellcasting_callback:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classspellcasting__callback.png" usemap="#spellcasting_5Fcallback_map" alt=""/>
  <map id="spellcasting_5Fcallback_map" name="spellcasting_5Fcallback_map">
<area href="classuilist__callback.html" title="uilist::query() handles most input events first, and then passes the event to the callback if it can&#39;..." alt="uilist_callback" shape="rect" coords="0,0,132,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7f957f81933487949cac8b46811f5998"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspellcasting__callback.html#a7f957f81933487949cac8b46811f5998">spellcasting_callback</a> (std::vector&lt; <a class="el" href="classspell.html">spell</a> * &gt; &amp;spells, bool <a class="el" href="classspellcasting__callback.html#ab2a41fc85f301e3e1c969e0890b25383">casting_ignore</a>)</td></tr>
<tr class="separator:a7f957f81933487949cac8b46811f5998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f4c176ee406929db8c3f0a28e88acef"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspellcasting__callback.html#a3f4c176ee406929db8c3f0a28e88acef">key</a> (const <a class="el" href="classinput__context.html">input_context</a> &amp;ctxt, const <a class="el" href="structinput__event.html">input_event</a> &amp;event, int entnum, <a class="el" href="classuilist.html">uilist</a> *menu) override</td></tr>
<tr class="separator:a3f4c176ee406929db8c3f0a28e88acef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b22742dfdbfe2e5c727631b366a3318"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspellcasting__callback.html#a9b22742dfdbfe2e5c727631b366a3318">refresh</a> (<a class="el" href="classuilist.html">uilist</a> *menu) override</td></tr>
<tr class="separator:a9b22742dfdbfe2e5c727631b366a3318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classuilist__callback"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classuilist__callback')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classuilist__callback.html">uilist_callback</a></td></tr>
<tr class="memitem:ad79a983bf205d4b3d4e5085cdbf2fe43 inherit pub_methods_classuilist__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuilist__callback.html#ad79a983bf205d4b3d4e5085cdbf2fe43">select</a> (<a class="el" href="classuilist.html">uilist</a> *)</td></tr>
<tr class="memdesc:ad79a983bf205d4b3d4e5085cdbf2fe43 inherit pub_methods_classuilist__callback"><td class="mdescLeft">&#160;</td><td class="mdescRight">After a new item is selected, call this once.  <a href="classuilist__callback.html#ad79a983bf205d4b3d4e5085cdbf2fe43">More...</a><br /></td></tr>
<tr class="separator:ad79a983bf205d4b3d4e5085cdbf2fe43 inherit pub_methods_classuilist__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc525375d806e528b8be8672af4aef94 inherit pub_methods_classuilist__callback"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuilist__callback.html#adc525375d806e528b8be8672af4aef94">~uilist_callback</a> ()=default</td></tr>
<tr class="separator:adc525375d806e528b8be8672af4aef94 inherit pub_methods_classuilist__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a177045736de8ee772cb9430105db4a4d"><td class="memItemLeft" align="right" valign="top">const std::set&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspellcasting__callback.html#a177045736de8ee772cb9430105db4a4d">reserved_invlets</a> { '<a class="el" href="activity__handlers_8cpp.html#a1ce44dfd3ebadb0a9d8bca1a5e991951">I</a>', '=', '*' }</td></tr>
<tr class="separator:a177045736de8ee772cb9430105db4a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2a41fc85f301e3e1c969e0890b25383"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspellcasting__callback.html#ab2a41fc85f301e3e1c969e0890b25383">casting_ignore</a></td></tr>
<tr class="separator:ab2a41fc85f301e3e1c969e0890b25383"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a2321cf8b12bc562f402f289bd30bacf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspellcasting__callback.html#a2321cf8b12bc562f402f289bd30bacf9">spell_info_text</a> (const <a class="el" href="classspell.html">spell</a> &amp;sp, int width)</td></tr>
<tr class="separator:a2321cf8b12bc562f402f289bd30bacf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf0fad696380154cf0aa550fc5bece39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspellcasting__callback.html#abf0fad696380154cf0aa550fc5bece39">draw_spell_info</a> (const <a class="el" href="classuilist.html">uilist</a> *menu)</td></tr>
<tr class="separator:abf0fad696380154cf0aa550fc5bece39"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad3d9c839b2b4c00656c2cbda0e25eb7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspellcasting__callback.html#ad3d9c839b2b4c00656c2cbda0e25eb7a">selected_sp</a> = 0</td></tr>
<tr class="separator:ad3d9c839b2b4c00656c2cbda0e25eb7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb7af550258fe026bbcdfebff3d4c00d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspellcasting__callback.html#afb7af550258fe026bbcdfebff3d4c00d">scroll_pos</a> = 0</td></tr>
<tr class="separator:afb7af550258fe026bbcdfebff3d4c00d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a445a77c1dd83724de3d0cbd08f577a35"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a></td></tr>
<tr class="separator:a445a77c1dd83724de3d0cbd08f577a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b0ef3985557056677d093d99d89ebcf"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classspell.html">spell</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspellcasting__callback.html#a2b0ef3985557056677d093d99d89ebcf">known_spells</a></td></tr>
<tr class="separator:a2b0ef3985557056677d093d99d89ebcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="magic_8cpp_source.html#l02292">2292</a> of file <a class="el" href="magic_8cpp_source.html">magic.cpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7f957f81933487949cac8b46811f5998"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f957f81933487949cac8b46811f5998">&#9670;&nbsp;</a></span>spellcasting_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">spellcasting_callback::spellcasting_callback </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classspell.html">spell</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>spells</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>casting_ignore</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic_8cpp_source.html#l02306">2306</a> of file <a class="el" href="magic_8cpp_source.html">magic.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;                                                     : <a class="code" href="classspellcasting__callback.html#a2b0ef3985557056677d093d99d89ebcf">known_spells</a>( spells ),</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;            <a class="code" href="classspellcasting__callback.html#ab2a41fc85f301e3e1c969e0890b25383">casting_ignore</a>( <a class="code" href="classspellcasting__callback.html#ab2a41fc85f301e3e1c969e0890b25383">casting_ignore</a> ) {}</div>
<div class="ttc" id="aclassspellcasting__callback_html_a2b0ef3985557056677d093d99d89ebcf"><div class="ttname"><a href="classspellcasting__callback.html#a2b0ef3985557056677d093d99d89ebcf">spellcasting_callback::known_spells</a></div><div class="ttdeci">std::vector&lt; spell * &gt; known_spells</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l02298">magic.cpp:2298</a></div></div>
<div class="ttc" id="aclassspellcasting__callback_html_ab2a41fc85f301e3e1c969e0890b25383"><div class="ttname"><a href="classspellcasting__callback.html#ab2a41fc85f301e3e1c969e0890b25383">spellcasting_callback::casting_ignore</a></div><div class="ttdeci">bool casting_ignore</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l02304">magic.cpp:2304</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="abf0fad696380154cf0aa550fc5bece39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf0fad696380154cf0aa550fc5bece39">&#9670;&nbsp;</a></span>draw_spell_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void spellcasting_callback::draw_spell_info </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuilist.html">uilist</a> *&#160;</td>
          <td class="paramname"><em>menu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic_8cpp_source.html#l02667">2667</a> of file <a class="el" href="magic_8cpp_source.html">magic.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;{</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> h_offset = menu-&gt;<a class="code" href="classuilist.html#a5e8e74d29ccd984f2f9ca63a2df21cde">w_width</a> - menu-&gt;<a class="code" href="classuilist.html#a946867c48443235c3fc667a0de3d78b9">pad_right</a> + 1;</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;    <span class="keywordtype">int</span> row = 1;</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;    <a class="code" href="classnc__color.html">nc_color</a> clr = <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>;</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160; </div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> = <a class="code" href="classspellcasting__callback.html#afb7af550258fe026bbcdfebff3d4c00d">scroll_pos</a>; row &lt; menu-&gt;<a class="code" href="classuilist.html#a0ac658b356c6db04812fcb6903ac4eaa">w_height</a> - 1 &amp;&amp;</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;         line &lt; static_cast&lt;int&gt;( <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.size() ); row++, <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>++ ) {</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;        <a class="code" href="output_8cpp.html#a64a769083b78bb93dbb99935b959f3f5">print_colored_text</a>( menu-&gt;<a class="code" href="classuilist.html#a363d10490fb72bde7b2537fd06836802">window</a>, <a class="code" href="structpoint.html">point</a>( h_offset + 1, row ), clr, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>[<a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>] );</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;    }</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;}</div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00347">color.h:348</a></div></div>
<div class="ttc" id="aclassspellcasting__callback_html_a445a77c1dd83724de3d0cbd08f577a35"><div class="ttname"><a href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">spellcasting_callback::info_txt</a></div><div class="ttdeci">std::vector&lt; std::string &gt; info_txt</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l02297">magic.cpp:2297</a></div></div>
<div class="ttc" id="aclassspellcasting__callback_html_afb7af550258fe026bbcdfebff3d4c00d"><div class="ttname"><a href="classspellcasting__callback.html#afb7af550258fe026bbcdfebff3d4c00d">spellcasting_callback::scroll_pos</a></div><div class="ttdeci">int scroll_pos</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l02296">magic.cpp:2296</a></div></div>
<div class="ttc" id="aclassuilist_html_a0ac658b356c6db04812fcb6903ac4eaa"><div class="ttname"><a href="classuilist.html#a0ac658b356c6db04812fcb6903ac4eaa">uilist::w_height</a></div><div class="ttdeci">int w_height</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00483">ui.h:483</a></div></div>
<div class="ttc" id="aclassuilist_html_a363d10490fb72bde7b2537fd06836802"><div class="ttname"><a href="classuilist.html#a363d10490fb72bde7b2537fd06836802">uilist::window</a></div><div class="ttdeci">catacurses::window window</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00479">ui.h:479</a></div></div>
<div class="ttc" id="aclassuilist_html_a5e8e74d29ccd984f2f9ca63a2df21cde"><div class="ttname"><a href="classuilist.html#a5e8e74d29ccd984f2f9ca63a2df21cde">uilist::w_width</a></div><div class="ttdeci">int w_width</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00482">ui.h:482</a></div></div>
<div class="ttc" id="aclassuilist_html_a946867c48443235c3fc667a0de3d78b9"><div class="ttname"><a href="classuilist.html#a946867c48443235c3fc667a0de3d78b9">uilist::pad_right</a></div><div class="ttdeci">int pad_right</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00486">ui.h:486</a></div></div>
<div class="ttc" id="acolor_8h_html_a1b1e3c0bef566a83c3535e38a93ad733"><div class="ttname"><a href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a></div><div class="ttdeci">#define c_light_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00017">color.h:17</a></div></div>
<div class="ttc" id="amagic_8h_html_a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474"><div class="ttname"><a href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">spell_shape::line</a></div><div class="ttdeci">@ line</div></div>
<div class="ttc" id="aoutput_8cpp_html_a64a769083b78bb93dbb99935b959f3f5"><div class="ttname"><a href="output_8cpp.html#a64a769083b78bb93dbb99935b959f3f5">print_colored_text</a></div><div class="ttdeci">void print_colored_text(const catacurses::window &amp;w, const point &amp;p, nc_color &amp;color, const nc_color &amp;base_color, const std::string_view text, const report_color_error color_error)</div><div class="ttdoc">Print text with embedded color_tags, x, y are in curses system.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00239">output.cpp:239</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="magic_8cpp_source.html#l02297">info_txt</a>, <a class="el" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>, <a class="el" href="ui_8h_source.html#l00486">uilist::pad_right</a>, <a class="el" href="output_8cpp_source.html#l00239">print_colored_text()</a>, <a class="el" href="magic_8cpp_source.html#l02296">scroll_pos</a>, <a class="el" href="ui_8h_source.html#l00483">uilist::w_height</a>, <a class="el" href="ui_8h_source.html#l00482">uilist::w_width</a>, and <a class="el" href="ui_8h_source.html#l00479">uilist::window</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic_8cpp_source.html#l02341">refresh()</a>.</p>

</div>
</div>
<a id="a3f4c176ee406929db8c3f0a28e88acef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f4c176ee406929db8c3f0a28e88acef">&#9670;&nbsp;</a></span>key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool spellcasting_callback::key </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinput__context.html">input_context</a> &amp;&#160;</td>
          <td class="paramname"><em>ctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structinput__event.html">input_event</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>entnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classuilist.html">uilist</a> *&#160;</td>
          <td class="paramname"><em>menu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classuilist__callback.html#a982e00fd3b4aa68d9dfddba50e77622a">uilist_callback</a>.</p>

<p class="definition">Definition at line <a class="el" href="magic_8cpp_source.html#l02309">2309</a> of file <a class="el" href="magic_8cpp_source.html">magic.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;                                          {</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;            <span class="keyword">const</span> std::string &amp;<a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = ctxt.<a class="code" href="classinput__context.html#a5f99b201990b09a6809f183a9cee5ab6">input_to_action</a>( event );</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CAST_IGNORE&quot;</span> ) {</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;                <a class="code" href="classspellcasting__callback.html#ab2a41fc85f301e3e1c969e0890b25383">casting_ignore</a> = !<a class="code" href="classspellcasting__callback.html#ab2a41fc85f301e3e1c969e0890b25383">casting_ignore</a>;</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CHOOSE_INVLET&quot;</span> ) {</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;                <span class="keywordtype">int</span> invlet = 0;</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;                invlet = <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Choose a new hotkey for this spell.&quot;</span> ) );</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="inventory_8h.html#a30cdf5c616c63b894825e5e92a5b1e5c">inv_chars</a>.<a class="code" href="classinvlet__wrapper.html#a7c0b7eaf67cf02bae041ada17aa1f71d">valid</a>( invlet ) ) {</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">bool</span> invlet_set =</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;                        <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCharacter.html#af2ff32cce5f17bcf04be958121abe524">magic</a>-&gt;set_invlet( <a class="code" href="classspellcasting__callback.html#a2b0ef3985557056677d093d99d89ebcf">known_spells</a>[entnum]-&gt;<span class="keywordtype">id</span>(), invlet, <a class="code" href="classspellcasting__callback.html#a177045736de8ee772cb9430105db4a4d">reserved_invlets</a> );</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;                    <span class="keywordflow">if</span>( !invlet_set ) {</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;                        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Hotkey already used.&quot;</span> ) );</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;                        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%c set.  Close and reopen spell menu to refresh list with changes.&quot;</span> ),</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;                               invlet );</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;                    }</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;                    <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Hotkey removed.&quot;</span> ) );</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;                    <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCharacter.html#af2ff32cce5f17bcf04be958121abe524">magic</a>-&gt;rem_invlet( <a class="code" href="classspellcasting__callback.html#a2b0ef3985557056677d093d99d89ebcf">known_spells</a>[entnum]-&gt;<span class="keywordtype">id</span>() );</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;                }</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_UP_SPELL_MENU&quot;</span> || <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_DOWN_SPELL_MENU&quot;</span> ) {</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;                <a class="code" href="classspellcasting__callback.html#afb7af550258fe026bbcdfebff3d4c00d">scroll_pos</a> += <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_DOWN_SPELL_MENU&quot;</span> ? 1 : -1;</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SCROLL_FAVORITE&quot;</span> ) {</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;                <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCharacter.html#af2ff32cce5f17bcf04be958121abe524">magic</a>-&gt;toggle_favorite( <a class="code" href="classspellcasting__callback.html#a2b0ef3985557056677d093d99d89ebcf">known_spells</a>[entnum]-&gt;<span class="keywordtype">id</span>() );</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;                <a class="code" href="magic_8cpp.html#a59eae2fd66ff3b9691a4cacfabbd0f3b">reflesh_favorite</a>( menu, <a class="code" href="classspellcasting__callback.html#a2b0ef3985557056677d093d99d89ebcf">known_spells</a> );</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;            }</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;        }</div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="aclassCharacter_html_af2ff32cce5f17bcf04be958121abe524"><div class="ttname"><a href="classCharacter.html#af2ff32cce5f17bcf04be958121abe524">Character::magic</a></div><div class="ttdeci">pimpl&lt; known_magic &gt; magic</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02485">character.h:2485</a></div></div>
<div class="ttc" id="aclassinput__context_html_a5f99b201990b09a6809f183a9cee5ab6"><div class="ttname"><a href="classinput__context.html#a5f99b201990b09a6809f183a9cee5ab6">input_context::input_to_action</a></div><div class="ttdeci">const std::string &amp; input_to_action(const input_event &amp;inp) const</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l00138">input_context.cpp:138</a></div></div>
<div class="ttc" id="aclassinvlet__wrapper_html_a7c0b7eaf67cf02bae041ada17aa1f71d"><div class="ttname"><a href="classinvlet__wrapper.html#a7c0b7eaf67cf02bae041ada17aa1f71d">invlet_wrapper::valid</a></div><div class="ttdeci">bool valid(int invlet) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00059">inventory.cpp:59</a></div></div>
<div class="ttc" id="aclassspellcasting__callback_html_a177045736de8ee772cb9430105db4a4d"><div class="ttname"><a href="classspellcasting__callback.html#a177045736de8ee772cb9430105db4a4d">spellcasting_callback::reserved_invlets</a></div><div class="ttdeci">const std::set&lt; int &gt; reserved_invlets</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l02303">magic.cpp:2303</a></div></div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a></div><div class="ttdeci">@ action</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00044">dialogue.h:43</a></div></div>
<div class="ttc" id="ainventory_8h_html_a30cdf5c616c63b894825e5e92a5b1e5c"><div class="ttname"><a href="inventory_8h.html#a30cdf5c616c63b894825e5e92a5b1e5c">inv_chars</a></div><div class="ttdeci">const invlet_wrapper inv_chars</div></div>
<div class="ttc" id="amagic_8cpp_html_a59eae2fd66ff3b9691a4cacfabbd0f3b"><div class="ttname"><a href="magic_8cpp.html#a59eae2fd66ff3b9691a4cacfabbd0f3b">reflesh_favorite</a></div><div class="ttdeci">static void reflesh_favorite(uilist *menu, std::vector&lt; spell * &gt; known_spells)</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l02279">magic.cpp:2279</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1e645471d321d71b235fb285da5c08ff"><div class="ttname"><a href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a></div><div class="ttdeci">int popup(const std::string &amp;text, PopupFlags flags)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00912">output.cpp:912</a></div></div>
<div class="ttc" id="aoutput_8h_html_a776e76ac0d873faf3607d5e839f08ee3"><div class="ttname"><a href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a></div><div class="ttdeci">int popup_getkey(const char *const mes, Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00482">output.h:482</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="dialogue_8h_source.html#l00043">action</a>, <a class="el" href="magic_8cpp_source.html#l02304">casting_ignore</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="input__context_8cpp_source.html#l00138">input_context::input_to_action()</a>, <a class="el" href="inventory_8h.html#a30cdf5c616c63b894825e5e92a5b1e5c">inv_chars</a>, <a class="el" href="magic_8cpp_source.html#l02298">known_spells</a>, <a class="el" href="character_8h_source.html#l02485">Character::magic</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="output_8h_source.html#l00482">popup_getkey()</a>, <a class="el" href="magic_8cpp_source.html#l02279">reflesh_favorite()</a>, <a class="el" href="magic_8cpp_source.html#l02303">reserved_invlets</a>, <a class="el" href="magic_8cpp_source.html#l02296">scroll_pos</a>, and <a class="el" href="inventory_8cpp_source.html#l00059">invlet_wrapper::valid()</a>.</p>

</div>
</div>
<a id="a9b22742dfdbfe2e5c727631b366a3318"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b22742dfdbfe2e5c727631b366a3318">&#9670;&nbsp;</a></span>refresh()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void spellcasting_callback::refresh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classuilist.html">uilist</a> *&#160;</td>
          <td class="paramname"><em>menu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classuilist__callback.html#abe2a5c08e0aaf6952e28de30a290344e">uilist_callback</a>.</p>

<p class="definition">Definition at line <a class="el" href="magic_8cpp_source.html#l02341">2341</a> of file <a class="el" href="magic_8cpp_source.html">magic.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;                                              {</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;            <span class="keyword">const</span> std::string <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a82eca2795b3af854b612ca79c53a353e">space</a>( menu-&gt;<a class="code" href="classuilist.html#a946867c48443235c3fc667a0de3d78b9">pad_right</a> - 2, <span class="charliteral">&#39; &#39;</span> );</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( menu-&gt;<a class="code" href="classuilist.html#a363d10490fb72bde7b2537fd06836802">window</a>, <a class="code" href="structpoint.html">point</a>( menu-&gt;<a class="code" href="classuilist.html#a5e8e74d29ccd984f2f9ca63a2df21cde">w_width</a> - menu-&gt;<a class="code" href="classuilist.html#a946867c48443235c3fc667a0de3d78b9">pad_right</a>, 0 ), <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a>, <a class="code" href="output_8h.html#a4a3bfadbe7ec0abb14ff53e5e2f8983e">LINE_OXXX</a> );</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( menu-&gt;<a class="code" href="classuilist.html#a363d10490fb72bde7b2537fd06836802">window</a>, <a class="code" href="structpoint.html">point</a>( menu-&gt;<a class="code" href="classuilist.html#a5e8e74d29ccd984f2f9ca63a2df21cde">w_width</a> - menu-&gt;<a class="code" href="classuilist.html#a946867c48443235c3fc667a0de3d78b9">pad_right</a>, menu-&gt;<a class="code" href="classuilist.html#a0ac658b356c6db04812fcb6903ac4eaa">w_height</a> - 1 ), <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a>,</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;                      <a class="code" href="output_8h.html#a612d0d0728e93276b2b7de1fc57b096b">LINE_XXOX</a> );</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 1; i &lt; menu-&gt;<a class="code" href="classuilist.html#a0ac658b356c6db04812fcb6903ac4eaa">w_height</a> - 1; i++ ) {</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;                <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( menu-&gt;<a class="code" href="classuilist.html#a363d10490fb72bde7b2537fd06836802">window</a>, <a class="code" href="structpoint.html">point</a>( menu-&gt;<a class="code" href="classuilist.html#a5e8e74d29ccd984f2f9ca63a2df21cde">w_width</a> - menu-&gt;<a class="code" href="classuilist.html#a946867c48443235c3fc667a0de3d78b9">pad_right</a>, i ), <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> );</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;                <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( menu-&gt;<a class="code" href="classuilist.html#a363d10490fb72bde7b2537fd06836802">window</a>, <a class="code" href="structpoint.html">point</a>( menu-&gt;<a class="code" href="classuilist.html#a5e8e74d29ccd984f2f9ca63a2df21cde">w_width</a> - menu-&gt;<a class="code" href="classuilist.html#a946867c48443235c3fc667a0de3d78b9">pad_right</a> + 1, i ), menu-&gt;<a class="code" href="classuilist.html#a4cf13b4a8551727083de162172d80a3d">text_color</a>, <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a82eca2795b3af854b612ca79c53a353e">space</a> );</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;            }</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;            std::string ignore_string = <a class="code" href="classspellcasting__callback.html#ab2a41fc85f301e3e1c969e0890b25383">casting_ignore</a> ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Ignore Distractions&quot;</span> ) :</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;                                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Popup Distractions&quot;</span> );</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( menu-&gt;<a class="code" href="classuilist.html#a363d10490fb72bde7b2537fd06836802">window</a>, <a class="code" href="structpoint.html">point</a>( menu-&gt;<a class="code" href="classuilist.html#a5e8e74d29ccd984f2f9ca63a2df21cde">w_width</a> - menu-&gt;<a class="code" href="classuilist.html#a946867c48443235c3fc667a0de3d78b9">pad_right</a> + 2, 0 ),</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;                       <a class="code" href="classspellcasting__callback.html#ab2a41fc85f301e3e1c969e0890b25383">casting_ignore</a> ? <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> : <a class="code" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a>, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s %s&quot;</span>, <span class="stringliteral">&quot;[I]&quot;</span>, ignore_string ) );</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;            <span class="keyword">const</span> std::string assign_letter = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Assign Hotkey [=]&quot;</span> );</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( menu-&gt;<a class="code" href="classuilist.html#a363d10490fb72bde7b2537fd06836802">window</a>, <a class="code" href="structpoint.html">point</a>( menu-&gt;<a class="code" href="classuilist.html#a5e8e74d29ccd984f2f9ca63a2df21cde">w_width</a> - assign_letter.length() - 1, 0 ), <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>,</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;                       assign_letter );</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;            <span class="keywordflow">if</span>( menu-&gt;<a class="code" href="classuilist.html#ab0890d56d6d29dd98a0b3f17bb3ebba3">selected</a> &gt;= 0 &amp;&amp; <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( menu-&gt;<a class="code" href="classuilist.html#ab0890d56d6d29dd98a0b3f17bb3ebba3">selected</a> ) &lt; <a class="code" href="classspellcasting__callback.html#a2b0ef3985557056677d093d99d89ebcf">known_spells</a>.size() ) {</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.empty() || <a class="code" href="classspellcasting__callback.html#ad3d9c839b2b4c00656c2cbda0e25eb7a">selected_sp</a> != menu-&gt;<a class="code" href="classuilist.html#ab0890d56d6d29dd98a0b3f17bb3ebba3">selected</a> ) {</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;                    <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.clear();</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;                    <a class="code" href="classspellcasting__callback.html#a2321cf8b12bc562f402f289bd30bacf9">spell_info_text</a>( *<a class="code" href="classspellcasting__callback.html#a2b0ef3985557056677d093d99d89ebcf">known_spells</a>[menu-&gt;<a class="code" href="classuilist.html#ab0890d56d6d29dd98a0b3f17bb3ebba3">selected</a>], menu-&gt;<a class="code" href="classuilist.html#a946867c48443235c3fc667a0de3d78b9">pad_right</a> - 4 );</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;                    <a class="code" href="classspellcasting__callback.html#ad3d9c839b2b4c00656c2cbda0e25eb7a">selected_sp</a> = menu-&gt;<a class="code" href="classuilist.html#ab0890d56d6d29dd98a0b3f17bb3ebba3">selected</a>;</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;                    <a class="code" href="classspellcasting__callback.html#afb7af550258fe026bbcdfebff3d4c00d">scroll_pos</a> = 0;</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;                }</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classspellcasting__callback.html#afb7af550258fe026bbcdfebff3d4c00d">scroll_pos</a> &gt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.size() ) - ( menu-&gt;<a class="code" href="classuilist.html#a0ac658b356c6db04812fcb6903ac4eaa">w_height</a> - 2 ) ) {</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;                    <a class="code" href="classspellcasting__callback.html#afb7af550258fe026bbcdfebff3d4c00d">scroll_pos</a> = <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.size() - ( menu-&gt;<a class="code" href="classuilist.html#a0ac658b356c6db04812fcb6903ac4eaa">w_height</a> - 2 );</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;                }</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classspellcasting__callback.html#afb7af550258fe026bbcdfebff3d4c00d">scroll_pos</a> &lt; 0 ) {</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;                    <a class="code" href="classspellcasting__callback.html#afb7af550258fe026bbcdfebff3d4c00d">scroll_pos</a> = 0;</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;                }</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;                <a class="code" href="classscrollbar.html">scrollbar</a>()</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;                .<a class="code" href="classscrollbar.html#a226505801579af2a2dcf01a0c0b537df">offset_x</a>( menu-&gt;<a class="code" href="classuilist.html#a5e8e74d29ccd984f2f9ca63a2df21cde">w_width</a> - 1 )</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;                .<a class="code" href="classscrollbar.html#a086351327a6cbd86aeed71287447b17f">offset_y</a>( 1 )</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;                .<a class="code" href="classscrollbar.html#a98f4ed3f32292f440c0672817e74616c">content_size</a>( <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.size() )</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;                .<a class="code" href="classscrollbar.html#a6d297e6f4366400fe0cc35bbeefe255e">viewport_pos</a>( <a class="code" href="classspellcasting__callback.html#afb7af550258fe026bbcdfebff3d4c00d">scroll_pos</a> )</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;                .<a class="code" href="classscrollbar.html#a93c98c6beb1deeb701317f00da76c69f">viewport_size</a>( menu-&gt;<a class="code" href="classuilist.html#a0ac658b356c6db04812fcb6903ac4eaa">w_height</a> - 2 )</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;                .<a class="code" href="classscrollbar.html#ae3e092da3bab2a8bb65d662538a27f62">apply</a>( menu-&gt;<a class="code" href="classuilist.html#a363d10490fb72bde7b2537fd06836802">window</a> );</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;                <a class="code" href="classspellcasting__callback.html#abf0fad696380154cf0aa550fc5bece39">draw_spell_info</a>( menu );</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;            }</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;            <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( menu-&gt;<a class="code" href="classuilist.html#a363d10490fb72bde7b2537fd06836802">window</a> );</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;        }</div>
<div class="ttc" id="aclassscrollbar_html"><div class="ttname"><a href="classscrollbar.html">scrollbar</a></div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00889">output.h:890</a></div></div>
<div class="ttc" id="aclassscrollbar_html_a086351327a6cbd86aeed71287447b17f"><div class="ttname"><a href="classscrollbar.html#a086351327a6cbd86aeed71287447b17f">scrollbar::offset_y</a></div><div class="ttdeci">scrollbar &amp; offset_y(int offy)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01733">output.cpp:1733</a></div></div>
<div class="ttc" id="aclassscrollbar_html_a226505801579af2a2dcf01a0c0b537df"><div class="ttname"><a href="classscrollbar.html#a226505801579af2a2dcf01a0c0b537df">scrollbar::offset_x</a></div><div class="ttdeci">scrollbar &amp; offset_x(int offx)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01727">output.cpp:1727</a></div></div>
<div class="ttc" id="aclassscrollbar_html_a6d297e6f4366400fe0cc35bbeefe255e"><div class="ttname"><a href="classscrollbar.html#a6d297e6f4366400fe0cc35bbeefe255e">scrollbar::viewport_pos</a></div><div class="ttdeci">scrollbar &amp; viewport_pos(int vpos)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01745">output.cpp:1745</a></div></div>
<div class="ttc" id="aclassscrollbar_html_a93c98c6beb1deeb701317f00da76c69f"><div class="ttname"><a href="classscrollbar.html#a93c98c6beb1deeb701317f00da76c69f">scrollbar::viewport_size</a></div><div class="ttdeci">scrollbar &amp; viewport_size(int vsize)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01751">output.cpp:1751</a></div></div>
<div class="ttc" id="aclassscrollbar_html_a98f4ed3f32292f440c0672817e74616c"><div class="ttname"><a href="classscrollbar.html#a98f4ed3f32292f440c0672817e74616c">scrollbar::content_size</a></div><div class="ttdeci">scrollbar &amp; content_size(int csize)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01739">output.cpp:1739</a></div></div>
<div class="ttc" id="aclassscrollbar_html_ae3e092da3bab2a8bb65d662538a27f62"><div class="ttname"><a href="classscrollbar.html#ae3e092da3bab2a8bb65d662538a27f62">scrollbar::apply</a></div><div class="ttdeci">void apply(const catacurses::window &amp;window)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01787">output.cpp:1787</a></div></div>
<div class="ttc" id="aclassspellcasting__callback_html_a2321cf8b12bc562f402f289bd30bacf9"><div class="ttname"><a href="classspellcasting__callback.html#a2321cf8b12bc562f402f289bd30bacf9">spellcasting_callback::spell_info_text</a></div><div class="ttdeci">void spell_info_text(const spell &amp;sp, int width)</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l02444">magic.cpp:2444</a></div></div>
<div class="ttc" id="aclassspellcasting__callback_html_abf0fad696380154cf0aa550fc5bece39"><div class="ttname"><a href="classspellcasting__callback.html#abf0fad696380154cf0aa550fc5bece39">spellcasting_callback::draw_spell_info</a></div><div class="ttdeci">void draw_spell_info(const uilist *menu)</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l02667">magic.cpp:2667</a></div></div>
<div class="ttc" id="aclassspellcasting__callback_html_ad3d9c839b2b4c00656c2cbda0e25eb7a"><div class="ttname"><a href="classspellcasting__callback.html#ad3d9c839b2b4c00656c2cbda0e25eb7a">spellcasting_callback::selected_sp</a></div><div class="ttdeci">int selected_sp</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l02295">magic.cpp:2295</a></div></div>
<div class="ttc" id="aclassuilist_html_a4cf13b4a8551727083de162172d80a3d"><div class="ttname"><a href="classuilist.html#a4cf13b4a8551727083de162172d80a3d">uilist::text_color</a></div><div class="ttdeci">nc_color text_color</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00428">ui.h:428</a></div></div>
<div class="ttc" id="aclassuilist_html_ab0890d56d6d29dd98a0b3f17bb3ebba3"><div class="ttname"><a href="classuilist.html#ab0890d56d6d29dd98a0b3f17bb3ebba3">uilist::selected</a></div><div class="ttdeci">int selected</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00526">ui.h:526</a></div></div>
<div class="ttc" id="acolor_8h_html_a2236aa1fe66b707a104f19ad45c23230"><div class="ttname"><a href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a></div><div class="ttdeci">#define c_light_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00026">color.h:26</a></div></div>
<div class="ttc" id="acolor_8h_html_a39fc218ef401d918701636583a85a168"><div class="ttname"><a href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a></div><div class="ttdeci">#define c_magenta</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00023">color.h:23</a></div></div>
<div class="ttc" id="acolor_8h_html_a81e80ab9142609903b4788a6bb31ae45"><div class="ttname"><a href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a></div><div class="ttdeci">#define c_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00030">color.h:30</a></div></div>
<div class="ttc" id="acolor_8h_html_af0a87eaef36305269f4506dfa34d94c0"><div class="ttname"><a href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a></div><div class="ttdeci">#define c_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00019">color.h:19</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_aa9823d249c21fa50daf277957fabb175"><div class="ttname"><a href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">catacurses::wnoutrefresh</a></div><div class="ttdeci">void wnoutrefresh(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00067">ncurses_def.cpp:67</a></div></div>
<div class="ttc" id="anamespacekeycode_html_a16ca776f0df120afb4f1b16a92e2d7f7a82eca2795b3af854b612ca79c53a353e"><div class="ttname"><a href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7a82eca2795b3af854b612ca79c53a353e">keycode::space</a></div><div class="ttdeci">@ space</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00080">input.h:80</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1184e3eda011b110d09bf2dcf08228f5"><div class="ttname"><a href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a></div><div class="ttdeci">void mvwprintz(const catacurses::window &amp;w, const point &amp;p, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03290">output.cpp:3290</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afb5597c87a5847c7d64b878ab3a77d5b"><div class="ttname"><a href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a></div><div class="ttdeci">void mvwputch(const catacurses::window &amp;w, const point &amp;p, nc_color FG, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00590">output.cpp:590</a></div></div>
<div class="ttc" id="aoutput_8h_html_a33ab4e0193402fed8f74590a30fadc3c"><div class="ttname"><a href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a></div><div class="ttdeci">#define LINE_XOXO</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00046">output.h:46</a></div></div>
<div class="ttc" id="aoutput_8h_html_a4a3bfadbe7ec0abb14ff53e5e2f8983e"><div class="ttname"><a href="output_8h.html#a4a3bfadbe7ec0abb14ff53e5e2f8983e">LINE_OXXX</a></div><div class="ttdeci">#define LINE_OXXX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00055">output.h:55</a></div></div>
<div class="ttc" id="aoutput_8h_html_a612d0d0728e93276b2b7de1fc57b096b"><div class="ttname"><a href="output_8h.html#a612d0d0728e93276b2b7de1fc57b096b">LINE_XXOX</a></div><div class="ttdeci">#define LINE_XXOX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00053">output.h:53</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="output_8cpp_source.html#l01787">scrollbar::apply()</a>, <a class="el" href="color_8h_source.html#l00026">c_light_green</a>, <a class="el" href="color_8h_source.html#l00023">c_magenta</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="color_8h_source.html#l00030">c_yellow</a>, <a class="el" href="magic_8cpp_source.html#l02304">casting_ignore</a>, <a class="el" href="output_8cpp_source.html#l01739">scrollbar::content_size()</a>, <a class="el" href="magic_8cpp_source.html#l02667">draw_spell_info()</a>, <a class="el" href="magic_8cpp_source.html#l02297">info_txt</a>, <a class="el" href="magic_8cpp_source.html#l02298">known_spells</a>, <a class="el" href="output_8h_source.html#l00055">LINE_OXXX</a>, <a class="el" href="output_8h_source.html#l00046">LINE_XOXO</a>, <a class="el" href="output_8h_source.html#l00053">LINE_XXOX</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="output_8cpp_source.html#l00590">mvwputch()</a>, <a class="el" href="output_8cpp_source.html#l01727">scrollbar::offset_x()</a>, <a class="el" href="output_8cpp_source.html#l01733">scrollbar::offset_y()</a>, <a class="el" href="ui_8h_source.html#l00486">uilist::pad_right</a>, <a class="el" href="magic_8cpp_source.html#l02296">scroll_pos</a>, <a class="el" href="ui_8h_source.html#l00526">uilist::selected</a>, <a class="el" href="magic_8cpp_source.html#l02295">selected_sp</a>, <a class="el" href="input_8h_source.html#l00080">keycode::space</a>, <a class="el" href="magic_8cpp_source.html#l02444">spell_info_text()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="ui_8h_source.html#l00428">uilist::text_color</a>, <a class="el" href="output_8cpp_source.html#l01745">scrollbar::viewport_pos()</a>, <a class="el" href="output_8cpp_source.html#l01751">scrollbar::viewport_size()</a>, <a class="el" href="ui_8h_source.html#l00483">uilist::w_height</a>, <a class="el" href="ui_8h_source.html#l00482">uilist::w_width</a>, <a class="el" href="ui_8h_source.html#l00479">uilist::window</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

</div>
</div>
<a id="a2321cf8b12bc562f402f289bd30bacf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2321cf8b12bc562f402f289bd30bacf9">&#9670;&nbsp;</a></span>spell_info_text()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void spellcasting_callback::spell_info_text </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classspell.html">spell</a> &amp;&#160;</td>
          <td class="paramname"><em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic_8cpp_source.html#l02444">2444</a> of file <a class="el" href="magic_8cpp_source.html">magic.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;{</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;pc = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160; </div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back( <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( sp.<a class="code" href="classspell.html#a388a3e18bba1c58aa9c00dc53bc97aef">spell_class</a>() == <a class="code" href="magic_8cpp.html#ad4dc12b16a8db4bc3a0debd31fa0ca5d">trait_NONE</a> ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Classless&quot;</span> ) :</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;                                     sp.<a class="code" href="classspell.html#a388a3e18bba1c58aa9c00dc53bc97aef">spell_class</a>()-&gt;<a class="code" href="structmutation__branch.html#a2805339d7f40d83fbfb0846cca44761c">name</a>(), <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a> ) );</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;<a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> : <a class="code" href="output_8cpp.html#aea67d56cef07017be061e1ceefee80df">foldstring</a>( sp.<a class="code" href="classspell.html#acc66691f05cd20a085370d79df52bafa">description</a>(), width ) ) {</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;        <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back( <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ) );</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    }</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;    <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back( );</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;<a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> : <a class="code" href="output_8cpp.html#aea67d56cef07017be061e1ceefee80df">foldstring</a>( sp.<a class="code" href="classspell.html#a03e3c04f223a81a850f493fb8ee65dd3">enumerate_spell_data</a>( pc ), width ) ) {</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;        <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back( <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ) );</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;    }</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;    <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back( );</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160; </div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    <span class="keyword">auto</span> columnize = [&amp;width]( <span class="keyword">const</span> std::string &amp; col1, <span class="keyword">const</span> std::string &amp; col2 ) {</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;        std::string <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> = col1;</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;        <span class="keywordtype">int</span> pad = clamp&lt;int&gt;( width / 2 - <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>, <span class="keyword">true</span> ), 1, width / 2 );</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;        <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>.append( pad, <span class="charliteral">&#39; &#39;</span> );</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;        <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>.append( col2 );</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>;</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;    };</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;    <span class="comment">// Calculates temp_level_adjust from EoC, saves it to the spell for later use, and prepares to display the result</span></div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;    <span class="keywordtype">int</span> temp_level_adjust = sp.<a class="code" href="classspell.html#abeb00e3b3567c2b124b847c07fcd4555">get_temp_level_adjustment</a>();</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    std::string temp_level_adjust_string;</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    <span class="keywordflow">if</span>( temp_level_adjust &lt; 0 ) {</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;        temp_level_adjust_string = <span class="stringliteral">&quot; (-&quot;</span> + <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">std::to_string</a>( -temp_level_adjust ) + <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( temp_level_adjust &gt; 0 ) {</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;        temp_level_adjust_string = <span class="stringliteral">&quot; (+&quot;</span> + <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">std::to_string</a>( temp_level_adjust ) + <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    }</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160; </div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;    <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back(</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;        <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( columnize( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %d%s%s&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Spell Level&quot;</span> ), sp.<a class="code" href="classspell.html#a7c7293c53d4dc763a6e2aa2ee1224bff">get_effective_level</a>(),</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;                                            sp.<a class="code" href="classspell.html#ac0702e64e2757dd74767f00f2e4cd159">is_max_level</a>( pc ) ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; (MAX)&quot;</span> ) : <span class="stringliteral">&quot;&quot;</span>, temp_level_adjust_string.c_str() ),</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;                             <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %d&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Max Level&quot;</span> ), sp.<a class="code" href="classspell.html#a8c41a03e09eb196bd6c59ff29f3f61c1">get_max_level</a>( pc ) ) ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ) );</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back(</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;        <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( columnize( sp.<a class="code" href="classspell.html#afe11a0854d38e947a10d02e29f7fd84c">colorized_fail_percent</a>( pc ),</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;                             <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %d&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Difficulty&quot;</span> ), sp.<a class="code" href="classspell.html#a0c002dde68c8222bed0a619b28e0b91a">get_difficulty</a>( pc ) ) ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ) );</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back(</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;        <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( columnize( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %s&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Current Exp&quot;</span> ),</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;                                            <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">std::to_string</a>( sp.<a class="code" href="classspell.html#a1758e56413516ae56a4ee161e998c338">xp</a>() ), <a class="code" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a> ) ),</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;                             <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %s&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;to Next Level&quot;</span> ),</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;                                            <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">std::to_string</a>( sp.<a class="code" href="classspell.html#a4907623e7faca6b194e24543b1862d1e">exp_to_next_level</a>() ), <a class="code" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a> ) ) ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ) );</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160; </div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back( );</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160; </div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> cost_encumb = sp.<a class="code" href="classspell.html#a3b6438c213ded75c5d4ea791424653e8">energy_cost_encumbered</a>( pc );</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_psi = sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba6833d7b952ec22ca6fef0a01ac2e4d3a">spell_flag::PSIONIC</a> );</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;    <span class="keywordflow">if</span>( is_psi ) {</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;        std::string cost_string = cost_encumb ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Channeling Cost (impeded)&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Channeling Cost&quot;</span> );</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;        std::string energy_cur = sp.<a class="code" href="classspell.html#a593232b1e5fc4c81d536724d40322efd">energy_source</a>() == <a class="code" href="magic_8h.html#aecee704c18d07f266d2b907c070bd7a1ad2ccda10db94c2b5d51beed10484c025">magic_energy_type::hp</a> ? <span class="stringliteral">&quot;&quot;</span> :</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;                                 <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; (%s current)&quot;</span> ), sp.<a class="code" href="classspell.html#a1dc2bd4fd1f177c091237236627bd993">energy_cur_string</a>( pc ) );</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;        <span class="keywordflow">if</span>( !pc.<a class="code" href="classCharacter.html#af2ff32cce5f17bcf04be958121abe524">magic</a>-&gt;has_enough_energy( pc, sp ) ) {</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;            cost_string = <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Not Enough Stamina&quot;</span> ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> );</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;            energy_cur.clear();</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;        }</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;        <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back(</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;            <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %s %s%s&quot;</span>, cost_string, sp.<a class="code" href="classspell.html#a0d3f68783edb1af2e111e85f7a1715fa">energy_cost_string</a>( pc ),</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;                                     sp.<a class="code" href="classspell.html#aeb55e6084337fb199e3cab09260ad916">energy_string</a>(), energy_cur ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ) );</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;        std::string cost_string = cost_encumb ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Casting Cost (impeded)&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Casting Cost&quot;</span> );</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;        std::string energy_cur = sp.<a class="code" href="classspell.html#a593232b1e5fc4c81d536724d40322efd">energy_source</a>() == <a class="code" href="magic_8h.html#aecee704c18d07f266d2b907c070bd7a1ad2ccda10db94c2b5d51beed10484c025">magic_energy_type::hp</a> ? <span class="stringliteral">&quot;&quot;</span> :</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;                                 <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; (%s current)&quot;</span> ), sp.<a class="code" href="classspell.html#a1dc2bd4fd1f177c091237236627bd993">energy_cur_string</a>( pc ) );</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;        <span class="keywordflow">if</span>( !pc.<a class="code" href="classCharacter.html#af2ff32cce5f17bcf04be958121abe524">magic</a>-&gt;has_enough_energy( pc, sp ) ) {</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;            cost_string = <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Not Enough Energy&quot;</span> ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> );</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;            energy_cur.clear();</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;        }</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;        <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back(</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;            <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %s %s%s&quot;</span>, cost_string, sp.<a class="code" href="classspell.html#a0d3f68783edb1af2e111e85f7a1715fa">energy_cost_string</a>( pc ),</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;                                     sp.<a class="code" href="classspell.html#aeb55e6084337fb199e3cab09260ad916">energy_string</a>(), energy_cur ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ) );</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;    };</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> c_t_encumb = sp.<a class="code" href="classspell.html#a0fd925009e816157e71f96cddd9c55db">casting_time_encumbered</a>( pc );</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    <span class="keywordflow">if</span>( is_psi ) {</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;        <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back(</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;            <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %s&quot;</span>,</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;                                     c_t_encumb ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Channeling Time (impeded)&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Channeling Time&quot;</span> ),</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;                                     <a class="code" href="magic_8cpp.html#a9f6573c11f8d6e7562a97ba6f807396e">moves_to_string</a>( sp.<a class="code" href="classspell.html#a4feeb99d5b76aac0263c4730be9882d5">casting_time</a>( pc ) ) ), c_t_encumb  ? <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> : <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ) );</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160; </div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;        <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back( );</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;        <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back(</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;            <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %s&quot;</span>, c_t_encumb ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Casting Time (impeded)&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Casting Time&quot;</span> ),</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;                                     <a class="code" href="magic_8cpp.html#a9f6573c11f8d6e7562a97ba6f807396e">moves_to_string</a>( sp.<a class="code" href="classspell.html#a4feeb99d5b76aac0263c4730be9882d5">casting_time</a>( pc ) ) ), c_t_encumb  ? <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> : <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ) );</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160; </div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;        <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back( );</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    };</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160; </div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;    std::string targets;</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;    <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#adc1aee8fd855fce28ebb1dcc39e37a12">is_valid_target</a>( <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a334c4a4c42fdb79d7ebc3e73b517e6f8">spell_target::none</a> ) ) {</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;        targets = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;self&quot;</span> );</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;        targets = sp.<a class="code" href="classspell.html#af5435ef2b2d958b64074ba3846dd96c4">enumerate_targets</a>();</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    }</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back(</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;        <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %s&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Valid Targets&quot;</span> ), targets ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ) );</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160; </div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;    <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back( );</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160; </div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    std::string target_ids;</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;    target_ids = sp.<a class="code" href="classspell.html#a3a661a14d3c40f8cbd2bd727e7b9f712">list_targeted_monster_names</a>();</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    <span class="keywordflow">if</span>( !target_ids.empty() ) {</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;<a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> :</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;             <a class="code" href="output_8cpp.html#aea67d56cef07017be061e1ceefee80df">foldstring</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Only affects the monsters: %s&quot;</span> ), target_ids ), width ) ) {</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;            <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back( <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ) );</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;        }</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;        <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back( );</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    }</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160; </div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> damage = sp.<a class="code" href="classspell.html#ad572a7c2376afa1bd84ca8ab9603ed2a">damage</a>( pc );</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;    std::string damage_string;</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;    std::string aoe_string;</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;    <span class="comment">// if it&#39;s any type of attack spell, the stats are normal.</span></div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;    <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#aa34fc8ebf8b820ac055f4b4dd9d78c35">effect</a>() == <span class="stringliteral">&quot;attack&quot;</span> ) {</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;        <span class="keywordflow">if</span>( damage &gt; 0 ) {</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;            std::string dot_string;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;            <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#aaf83b0a24bf04d172819c3c82317a7c6">damage_dot</a>( pc ) != 0 ) {</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;                <span class="comment">//~ amount of damage per second, abbreviated</span></div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;                dot_string = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;, %d/sec&quot;</span> ), sp.<a class="code" href="classspell.html#aaf83b0a24bf04d172819c3c82317a7c6">damage_dot</a>( pc ) );</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;            }</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;            damage_string = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %s %s%s&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Damage&quot;</span> ), sp.<a class="code" href="classspell.html#a731bc4db74246a1e9265ea6f25abd7ad">damage_string</a>( pc ),</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;                                           sp.<a class="code" href="classspell.html#a33b19b10be6eded53db5dee401ba6da5">damage_type_string</a>(), dot_string );</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;            damage_string = <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( damage_string, sp.<a class="code" href="classspell.html#a1ed087b326bb00071482cadeff078b15">damage_type_color</a>() );</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( damage &lt; 0 ) {</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;            damage_string = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %s&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Healing&quot;</span> ), <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( sp.<a class="code" href="classspell.html#a731bc4db74246a1e9265ea6f25abd7ad">damage_string</a>( pc ),</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;                                           <a class="code" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a> ) );</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;        }</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;        <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#a63f22c8f5a1730ab6651342e9becbfdc">aoe</a>( pc ) &gt; 0 ) {</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;            std::string aoe_string_temp = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Spell Radius&quot;</span> );</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;            std::string degree_string;</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;            <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#ab26955ff4600c3a2855e6fe02dc0d216">shape</a>() == <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca29d6fc960c94b5a330f850284e75ab1f">spell_shape::cone</a> ) {</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;                aoe_string_temp = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Cone Arc&quot;</span> );</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;                degree_string = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;degrees&quot;</span> );</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#ab26955ff4600c3a2855e6fe02dc0d216">shape</a>() == <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">spell_shape::line</a> ) {</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;                aoe_string_temp = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Line Width&quot;</span> );</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;            }</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;            aoe_string = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %d %s&quot;</span>, aoe_string_temp, sp.<a class="code" href="classspell.html#a63f22c8f5a1730ab6651342e9becbfdc">aoe</a>( pc ), degree_string );</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;        }</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#aa34fc8ebf8b820ac055f4b4dd9d78c35">effect</a>() == <span class="stringliteral">&quot;short_range_teleport&quot;</span> ) {</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;        <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#a63f22c8f5a1730ab6651342e9becbfdc">aoe</a>( pc ) &gt; 0 ) {</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;            aoe_string = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %d&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Variance&quot;</span> ), sp.<a class="code" href="classspell.html#a63f22c8f5a1730ab6651342e9becbfdc">aoe</a>( pc ) );</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;        }</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#aa34fc8ebf8b820ac055f4b4dd9d78c35">effect</a>() == <span class="stringliteral">&quot;spawn_item&quot;</span> ) {</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;        <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba0169f99da4a426e9b5b04c43733d8ec8">spell_flag::SPAWN_GROUP</a> ) ) {</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;            <span class="comment">// todo: more user-friendly presentation</span></div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;            damage_string = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Spawn item group %1$s %2$d times&quot;</span> ), sp.<a class="code" href="classspell.html#ab6f8776ac707639708392c616d93fa58">effect_data</a>(),</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;                                           sp.<a class="code" href="classspell.html#ad572a7c2376afa1bd84ca8ab9603ed2a">damage</a>( pc ) );</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;            damage_string = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s %d %s&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Spawn&quot;</span> ), sp.<a class="code" href="classspell.html#ad572a7c2376afa1bd84ca8ab9603ed2a">damage</a>( pc ),</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;                                           <a class="code" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( <a class="code" href="classstring__id.html">itype_id</a>( sp.<a class="code" href="classspell.html#ab6f8776ac707639708392c616d93fa58">effect_data</a>() ), sp.<a class="code" href="classspell.html#ad572a7c2376afa1bd84ca8ab9603ed2a">damage</a>( pc ) ) );</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;        }</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#aa34fc8ebf8b820ac055f4b4dd9d78c35">effect</a>() == <span class="stringliteral">&quot;summon&quot;</span> ) {</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;        std::string monster_name = <span class="stringliteral">&quot;FIXME&quot;</span>;</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;        <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba0169f99da4a426e9b5b04c43733d8ec8">spell_flag::SPAWN_GROUP</a> ) ) {</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;            <span class="comment">// TODO: Get a more user-friendly group name</span></div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classMonsterGroupManager.html#a63d2845bca04e530ec8efb366c3725b6">MonsterGroupManager::isValidMonsterGroup</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4adcd89267470921c316111b454af6a02c">mongroup_id</a>( sp.<a class="code" href="classspell.html#ab6f8776ac707639708392c616d93fa58">effect_data</a>() ) ) ) {</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;                monster_name = <span class="stringliteral">&quot;from &quot;</span> + sp.<a class="code" href="classspell.html#ab6f8776ac707639708392c616d93fa58">effect_data</a>();</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Unknown monster group: %s&quot;</span>, sp.<a class="code" href="classspell.html#ab6f8776ac707639708392c616d93fa58">effect_data</a>() );</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;            }</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;            monster_name = <a class="code" href="classmonster.html">monster</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca">mtype_id</a>( sp.<a class="code" href="classspell.html#ab6f8776ac707639708392c616d93fa58">effect_data</a>() ) ).<a class="code" href="classmonster.html#ad4fba0b9aea36097d8b972e05e66d914">get_name</a>( );</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;        }</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;        damage_string = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s %d %s&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Summon&quot;</span> ), sp.<a class="code" href="classspell.html#ad572a7c2376afa1bd84ca8ab9603ed2a">damage</a>( pc ), monster_name );</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;        aoe_string = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %d&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Spell Radius&quot;</span> ), sp.<a class="code" href="classspell.html#a63f22c8f5a1730ab6651342e9becbfdc">aoe</a>( pc ) );</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#aa34fc8ebf8b820ac055f4b4dd9d78c35">effect</a>() == <span class="stringliteral">&quot;targeted_polymorph&quot;</span> ) {</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;        std::string monster_name = sp.<a class="code" href="classspell.html#ab6f8776ac707639708392c616d93fa58">effect_data</a>();</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;        <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba315fc579dd9a280bceb7e5845c5cc675">spell_flag::POLYMORPH_GROUP</a> ) ) {</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;            <span class="comment">// TODO: Get a more user-friendly group name</span></div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classMonsterGroupManager.html#a63d2845bca04e530ec8efb366c3725b6">MonsterGroupManager::isValidMonsterGroup</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4adcd89267470921c316111b454af6a02c">mongroup_id</a>( sp.<a class="code" href="classspell.html#ab6f8776ac707639708392c616d93fa58">effect_data</a>() ) ) ) {</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;                monster_name = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;random creature&quot;</span> );</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Unknown monster group: %s&quot;</span>, sp.<a class="code" href="classspell.html#ab6f8776ac707639708392c616d93fa58">effect_data</a>() );</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;            }</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( monster_name.empty() ) {</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;            monster_name = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;random creature&quot;</span> );</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;            monster_name = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca">mtype_id</a>( sp.<a class="code" href="classspell.html#ab6f8776ac707639708392c616d93fa58">effect_data</a>() )-&gt;nname();</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;        }</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;        damage_string = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Targets under: %dhp become a %s&quot;</span> ), sp.<a class="code" href="classspell.html#ad572a7c2376afa1bd84ca8ab9603ed2a">damage</a>( pc ),</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;                                       monster_name );</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#aa34fc8ebf8b820ac055f4b4dd9d78c35">effect</a>() == <span class="stringliteral">&quot;ter_transform&quot;</span> ) {</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;        aoe_string = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %s&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Spell Radius&quot;</span> ), sp.<a class="code" href="classspell.html#a335dc296fd7e166be557e69dc6d9f147">aoe_string</a>( pc ) );</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#aa34fc8ebf8b820ac055f4b4dd9d78c35">effect</a>() == <span class="stringliteral">&quot;banishment&quot;</span> ) {</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;        damage_string = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %s %s&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Damage&quot;</span> ), sp.<a class="code" href="classspell.html#a731bc4db74246a1e9265ea6f25abd7ad">damage_string</a>( pc ),</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;                                       sp.<a class="code" href="classspell.html#a33b19b10be6eded53db5dee401ba6da5">damage_type_string</a>() );</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;        <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#a63f22c8f5a1730ab6651342e9becbfdc">aoe</a>( pc ) &gt; 0 ) {</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;            aoe_string = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Spell Radius: %d&quot;</span> ), sp.<a class="code" href="classspell.html#a63f22c8f5a1730ab6651342e9becbfdc">aoe</a>( pc ) );</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;        }</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    }</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160; </div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    <span class="comment">// Range / AOE in two columns</span></div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;    <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back( <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %s&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Range&quot;</span> ),</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;                                     sp.<a class="code" href="classspell.html#ab00175ffc465d406a7ec24331c6c55f2">range</a>( pc ) &lt;= 0 ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;self&quot;</span> ) : <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">std::to_string</a>( sp.<a class="code" href="classspell.html#ab00175ffc465d406a7ec24331c6c55f2">range</a>( pc ) ) ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ) );</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back( <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( aoe_string, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ) );</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160; </div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    <span class="comment">// One line for damage / healing / spawn / summon effect</span></div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back( <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( damage_string, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ) );</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160; </div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    <span class="comment">// todo: damage over time here, when it gets implemented</span></div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160; </div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;    <span class="comment">// Show duration for spells that endure</span></div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#a3a67307def07ddc6d2e2c134d21c245f">duration</a>( pc ) &gt; 0 || sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba54bcf9b291726b4cf8343f61681a5cfd">spell_flag::PERMANENT</a> ) ||</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;        sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba82397545cee465e4bda1cb70ef78c0f0">spell_flag::PERMANENT_ALL_LEVELS</a> ) ) {</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;        <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back(</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;            <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %s&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Duration&quot;</span> ), sp.<a class="code" href="classspell.html#a4b1a5a0c2bd28fb4101608783f25b101">duration_string</a>( pc ) ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ) );</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;    }</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160; </div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#ad8662455c101a353ea64618a49908a4b">has_components</a>() ) {</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;        <span class="keywordflow">if</span>( !sp.<a class="code" href="classspell.html#af69dedf22c42ebc9fb41f8f22102630d">components</a>().<a class="code" href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">get_components</a>().empty() ) {</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;<a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> : sp.<a class="code" href="classspell.html#af69dedf22c42ebc9fb41f8f22102630d">components</a>().<a class="code" href="structrequirement__data.html#a9b9025140c166ce2a00fcf41db96b7a9">get_folded_components_list</a>(</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;                     width - 2, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, pc.<a class="code" href="classCharacter.html#ace218285f4fbc7c7a9feac8378bc632e">crafting_inventory</a>( pc.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 0, <span class="keyword">false</span> ), return_true&lt;item&gt; ) ) {</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;                <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back( <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> );</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;            }</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;        }</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;        <span class="keywordflow">if</span>( !( sp.<a class="code" href="classspell.html#af69dedf22c42ebc9fb41f8f22102630d">components</a>().<a class="code" href="structrequirement__data.html#a175d46943600149603b7a915cb48092b">get_tools</a>().empty() &amp;&amp; sp.<a class="code" href="classspell.html#af69dedf22c42ebc9fb41f8f22102630d">components</a>().<a class="code" href="structrequirement__data.html#ad7733e9b478f08e7e6e1ef94057e3502">get_qualities</a>().empty() ) ) {</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;<a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> : sp.<a class="code" href="classspell.html#af69dedf22c42ebc9fb41f8f22102630d">components</a>().<a class="code" href="structrequirement__data.html#a7518cd295931d5e30f6ba0341f90aa8b">get_folded_tools_list</a>(</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;                     width - 2, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, pc.<a class="code" href="classCharacter.html#ace218285f4fbc7c7a9feac8378bc632e">crafting_inventory</a>( pc.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 0, <span class="keyword">false</span> ) ) ) {</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;                <a class="code" href="classspellcasting__callback.html#a445a77c1dd83724de3d0cbd08f577a35">info_txt</a>.emplace_back( <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> );</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;            }</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;        }</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    }</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_abf1cdb8f4662bf96c8d762e9229df8d9"><div class="ttname"><a href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a></div><div class="ttdeci">std::string to_string(const time_duration &amp;d, const bool compact)</div><div class="ttdoc">Returns a string showing a duration.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00546">calendar.cpp:546</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca">cata_variant_type::mtype_id</a></div><div class="ttdeci">@ mtype_id</div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4adcd89267470921c316111b454af6a02c"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4adcd89267470921c316111b454af6a02c">cata_variant_type::mongroup_id</a></div><div class="ttdeci">@ mongroup_id</div></div>
<div class="ttc" id="acatacharset_8cpp_html_af20ee33da59ccceb9f4c14005c0bbe80"><div class="ttname"><a href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a></div><div class="ttdeci">int utf8_width(const std::string_view s, const bool ignore_tags)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00104">catacharset.cpp:104</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclassCharacter_html_ace218285f4fbc7c7a9feac8378bc632e"><div class="ttname"><a href="classCharacter.html#ace218285f4fbc7c7a9feac8378bc632e">Character::crafting_inventory</a></div><div class="ttdeci">const inventory &amp; crafting_inventory(bool clear_path) const</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00629">crafting.cpp:629</a></div></div>
<div class="ttc" id="aclassCreature_html_a1a65722d07102550f16d17ebd79e2743"><div class="ttname"><a href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">Creature::pos</a></div><div class="ttdeci">tripoint pos() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00178">creature.cpp:178</a></div></div>
<div class="ttc" id="aclassMonsterGroupManager_html_a63d2845bca04e530ec8efb366c3725b6"><div class="ttname"><a href="classMonsterGroupManager.html#a63d2845bca04e530ec8efb366c3725b6">MonsterGroupManager::isValidMonsterGroup</a></div><div class="ttdeci">static bool isValidMonsterGroup(const mongroup_id &amp;group)</div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8cpp_source.html#l00350">mongroup.cpp:350</a></div></div>
<div class="ttc" id="aclassitem_html_a438855ffd52d33307e1dfba6d607535b"><div class="ttname"><a href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a></div><div class="ttdeci">static std::string nname(const itype_id &amp;id, unsigned int quantity=1)</div><div class="ttdoc">Returns the translated item name for the item with given id.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14557">item.cpp:14557</a></div></div>
<div class="ttc" id="aclassmonster_html"><div class="ttname"><a href="classmonster.html">monster</a></div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00085">monster.h:86</a></div></div>
<div class="ttc" id="aclassmonster_html_ad4fba0b9aea36097d8b972e05e66d914"><div class="ttname"><a href="classmonster.html#ad4fba0b9aea36097d8b972e05e66d914">monster::get_name</a></div><div class="ttdeci">std::string get_name() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00717">monster.cpp:717</a></div></div>
<div class="ttc" id="aclassspell_html_a03e3c04f223a81a850f493fb8ee65dd3"><div class="ttname"><a href="classspell.html#a03e3c04f223a81a850f493fb8ee65dd3">spell::enumerate_spell_data</a></div><div class="ttdeci">std::string enumerate_spell_data(const Character &amp;guy) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l02409">magic.cpp:2409</a></div></div>
<div class="ttc" id="aclassspell_html_a0c002dde68c8222bed0a619b28e0b91a"><div class="ttname"><a href="classspell.html#a0c002dde68c8222bed0a619b28e0b91a">spell::get_difficulty</a></div><div class="ttdeci">int get_difficulty(const Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01147">magic.cpp:1147</a></div></div>
<div class="ttc" id="aclassspell_html_a0d3f68783edb1af2e111e85f7a1715fa"><div class="ttname"><a href="classspell.html#a0d3f68783edb1af2e111e85f7a1715fa">spell::energy_cost_string</a></div><div class="ttdeci">std::string energy_cost_string(const Character &amp;guy) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01353">magic.cpp:1353</a></div></div>
<div class="ttc" id="aclassspell_html_a0fd925009e816157e71f96cddd9c55db"><div class="ttname"><a href="classspell.html#a0fd925009e816157e71f96cddd9c55db">spell::casting_time_encumbered</a></div><div class="ttdeci">bool casting_time_encumbered(const Character &amp;guy) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l02383">magic.cpp:2383</a></div></div>
<div class="ttc" id="aclassspell_html_a1758e56413516ae56a4ee161e998c338"><div class="ttname"><a href="classspell.html#a1758e56413516ae56a4ee161e998c338">spell::xp</a></div><div class="ttdeci">int xp() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01317">magic.cpp:1317</a></div></div>
<div class="ttc" id="aclassspell_html_a1dc2bd4fd1f177c091237236627bd993"><div class="ttname"><a href="classspell.html#a1dc2bd4fd1f177c091237236627bd993">spell::energy_cur_string</a></div><div class="ttdeci">std::string energy_cur_string(const Character &amp;guy) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01373">magic.cpp:1373</a></div></div>
<div class="ttc" id="aclassspell_html_a1ed087b326bb00071482cadeff078b15"><div class="ttname"><a href="classspell.html#a1ed087b326bb00071482cadeff078b15">spell::damage_type_color</a></div><div class="ttdeci">nc_color damage_type_color() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01548">magic.cpp:1548</a></div></div>
<div class="ttc" id="aclassspell_html_a335dc296fd7e166be557e69dc6d9f147"><div class="ttname"><a href="classspell.html#a335dc296fd7e166be557e69dc6d9f147">spell::aoe_string</a></div><div class="ttdeci">std::string aoe_string(const Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00895">magic.cpp:895</a></div></div>
<div class="ttc" id="aclassspell_html_a33b19b10be6eded53db5dee401ba6da5"><div class="ttname"><a href="classspell.html#a33b19b10be6eded53db5dee401ba6da5">spell::damage_type_string</a></div><div class="ttdeci">std::string damage_type_string() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01556">magic.cpp:1556</a></div></div>
<div class="ttc" id="aclassspell_html_a388a3e18bba1c58aa9c00dc53bc97aef"><div class="ttname"><a href="classspell.html#a388a3e18bba1c58aa9c00dc53bc97aef">spell::spell_class</a></div><div class="ttdeci">trait_id spell_class() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00667">magic.cpp:667</a></div></div>
<div class="ttc" id="aclassspell_html_a3a661a14d3c40f8cbd2bd727e7b9f712"><div class="ttname"><a href="classspell.html#a3a661a14d3c40f8cbd2bd727e7b9f712">spell::list_targeted_monster_names</a></div><div class="ttdeci">std::string list_targeted_monster_names() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01710">magic.cpp:1710</a></div></div>
<div class="ttc" id="aclassspell_html_a3a67307def07ddc6d2e2c134d21c245f"><div class="ttname"><a href="classspell.html#a3a67307def07ddc6d2e2c134d21c245f">spell::duration</a></div><div class="ttdeci">int duration(const Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00965">magic.cpp:965</a></div></div>
<div class="ttc" id="aclassspell_html_a3b6438c213ded75c5d4ea791424653e8"><div class="ttname"><a href="classspell.html#a3b6438c213ded75c5d4ea791424653e8">spell::energy_cost_encumbered</a></div><div class="ttdeci">bool energy_cost_encumbered(const Character &amp;guy) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l02398">magic.cpp:2398</a></div></div>
<div class="ttc" id="aclassspell_html_a4907623e7faca6b194e24543b1862d1e"><div class="ttname"><a href="classspell.html#a4907623e7faca6b194e24543b1862d1e">spell::exp_to_next_level</a></div><div class="ttdeci">int exp_to_next_level() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01650">magic.cpp:1650</a></div></div>
<div class="ttc" id="aclassspell_html_a4b1a5a0c2bd28fb4101608783f25b101"><div class="ttname"><a href="classspell.html#a4b1a5a0c2bd28fb4101608783f25b101">spell::duration_string</a></div><div class="ttdeci">std::string duration_string(const Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00985">magic.cpp:985</a></div></div>
<div class="ttc" id="aclassspell_html_a4feeb99d5b76aac0263c4730be9882d5"><div class="ttname"><a href="classspell.html#a4feeb99d5b76aac0263c4730be9882d5">spell::casting_time</a></div><div class="ttdeci">int casting_time(const Character &amp;guy, bool ignore_encumb=false) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01158">magic.cpp:1158</a></div></div>
<div class="ttc" id="aclassspell_html_a593232b1e5fc4c81d536724d40322efd"><div class="ttname"><a href="classspell.html#a593232b1e5fc4c81d536724d40322efd">spell::energy_source</a></div><div class="ttdeci">magic_energy_type energy_source() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01459">magic.cpp:1459</a></div></div>
<div class="ttc" id="aclassspell_html_a63f22c8f5a1730ab6651342e9becbfdc"><div class="ttname"><a href="classspell.html#a63f22c8f5a1730ab6651342e9becbfdc">spell::aoe</a></div><div class="ttdeci">int aoe(const Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00854">magic.cpp:854</a></div></div>
<div class="ttc" id="aclassspell_html_a731bc4db74246a1e9265ea6f25abd7ad"><div class="ttname"><a href="classspell.html#a731bc4db74246a1e9265ea6f25abd7ad">spell::damage_string</a></div><div class="ttdeci">std::string damage_string(const Character &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00773">magic.cpp:773</a></div></div>
<div class="ttc" id="aclassspell_html_a7c7293c53d4dc763a6e2aa2ee1224bff"><div class="ttname"><a href="classspell.html#a7c7293c53d4dc763a6e2aa2ee1224bff">spell::get_effective_level</a></div><div class="ttdeci">int get_effective_level() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01576">magic.cpp:1576</a></div></div>
<div class="ttc" id="aclassspell_html_a8c41a03e09eb196bd6c59ff29f3f61c1"><div class="ttname"><a href="classspell.html#a8c41a03e09eb196bd6c59ff29f3f61c1">spell::get_max_level</a></div><div class="ttdeci">int get_max_level(const Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01581">magic.cpp:1581</a></div></div>
<div class="ttc" id="aclassspell_html_aa34fc8ebf8b820ac055f4b4dd9d78c35"><div class="ttname"><a href="classspell.html#aa34fc8ebf8b820ac055f4b4dd9d78c35">spell::effect</a></div><div class="ttdeci">std::string effect() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01454">magic.cpp:1454</a></div></div>
<div class="ttc" id="aclassspell_html_aa609bae14a69c0987d562a2a9f8a1268"><div class="ttname"><a href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">spell::has_flag</a></div><div class="ttdeci">bool has_flag(const spell_flag &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01074">magic.cpp:1074</a></div></div>
<div class="ttc" id="aclassspell_html_aaf83b0a24bf04d172819c3c82317a7c6"><div class="ttname"><a href="classspell.html#aaf83b0a24bf04d172819c3c82317a7c6">spell::damage_dot</a></div><div class="ttdeci">int damage_dot(const Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00750">magic.cpp:750</a></div></div>
<div class="ttc" id="aclassspell_html_ab00175ffc465d406a7ec24331c6c55f2"><div class="ttname"><a href="classspell.html#ab00175ffc465d406a7ec24331c6c55f2">spell::range</a></div><div class="ttdeci">int range(const Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00905">magic.cpp:905</a></div></div>
<div class="ttc" id="aclassspell_html_ab26955ff4600c3a2855e6fe02dc0d216"><div class="ttname"><a href="classspell.html#ab26955ff4600c3a2855e6fe02dc0d216">spell::shape</a></div><div class="ttdeci">spell_shape shape() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01312">magic.cpp:1312</a></div></div>
<div class="ttc" id="aclassspell_html_ab6f8776ac707639708392c616d93fa58"><div class="ttname"><a href="classspell.html#ab6f8776ac707639708392c616d93fa58">spell::effect_data</a></div><div class="ttdeci">std::string effect_data() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01794">magic.cpp:1794</a></div></div>
<div class="ttc" id="aclassspell_html_abeb00e3b3567c2b124b847c07fcd4555"><div class="ttname"><a href="classspell.html#abeb00e3b3567c2b124b847c07fcd4555">spell::get_temp_level_adjustment</a></div><div class="ttdeci">int get_temp_level_adjustment() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01587">magic.cpp:1587</a></div></div>
<div class="ttc" id="aclassspell_html_ac0702e64e2757dd74767f00f2e4cd159"><div class="ttname"><a href="classspell.html#ac0702e64e2757dd74767f00f2e4cd159">spell::is_max_level</a></div><div class="ttdeci">bool is_max_level(const Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01026">magic.cpp:1026</a></div></div>
<div class="ttc" id="aclassspell_html_acc66691f05cd20a085370d79df52bafa"><div class="ttname"><a href="classspell.html#acc66691f05cd20a085370d79df52bafa">spell::description</a></div><div class="ttdeci">std::string description() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01543">magic.cpp:1543</a></div></div>
<div class="ttc" id="aclassspell_html_ad572a7c2376afa1bd84ca8ab9603ed2a"><div class="ttname"><a href="classspell.html#ad572a7c2376afa1bd84ca8ab9603ed2a">spell::damage</a></div><div class="ttdeci">int damage(const Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00705">magic.cpp:705</a></div></div>
<div class="ttc" id="aclassspell_html_ad8662455c101a353ea64618a49908a4b"><div class="ttname"><a href="classspell.html#ad8662455c101a353ea64618a49908a4b">spell::has_components</a></div><div class="ttdeci">bool has_components() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01202">magic.cpp:1202</a></div></div>
<div class="ttc" id="aclassspell_html_adc1aee8fd855fce28ebb1dcc39e37a12"><div class="ttname"><a href="classspell.html#adc1aee8fd855fce28ebb1dcc39e37a12">spell::is_valid_target</a></div><div class="ttdeci">bool is_valid_target(const Creature &amp;caster, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01474">magic.cpp:1474</a></div></div>
<div class="ttc" id="aclassspell_html_aeb55e6084337fb199e3cab09260ad916"><div class="ttname"><a href="classspell.html#aeb55e6084337fb199e3cab09260ad916">spell::energy_string</a></div><div class="ttdeci">std::string energy_string() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01337">magic.cpp:1337</a></div></div>
<div class="ttc" id="aclassspell_html_af5435ef2b2d958b64074ba3846dd96c4"><div class="ttname"><a href="classspell.html#af5435ef2b2d958b64074ba3846dd96c4">spell::enumerate_targets</a></div><div class="ttdeci">std::string enumerate_targets() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01683">magic.cpp:1683</a></div></div>
<div class="ttc" id="aclassspell_html_af69dedf22c42ebc9fb41f8f22102630d"><div class="ttname"><a href="classspell.html#af69dedf22c42ebc9fb41f8f22102630d">spell::components</a></div><div class="ttdeci">const requirement_data &amp; components() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01197">magic.cpp:1197</a></div></div>
<div class="ttc" id="aclassspell_html_afe11a0854d38e947a10d02e29f7fd84c"><div class="ttname"><a href="classspell.html#afe11a0854d38e947a10d02e29f7fd84c">spell::colorized_fail_percent</a></div><div class="ttdeci">std::string colorized_fail_percent(const Character &amp;guy) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01289">magic.cpp:1289</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; itype &gt;</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a0f25678be1fc95cb81381a004493a4cc"><div class="ttname"><a href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a></div><div class="ttdeci">std::string colorize(const std::string &amp;text, const nc_color &amp;color)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00742">color.cpp:742</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a9f6573c11f8d6e7562a97ba6f807396e"><div class="ttname"><a href="magic_8cpp.html#a9f6573c11f8d6e7562a97ba6f807396e">moves_to_string</a></div><div class="ttdeci">static std::string moves_to_string(const int moves)</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00260">magic.cpp:260</a></div></div>
<div class="ttc" id="amagic_8cpp_html_ad4dc12b16a8db4bc3a0debd31fa0ca5d"><div class="ttname"><a href="magic_8cpp.html#ad4dc12b16a8db4bc3a0debd31fa0ca5d">trait_NONE</a></div><div class="ttdeci">static const trait_id trait_NONE(&quot;NONE&quot;)</div></div>
<div class="ttc" id="amagic_8h_html_a0d790bdb16f7b815ef552e2220820e9ca29d6fc960c94b5a330f850284e75ab1f"><div class="ttname"><a href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca29d6fc960c94b5a330f850284e75ab1f">spell_shape::cone</a></div><div class="ttdeci">@ cone</div></div>
<div class="ttc" id="amagic_8h_html_a43ffd543787e68e5333debafdbb7ead7a334c4a4c42fdb79d7ebc3e73b517e6f8"><div class="ttname"><a href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a334c4a4c42fdb79d7ebc3e73b517e6f8">spell_target::none</a></div><div class="ttdeci">@ none</div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197ba0169f99da4a426e9b5b04c43733d8ec8"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba0169f99da4a426e9b5b04c43733d8ec8">spell_flag::SPAWN_GROUP</a></div><div class="ttdeci">@ SPAWN_GROUP</div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197ba315fc579dd9a280bceb7e5845c5cc675"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba315fc579dd9a280bceb7e5845c5cc675">spell_flag::POLYMORPH_GROUP</a></div><div class="ttdeci">@ POLYMORPH_GROUP</div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197ba54bcf9b291726b4cf8343f61681a5cfd"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba54bcf9b291726b4cf8343f61681a5cfd">spell_flag::PERMANENT</a></div><div class="ttdeci">@ PERMANENT</div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197ba6833d7b952ec22ca6fef0a01ac2e4d3a"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba6833d7b952ec22ca6fef0a01ac2e4d3a">spell_flag::PSIONIC</a></div><div class="ttdeci">@ PSIONIC</div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197ba82397545cee465e4bda1cb70ef78c0f0"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba82397545cee465e4bda1cb70ef78c0f0">spell_flag::PERMANENT_ALL_LEVELS</a></div><div class="ttdeci">@ PERMANENT_ALL_LEVELS</div></div>
<div class="ttc" id="amagic_8h_html_aecee704c18d07f266d2b907c070bd7a1ad2ccda10db94c2b5d51beed10484c025"><div class="ttname"><a href="magic_8h.html#aecee704c18d07f266d2b907c070bd7a1ad2ccda10db94c2b5d51beed10484c025">magic_energy_type::hp</a></div><div class="ttdeci">@ hp</div></div>
<div class="ttc" id="aoutput_8cpp_html_aea67d56cef07017be061e1ceefee80df"><div class="ttname"><a href="output_8cpp.html#aea67d56cef07017be061e1ceefee80df">foldstring</a></div><div class="ttdeci">std::vector&lt; std::string &gt; foldstring(const std::string &amp;str, int width, const char split)</div><div class="ttdoc">Split the input text into separate lines and wrap long lines.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00123">output.cpp:123</a></div></div>
<div class="ttc" id="astructmutation__branch_html_a2805339d7f40d83fbfb0846cca44761c"><div class="ttname"><a href="structmutation__branch.html#a2805339d7f40d83fbfb0846cca44761c">mutation_branch::name</a></div><div class="ttdeci">std::string name(const std::string &amp;variant=&quot;&quot;) const</div><div class="ttdef"><b>Definition:</b> <a href="mutation__data_8cpp_source.html#l00579">mutation_data.cpp:579</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a175d46943600149603b7a915cb48092b"><div class="ttname"><a href="structrequirement__data.html#a175d46943600149603b7a915cb48092b">requirement_data::get_tools</a></div><div class="ttdeci">const alter_tool_comp_vector &amp; get_tools() const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l01152">requirements.cpp:1152</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a56dbf23ade6bced0dc6148b8e1a12d4c"><div class="ttname"><a href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">requirement_data::get_components</a></div><div class="ttdeci">const alter_item_comp_vector &amp; get_components() const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l01162">requirements.cpp:1162</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a7518cd295931d5e30f6ba0341f90aa8b"><div class="ttname"><a href="structrequirement__data.html#a7518cd295931d5e30f6ba0341f90aa8b">requirement_data::get_folded_tools_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_folded_tools_list(int width, nc_color col, const read_only_visitable &amp;crafting_inv, int batch=1) const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00819">requirements.cpp:819</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a9b9025140c166ce2a00fcf41db96b7a9"><div class="ttname"><a href="structrequirement__data.html#a9b9025140c166ce2a00fcf41db96b7a9">requirement_data::get_folded_components_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_folded_components_list(int width, nc_color col, const read_only_visitable &amp;crafting_inv, const std::function&lt; bool(const item &amp;)&gt; &amp;filter, int batch=1, std::string_view hilite={}, requirement_display_flags=requirement_display_flags::none) const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00732">requirements.cpp:732</a></div></div>
<div class="ttc" id="astructrequirement__data_html_ad7733e9b478f08e7e6e1ef94057e3502"><div class="ttname"><a href="structrequirement__data.html#ad7733e9b478f08e7e6e1ef94057e3502">requirement_data::get_qualities</a></div><div class="ttdeci">const alter_quali_req_vector &amp; get_qualities() const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l01157">requirements.cpp:1157</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="magic_8cpp_source.html#l00854">spell::aoe()</a>, <a class="el" href="magic_8cpp_source.html#l00895">spell::aoe_string()</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00026">c_light_green</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="color_8h_source.html#l00030">c_yellow</a>, <a class="el" href="magic_8cpp_source.html#l01158">spell::casting_time()</a>, <a class="el" href="magic_8cpp_source.html#l02383">spell::casting_time_encumbered()</a>, <a class="el" href="color_8cpp_source.html#l00742">colorize()</a>, <a class="el" href="magic_8cpp_source.html#l01289">spell::colorized_fail_percent()</a>, <a class="el" href="magic_8cpp_source.html#l01197">spell::components()</a>, <a class="el" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca29d6fc960c94b5a330f850284e75ab1f">cone</a>, <a class="el" href="crafting_8cpp_source.html#l00629">Character::crafting_inventory()</a>, <a class="el" href="magic_8cpp_source.html#l00705">spell::damage()</a>, <a class="el" href="magic_8cpp_source.html#l00750">spell::damage_dot()</a>, <a class="el" href="magic_8cpp_source.html#l00773">spell::damage_string()</a>, <a class="el" href="magic_8cpp_source.html#l01548">spell::damage_type_color()</a>, <a class="el" href="magic_8cpp_source.html#l01556">spell::damage_type_string()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="magic_8cpp_source.html#l01543">spell::description()</a>, <a class="el" href="magic_8cpp_source.html#l00965">spell::duration()</a>, <a class="el" href="magic_8cpp_source.html#l00985">spell::duration_string()</a>, <a class="el" href="magic_8cpp_source.html#l01454">spell::effect()</a>, <a class="el" href="magic_8cpp_source.html#l01794">spell::effect_data()</a>, <a class="el" href="magic_8cpp_source.html#l02398">spell::energy_cost_encumbered()</a>, <a class="el" href="magic_8cpp_source.html#l01353">spell::energy_cost_string()</a>, <a class="el" href="magic_8cpp_source.html#l01373">spell::energy_cur_string()</a>, <a class="el" href="magic_8cpp_source.html#l01459">spell::energy_source()</a>, <a class="el" href="magic_8cpp_source.html#l01337">spell::energy_string()</a>, <a class="el" href="magic_8cpp_source.html#l02409">spell::enumerate_spell_data()</a>, <a class="el" href="magic_8cpp_source.html#l01683">spell::enumerate_targets()</a>, <a class="el" href="magic_8cpp_source.html#l01650">spell::exp_to_next_level()</a>, <a class="el" href="output_8cpp_source.html#l00123">foldstring()</a>, <a class="el" href="requirements_8cpp_source.html#l01162">requirement_data::get_components()</a>, <a class="el" href="magic_8cpp_source.html#l01147">spell::get_difficulty()</a>, <a class="el" href="magic_8cpp_source.html#l01576">spell::get_effective_level()</a>, <a class="el" href="requirements_8cpp_source.html#l00732">requirement_data::get_folded_components_list()</a>, <a class="el" href="requirements_8cpp_source.html#l00819">requirement_data::get_folded_tools_list()</a>, <a class="el" href="magic_8cpp_source.html#l01581">spell::get_max_level()</a>, <a class="el" href="monster_8cpp_source.html#l00717">monster::get_name()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="requirements_8cpp_source.html#l01157">requirement_data::get_qualities()</a>, <a class="el" href="magic_8cpp_source.html#l01587">spell::get_temp_level_adjustment()</a>, <a class="el" href="requirements_8cpp_source.html#l01152">requirement_data::get_tools()</a>, <a class="el" href="magic_8cpp_source.html#l01202">spell::has_components()</a>, <a class="el" href="magic_8cpp_source.html#l01074">spell::has_flag()</a>, <a class="el" href="magic_8h.html#aecee704c18d07f266d2b907c070bd7a1ad2ccda10db94c2b5d51beed10484c025">hp</a>, <a class="el" href="magic_8cpp_source.html#l02297">info_txt</a>, <a class="el" href="magic_8cpp_source.html#l01026">spell::is_max_level()</a>, <a class="el" href="magic_8cpp_source.html#l01474">spell::is_valid_target()</a>, <a class="el" href="mongroup_8cpp_source.html#l00350">MonsterGroupManager::isValidMonsterGroup()</a>, <a class="el" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>, <a class="el" href="magic_8cpp_source.html#l01710">spell::list_targeted_monster_names()</a>, <a class="el" href="character_8h_source.html#l02485">Character::magic</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4adcd89267470921c316111b454af6a02c">mongroup_id</a>, <a class="el" href="magic_8cpp_source.html#l00260">moves_to_string()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca">mtype_id</a>, <a class="el" href="mutation__data_8cpp_source.html#l00579">mutation_branch::name()</a>, <a class="el" href="item_8cpp_source.html#l14557">item::nname()</a>, <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a334c4a4c42fdb79d7ebc3e73b517e6f8">none</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba54bcf9b291726b4cf8343f61681a5cfd">PERMANENT</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba82397545cee465e4bda1cb70ef78c0f0">PERMANENT_ALL_LEVELS</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba315fc579dd9a280bceb7e5845c5cc675">POLYMORPH_GROUP</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba6833d7b952ec22ca6fef0a01ac2e4d3a">PSIONIC</a>, <a class="el" href="magic_8cpp_source.html#l00905">spell::range()</a>, <a class="el" href="magic_8cpp_source.html#l01312">spell::shape()</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba0169f99da4a426e9b5b04c43733d8ec8">SPAWN_GROUP</a>, <a class="el" href="magic_8cpp_source.html#l00667">spell::spell_class()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="calendar_8cpp_source.html#l00546">to_string()</a>, <a class="el" href="magic_8cpp.html#ad4dc12b16a8db4bc3a0debd31fa0ca5d">trait_NONE</a>, <a class="el" href="catacharset_8cpp_source.html#l00104">utf8_width()</a>, and <a class="el" href="magic_8cpp_source.html#l01317">spell::xp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic_8cpp_source.html#l02341">refresh()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ab2a41fc85f301e3e1c969e0890b25383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2a41fc85f301e3e1c969e0890b25383">&#9670;&nbsp;</a></span>casting_ignore</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool spellcasting_callback::casting_ignore</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic_8cpp_source.html#l02304">2304</a> of file <a class="el" href="magic_8cpp_source.html">magic.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic_8cpp_source.html#l02309">key()</a>, and <a class="el" href="magic_8cpp_source.html#l02341">refresh()</a>.</p>

</div>
</div>
<a id="a445a77c1dd83724de3d0cbd08f577a35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a445a77c1dd83724de3d0cbd08f577a35">&#9670;&nbsp;</a></span>info_txt</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; spellcasting_callback::info_txt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic_8cpp_source.html#l02297">2297</a> of file <a class="el" href="magic_8cpp_source.html">magic.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic_8cpp_source.html#l02667">draw_spell_info()</a>, <a class="el" href="magic_8cpp_source.html#l02341">refresh()</a>, and <a class="el" href="magic_8cpp_source.html#l02444">spell_info_text()</a>.</p>

</div>
</div>
<a id="a2b0ef3985557056677d093d99d89ebcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b0ef3985557056677d093d99d89ebcf">&#9670;&nbsp;</a></span>known_spells</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classspell.html">spell</a> *&gt; spellcasting_callback::known_spells</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic_8cpp_source.html#l02298">2298</a> of file <a class="el" href="magic_8cpp_source.html">magic.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic_8cpp_source.html#l02309">key()</a>, and <a class="el" href="magic_8cpp_source.html#l02341">refresh()</a>.</p>

</div>
</div>
<a id="a177045736de8ee772cb9430105db4a4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a177045736de8ee772cb9430105db4a4d">&#9670;&nbsp;</a></span>reserved_invlets</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::set&lt;int&gt; spellcasting_callback::reserved_invlets { '<a class="el" href="activity__handlers_8cpp.html#a1ce44dfd3ebadb0a9d8bca1a5e991951">I</a>', '=', '*' }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic_8cpp_source.html#l02303">2303</a> of file <a class="el" href="magic_8cpp_source.html">magic.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic_8cpp_source.html#l02309">key()</a>, and <a class="el" href="magic_8cpp_source.html#l02737">known_magic::select_spell()</a>.</p>

</div>
</div>
<a id="afb7af550258fe026bbcdfebff3d4c00d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb7af550258fe026bbcdfebff3d4c00d">&#9670;&nbsp;</a></span>scroll_pos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int spellcasting_callback::scroll_pos = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic_8cpp_source.html#l02296">2296</a> of file <a class="el" href="magic_8cpp_source.html">magic.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic_8cpp_source.html#l02667">draw_spell_info()</a>, <a class="el" href="magic_8cpp_source.html#l02309">key()</a>, and <a class="el" href="magic_8cpp_source.html#l02341">refresh()</a>.</p>

</div>
</div>
<a id="ad3d9c839b2b4c00656c2cbda0e25eb7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3d9c839b2b4c00656c2cbda0e25eb7a">&#9670;&nbsp;</a></span>selected_sp</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int spellcasting_callback::selected_sp = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic_8cpp_source.html#l02295">2295</a> of file <a class="el" href="magic_8cpp_source.html">magic.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic_8cpp_source.html#l02341">refresh()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="magic_8cpp_source.html">magic.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:44 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
