<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: src/calendar.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">calendar.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="calendar_8h_source.html">calendar.h</a>&quot;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;array&gt;</code><br />
<code>#include &lt;cmath&gt;</code><br />
<code>#include &lt;cstdlib&gt;</code><br />
<code>#include &lt;limits&gt;</code><br />
<code>#include &lt;optional&gt;</code><br />
<code>#include &lt;ostream&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;tuple&gt;</code><br />
<code>#include &quot;<a class="el" href="debug_8h_source.html">debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="display_8h_source.html">display.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="line_8h_source.html">line.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="options_8h_source.html">options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rng_8h_source.html">rng.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="string__formatter_8h_source.html">string_formatter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="translations_8h_source.html">translations.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="units_8h_source.html">units.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="units__utility_8h_source.html">units_utility.h</a>&quot;</code><br />
</div>
<p><a href="calendar_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceio"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceio.html">io</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a18db382f9462474fe6c1caae45cec587"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a18db382f9462474fe6c1caae45cec587">default_daylight_level</a> ()</td></tr>
<tr class="memdesc:a18db382f9462474fe6c1caae45cec587"><td class="mdescLeft">&#160;</td><td class="mdescRight">How much light is provided in full daylight.  <a href="calendar_8cpp.html#a18db382f9462474fe6c1caae45cec587">More...</a><br /></td></tr>
<tr class="separator:a18db382f9462474fe6c1caae45cec587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79cdf1cca1806e313ad51075023c2ff3"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a79cdf1cca1806e313ad51075023c2ff3">max_sun_irradiance</a> ()</td></tr>
<tr class="separator:a79cdf1cca1806e313ad51075023c2ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc4f3940cfa0db525b104c8c206c60f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#afc4f3940cfa0db525b104c8c206c60f5">lunar_month</a> ()</td></tr>
<tr class="memdesc:afc4f3940cfa0db525b104c8c206c60f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the default duration of a lunar month (duration between syzygies)  <a href="calendar_8cpp.html#afc4f3940cfa0db525b104c8c206c60f5">More...</a><br /></td></tr>
<tr class="separator:afc4f3940cfa0db525b104c8c206c60f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbb7185949df00016899f7379e482264"><td class="memItemLeft" align="right" valign="top">template&lt;&gt; </td></tr>
<tr class="memitem:afbb7185949df00016899f7379e482264"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceio.html#afbb7185949df00016899f7379e482264">io::enum_to_string&lt; moon_phase &gt;</a> (<a class="el" href="calendar_8h.html#a108488c56b99a99f407bda5389fd85ce">moon_phase</a> phase_num)</td></tr>
<tr class="separator:afbb7185949df00016899f7379e482264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25bcf81adf8ef730caf71967813f344f"><td class="memItemLeft" align="right" valign="top">template&lt;&gt; </td></tr>
<tr class="memitem:a25bcf81adf8ef730caf71967813f344f"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceio.html#a25bcf81adf8ef730caf71967813f344f">io::enum_to_string&lt; time_accuracy &gt;</a> (<a class="el" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9">time_accuracy</a> acc)</td></tr>
<tr class="separator:a25bcf81adf8ef730caf71967813f344f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae15341d001c737a325a8d3805ffa898d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="calendar_8h.html#a108488c56b99a99f407bda5389fd85ce">moon_phase</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#ae15341d001c737a325a8d3805ffa898d">get_moon_phase</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="memdesc:ae15341d001c737a325a8d3805ffa898d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current phase of the moon.  <a href="calendar_8cpp.html#ae15341d001c737a325a8d3805ffa898d">More...</a><br /></td></tr>
<tr class="separator:ae15341d001c737a325a8d3805ffa898d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfa237871595205af606af586bc1b755"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="classtime__duration.html">time_duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#abfa237871595205af606af586bc1b755">angle_to_time</a> (const <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> &amp;<a class="el" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>)</td></tr>
<tr class="separator:abfa237871595205af606af586bc1b755"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf3e812805a5faca2b9d467e4c2ca9b0"><td class="memItemLeft" align="right" valign="top">static std::pair&lt; <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a>, <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#adf3e812805a5faca2b9d467e4c2ca9b0">sun_ra_declination</a> (<a class="el" href="structseason__effective__time.html">season_effective_time</a> t, <a class="el" href="classtime__duration.html">time_duration</a> timezone)</td></tr>
<tr class="separator:adf3e812805a5faca2b9d467e4c2ca9b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f8c191e126bb0afe07e8d89662ba0c5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a6f8c191e126bb0afe07e8d89662ba0c5">sidereal_time_at</a> (<a class="el" href="structseason__effective__time.html">season_effective_time</a> t, <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> longitude, <a class="el" href="classtime__duration.html">time_duration</a> timezone)</td></tr>
<tr class="separator:a6f8c191e126bb0afe07e8d89662ba0c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a232044aa52e8a97dd23f5ac6dcaa8521"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a>, <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a232044aa52e8a97dd23f5ac6dcaa8521">sun_azimuth_altitude</a> (<a class="el" href="classtime__point.html">time_point</a> ti)</td></tr>
<tr class="separator:a232044aa52e8a97dd23f5ac6dcaa8521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64bad31d19e480fb8c038f95d2ffc325"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a64bad31d19e480fb8c038f95d2ffc325">sun_altitude</a> (<a class="el" href="classtime__point.html">time_point</a> t)</td></tr>
<tr class="separator:a64bad31d19e480fb8c038f95d2ffc325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7b01c0ab75cfa0c80fc756af5e97906"><td class="memItemLeft" align="right" valign="top"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="structrl__vec2d.html">rl_vec2d</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#ad7b01c0ab75cfa0c80fc756af5e97906">sunlight_angle</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;t)</td></tr>
<tr class="memdesc:ad7b01c0ab75cfa0c80fc756af5e97906"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the offset by which a ray of sunlight would move when shifting down one z-level, or nullopt if the sun is below the horizon.  <a href="calendar_8cpp.html#ad7b01c0ab75cfa0c80fc756af5e97906">More...</a><br /></td></tr>
<tr class="separator:ad7b01c0ab75cfa0c80fc756af5e97906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa670f7ad34e1694149d8529c94e60b66"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#aa670f7ad34e1694149d8529c94e60b66">solar_noon_near</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;t)</td></tr>
<tr class="separator:aa670f7ad34e1694149d8529c94e60b66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f69d61c5560b7d7bcb7bfe121e7a4d5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a3f69d61c5560b7d7bcb7bfe121e7a4d5">offset_to_sun_altitude</a> (const <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> &amp;altitude, const <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> &amp;longitude, const <a class="el" href="structseason__effective__time.html">season_effective_time</a> &amp;approx_time, const bool evening)</td></tr>
<tr class="separator:a3f69d61c5560b7d7bcb7bfe121e7a4d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f92d6a32c1425d16cad111f5ab02b48"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a0f92d6a32c1425d16cad111f5ab02b48">sun_at_altitude</a> (const <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> &amp;altitude, const <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> &amp;longitude, const <a class="el" href="classtime__point.html">time_point</a> &amp;t, const bool evening)</td></tr>
<tr class="separator:a0f92d6a32c1425d16cad111f5ab02b48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b66a9bcaa19d642c0b89e9e07a5bcf8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a3b66a9bcaa19d642c0b89e9e07a5bcf8">sunrise</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="memdesc:a3b66a9bcaa19d642c0b89e9e07a5bcf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current sunrise time based on the time of year.  <a href="calendar_8cpp.html#a3b66a9bcaa19d642c0b89e9e07a5bcf8">More...</a><br /></td></tr>
<tr class="separator:a3b66a9bcaa19d642c0b89e9e07a5bcf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4930c6084e3379ceb56259d33dee133e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a4930c6084e3379ceb56259d33dee133e">sunset</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="memdesc:a4930c6084e3379ceb56259d33dee133e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current sunset time based on the time of year.  <a href="calendar_8cpp.html#a4930c6084e3379ceb56259d33dee133e">More...</a><br /></td></tr>
<tr class="separator:a4930c6084e3379ceb56259d33dee133e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a6003467bed851ed16dff1c59f44d22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a1a6003467bed851ed16dff1c59f44d22">night_time</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="memdesc:a1a6003467bed851ed16dff1c59f44d22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the time it gets dark based on sunset.  <a href="calendar_8cpp.html#a1a6003467bed851ed16dff1c59f44d22">More...</a><br /></td></tr>
<tr class="separator:a1a6003467bed851ed16dff1c59f44d22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04e147268481a0e152b633ff1321907c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a04e147268481a0e152b633ff1321907c">daylight_time</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="memdesc:a04e147268481a0e152b633ff1321907c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the time it gets light based on sunrise.  <a href="calendar_8cpp.html#a04e147268481a0e152b633ff1321907c">More...</a><br /></td></tr>
<tr class="separator:a04e147268481a0e152b633ff1321907c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dc62da3872eda7301d94c40e664e18d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a1dc62da3872eda7301d94c40e664e18d">noon</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="memdesc:a1dc62da3872eda7301d94c40e664e18d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the time when the clock displays 12:00.  <a href="calendar_8cpp.html#a1dc62da3872eda7301d94c40e664e18d">More...</a><br /></td></tr>
<tr class="separator:a1dc62da3872eda7301d94c40e664e18d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07a1c09320c43c4d206905e06c2c42a8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a07a1c09320c43c4d206905e06c2c42a8">is_night</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="memdesc:a07a1c09320c43c4d206905e06c2c42a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if it's currently night time - after dusk and before dawn.  <a href="calendar_8cpp.html#a07a1c09320c43c4d206905e06c2c42a8">More...</a><br /></td></tr>
<tr class="separator:a07a1c09320c43c4d206905e06c2c42a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f243cd9207ab39fad97d6b638b76757"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a1f243cd9207ab39fad97d6b638b76757">is_day</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="memdesc:a1f243cd9207ab39fad97d6b638b76757"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if it's currently day time - after dawn and before dusk.  <a href="calendar_8cpp.html#a1f243cd9207ab39fad97d6b638b76757">More...</a><br /></td></tr>
<tr class="separator:a1f243cd9207ab39fad97d6b638b76757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51c8011274d583b6f021144c4052aee9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a51c8011274d583b6f021144c4052aee9">is_twilight</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="separator:a51c8011274d583b6f021144c4052aee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac200b295554f05d816686a1488c685db"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#ac200b295554f05d816686a1488c685db">is_dusk</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="memdesc:ac200b295554f05d816686a1488c685db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if it's currently dusk - between sunset and and twilight_duration after sunset.  <a href="calendar_8cpp.html#ac200b295554f05d816686a1488c685db">More...</a><br /></td></tr>
<tr class="separator:ac200b295554f05d816686a1488c685db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d0328da4c2fb146307396324bb85fa1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a1d0328da4c2fb146307396324bb85fa1">is_dawn</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="memdesc:a1d0328da4c2fb146307396324bb85fa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if it's currently dawn - between sunrise and twilight_duration after sunrise.  <a href="calendar_8cpp.html#a1d0328da4c2fb146307396324bb85fa1">More...</a><br /></td></tr>
<tr class="separator:a1d0328da4c2fb146307396324bb85fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34e7d0f6b2c4f857f7893fa8f4dc1ed1"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a34e7d0f6b2c4f857f7893fa8f4dc1ed1">moon_light_at</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="separator:a34e7d0f6b2c4f857f7893fa8f4dc1ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a515637eec30a1a2cc7357a1e08ddae27"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a515637eec30a1a2cc7357a1e08ddae27">sun_light_at</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="memdesc:a515637eec30a1a2cc7357a1e08ddae27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current sunlight.  <a href="calendar_8cpp.html#a515637eec30a1a2cc7357a1e08ddae27">More...</a><br /></td></tr>
<tr class="separator:a515637eec30a1a2cc7357a1e08ddae27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaad5c602d279e8e1a5830ca4b698acc6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#aaad5c602d279e8e1a5830ca4b698acc6">sun_irradiance</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="separator:aaad5c602d279e8e1a5830ca4b698acc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9111e23c691fddd93ee9e04e17d8851a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a9111e23c691fddd93ee9e04e17d8851a">sun_moon_light_at</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="memdesc:a9111e23c691fddd93ee9e04e17d8851a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current sunlight plus moonlight level.  <a href="calendar_8cpp.html#a9111e23c691fddd93ee9e04e17d8851a">More...</a><br /></td></tr>
<tr class="separator:a9111e23c691fddd93ee9e04e17d8851a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a177e611bad61346d0061d4afc664024e"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a177e611bad61346d0061d4afc664024e">sun_moon_light_at_noon_near</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="memdesc:a177e611bad61346d0061d4afc664024e"><td class="mdescLeft">&#160;</td><td class="mdescRight">How much light is provided at the solar noon nearest to given time.  <a href="calendar_8cpp.html#a177e611bad61346d0061d4afc664024e">More...</a><br /></td></tr>
<tr class="separator:a177e611bad61346d0061d4afc664024e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a595c4d560d7152dceb681820e7e00882"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a595c4d560d7152dceb681820e7e00882">to_string_clipped</a> (const int num, const <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2">clipped_unit</a> type, const <a class="el" href="calendar_8h.html#ab6e1f01689c2dec473157375188392af">clipped_align</a> align)</td></tr>
<tr class="separator:a595c4d560d7152dceb681820e7e00882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac9b8b192cda93a6b30e3fa016029dd"><td class="memItemLeft" align="right" valign="top">std::pair&lt; int, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2">clipped_unit</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#adac9b8b192cda93a6b30e3fa016029dd">clipped_time</a> (const <a class="el" href="classtime__duration.html">time_duration</a> &amp;d)</td></tr>
<tr class="memdesc:adac9b8b192cda93a6b30e3fa016029dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a value representing the passed in duration truncated to an appropriate unit along with the unit in question.  <a href="calendar_8cpp.html#adac9b8b192cda93a6b30e3fa016029dd">More...</a><br /></td></tr>
<tr class="separator:adac9b8b192cda93a6b30e3fa016029dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dbbb36f2116679538e2d2898a0380de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a6dbbb36f2116679538e2d2898a0380de">to_string_clipped</a> (const <a class="el" href="classtime__duration.html">time_duration</a> &amp;d, const <a class="el" href="calendar_8h.html#ab6e1f01689c2dec473157375188392af">clipped_align</a> align)</td></tr>
<tr class="memdesc:a6dbbb36f2116679538e2d2898a0380de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string showing a duration as whole number of appropriate units, e.g.  <a href="calendar_8cpp.html#a6dbbb36f2116679538e2d2898a0380de">More...</a><br /></td></tr>
<tr class="separator:a6dbbb36f2116679538e2d2898a0380de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf1cdb8f4662bf96c8d762e9229df8d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a> (const <a class="el" href="classtime__duration.html">time_duration</a> &amp;d, const bool compact)</td></tr>
<tr class="memdesc:abf1cdb8f4662bf96c8d762e9229df8d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string showing a duration.  <a href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">More...</a><br /></td></tr>
<tr class="separator:abf1cdb8f4662bf96c8d762e9229df8d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cbd6a4aa555daec83ee03cc90dd7715"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a3cbd6a4aa555daec83ee03cc90dd7715">to_string_approx</a> (const <a class="el" href="classtime__duration.html">time_duration</a> &amp;<a class="el" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, const bool verbose)</td></tr>
<tr class="memdesc:a3cbd6a4aa555daec83ee03cc90dd7715"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns approximate duration.  <a href="calendar_8cpp.html#a3cbd6a4aa555daec83ee03cc90dd7715">More...</a><br /></td></tr>
<tr class="separator:a3cbd6a4aa555daec83ee03cc90dd7715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a605b73d77fee1cb3c3cc3b32c45fad47"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a605b73d77fee1cb3c3cc3b32c45fad47">to_string_writable</a> (const <a class="el" href="classtime__duration.html">time_duration</a> &amp;<a class="el" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>)</td></tr>
<tr class="memdesc:a605b73d77fee1cb3c3cc3b32c45fad47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string that is writable to JSON that is also readable from JSON.  <a href="calendar_8cpp.html#a605b73d77fee1cb3c3cc3b32c45fad47">More...</a><br /></td></tr>
<tr class="separator:a605b73d77fee1cb3c3cc3b32c45fad47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a307340221160e8ffe2af4ddfe5e2a56e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a307340221160e8ffe2af4ddfe5e2a56e">to_string_time_of_day</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="separator:a307340221160e8ffe2af4ddfe5e2a56e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4913a41335973f0a82358272fe601eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="calendar_8h.html#aca1a965ea25b5c617810af73ed5345c1">weekdays</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#ac4913a41335973f0a82358272fe601eb">day_of_week</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="separator:ac4913a41335973f0a82358272fe601eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4249b6f1d0842211bfe53e5f9e206a10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a> (<a class="el" href="classtime__duration.html">time_duration</a> lo, <a class="el" href="classtime__duration.html">time_duration</a> hi)</td></tr>
<tr class="separator:a4249b6f1d0842211bfe53e5f9e206a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a359120c15f92d54a49fec9de7bcb571f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a> (const <a class="el" href="classtime__duration.html">time_duration</a> &amp;<a class="el" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>, const <a class="el" href="classtime__duration.html">time_duration</a> &amp;<a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>)</td></tr>
<tr class="separator:a359120c15f92d54a49fec9de7bcb571f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81656706da6c7486137ad8578c0f523e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1b">season_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a81656706da6c7486137ad8578c0f523e">season_of_year</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="separator:a81656706da6c7486137ad8578c0f523e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2ab0c8a0e548cc45b1a3c21042b8bbc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#ae2ab0c8a0e548cc45b1a3c21042b8bbc">to_string</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;p)</td></tr>
<tr class="separator:ae2ab0c8a0e548cc45b1a3c21042b8bbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a713d07077e40d050ba2d4592d23c59b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a713d07077e40d050ba2d4592d23c59b0">get_diary_time_since_str</a> (const <a class="el" href="classtime__duration.html">time_duration</a> &amp;turn_diff, <a class="el" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9">time_accuracy</a> acc)</td></tr>
<tr class="memdesc:a713d07077e40d050ba2d4592d23c59b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time approximation based on the player's timekeeping capability, formatted for diary pages.  <a href="calendar_8cpp.html#a713d07077e40d050ba2d4592d23c59b0">More...</a><br /></td></tr>
<tr class="separator:a713d07077e40d050ba2d4592d23c59b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa46a241af36daedd3bb135ce1adf9411"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#aa46a241af36daedd3bb135ce1adf9411">get_diary_time_str</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;turn, <a class="el" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9">time_accuracy</a> acc)</td></tr>
<tr class="memdesc:aa46a241af36daedd3bb135ce1adf9411"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time approximation based on the player's timekeeping capability, formatted for diary pages.  <a href="calendar_8cpp.html#aa46a241af36daedd3bb135ce1adf9411">More...</a><br /></td></tr>
<tr class="separator:aa46a241af36daedd3bb135ce1adf9411"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aee865fadbf45b5754185ade4844f9a9c"><td class="memItemLeft" align="right" valign="top">static constexpr float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#aee865fadbf45b5754185ade4844f9a9c">moonlight_per_quarter</a> = 1.5f</td></tr>
<tr class="memdesc:aee865fadbf45b5754185ade4844f9a9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">How much light moon provides per lit-up quarter (Full-moon light is four times this value)  <a href="calendar_8cpp.html#aee865fadbf45b5754185ade4844f9a9c">More...</a><br /></td></tr>
<tr class="separator:aee865fadbf45b5754185ade4844f9a9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e754528d96021f50ff911998fc5d0b2"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a7e754528d96021f50ff911998fc5d0b2">is_eternal_season</a> = false</td></tr>
<tr class="separator:a7e754528d96021f50ff911998fc5d0b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12cc9ff28e9e26ccb38afc39d54cad11"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a12cc9ff28e9e26ccb38afc39d54cad11">is_eternal_night</a> = false</td></tr>
<tr class="separator:a12cc9ff28e9e26ccb38afc39d54cad11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9656640a4b7c2d76f994dca7b2088dac"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a9656640a4b7c2d76f994dca7b2088dac">is_eternal_day</a> = false</td></tr>
<tr class="separator:a9656640a4b7c2d76f994dca7b2088dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae89780c7957fdf646b9e3c7f8d8c6cfe"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#ae89780c7957fdf646b9e3c7f8d8c6cfe">cur_season_length</a> = 1</td></tr>
<tr class="separator:ae89780c7957fdf646b9e3c7f8d8c6cfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fe65b9e39049b6d361709241a23d1b6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structlat__long.html">lat_long</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a> = { 42.36_degrees, -71.06_degrees }</td></tr>
<tr class="separator:a6fe65b9e39049b6d361709241a23d1b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a7965fd6cde99ef37693706a23f2c20"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a2a7965fd6cde99ef37693706a23f2c20">astronomical_dawn</a> = -18_degrees</td></tr>
<tr class="separator:a2a7965fd6cde99ef37693706a23f2c20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacbc03bcc426de1adb56f9a76d5b8861"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#aacbc03bcc426de1adb56f9a76d5b8861">nautical_dawn</a> = -12_degrees</td></tr>
<tr class="separator:aacbc03bcc426de1adb56f9a76d5b8861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a686f3b05fb6c4bbaa23c280f3e796e31"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a686f3b05fb6c4bbaa23c280f3e796e31">civil_dawn</a> = -6_degrees</td></tr>
<tr class="separator:a686f3b05fb6c4bbaa23c280f3e796e31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90fedb893f24c9c3c929d253bd1398ca"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a90fedb893f24c9c3c929d253bd1398ca">sunrise_angle</a> = -1_degrees</td></tr>
<tr class="separator:a90fedb893f24c9c3c929d253bd1398ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a336b3072d330c5bb73d809a4ba1f3c9d"><td class="memItemLeft" align="right" valign="top">static constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a336b3072d330c5bb73d809a4ba1f3c9d">real_world_season_length</a> = 91</td></tr>
<tr class="separator:a336b3072d330c5bb73d809a4ba1f3c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41c70b303ede8b309874e15a1a547ee5"><td class="memItemLeft" align="right" valign="top">static constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="calendar_8cpp.html#a41c70b303ede8b309874e15a1a547ee5">default_season_length</a> = <a class="el" href="calendar_8cpp.html#a336b3072d330c5bb73d809a4ba1f3c9d">real_world_season_length</a></td></tr>
<tr class="separator:a41c70b303ede8b309874e15a1a547ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="abfa237871595205af606af586bc1b755"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfa237871595205af606af586bc1b755">&#9670;&nbsp;</a></span>angle_to_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static constexpr <a class="el" href="classtime__duration.html">time_duration</a> angle_to_time </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> &amp;&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00110">110</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;{</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> / 15.0_degrees * 1_hours;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="ttc" id="amagic_8cpp_html_a188caae18b60b66f9f44214c7e28ac1f"><div class="ttname"><a href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a></div><div class="ttdeci">static constexpr double a</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01566">magic.cpp:1566</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01566">a</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00269">offset_to_sun_altitude()</a>, <a class="el" href="calendar_8cpp_source.html#l00295">sun_at_altitude()</a>, and <a class="el" href="calendar_8cpp_source.html#l00188">sun_azimuth_altitude()</a>.</p>

</div>
</div>
<a id="adac9b8b192cda93a6b30e3fa016029dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adac9b8b192cda93a6b30e3fa016029dd">&#9670;&nbsp;</a></span>clipped_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt;int, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2">clipped_unit</a>&gt; clipped_time </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__duration.html">time_duration</a> &amp;&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a value representing the passed in duration truncated to an appropriate unit along with the unit in question. </p>
<p>"10 days" or "1 minute". The chosen unit will be the smallest unit, that is at least as much as the given duration. E.g. an input of 60 minutes will return "1 hour", an input of 59 minutes will return "59 minutes". </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00503">503</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;{</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">if</span>( d &gt;= <a class="code" href="namespacecalendar.html#a8805341f2154c0e7a8b656e77e1a4143">calendar::INDEFINITELY_LONG_DURATION</a> ) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">return</span> { 0, <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2ad7af994f1f1ef8b5e3beb9f7fb139f57">clipped_unit::forever</a> };</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">if</span>( d &lt; 1_minutes ) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> sec = to_seconds&lt;int&gt;( d );</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">return</span> { sec, <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2aa9f0e61a137d86aa9db53465e0801612">clipped_unit::second</a> };</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( d &lt; 1_hours ) {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">min</a> = to_minutes&lt;int&gt;( d );</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keywordflow">return</span> { <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">min</a>, <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a0a7d55be9d12a369a6a8da0fb517fba4">clipped_unit::minute</a> };</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( d &lt; 1_days ) {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a896c55cc5e46fab38ce9f51ebf7bfcd3">hour</a> = to_hours&lt;int&gt;( d );</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="keywordflow">return</span> { <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a896c55cc5e46fab38ce9f51ebf7bfcd3">hour</a>, <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a896c55cc5e46fab38ce9f51ebf7bfcd3">clipped_unit::hour</a> };</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( d &lt; 7_days ) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">day</a> = to_days&lt;int&gt;( d );</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">return</span> { <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">day</a>, <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">clipped_unit::day</a> };</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( d &lt; <a class="code" href="namespacecalendar.html#aa61c940cc539463295afa98e7bf7d22b">calendar::season_length</a>() || <a class="code" href="namespacecalendar.html#a18e011596e47842fc4d1ab7f84cbb7a1">calendar::eternal_season</a>() ) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="comment">// eternal seasons means one season is indistinguishable from the next,</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="comment">// therefore no way to count them</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a172a8327fcd3685ab3c0f740d031da09">week</a> = to_weeks&lt;int&gt;( d );</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="keywordflow">return</span> { <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a172a8327fcd3685ab3c0f740d031da09">week</a>, <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a172a8327fcd3685ab3c0f740d031da09">clipped_unit::week</a> };</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( d &lt; <a class="code" href="namespacecalendar.html#a151f3184ac6460605cc4931707b08d8f">calendar::year_length</a>() &amp;&amp; !<a class="code" href="namespacecalendar.html#a18e011596e47842fc4d1ab7f84cbb7a1">calendar::eternal_season</a>() ) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="comment">// TODO: consider a to_season function, but season length is variable, so</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="comment">// this might be misleading</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">season</a> = to_turns&lt;int&gt;( d ) / to_turns&lt;int&gt;( <a class="code" href="namespacecalendar.html#aa61c940cc539463295afa98e7bf7d22b">calendar::season_length</a>() );</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">return</span> { <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">season</a>, <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">clipped_unit::season</a> };</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="comment">// TODO: consider a to_year function, but year length is variable, so</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="comment">// this might be misleading</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a84cdc76cabf41bd7c961f6ab12f117d8">year</a> = to_turns&lt;int&gt;( d ) / to_turns&lt;int&gt;( <a class="code" href="namespacecalendar.html#a151f3184ac6460605cc4931707b08d8f">calendar::year_length</a>() );</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">return</span> { <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a84cdc76cabf41bd7c961f6ab12f117d8">year</a>, <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a84cdc76cabf41bd7c961f6ab12f117d8">clipped_unit::year</a> };</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div>
<div class="ttc" id="acalendar_8h_html_a30acaac03fb0c3f8f4e2792f24a187c2a0a7d55be9d12a369a6a8da0fb517fba4"><div class="ttname"><a href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a0a7d55be9d12a369a6a8da0fb517fba4">clipped_unit::minute</a></div><div class="ttdeci">@ minute</div></div>
<div class="ttc" id="acalendar_8h_html_a30acaac03fb0c3f8f4e2792f24a187c2a172a8327fcd3685ab3c0f740d031da09"><div class="ttname"><a href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a172a8327fcd3685ab3c0f740d031da09">clipped_unit::week</a></div><div class="ttdeci">@ week</div></div>
<div class="ttc" id="acalendar_8h_html_a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8"><div class="ttname"><a href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">clipped_unit::season</a></div><div class="ttdeci">@ season</div></div>
<div class="ttc" id="acalendar_8h_html_a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8"><div class="ttname"><a href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">clipped_unit::day</a></div><div class="ttdeci">@ day</div></div>
<div class="ttc" id="acalendar_8h_html_a30acaac03fb0c3f8f4e2792f24a187c2a84cdc76cabf41bd7c961f6ab12f117d8"><div class="ttname"><a href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a84cdc76cabf41bd7c961f6ab12f117d8">clipped_unit::year</a></div><div class="ttdeci">@ year</div></div>
<div class="ttc" id="acalendar_8h_html_a30acaac03fb0c3f8f4e2792f24a187c2a896c55cc5e46fab38ce9f51ebf7bfcd3"><div class="ttname"><a href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a896c55cc5e46fab38ce9f51ebf7bfcd3">clipped_unit::hour</a></div><div class="ttdeci">@ hour</div></div>
<div class="ttc" id="acalendar_8h_html_a30acaac03fb0c3f8f4e2792f24a187c2aa9f0e61a137d86aa9db53465e0801612"><div class="ttname"><a href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2aa9f0e61a137d86aa9db53465e0801612">clipped_unit::second</a></div><div class="ttdeci">@ second</div></div>
<div class="ttc" id="acalendar_8h_html_a30acaac03fb0c3f8f4e2792f24a187c2ad7af994f1f1ef8b5e3beb9f7fb139f57"><div class="ttname"><a href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2ad7af994f1f1ef8b5e3beb9f7fb139f57">clipped_unit::forever</a></div><div class="ttdeci">@ forever</div></div>
<div class="ttc" id="amath__parser__func_8h_html_a993dede52d23a9a3d15b01a342391ef4"><div class="ttname"><a href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">min</a></div><div class="ttdeci">double min(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00043">math_parser_func.h:43</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a151f3184ac6460605cc4931707b08d8f"><div class="ttname"><a href="namespacecalendar.html#a151f3184ac6460605cc4931707b08d8f">calendar::year_length</a></div><div class="ttdeci">time_duration year_length()</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00710">calendar.cpp:710</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a18e011596e47842fc4d1ab7f84cbb7a1"><div class="ttname"><a href="namespacecalendar.html#a18e011596e47842fc4d1ab7f84cbb7a1">calendar::eternal_season</a></div><div class="ttdeci">bool eternal_season()</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00695">calendar.cpp:695</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a8805341f2154c0e7a8b656e77e1a4143"><div class="ttname"><a href="namespacecalendar.html#a8805341f2154c0e7a8b656e77e1a4143">calendar::INDEFINITELY_LONG_DURATION</a></div><div class="ttdeci">const time_duration INDEFINITELY_LONG_DURATION</div><div class="ttdoc">The expected duration of the cataclysm.</div></div>
<div class="ttc" id="anamespacecalendar_html_aa61c940cc539463295afa98e7bf7d22b"><div class="ttname"><a href="namespacecalendar.html#aa61c940cc539463295afa98e7bf7d22b">calendar::season_length</a></div><div class="ttdeci">time_duration season_length()</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00715">calendar.cpp:715</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">day</a>, <a class="el" href="calendar_8cpp_source.html#l00695">calendar::eternal_season()</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2ad7af994f1f1ef8b5e3beb9f7fb139f57">forever</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a896c55cc5e46fab38ce9f51ebf7bfcd3">hour</a>, <a class="el" href="namespacecalendar.html#a8805341f2154c0e7a8b656e77e1a4143">calendar::INDEFINITELY_LONG_DURATION</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a0a7d55be9d12a369a6a8da0fb517fba4">minute</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">season</a>, <a class="el" href="calendar_8cpp_source.html#l00715">calendar::season_length()</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2aa9f0e61a137d86aa9db53465e0801612">second</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a172a8327fcd3685ab3c0f740d031da09">week</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a84cdc76cabf41bd7c961f6ab12f117d8">year</a>, and <a class="el" href="calendar_8cpp_source.html#l00710">calendar::year_length()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01505">anonymous_namespace{item.cpp}::_stacks_rot()</a>, and <a class="el" href="calendar_8cpp_source.html#l00539">to_string_clipped()</a>.</p>

</div>
</div>
<a id="ac4913a41335973f0a82358272fe601eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4913a41335973f0a82358272fe601eb">&#9670;&nbsp;</a></span>day_of_week()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="calendar_8h.html#aca1a965ea25b5c617810af73ed5345c1">weekdays</a> day_of_week </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00666">666</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;{</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">/* Design rationale:</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">     * &lt;kevingranade&gt; here&#39;s a question</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">     * &lt;kevingranade&gt; what day of the week is day 0?</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment">     * &lt;wito&gt; Sunday</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">     * &lt;GlyphGryph&gt; Why does it matter?</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment">     * &lt;GlyphGryph&gt; For like where people are and stuff?</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment">     * &lt;wito&gt; 7 is also Sunday</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment">     * &lt;kevingranade&gt; NOAA weather forecasts include day of week</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment">     * &lt;GlyphGryph&gt; Also by day0 do you mean the day people start day 0</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment">     * &lt;GlyphGryph&gt; Or actual day 0</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment">     * &lt;kevingranade&gt; good point, turn 0</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment">     * &lt;GlyphGryph&gt; So day 5</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment">     * &lt;wito&gt; Oh, I thought we were talking about week day numbering in general.</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">     * &lt;wito&gt; Day 5 is a thursday, I think.</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">     * &lt;wito&gt; Nah, Day 5 feels like a thursday. :P</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">     * &lt;wito&gt; Which would put the apocalypse on a saturday?</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">     * &lt;Starfyre&gt; must be a thursday.  I was never able to get the hang of those.</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">     * &lt;ZChris13&gt; wito: seems about right to me</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment">     * &lt;wito&gt; kevingranade: add four for thursday. ;)</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment">     * &lt;kevingranade&gt; sounds like consensus to me</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment">     * &lt;kevingranade&gt; Thursday it is */</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> day_since_cataclysm = to_days&lt;int&gt;( p - <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> );</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="calendar_8h.html#aca1a965ea25b5c617810af73ed5345c1">weekdays</a> start_day = <a class="code" href="calendar_8h.html#aca1a965ea25b5c617810af73ed5345c1a7a61b324afb4dd8b2fb4a38afc34f755">weekdays::THURSDAY</a>;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> result = day_since_cataclysm + <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( start_day );</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="calendar_8h.html#aca1a965ea25b5c617810af73ed5345c1">weekdays</a><span class="keyword">&gt;</span>( result % 7 );</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;}</div>
<div class="ttc" id="acalendar_8h_html_aca1a965ea25b5c617810af73ed5345c1"><div class="ttname"><a href="calendar_8h.html#aca1a965ea25b5c617810af73ed5345c1">weekdays</a></div><div class="ttdeci">weekdays</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00640">calendar.h:640</a></div></div>
<div class="ttc" id="acalendar_8h_html_aca1a965ea25b5c617810af73ed5345c1a7a61b324afb4dd8b2fb4a38afc34f755"><div class="ttname"><a href="calendar_8h.html#aca1a965ea25b5c617810af73ed5345c1a7a61b324afb4dd8b2fb4a38afc34f755">weekdays::THURSDAY</a></div><div class="ttdeci">@ THURSDAY</div></div>
<div class="ttc" id="anamespacecalendar_html_a2830b54b0424fe452c0933f87d6201b3"><div class="ttname"><a href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a></div><div class="ttdeci">constexpr time_point turn_zero</div><div class="ttdoc">Represents time point 0.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00541">calendar.h:541</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8h.html#aca1a965ea25b5c617810af73ed5345c1a7a61b324afb4dd8b2fb4a38afc34f755">THURSDAY</a>, and <a class="el" href="calendar_8h_source.html#l00541">calendar::turn_zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="weather_8cpp_source.html#l00524">weather_forecast()</a>.</p>

</div>
</div>
<a id="a04e147268481a0e152b633ff1321907c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04e147268481a0e152b633ff1321907c">&#9670;&nbsp;</a></span>daylight_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__point.html">time_point</a> daylight_time </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the time it gets light based on sunrise. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00333">333</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;{</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="calendar_8cpp.html#a0f92d6a32c1425d16cad111f5ab02b48">sun_at_altitude</a>( <a class="code" href="calendar_8cpp.html#a686f3b05fb6c4bbaa23c280f3e796e31">civil_dawn</a>, <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>.<a class="code" href="structlat__long.html#ad2637336da703d54a8519763d85c5fb8">longitude</a>, p, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a0f92d6a32c1425d16cad111f5ab02b48"><div class="ttname"><a href="calendar_8cpp.html#a0f92d6a32c1425d16cad111f5ab02b48">sun_at_altitude</a></div><div class="ttdeci">static time_point sun_at_altitude(const units::angle &amp;altitude, const units::angle &amp;longitude, const time_point &amp;t, const bool evening)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00295">calendar.cpp:295</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_a686f3b05fb6c4bbaa23c280f3e796e31"><div class="ttname"><a href="calendar_8cpp.html#a686f3b05fb6c4bbaa23c280f3e796e31">civil_dawn</a></div><div class="ttdeci">static constexpr units::angle civil_dawn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00044">calendar.cpp:44</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_a6fe65b9e39049b6d361709241a23d1b6"><div class="ttname"><a href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a></div><div class="ttdeci">static lat_long location</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00034">calendar.cpp:34</a></div></div>
<div class="ttc" id="astructlat__long_html_ad2637336da703d54a8519763d85c5fb8"><div class="ttname"><a href="structlat__long.html#ad2637336da703d54a8519763d85c5fb8">lat_long::longitude</a></div><div class="ttdeci">units::angle longitude</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8h_source.html#l00049">units_utility.h:49</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00044">civil_dawn</a>, <a class="el" href="calendar_8cpp_source.html#l00034">location</a>, <a class="el" href="units__utility_8h_source.html#l00049">lat_long::longitude</a>, and <a class="el" href="calendar_8cpp_source.html#l00295">sun_at_altitude()</a>.</p>

<p class="reference">Referenced by <a class="el" href="math__parser__diag_8cpp_source.html#l01159">anonymous_namespace{math_parser_diag.cpp}::time_until_eval()</a>, and <a class="el" href="handle__action_8cpp_source.html#l01077">wait()</a>.</p>

</div>
</div>
<a id="a18db382f9462474fe6c1caae45cec587"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18db382f9462474fe6c1caae45cec587">&#9670;&nbsp;</a></span>default_daylight_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float default_daylight_level </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How much light is provided in full daylight. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00047">47</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">return</span> 100.0f;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l04396">game::natural_light_level()</a>, <a class="el" href="monster_8cpp_source.html#l01662">monster::process_triggers()</a>, <a class="el" href="creature_8cpp_source.html#l00492">Creature::sees()</a>, and <a class="el" href="monster_8cpp_source.html#l01285">monster::sight_range()</a>.</p>

</div>
</div>
<a id="a713d07077e40d050ba2d4592d23c59b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a713d07077e40d050ba2d4592d23c59b0">&#9670;&nbsp;</a></span>get_diary_time_since_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> get_diary_time_since_str </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__duration.html">time_duration</a> &amp;&#160;</td>
          <td class="paramname"><em>turn_diff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9">time_accuracy</a>&#160;</td>
          <td class="paramname"><em>acc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Time approximation based on the player's timekeeping capability, formatted for diary pages. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00847">847</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;{</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> days = to_days&lt;int&gt;( turn_diff );</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> hours = to_hours&lt;int&gt;( turn_diff ) % 24;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> minutes = to_minutes&lt;int&gt;( turn_diff ) % 60;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    std::string days_text;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    std::string hours_text;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    std::string minutes_text;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">switch</span>( acc ) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9aba7de5bc6888294e5884b024a4c894f1">time_accuracy::FULL</a>:</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            <span class="keywordflow">if</span>( days &gt; 0 ) {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                days_text = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d day, &quot;</span>, <span class="stringliteral">&quot;%d days, &quot;</span>, days ), days );</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            <span class="keywordflow">if</span>( hours &gt; 0 ) {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                hours_text = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d hour, &quot;</span>, <span class="stringliteral">&quot;%d hours, &quot;</span>, hours ), hours );</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            minutes_text = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d minute&quot;</span>, <span class="stringliteral">&quot;%d minutes&quot;</span>, minutes ), minutes );</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9afba5cdfa4bcb408f641c743519a0fe19">time_accuracy::PARTIAL</a>:</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            <span class="keywordflow">if</span>( days &gt; 0 ) {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                days_text = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d day&quot;</span>, <span class="stringliteral">&quot;%d days&quot;</span>, days ), days );</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( hours &gt; 0 ) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                <span class="comment">//~ Estimate of how much time has passed since the last entry</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                days_text = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Less than a day&quot;</span> );</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                <span class="comment">//~ Estimate of how much time has passed since the last entry</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                days_text = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Not long&quot;</span> );</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            <a class="code" href="debug_8cpp.html#a240782b16593c6bd607c64787c62da0e">DebugLog</a>( <a class="code" href="debug_8h.html#ab658e6d84759440dbf3c890446075395acdde8abdfca282d5529a48366dcfe8fd">DebugLevel::D_WARNING</a>, <a class="code" href="debug_8h.html#afa45cf12d72d4226196a7d03c54ad7d3a1d75ac3d58695ea88f599caa6a352098">DebugClass::D_GAME</a> )</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;Unknown time_accuracy &quot;</span> &lt;&lt; <a class="code" href="namespaceio.html#a25bcf81adf8ef730caf71967813f344f">io::enum_to_string&lt;time_accuracy&gt;</a>( acc );</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <span class="comment">/* fallthrough */</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9a1bfbc8a0cd9ef04d6b0fb780cb47072e">time_accuracy::NUM_TIME_ACCURACY</a>:</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9ab50339a10e1de285ac99d4c3990b8693">time_accuracy::NONE</a>:</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            <span class="comment">//~ Estimate of how much time has passed since the last entry</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            days_text = days &gt; 0 ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;A long while&quot;</span> ) : hours &gt; 0 ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;A while&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;A short while&quot;</span> );</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160; </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    }</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="comment">//~ %1$s is xx days, %2$s is xx hours, %3$s is xx minutes</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s%2$s%3$s since last entry&quot;</span> ), days_text, hours_text, minutes_text );</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;}</div>
<div class="ttc" id="acalendar_8h_html_a2c1cb575663aec51773d232cef1a22e9a1bfbc8a0cd9ef04d6b0fb780cb47072e"><div class="ttname"><a href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9a1bfbc8a0cd9ef04d6b0fb780cb47072e">time_accuracy::NUM_TIME_ACCURACY</a></div><div class="ttdeci">@ NUM_TIME_ACCURACY</div><div class="ttdoc">Unused, only for string conversions.</div></div>
<div class="ttc" id="acalendar_8h_html_a2c1cb575663aec51773d232cef1a22e9ab50339a10e1de285ac99d4c3990b8693"><div class="ttname"><a href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9ab50339a10e1de285ac99d4c3990b8693">time_accuracy::NONE</a></div><div class="ttdeci">@ NONE</div><div class="ttdoc">No accuracy, no idea what time it is.</div></div>
<div class="ttc" id="acalendar_8h_html_a2c1cb575663aec51773d232cef1a22e9aba7de5bc6888294e5884b024a4c894f1"><div class="ttname"><a href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9aba7de5bc6888294e5884b024a4c894f1">time_accuracy::FULL</a></div><div class="ttdeci">@ FULL</div><div class="ttdoc">Full accuracy, using a timekeeping device.</div></div>
<div class="ttc" id="acalendar_8h_html_a2c1cb575663aec51773d232cef1a22e9afba5cdfa4bcb408f641c743519a0fe19"><div class="ttname"><a href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9afba5cdfa4bcb408f641c743519a0fe19">time_accuracy::PARTIAL</a></div><div class="ttdeci">@ PARTIAL</div><div class="ttdoc">Estimated time, can see the sky.</div></div>
<div class="ttc" id="adebug_8cpp_html_a240782b16593c6bd607c64787c62da0e"><div class="ttname"><a href="debug_8cpp.html#a240782b16593c6bd607c64787c62da0e">DebugLog</a></div><div class="ttdeci">std::ostream &amp; DebugLog(DebugLevel lev, DebugClass cl)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8cpp_source.html#l01438">debug.cpp:1438</a></div></div>
<div class="ttc" id="adebug_8h_html_ab658e6d84759440dbf3c890446075395acdde8abdfca282d5529a48366dcfe8fd"><div class="ttname"><a href="debug_8h.html#ab658e6d84759440dbf3c890446075395acdde8abdfca282d5529a48366dcfe8fd">D_WARNING</a></div><div class="ttdeci">@ D_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00141">debug.h:141</a></div></div>
<div class="ttc" id="adebug_8h_html_afa45cf12d72d4226196a7d03c54ad7d3a1d75ac3d58695ea88f599caa6a352098"><div class="ttname"><a href="debug_8h.html#afa45cf12d72d4226196a7d03c54ad7d3a1d75ac3d58695ea88f599caa6a352098">D_GAME</a></div><div class="ttdeci">@ D_GAME</div><div class="ttdoc">Main game class.</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00167">debug.h:167</a></div></div>
<div class="ttc" id="anamespaceio_html_a25bcf81adf8ef730caf71967813f344f"><div class="ttname"><a href="namespaceio.html#a25bcf81adf8ef730caf71967813f344f">io::enum_to_string&lt; time_accuracy &gt;</a></div><div class="ttdeci">std::string enum_to_string&lt; time_accuracy &gt;(time_accuracy acc)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00082">calendar.cpp:82</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
<div class="ttc" id="atranslations_8h_html_a45dd4e3da9b83845bcd1c2d8e80cf802"><div class="ttname"><a href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a></div><div class="ttdeci">#define n_gettext(STRING1, STRING2, COUNT)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00091">translations.h:91</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="debug_8h_source.html#l00167">D_GAME</a>, <a class="el" href="debug_8h_source.html#l00141">D_WARNING</a>, <a class="el" href="debug_8cpp_source.html#l01438">DebugLog()</a>, <a class="el" href="calendar_8cpp_source.html#l00082">io::enum_to_string&lt; time_accuracy &gt;()</a>, <a class="el" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9aba7de5bc6888294e5884b024a4c894f1">FULL</a>, <a class="el" href="translations_8h_source.html#l00091">n_gettext</a>, <a class="el" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9ab50339a10e1de285ac99d4c3990b8693">NONE</a>, <a class="el" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9a1bfbc8a0cd9ef04d6b0fb780cb47072e">NUM_TIME_ACCURACY</a>, <a class="el" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9afba5cdfa4bcb408f641c743519a0fe19">PARTIAL</a>, and <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00586">diary::get_head_text()</a>.</p>

</div>
</div>
<a id="aa46a241af36daedd3bb135ce1adf9411"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa46a241af36daedd3bb135ce1adf9411">&#9670;&nbsp;</a></span>get_diary_time_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> get_diary_time_str </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>turn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9">time_accuracy</a>&#160;</td>
          <td class="paramname"><em>acc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Time approximation based on the player's timekeeping capability, formatted for diary pages. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00891">891</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;{</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a84cdc76cabf41bd7c961f6ab12f117d8">year</a> = to_turns&lt;int&gt;( <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a> - <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> ) /</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                     to_turns&lt;int&gt;( <a class="code" href="namespacecalendar.html#a151f3184ac6460605cc4931707b08d8f">calendar::year_length</a>() ) + 1;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">day</a> = day_of_season&lt;int&gt;( <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a> ) + 1;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordflow">switch</span>( acc ) {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9aba7de5bc6888294e5884b024a4c894f1">time_accuracy::FULL</a>:</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a>( <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a> );</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9afba5cdfa4bcb408f641c743519a0fe19">time_accuracy::PARTIAL</a>:</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            <span class="comment">// partial accuracy, able to see the sky</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            <span class="comment">//~ Time of year:</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            <span class="comment">//~ $1 = year since Cataclysm</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            <span class="comment">//~ $2 = season</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            <span class="comment">//~ $3 = day of season</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            <span class="comment">//~ $4 = approximate time of day</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Year %1$d, %2$s, day %3$d, %4$s&quot;</span> ), year,</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                                  <a class="code" href="namespacecalendar.html#a67a11ba36aa7fa53b90410e49d2d5b19">calendar::name_season</a>( <a class="code" href="calendar_8cpp.html#a81656706da6c7486137ad8578c0f523e">season_of_year</a>( <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a> ) ),</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                                  day, <a class="code" href="namespacedisplay.html#a29b1939ab37e6b75f4de8e746f9df189">display::time_approx</a>( <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a> ) );</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;            <a class="code" href="debug_8cpp.html#a240782b16593c6bd607c64787c62da0e">DebugLog</a>( <a class="code" href="debug_8h.html#ab658e6d84759440dbf3c890446075395acdde8abdfca282d5529a48366dcfe8fd">DebugLevel::D_WARNING</a>, <a class="code" href="debug_8h.html#afa45cf12d72d4226196a7d03c54ad7d3a1d75ac3d58695ea88f599caa6a352098">DebugClass::D_GAME</a> )</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;Unknown time_accuracy &quot;</span> &lt;&lt; <a class="code" href="namespaceio.html#a25bcf81adf8ef730caf71967813f344f">io::enum_to_string&lt;time_accuracy&gt;</a>( acc );</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        <span class="comment">/* fallthrough */</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9a1bfbc8a0cd9ef04d6b0fb780cb47072e">time_accuracy::NUM_TIME_ACCURACY</a>:</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9ab50339a10e1de285ac99d4c3990b8693">time_accuracy::NONE</a>: {</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            <span class="comment">// normalized to 100 day seasons</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> day_norm = ( <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">day</a> * 100 ) / to_days&lt;int&gt;( <a class="code" href="namespacecalendar.html#aa61c940cc539463295afa98e7bf7d22b">calendar::season_length</a>() );</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            std::string seas_point;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;            <span class="keywordflow">if</span>( day_norm &lt; 33 ) {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                <span class="comment">//~ Estimated point in the current season</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                seas_point = <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;time of season&quot;</span>, <span class="stringliteral">&quot;Early&quot;</span> );</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( day_norm &lt; 66 ) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                <span class="comment">//~ Estimated point in the current season</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                seas_point = <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;time of season&quot;</span>, <span class="stringliteral">&quot;Mid&quot;</span> );</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                <span class="comment">//~ Estimated point in the current season</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                seas_point = <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;time of season&quot;</span>, <span class="stringliteral">&quot;Late&quot;</span> );</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            }</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            <span class="comment">//~ Estimated day-of-season string: $1 = Early/Mid/Late, $2 = Spring/Summer/Fall/Winter</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            std::string <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">season</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s %2$s&quot;</span> ), seas_point,</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                                                <a class="code" href="namespacecalendar.html#a67a11ba36aa7fa53b90410e49d2d5b19">calendar::name_season</a>( <a class="code" href="calendar_8cpp.html#a81656706da6c7486137ad8578c0f523e">season_of_year</a>( <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a> ) ) );</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            <span class="comment">//~ Time of year: $1 = year since Cataclysm, $2 = season</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Year %1$d, %2$s&quot;</span> ), year, season );</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="keywordflow">return</span> std::string();</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a81656706da6c7486137ad8578c0f523e"><div class="ttname"><a href="calendar_8cpp.html#a81656706da6c7486137ad8578c0f523e">season_of_year</a></div><div class="ttdeci">season_type season_of_year(const time_point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00810">calendar.cpp:810</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_abf1cdb8f4662bf96c8d762e9229df8d9"><div class="ttname"><a href="calendar_8cpp.html#abf1cdb8f4662bf96c8d762e9229df8d9">to_string</a></div><div class="ttdeci">std::string to_string(const time_duration &amp;d, const bool compact)</div><div class="ttdoc">Returns a string showing a duration.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00546">calendar.cpp:546</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a67a11ba36aa7fa53b90410e49d2d5b19"><div class="ttname"><a href="namespacecalendar.html#a67a11ba36aa7fa53b90410e49d2d5b19">calendar::name_season</a></div><div class="ttdeci">std::string name_season(season_type s)</div><div class="ttdoc">Returns the translated name of the season (with first letter being uppercase).</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00758">calendar.cpp:758</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00038">calendar.cpp:38</a></div></div>
<div class="ttc" id="anamespacedisplay_html_a29b1939ab37e6b75f4de8e746f9df189"><div class="ttname"><a href="namespacedisplay.html#a29b1939ab37e6b75f4de8e746f9df189">display::time_approx</a></div><div class="ttdeci">std::string time_approx(const time_point &amp;turn)</div><div class="ttdef"><b>Definition:</b> <a href="display_8cpp_source.html#l00151">display.cpp:151</a></div></div>
<div class="ttc" id="atranslations_8h_html_a46bdf4dff9d320938561cade1c9a5f7e"><div class="ttname"><a href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a></div><div class="ttdeci">#define pgettext(STRING1, STRING2)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00092">translations.h:92</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="debug_8h_source.html#l00167">D_GAME</a>, <a class="el" href="debug_8h_source.html#l00141">D_WARNING</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">day</a>, <a class="el" href="debug_8cpp_source.html#l01438">DebugLog()</a>, <a class="el" href="calendar_8cpp_source.html#l00082">io::enum_to_string&lt; time_accuracy &gt;()</a>, <a class="el" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9aba7de5bc6888294e5884b024a4c894f1">FULL</a>, <a class="el" href="calendar_8cpp_source.html#l00758">calendar::name_season()</a>, <a class="el" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9ab50339a10e1de285ac99d4c3990b8693">NONE</a>, <a class="el" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9a1bfbc8a0cd9ef04d6b0fb780cb47072e">NUM_TIME_ACCURACY</a>, <a class="el" href="calendar_8h.html#a2c1cb575663aec51773d232cef1a22e9afba5cdfa4bcb408f641c743519a0fe19">PARTIAL</a>, <a class="el" href="translations_8h_source.html#l00092">pgettext</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">season</a>, <a class="el" href="calendar_8cpp_source.html#l00715">calendar::season_length()</a>, <a class="el" href="calendar_8cpp_source.html#l00810">season_of_year()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="display_8cpp_source.html#l00151">display::time_approx()</a>, <a class="el" href="calendar_8cpp_source.html#l00546">to_string()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="calendar_8h_source.html#l00541">calendar::turn_zero</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a84cdc76cabf41bd7c961f6ab12f117d8">year</a>, and <a class="el" href="calendar_8cpp_source.html#l00710">calendar::year_length()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00586">diary::get_head_text()</a>, and <a class="el" href="diary_8cpp_source.html#l00041">diary::get_pages_list()</a>.</p>

</div>
</div>
<a id="ae15341d001c737a325a8d3805ffa898d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae15341d001c737a325a8d3805ffa898d">&#9670;&nbsp;</a></span>get_moon_phase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="calendar_8h.html#a108488c56b99a99f407bda5389fd85ce">moon_phase</a> get_moon_phase </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current phase of the moon. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00098">98</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> moon_phase_duration = <a class="code" href="namespacecalendar.html#af2fd3ce014b6191e1f1c0cba755b785a">calendar::season_from_default_ratio</a>() * <a class="code" href="calendar_8cpp.html#afc4f3940cfa0db525b104c8c206c60f5">lunar_month</a>();</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">// Switch moon phase at noon so it stays the same all night</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> num_middays = to_days&lt;int&gt;( p - <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> + 1_days / 2 );</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> nearest_midnight = num_middays * 1_days;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> phase_change = nearest_midnight / moon_phase_duration;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> current_phase = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">std::round</a>( phase_change * <a class="code" href="calendar_8h.html#a108488c56b99a99f407bda5389fd85cea250f593eae709d77804f1b924c21b445">MOON_PHASE_MAX</a> ) ) %</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                              <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="calendar_8h.html#a108488c56b99a99f407bda5389fd85cea250f593eae709d77804f1b924c21b445">MOON_PHASE_MAX</a> );</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="calendar_8h.html#a108488c56b99a99f407bda5389fd85ce">moon_phase</a><span class="keyword">&gt;</span>( current_phase );</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_afc4f3940cfa0db525b104c8c206c60f5"><div class="ttname"><a href="calendar_8cpp.html#afc4f3940cfa0db525b104c8c206c60f5">lunar_month</a></div><div class="ttdeci">time_duration lunar_month()</div><div class="ttdoc">Returns the default duration of a lunar month (duration between syzygies)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00057">calendar.cpp:57</a></div></div>
<div class="ttc" id="acalendar_8h_html_a108488c56b99a99f407bda5389fd85ce"><div class="ttname"><a href="calendar_8h.html#a108488c56b99a99f407bda5389fd85ce">moon_phase</a></div><div class="ttdeci">moon_phase</div><div class="ttdoc">Phases of the moon.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00035">calendar.h:35</a></div></div>
<div class="ttc" id="acalendar_8h_html_a108488c56b99a99f407bda5389fd85cea250f593eae709d77804f1b924c21b445"><div class="ttname"><a href="calendar_8h.html#a108488c56b99a99f407bda5389fd85cea250f593eae709d77804f1b924c21b445">MOON_PHASE_MAX</a></div><div class="ttdeci">@ MOON_PHASE_MAX</div><div class="ttdoc">Not a valid moon phase, but can be used for iterating through enum.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00054">calendar.h:53</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00196">calendar.h:197</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a5834219bcffc7118c95b395b8cdeec20"><div class="ttname"><a href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">round</a></div><div class="ttdeci">double round(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00110">math_parser_func.h:110</a></div></div>
<div class="ttc" id="anamespacecalendar_html_af2fd3ce014b6191e1f1c0cba755b785a"><div class="ttname"><a href="namespacecalendar.html#af2fd3ce014b6191e1f1c0cba755b785a">calendar::season_from_default_ratio</a></div><div class="ttdeci">float season_from_default_ratio()</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00748">calendar.cpp:748</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00057">lunar_month()</a>, <a class="el" href="calendar_8h_source.html#l00053">MOON_PHASE_MAX</a>, <a class="el" href="math__parser__func_8h_source.html#l00110">round()</a>, <a class="el" href="calendar_8cpp_source.html#l00748">calendar::season_from_default_ratio()</a>, and <a class="el" href="calendar_8h_source.html#l00541">calendar::turn_zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00373">moon_light_at()</a>, <a class="el" href="math__parser__diag_8cpp_source.html#l00802">anonymous_namespace{math_parser_diag.cpp}::moon_phase_eval()</a>, and <a class="el" href="relic_8cpp_source.html#l00470">relic::try_recharge()</a>.</p>

</div>
</div>
<a id="a1d0328da4c2fb146307396324bb85fa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d0328da4c2fb146307396324bb85fa1">&#9670;&nbsp;</a></span>is_dawn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool is_dawn </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if it's currently dawn - between sunrise and twilight_duration after sunrise. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00367">367</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> now = <a class="code" href="calendar_8h.html#aa8a2c3326ae8829cef1439aa327897c4">time_past_midnight</a>( p );</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">return</span> now &lt; 12_hours &amp;&amp; <a class="code" href="calendar_8cpp.html#a51c8011274d583b6f021144c4052aee9">is_twilight</a>( p );</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a51c8011274d583b6f021144c4052aee9"><div class="ttname"><a href="calendar_8cpp.html#a51c8011274d583b6f021144c4052aee9">is_twilight</a></div><div class="ttdeci">static bool is_twilight(const time_point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00355">calendar.cpp:355</a></div></div>
<div class="ttc" id="acalendar_8h_html_aa8a2c3326ae8829cef1439aa327897c4"><div class="ttname"><a href="calendar_8h.html#aa8a2c3326ae8829cef1439aa327897c4">time_past_midnight</a></div><div class="ttdeci">time_duration time_past_midnight(const time_point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00550">calendar.h:550</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00355">is_twilight()</a>, and <a class="el" href="calendar_8h_source.html#l00550">time_past_midnight()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l06109">photo_def_for_camera_point()</a>, and <a class="el" href="display_8cpp_source.html#l00151">display::time_approx()</a>.</p>

</div>
</div>
<a id="a1f243cd9207ab39fad97d6b638b76757"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f243cd9207ab39fad97d6b638b76757">&#9670;&nbsp;</a></span>is_day()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool is_day </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if it's currently day time - after dawn and before dusk. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00350">350</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;{</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="calendar_8cpp.html#a64bad31d19e480fb8c038f95d2ffc325">sun_altitude</a>( p ) &gt;= <a class="code" href="calendar_8cpp.html#a90fedb893f24c9c3c929d253bd1398ca">sunrise_angle</a>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a64bad31d19e480fb8c038f95d2ffc325"><div class="ttname"><a href="calendar_8cpp.html#a64bad31d19e480fb8c038f95d2ffc325">sun_altitude</a></div><div class="ttdeci">static units::angle sun_altitude(time_point t)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00239">calendar.cpp:239</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_a90fedb893f24c9c3c929d253bd1398ca"><div class="ttname"><a href="calendar_8cpp.html#a90fedb893f24c9c3c929d253bd1398ca">sunrise_angle</a></div><div class="ttdeci">static constexpr units::angle sunrise_angle</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00045">calendar.cpp:45</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00239">sun_altitude()</a>, and <a class="el" href="calendar_8cpp_source.html#l00045">sunrise_angle</a>.</p>

<p class="reference">Referenced by <a class="el" href="relic_8cpp_source.html#l00454">can_recharge_solar()</a>.</p>

</div>
</div>
<a id="ac200b295554f05d816686a1488c685db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac200b295554f05d816686a1488c685db">&#9670;&nbsp;</a></span>is_dusk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool is_dusk </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if it's currently dusk - between sunset and and twilight_duration after sunset. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00361">361</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;{</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> now = <a class="code" href="calendar_8h.html#aa8a2c3326ae8829cef1439aa327897c4">time_past_midnight</a>( p );</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">return</span> now &gt; 12_hours &amp;&amp; <a class="code" href="calendar_8cpp.html#a51c8011274d583b6f021144c4052aee9">is_twilight</a>( p );</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00355">is_twilight()</a>, and <a class="el" href="calendar_8h_source.html#l00550">time_past_midnight()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l06109">photo_def_for_camera_point()</a>, and <a class="el" href="display_8cpp_source.html#l00151">display::time_approx()</a>.</p>

</div>
</div>
<a id="a07a1c09320c43c4d206905e06c2c42a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07a1c09320c43c4d206905e06c2c42a8">&#9670;&nbsp;</a></span>is_night()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool is_night </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if it's currently night time - after dusk and before dawn. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00345">345</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;{</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="calendar_8cpp.html#a64bad31d19e480fb8c038f95d2ffc325">sun_altitude</a>( p ) &lt;= <a class="code" href="calendar_8cpp.html#a686f3b05fb6c4bbaa23c280f3e796e31">civil_dawn</a>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00044">civil_dawn</a>, and <a class="el" href="calendar_8cpp_source.html#l00239">sun_altitude()</a>.</p>

<p class="reference">Referenced by <a class="el" href="relic_8cpp_source.html#l00463">can_recharge_lunar()</a>, <a class="el" href="condition_8cpp_source.html#l01479">conditional_fun::anonymous_namespace{condition.cpp}::f_is_day()</a>, <a class="el" href="iuse_8cpp_source.html#l06109">photo_def_for_camera_point()</a>, <a class="el" href="sounds_8cpp_source.html#l00569">sounds::process_sound_markers()</a>, <a class="el" href="display_8cpp_source.html#l00151">display::time_approx()</a>, and <a class="el" href="weather_8cpp_source.html#l00524">weather_forecast()</a>.</p>

</div>
</div>
<a id="a51c8011274d583b6f021144c4052aee9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51c8011274d583b6f021144c4052aee9">&#9670;&nbsp;</a></span>is_twilight()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_twilight </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00355">355</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;{</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::angle</a> altitude = <a class="code" href="calendar_8cpp.html#a64bad31d19e480fb8c038f95d2ffc325">sun_altitude</a>( p );</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">return</span> altitude &gt;= <a class="code" href="calendar_8cpp.html#a686f3b05fb6c4bbaa23c280f3e796e31">civil_dawn</a> &amp;&amp; altitude &lt;= <a class="code" href="calendar_8cpp.html#a90fedb893f24c9c3c929d253bd1398ca">sunrise_angle</a>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00028">units.h:29</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00044">civil_dawn</a>, <a class="el" href="calendar_8cpp_source.html#l00239">sun_altitude()</a>, and <a class="el" href="calendar_8cpp_source.html#l00045">sunrise_angle</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00367">is_dawn()</a>, and <a class="el" href="calendar_8cpp_source.html#l00361">is_dusk()</a>.</p>

</div>
</div>
<a id="afc4f3940cfa0db525b104c8c206c60f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc4f3940cfa0db525b104c8c206c60f5">&#9670;&nbsp;</a></span>lunar_month()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__duration.html">time_duration</a> lunar_month </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the default duration of a lunar month (duration between syzygies) </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00057">57</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">return</span> 29.530588853 * 1_days;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00098">get_moon_phase()</a>.</p>

</div>
</div>
<a id="a79cdf1cca1806e313ad51075023c2ff3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79cdf1cca1806e313ad51075023c2ff3">&#9670;&nbsp;</a></span>max_sun_irradiance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float max_sun_irradiance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00052">52</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">return</span> 1000.f;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00406">sun_irradiance()</a>, <a class="el" href="vehicle_8cpp_source.html#l05096">vehicle::total_solar_epower()</a>, <a class="el" href="character__body_8cpp_source.html#l00439">Character::update_bodytemp()</a>, and <a class="el" href="vehicle_8cpp_source.html#l07876">vehicle::update_time()</a>.</p>

</div>
</div>
<a id="a34e7d0f6b2c4f857f7893fa8f4dc1ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34e7d0f6b2c4f857f7893fa8f4dc1ed1">&#9670;&nbsp;</a></span>moon_light_at()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static float moon_light_at </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00373">373</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;{</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordtype">int</span> current_phase = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="calendar_8cpp.html#ae15341d001c737a325a8d3805ffa898d">get_moon_phase</a>( p ) );</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span>( current_phase &gt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="calendar_8h.html#a108488c56b99a99f407bda5389fd85cea250f593eae709d77804f1b924c21b445">MOON_PHASE_MAX</a> ) / 2 ) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        current_phase = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="calendar_8h.html#a108488c56b99a99f407bda5389fd85cea250f593eae709d77804f1b924c21b445">MOON_PHASE_MAX</a> ) - current_phase;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">return</span> 1. + <a class="code" href="calendar_8cpp.html#aee865fadbf45b5754185ade4844f9a9c">moonlight_per_quarter</a> * current_phase;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_ae15341d001c737a325a8d3805ffa898d"><div class="ttname"><a href="calendar_8cpp.html#ae15341d001c737a325a8d3805ffa898d">get_moon_phase</a></div><div class="ttdeci">moon_phase get_moon_phase(const time_point &amp;p)</div><div class="ttdoc">Returns the current phase of the moon.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00098">calendar.cpp:98</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_aee865fadbf45b5754185ade4844f9a9c"><div class="ttname"><a href="calendar_8cpp.html#aee865fadbf45b5754185ade4844f9a9c">moonlight_per_quarter</a></div><div class="ttdeci">static constexpr float moonlight_per_quarter</div><div class="ttdoc">How much light moon provides per lit-up quarter (Full-moon light is four times this value)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00024">calendar.cpp:24</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00098">get_moon_phase()</a>, <a class="el" href="calendar_8h_source.html#l00053">MOON_PHASE_MAX</a>, and <a class="el" href="calendar_8cpp_source.html#l00024">moonlight_per_quarter</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00416">sun_moon_light_at()</a>.</p>

</div>
</div>
<a id="a1a6003467bed851ed16dff1c59f44d22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a6003467bed851ed16dff1c59f44d22">&#9670;&nbsp;</a></span>night_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__point.html">time_point</a> night_time </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the time it gets dark based on sunset. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00328">328</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;{</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="calendar_8cpp.html#a0f92d6a32c1425d16cad111f5ab02b48">sun_at_altitude</a>( <a class="code" href="calendar_8cpp.html#a686f3b05fb6c4bbaa23c280f3e796e31">civil_dawn</a>, <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>.<a class="code" href="structlat__long.html#ad2637336da703d54a8519763d85c5fb8">longitude</a>, p, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00044">civil_dawn</a>, <a class="el" href="calendar_8cpp_source.html#l00034">location</a>, <a class="el" href="units__utility_8h_source.html#l00049">lat_long::longitude</a>, and <a class="el" href="calendar_8cpp_source.html#l00295">sun_at_altitude()</a>.</p>

<p class="reference">Referenced by <a class="el" href="math__parser__diag_8cpp_source.html#l01159">anonymous_namespace{math_parser_diag.cpp}::time_until_eval()</a>, and <a class="el" href="handle__action_8cpp_source.html#l01077">wait()</a>.</p>

</div>
</div>
<a id="a1dc62da3872eda7301d94c40e664e18d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dc62da3872eda7301d94c40e664e18d">&#9670;&nbsp;</a></span>noon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__point.html">time_point</a> noon </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the time when the clock displays 12:00. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00338">338</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;{</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> <a class="code" href="namespacesfx.html#a746a046c4c6989d32aa62d6799c2f496a6ab110a96d060b00e7149f410220dd10">time_of_day</a> = ( p - <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> ) % 1_days;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> till_noon = <a class="code" href="namespacesfx.html#a746a046c4c6989d32aa62d6799c2f496a6ab110a96d060b00e7149f410220dd10">time_of_day</a> - 12_hours;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">return</span> ( till_noon &gt; 0_seconds ) ? p - till_noon : p + till_noon;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div>
<div class="ttc" id="anamespacesfx_html_a746a046c4c6989d32aa62d6799c2f496a6ab110a96d060b00e7149f410220dd10"><div class="ttname"><a href="namespacesfx.html#a746a046c4c6989d32aa62d6799c2f496a6ab110a96d060b00e7149f410220dd10">sfx::group::time_of_day</a></div><div class="ttdeci">@ time_of_day</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8h_source.html#l00541">calendar::turn_zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="math__parser__diag_8cpp_source.html#l01133">anonymous_namespace{math_parser_diag.cpp}::time_since_eval()</a>, and <a class="el" href="math__parser__diag_8cpp_source.html#l01159">anonymous_namespace{math_parser_diag.cpp}::time_until_eval()</a>.</p>

</div>
</div>
<a id="a3f69d61c5560b7d7bcb7bfe121e7a4d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f69d61c5560b7d7bcb7bfe121e7a4d5">&#9670;&nbsp;</a></span>offset_to_sun_altitude()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> offset_to_sun_altitude </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> &amp;&#160;</td>
          <td class="paramname"><em>altitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> &amp;&#160;</td>
          <td class="paramname"><em>longitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structseason__effective__time.html">season_effective_time</a> &amp;&#160;</td>
          <td class="paramname"><em>approx_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>evening</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00269">269</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;{</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::angle</a> ra;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::angle</a> declination;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="classtime__duration.html">time_duration</a> timezone = <a class="code" href="calendar_8cpp.html#abfa237871595205af606af586bc1b755">angle_to_time</a>( longitude );</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    std::tie( ra, declination ) = <a class="code" href="calendar_8cpp.html#adf3e812805a5faca2b9d467e4c2ca9b0">sun_ra_declination</a>( approx_time, timezone );</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordtype">double</span> cos_hour_angle =</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        ( <a class="code" href="math__parser__func_8h.html#a3d9f495ca19a6110e624fc1d0ed3da74">sin</a>( altitude ) - <a class="code" href="math__parser__func_8h.html#a3d9f495ca19a6110e624fc1d0ed3da74">sin</a>( <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>.<a class="code" href="structlat__long.html#a0f0e437d408fe02d0480d6692c71e917">latitude</a> ) * <a class="code" href="math__parser__func_8h.html#a3d9f495ca19a6110e624fc1d0ed3da74">sin</a>( declination ) ) /</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <a class="code" href="math__parser__func_8h.html#aa178d72bf03c69677934a8c977f3b850">cos</a>( <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>.<a class="code" href="structlat__long.html#a0f0e437d408fe02d0480d6692c71e917">latitude</a> ) / <a class="code" href="math__parser__func_8h.html#aa178d72bf03c69677934a8c977f3b850">cos</a>( declination );</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( cos_hour_angle ) &gt; 1 ) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="comment">// It doesn&#39;t actually reach that angle, so we pretend that it does at</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="comment">// its maximum possible angle</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        cos_hour_angle = cos_hour_angle &gt; 0 ? 1 : -1;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::angle</a> hour_angle = <a class="code" href="namespaceunits.html#aae47d0424d7fabfbe481a807e7697518">units::acos</a>( cos_hour_angle );</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">if</span>( !evening ) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        hour_angle = -hour_angle;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> target_sidereal_time = hour_angle + ra;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> sidereal_time_at_approx_time =</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <a class="code" href="calendar_8cpp.html#a6f8c191e126bb0afe07e8d89662ba0c5">sidereal_time_at</a>( approx_time, <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>.<a class="code" href="structlat__long.html#ad2637336da703d54a8519763d85c5fb8">longitude</a>, timezone );</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="units__utility_8cpp.html#a1e30191582247e71dd6bca985f5fba36">normalize</a>( target_sidereal_time - sidereal_time_at_approx_time );</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a6f8c191e126bb0afe07e8d89662ba0c5"><div class="ttname"><a href="calendar_8cpp.html#a6f8c191e126bb0afe07e8d89662ba0c5">sidereal_time_at</a></div><div class="ttdeci">static units::angle sidereal_time_at(season_effective_time t, units::angle longitude, time_duration timezone)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00170">calendar.cpp:170</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_abfa237871595205af606af586bc1b755"><div class="ttname"><a href="calendar_8cpp.html#abfa237871595205af606af586bc1b755">angle_to_time</a></div><div class="ttdeci">static constexpr time_duration angle_to_time(const units::angle &amp;a)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00110">calendar.cpp:110</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_adf3e812805a5faca2b9d467e4c2ca9b0"><div class="ttname"><a href="calendar_8cpp.html#adf3e812805a5faca2b9d467e4c2ca9b0">sun_ra_declination</a></div><div class="ttdeci">static std::pair&lt; units::angle, units::angle &gt; sun_ra_declination(season_effective_time t, time_duration timezone)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00125">calendar.cpp:125</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a24f6ac6e06720c7cdf972a6083847132"><div class="ttname"><a href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">abs</a></div><div class="ttdeci">double abs(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00030">math_parser_func.h:30</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a3d9f495ca19a6110e624fc1d0ed3da74"><div class="ttname"><a href="math__parser__func_8h.html#a3d9f495ca19a6110e624fc1d0ed3da74">sin</a></div><div class="ttdeci">double sin(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00071">math_parser_func.h:71</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_aa178d72bf03c69677934a8c977f3b850"><div class="ttname"><a href="math__parser__func_8h.html#aa178d72bf03c69677934a8c977f3b850">cos</a></div><div class="ttdeci">double cos(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00076">math_parser_func.h:76</a></div></div>
<div class="ttc" id="anamespaceunits_html_aae47d0424d7fabfbe481a807e7697518"><div class="ttname"><a href="namespaceunits.html#aae47d0424d7fabfbe481a807e7697518">units::acos</a></div><div class="ttdeci">units::angle acos(double x)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l01132">units.h:1132</a></div></div>
<div class="ttc" id="astructlat__long_html_a0f0e437d408fe02d0480d6692c71e917"><div class="ttname"><a href="structlat__long.html#a0f0e437d408fe02d0480d6692c71e917">lat_long::latitude</a></div><div class="ttdeci">units::angle latitude</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8h_source.html#l00048">units_utility.h:48</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_a1e30191582247e71dd6bca985f5fba36"><div class="ttname"><a href="units__utility_8cpp.html#a1e30191582247e71dd6bca985f5fba36">normalize</a></div><div class="ttdeci">units::angle normalize(units::angle a, units::angle mod)</div><div class="ttdoc">Given an angle, add or subtract multiples of 360_degrees until it's in the range [0,...</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00010">units_utility.cpp:10</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="math__parser__func_8h_source.html#l00030">abs()</a>, <a class="el" href="units_8h_source.html#l01132">units::acos()</a>, <a class="el" href="calendar_8cpp_source.html#l00110">angle_to_time()</a>, <a class="el" href="math__parser__func_8h_source.html#l00076">cos()</a>, <a class="el" href="units__utility_8h_source.html#l00048">lat_long::latitude</a>, <a class="el" href="calendar_8cpp_source.html#l00034">location</a>, <a class="el" href="units__utility_8h_source.html#l00049">lat_long::longitude</a>, <a class="el" href="units__utility_8cpp_source.html#l00010">normalize()</a>, <a class="el" href="calendar_8cpp_source.html#l00170">sidereal_time_at()</a>, <a class="el" href="math__parser__func_8h_source.html#l00071">sin()</a>, and <a class="el" href="calendar_8cpp_source.html#l00125">sun_ra_declination()</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00295">sun_at_altitude()</a>.</p>

</div>
</div>
<a id="a4249b6f1d0842211bfe53e5f9e206a10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4249b6f1d0842211bfe53e5f9e206a10">&#9670;&nbsp;</a></span>rng()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__duration.html">time_duration</a> rng </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td>
          <td class="paramname"><em>lo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td>
          <td class="paramname"><em>hi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00779">779</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;{</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtime__duration.html">time_duration</a>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( <a class="code" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a>.turns_, hi.<a class="code" href="classtime__duration.html#ac24c0833db07e068c12690d9d1f59fa7">turns_</a> ) );</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a4249b6f1d0842211bfe53e5f9e206a10"><div class="ttname"><a href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a></div><div class="ttdeci">time_duration rng(time_duration lo, time_duration hi)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00779">calendar.cpp:779</a></div></div>
<div class="ttc" id="aclasstime__duration_html_ac24c0833db07e068c12690d9d1f59fa7"><div class="ttname"><a href="classtime__duration.html#ac24c0833db07e068c12690d9d1f59fa7">time_duration::turns_</a></div><div class="ttdeci">int turns_</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00200">calendar.h:200</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_aa83c5be51fbbf9c1e23c0369c6b31137"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">cata::hash64_detail::lo</a></div><div class="ttdeci">std::uint32_t lo</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00096">hash_utils.h:96</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l08695">item::_resist()</a>, <a class="el" href="character__attire_8cpp_source.html#l01886">outfit::absorb_damage()</a>, <a class="el" href="character__armor_8cpp_source.html#l00196">Character::absorb_hit()</a>, <a class="el" href="monattack_8cpp_source.html#l04093">mattack::absorb_meat()</a>, <a class="el" href="monattack_8cpp_source.html#l00885">mattack::acid_accurate()</a>, <a class="el" href="monattack_8cpp_source.html#l00821">mattack::acid_barf()</a>, <a class="el" href="mondefense_8cpp_source.html#l00090">mdefense::acidsplash()</a>, <a class="el" href="npcmove_8cpp_source.html#l01101">npc::act_on_danger_assessment()</a>, <a class="el" href="computer__session_8cpp_source.html#l01504">computer_session::action_extract_rad_source()</a>, <a class="el" href="computer__session_8cpp_source.html#l01316">computer_session::action_irradiator()</a>, <a class="el" href="computer__session_8cpp_source.html#l00733">computer_session::action_miss_launch()</a>, <a class="el" href="computer__session_8cpp_source.html#l00651">computer_session::action_radio_archive()</a>, <a class="el" href="mutation_8cpp_source.html#l00739">Character::activate_mutation()</a>, <a class="el" href="timed__event_8cpp_source.html#l00102">timed_event::actualize()</a>, <a class="el" href="suffer_8cpp_source.html#l02020">Character::add_addiction()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01167">vehicle::alarm()</a>, <a class="el" href="addiction_8cpp_source.html#l00068">alcohol_diazepam_add()</a>, <a class="el" href="addiction_8cpp_source.html#l00257">amphetamine_effect()</a>, <a class="el" href="iuse_8cpp_source.html#l00625">iuse::antibiotic()</a>, <a class="el" href="iuse_8cpp_source.html#l00789">iuse::anticonvulsant()</a>, <a class="el" href="iuse_8cpp_source.html#l00740">iuse::antiparasitic()</a>, <a class="el" href="magic_8cpp_source.html#l00854">spell::aoe()</a>, <a class="el" href="mapgen_8cpp_source.html#l02160">jmapgen_gaspump::apply()</a>, <a class="el" href="mapgen_8cpp_source.html#l02342">jmapgen_loot::apply()</a>, <a class="el" href="projectile_8cpp_source.html#l00142">apply_ammo_effects()</a>, <a class="el" href="creature_8cpp_source.html#l00854">projectile::apply_effects_damage()</a>, <a class="el" href="weakpoint_8cpp_source.html#l00267">weakpoint_effect::apply_to()</a>, <a class="el" href="npcmove_8cpp_source.html#l00707">npc::assess_danger()</a>, <a class="el" href="mission_8cpp_source.html#l00301">mission::assign()</a>, <a class="el" href="iexamine_8cpp_source.html#l05684">iexamine::autodoc()</a>, <a class="el" href="vehicle_8cpp_source.html#l00614">vehicle::autopilot_patrol()</a>, <a class="el" href="monattack_8cpp_source.html#l05040">mattack::bio_op_disarm()</a>, <a class="el" href="monattack_8cpp_source.html#l04962">mattack::bio_op_impale()</a>, <a class="el" href="monattack_8cpp_source.html#l04809">mattack::bio_op_random_biojutsu()</a>, <a class="el" href="monattack_8cpp_source.html#l04853">mattack::bio_op_takedown()</a>, <a class="el" href="bionics_8cpp_source.html#l02523">Character::bionics_install_failure()</a>, <a class="el" href="bionics_8cpp_source.html#l01744">Character::bionics_uninstall_failure()</a>, <a class="el" href="iuse_8cpp_source.html#l01054">iuse::blech()</a>, <a class="el" href="monattack_8cpp_source.html#l02464">blobify()</a>, <a class="el" href="character_8cpp_source.html#l08582">Character::blossoms()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00217">trapfunc::board()</a>, <a class="el" href="monattack_8cpp_source.html#l01112">mattack::boomer_glow()</a>, <a class="el" href="vehicle_8cpp_source.html#l07311">vehicle::break_off()</a>, <a class="el" href="iuse_8cpp_source.html#l08253">iuse::break_stick()</a>, <a class="el" href="cata__utility_8cpp_source.html#l00844">bucket_index_from_weight_list()</a>, <a class="el" href="overmap_8cpp_source.html#l05611">overmap::build_city_street()</a>, <a class="el" href="overmap_8cpp_source.html#l05690">overmap::build_lab()</a>, <a class="el" href="vehicle__group_8cpp_source.html#l00230">VehicleSpawnFunction::builtin_parkinglot()</a>, <a class="el" href="map__field_8cpp_source.html#l00145">map::burn_body_part()</a>, <a class="el" href="map__extras_8cpp_source.html#l01322">MapExtras::burned_ground_parser()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01241">activity_handlers::butcher_finish()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00885">butchery_drops_harvest()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00110">leap_actor::call()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00673">melee_actor::call()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00259">trapfunc::caltrops()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00305">trapfunc::caltrops_glass()</a>, <a class="el" href="iuse_8cpp_source.html#l06517">iuse::camera()</a>, <a class="el" href="iuse_8cpp_source.html#l03225">iuse::can_goo()</a>, <a class="el" href="character_8cpp_source.html#l11282">Character::can_sleep()</a>, <a class="el" href="mission__companion_8cpp_source.html#l01378">talk_function::caravan_return()</a>, <a class="el" href="mission__companion_8cpp_source.html#l02081">talk_function::carpenter_return()</a>, <a class="el" href="magic_8cpp_source.html#l01833">spell::cast_all_effects()</a>, <a class="el" href="game_8cpp_source.html#l01427">game::catch_a_monster()</a>, <a class="el" href="character_8cpp_source.html#l02056">Character::check_avoid_friendly_fire()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01601">basecamp::choose_new_leader()</a>, <a class="el" href="character__attire_8cpp_source.html#l02608">outfit::clatter_sound()</a>, <a class="el" href="sounds_8cpp_source.html#l00378">cluster_sounds()</a>, <a class="el" href="iuse_8cpp_source.html#l00834">iuse::coke()</a>, <a class="el" href="mission_8cpp_source.html#l00049">mission_type::create()</a>, <a class="el" href="item__group_8cpp_source.html#l00262">Single_item_creator::create()</a>, <a class="el" href="item__group_8cpp_source.html#l00848">Item_group::create()</a>, <a class="el" href="trait__group_8cpp_source.html#l00257">Trait_group_collection::create()</a>, <a class="el" href="trait__group_8cpp_source.html#l00294">Trait_group_distribution::create()</a>, <a class="el" href="mapgen_8cpp_source.html#l07570">map::create_anomaly()</a>, <a class="el" href="magic_8cpp_source.html#l01405">spell::create_field()</a>, <a class="el" href="map__field_8cpp_source.html#l00373">map::create_hot_air()</a>, <a class="el" href="item__group_8cpp_source.html#l00880">Item_group::create_single()</a>, <a class="el" href="item__group_8cpp_source.html#l00189">Single_item_creator::create_single_without_container()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00398">trapfunc::crossbow()</a>, <a class="el" href="map_8cpp_source.html#l04428">map::crush()</a>, <a class="el" href="map_8cpp_source.html#l08546">map::cut_down_tree()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01619">salvage_actor::cut_up()</a>, <a class="el" href="magic_8cpp_source.html#l00705">spell::damage()</a>, <a class="el" href="vehicle_8cpp_source.html#l07217">vehicle::damage_all()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00508">damage_targets()</a>, <a class="el" href="monattack_8cpp_source.html#l02686">mattack::dance()</a>, <a class="el" href="monattack_8cpp_source.html#l04290">mattack::darkman()</a>, <a class="el" href="iuse_8cpp_source.html#l00988">iuse::datura()</a>, <a class="el" href="character_8cpp_source.html#l08263">Character::deal_damage()</a>, <a class="el" href="creature_8cpp_source.html#l01270">Creature::deal_damage_handle_type()</a>, <a class="el" href="monster_8cpp_source.html#l02127">monster::deal_damage_handle_type()</a>, <a class="el" href="monster_8cpp_source.html#l02097">monster::deal_projectile_attack()</a>, <a class="el" href="map_8cpp_source.html#l08615">map::decay_cosmetic_fields()</a>, <a class="el" href="item_8cpp_source.html#l12460">item::detonate()</a>, <a class="el" href="melee_8cpp_source.html#l02845">avatar::disarm()</a>, <a class="el" href="map_8cpp_source.html#l01639">map::displace_water()</a>, <a class="el" href="explosion_8cpp_source.html#l00175">explosion_handler::do_blast()</a>, <a class="el" href="vehicle_8cpp_source.html#l05608">vehicle::do_engine_damage()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00465">melee_actor::do_grab()</a>, <a class="el" href="iuse_8cpp_source.html#l01139">do_purify()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00284">iuse_transform::do_transform()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00973">data_handling_activity_actor::do_turn()</a>, <a class="el" href="melee_8cpp_source.html#l01259">Character::dodge_roll()</a>, <a class="el" href="construction_8cpp_source.html#l01670">construct::done_dig_grave()</a>, <a class="el" href="construction_8cpp_source.html#l01397">construct::done_trunk_plank()</a>, <a class="el" href="mapgen_8cpp_source.html#l05389">map::draw_lab()</a>, <a class="el" href="map_8cpp_source.html#l07104">map::draw_maptile()</a>, <a class="el" href="drawing__primitives_8cpp_source.html#l00035">draw_rough_circle()</a>, <a class="el" href="mapgen_8cpp_source.html#l06382">map::draw_slimepit()</a>, <a class="el" href="map_8cpp_source.html#l02762">map::drop_furniture()</a>, <a class="el" href="map_8cpp_source.html#l02908">map::drop_items()</a>, <a class="el" href="ballistics_8cpp_source.html#l00047">drop_or_embed_projectile()</a>, <a class="el" href="monattack_8cpp_source.html#l05545">mattack::dsa_drone_scan()</a>, <a class="el" href="magic_8cpp_source.html#l00965">spell::duration()</a>, <a class="el" href="npctalk_8cpp_source.html#l01420">dialogue::dynamic_line()</a>, <a class="el" href="consumption_8cpp_source.html#l01031">eat()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00155">eff_fun_antifungal()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00724">eff_fun_datura()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00170">eff_fun_fake_common_cold()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00181">eff_fun_fake_flu()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00192">eff_fun_fungus()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00390">eff_fun_hallu()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00798">eff_fun_hypovolemia()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00140">eff_fun_onfire()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00292">eff_fun_rat()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00906">eff_fun_redcells_anemia()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l01027">eff_fun_sleep()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00595">eff_fun_teleglow()</a>, <a class="el" href="iuse_8cpp_source.html#l06802">iuse::ehandcuffs_tick()</a>, <a class="el" href="iuse_8cpp_source.html#l05497">iuse::einktabletpc()</a>, <a class="el" href="explosion_8cpp_source.html#l00657">explosion_handler::emp_blast()</a>, <a class="el" href="dialogue__helpers_8cpp_source.html#l00191">dbl_or_var::evaluate()</a>, <a class="el" href="dialogue__helpers_8cpp_source.html#l00230">duration_or_var::evaluate()</a>, <a class="el" href="npcmove_8cpp_source.html#l00484">npc::evaluate_character()</a>, <a class="el" href="npcmove_8cpp_source.html#l00588">npc::evaluate_self()</a>, <a class="el" href="monattack_8cpp_source.html#l04590">mattack::evolve_kill_strike()</a>, <a class="el" href="character_8cpp_source.html#l02288">Character::expose_to_disease()</a>, <a class="el" href="iuse_8cpp_source.html#l01918">iuse::extinguisher()</a>, <a class="el" href="npctalk_8cpp_source.html#l03077">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_add_var()</a>, <a class="el" href="npctalk_8cpp_source.html#l03534">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_location_variable()</a>, <a class="el" href="condition_8cpp_source.html#l01771">conditional_fun::anonymous_namespace{condition.cpp}::f_roll_contested()</a>, <a class="el" href="npctalk_8cpp_source.html#l05626">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_roll_remainder()</a>, <a class="el" href="npctalk_8cpp_source.html#l04582">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_set_string_var()</a>, <a class="el" href="npctalk_8cpp_source.html#l05798">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_spawn_monster()</a>, <a class="el" href="computer__session_8cpp_source.html#l01698">computer_session::failure_amigara()</a>, <a class="el" href="computer__session_8cpp_source.html#l01643">computer_session::failure_damage()</a>, <a class="el" href="computer__session_8cpp_source.html#l01619">computer_session::failure_manhacks()</a>, <a class="el" href="computer__session_8cpp_source.html#l01667">computer_session::failure_pump_leak()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03547">farm_action()</a>, <a class="el" href="mission__companion_8cpp_source.html#l01653">talk_function::field_harvest()</a>, <a class="el" href="map__field_8cpp_source.html#l00593">field_processor_extra_radiation()</a>, <a class="el" href="map__field_8cpp_source.html#l00644">field_processor_fd_electricity()</a>, <a class="el" href="map__field_8cpp_source.html#l00828">field_processor_fd_shock_vent()</a>, <a class="el" href="city_8cpp_source.html#l00044">city::finalize()</a>, <a class="el" href="game_8cpp_source.html#l05295">game::find_nearby_spawn_point()</a>, <a class="el" href="game_8cpp_source.html#l12386">game::find_or_make_stairs()</a>, <a class="el" href="mission__start_8cpp_source.html#l00087">find_potential_computer_point()</a>, <a class="el" href="mission__start_8cpp_source.html#l00235">mission_start::find_safety()</a>, <a class="el" href="activity__actor_8cpp_source.html#l01199">hotwire_car_activity_actor::finish()</a>, <a class="el" href="activity__actor_8cpp_source.html#l02706">lockpick_activity_actor::finish()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04782">reload_activity_actor::finish()</a>, <a class="el" href="activity__actor_8cpp_source.html#l05599">play_with_pet_activity_actor::finish()</a>, <a class="el" href="activity__actor_8cpp_source.html#l06247">chop_logs_activity_actor::finish()</a>, <a class="el" href="activity__actor_8cpp_source.html#l06322">chop_planks_activity_actor::finish()</a>, <a class="el" href="activity__actor_8cpp_source.html#l06652">forage_activity_actor::finish()</a>, <a class="el" href="activity__actor_8cpp_source.html#l06782">gunmod_add_activity_actor::finish()</a>, <a class="el" href="iuse_8cpp_source.html#l03508">iuse::firecracker_pack_act()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02910">activity_handlers::fish_do_turn()</a>, <a class="el" href="iuse_8cpp_source.html#l01829">iuse::fish_trap_tick()</a>, <a class="el" href="monattack_8cpp_source.html#l04032">mattack::flesh_golem()</a>, <a class="el" href="game_8cpp_source.html#l11735">game::fling_creature()</a>, <a class="el" href="mission__companion_8cpp_source.html#l02136">talk_function::forage_return()</a>, <a class="el" href="character_8cpp_source.html#l01737">Character::forced_dismount()</a>, <a class="el" href="monattack_8cpp_source.html#l02497">mattack::formblob()</a>, <a class="el" href="suffer_8cpp_source.html#l01549">suffer::from_artifact_resonance()</a>, <a class="el" href="suffer_8cpp_source.html#l00540">suffer::from_asthma()</a>, <a class="el" href="suffer_8cpp_source.html#l01202">suffer::from_bad_bionics()</a>, <a class="el" href="suffer_8cpp_source.html#l00477">suffer::from_chemimbalance()</a>, <a class="el" href="suffer_8cpp_source.html#l01520">suffer::from_nyctophobia()</a>, <a class="el" href="suffer_8cpp_source.html#l00993">suffer::from_other_mutations()</a>, <a class="el" href="suffer_8cpp_source.html#l01089">suffer::from_radiation()</a>, <a class="el" href="suffer_8cpp_source.html#l01263">suffer::from_stimulants()</a>, <a class="el" href="fungal__effects_8cpp_source.html#l00058">fungal_effects::fungalize()</a>, <a class="el" href="iuse_8cpp_source.html#l00665">iuse::fungicide()</a>, <a class="el" href="monattack_8cpp_source.html#l01982">mattack::fungus_big_blossom()</a>, <a class="el" href="monattack_8cpp_source.html#l02093">mattack::fungus_bristle()</a>, <a class="el" href="monattack_8cpp_source.html#l02179">mattack::fungus_fortify()</a>, <a class="el" href="monattack_8cpp_source.html#l01967">mattack::fungus_haze()</a>, <a class="el" href="monattack_8cpp_source.html#l02029">mattack::fungus_inject()</a>, <a class="el" href="monattack_8cpp_source.html#l02156">mattack::fungus_sprout()</a>, <a class="el" href="iexamine_8cpp_source.html#l00523">iexamine::gaspump()</a>, <a class="el" href="relic_8cpp_source.html#l00270">relic_charge_template::generate()</a>, <a class="el" href="relic_8cpp_source.html#l00652">relic_procgen_data::generate()</a>, <a class="el" href="mapgen_8cpp_source.html#l00209">map::generate()</a>, <a class="el" href="mapgen_8cpp_source.html#l00360">mapgen_basic_container::generate()</a>, <a class="el" href="iuse__software__lightson_8cpp_source.html#l00080">lightson_game::generate_change_coords()</a>, <a class="el" href="overmap_8cpp_source.html#l03475">overmap::generate_sub()</a>, <a class="el" href="mapgen_8cpp_source.html#l00947">jmapgen_int::get()</a>, <a class="el" href="item__components_8cpp_source.html#l00100">item_components::get_and_remove_random_entry()</a>, <a class="el" href="field__type_8h_source.html#l00085">field_effect::get_duration()</a>, <a class="el" href="monster_8cpp_source.html#l03818">monster::get_horde_attraction()</a>, <a class="el" href="effect_8cpp_source.html#l01265">effect::get_mod()</a>, <a class="el" href="iuse_8cpp_source.html#l03743">get_music_description()</a>, <a class="el" href="handle__action_8cpp_source.html#l00236">game::get_player_input()</a>, <a class="el" href="monattack_8cpp_source.html#l01411">get_random_index()</a>, <a class="el" href="character_8cpp_source.html#l05441">Character::get_sick()</a>, <a class="el" href="weather__gen_8cpp_source.html#l00114">weather_generator::get_weather()</a>, <a class="el" href="mongroup_8cpp_source.html#l00619">MonsterGroupManager::GetRandomMonsterFromGroup()</a>, <a class="el" href="mongroup_8cpp_source.html#l00204">MonsterGroupManager::GetResultFromGroup()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00684">talk_function::give_aid()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00707">talk_function::give_all_aid()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00612">talk_function::give_equipment_allowance()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00138">trapfunc::glass()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01426">trapfunc::glow()</a>, <a class="el" href="npcmove_8cpp_source.html#l00260">npc::good_escape_direction()</a>, <a class="el" href="iuse_8cpp_source.html#l03274">iuse::granade_act()</a>, <a class="el" href="iuse_8cpp_source.html#l03435">iuse::grenade_inc_act()</a>, <a class="el" href="monattack_8cpp_source.html#l01724">mattack::grow_vine()</a>, <a class="el" href="monattack_8cpp_source.html#l01629">mattack::growplants()</a>, <a class="el" href="computer__session_8cpp_source.html#l00264">computer_session::hack_attempt()</a>, <a class="el" href="iuse_8cpp_source.html#l07195">hackveh()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l00110">handbrake()</a>, <a class="el" href="ranged_8cpp_source.html#l00606">Character::handle_gun_damage()</a>, <a class="el" href="ranged_8cpp_source.html#l00771">Character::handle_gun_overheat()</a>, <a class="el" href="start__location_8cpp_source.html#l00559">start_location::handle_heli_crash()</a>, <a class="el" href="npctalk_8cpp_source.html#l01256">npc::handle_sound()</a>, <a class="el" href="vehicle__move_8cpp_source.html#l01218">vehicle::handle_trap()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l01230">Character::hardcoded_effects()</a>, <a class="el" href="melee_8cpp_source.html#l02399">hardcoded_mutation_attack()</a>, <a class="el" href="iexamine_8cpp_source.html#l02676">iexamine::harvest_plant()</a>, <a class="el" href="monster_8cpp_source.html#l00405">monster::hasten_upgrade()</a>, <a class="el" href="monster_8cpp_source.html#l03758">monster::hear_sound()</a>, <a class="el" href="character_8cpp_source.html#l09913">Character::heartrate_bpm()</a>, <a class="el" href="character_8cpp_source.html#l08454">Character::hitall()</a>, <a class="el" href="mission__companion_8cpp_source.html#l01952">talk_function::hospital_raid_return()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01466">trapfunc::hum()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04711">basecamp::hunting_results()</a>, <a class="el" href="character_8cpp_source.html#l12557">Character::impact()</a>, <a class="el" href="monster_8cpp_source.html#l02549">monster::impact()</a>, <a class="el" href="iuse_8cpp_source.html#l01018">iuse::inhaler()</a>, <a class="el" href="vehicle_8cpp_source.html#l00292">vehicle::init_state()</a>, <a class="el" href="newcharacter_8cpp_source.html#l00841">Character::initialize()</a>, <a class="el" href="bionics_8cpp_source.html#l02417">Character::install_bionics()</a>, <a class="el" href="suffer_8cpp_source.html#l01703">Character::irradiate()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01190">is_summon_friendly()</a>, <a class="el" href="item_8cpp_source.html#l00299">item::item()</a>, <a class="el" href="mission__start_8cpp_source.html#l00058">mission_start::kill_nemesis()</a>, <a class="el" href="vehicle_8cpp_source.html#l07545">vehicle::leak_fuel()</a>, <a class="el" href="monattack_8cpp_source.html#l04661">mattack::leech_spawner()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00645">talk_function::lesser_give_aid()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00661">talk_function::lesser_give_all_aid()</a>, <a class="el" href="savegame__json_8cpp_source.html#l02421">monster::load()</a>, <a class="el" href="monattack_8cpp_source.html#l04148">mattack::lunge()</a>, <a class="el" href="iuse_8cpp_source.html#l02295">iuse::mace()</a>, <a class="el" href="iuse_8cpp_source.html#l08450">iuse::magic_8_ball()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00590">magical_polymorph()</a>, <a class="el" href="monster_8cpp_source.html#l03443">monster::make_friendly()</a>, <a class="el" href="map_8cpp_source.html#l03326">map::make_rubble()</a>, <a class="el" href="mapgen__functions_8cpp_source.html#l01142">mapgen_lake_shore()</a>, <a class="el" href="mapgen__functions_8cpp_source.html#l01604">mapgen_ocean_shore()</a>, <a class="el" href="mapgen__functions_8cpp_source.html#l02070">mapgen_ravine_edge()</a>, <a class="el" href="mapgen__functions_8cpp_source.html#l00626">mapgen_river_curved()</a>, <a class="el" href="mapgen__functions_8cpp_source.html#l00566">mapgen_river_curved_not()</a>, <a class="el" href="mapgen__functions_8cpp_source.html#l00600">mapgen_river_straight()</a>, <a class="el" href="mapgen__functions_8cpp_source.html#l00661">mapgen_rock_partial()</a>, <a class="el" href="iuse_8cpp_source.html#l01239">marloss_common()</a>, <a class="el" href="iuse_8cpp_source.html#l08471">iuse::measure_resonance()</a>, <a class="el" href="monster_8cpp_source.html#l01903">monster::melee_attack()</a>, <a class="el" href="melee_8cpp_source.html#l02536">melee_message()</a>, <a class="el" href="melee_8cpp_source.html#l02309">Character::melee_special_effects()</a>, <a class="el" href="melee_8cpp_source.html#l00455">melee_train()</a>, <a class="el" href="iuse_8cpp_source.html#l00850">iuse::meth()</a>, <a class="el" href="creature_8cpp_source.html#l02902">Character::mod_speed_bonus()</a>, <a class="el" href="item__group_8cpp_source.html#l00514">Item_modifier::modify()</a>, <a class="el" href="monster_8cpp_source.html#l00288">monster::monster()</a>, <a class="el" href="map__field_8cpp_source.html#l01819">map::monster_in_field()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00800">talk_function::morale_chat()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00806">talk_function::morale_chat_activity()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00173">avatar_action::move()</a>, <a class="el" href="monster_8cpp_source.html#l02205">monster::move_effects()</a>, <a class="el" href="overmap_8cpp_source.html#l04033">overmap::move_hordes()</a>, <a class="el" href="overmap_8cpp_source.html#l04184">overmap::move_nemesis()</a>, <a class="el" href="monmove_8cpp_source.html#l01852">monster::move_to()</a>, <a class="el" href="npcmove_8cpp_source.html#l02882">npc::move_to()</a>, <a class="el" href="npcmove_8cpp_source.html#l04660">npc::mug_player()</a>, <a class="el" href="iuse_8cpp_source.html#l07431">iuse::multicooker()</a>, <a class="el" href="iuse_8cpp_source.html#l07379">multicooker_hallu()</a>, <a class="el" href="mutation_8cpp_source.html#l01058">Character::mutate()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01621">spell_effect::mutate()</a>, <a class="el" href="mutation_8cpp_source.html#l01430">Character::mutate_towards()</a>, <a class="el" href="map__extras_8cpp_source.html#l01858">MapExtras::mx_casings()</a>, <a class="el" href="map__extras_8cpp_source.html#l02078">MapExtras::mx_city_trap()</a>, <a class="el" href="map__extras_8cpp_source.html#l02041">MapExtras::mx_corpses()</a>, <a class="el" href="map__extras_8cpp_source.html#l00323">MapExtras::mx_helicopter()</a>, <a class="el" href="map__extras_8cpp_source.html#l02016">MapExtras::mx_looters()</a>, <a class="el" href="map__extras_8cpp_source.html#l00464">MapExtras::mx_minefield()</a>, <a class="el" href="map__extras_8cpp_source.html#l01229">MapExtras::mx_pond()</a>, <a class="el" href="map__extras_8cpp_source.html#l01016">MapExtras::mx_portal_in()</a>, <a class="el" href="map__extras_8cpp_source.html#l01505">MapExtras::mx_reed()</a>, <a class="el" href="map__extras_8cpp_source.html#l01553">MapExtras::mx_roadworks()</a>, <a class="el" href="iuse_8cpp_source.html#l01424">iuse::mycus()</a>, <a class="el" href="iuse__software__lightson_8cpp_source.html#l00019">lightson_game::new_level()</a>, <a class="el" href="iuse__software__minesweeper_8cpp_source.html#l00029">minesweeper_game::new_level()</a>, <a class="el" href="monster_8cpp_source.html#l00431">monster::next_upgrade_time()</a>, <a class="el" href="addiction_8cpp_source.html#l00167">nicotine_effect()</a>, <a class="el" href="vehicle_8cpp_source.html#l04018">vehicle::noise_and_smoke()</a>, <a class="el" href="monmove_8cpp_source.html#l01357">monster::nursebot_operate()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04820">om_cutdown_trees()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00923">melee_actor::on_damage()</a>, <a class="el" href="character_8cpp_source.html#l04630">Character::on_damage_of_type()</a>, <a class="el" href="character_8cpp_source.html#l01949">Character::on_dodge()</a>, <a class="el" href="character_8cpp_source.html#l08077">Character::on_hit()</a>, <a class="el" href="monster_8cpp_source.html#l03679">monster::on_hit()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01072">vehicle::operate_planter()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01028">vehicle::operate_reaper()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01110">vehicle::operate_scoop()</a>, <a class="el" href="iuse_8cpp_source.html#l02366">iuse::pack_cbm()</a>, <a class="el" href="npctalk_8cpp_source.html#l02069">parse_tags()</a>, <a class="el" href="vehicle__move_8cpp_source.html#l00832">vehicle::part_collision()</a>, <a class="el" href="iexamine_8cpp_source.html#l02001">iexamine::pedestal_wyrm()</a>, <a class="el" href="timed__event_8cpp_source.html#l00325">timed_event::per_turn()</a>, <a class="el" href="melee_8cpp_source.html#l02277">Character::perform_special_attacks()</a>, <a class="el" href="melee_8cpp_source.html#l01801">Character::perform_technique()</a>, <a class="el" href="game_8cpp_source.html#l12795">game::perhaps_add_random_npc()</a>, <a class="el" href="iuse_8cpp_source.html#l01525">iuse::petfood()</a>, <a class="el" href="monattack_8cpp_source.html#l03033">mattack::photograph()</a>, <a class="el" href="regional__settings_8cpp_source.html#l00846">groundcover_extra::pick()</a>, <a class="el" href="iexamine_8cpp_source.html#l04253">pick_plant()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01690">activity_handlers::pickaxe_finish()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00830">trapfunc::pit()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00964">trapfunc::pit_glass()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00879">trapfunc::pit_spikes()</a>, <a class="el" href="overmap_8cpp_source.html#l05438">overmap::place_cities()</a>, <a class="el" href="character_8cpp_source.html#l10444">Character::place_corpse()</a>, <a class="el" href="mission__start_8cpp_source.html#l00193">mission_start::place_deposit_box()</a>, <a class="el" href="mapgen_8cpp_source.html#l06558">map::place_items()</a>, <a class="el" href="overmap_8cpp_source.html#l06936">overmap::place_mongroups()</a>, <a class="el" href="start__location_8cpp_source.html#l00441">start_location::place_player()</a>, <a class="el" href="game_8cpp_source.html#l10870">game::place_player()</a>, <a class="el" href="overmap_8cpp_source.html#l07162">overmap::place_radios()</a>, <a class="el" href="overmap_8cpp_source.html#l05882">overmap::place_ravines()</a>, <a class="el" href="overmap_8cpp_source.html#l05258">overmap::place_river()</a>, <a class="el" href="overmap_8cpp_source.html#l04898">overmap::place_rivers()</a>, <a class="el" href="vehicle_8cpp_source.html#l05953">vehicle::place_spawn_items()</a>, <a class="el" href="mapgen_8cpp_source.html#l06431">map::place_spawns()</a>, <a class="el" href="overmap_8cpp_source.html#l06619">overmap::place_special()</a>, <a class="el" href="overmap_8cpp_source.html#l06687">overmap::place_special_attempt()</a>, <a class="el" href="overmap_8cpp_source.html#l05051">overmap::place_swamps()</a>, <a class="el" href="game_8cpp_source.html#l01136">game::place_vehicle_nearby()</a>, <a class="el" href="mapgen_8cpp_source.html#l06504">map::place_vending()</a>, <a class="el" href="monmove_8cpp_source.html#l00517">monster::plan()</a>, <a class="el" href="map__field_8cpp_source.html#l01443">map::player_in_field()</a>, <a class="el" href="activity__actor_8cpp_source.html#l02063">read_activity_actor::player_readma()</a>, <a class="el" href="vehicle__move_8cpp_source.html#l01415">vehicle::pldrive()</a>, <a class="el" href="iuse_8cpp_source.html#l04023">iuse::portable_game()</a>, <a class="el" href="iuse_8cpp_source.html#l03561">iuse::portal()</a>, <a class="el" href="iexamine_8cpp_source.html#l07445">iexamine::practice_survival_while_foraging()</a>, <a class="el" href="computer__session_8cpp_source.html#l01919">computer_session::print_gibberish_line()</a>, <a class="el" href="bionics_8cpp_source.html#l01561">Character::process_bionic()</a>, <a class="el" href="item_8cpp_source.html#l13054">item::process_corpse()</a>, <a class="el" href="item_8cpp_source.html#l13137">item::process_litcig()</a>, <a class="el" href="character_8cpp_source.html#l10776">Character::process_one_effect()</a>, <a class="el" href="monster_8cpp_source.html#l03111">monster::process_one_effect()</a>, <a class="el" href="sounds_8cpp_source.html#l00569">sounds::process_sound_markers()</a>, <a class="el" href="character_8cpp_source.html#l02309">Character::process_turn()</a>, <a class="el" href="monster_8cpp_source.html#l02627">monster::process_turn()</a>, <a class="el" href="ballistics_8cpp_source.html#l00201">projectile_attack()</a>, <a class="el" href="iuse_8cpp_source.html#l00973">iuse::prozac()</a>, <a class="el" href="monattack_8cpp_source.html#l00988">mattack::pull_metal_weapon()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01726">activity_handlers::pulp_do_turn()</a>, <a class="el" href="monmove_8cpp_source.html#l02094">monster::push_to()</a>, <a class="el" href="iuse_8cpp_source.html#l02528">iuse::radio_tick()</a>, <a class="el" href="overmap_8h_source.html#l00084">radio_tower::radio_tower()</a>, <a class="el" href="math__parser__func_8h_source.html#l00056">rand()</a>, <a class="el" href="output_8cpp_source.html#l01318">rand_char()</a>, <a class="el" href="item_8cpp_source.html#l00868">item::rand_degradation()</a>, <a class="el" href="overmap_8cpp_source.html#l06504">om_direction::random()</a>, <a class="el" href="options_8cpp_source.html#l00187">option_slider::random_level()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01108">random_neighbor()</a>, <a class="el" href="map__selector_8cpp_source.html#l00039">random_point()</a>, <a class="el" href="bodypart_8cpp_source.html#l00262">body_part_type::random_sub_part()</a>, <a class="el" href="newcharacter_8cpp_source.html#l00422">avatar::randomize()</a>, <a class="el" href="npc_8cpp_source.html#l00551">npc::randomize()</a>, <a class="el" href="avatar_8cpp_source.html#l01804">avatar::randomize_hobbies()</a>, <a class="el" href="monattack_8cpp_source.html#l03883">mattack::ratking()</a>, <a class="el" href="character_8cpp_source.html#l01384">Character::react_to_felt_pain()</a>, <a class="el" href="skill_8cpp_source.html#l00398">SkillLevel::readBook()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04270">basecamp::recruit_return()</a>, <a class="el" href="vehicle_8cpp_source.html#l01972">vehicle::remove_part()</a>, <a class="el" href="monster_8cpp_source.html#l02591">monster::reset_special_rng()</a>, <a class="el" href="explosion_8cpp_source.html#l00816">explosion_handler::resonance_cascade()</a>, <a class="el" href="mission__util_8cpp_source.html#l00037">reveal_destination()</a>, <a class="el" href="monattack_8cpp_source.html#l04386">mattack::riotbot()</a>, <a class="el" href="npc__class_8cpp_source.html#l00548">distribution::rng_roll()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03636">activity_handlers::robot_control_finish()</a>, <a class="el" href="iuse__software__kitten_8cpp_source.html#l00024">robot_finds_kitten::robot_finds_kitten()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02880">rod_fish()</a>, <a class="el" href="mapdata_8cpp_source.html#l01151">activity_byproduct::roll()</a>, <a class="el" href="shearing_8cpp_source.html#l00010">shearing_entry::roll()</a>, <a class="el" href="npctalk_8cpp_source.html#l01952">talk_trial::roll()</a>, <a class="el" href="melee_8cpp_source.html#l01285">roll_melee_damage_internal()</a>, <a class="el" href="map_8cpp_source.html#l08320">map::rotten_item_spawn()</a>, <a class="el" href="iuse_8cpp_source.html#l03839">iuse::rpgdie()</a>, <a class="el" href="game_8cpp_source.html#l05580">game::save_cyborg()</a>, <a class="el" href="mondeath_8cpp_source.html#l00092">scatter_chunks()</a>, <a class="el" href="mission__companion_8cpp_source.html#l01796">talk_function::scavenging_patrol_return()</a>, <a class="el" href="mission__companion_8cpp_source.html#l01847">talk_function::scavenging_raid_return()</a>, <a class="el" href="monattack_8cpp_source.html#l01426">mattack::science()</a>, <a class="el" href="mapgen_8cpp_source.html#l07195">science_room()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04698">basecamp::search_results()</a>, <a class="el" href="monattack_8cpp_source.html#l03381">mattack::searchlight()</a>, <a class="el" href="vehicle__move_8cpp_source.html#l01307">vehicle::selfdrive()</a>, <a class="el" href="newcharacter_8cpp_source.html#l03860">set_description()</a>, <a class="el" href="newcharacter_8cpp_source.html#l02688">set_hobbies()</a>, <a class="el" href="npcmove_8cpp_source.html#l04851">npc::set_omt_destination()</a>, <a class="el" href="newcharacter_8cpp_source.html#l02333">set_profession()</a>, <a class="el" href="newcharacter_8cpp_source.html#l03404">set_scenario()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00429">set_up_butchery()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01487">trapfunc::shadow()</a>, <a class="el" href="vehicle__move_8cpp_source.html#l02174">map::shake_vehicle()</a>, <a class="el" href="monattack_8cpp_source.html#l00915">mattack::shockstorm()</a>, <a class="el" href="map_8cpp_source.html#l04484">map::shoot()</a>, <a class="el" href="npc_8cpp_source.html#l01933">npc::shop_restock()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00496">trapfunc::shotgun()</a>, <a class="el" href="monattack_8cpp_source.html#l00668">mattack::shriek_stun()</a>, <a class="el" href="iexamine_8cpp_source.html#l04512">iexamine::shrub_wildveggies()</a>, <a class="el" href="overmap_8cpp_source.html#l04275">overmap::signal_hordes()</a>, <a class="el" href="item_8cpp_source.html#l11713">item::simulate_burn()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01115">sinkhole_safety_roll()</a>, <a class="el" href="monattack_8cpp_source.html#l04338">mattack::slimespring()</a>, <a class="el" href="handle__action_8cpp_source.html#l00868">smash()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l00438">vehicle::smash_security_system()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01607">trapfunc::snake()</a>, <a class="el" href="npc_8cpp_source.html#l01003">npc::spawn_at_omt()</a>, <a class="el" href="map_8cpp_source.html#l08905">map::spawn_monsters_submap()</a>, <a class="el" href="map_8cpp_source.html#l08762">map::spawn_monsters_submap_group()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01233">spell_effect::spawn_summoned_monster()</a>, <a class="el" href="vehicle_8cpp_source.html#l04003">vehicle::spew_field()</a>, <a class="el" href="monattack_8cpp_source.html#l01810">mattack::spit_sap()</a>, <a class="el" href="mondeath_8cpp_source.html#l00139">mdeath::splatter()</a>, <a class="el" href="map__field_8cpp_source.html#l00273">map::spread_gas()</a>, <a class="el" href="monster_8cpp_source.html#l02435">monster::stability_roll()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04219">harvest_activity_actor::start()</a>, <a class="el" href="activity__actor_8cpp_source.html#l05593">play_with_pet_activity_actor::start()</a>, <a class="el" href="iuse__software__snake_8cpp_source.html#l00085">snake_game::start_game()</a>, <a class="el" href="npc_8cpp_source.html#l00866">starting_inv()</a>, <a class="el" href="iexamine_8cpp_source.html#l05048">str_to_illiterate_str()</a>, <a class="el" href="monattack_8cpp_source.html#l05399">mattack::stretch_attack()</a>, <a class="el" href="iuse_8cpp_source.html#l08299">iuse::strong_antibiotic()</a>, <a class="el" href="faction__camp_8cpp_source.html#l06005">survive_random_encounter()</a>, <a class="el" href="ranged_8cpp_source.html#l01615">Target_attributes::Target_attributes()</a>, <a class="el" href="monattack_8cpp_source.html#l03173">mattack::taze()</a>, <a class="el" href="teleport_8cpp_source.html#l00034">teleport::teleport()</a>, <a class="el" href="teleport_8cpp_source.html#l00055">teleport::teleport_to_point()</a>, <a class="el" href="map_8cpp_source.html#l02226">map::ter_set()</a>, <a class="el" href="iuse_8cpp_source.html#l00948">iuse::thorazine()</a>, <a class="el" href="ranged_8cpp_source.html#l01308">Character::throw_item()</a>, <a class="el" href="ranged_8cpp_source.html#l01281">Character::thrown_item_total_damage_raw()</a>, <a class="el" href="vehicle__move_8cpp_source.html#l00448">vehicle::thrust()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l00992">vehicle::transform_terrain()</a>, <a class="el" href="iexamine_8cpp_source.html#l04284">iexamine::tree_hickory()</a>, <a class="el" href="monattack_8cpp_source.html#l01835">mattack::triffid_heartbeat()</a>, <a class="el" href="trap_8cpp_source.html#l00387">trap::triggered_by_sound()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00335">trapfunc::tripwire()</a>, <a class="el" href="avatar_8cpp_source.html#l00887">avatar::try_break_relax_gas()</a>, <a class="el" href="character__escape_8cpp_source.html#l00181">Character::try_remove_grab()</a>, <a class="el" href="monster_8cpp_source.html#l00547">monster::try_reproduce()</a>, <a class="el" href="overmap_8cpp_source.html#l06494">om_direction::turn_random()</a>, <a class="el" href="bionics_8cpp_source.html#l02117">Character::uninstall_bionic()</a>, <a class="el" href="weather_8cpp_source.html#l00902">weather_manager::update_weather()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01485">spell_effect::upgrade()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00650">explosion_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00769">consume_drug_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00902">place_monster_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01949">fireweapon_off_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l05279">sew_advanced_actor::use()</a>, <a class="el" href="npc__attack_8cpp_source.html#l00232">npc_attack_melee::use()</a>, <a class="el" href="game_8cpp_source.html#l11966">game::vertical_move()</a>, <a class="el" href="character_8cpp_source.html#l07521">Character::vomit()</a>, <a class="el" href="overmap_8cpp_source.html#l03998">mongroup::wander()</a>, <a class="el" href="map_8cpp_source.html#l05415">map::water_from()</a>, <a class="el" href="iuse_8cpp_source.html#l08288">iuse::weak_antibiotic()</a>, <a class="el" href="effect_8cpp_source.html#l00129">weed_msg()</a>, <a class="el" href="weather_8cpp_source.html#l00376">wet_character()</a>, <a class="el" href="suffer_8cpp_source.html#l00402">suffer::while_awake()</a>, <a class="el" href="suffer_8cpp_source.html#l00316">suffer::while_grabbed()</a>, <a class="el" href="suffer_8cpp_source.html#l00289">suffer::while_underwater()</a>, <a class="el" href="suffer_8cpp_source.html#l01420">suffer::without_sleep()</a>, <a class="el" href="iuse_8cpp_source.html#l00484">iuse::xanax()</a>, and <a class="el" href="mondefense_8cpp_source.html#l00044">mdefense::zapback()</a>.</p>

</div>
</div>
<a id="a81656706da6c7486137ad8578c0f523e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81656706da6c7486137ad8578c0f523e">&#9670;&nbsp;</a></span>season_of_year()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1b">season_type</a> season_of_year </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The season of the of the given time point. Returns the same season for any input if the <a class="el" href="namespacecalendar.html#a18e011596e47842fc4d1ab7f84cbb7a1">calendar::eternal_season</a> yields true. </dd></dl>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00810">810</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;{</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keyword">static</span> <a class="code" href="classtime__point.html">time_point</a> prev_turn = <a class="code" href="namespacecalendar.html#abf9e7bc62ef51f362834af2a093d567b">calendar::before_time_starts</a>;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keyword">static</span> <a class="code" href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1b">season_type</a> prev_season = <a class="code" href="namespacecalendar.html#a36eb7f1e870753fdbe4b92839d27955d">calendar::initial_season</a>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160; </div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordflow">if</span>( p != prev_turn ) {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        prev_turn = p;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="namespacecalendar.html#a18e011596e47842fc4d1ab7f84cbb7a1">calendar::eternal_season</a>() ) {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            <span class="comment">// If we use calendar::start to determine the initial season, and the user shortens the season length</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            <span class="comment">// mid-game, the result could be the wrong season!</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            <span class="keywordflow">return</span> prev_season = <a class="code" href="namespacecalendar.html#a36eb7f1e870753fdbe4b92839d27955d">calendar::initial_season</a>;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        }</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="keywordflow">return</span> prev_season = <span class="keyword">static_cast&lt;</span><a class="code" href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1b">season_type</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                                 to_turn&lt;int&gt;( p ) / to_turns&lt;int&gt;( <a class="code" href="namespacecalendar.html#aa61c940cc539463295afa98e7bf7d22b">calendar::season_length</a>() ) % 4</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                             );</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160; </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordflow">return</span> prev_season;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;}</div>
<div class="ttc" id="acalendar_8h_html_a5ac915753729cd68b608506d3c63ad1b"><div class="ttname"><a href="calendar_8h.html#a5ac915753729cd68b608506d3c63ad1b">season_type</a></div><div class="ttdeci">season_type</div><div class="ttdoc">Real world seasons.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00021">calendar.h:21</a></div></div>
<div class="ttc" id="aclasstime__point_html"><div class="ttname"><a href="classtime__point.html">time_point</a></div><div class="ttdoc">A point in the game time.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00459">calendar.h:460</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a36eb7f1e870753fdbe4b92839d27955d"><div class="ttname"><a href="namespacecalendar.html#a36eb7f1e870753fdbe4b92839d27955d">calendar::initial_season</a></div><div class="ttdeci">season_type initial_season</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00039">calendar.cpp:39</a></div></div>
<div class="ttc" id="anamespacecalendar_html_abf9e7bc62ef51f362834af2a093d567b"><div class="ttname"><a href="namespacecalendar.html#abf9e7bc62ef51f362834af2a093d567b">calendar::before_time_starts</a></div><div class="ttdeci">constexpr time_point before_time_starts</div><div class="ttdoc">A time point that is always before the current turn, even when the game has just started.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00535">calendar.h:535</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8h_source.html#l00535">calendar::before_time_starts</a>, <a class="el" href="calendar_8cpp_source.html#l00695">calendar::eternal_season()</a>, <a class="el" href="calendar_8cpp_source.html#l00039">calendar::initial_season</a>, and <a class="el" href="calendar_8cpp_source.html#l00715">calendar::season_length()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sounds_8cpp_source.html#l00358">sounds::add_footstep()</a>, <a class="el" href="mapdata_8cpp_source.html#l00636">map_data_common_t::color()</a>, <a class="el" href="display_8cpp_source.html#l00185">display::date_string()</a>, <a class="el" href="iexamine_8cpp_source.html#l02163">dead_plant()</a>, <a class="el" href="condition_8cpp_source.html#l01193">conditional_fun::anonymous_namespace{condition.cpp}::f_is_season()</a>, <a class="el" href="activity__actor_8cpp_source.html#l06652">forage_activity_actor::finish()</a>, <a class="el" href="iexamine_8cpp_source.html#l02435">iexamine::flower_marloss()</a>, <a class="el" href="mission__companion_8cpp_source.html#l02136">talk_function::forage_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03962">basecamp::gathering_return()</a>, <a class="el" href="weather__gen_8cpp_source.html#l00050">get_common_data()</a>, <a class="el" href="calendar_8cpp_source.html#l00891">get_diary_time_str()</a>, <a class="el" href="mapdata_8cpp_source.html#l00641">map_data_common_t::get_harvest()</a>, <a class="el" href="mongroup_8cpp_source.html#l00204">MonsterGroupManager::GetResultFromGroup()</a>, <a class="el" href="weather_8cpp_source.html#l00097">glare()</a>, <a class="el" href="monmove_8cpp_source.html#l00501">monster::mating_angry()</a>, <a class="el" href="monexamine_8cpp_source.html#l00578">monexamine::pet_menu()</a>, <a class="el" href="map_8cpp_source.html#l08437">map::restock_fruits()</a>, <a class="el" href="calendar__ui_8cpp_source.html#l00016">calendar_ui::select_time_point()</a>, <a class="el" href="sounds_8cpp_source.html#l00318">sounds::sound()</a>, <a class="el" href="mapdata_8cpp_source.html#l00631">map_data_common_t::symbol()</a>, <a class="el" href="weather__gen_8cpp_source.html#l00279">weather_generator::test_weather()</a>, <a class="el" href="calendar_8cpp_source.html#l00830">to_string()</a>, and <a class="el" href="monster_8cpp_source.html#l00547">monster::try_reproduce()</a>.</p>

</div>
</div>
<a id="a6f8c191e126bb0afe07e8d89662ba0c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f8c191e126bb0afe07e8d89662ba0c5">&#9670;&nbsp;</a></span>sidereal_time_at()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> sidereal_time_at </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structseason__effective__time.html">season_effective_time</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a>&#160;</td>
          <td class="paramname"><em>longitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td>
          <td class="paramname"><em>timezone</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00170">170</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">// Repeat some calculations from sun_ra_declination</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> days_since_epoch = to_days&lt;double&gt;( t.<a class="code" href="structseason__effective__time.html#acb3ee3c6979840e02f86d2d2b28abbbc">t</a> - <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> - timezone );</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> angle_per_day = 360_degrees / to_days&lt;int&gt;( <a class="code" href="namespacecalendar.html#a151f3184ac6460605cc4931707b08d8f">calendar::year_length</a>() );</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="comment">// Sidereal Time</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">// For the origin of sidereal time consider that at the epoch at Greenwich,</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// it&#39;s midnight on the vernal equinox so sidereal time should be 180.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// Timezone and longitude are both zero here, so L0 = 180.</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> L0 = 180_degrees;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// Sidereal time advances by 360 per day plus an additional 360 per year</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> L1 = 360_degrees + angle_per_day;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">return</span> L0 + L1 * days_since_epoch + longitude;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div>
<div class="ttc" id="astructseason__effective__time_html_acb3ee3c6979840e02f86d2d2b28abbbc"><div class="ttname"><a href="structseason__effective__time.html#acb3ee3c6979840e02f86d2d2b28abbbc">season_effective_time::t</a></div><div class="ttdeci">time_point t</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00661">calendar.h:661</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8h_source.html#l00661">season_effective_time::t</a>, <a class="el" href="calendar_8h_source.html#l00541">calendar::turn_zero</a>, and <a class="el" href="calendar_8cpp_source.html#l00710">calendar::year_length()</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00269">offset_to_sun_altitude()</a>, and <a class="el" href="calendar_8cpp_source.html#l00188">sun_azimuth_altitude()</a>.</p>

</div>
</div>
<a id="aa670f7ad34e1694149d8529c94e60b66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa670f7ad34e1694149d8529c94e60b66">&#9670;&nbsp;</a></span>solar_noon_near()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classtime__point.html">time_point</a> solar_noon_near </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00259">259</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;{</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtime__point.html">time_point</a> prior_midnight = t - <a class="code" href="calendar_8h.html#aa8a2c3326ae8829cef1439aa327897c4">time_past_midnight</a>( t );</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">return</span> prior_midnight + 12_hours;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">// If we were using a timezone rather than local solar time this would be</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// calculated as follows:</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">//constexpr time_duration longitude_hours = angle_to_time( location_boston.longitude );</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">//return prior_midnight + 12_hours - longitude_hours + timezone;</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8h_source.html#l00550">time_past_midnight()</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00295">sun_at_altitude()</a>, and <a class="el" href="calendar_8cpp_source.html#l00421">sun_moon_light_at_noon_near()</a>.</p>

</div>
</div>
<a id="a64bad31d19e480fb8c038f95d2ffc325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64bad31d19e480fb8c038f95d2ffc325">&#9670;&nbsp;</a></span>sun_altitude()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> sun_altitude </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtime__point.html">time_point</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00239">239</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;{</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="calendar_8cpp.html#a232044aa52e8a97dd23f5ac6dcaa8521">sun_azimuth_altitude</a>( t ).second;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a232044aa52e8a97dd23f5ac6dcaa8521"><div class="ttname"><a href="calendar_8cpp.html#a232044aa52e8a97dd23f5ac6dcaa8521">sun_azimuth_altitude</a></div><div class="ttdeci">std::pair&lt; units::angle, units::angle &gt; sun_azimuth_altitude(time_point ti)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00188">calendar.cpp:188</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00188">sun_azimuth_altitude()</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00350">is_day()</a>, <a class="el" href="calendar_8cpp_source.html#l00345">is_night()</a>, <a class="el" href="calendar_8cpp_source.html#l00355">is_twilight()</a>, <a class="el" href="calendar_8cpp_source.html#l00406">sun_irradiance()</a>, and <a class="el" href="calendar_8cpp_source.html#l00383">sun_light_at()</a>.</p>

</div>
</div>
<a id="a0f92d6a32c1425d16cad111f5ab02b48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f92d6a32c1425d16cad111f5ab02b48">&#9670;&nbsp;</a></span>sun_at_altitude()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classtime__point.html">time_point</a> sun_at_altitude </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> &amp;&#160;</td>
          <td class="paramname"><em>altitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> &amp;&#160;</td>
          <td class="paramname"><em>longitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>evening</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00295">295</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;{</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtime__point.html">time_point</a> solar_noon = <a class="code" href="calendar_8cpp.html#aa670f7ad34e1694149d8529c94e60b66">solar_noon_near</a>( t );</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::angle</a> initial_offset =</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="calendar_8cpp.html#a3f69d61c5560b7d7bcb7bfe121e7a4d5">offset_to_sun_altitude</a>( altitude, longitude, <a class="code" href="structseason__effective__time.html">season_effective_time</a>( solar_noon ), evening );</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">if</span>( !evening ) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        initial_offset -= 360_degrees;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> initial_offset_time = <a class="code" href="calendar_8cpp.html#abfa237871595205af606af586bc1b755">angle_to_time</a>( initial_offset );</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtime__point.html">time_point</a> initial_approximation = solar_noon + initial_offset_time;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="comment">// Now we should have the correct time to within a few minutes; iterate to</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">// get a more precise estimate</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::angle</a> correction_offset =</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <a class="code" href="calendar_8cpp.html#a3f69d61c5560b7d7bcb7bfe121e7a4d5">offset_to_sun_altitude</a>( altitude, longitude, <a class="code" href="structseason__effective__time.html">season_effective_time</a>( initial_approximation ),</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                                evening );</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span>( correction_offset &gt; 180_degrees ) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        correction_offset -= 360_degrees;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> correction_offset_time = <a class="code" href="calendar_8cpp.html#abfa237871595205af606af586bc1b755">angle_to_time</a>( correction_offset );</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">return</span> initial_approximation + correction_offset_time;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a3f69d61c5560b7d7bcb7bfe121e7a4d5"><div class="ttname"><a href="calendar_8cpp.html#a3f69d61c5560b7d7bcb7bfe121e7a4d5">offset_to_sun_altitude</a></div><div class="ttdeci">static units::angle offset_to_sun_altitude(const units::angle &amp;altitude, const units::angle &amp;longitude, const season_effective_time &amp;approx_time, const bool evening)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00269">calendar.cpp:269</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_aa670f7ad34e1694149d8529c94e60b66"><div class="ttname"><a href="calendar_8cpp.html#aa670f7ad34e1694149d8529c94e60b66">solar_noon_near</a></div><div class="ttdeci">static time_point solar_noon_near(const time_point &amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00259">calendar.cpp:259</a></div></div>
<div class="ttc" id="astructseason__effective__time_html"><div class="ttname"><a href="structseason__effective__time.html">season_effective_time</a></div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00658">calendar.h:658</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00110">angle_to_time()</a>, <a class="el" href="calendar_8cpp_source.html#l00269">offset_to_sun_altitude()</a>, and <a class="el" href="calendar_8cpp_source.html#l00259">solar_noon_near()</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00333">daylight_time()</a>, <a class="el" href="calendar_8cpp_source.html#l00328">night_time()</a>, <a class="el" href="calendar_8cpp_source.html#l00318">sunrise()</a>, and <a class="el" href="calendar_8cpp_source.html#l00323">sunset()</a>.</p>

</div>
</div>
<a id="a232044aa52e8a97dd23f5ac6dcaa8521"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a232044aa52e8a97dd23f5ac6dcaa8521">&#9670;&nbsp;</a></span>sun_azimuth_altitude()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt;<a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a>, <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a>&gt; sun_azimuth_altitude </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtime__point.html">time_point</a>&#160;</td>
          <td class="paramname"><em>ti</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00188">188</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;{</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keyword">const</span> <a class="code" href="structseason__effective__time.html">season_effective_time</a> t = <a class="code" href="structseason__effective__time.html">season_effective_time</a>( ti );</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::angle</a> right_ascension;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::angle</a> declination;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="classtime__duration.html">time_duration</a> timezone = <a class="code" href="calendar_8cpp.html#abfa237871595205af606af586bc1b755">angle_to_time</a>( <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>.<a class="code" href="structlat__long.html#ad2637336da703d54a8519763d85c5fb8">longitude</a> );</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    std::tie( right_ascension, declination ) = <a class="code" href="calendar_8cpp.html#adf3e812805a5faca2b9d467e4c2ca9b0">sun_ra_declination</a>( t, timezone );</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> sidereal_time = <a class="code" href="calendar_8cpp.html#a6f8c191e126bb0afe07e8d89662ba0c5">sidereal_time_at</a>( t, <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>.<a class="code" href="structlat__long.html#ad2637336da703d54a8519763d85c5fb8">longitude</a>, timezone );</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> hour_angle = sidereal_time - right_ascension;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// Use a two-step transformation to convert equatorial coordinates to</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// horizontal.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">// https://en.wikipedia.org/wiki/Celestial_coordinate_system#Equatorial_%E2%86%94_horizontal</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keyword">const</span> <a class="code" href="structrl__vec3d.html">rl_vec3d</a> intermediate(</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <a class="code" href="math__parser__func_8h.html#aa178d72bf03c69677934a8c977f3b850">cos</a>( hour_angle ) * <a class="code" href="math__parser__func_8h.html#aa178d72bf03c69677934a8c977f3b850">cos</a>( declination ),</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <a class="code" href="math__parser__func_8h.html#a3d9f495ca19a6110e624fc1d0ed3da74">sin</a>( hour_angle ) * <a class="code" href="math__parser__func_8h.html#aa178d72bf03c69677934a8c977f3b850">cos</a>( declination ),</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="math__parser__func_8h.html#a3d9f495ca19a6110e624fc1d0ed3da74">sin</a>( declination ) );</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keyword">const</span> <a class="code" href="structrl__vec3d.html">rl_vec3d</a> horizontal(</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        -intermediate.x * <a class="code" href="math__parser__func_8h.html#a3d9f495ca19a6110e624fc1d0ed3da74">sin</a>( <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>.<a class="code" href="structlat__long.html#a0f0e437d408fe02d0480d6692c71e917">latitude</a> ) +</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        intermediate.z * <a class="code" href="math__parser__func_8h.html#aa178d72bf03c69677934a8c977f3b850">cos</a>( <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>.<a class="code" href="structlat__long.html#a0f0e437d408fe02d0480d6692c71e917">latitude</a> ),</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        intermediate.y,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        intermediate.x * <a class="code" href="math__parser__func_8h.html#aa178d72bf03c69677934a8c977f3b850">cos</a>( <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>.<a class="code" href="structlat__long.html#a0f0e437d408fe02d0480d6692c71e917">latitude</a> ) +</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        intermediate.z * <a class="code" href="math__parser__func_8h.html#a3d9f495ca19a6110e624fc1d0ed3da74">sin</a>( <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>.<a class="code" href="structlat__long.html#a0f0e437d408fe02d0480d6692c71e917">latitude</a> )</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    );</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">// Azimuth is from the South, turning positive to the west</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> azimuth = <a class="code" href="units__utility_8cpp.html#a1e30191582247e71dd6bca985f5fba36">normalize</a>( -<a class="code" href="line_8cpp.html#aaa43dcdfe5b511b116fafb32c5cff349">atan2</a>( horizontal.xy() ) + 180_degrees );</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::angle</a> altitude = <a class="code" href="namespaceunits.html#a0097b141900b9bd3c4320f3b7398b9b3">units::asin</a>( horizontal.z );</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespacecalendar.html#a88ee8732258bf179a2f342428236d9bb">calendar::eternal_day</a>() ) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        altitude = 90_degrees;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespacecalendar.html#ab2139d3102000258a40ba16011b53b2f">calendar::eternal_night</a>() ) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        altitude = <a class="code" href="calendar_8cpp.html#a2a7965fd6cde99ef37693706a23f2c20">astronomical_dawn</a> - 10_degrees;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">/*printf(</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">        &quot;\n&quot;</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">        &quot;right_ascension = %f, declination = %f\n&quot;</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">        &quot;sidereal_time = %f, hour_angle = %f\n&quot;</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">        &quot;aziumth = %f, altitude = %f\n&quot;,</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">        to_degrees( right_ascension ), to_degrees( declination ),</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">        to_degrees( sidereal_time ), to_degrees( hour_angle ),</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">        to_degrees( azimuth ), to_degrees( altitude ) );*/</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">return</span> std::make_pair( azimuth, altitude );</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a2a7965fd6cde99ef37693706a23f2c20"><div class="ttname"><a href="calendar_8cpp.html#a2a7965fd6cde99ef37693706a23f2c20">astronomical_dawn</a></div><div class="ttdeci">static constexpr units::angle astronomical_dawn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00042">calendar.cpp:42</a></div></div>
<div class="ttc" id="aline_8cpp_html_aaa43dcdfe5b511b116fafb32c5cff349"><div class="ttname"><a href="line_8cpp.html#aaa43dcdfe5b511b116fafb32c5cff349">atan2</a></div><div class="ttdeci">units::angle atan2(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="line_8cpp_source.html#l00288">line.cpp:288</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a88ee8732258bf179a2f342428236d9bb"><div class="ttname"><a href="namespacecalendar.html#a88ee8732258bf179a2f342428236d9bb">calendar::eternal_day</a></div><div class="ttdeci">bool eternal_day()</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00705">calendar.cpp:705</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ab2139d3102000258a40ba16011b53b2f"><div class="ttname"><a href="namespacecalendar.html#ab2139d3102000258a40ba16011b53b2f">calendar::eternal_night</a></div><div class="ttdeci">bool eternal_night()</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00700">calendar.cpp:700</a></div></div>
<div class="ttc" id="anamespaceunits_html_a0097b141900b9bd3c4320f3b7398b9b3"><div class="ttname"><a href="namespaceunits.html#a0097b141900b9bd3c4320f3b7398b9b3">units::asin</a></div><div class="ttdeci">units::angle asin(double x)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l01127">units.h:1127</a></div></div>
<div class="ttc" id="astructrl__vec3d_html"><div class="ttname"><a href="structrl__vec3d.html">rl_vec3d</a></div><div class="ttdef"><b>Definition:</b> <a href="line_8h_source.html#l00306">line.h:306</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00110">angle_to_time()</a>, <a class="el" href="units_8h_source.html#l01127">units::asin()</a>, <a class="el" href="calendar_8cpp_source.html#l00042">astronomical_dawn</a>, <a class="el" href="line_8cpp_source.html#l00288">atan2()</a>, <a class="el" href="math__parser__func_8h_source.html#l00076">cos()</a>, <a class="el" href="calendar_8cpp_source.html#l00705">calendar::eternal_day()</a>, <a class="el" href="calendar_8cpp_source.html#l00700">calendar::eternal_night()</a>, <a class="el" href="units__utility_8h_source.html#l00048">lat_long::latitude</a>, <a class="el" href="calendar_8cpp_source.html#l00034">location</a>, <a class="el" href="units__utility_8h_source.html#l00049">lat_long::longitude</a>, <a class="el" href="units__utility_8cpp_source.html#l00010">normalize()</a>, <a class="el" href="calendar_8cpp_source.html#l00170">sidereal_time_at()</a>, <a class="el" href="math__parser__func_8h_source.html#l00071">sin()</a>, <a class="el" href="calendar_8cpp_source.html#l00125">sun_ra_declination()</a>, <a class="el" href="line_8h_source.html#l00307">rl_vec3d::x</a>, <a class="el" href="line_8cpp_source.html#l00719">rl_vec3d::xy()</a>, <a class="el" href="line_8h_source.html#l00308">rl_vec3d::y</a>, and <a class="el" href="line_8h_source.html#l00309">rl_vec3d::z</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l07851">iuse::sextant()</a>, <a class="el" href="calendar_8cpp_source.html#l00239">sun_altitude()</a>, <a class="el" href="display_8cpp_source.html#l00218">display::sundial_text_color()</a>, and <a class="el" href="calendar_8cpp_source.html#l00244">sunlight_angle()</a>.</p>

</div>
</div>
<a id="aaad5c602d279e8e1a5830ca4b698acc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaad5c602d279e8e1a5830ca4b698acc6">&#9670;&nbsp;</a></span>sun_irradiance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float sun_irradiance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00406">406</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;{</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> solar_alt = <a class="code" href="calendar_8cpp.html#a64bad31d19e480fb8c038f95d2ffc325">sun_altitude</a>( p );</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">if</span>( solar_alt &lt; 0_degrees ) {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="calendar_8cpp.html#a79cdf1cca1806e313ad51075023c2ff3">max_sun_irradiance</a>() * <a class="code" href="math__parser__func_8h.html#a3d9f495ca19a6110e624fc1d0ed3da74">sin</a>( solar_alt );</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a79cdf1cca1806e313ad51075023c2ff3"><div class="ttname"><a href="calendar_8cpp.html#a79cdf1cca1806e313ad51075023c2ff3">max_sun_irradiance</a></div><div class="ttdeci">float max_sun_irradiance()</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00052">calendar.cpp:52</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00052">max_sun_irradiance()</a>, <a class="el" href="math__parser__func_8h_source.html#l00071">sin()</a>, and <a class="el" href="calendar_8cpp_source.html#l00239">sun_altitude()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l07878">iuse::dbg_lux_meter()</a>, and <a class="el" href="weather_8cpp_source.html#l00143">incident_sun_irradiance()</a>.</p>

</div>
</div>
<a id="a515637eec30a1a2cc7357a1e08ddae27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a515637eec30a1a2cc7357a1e08ddae27">&#9670;&nbsp;</a></span>sun_light_at()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float sun_light_at </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current sunlight. </p>
<p>Based entirely on astronomical circumstances; does not account for e.g. weather. For most situations you actually want to call the below function which also includes moonlight. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00383">383</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;{</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> solar_alt = <a class="code" href="calendar_8cpp.html#a64bad31d19e480fb8c038f95d2ffc325">sun_altitude</a>( p );</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">if</span>( solar_alt &lt; <a class="code" href="calendar_8cpp.html#a2a7965fd6cde99ef37693706a23f2c20">astronomical_dawn</a> ) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( solar_alt &lt;= <a class="code" href="calendar_8cpp.html#aacbc03bcc426de1adb56f9a76d5b8861">nautical_dawn</a> ) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="comment">// Sunlight rises exponentially from 0 to 3.7f as sun rises from -18 to -12</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">return</span> 3.7f * ( std::exp2( <a class="code" href="namespaceunits.html#a9ce2bc1618fa4acf9f9e98effd9f1ae0">to_degrees</a>( solar_alt - <a class="code" href="calendar_8cpp.html#a2a7965fd6cde99ef37693706a23f2c20">astronomical_dawn</a> ) / 6.f ) - 1 );</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( solar_alt &lt;= <a class="code" href="calendar_8cpp.html#a686f3b05fb6c4bbaa23c280f3e796e31">civil_dawn</a> ) {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="comment">// Sunlight rises exponentially from 3.7f to 5.0f as sun rises from -12 to -6</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">return</span> ( 5.0f - 3.7f ) * ( std::exp2( <a class="code" href="namespaceunits.html#a9ce2bc1618fa4acf9f9e98effd9f1ae0">to_degrees</a>( solar_alt - <a class="code" href="calendar_8cpp.html#aacbc03bcc426de1adb56f9a76d5b8861">nautical_dawn</a> ) / 6.f ) - 1 ) + 3.7f;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( solar_alt &lt;= <a class="code" href="calendar_8cpp.html#a90fedb893f24c9c3c929d253bd1398ca">sunrise_angle</a> ) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="comment">// Sunlight rises exponentially from 5.0f to 60 as sun rises from -6 to -1</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordflow">return</span> ( 60 - 5.0f ) * ( std::exp2( <a class="code" href="namespaceunits.html#a9ce2bc1618fa4acf9f9e98effd9f1ae0">to_degrees</a>( solar_alt - <a class="code" href="calendar_8cpp.html#a686f3b05fb6c4bbaa23c280f3e796e31">civil_dawn</a> ) / 5.f ) - 1 ) + 5.0f;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( solar_alt &lt;= 60_degrees ) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="comment">// Linear increase from -1 to 60 degrees light increases from 60 to 125 brightness.</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">return</span> ( 65.f / 61 ) * <a class="code" href="namespaceunits.html#a9ce2bc1618fa4acf9f9e98effd9f1ae0">to_degrees</a>( solar_alt ) + 65.f / 61  + 60;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordflow">return</span> 125.f;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_aacbc03bcc426de1adb56f9a76d5b8861"><div class="ttname"><a href="calendar_8cpp.html#aacbc03bcc426de1adb56f9a76d5b8861">nautical_dawn</a></div><div class="ttdeci">static constexpr units::angle nautical_dawn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00043">calendar.cpp:43</a></div></div>
<div class="ttc" id="anamespaceunits_html_a9ce2bc1618fa4acf9f9e98effd9f1ae0"><div class="ttname"><a href="namespaceunits.html#a9ce2bc1618fa4acf9f9e98effd9f1ae0">units::to_degrees</a></div><div class="ttdeci">constexpr double to_degrees(const units::angle v)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00757">units.h:757</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00042">astronomical_dawn</a>, <a class="el" href="calendar_8cpp_source.html#l00044">civil_dawn</a>, <a class="el" href="calendar_8cpp_source.html#l00043">nautical_dawn</a>, <a class="el" href="calendar_8cpp_source.html#l00239">sun_altitude()</a>, <a class="el" href="calendar_8cpp_source.html#l00045">sunrise_angle</a>, and <a class="el" href="units_8h_source.html#l00757">units::to_degrees()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l07878">iuse::dbg_lux_meter()</a>, <a class="el" href="weather_8cpp_source.html#l00138">incident_sunlight()</a>, <a class="el" href="calendar_8cpp_source.html#l00416">sun_moon_light_at()</a>, and <a class="el" href="display_8cpp_source.html#l00218">display::sundial_text_color()</a>.</p>

</div>
</div>
<a id="a9111e23c691fddd93ee9e04e17d8851a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9111e23c691fddd93ee9e04e17d8851a">&#9670;&nbsp;</a></span>sun_moon_light_at()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float sun_moon_light_at </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current sunlight plus moonlight level. </p>
<p>Based entirely on astronomical circumstances; does not account for e.g. weather. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00416">416</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;{</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="calendar_8cpp.html#a515637eec30a1a2cc7357a1e08ddae27">sun_light_at</a>( p ) + <a class="code" href="calendar_8cpp.html#a34e7d0f6b2c4f857f7893fa8f4dc1ed1">moon_light_at</a>( p );</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a34e7d0f6b2c4f857f7893fa8f4dc1ed1"><div class="ttname"><a href="calendar_8cpp.html#a34e7d0f6b2c4f857f7893fa8f4dc1ed1">moon_light_at</a></div><div class="ttdeci">static float moon_light_at(const time_point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00373">calendar.cpp:373</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_a515637eec30a1a2cc7357a1e08ddae27"><div class="ttname"><a href="calendar_8cpp.html#a515637eec30a1a2cc7357a1e08ddae27">sun_light_at</a></div><div class="ttdeci">float sun_light_at(const time_point &amp;p)</div><div class="ttdoc">Returns the current sunlight.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00383">calendar.cpp:383</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00373">moon_light_at()</a>, and <a class="el" href="calendar_8cpp_source.html#l00383">sun_light_at()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l04396">game::natural_light_level()</a>, and <a class="el" href="calendar_8cpp_source.html#l00421">sun_moon_light_at_noon_near()</a>.</p>

</div>
</div>
<a id="a177e611bad61346d0061d4afc664024e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a177e611bad61346d0061d4afc664024e">&#9670;&nbsp;</a></span>sun_moon_light_at_noon_near()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float sun_moon_light_at_noon_near </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How much light is provided at the solar noon nearest to given time. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00421">421</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;{</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtime__point.html">time_point</a> solar_noon = <a class="code" href="calendar_8cpp.html#aa670f7ad34e1694149d8529c94e60b66">solar_noon_near</a>( p );</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="calendar_8cpp.html#a9111e23c691fddd93ee9e04e17d8851a">sun_moon_light_at</a>( solar_noon );</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a9111e23c691fddd93ee9e04e17d8851a"><div class="ttname"><a href="calendar_8cpp.html#a9111e23c691fddd93ee9e04e17d8851a">sun_moon_light_at</a></div><div class="ttdeci">float sun_moon_light_at(const time_point &amp;p)</div><div class="ttdoc">Returns the current sunlight plus moonlight level.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00416">calendar.cpp:416</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00259">solar_noon_near()</a>, and <a class="el" href="calendar_8cpp_source.html#l00416">sun_moon_light_at()</a>.</p>

<p class="reference">Referenced by <a class="el" href="editmap_8cpp_source.html#l00704">editmap::update_view_with_help()</a>.</p>

</div>
</div>
<a id="adf3e812805a5faca2b9d467e4c2ca9b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf3e812805a5faca2b9d467e4c2ca9b0">&#9670;&nbsp;</a></span>sun_ra_declination()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::pair&lt;<a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a>, <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a>&gt; sun_ra_declination </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structseason__effective__time.html">season_effective_time</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td>
          <td class="paramname"><em>timezone</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00125">125</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">// This derivation is mostly from</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">// https://en.wikipedia.org/wiki/Position_of_the_Sun</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="comment">// https://en.wikipedia.org/wiki/Celestial_coordinate_system#Notes_on_conversion</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">// The computation is inspired by the derivation based on J2000 (Greenwich</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">// noon, 2000-01-01), but because we want to be capable of handling a</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">// different year length than the real Earth, we don&#39;t use the same exact</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// values.</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="comment">// Instead we use as our epoch a point that won&#39;t change arbitrarily with a</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="comment">// different year length - Greenwich midnight on the vernal equinox</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// (note that the vernal equinox happens to be Spring day 1 in the game</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// calendar, which is convenient).</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> days_since_epoch = to_days&lt;double&gt;( t.<a class="code" href="structseason__effective__time.html#acb3ee3c6979840e02f86d2d2b28abbbc">t</a> - <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> - timezone );</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// The angle per day the Earth moves around the Sun</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> angle_per_day = 360_degrees / to_days&lt;int&gt;( <a class="code" href="namespacecalendar.html#a151f3184ac6460605cc4931707b08d8f">calendar::year_length</a>() );</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">// It turns out that we want mean longitude to be zero at the vernal</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// equinox, which simplifies the calculations.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> mean_long = angle_per_day * days_since_epoch;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">// Roughly 77 degrees offset between mean longitude and mean anomaly at</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">// J2000, so use that as our offset too.  The relative drift is slow, so we</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="comment">// neglect it.</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> mean_anomaly = 77_degrees + mean_long;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">// The two arbitrary constants in the calculation of ecliptic longitude</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// relate to the non-circularity of the Earth&#39;s orbit.</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> ecliptic_longitude =</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        mean_long + 1.915_degrees * <a class="code" href="math__parser__func_8h.html#a3d9f495ca19a6110e624fc1d0ed3da74">sin</a>( mean_anomaly ) + 0.020_degrees * <a class="code" href="math__parser__func_8h.html#a3d9f495ca19a6110e624fc1d0ed3da74">sin</a>( 2 * mean_anomaly );</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// Obliquity does vary slightly, but for simplicity we&#39;ll keep it fixed at</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">// its J2000 value.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keyword">static</span> constexpr <a class="code" href="classunits_1_1quantity.html">units::angle</a> obliquity = 23.439279_degrees;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// ecliptic rectangular coordinates</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keyword">const</span> <a class="code" href="structrl__vec2d.html">rl_vec2d</a> eclip( <a class="code" href="math__parser__func_8h.html#aa178d72bf03c69677934a8c977f3b850">cos</a>( ecliptic_longitude ), <a class="code" href="math__parser__func_8h.html#a3d9f495ca19a6110e624fc1d0ed3da74">sin</a>( ecliptic_longitude ) );</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">// rotate to equatorial coordinates</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keyword">const</span> <a class="code" href="structrl__vec3d.html">rl_vec3d</a> rot( eclip.x, eclip.y * <a class="code" href="math__parser__func_8h.html#aa178d72bf03c69677934a8c977f3b850">cos</a>( obliquity ), eclip.y * <a class="code" href="math__parser__func_8h.html#a3d9f495ca19a6110e624fc1d0ed3da74">sin</a>( obliquity ) );</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> right_ascension = <a class="code" href="line_8cpp.html#aaa43dcdfe5b511b116fafb32c5cff349">atan2</a>( rot.xy() );</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> declination = <a class="code" href="namespaceunits.html#a0097b141900b9bd3c4320f3b7398b9b3">units::asin</a>( rot.z );</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span> { right_ascension, declination };</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div>
<div class="ttc" id="astructrl__vec2d_html"><div class="ttname"><a href="structrl__vec2d.html">rl_vec2d</a></div><div class="ttdef"><b>Definition:</b> <a href="line_8h_source.html#l00280">line.h:280</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="units_8h_source.html#l01127">units::asin()</a>, <a class="el" href="line_8cpp_source.html#l00288">atan2()</a>, <a class="el" href="math__parser__func_8h_source.html#l00076">cos()</a>, <a class="el" href="math__parser__func_8h_source.html#l00071">sin()</a>, <a class="el" href="calendar_8h_source.html#l00661">season_effective_time::t</a>, <a class="el" href="calendar_8h_source.html#l00541">calendar::turn_zero</a>, <a class="el" href="line_8h_source.html#l00281">rl_vec2d::x</a>, <a class="el" href="line_8cpp_source.html#l00719">rl_vec3d::xy()</a>, <a class="el" href="line_8h_source.html#l00282">rl_vec2d::y</a>, <a class="el" href="calendar_8cpp_source.html#l00710">calendar::year_length()</a>, and <a class="el" href="line_8h_source.html#l00309">rl_vec3d::z</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00269">offset_to_sun_altitude()</a>, and <a class="el" href="calendar_8cpp_source.html#l00188">sun_azimuth_altitude()</a>.</p>

</div>
</div>
<a id="ad7b01c0ab75cfa0c80fc756af5e97906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7b01c0ab75cfa0c80fc756af5e97906">&#9670;&nbsp;</a></span>sunlight_angle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt;<a class="el" href="structrl__vec2d.html">rl_vec2d</a>&gt; sunlight_angle </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the offset by which a ray of sunlight would move when shifting down one z-level, or nullopt if the sun is below the horizon. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00244">244</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;{</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::angle</a> azimuth;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::angle</a> altitude;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    std::tie( azimuth, altitude ) = <a class="code" href="calendar_8cpp.html#a232044aa52e8a97dd23f5ac6dcaa8521">sun_azimuth_altitude</a>( t );</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span>( altitude &lt;= <a class="code" href="calendar_8cpp.html#a90fedb893f24c9c3c929d253bd1398ca">sunrise_angle</a> ) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="comment">// Sun below horizon</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="structrl__vec2d.html">rl_vec2d</a> horizontal_direction( -<a class="code" href="math__parser__func_8h.html#a3d9f495ca19a6110e624fc1d0ed3da74">sin</a>( azimuth ), <a class="code" href="math__parser__func_8h.html#aa178d72bf03c69677934a8c977f3b850">cos</a>( azimuth ) );</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="structrl__vec3d.html">rl_vec3d</a> <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a>( horizontal_direction * <a class="code" href="math__parser__func_8h.html#aa178d72bf03c69677934a8c977f3b850">cos</a>( altitude ), <a class="code" href="math__parser__func_8h.html#a3d9f495ca19a6110e624fc1d0ed3da74">sin</a>( altitude ) );</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a> /= -<a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a>.z;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a>.xy();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a></div><div class="ttdeci">direction</div><div class="ttdef"><b>Definition:</b> <a href="line_8h_source.html#l00042">line.h:42</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="math__parser__func_8h_source.html#l00076">cos()</a>, <a class="el" href="math__parser__func_8h_source.html#l00071">sin()</a>, <a class="el" href="calendar_8cpp_source.html#l00188">sun_azimuth_altitude()</a>, and <a class="el" href="calendar_8cpp_source.html#l00045">sunrise_angle</a>.</p>

</div>
</div>
<a id="a3b66a9bcaa19d642c0b89e9e07a5bcf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b66a9bcaa19d642c0b89e9e07a5bcf8">&#9670;&nbsp;</a></span>sunrise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__point.html">time_point</a> sunrise </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current sunrise time based on the time of year. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00318">318</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;{</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="calendar_8cpp.html#a0f92d6a32c1425d16cad111f5ab02b48">sun_at_altitude</a>( <a class="code" href="calendar_8cpp.html#a90fedb893f24c9c3c929d253bd1398ca">sunrise_angle</a>, <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>.<a class="code" href="structlat__long.html#ad2637336da703d54a8519763d85c5fb8">longitude</a>, p, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00034">location</a>, <a class="el" href="units__utility_8h_source.html#l00049">lat_long::longitude</a>, <a class="el" href="calendar_8cpp_source.html#l00295">sun_at_altitude()</a>, and <a class="el" href="calendar_8cpp_source.html#l00045">sunrise_angle</a>.</p>

<p class="reference">Referenced by <a class="el" href="mongroup_8cpp_source.html#l00204">MonsterGroupManager::GetResultFromGroup()</a>, <a class="el" href="mongroup_8cpp_source.html#l00129">is_spawn_valid()</a>, and <a class="el" href="math__parser__diag_8cpp_source.html#l01159">anonymous_namespace{math_parser_diag.cpp}::time_until_eval()</a>.</p>

</div>
</div>
<a id="a4930c6084e3379ceb56259d33dee133e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4930c6084e3379ceb56259d33dee133e">&#9670;&nbsp;</a></span>sunset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__point.html">time_point</a> sunset </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current sunset time based on the time of year. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00323">323</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;{</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="calendar_8cpp.html#a0f92d6a32c1425d16cad111f5ab02b48">sun_at_altitude</a>( <a class="code" href="calendar_8cpp.html#a90fedb893f24c9c3c929d253bd1398ca">sunrise_angle</a>, <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>.<a class="code" href="structlat__long.html#ad2637336da703d54a8519763d85c5fb8">longitude</a>, p, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00034">location</a>, <a class="el" href="units__utility_8h_source.html#l00049">lat_long::longitude</a>, <a class="el" href="calendar_8cpp_source.html#l00295">sun_at_altitude()</a>, and <a class="el" href="calendar_8cpp_source.html#l00045">sunrise_angle</a>.</p>

<p class="reference">Referenced by <a class="el" href="mongroup_8cpp_source.html#l00204">MonsterGroupManager::GetResultFromGroup()</a>, <a class="el" href="mongroup_8cpp_source.html#l00129">is_spawn_valid()</a>, <a class="el" href="display_8cpp_source.html#l00218">display::sundial_text_color()</a>, and <a class="el" href="math__parser__diag_8cpp_source.html#l01159">anonymous_namespace{math_parser_diag.cpp}::time_until_eval()</a>.</p>

</div>
</div>
<a id="abf1cdb8f4662bf96c8d762e9229df8d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf1cdb8f4662bf96c8d762e9229df8d9">&#9670;&nbsp;</a></span>to_string() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> to_string </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__duration.html">time_duration</a> &amp;&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>compact</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a string showing a duration. </p>
<p>The string contains at most two numbers along with their units. E.g. 3661 seconds will return "1 hour and 1 minute" (the 1 additional second is clipped). An input of 3601 will return "1 hour" (the second is clipped again and the number of additional minutes would be 0 so it's skipped). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">compact</td><td>True for compact display of time. Example: 1 min 15 secs </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00546">546</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;{</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">if</span>( d &gt;= <a class="code" href="namespacecalendar.html#a8805341f2154c0e7a8b656e77e1a4143">calendar::INDEFINITELY_LONG_DURATION</a> ) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;forever&quot;</span> );</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">if</span>( d &lt;= 1_minutes ) {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="calendar_8cpp.html#a595c4d560d7152dceb681820e7e00882">to_string_clipped</a>( d );</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <a class="code" href="classtime__duration.html">time_duration</a> divider = 0_turns;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">if</span>( d &lt; 1_hours ) {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        divider = 1_minutes;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( d &lt; 1_days ) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        divider = 1_hours;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( d &lt; 1_weeks ) {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        divider = 1_days;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( d &lt; <a class="code" href="namespacecalendar.html#aa61c940cc539463295afa98e7bf7d22b">calendar::season_length</a>() || <a class="code" href="namespacecalendar.html#a18e011596e47842fc4d1ab7f84cbb7a1">calendar::eternal_season</a>() ) {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        divider = 1_weeks;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( d &lt; <a class="code" href="namespacecalendar.html#a151f3184ac6460605cc4931707b08d8f">calendar::year_length</a>() ) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        divider = <a class="code" href="namespacecalendar.html#aa61c940cc539463295afa98e7bf7d22b">calendar::season_length</a>();</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        divider = <a class="code" href="namespacecalendar.html#a151f3184ac6460605cc4931707b08d8f">calendar::year_length</a>();</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">if</span>( d % divider != 0_turns ) {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">if</span>( compact ) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            <span class="comment">//~ %1$s - greater units of time (e.g. 3 hours), %2$s - lesser units of time (e.g. 11 minutes).</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;time duration&quot;</span>, <span class="stringliteral">&quot;%1$s %2$s&quot;</span> ),</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                                  <a class="code" href="calendar_8cpp.html#a595c4d560d7152dceb681820e7e00882">to_string_clipped</a>( d, <a class="code" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465">clipped_align::compact</a> ),</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                                  <a class="code" href="calendar_8cpp.html#a595c4d560d7152dceb681820e7e00882">to_string_clipped</a>( d % divider, <a class="code" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465">clipped_align::compact</a> ) );</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="comment">//~ %1$s - greater units of time (e.g. 3 hours), %2$s - lesser units of time (e.g. 11 minutes).</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s and %2$s&quot;</span> ),</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                                  <a class="code" href="calendar_8cpp.html#a595c4d560d7152dceb681820e7e00882">to_string_clipped</a>( d ),</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                                  <a class="code" href="calendar_8cpp.html#a595c4d560d7152dceb681820e7e00882">to_string_clipped</a>( d % divider ) );</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="calendar_8cpp.html#a595c4d560d7152dceb681820e7e00882">to_string_clipped</a>( d );</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a595c4d560d7152dceb681820e7e00882"><div class="ttname"><a href="calendar_8cpp.html#a595c4d560d7152dceb681820e7e00882">to_string_clipped</a></div><div class="ttdeci">static std::string to_string_clipped(const int num, const clipped_unit type, const clipped_align align)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00427">calendar.cpp:427</a></div></div>
<div class="ttc" id="acalendar_8h_html_ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465"><div class="ttname"><a href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465">clipped_align::compact</a></div><div class="ttdeci">@ compact</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465">compact</a>, <a class="el" href="calendar_8cpp_source.html#l00695">calendar::eternal_season()</a>, <a class="el" href="namespacecalendar.html#a8805341f2154c0e7a8b656e77e1a4143">calendar::INDEFINITELY_LONG_DURATION</a>, <a class="el" href="translations_8h_source.html#l00092">pgettext</a>, <a class="el" href="calendar_8cpp_source.html#l00715">calendar::season_length()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="calendar_8cpp_source.html#l00427">to_string_clipped()</a>, and <a class="el" href="calendar_8cpp_source.html#l00710">calendar::year_length()</a>.</p>

<p class="reference">Referenced by <a class="el" href="condition_8cpp_source.html#l00402">abstract_read_var_info()</a>, <a class="el" href="ranged_8cpp_source.html#l03304">target_ui::action_switch_mode()</a>, <a class="el" href="newcharacter_8cpp_source.html#l03294">assemble_scenario_details()</a>, <a class="el" href="iexamine_8cpp_source.html#l03317">iexamine::autoclave_full()</a>, <a class="el" href="iexamine_8cpp_source.html#l05684">iexamine::autodoc()</a>, <a class="el" href="iexamine__actors_8cpp_source.html#l00250">eoc_examine_actor::call()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05339">camp_trip_description()</a>, <a class="el" href="cata__variant_8h_source.html#l00445">cata_variant::cata_variant()</a>, <a class="el" href="cata__small__literal__vector_8h_source.html#l00138">small_literal_vector&lt; T, kInlineCount, SizeT &gt;::check_capacity()</a>, <a class="el" href="faction__camp_8cpp_source.html#l01601">basecamp::choose_new_leader()</a>, <a class="el" href="magic_8cpp_source.html#l02846">color_number()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00651">comestible_inventory_preset::comestible_inventory_preset()</a>, <a class="el" href="mission__companion_8cpp_source.html#l00769">talk_function::commune_carpentry()</a>, <a class="el" href="mission__companion_8cpp_source.html#l00795">talk_function::commune_forage()</a>, <a class="el" href="mission__companion_8cpp_source.html#l00742">talk_function::commune_menial()</a>, <a class="el" href="mission__companion_8cpp_source.html#l00822">talk_function::commune_refuge_caravan()</a>, <a class="el" href="item__pocket_8cpp_source.html#l01169">item_pocket::contents_info()</a>, <a class="el" href="string__formatter_8h_source.html#l00133">cata::convert()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05364">basecamp::craft_description()</a>, <a class="el" href="debug__menu_8cpp_source.html#l03358">debug_menu::debug()</a>, <a class="el" href="debug__menu_8cpp_source.html#l02752">debug_menu::debug_menu_force_temperature()</a>, <a class="el" href="map_8cpp_source.html#l03507">map::decay_fields_and_scent()</a>, <a class="el" href="item_8cpp_source.html#l05221">item::disassembly_info()</a>, <a class="el" href="effect_8cpp_source.html#l00819">effect::disp_desc()</a>, <a class="el" href="units_8cpp_source.html#l00131">units::display()</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00212">draw_bionics_titlebar()</a>, <a class="el" href="proficiency__ui_8cpp_source.html#l00160">prof_window::draw_details()</a>, <a class="el" href="player__display_8cpp_source.html#l00353">draw_proficiencies_info()</a>, <a class="el" href="mission__ui_8cpp_source.html#l00254">mission_ui_impl::draw_selected_description()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01590">game_menus::inv::ebooksave()</a>, <a class="el" href="string__input__popup_8cpp_source.html#l00636">edit_integer()</a>, <a class="el" href="editmap_8cpp_source.html#l01394">editmap::edit_itm()</a>, <a class="el" href="magic_8cpp_source.html#l01353">spell::energy_cost_string()</a>, <a class="el" href="magic_8cpp_source.html#l01373">spell::energy_cur_string()</a>, <a class="el" href="activity__actor_8cpp_source.html#l01484">enumerate_ints_to_string()</a>, <a class="el" href="math__parser__jmath_8cpp_source.html#l00077">jmath_func::eval()</a>, <a class="el" href="monster_8cpp_source.html#l00958">monster::extended_description()</a>, <a class="el" href="faction_8cpp_source.html#l00615">npc::faction_display()</a>, <a class="el" href="basecamp_8cpp_source.html#l00075">base_camps::faction_encode_abs()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05492">basecamp::farm_description()</a>, <a class="el" href="item_8cpp_source.html#l02653">item::food_info()</a>, <a class="el" href="iuse_8cpp_source.html#l06934">iuse::foodperson()</a>, <a class="el" href="mapgen_8cpp_source.html#l00209">map::generate()</a>, <a class="el" href="debug__menu_8cpp_source.html#l02993">debug_menu::generate_effect_list()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02702">generic_multi_activity_check_requirement()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00787">basecamp::get_available_missions_by_dir()</a>, <a class="el" href="calendar_8cpp_source.html#l00891">get_diary_time_str()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05241">basecamp::get_equipment()</a>, <a class="el" href="vehicle_8cpp_source.html#l07625">vehicle::get_folded_item()</a>, <a class="el" href="json_8cpp_source.html#l01293">TextJsonIn::get_int()</a>, <a class="el" href="json_8cpp_source.html#l01335">TextJsonIn::get_int64()</a>, <a class="el" href="string__formatter_8h_source.html#l00246">cata::string_formatter::get_nth_arg_as()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02596">bionic_install_preset::get_operation_duration()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02682">bionic_install_surgeon_preset::get_operation_duration()</a>, <a class="el" href="npc_8cpp_source.html#l02019">npc::get_restock_interval()</a>, <a class="el" href="construction_8cpp_source.html#l02194">construction::get_time_string()</a>, <a class="el" href="json_8cpp_source.html#l01321">TextJsonIn::get_uint()</a>, <a class="el" href="item__group_8cpp_source.html#l01040">get_unique_group_id()</a>, <a class="el" href="trait__group_8cpp_source.html#l00038">get_unique_trait_group_id()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l02520">inventory_selector::get_weight_and_length_stat()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05194">basecamp::give_equipment()</a>, <a class="el" href="bionics_8cpp_source.html#l01492">Character::heat_emission()</a>, <a class="el" href="mission__companion_8cpp_source.html#l00706">talk_function::hospital_raid()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02326">basecamp::job_assignment_ui()</a>, <a class="el" href="mutation__data_8cpp_source.html#l00302">mutation_branch::load()</a>, <a class="el" href="bionics_8cpp_source.html#l00302">bionic_data::load()</a>, <a class="el" href="item_8cpp_source.html#l00604">item::make_corpse()</a>, <a class="el" href="basecamp_8cpp_source.html#l00104">base_camps::max_upgrade_by_type()</a>, <a class="el" href="item_8cpp_source.html#l02605">item::med_info()</a>, <a class="el" href="iuse_8cpp_source.html#l03544">iuse::mininuke()</a>, <a class="el" href="stomach_8cpp_source.html#l00249">ml_to_string()</a>, <a class="el" href="character_8cpp_source.html#l06940">Character::mod_stamina()</a>, <a class="el" href="magic_8cpp_source.html#l00260">moves_to_string()</a>, <a class="el" href="basecamp_8cpp_source.html#l00219">basecamp::om_upgrade_description()</a>, <a class="el" href="damage_8cpp_source.html#l00433">damage_type::ondamage_effects()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00612">JsonArray::operator[]()</a>, <a class="el" href="string__formatter_8h_source.html#l00332">cata::string_formatter::parse()</a>, <a class="el" href="monexamine_8cpp_source.html#l00887">monexamine::pay_bot()</a>, <a class="el" href="iexamine_8cpp_source.html#l05185">iexamine::pay_gas()</a>, <a class="el" href="iuse_8cpp_source.html#l06109">photo_def_for_camera_point()</a>, <a class="el" href="display_8cpp_source.html#l00402">display::power_balance_text_color()</a>, <a class="el" href="display_8cpp_source.html#l00372">display::power_text_color()</a>, <a class="el" href="debug__menu_8cpp_source.html#l02830">debug_menu::prepare_export_dir_and_find_unused_name()</a>, <a class="el" href="melee_8cpp_source.html#l01784">print_damage_info()</a>, <a class="el" href="iexamine_8cpp_source.html#l00798">anonymous_namespace{iexamine.cpp}::atm_menu::prompt_for_amount()</a>, <a class="el" href="monexamine_8cpp_source.html#l00874">prompt_for_amount()</a>, <a class="el" href="iexamine_8cpp_source.html#l06746">iexamine::quern_examine()</a>, <a class="el" href="character_8cpp_source.html#l00521">Character::queue_effect()</a>, <a class="el" href="iuse_8cpp_source.html#l07111">iuse::radiocontrol()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01386">read_inventory_preset::read_inventory_preset()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00367">recipe_info()</a>, <a class="el" href="magic__teleporter__list_8cpp_source.html#l00166">teleporter_callback::refresh()</a>, <a class="el" href="iexamine_8cpp_source.html#l04738">reload_furniture()</a>, <a class="el" href="game_8cpp_source.html#l03375">game::save_achievements()</a>, <a class="el" href="flexbuffer__cache_8cpp_source.html#l00339">flexbuffer_disk_cache::save_to_disk()</a>, <a class="el" href="mission__companion_8cpp_source.html#l00641">talk_function::scavenger_patrol()</a>, <a class="el" href="mission__companion_8cpp_source.html#l00672">talk_function::scavenger_raid()</a>, <a class="el" href="calendar__ui_8cpp_source.html#l00016">calendar_ui::select_time_point()</a>, <a class="el" href="newcharacter_8cpp_source.html#l03860">set_description()</a>, <a class="el" href="safemode__ui_8cpp_source.html#l00045">safemode::show()</a>, <a class="el" href="debug__menu_8cpp_source.html#l00714">debug_menu::spell_description()</a>, <a class="el" href="magic_8cpp_source.html#l02444">spellcasting_callback::spell_info_text()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03239">basecamp::start_salt_water_pipe()</a>, <a class="el" href="iexamine_8cpp_source.html#l03210">iexamine::stook_full()</a>, <a class="el" href="savegame__json_8cpp_source.html#l01289">Character::store()</a>, <a class="el" href="text__style__check_8h_source.html#l00028">text_style_check()</a>, <a class="el" href="cata__variant_8h_source.html#l00222">cata_variant_detail::convert&lt; cata_variant_type::bool_ &gt;::to_string()</a>, <a class="el" href="cata__variant_8h_source.html#l00238">cata_variant_detail::convert&lt; cata_variant_type::character_id &gt;::to_string()</a>, <a class="el" href="cata__variant_8h_source.html#l00295">cata_variant_detail::convert&lt; cata_variant_type::int_ &gt;::to_string()</a>, <a class="el" href="cata__variant_8h_source.html#l00253">cata_variant_detail::convert&lt; cata_variant_type::chrono_seconds &gt;::to_string()</a>, <a class="el" href="tileray_8cpp_source.html#l00083">tileray::to_string_azimuth_from_north()</a>, <a class="el" href="achievement_8cpp_source.html#l00348">achievement::time_bound::ui_text()</a>, <a class="el" href="achievement_8cpp_source.html#l00596">achievement_state::ui_text()</a>, <a class="el" href="savegame_8cpp_source.html#l00736">overmap::unserialize_omap()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00524">update_emergency_recall()</a>, <a class="el" href="options_8cpp_source.html#l04072">options_manager::update_options_cache()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00508">update_time_fixed()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00486">update_time_left()</a>, <a class="el" href="units__utility_8cpp_source.html#l00301">vol_to_string()</a>, <a class="el" href="handle__action_8cpp_source.html#l01077">wait()</a>, <a class="el" href="iuse_8cpp_source.html#l08152">iuse::wash_items()</a>, <a class="el" href="units__utility_8cpp_source.html#l00249">weight_to_string()</a>, <a class="el" href="debug__menu_8cpp_source.html#l03301">debug_menu::wind_speed()</a>, <a class="el" href="cata__imgui_8cpp_source.html#l00475">cataimgui::window::window()</a>, <a class="el" href="wish_8cpp_source.html#l00469">debug_menu::wisheffect()</a>, and <a class="el" href="memorial__logger_8cpp_source.html#l00195">memorial_logger::write_text_memorial()</a>.</p>

</div>
</div>
<a id="ae2ab0c8a0e548cc45b1a3c21042b8bbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2ab0c8a0e548cc45b1a3c21042b8bbc">&#9670;&nbsp;</a></span>to_string() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> to_string </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The time point formatted to be shown to the player. Contains year, season, day and time of day. </dd></dl>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00830">830</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;{</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a84cdc76cabf41bd7c961f6ab12f117d8">year</a> = to_turns&lt;int&gt;( p - <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> ) / to_turns&lt;int&gt;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                     ( <a class="code" href="namespacecalendar.html#a151f3184ac6460605cc4931707b08d8f">calendar::year_length</a>() ) + 1;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keyword">const</span> std::string time = <a class="code" href="calendar_8cpp.html#a307340221160e8ffe2af4ddfe5e2a56e">to_string_time_of_day</a>( p );</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespacecalendar.html#a18e011596e47842fc4d1ab7f84cbb7a1">calendar::eternal_season</a>() ) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">day</a> = to_days&lt;int&gt;( <a class="code" href="calendar_8h.html#a1ff4d060fe2cd2f878a5593fe6bb96b7">time_past_new_year</a>( p ) );</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <span class="comment">//~ 1 is the year, 2 is the day (of the *year*), 3 is the time of the day in its usual format</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Year %1$d, day %2$d %3$s&quot;</span> ), year, day, time );</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">day</a> = day_of_season&lt;int&gt;( p ) + 1;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="comment">//~ 1 is the year, 2 is the season name, 3 is the day (of the season), 4 is the time of the day in its usual format</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Year %1$d, %2$s, day %3$d %4$s&quot;</span> ), year,</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                              <a class="code" href="namespacecalendar.html#a67a11ba36aa7fa53b90410e49d2d5b19">calendar::name_season</a>( <a class="code" href="calendar_8cpp.html#a81656706da6c7486137ad8578c0f523e">season_of_year</a>( p ) ), day, time );</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a307340221160e8ffe2af4ddfe5e2a56e"><div class="ttname"><a href="calendar_8cpp.html#a307340221160e8ffe2af4ddfe5e2a56e">to_string_time_of_day</a></div><div class="ttdeci">std::string to_string_time_of_day(const time_point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00639">calendar.cpp:639</a></div></div>
<div class="ttc" id="acalendar_8h_html_a1ff4d060fe2cd2f878a5593fe6bb96b7"><div class="ttname"><a href="calendar_8h.html#a1ff4d060fe2cd2f878a5593fe6bb96b7">time_past_new_year</a></div><div class="ttdeci">time_duration time_past_new_year(const time_point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00555">calendar.h:555</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">day</a>, <a class="el" href="calendar_8cpp_source.html#l00695">calendar::eternal_season()</a>, <a class="el" href="calendar_8cpp_source.html#l00758">calendar::name_season()</a>, <a class="el" href="calendar_8cpp_source.html#l00810">season_of_year()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="calendar_8h_source.html#l00555">time_past_new_year()</a>, <a class="el" href="calendar_8cpp_source.html#l00639">to_string_time_of_day()</a>, <a class="el" href="calendar_8h_source.html#l00541">calendar::turn_zero</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a84cdc76cabf41bd7c961f6ab12f117d8">year</a>, and <a class="el" href="calendar_8cpp_source.html#l00710">calendar::year_length()</a>.</p>

</div>
</div>
<a id="a3cbd6a4aa555daec83ee03cc90dd7715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cbd6a4aa555daec83ee03cc90dd7715">&#9670;&nbsp;</a></span>to_string_approx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> to_string_approx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__duration.html">time_duration</a> &amp;&#160;</td>
          <td class="paramname"><em>dur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns approximate duration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">verbose</td><td>If true, 'less than' and 'more than' will be printed instead of '&lt;' and '&gt;' respectively. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00587">587</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;{</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="classtime__duration.html">time_duration</a> d = <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="submap_8cpp.html#a764d8e5a2a71dd56dafdd4c404573510">make_result</a> = [verbose]( <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> &amp; d, <span class="keyword">const</span> <span class="keywordtype">char</span> *verbose_str,</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *short_str ) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( verbose ? verbose_str : short_str, <a class="code" href="calendar_8cpp.html#a595c4d560d7152dceb681820e7e00882">to_string_clipped</a>( d ) );</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    };</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="classtime__duration.html">time_duration</a> divider = 0_turns;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="classtime__duration.html">time_duration</a> vicinity = 0_turns;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">// Minutes and seconds can be estimated precisely.</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">if</span>( d &gt; 1_days ) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        divider = 1_days;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        vicinity = 2_hours;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( d &gt; 1_hours ) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        divider = 1_hours;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        vicinity = 5_minutes;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">if</span>( divider != 0_turns ) {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> remainder = d % divider;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">if</span>( remainder &gt;= divider - vicinity ) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            d += divider;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( remainder &gt; vicinity ) {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <span class="keywordflow">if</span>( remainder &lt; divider / 2 ) {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                <span class="comment">//~ %s - time (e.g. 2 hours).</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="submap_8cpp.html#a764d8e5a2a71dd56dafdd4c404573510">make_result</a>( d, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;more than %s&quot;</span> ), <span class="stringliteral">&quot;&gt;%s&quot;</span> );</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                <span class="comment">//~ %s - time (e.g. 2 hours).</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="submap_8cpp.html#a764d8e5a2a71dd56dafdd4c404573510">make_result</a>( d + divider, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;less than %s&quot;</span> ), <span class="stringliteral">&quot;&lt;%s&quot;</span> );</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="comment">//~ %s - time (e.g. 2 hours).</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="submap_8cpp.html#a764d8e5a2a71dd56dafdd4c404573510">make_result</a>( d, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;about %s&quot;</span> ), <span class="stringliteral">&quot;%s&quot;</span> );</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;}</div>
<div class="ttc" id="acreature_8h_html_afb9a39a835be84327a86693636f5fc49"><div class="ttname"><a href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a></div><div class="ttdeci">time_duration dur</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00237">creature.h:237</a></div></div>
<div class="ttc" id="asubmap_8cpp_html_a764d8e5a2a71dd56dafdd4c404573510"><div class="ttname"><a href="submap_8cpp.html#a764d8e5a2a71dd56dafdd4c404573510">make_result</a></div><div class="ttdeci">static cosmetic_find_result make_result(bool b, int ndx)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8cpp_source.html#l00048">submap.cpp:48</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="creature_8h_source.html#l00237">dur</a>, <a class="el" href="submap_8cpp_source.html#l00048">make_result()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, and <a class="el" href="calendar_8cpp_source.html#l00427">to_string_clipped()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l05221">item::disassembly_info()</a>, <a class="el" href="mission__ui_8cpp_source.html#l00254">mission_ui_impl::draw_selected_description()</a>, <a class="el" href="npctalk_8cpp_source.html#l01420">dialogue::dynamic_line()</a>, <a class="el" href="talker__npc_8cpp_source.html#l00735">talker_npc::evaluation_by()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00349">veh_interact::format_reqs()</a>, <a class="el" href="game_8cpp_source.html#l06121">get_fire_fuel_string()</a>, <a class="el" href="item_8cpp_source.html#l01971">get_freshness_description()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00862">comestible_inventory_preset::get_time_left_rounded()</a>, <a class="el" href="character_8cpp_source.html#l06566">Character::mend_item()</a>, and <a class="el" href="game__inventory_8cpp_source.html#l01386">read_inventory_preset::read_inventory_preset()</a>.</p>

</div>
</div>
<a id="a595c4d560d7152dceb681820e7e00882"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a595c4d560d7152dceb681820e7e00882">&#9670;&nbsp;</a></span>to_string_clipped() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> to_string_clipped </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2">clipped_unit</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="calendar_8h.html#ab6e1f01689c2dec473157375188392af">clipped_align</a>&#160;</td>
          <td class="paramname"><em>align</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00427">427</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;{</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">switch</span>( align ) {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa334c4a4c42fdb79d7ebc3e73b517e6f8">clipped_align::none</a>:</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="keywordflow">switch</span>( type ) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2ad7af994f1f1ef8b5e3beb9f7fb139f57">clipped_unit::forever</a>:</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;forever&quot;</span> );</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2aa9f0e61a137d86aa9db53465e0801612">clipped_unit::second</a>:</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d second&quot;</span>, <span class="stringliteral">&quot;%d seconds&quot;</span>, num ), num );</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a0a7d55be9d12a369a6a8da0fb517fba4">clipped_unit::minute</a>:</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d minute&quot;</span>, <span class="stringliteral">&quot;%d minutes&quot;</span>, num ), num );</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a896c55cc5e46fab38ce9f51ebf7bfcd3">clipped_unit::hour</a>:</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d hour&quot;</span>, <span class="stringliteral">&quot;%d hours&quot;</span>, num ), num );</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">clipped_unit::day</a>:</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d day&quot;</span>, <span class="stringliteral">&quot;%d days&quot;</span>, num ), num );</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a172a8327fcd3685ab3c0f740d031da09">clipped_unit::week</a>:</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d week&quot;</span>, <span class="stringliteral">&quot;%d weeks&quot;</span>, num ), num );</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">clipped_unit::season</a>:</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d season&quot;</span>, <span class="stringliteral">&quot;%d seasons&quot;</span>, num ), num );</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a84cdc76cabf41bd7c961f6ab12f117d8">clipped_unit::year</a>:</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d year&quot;</span>, <span class="stringliteral">&quot;%d years&quot;</span>, num ), num );</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7c4f29407893c334a6cb7a87bf045c0d">clipped_align::right</a>:</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <span class="keywordflow">switch</span>( type ) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2ad7af994f1f1ef8b5e3beb9f7fb139f57">clipped_unit::forever</a>:</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                    <span class="comment">//~ Right-aligned time string. should right-align with other strings with this same comment</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;    forever&quot;</span> );</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2aa9f0e61a137d86aa9db53465e0801612">clipped_unit::second</a>:</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                    <span class="comment">//~ Right-aligned time string. should right-align with other strings with this same comment</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%3d  second&quot;</span>, <span class="stringliteral">&quot;%3d seconds&quot;</span>, num ), num );</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a0a7d55be9d12a369a6a8da0fb517fba4">clipped_unit::minute</a>:</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                    <span class="comment">//~ Right-aligned time string. should right-align with other strings with this same comment</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%3d  minute&quot;</span>, <span class="stringliteral">&quot;%3d minutes&quot;</span>, num ), num );</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a896c55cc5e46fab38ce9f51ebf7bfcd3">clipped_unit::hour</a>:</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                    <span class="comment">//~ Right-aligned time string. should right-align with other strings with this same comment</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%3d    hour&quot;</span>, <span class="stringliteral">&quot;%3d   hours&quot;</span>, num ), num );</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">clipped_unit::day</a>:</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                    <span class="comment">//~ Right-aligned time string. should right-align with other strings with this same comment</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%3d     day&quot;</span>, <span class="stringliteral">&quot;%3d    days&quot;</span>, num ), num );</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a172a8327fcd3685ab3c0f740d031da09">clipped_unit::week</a>:</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                    <span class="comment">//~ Right-aligned time string. should right-align with other strings with this same comment</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%3d    week&quot;</span>, <span class="stringliteral">&quot;%3d   weeks&quot;</span>, num ), num );</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">clipped_unit::season</a>:</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                    <span class="comment">//~ Right-aligned time string. should right-align with other strings with this same comment</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%3d  season&quot;</span>, <span class="stringliteral">&quot;%3d seasons&quot;</span>, num ), num );</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a84cdc76cabf41bd7c961f6ab12f117d8">clipped_unit::year</a>:</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                    <span class="comment">//~ Right-aligned time string. should right-align with other strings with this same comment</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%3d    year&quot;</span>, <span class="stringliteral">&quot;%3d   years&quot;</span>, num ), num );</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465">clipped_align::compact</a>:</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="keywordflow">switch</span>( type ) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2ad7af994f1f1ef8b5e3beb9f7fb139f57">clipped_unit::forever</a>:</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;forever&quot;</span> );</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2aa9f0e61a137d86aa9db53465e0801612">clipped_unit::second</a>:</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d sec&quot;</span>, <span class="stringliteral">&quot;%d secs&quot;</span>, num ), num );</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a0a7d55be9d12a369a6a8da0fb517fba4">clipped_unit::minute</a>:</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d min&quot;</span>, <span class="stringliteral">&quot;%d mins&quot;</span>, num ), num );</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a896c55cc5e46fab38ce9f51ebf7bfcd3">clipped_unit::hour</a>:</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d hr&quot;</span>, <span class="stringliteral">&quot;%d hrs&quot;</span>, num ), num );</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">clipped_unit::day</a>:</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d day&quot;</span>, <span class="stringliteral">&quot;%d days&quot;</span>, num ), num );</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a172a8327fcd3685ab3c0f740d031da09">clipped_unit::week</a>:</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d wk&quot;</span>, <span class="stringliteral">&quot;%d wks&quot;</span>, num ), num );</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">clipped_unit::season</a>:</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d seas&quot;</span>, <span class="stringliteral">&quot;%d seas&quot;</span>, num ), num );</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a84cdc76cabf41bd7c961f6ab12f117d8">clipped_unit::year</a>:</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d yr&quot;</span>, <span class="stringliteral">&quot;%d yrs&quot;</span>, num ), num );</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;}</div>
<div class="ttc" id="acalendar_8h_html_ab6e1f01689c2dec473157375188392afa334c4a4c42fdb79d7ebc3e73b517e6f8"><div class="ttname"><a href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa334c4a4c42fdb79d7ebc3e73b517e6f8">clipped_align::none</a></div><div class="ttdeci">@ none</div></div>
<div class="ttc" id="acalendar_8h_html_ab6e1f01689c2dec473157375188392afa7c4f29407893c334a6cb7a87bf045c0d"><div class="ttname"><a href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7c4f29407893c334a6cb7a87bf045c0d">clipped_align::right</a></div><div class="ttdeci">@ right</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465">compact</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a628b7db04235f228d40adc671413a8c8">day</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2ad7af994f1f1ef8b5e3beb9f7fb139f57">forever</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a896c55cc5e46fab38ce9f51ebf7bfcd3">hour</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a0a7d55be9d12a369a6a8da0fb517fba4">minute</a>, <a class="el" href="translations_8h_source.html#l00091">n_gettext</a>, <a class="el" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa334c4a4c42fdb79d7ebc3e73b517e6f8">none</a>, <a class="el" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7c4f29407893c334a6cb7a87bf045c0d">right</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a3f1b0333a44fd5f611d3429887eba4a8">season</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2aa9f0e61a137d86aa9db53465e0801612">second</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a172a8327fcd3685ab3c0f740d031da09">week</a>, and <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a84cdc76cabf41bd7c961f6ab12f117d8">year</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l09421">add_disassemblables()</a>, <a class="el" href="game_8cpp_source.html#l09400">add_salvagables()</a>, <a class="el" href="game_8cpp_source.html#l09642">game::butcher()</a>, <a class="el" href="game_8cpp_source.html#l09448">butcher_submenu()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00589">disassemble_inventory_preset::disassemble_inventory_preset()</a>, <a class="el" href="effect_8cpp_source.html#l00819">effect::disp_desc()</a>, <a class="el" href="item_8cpp_source.html#l05796">item::final_info()</a>, <a class="el" href="avatar_8cpp_source.html#l00743">avatar::identify()</a>, <a class="el" href="messages_8cpp_source.html#l00588">Messages::dialog::init()</a>, <a class="el" href="mutation__ui_8cpp_source.html#l00097">avatar::power_mutations()</a>, <a class="el" href="vehicle__display_8cpp_source.html#l00397">vehicle::print_fuel_indicator()</a>, <a class="el" href="iexamine_8cpp_source.html#l06746">iexamine::quern_examine()</a>, <a class="el" href="item_8cpp_source.html#l02837">item::rot_info()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01992">salvage_inventory_preset::salvage_inventory_preset()</a>, <a class="el" href="messages_8cpp_source.html#l00665">Messages::dialog::show()</a>, <a class="el" href="calendar_8cpp_source.html#l00546">to_string()</a>, <a class="el" href="calendar_8cpp_source.html#l00587">to_string_approx()</a>, and <a class="el" href="calendar_8cpp_source.html#l00539">to_string_clipped()</a>.</p>

</div>
</div>
<a id="a6dbbb36f2116679538e2d2898a0380de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dbbb36f2116679538e2d2898a0380de">&#9670;&nbsp;</a></span>to_string_clipped() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> to_string_clipped </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__duration.html">time_duration</a> &amp;&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="calendar_8h.html#ab6e1f01689c2dec473157375188392af">clipped_align</a>&#160;</td>
          <td class="paramname"><em>align</em> = <code><a class="el" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa334c4a4c42fdb79d7ebc3e73b517e6f8">clipped_align::none</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a string showing a duration as whole number of appropriate units, e.g. </p>
<p>"10 days" or "1 minute". The chosen unit will be the smallest unit, that is at least as much as the given duration. E.g. an input of 60 minutes will return "1 hour", an input of 59 minutes will return "59 minutes". </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">align</td><td>none, right, or compact. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00539">539</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;{</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keyword">const</span> std::pair&lt;int, clipped_unit&gt; time = <a class="code" href="calendar_8cpp.html#adac9b8b192cda93a6b30e3fa016029dd">clipped_time</a>( d );</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="calendar_8cpp.html#a595c4d560d7152dceb681820e7e00882">to_string_clipped</a>( time.first, time.second, align );</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_adac9b8b192cda93a6b30e3fa016029dd"><div class="ttname"><a href="calendar_8cpp.html#adac9b8b192cda93a6b30e3fa016029dd">clipped_time</a></div><div class="ttdeci">std::pair&lt; int, clipped_unit &gt; clipped_time(const time_duration &amp;d)</div><div class="ttdoc">Returns a value representing the passed in duration truncated to an appropriate unit along with the u...</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00503">calendar.cpp:503</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00503">clipped_time()</a>, and <a class="el" href="calendar_8cpp_source.html#l00427">to_string_clipped()</a>.</p>

</div>
</div>
<a id="a307340221160e8ffe2af4ddfe5e2a56e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a307340221160e8ffe2af4ddfe5e2a56e">&#9670;&nbsp;</a></span>to_string_time_of_day()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> to_string_time_of_day </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The time point formatted to be shown to the player. Contains only the time of day, not the year, day or season. </dd></dl>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00639">639</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;{</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a896c55cc5e46fab38ce9f51ebf7bfcd3">hour</a> = hour_of_day&lt;int&gt;( p );</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a0a7d55be9d12a369a6a8da0fb517fba4">minute</a> = minute_of_hour&lt;int&gt;( p );</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2aa9f0e61a137d86aa9db53465e0801612">second</a> = to_seconds&lt;int&gt;( <a class="code" href="calendar_8h.html#aa8a2c3326ae8829cef1439aa327897c4">time_past_midnight</a>( p ) ) % 60;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keyword">const</span> std::string format_type = get_option&lt;std::string&gt;( <span class="stringliteral">&quot;24_HOUR&quot;</span> );</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">if</span>( format_type == <span class="stringliteral">&quot;military&quot;</span> ) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%02d%02d.%02d&quot;</span>, hour, minute, second );</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( format_type == <span class="stringliteral">&quot;24h&quot;</span> ) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="comment">//~ hour:minute (24hr time display)</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%02d:%02d:%02d&quot;</span> ), hour, minute, second );</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keywordtype">int</span> hour_param = <a class="code" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a896c55cc5e46fab38ce9f51ebf7bfcd3">hour</a> % 12;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <span class="keywordflow">if</span>( hour_param == 0 ) {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            hour_param = 12;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        }</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="comment">// Padding is removed as necessary to prevent clipping with SAFE notification in wide sidebar mode</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keyword">const</span> std::string padding = hour_param &lt; 10 ? <span class="stringliteral">&quot; &quot;</span> : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">if</span>( hour &lt; 12 ) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%d:%02d:%02d%sAM&quot;</span> ), hour_param, minute, second, padding );</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%d:%02d:%02d%sPM&quot;</span> ), hour_param, minute, second, padding );</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a896c55cc5e46fab38ce9f51ebf7bfcd3">hour</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2a0a7d55be9d12a369a6a8da0fb517fba4">minute</a>, <a class="el" href="calendar_8h.html#a30acaac03fb0c3f8f4e2792f24a187c2aa9f0e61a137d86aa9db53465e0801612">second</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, and <a class="el" href="calendar_8h_source.html#l00550">time_past_midnight()</a>.</p>

<p class="reference">Referenced by <a class="el" href="messages_8cpp_source.html#l00352">anonymous_namespace{messages.cpp}::messages_impl::recent_messages()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01287">advanced_inventory::redraw_sidebar()</a>, <a class="el" href="display_8cpp_source.html#l00205">display::sundial_time_text_color()</a>, <a class="el" href="display_8cpp_source.html#l00192">display::time_string()</a>, <a class="el" href="calendar_8cpp_source.html#l00830">to_string()</a>, <a class="el" href="handle__action_8cpp_source.html#l01077">wait()</a>, and <a class="el" href="weather_8cpp_source.html#l00524">weather_forecast()</a>.</p>

</div>
</div>
<a id="a605b73d77fee1cb3c3cc3b32c45fad47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a605b73d77fee1cb3c3cc3b32c45fad47">&#9670;&nbsp;</a></span>to_string_writable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> to_string_writable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__duration.html">time_duration</a> &amp;&#160;</td>
          <td class="paramname"><em>dur</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a string that is writable to JSON that is also readable from JSON. </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00626">626</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;{</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a> % 1_days == 0_seconds ) {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%d d&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a> / 1_days ) );</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a> % 1_hours == 0_seconds ) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%d h&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a> / 1_hours ) );</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a> % 1_minutes == 0_seconds ) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%d m&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a> / 1_minutes ) );</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%d s&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a> / 1_seconds ) );</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8h_source.html#l00237">dur</a>, and <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l01553">Character::check_outbounds_activity()</a>, <a class="el" href="activity__actor_8cpp_source.html#l01824">read_activity_actor::do_turn()</a>, <a class="el" href="activity__actor_8cpp_source.html#l03399">safecracking_activity_actor::do_turn()</a>, <a class="el" href="activity__actor_8cpp_source.html#l02183">read_activity_actor::finish()</a>, <a class="el" href="avatar_8cpp_source.html#l00432">avatar::read()</a>, <a class="el" href="magic__enchantment_8cpp_source.html#l00518">enchant_cache::serialize()</a>, <a class="el" href="effect_8cpp_source.html#l01076">effect::set_duration()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04219">harvest_activity_actor::start()</a>, <a class="el" href="activity__actor_8cpp_source.html#l02696">lockpick_activity_actor::start()</a>, <a class="el" href="activity__actor_8cpp_source.html#l02972">ebooksave_activity_actor::start()</a>, <a class="el" href="activity__actor_8cpp_source.html#l01791">read_activity_actor::start()</a>, <a class="el" href="activity__actor_8cpp_source.html#l03381">safecracking_activity_actor::start()</a>, and <a class="el" href="activity__actor_8cpp_source.html#l04992">shearing_activity_actor::start()</a>.</p>

</div>
</div>
<a id="a359120c15f92d54a49fec9de7bcb571f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a359120c15f92d54a49fec9de7bcb571f">&#9670;&nbsp;</a></span>x_in_y()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool x_in_y </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__duration.html">time_duration</a> &amp;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtime__duration.html">time_duration</a> &amp;&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd>x_in_y(int,int) </dd></dl>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00784">784</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;{</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">return ::x_in_y</a>( to_turns&lt;int&gt;( <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> ), to_turns&lt;int&gt;( <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ) );</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a359120c15f92d54a49fec9de7bcb571f"><div class="ttname"><a href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a></div><div class="ttdeci">bool x_in_y(const time_duration &amp;a, const time_duration &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00784">calendar.cpp:784</a></div></div>
<div class="ttc" id="amagic_8cpp_html_aa93a189fb7bbbf87be54bcc7bd11bb6f"><div class="ttname"><a href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a></div><div class="ttdeci">static constexpr double b</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01567">magic.cpp:1567</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01566">a</a>, and <a class="el" href="magic_8cpp_source.html#l01567">b</a>.</p>

<p class="reference">Referenced by <a class="el" href="effect_8cpp_source.html#l01355">effect::activated()</a>, <a class="el" href="overmap_8cpp_source.html#l07248">overmap::add_mon_group()</a>, <a class="el" href="addiction_8cpp_source.html#l00068">alcohol_diazepam_add()</a>, <a class="el" href="addiction_8cpp_source.html#l00257">amphetamine_effect()</a>, <a class="el" href="monmove_8cpp_source.html#l00446">monster::anger_hostile_seen()</a>, <a class="el" href="monmove_8cpp_source.html#l00465">monster::anger_mating_season()</a>, <a class="el" href="mapgen_8cpp_source.html#l02483">jmapgen_monster::apply()</a>, <a class="el" href="mapgen_8cpp_source.html#l02609">jmapgen_vehicle::apply()</a>, <a class="el" href="mapgen_8cpp_source.html#l03329">jmapgen_sealed_item::apply()</a>, <a class="el" href="projectile_8cpp_source.html#l00142">apply_ammo_effects()</a>, <a class="el" href="creature_8cpp_source.html#l00854">projectile::apply_effects_damage()</a>, <a class="el" href="iuse_8cpp_source.html#l05281">iuse::bell()</a>, <a class="el" href="melee_8cpp_source.html#l02054">Character::block_hit()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00110">leap_actor::call()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00673">melee_actor::call()</a>, <a class="el" href="character__escape_8cpp_source.html#l00060">Character::can_escape_trap()</a>, <a class="el" href="iuse_8cpp_source.html#l03225">iuse::can_goo()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00397">check_butcher_dissect()</a>, <a class="el" href="character_8cpp_source.html#l01670">Character::check_mount_is_spooked()</a>, <a class="el" href="crafting_8cpp_source.html#l01476">Character::complete_craft()</a>, <a class="el" href="character_8cpp_source.html#l07359">Character::cough()</a>, <a class="el" href="character_8cpp_source.html#l08263">Character::deal_damage()</a>, <a class="el" href="creature_8cpp_source.html#l01270">Creature::deal_damage_handle_type()</a>, <a class="el" href="explosion_8cpp_source.html#l00175">explosion_handler::do_blast()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00465">melee_actor::do_grab()</a>, <a class="el" href="suffer_8cpp_source.html#l01881">Character::drench()</a>, <a class="el" href="monattack_8cpp_source.html#l05545">mattack::dsa_drone_scan()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00724">eff_fun_datura()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00192">eff_fun_fungus()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00390">eff_fun_hallu()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00146">eff_fun_spores()</a>, <a class="el" href="map__field_8cpp_source.html#l02102">map::emit_field()</a>, <a class="el" href="condition_8cpp_source.html#l01580">conditional_fun::anonymous_namespace{condition.cpp}::f_x_in_y_chance()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03433">heal_actor::finish_using()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02910">activity_handlers::fish_do_turn()</a>, <a class="el" href="game_8cpp_source.html#l11735">game::fling_creature()</a>, <a class="el" href="suffer_8cpp_source.html#l01089">suffer::from_radiation()</a>, <a class="el" href="fungal__effects_8cpp_source.html#l00058">fungal_effects::fungalize()</a>, <a class="el" href="iuse_8cpp_source.html#l00665">iuse::fungicide()</a>, <a class="el" href="monattack_8cpp_source.html#l01900">mattack::fungus()</a>, <a class="el" href="monattack_8cpp_source.html#l01953">mattack::fungus_corporate()</a>, <a class="el" href="mapgen_8cpp_source.html#l00209">map::generate()</a>, <a class="el" href="cellular__automata_8cpp_source.html#l00039">CellularAutomata::generate_cellular_automaton()</a>, <a class="el" href="bodypart_8cpp_source.html#l00924">bodypart::get_limb_techs()</a>, <a class="el" href="crafting_8cpp_source.html#l01327">item::handle_craft_failure()</a>, <a class="el" href="ranged_8cpp_source.html#l00606">Character::handle_gun_damage()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l01230">Character::hardcoded_effects()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04711">basecamp::hunting_results()</a>, <a class="el" href="character_8cpp_source.html#l12557">Character::impact()</a>, <a class="el" href="suffer_8cpp_source.html#l00650">suffer::in_sunlight()</a>, <a class="el" href="monster_8cpp_source.html#l01780">monster::is_immune_effect()</a>, <a class="el" href="effect_8cpp_source.html#l01628">effect::kill_roll()</a>, <a class="el" href="ranged_8cpp_source.html#l02045">make_gun_projectile()</a>, <a class="el" href="monster_8cpp_source.html#l01903">monster::melee_attack()</a>, <a class="el" href="melee_8cpp_source.html#l00590">Character::melee_attack_abstract()</a>, <a class="el" href="melee_8cpp_source.html#l02309">Character::melee_special_effects()</a>, <a class="el" href="monmove_8cpp_source.html#l00865">monster::move()</a>, <a class="el" href="monster_8cpp_source.html#l02205">monster::move_effects()</a>, <a class="el" href="mutation_8cpp_source.html#l01451">Character::mutate_towards()</a>, <a class="el" href="melee_8cpp_source.html#l02456">Character::mutation_attacks()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04862">om_harvest_itm()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04775">om_harvest_ter()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00923">melee_actor::on_damage()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00981">bite_actor::on_damage()</a>, <a class="el" href="character_8cpp_source.html#l04630">Character::on_damage_of_type()</a>, <a class="el" href="monster_8cpp_source.html#l03858">monster::on_load()</a>, <a class="el" href="npc__class_8cpp_source.html#l00536">distribution::one_in()</a>, <a class="el" href="character_8cpp_source.html#l13218">Character::pause()</a>, <a class="el" href="melee_8cpp_source.html#l01801">Character::perform_technique()</a>, <a class="el" href="game_8cpp_source.html#l12795">game::perhaps_add_random_npc()</a>, <a class="el" href="iuse_8cpp_source.html#l01525">iuse::petfood()</a>, <a class="el" href="game_8cpp_source.html#l10870">game::place_player()</a>, <a class="el" href="vehicle_8cpp_source.html#l05953">vehicle::place_spawn_items()</a>, <a class="el" href="overmap_8cpp_source.html#l06768">overmap::place_specials()</a>, <a class="el" href="monmove_8cpp_source.html#l00517">monster::plan()</a>, <a class="el" href="vehicle_8cpp_source.html#l05236">vehicle::power_parts()</a>, <a class="el" href="monster_8cpp_source.html#l03111">monster::process_one_effect()</a>, <a class="el" href="item_8cpp_source.html#l13912">item::process_tool()</a>, <a class="el" href="monster_8cpp_source.html#l01662">monster::process_triggers()</a>, <a class="el" href="npc_8cpp_source.html#l03181">npc::process_turn()</a>, <a class="el" href="map_8cpp_source.html#l05571">process_vehicle_items()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01726">activity_handlers::pulp_do_turn()</a>, <a class="el" href="map_8cpp_source.html#l08569">map::rad_scorch()</a>, <a class="el" href="iuse_8cpp_source.html#l02528">iuse::radio_tick()</a>, <a class="el" href="melee_8cpp_source.html#l01012">Character::reach_attack()</a>, <a class="el" href="inventory_8cpp_source.html#l00664">inventory::remove_randomly_by_volume()</a>, <a class="el" href="monattack_8cpp_source.html#l01159">mattack::resurrect()</a>, <a class="el" href="character_8cpp_source.html#l08633">Character::rooted()</a>, <a class="el" href="map_8cpp_source.html#l04484">map::shoot()</a>, <a class="el" href="game_8cpp_source.html#l13417">game::slip_down()</a>, <a class="el" href="map_8cpp_source.html#l03849">map::smash_items()</a>, <a class="el" href="iuse_8cpp_source.html#l01213">spawn_spores()</a>, <a class="el" href="fungal__effects_8cpp_source.html#l00144">fungal_effects::spread_fungus_one_tile()</a>, <a class="el" href="map__field_8cpp_source.html#l00273">map::spread_gas()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l00629">vehicle::start_engine()</a>, <a class="el" href="mutation_8cpp_source.html#l02224">Character::test_crossing_threshold()</a>, <a class="el" href="path__info_8cpp_source.html#l00478">PATH_INFO::title()</a>, <a class="el" href="character__escape_8cpp_source.html#l00087">Character::try_remove_bear_trap()</a>, <a class="el" href="character__escape_8cpp_source.html#l00067">Character::try_remove_downed()</a>, <a class="el" href="character__escape_8cpp_source.html#l00181">Character::try_remove_grab()</a>, <a class="el" href="character__escape_8cpp_source.html#l00140">Character::try_remove_heavysnare()</a>, <a class="el" href="character__escape_8cpp_source.html#l00350">Character::try_remove_impeding_effect()</a>, <a class="el" href="character__escape_8cpp_source.html#l00119">Character::try_remove_lightsnare()</a>, <a class="el" href="character__escape_8cpp_source.html#l00331">Character::try_remove_webs()</a>, <a class="el" href="scenario_8cpp_source.html#l00189">scenario::weighted_random()</a>, and <a class="el" href="scenario_8cpp_source.html#l00509">scenario::weighted_random_profession()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a2a7965fd6cde99ef37693706a23f2c20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a7965fd6cde99ef37693706a23f2c20">&#9670;&nbsp;</a></span>astronomical_dawn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> astronomical_dawn = -18_degrees</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00042">42</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00188">sun_azimuth_altitude()</a>, and <a class="el" href="calendar_8cpp_source.html#l00383">sun_light_at()</a>.</p>

</div>
</div>
<a id="a686f3b05fb6c4bbaa23c280f3e796e31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a686f3b05fb6c4bbaa23c280f3e796e31">&#9670;&nbsp;</a></span>civil_dawn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> civil_dawn = -6_degrees</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00044">44</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00333">daylight_time()</a>, <a class="el" href="calendar_8cpp_source.html#l00345">is_night()</a>, <a class="el" href="calendar_8cpp_source.html#l00355">is_twilight()</a>, <a class="el" href="calendar_8cpp_source.html#l00328">night_time()</a>, and <a class="el" href="calendar_8cpp_source.html#l00383">sun_light_at()</a>.</p>

</div>
</div>
<a id="ae89780c7957fdf646b9e3c7f8d8c6cfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae89780c7957fdf646b9e3c7f8d8c6cfe">&#9670;&nbsp;</a></span>cur_season_length</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int cur_season_length = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00033">33</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00715">calendar::season_length()</a>, and <a class="el" href="calendar_8cpp_source.html#l00731">calendar::set_season_length()</a>.</p>

</div>
</div>
<a id="a41c70b303ede8b309874e15a1a547ee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41c70b303ede8b309874e15a1a547ee5">&#9670;&nbsp;</a></span>default_season_length</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr int default_season_length = <a class="el" href="calendar_8cpp.html#a336b3072d330c5bb73d809a4ba1f3c9d">real_world_season_length</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00741">741</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00748">calendar::season_from_default_ratio()</a>.</p>

</div>
</div>
<a id="a9656640a4b7c2d76f994dca7b2088dac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9656640a4b7c2d76f994dca7b2088dac">&#9670;&nbsp;</a></span>is_eternal_day</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool is_eternal_day = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00032">32</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00705">calendar::eternal_day()</a>, and <a class="el" href="calendar_8cpp_source.html#l00727">calendar::set_eternal_day()</a>.</p>

</div>
</div>
<a id="a12cc9ff28e9e26ccb38afc39d54cad11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12cc9ff28e9e26ccb38afc39d54cad11">&#9670;&nbsp;</a></span>is_eternal_night</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool is_eternal_night = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00031">31</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00700">calendar::eternal_night()</a>, and <a class="el" href="calendar_8cpp_source.html#l00723">calendar::set_eternal_night()</a>.</p>

</div>
</div>
<a id="a7e754528d96021f50ff911998fc5d0b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e754528d96021f50ff911998fc5d0b2">&#9670;&nbsp;</a></span>is_eternal_season</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool is_eternal_season = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00030">30</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00695">calendar::eternal_season()</a>, and <a class="el" href="calendar_8cpp_source.html#l00719">calendar::set_eternal_season()</a>.</p>

</div>
</div>
<a id="a6fe65b9e39049b6d361709241a23d1b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fe65b9e39049b6d361709241a23d1b6">&#9670;&nbsp;</a></span>location</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlat__long.html">lat_long</a> location = { 42.36_degrees, -71.06_degrees }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00034">34</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="active__item__cache_8cpp_source.html#l00020">active_item_cache::add()</a>, <a class="el" href="vehicle_8cpp_source.html#l03075">vehicle::all_parts_at_location()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02490">autodoc_internal()</a>, <a class="el" href="overmap__connection_8cpp_source.html#l00106">overmap_connection::check()</a>, <a class="el" href="overmap_8cpp_source.html#l06292">overmap::check_overmap_special_type()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00241">game_menus::inv::common()</a>, <a class="el" href="weather_8cpp_source.html#l00176">current_weather()</a>, <a class="el" href="calendar_8cpp_source.html#l00333">daylight_time()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01784">advanced_inventory::display()</a>, <a class="el" href="activity__actor_8cpp_source.html#l05191">disassemble_activity_actor::do_turn()</a>, <a class="el" href="activity__actor_8cpp_source.html#l03631">craft_activity_actor::do_turn()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01564">game_menus::inv::ebookread()</a>, <a class="el" href="npc__attack_8cpp_source.html#l00173">npc_attack_spell::evaluate_tripoint()</a>, <a class="el" href="npc__attack_8cpp_source.html#l00542">npc_attack_gun::evaluate_tripoint()</a>, <a class="el" href="npc__attack_8cpp_source.html#l00798">npc_attack_throw::evaluate_tripoint()</a>, <a class="el" href="condition_8cpp_source.html#l00984">conditional_fun::anonymous_namespace{condition.cpp}::f_at_om_location()</a>, <a class="el" href="condition_8cpp_source.html#l01010">conditional_fun::anonymous_namespace{condition.cpp}::f_near_om_location()</a>, <a class="el" href="colony_8h_source.html#l01464">cata::colony&lt; element_type, element_allocator_type, element_skipfield_type &gt;::fill_skipblock()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00150">get_autopickup_items()</a>, <a class="el" href="game_8cpp_source.html#l01650">get_best_fire()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01416">overmapbuffer::get_camps_near()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01450">overmapbuffer::get_cities_near()</a>, <a class="el" href="weather__gen_8cpp_source.html#l00050">get_common_data()</a>, <a class="el" href="game_8cpp_source.html#l01687">get_convection_temperature()</a>, <a class="el" href="item_8cpp_source.html#l06268">item::get_free_mod_locations()</a>, <a class="el" href="game_8cpp_source.html#l01614">get_heat_radiation()</a>, <a class="el" href="weather_8cpp_source.html#l00786">get_local_windpower()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01298">overmapbuffer::get_overmaps_near()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00548">inventory_entry::get_selected_charges()</a>, <a class="el" href="weather_8cpp_source.html#l00957">weather_manager::get_temperature()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00539">inventory_entry::get_total_charges()</a>, <a class="el" href="weather__gen_8cpp_source.html#l00114">weather_generator::get_weather()</a>, <a class="el" href="weather__gen_8cpp_source.html#l00178">weather_generator::get_weather_conditions()</a>, <a class="el" href="weather__gen_8cpp_source.html#l00108">weather_generator::get_weather_temperature()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01308">game_menus::inv::gunmod_to_remove()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l03476">inventory_selector::highlight()</a>, <a class="el" href="map_8h_source.html#l01305">map::i_rem()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00128">inv_internal()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01082">overmapbuffer::is_findable_location()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00484">liquid_inventory_selector_preset::is_shown()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02246">smokable_selector_preset::is_shown()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00116">inventory_filter_preset::is_shown()</a>, <a class="el" href="weather_8cpp_source.html#l00813">is_wind_blocker()</a>, <a class="el" href="savegame__json_8cpp_source.html#l03772">Creature::load()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00061">advanced_inventory_pane::load_settings()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02190">game_menus::inv::multidrop()</a>, <a class="el" href="map__extras_8cpp_source.html#l01858">MapExtras::mx_casings()</a>, <a class="el" href="map__extras_8cpp_source.html#l01277">MapExtras::mx_clay_deposit()</a>, <a class="el" href="map__extras_8cpp_source.html#l01156">MapExtras::mx_grove()</a>, <a class="el" href="map__extras_8cpp_source.html#l01229">MapExtras::mx_pond()</a>, <a class="el" href="map__extras_8cpp_source.html#l01194">MapExtras::mx_shrubbery()</a>, <a class="el" href="mapgen_8cpp_source.html#l03658">jmapgen_nested::neighbor_flag_any_check::neighbor_flag_any_check()</a>, <a class="el" href="mapgen_8cpp_source.html#l03621">jmapgen_nested::neighbor_flag_check::neighbor_flag_check()</a>, <a class="el" href="mapgen_8cpp_source.html#l03525">jmapgen_nested::neighbor_oter_check::neighbor_oter_check()</a>, <a class="el" href="calendar_8cpp_source.html#l00328">night_time()</a>, <a class="el" href="calendar_8cpp_source.html#l00269">offset_to_sun_altitude()</a>, <a class="el" href="overmap_8cpp_source.html#l01410">fixed_overmap_special_data::place()</a>, <a class="el" href="overmap_8cpp_source.html#l06619">overmap::place_special()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="map_8cpp_source.html#l05547">process_map_items()</a>, <a class="el" href="list_8h_source.html#l02029">cata::list&lt; element_type, element_allocator_type &gt;::reorder()</a>, <a class="el" href="monattack_8cpp_source.html#l01159">mattack::resurrect()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00248">auto_pickup::select_items()</a>, <a class="el" href="calendar_8cpp_source.html#l00735">calendar::set_location()</a>, <a class="el" href="sounds_8cpp_source.html#l00825">sounds::sound_at()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02686">basecamp::start_relay_hide_site()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02637">basecamp::start_setup_hide_site()</a>, <a class="el" href="savegame__json_8cpp_source.html#l03726">Creature::store()</a>, <a class="el" href="weather_8cpp_source.html#l00187">sum_conditions()</a>, <a class="el" href="calendar_8cpp_source.html#l00188">sun_azimuth_altitude()</a>, <a class="el" href="calendar_8cpp_source.html#l00318">sunrise()</a>, <a class="el" href="calendar_8cpp_source.html#l00323">sunset()</a>, <a class="el" href="magic__ter__fur__transform_8cpp_source.html#l00216">ter_furn_transform::transform()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01307">spell_effect::transform_blast()</a>, <a class="el" href="editmap_8cpp_source.html#l00455">editmap::uber_draw_ter()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02757">game_menus::inv::unload()</a>, <a class="el" href="npc__attack_8cpp_source.html#l00100">npc_attack_spell::use()</a>, <a class="el" href="npc__attack_8cpp_source.html#l00232">npc_attack_melee::use()</a>, <a class="el" href="npc__attack_8cpp_source.html#l00418">npc_attack_gun::use()</a>, <a class="el" href="npc__attack_8cpp_source.html#l00627">npc_attack_throw::use()</a>, and <a class="el" href="iuse_8cpp_source.html#l08152">iuse::wash_items()</a>.</p>

</div>
</div>
<a id="aee865fadbf45b5754185ade4844f9a9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee865fadbf45b5754185ade4844f9a9c">&#9670;&nbsp;</a></span>moonlight_per_quarter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr float moonlight_per_quarter = 1.5f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>How much light moon provides per lit-up quarter (Full-moon light is four times this value) </p>

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00024">24</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00373">moon_light_at()</a>.</p>

</div>
</div>
<a id="aacbc03bcc426de1adb56f9a76d5b8861"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacbc03bcc426de1adb56f9a76d5b8861">&#9670;&nbsp;</a></span>nautical_dawn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> nautical_dawn = -12_degrees</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00043">43</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00383">sun_light_at()</a>.</p>

</div>
</div>
<a id="a336b3072d330c5bb73d809a4ba1f3c9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a336b3072d330c5bb73d809a4ba1f3c9d">&#9670;&nbsp;</a></span>real_world_season_length</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr int real_world_season_length = 91</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00740">740</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00743">calendar::season_ratio()</a>.</p>

</div>
</div>
<a id="a90fedb893f24c9c3c929d253bd1398ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90fedb893f24c9c3c929d253bd1398ca">&#9670;&nbsp;</a></span>sunrise_angle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> sunrise_angle = -1_degrees</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="calendar_8cpp_source.html#l00045">45</a> of file <a class="el" href="calendar_8cpp_source.html">calendar.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="calendar_8cpp_source.html#l00350">is_day()</a>, <a class="el" href="calendar_8cpp_source.html#l00355">is_twilight()</a>, <a class="el" href="calendar_8cpp_source.html#l00383">sun_light_at()</a>, <a class="el" href="calendar_8cpp_source.html#l00244">sunlight_angle()</a>, <a class="el" href="calendar_8cpp_source.html#l00318">sunrise()</a>, and <a class="el" href="calendar_8cpp_source.html#l00323">sunset()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:32 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
