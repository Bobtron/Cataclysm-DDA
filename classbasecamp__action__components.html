<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: basecamp_action_components Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classbasecamp__action__components-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">basecamp_action_components Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="basecamp_8h_source.html">basecamp.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4d7e06b7a0723f1ff07958bc0750b881"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp__action__components.html#a4d7e06b7a0723f1ff07958bc0750b881">basecamp_action_components</a> (const <a class="el" href="classrecipe.html">recipe</a> &amp;making, const <a class="el" href="structmapgen__arguments.html">mapgen_arguments</a> &amp;, int batch_size, <a class="el" href="classbasecamp.html">basecamp</a> &amp;)</td></tr>
<tr class="separator:a4d7e06b7a0723f1ff07958bc0750b881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6875e4d96f98a1b1c27d50e5ad1df70"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp__action__components.html#ac6875e4d96f98a1b1c27d50e5ad1df70">choose_components</a> ()</td></tr>
<tr class="separator:ac6875e4d96f98a1b1c27d50e5ad1df70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d3bf03eade998aba2289e95f41e176c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp__action__components.html#a4d3bf03eade998aba2289e95f41e176c">consume_components</a> ()</td></tr>
<tr class="separator:a4d3bf03eade998aba2289e95f41e176c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a39bf8817e4f007aaf394040dcbe2f4de"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp__action__components.html#a39bf8817e4f007aaf394040dcbe2f4de">making_</a></td></tr>
<tr class="separator:a39bf8817e4f007aaf394040dcbe2f4de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af613858b3f2038607976482bb73629a4"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structmapgen__arguments.html">mapgen_arguments</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp__action__components.html#af613858b3f2038607976482bb73629a4">args_</a></td></tr>
<tr class="separator:af613858b3f2038607976482bb73629a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b7d63a6c36b858ab8740148a362185f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp__action__components.html#a5b7d63a6c36b858ab8740148a362185f">batch_size_</a></td></tr>
<tr class="separator:a5b7d63a6c36b858ab8740148a362185f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74f255edff5e62be268979389e57e4dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbasecamp.html">basecamp</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp__action__components.html#a74f255edff5e62be268979389e57e4dc">base_</a></td></tr>
<tr class="separator:a74f255edff5e62be268979389e57e4dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0446fd7dca82d9750c5b91671bcf937e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structcomp__selection.html">comp_selection</a>&lt; <a class="el" href="structitem__comp.html">item_comp</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp__action__components.html#a0446fd7dca82d9750c5b91671bcf937e">item_selections_</a></td></tr>
<tr class="separator:a0446fd7dca82d9750c5b91671bcf937e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa00c10273d12163855a36bcb8e31e0d9"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structcomp__selection.html">comp_selection</a>&lt; <a class="el" href="structtool__comp.html">tool_comp</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbasecamp__action__components.html#aa00c10273d12163855a36bcb8e31e0d9">tool_selections_</a></td></tr>
<tr class="separator:aa00c10273d12163855a36bcb8e31e0d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00509">509</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4d7e06b7a0723f1ff07958bc0750b881"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d7e06b7a0723f1ff07958bc0750b881">&#9670;&nbsp;</a></span>basecamp_action_components()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">basecamp_action_components::basecamp_action_components </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>making</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmapgen__arguments.html">mapgen_arguments</a> &amp;&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbasecamp.html">basecamp</a> &amp;&#160;</td>
          <td class="paramname"><em>base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00868">868</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                                                                                         :</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <a class="code" href="classbasecamp__action__components.html#a39bf8817e4f007aaf394040dcbe2f4de">making_</a>( making ),</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <a class="code" href="classbasecamp__action__components.html#af613858b3f2038607976482bb73629a4">args_</a>( args ),</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <a class="code" href="classbasecamp__action__components.html#a5b7d63a6c36b858ab8740148a362185f">batch_size_</a>( batch_size ),</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <a class="code" href="classbasecamp__action__components.html#a74f255edff5e62be268979389e57e4dc">base_</a>( base )</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;{</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;}</div>
<div class="ttc" id="aclassbasecamp__action__components_html_a39bf8817e4f007aaf394040dcbe2f4de"><div class="ttname"><a href="classbasecamp__action__components.html#a39bf8817e4f007aaf394040dcbe2f4de">basecamp_action_components::making_</a></div><div class="ttdeci">const recipe &amp; making_</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00519">basecamp.h:519</a></div></div>
<div class="ttc" id="aclassbasecamp__action__components_html_a5b7d63a6c36b858ab8740148a362185f"><div class="ttname"><a href="classbasecamp__action__components.html#a5b7d63a6c36b858ab8740148a362185f">basecamp_action_components::batch_size_</a></div><div class="ttdeci">int batch_size_</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00521">basecamp.h:521</a></div></div>
<div class="ttc" id="aclassbasecamp__action__components_html_a74f255edff5e62be268979389e57e4dc"><div class="ttname"><a href="classbasecamp__action__components.html#a74f255edff5e62be268979389e57e4dc">basecamp_action_components::base_</a></div><div class="ttdeci">basecamp &amp; base_</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00522">basecamp.h:522</a></div></div>
<div class="ttc" id="aclassbasecamp__action__components_html_af613858b3f2038607976482bb73629a4"><div class="ttname"><a href="classbasecamp__action__components.html#af613858b3f2038607976482bb73629a4">basecamp_action_components::args_</a></div><div class="ttdeci">const mapgen_arguments &amp; args_</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00520">basecamp.h:520</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac6875e4d96f98a1b1c27d50e5ad1df70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6875e4d96f98a1b1c27d50e5ad1df70">&#9670;&nbsp;</a></span>choose_components()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool basecamp_action_components::choose_components </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00877">877</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;{</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a> = <a class="code" href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keyword">const</span> <a class="code" href="structrequirement__data.html">requirement_data</a> *req;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classbasecamp__action__components.html#a39bf8817e4f007aaf394040dcbe2f4de">making_</a>.<a class="code" href="classrecipe.html#acef4205b638841f8e1980005728fcf90">is_blueprint</a>() ) {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        <span class="keyword">const</span> std::unordered_map&lt;mapgen_arguments, build_reqs&gt; &amp;reqs_map =</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            <a class="code" href="classbasecamp__action__components.html#a39bf8817e4f007aaf394040dcbe2f4de">making_</a>.<a class="code" href="classrecipe.html#a6bf6a221531a705e16bd859596050d4a">blueprint_build_reqs</a>().<a class="code" href="structparameterized__build__reqs.html#ab9c7e2f44e3a3c6bbbfe79369e7b2d11">reqs_by_parameters</a>;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <span class="keyword">auto</span> req_it = reqs_map.find( <a class="code" href="classbasecamp__action__components.html#af613858b3f2038607976482bb73629a4">args_</a> );</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="keywordflow">if</span>( req_it == reqs_map.end() ) {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;invalid argument selection for recipe&quot;</span> );</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        req = &amp;req_it-&gt;second.consolidated_reqs;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        req = <a class="code" href="classbasecamp__action__components.html#a39bf8817e4f007aaf394040dcbe2f4de">making_</a>.<a class="code" href="classrecipe.html#ab1b55d41175b239729f740aaad63f306">deduped_requirements</a>().<a class="code" href="classdeduped__requirement__data.html#af6bca939b4ec13da257c42363b69c0ef">select_alternative</a>(</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                  player_character, <a class="code" href="classbasecamp__action__components.html#a74f255edff5e62be268979389e57e4dc">base_</a>.<a class="code" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a>, <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, <a class="code" href="classbasecamp__action__components.html#a5b7d63a6c36b858ab8740148a362185f">batch_size_</a> );</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    }</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keywordflow">if</span>( !req ) {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classbasecamp__action__components.html#a0446fd7dca82d9750c5b91671bcf937e">item_selections_</a>.empty() || !<a class="code" href="classbasecamp__action__components.html#aa00c10273d12163855a36bcb8e31e0d9">tool_selections_</a>.empty() ) {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Reused basecamp_action_components&quot;</span> );</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : req-&gt;<a class="code" href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">get_components</a>() ) {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <a class="code" href="structcomp__selection.html">comp_selection&lt;item_comp&gt;</a> is =</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            player_character.<a class="code" href="classCharacter.html#a15e400d8098702465a58e5ff71ad734f">select_item_component</a>( it, <a class="code" href="classbasecamp__action__components.html#a5b7d63a6c36b858ab8740148a362185f">batch_size_</a>, <a class="code" href="classbasecamp__action__components.html#a74f255edff5e62be268979389e57e4dc">base_</a>.<a class="code" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a>, <span class="keyword">true</span>, <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>,</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                    !<a class="code" href="classbasecamp__action__components.html#a74f255edff5e62be268979389e57e4dc">base_</a>.<a class="code" href="classbasecamp.html#ac74df444febf86c4bef85f88f2d94d65">by_radio</a> );</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <span class="keywordflow">if</span>( is.<a class="code" href="structcomp__selection.html#aba0dbd35386fe5e74a52ea7f71065eed">use_from</a> == <a class="code" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa10aec35353f9c4096a71c38654c3d402">usage_from::cancel</a> ) {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        }</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <a class="code" href="classbasecamp__action__components.html#a0446fd7dca82d9750c5b91671bcf937e">item_selections_</a>.push_back( is );</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    }</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="comment">// this may consume pseudo-resources from fake items</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : req-&gt;<a class="code" href="structrequirement__data.html#a175d46943600149603b7a915cb48092b">get_tools</a>() ) {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <a class="code" href="structcomp__selection.html">comp_selection&lt;tool_comp&gt;</a> ts =</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            player_character.<a class="code" href="classCharacter.html#a860d40c9c27d0d12490c014cba63c598">select_tool_component</a>( it, <a class="code" href="classbasecamp__action__components.html#a5b7d63a6c36b858ab8740148a362185f">batch_size_</a>, <a class="code" href="classbasecamp__action__components.html#a74f255edff5e62be268979389e57e4dc">base_</a>.<a class="code" href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">_inv</a>, <span class="keyword">true</span>,</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                    !<a class="code" href="classbasecamp__action__components.html#a74f255edff5e62be268979389e57e4dc">base_</a>.<a class="code" href="classbasecamp.html#ac74df444febf86c4bef85f88f2d94d65">by_radio</a> );</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        <span class="keywordflow">if</span>( ts.<a class="code" href="structcomp__selection.html#aba0dbd35386fe5e74a52ea7f71065eed">use_from</a> == <a class="code" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa10aec35353f9c4096a71c38654c3d402">usage_from::cancel</a> ) {</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        }</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <a class="code" href="classbasecamp__action__components.html#aa00c10273d12163855a36bcb8e31e0d9">tool_selections_</a>.push_back( ts );</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;}</div>
<div class="ttc" id="aavatar_8h_html_a7fe2c1a3376948380f856732d4f34c5c"><div class="ttname"><a href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a></div><div class="ttdeci">avatar &amp; get_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13817">game.cpp:13817</a></div></div>
<div class="ttc" id="aclassCharacter_html_a15e400d8098702465a58e5ff71ad734f"><div class="ttname"><a href="classCharacter.html#a15e400d8098702465a58e5ff71ad734f">Character::select_item_component</a></div><div class="ttdeci">comp_selection&lt; item_comp &gt; select_item_component(const std::vector&lt; item_comp &gt; &amp;components, int batch, read_only_visitable &amp;map_inv, bool can_cancel=false, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;, bool player_inv=true, bool npc_query=false, const recipe *rec=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01746">crafting.cpp:1746</a></div></div>
<div class="ttc" id="aclassCharacter_html_a860d40c9c27d0d12490c014cba63c598"><div class="ttname"><a href="classCharacter.html#a860d40c9c27d0d12490c014cba63c598">Character::select_tool_component</a></div><div class="ttdeci">comp_selection&lt; tool_comp &gt; select_tool_component(const std::vector&lt; tool_comp &gt; &amp;tools, int batch, read_only_visitable &amp;map_inv, bool can_cancel=false, bool player_inv=true, bool npc_query=false, const std::function&lt; int(int)&gt; &amp;charges_required_modifier=[](int i) { return i;})</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l02173">crafting.cpp:2173</a></div></div>
<div class="ttc" id="aclassavatar_html"><div class="ttname"><a href="classavatar.html">avatar</a></div><div class="ttdef"><b>Definition:</b> <a href="avatar_8h_source.html#l00083">avatar.h:84</a></div></div>
<div class="ttc" id="aclassbasecamp__action__components_html_a0446fd7dca82d9750c5b91671bcf937e"><div class="ttname"><a href="classbasecamp__action__components.html#a0446fd7dca82d9750c5b91671bcf937e">basecamp_action_components::item_selections_</a></div><div class="ttdeci">std::vector&lt; comp_selection&lt; item_comp &gt; &gt; item_selections_</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00523">basecamp.h:523</a></div></div>
<div class="ttc" id="aclassbasecamp__action__components_html_aa00c10273d12163855a36bcb8e31e0d9"><div class="ttname"><a href="classbasecamp__action__components.html#aa00c10273d12163855a36bcb8e31e0d9">basecamp_action_components::tool_selections_</a></div><div class="ttdeci">std::vector&lt; comp_selection&lt; tool_comp &gt; &gt; tool_selections_</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00524">basecamp.h:524</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a74acb873cc584c649a8b4aedac8efdca"><div class="ttname"><a href="classbasecamp.html#a74acb873cc584c649a8b4aedac8efdca">basecamp::_inv</a></div><div class="ttdeci">inventory _inv</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00505">basecamp.h:505</a></div></div>
<div class="ttc" id="aclassbasecamp_html_ac74df444febf86c4bef85f88f2d94d65"><div class="ttname"><a href="classbasecamp.html#ac74df444febf86c4bef85f88f2d94d65">basecamp::by_radio</a></div><div class="ttdeci">bool by_radio</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00506">basecamp.h:506</a></div></div>
<div class="ttc" id="aclassdeduped__requirement__data_html_af6bca939b4ec13da257c42363b69c0ef"><div class="ttname"><a href="classdeduped__requirement__data.html#af6bca939b4ec13da257c42363b69c0ef">deduped_requirement_data::select_alternative</a></div><div class="ttdeci">const requirement_data * select_alternative(Character &amp;, const std::function&lt; bool(const item &amp;)&gt; &amp;filter, int batch=1, craft_flags=craft_flags::none) const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l01694">requirements.cpp:1694</a></div></div>
<div class="ttc" id="aclassrecipe_html_a6bf6a221531a705e16bd859596050d4a"><div class="ttname"><a href="classrecipe.html#a6bf6a221531a705e16bd859596050d4a">recipe::blueprint_build_reqs</a></div><div class="ttdeci">const parameterized_build_reqs &amp; blueprint_build_reqs() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01404">recipe.cpp:1404</a></div></div>
<div class="ttc" id="aclassrecipe_html_ab1b55d41175b239729f740aaad63f306"><div class="ttname"><a href="classrecipe.html#ab1b55d41175b239729f740aaad63f306">recipe::deduped_requirements</a></div><div class="ttdeci">const deduped_requirement_data &amp; deduped_requirements() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00151">recipe.h:151</a></div></div>
<div class="ttc" id="aclassrecipe_html_acef4205b638841f8e1980005728fcf90"><div class="ttname"><a href="classrecipe.html#acef4205b638841f8e1980005728fcf90">recipe::is_blueprint</a></div><div class="ttdeci">bool is_blueprint() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l01346">recipe.cpp:1346</a></div></div>
<div class="ttc" id="acraft__command_8h_html_a78e9fef1fc6aaee4239b8fa5cc3cd21fa10aec35353f9c4096a71c38654c3d402"><div class="ttname"><a href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa10aec35353f9c4096a71c38654c3d402">usage_from::cancel</a></div><div class="ttdeci">@ cancel</div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="ainput__context_8cpp_html_a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a"><div class="ttname"><a href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">kb_menu_status::filter</a></div><div class="ttdeci">@ filter</div></div>
<div class="ttc" id="aitem_8h_html_a64c6001518eb0b959300f427a0086eb0"><div class="ttname"><a href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a></div><div class="ttdeci">bool is_crafting_component(const item &amp;component)</div><div class="ttdoc">Default filter for crafting component searches.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03267">item.h:3267</a></div></div>
<div class="ttc" id="astructcomp__selection_html"><div class="ttname"><a href="structcomp__selection.html">comp_selection&lt; item_comp &gt;</a></div></div>
<div class="ttc" id="astructcomp__selection_html_aba0dbd35386fe5e74a52ea7f71065eed"><div class="ttname"><a href="structcomp__selection.html#aba0dbd35386fe5e74a52ea7f71065eed">comp_selection::use_from</a></div><div class="ttdeci">usage_from use_from</div><div class="ttdoc">Tells us where the selected component should be used from.</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8h_source.html#l00047">craft_command.h:47</a></div></div>
<div class="ttc" id="astructparameterized__build__reqs_html_ab9c7e2f44e3a3c6bbbfe79369e7b2d11"><div class="ttname"><a href="structparameterized__build__reqs.html#ab9c7e2f44e3a3c6bbbfe79369e7b2d11">parameterized_build_reqs::reqs_by_parameters</a></div><div class="ttdeci">std::unordered_map&lt; mapgen_arguments, build_reqs &gt; reqs_by_parameters</div><div class="ttdef"><b>Definition:</b> <a href="build__reqs_8h_source.html#l00038">build_reqs.h:38</a></div></div>
<div class="ttc" id="astructrequirement__data_html"><div class="ttname"><a href="structrequirement__data.html">requirement_data</a></div><div class="ttdoc">The *_vector members represent list of alternatives requirements: alter_tool_comp_vector = { * { { a,...</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00209">requirements.h:209</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a175d46943600149603b7a915cb48092b"><div class="ttname"><a href="structrequirement__data.html#a175d46943600149603b7a915cb48092b">requirement_data::get_tools</a></div><div class="ttdeci">const alter_tool_comp_vector &amp; get_tools() const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l01152">requirements.cpp:1152</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a56dbf23ade6bced0dc6148b8e1a12d4c"><div class="ttname"><a href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">requirement_data::get_components</a></div><div class="ttdeci">const alter_item_comp_vector &amp; get_components() const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l01162">requirements.cpp:1162</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00505">basecamp::_inv</a>, <a class="el" href="basecamp_8h_source.html#l00520">args_</a>, <a class="el" href="basecamp_8h_source.html#l00522">base_</a>, <a class="el" href="basecamp_8h_source.html#l00521">batch_size_</a>, <a class="el" href="recipe_8cpp_source.html#l01404">recipe::blueprint_build_reqs()</a>, <a class="el" href="basecamp_8h_source.html#l00506">basecamp::by_radio</a>, <a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa10aec35353f9c4096a71c38654c3d402">cancel</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="recipe_8h_source.html#l00151">recipe::deduped_requirements()</a>, <a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="requirements_8cpp_source.html#l01162">requirement_data::get_components()</a>, <a class="el" href="requirements_8cpp_source.html#l01152">requirement_data::get_tools()</a>, <a class="el" href="recipe_8cpp_source.html#l01346">recipe::is_blueprint()</a>, <a class="el" href="item_8h_source.html#l03267">is_crafting_component()</a>, <a class="el" href="basecamp_8h_source.html#l00523">item_selections_</a>, <a class="el" href="basecamp_8h_source.html#l00519">making_</a>, <a class="el" href="build__reqs_8h_source.html#l00038">parameterized_build_reqs::reqs_by_parameters</a>, <a class="el" href="requirements_8cpp_source.html#l01694">deduped_requirement_data::select_alternative()</a>, <a class="el" href="crafting_8cpp_source.html#l01746">Character::select_item_component()</a>, <a class="el" href="crafting_8cpp_source.html#l02173">Character::select_tool_component()</a>, <a class="el" href="basecamp_8h_source.html#l00524">tool_selections_</a>, and <a class="el" href="craft__command_8h_source.html#l00047">comp_selection&lt; CompType &gt;::use_from</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l03114">basecamp::common_salt_water_pipe_construction()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03490">basecamp::start_crafting()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02811">basecamp::start_fortifications()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l02084">basecamp::start_upgrade()</a>.</p>

</div>
</div>
<a id="a4d3bf03eade998aba2289e95f41e176c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d3bf03eade998aba2289e95f41e176c">&#9670;&nbsp;</a></span>consume_components()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void basecamp_action_components::consume_components </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8cpp_source.html#l00924">924</a> of file <a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;{</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;target_map = <a class="code" href="classbasecamp__action__components.html#a74f255edff5e62be268979389e57e4dc">base_</a>.<a class="code" href="classbasecamp.html#aada281e7799622225de08dd341bdd2f6">get_camp_map</a>();</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    std::vector&lt;tripoint&gt; src;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    src.resize( <a class="code" href="classbasecamp__action__components.html#a74f255edff5e62be268979389e57e4dc">base_</a>.<a class="code" href="classbasecamp.html#af79f4de8f8963115c179d1d0174b6115">src_set</a>.size() );</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> &amp;p : <a class="code" href="classbasecamp__action__components.html#a74f255edff5e62be268979389e57e4dc">base_</a>.<a class="code" href="classbasecamp.html#af79f4de8f8963115c179d1d0174b6115">src_set</a> ) {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        src.emplace_back( target_map.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( p ) );</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    }</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structcomp__selection.html">comp_selection&lt;item_comp&gt;</a> &amp;sel : <a class="code" href="classbasecamp__action__components.html#a0446fd7dca82d9750c5b91671bcf937e">item_selections_</a> ) {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        std::list&lt;item&gt; empty_consumed = player_character.<a class="code" href="classCharacter.html#a5d161e8df8122b5f3d74a081ee8d12cf">consume_items</a>( target_map, sel, <a class="code" href="classbasecamp__action__components.html#a5b7d63a6c36b858ab8740148a362185f">batch_size_</a>,</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                                         <a class="code" href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a>, src );</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="comment">// this may consume pseudo-resources from fake items</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structcomp__selection.html">comp_selection&lt;tool_comp&gt;</a> &amp;sel : <a class="code" href="classbasecamp__action__components.html#aa00c10273d12163855a36bcb8e31e0d9">tool_selections_</a> ) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        player_character.<a class="code" href="classCharacter.html#a33d0aa99b607cfbe38b910d4dd6b0b1b">consume_tools</a>( target_map, sel, <a class="code" href="classbasecamp__action__components.html#a5b7d63a6c36b858ab8740148a362185f">batch_size_</a>, src, &amp;<a class="code" href="classbasecamp__action__components.html#a74f255edff5e62be268979389e57e4dc">base_</a> );</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    }</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="comment">// go back and consume the actual resources</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structbasecamp__resource.html">basecamp_resource</a> &amp;bcp_r : <a class="code" href="classbasecamp__action__components.html#a74f255edff5e62be268979389e57e4dc">base_</a>.<a class="code" href="classbasecamp.html#a9aa80ec0bbae71687ace4150b5896ff8">resources</a> ) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <span class="keywordflow">if</span>( bcp_r.<a class="code" href="structbasecamp__resource.html#ac049147ce4705b851a380dadfe83c53f">consumed</a> &gt; 0 ) {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            target_map.<a class="code" href="classmap.html#abb94e8c2cfd4cdd632a6f99c2d67a894">use_charges</a>( src, bcp_r.<a class="code" href="structbasecamp__resource.html#afda9c5e9be9a0c51645599f5a30bf5bb">ammo_id</a>, bcp_r.<a class="code" href="structbasecamp__resource.html#ac049147ce4705b851a380dadfe83c53f">consumed</a> );</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    target_map.<a class="code" href="classmap.html#a6bc669c8915ae41469ef8f0b5e925c3e">save</a>();</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a33d0aa99b607cfbe38b910d4dd6b0b1b"><div class="ttname"><a href="classCharacter.html#a33d0aa99b607cfbe38b910d4dd6b0b1b">Character::consume_tools</a></div><div class="ttdeci">void consume_tools(const comp_selection&lt; tool_comp &gt; &amp;tool, int batch)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l02400">crafting.cpp:2400</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5d161e8df8122b5f3d74a081ee8d12cf"><div class="ttname"><a href="classCharacter.html#a5d161e8df8122b5f3d74a081ee8d12cf">Character::consume_items</a></div><div class="ttdeci">std::list&lt; item &gt; consume_items(const comp_selection&lt; item_comp &gt; &amp;is, int batch, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;, bool select_ind=false)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l02029">crafting.cpp:2029</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a9aa80ec0bbae71687ace4150b5896ff8"><div class="ttname"><a href="classbasecamp.html#a9aa80ec0bbae71687ace4150b5896ff8">basecamp::resources</a></div><div class="ttdeci">std::vector&lt; basecamp_resource &gt; resources</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00503">basecamp.h:503</a></div></div>
<div class="ttc" id="aclassbasecamp_html_aada281e7799622225de08dd341bdd2f6"><div class="ttname"><a href="classbasecamp.html#aada281e7799622225de08dd341bdd2f6">basecamp::get_camp_map</a></div><div class="ttdeci">map &amp; get_camp_map()</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00790">basecamp.cpp:790</a></div></div>
<div class="ttc" id="aclassbasecamp_html_af79f4de8f8963115c179d1d0174b6115"><div class="ttname"><a href="classbasecamp.html#af79f4de8f8963115c179d1d0174b6115">basecamp::src_set</a></div><div class="ttdeci">std::unordered_set&lt; tripoint_abs_ms &gt; src_set</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00500">basecamp.h:500</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::abs, coords::ms &gt;</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="aclassmap_html_a426c21f7244ff80a61685a89e9146fec"><div class="ttname"><a href="classmap.html#a426c21f7244ff80a61685a89e9146fec">map::getlocal</a></div><div class="ttdeci">tripoint getlocal(const tripoint &amp;p) const</div><div class="ttdoc">Inverse of getabs.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09635">map.cpp:9635</a></div></div>
<div class="ttc" id="aclassmap_html_a6bc669c8915ae41469ef8f0b5e925c3e"><div class="ttname"><a href="classmap.html#a6bc669c8915ae41469ef8f0b5e925c3e">map::save</a></div><div class="ttdeci">void save()</div><div class="ttdoc">Add currently loaded submaps (in grid) to the mapbuffer.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07879">map.cpp:7879</a></div></div>
<div class="ttc" id="aclassmap_html_abb94e8c2cfd4cdd632a6f99c2d67a894"><div class="ttname"><a href="classmap.html#abb94e8c2cfd4cdd632a6f99c2d67a894">map::use_charges</a></div><div class="ttdeci">std::list&lt; item &gt; use_charges(const tripoint &amp;origin, int range, const itype_id &amp;type, int &amp;quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;, basecamp *bcp=nullptr, bool in_tools=false)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06140">map.cpp:6140</a></div></div>
<div class="ttc" id="astructbasecamp__resource_html"><div class="ttname"><a href="structbasecamp__resource.html">basecamp_resource</a></div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00115">basecamp.h:115</a></div></div>
<div class="ttc" id="astructbasecamp__resource_html_ac049147ce4705b851a380dadfe83c53f"><div class="ttname"><a href="structbasecamp__resource.html#ac049147ce4705b851a380dadfe83c53f">basecamp_resource::consumed</a></div><div class="ttdeci">int consumed</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00119">basecamp.h:119</a></div></div>
<div class="ttc" id="astructbasecamp__resource_html_afda9c5e9be9a0c51645599f5a30bf5bb"><div class="ttname"><a href="structbasecamp__resource.html#afda9c5e9be9a0c51645599f5a30bf5bb">basecamp_resource::ammo_id</a></div><div class="ttdeci">itype_id ammo_id</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00117">basecamp.h:117</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00117">basecamp_resource::ammo_id</a>, <a class="el" href="basecamp_8h_source.html#l00522">base_</a>, <a class="el" href="basecamp_8h_source.html#l00521">batch_size_</a>, <a class="el" href="crafting_8cpp_source.html#l02029">Character::consume_items()</a>, <a class="el" href="crafting_8cpp_source.html#l02400">Character::consume_tools()</a>, <a class="el" href="basecamp_8h_source.html#l00119">basecamp_resource::consumed</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="basecamp_8cpp_source.html#l00790">basecamp::get_camp_map()</a>, <a class="el" href="map_8cpp_source.html#l09635">map::getlocal()</a>, <a class="el" href="item_8h_source.html#l03267">is_crafting_component()</a>, <a class="el" href="basecamp_8h_source.html#l00523">item_selections_</a>, <a class="el" href="basecamp_8h_source.html#l00503">basecamp::resources</a>, <a class="el" href="map_8cpp_source.html#l07879">map::save()</a>, <a class="el" href="basecamp_8h_source.html#l00500">basecamp::src_set</a>, <a class="el" href="basecamp_8h_source.html#l00524">tool_selections_</a>, and <a class="el" href="map_8cpp_source.html#l06140">map::use_charges()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l03114">basecamp::common_salt_water_pipe_construction()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03490">basecamp::start_crafting()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02811">basecamp::start_fortifications()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l02084">basecamp::start_upgrade()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="af613858b3f2038607976482bb73629a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af613858b3f2038607976482bb73629a4">&#9670;&nbsp;</a></span>args_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structmapgen__arguments.html">mapgen_arguments</a>&amp; basecamp_action_components::args_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00520">520</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00877">choose_components()</a>.</p>

</div>
</div>
<a id="a74f255edff5e62be268979389e57e4dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74f255edff5e62be268979389e57e4dc">&#9670;&nbsp;</a></span>base_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbasecamp.html">basecamp</a>&amp; basecamp_action_components::base_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00522">522</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00877">choose_components()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00924">consume_components()</a>.</p>

</div>
</div>
<a id="a5b7d63a6c36b858ab8740148a362185f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b7d63a6c36b858ab8740148a362185f">&#9670;&nbsp;</a></span>batch_size_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int basecamp_action_components::batch_size_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00521">521</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00877">choose_components()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00924">consume_components()</a>.</p>

</div>
</div>
<a id="a0446fd7dca82d9750c5b91671bcf937e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0446fd7dca82d9750c5b91671bcf937e">&#9670;&nbsp;</a></span>item_selections_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structcomp__selection.html">comp_selection</a>&lt;<a class="el" href="structitem__comp.html">item_comp</a>&gt; &gt; basecamp_action_components::item_selections_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00523">523</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00877">choose_components()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00924">consume_components()</a>.</p>

</div>
</div>
<a id="a39bf8817e4f007aaf394040dcbe2f4de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39bf8817e4f007aaf394040dcbe2f4de">&#9670;&nbsp;</a></span>making_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classrecipe.html">recipe</a>&amp; basecamp_action_components::making_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00519">519</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00877">choose_components()</a>.</p>

</div>
</div>
<a id="aa00c10273d12163855a36bcb8e31e0d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa00c10273d12163855a36bcb8e31e0d9">&#9670;&nbsp;</a></span>tool_selections_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structcomp__selection.html">comp_selection</a>&lt;<a class="el" href="structtool__comp.html">tool_comp</a>&gt; &gt; basecamp_action_components::tool_selections_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="basecamp_8h_source.html#l00524">524</a> of file <a class="el" href="basecamp_8h_source.html">basecamp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00877">choose_components()</a>, and <a class="el" href="basecamp_8cpp_source.html#l00924">consume_components()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="basecamp_8h_source.html">basecamp.h</a></li>
<li>src/<a class="el" href="basecamp_8cpp_source.html">basecamp.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:35 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
