<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: src/pickup.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">pickup.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="pickup_8h_source.html">pickup.h</a>&quot;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;optional&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &quot;<a class="el" href="activity__actor__definitions_8h_source.html">activity_actor_definitions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="auto__pickup_8h_source.html">auto_pickup.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="character_8h_source.html">character.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="colony_8h_source.html">colony.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="debug_8h_source.html">debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="enums_8h_source.html">enums.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="game_8h_source.html">game.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="input_8h_source.html">input.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="input__context_8h_source.html">input_context.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="item_8h_source.html">item.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="item__location_8h_source.html">item_location.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="item__stack_8h_source.html">item_stack.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="line_8h_source.html">line.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="map_8h_source.html">map.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mapdata_8h_source.html">mapdata.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="messages_8h_source.html">messages.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="options_8h_source.html">options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="player__activity_8h_source.html">player_activity.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="point_8h_source.html">point.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="popup_8h_source.html">popup.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ret__val_8h_source.html">ret_val.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="string__formatter_8h_source.html">string_formatter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="translations_8h_source.html">translations.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="type__id_8h_source.html">type_id.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ui_8h_source.html">ui.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="units_8h_source.html">units.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="units__utility_8h_source.html">units_utility.h</a>&quot;</code><br />
</div>
<p><a href="pickup_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpickup__count.html">pickup_count</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ac769307dd4918e4ccdd6cb4ec8b3b4b8"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pickup_8cpp.html#ac769307dd4918e4ccdd6cb4ec8b3b4b8">ItemCount</a> = std::pair&lt; <a class="el" href="classitem.html">item</a>, int &gt;</td></tr>
<tr class="separator:ac769307dd4918e4ccdd6cb4ec8b3b4b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af85655a378e7051cf747a723a9f2291b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pickup_8cpp.html#af85655a378e7051cf747a723a9f2291b">PickupMap</a> = <a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt; <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>, <a class="el" href="pickup_8cpp.html#ac769307dd4918e4ccdd6cb4ec8b3b4b8">ItemCount</a> &gt;</td></tr>
<tr class="separator:af85655a378e7051cf747a723a9f2291b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a777d97e4e0b5f526a83ac7c820cb92e1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1">pickup_answer</a> : int { <br />
&#160;&#160;<a class="el" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ae4842754cb17e5234637e3a85a7f3d90">CANCEL</a> = -1
, <a class="el" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ac318239754caa08c2df1edef8e8994e3">WIELD</a>
, <a class="el" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1aca2be1f63d060cd294aba7da969743b1">SPILL</a>
, <a class="el" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ae3947b7ec73b9b7ef32249ea80aec67f">STASH</a>
, <br />
&#160;&#160;<a class="el" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1a37e5e1ac1cb8d085e53c84e8ed6514e9">NUM_ANSWERS</a>
<br />
 }</td></tr>
<tr class="separator:a777d97e4e0b5f526a83ac7c820cb92e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aeb211bd7c9f9377d5ac40b7d0f815bf0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pickup_8cpp.html#aeb211bd7c9f9377d5ac40b7d0f815bf0">show_pickup_message</a> (const <a class="el" href="pickup_8cpp.html#af85655a378e7051cf747a723a9f2291b">PickupMap</a> &amp;mapPickup)</td></tr>
<tr class="separator:aeb211bd7c9f9377d5ac40b7d0f815bf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a25436dd926395069ea5277fe5fbc9a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1">pickup_answer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pickup_8cpp.html#a4a25436dd926395069ea5277fe5fbc9a">handle_problematic_pickup</a> (const <a class="el" href="classitem.html">item</a> &amp;it, const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &amp;explain)</td></tr>
<tr class="separator:a4a25436dd926395069ea5277fe5fbc9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a963440dafddb061fe59cd747f1e4cf88"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pickup_8cpp.html#a963440dafddb061fe59cd747f1e4cf88">is_bulk_load</a> (const <a class="el" href="structPickup_1_1pick__info.html">Pickup::pick_info</a> &amp;lhs, const <a class="el" href="structPickup_1_1pick__info.html">Pickup::pick_info</a> &amp;rhs)</td></tr>
<tr class="separator:a963440dafddb061fe59cd747f1e4cf88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04d3433848a436ca2c93c87909a01917"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pickup_8cpp.html#a04d3433848a436ca2c93c87909a01917">pick_one_up</a> (<a class="el" href="classitem__location.html">item_location</a> &amp;loc, int quantity, bool &amp;got_water, bool &amp;got_gas, <a class="el" href="pickup_8cpp.html#af85655a378e7051cf747a723a9f2291b">PickupMap</a> &amp;mapPickup, bool autopickup, bool &amp;stash_successful, bool &amp;got_frozen_liquid, <a class="el" href="structPickup_1_1pick__info.html">Pickup::pick_info</a> &amp;info)</td></tr>
<tr class="separator:a04d3433848a436ca2c93c87909a01917"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae06646808abdd3f4718d426b15e54392"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a65869bf196f1d97bcfd690e07ffbbd7d">flag_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pickup_8cpp.html#ae06646808abdd3f4718d426b15e54392">json_flag_SHREDDED</a> (&quot;SHREDDED&quot;)</td></tr>
<tr class="separator:ae06646808abdd3f4718d426b15e54392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0477eaea50c64fa3e2089bda562ed2bf"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4ec2337d992ab8b0115c2bd7ff30902a">zone_type_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pickup_8cpp.html#a0477eaea50c64fa3e2089bda562ed2bf">zone_type_NO_AUTO_PICKUP</a> (&quot;NO_AUTO_PICKUP&quot;)</td></tr>
<tr class="separator:a0477eaea50c64fa3e2089bda562ed2bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ac769307dd4918e4ccdd6cb4ec8b3b4b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac769307dd4918e4ccdd6cb4ec8b3b4b8">&#9670;&nbsp;</a></span>ItemCount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="pickup_8cpp.html#ac769307dd4918e4ccdd6cb4ec8b3b4b8">ItemCount</a> =  std::pair&lt;<a class="el" href="classitem.html">item</a>, int&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pickup_8cpp_source.html#l00039">39</a> of file <a class="el" href="pickup_8cpp_source.html">pickup.cpp</a>.</p>

</div>
</div>
<a id="af85655a378e7051cf747a723a9f2291b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af85655a378e7051cf747a723a9f2291b">&#9670;&nbsp;</a></span>PickupMap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="pickup_8cpp.html#af85655a378e7051cf747a723a9f2291b">PickupMap</a> =  <a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">std::map</a>&lt;<a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>, <a class="el" href="pickup_8cpp.html#ac769307dd4918e4ccdd6cb4ec8b3b4b8">ItemCount</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pickup_8cpp_source.html#l00040">40</a> of file <a class="el" href="pickup_8cpp_source.html">pickup.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a777d97e4e0b5f526a83ac7c820cb92e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a777d97e4e0b5f526a83ac7c820cb92e1">&#9670;&nbsp;</a></span>pickup_answer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1">pickup_answer</a> : int</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a777d97e4e0b5f526a83ac7c820cb92e1ae4842754cb17e5234637e3a85a7f3d90"></a>CANCEL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a777d97e4e0b5f526a83ac7c820cb92e1ac318239754caa08c2df1edef8e8994e3"></a>WIELD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a777d97e4e0b5f526a83ac7c820cb92e1aca2be1f63d060cd294aba7da969743b1"></a>SPILL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a777d97e4e0b5f526a83ac7c820cb92e1ae3947b7ec73b9b7ef32249ea80aec67f"></a>STASH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a777d97e4e0b5f526a83ac7c820cb92e1a37e5e1ac1cb8d085e53c84e8ed6514e9"></a>NUM_ANSWERS&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="pickup_8cpp_source.html#l00067">67</a> of file <a class="el" href="pickup_8cpp_source.html">pickup.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                   : <span class="keywordtype">int</span> {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ae4842754cb17e5234637e3a85a7f3d90">CANCEL</a> = -1,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ac318239754caa08c2df1edef8e8994e3">WIELD</a>,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1aca2be1f63d060cd294aba7da969743b1">SPILL</a>,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ae3947b7ec73b9b7ef32249ea80aec67f">STASH</a>,</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1a37e5e1ac1cb8d085e53c84e8ed6514e9">NUM_ANSWERS</a></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;};</div>
<div class="ttc" id="apickup_8cpp_html_a777d97e4e0b5f526a83ac7c820cb92e1a37e5e1ac1cb8d085e53c84e8ed6514e9"><div class="ttname"><a href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1a37e5e1ac1cb8d085e53c84e8ed6514e9">NUM_ANSWERS</a></div><div class="ttdeci">@ NUM_ANSWERS</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8cpp_source.html#l00073">pickup.cpp:72</a></div></div>
<div class="ttc" id="apickup_8cpp_html_a777d97e4e0b5f526a83ac7c820cb92e1ac318239754caa08c2df1edef8e8994e3"><div class="ttname"><a href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ac318239754caa08c2df1edef8e8994e3">WIELD</a></div><div class="ttdeci">@ WIELD</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8cpp_source.html#l00069">pickup.cpp:69</a></div></div>
<div class="ttc" id="apickup_8cpp_html_a777d97e4e0b5f526a83ac7c820cb92e1aca2be1f63d060cd294aba7da969743b1"><div class="ttname"><a href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1aca2be1f63d060cd294aba7da969743b1">SPILL</a></div><div class="ttdeci">@ SPILL</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8cpp_source.html#l00070">pickup.cpp:70</a></div></div>
<div class="ttc" id="apickup_8cpp_html_a777d97e4e0b5f526a83ac7c820cb92e1ae3947b7ec73b9b7ef32249ea80aec67f"><div class="ttname"><a href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ae3947b7ec73b9b7ef32249ea80aec67f">STASH</a></div><div class="ttdeci">@ STASH</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8cpp_source.html#l00071">pickup.cpp:71</a></div></div>
<div class="ttc" id="apickup_8cpp_html_a777d97e4e0b5f526a83ac7c820cb92e1ae4842754cb17e5234637e3a85a7f3d90"><div class="ttname"><a href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ae4842754cb17e5234637e3a85a7f3d90">CANCEL</a></div><div class="ttdeci">@ CANCEL</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8cpp_source.html#l00068">pickup.cpp:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4a25436dd926395069ea5277fe5fbc9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a25436dd926395069ea5277fe5fbc9a">&#9670;&nbsp;</a></span>handle_problematic_pickup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1">pickup_answer</a> handle_problematic_pickup </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>explain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pickup_8cpp_source.html#l00075">75</a> of file <a class="el" href="pickup_8cpp_source.html">pickup.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;<a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a> = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="classuilist.html">uilist</a> amenu;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    amenu.<a class="code" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = explain;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="classitem.html">item</a> empty_it( it );</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    empty_it.get_contents().clear_items();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordtype">bool</span> can_pickup = <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>.can_stash( empty_it ) &amp;&amp; <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>.can_pickWeight( empty_it );</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">if</span>( it.<a class="code" href="classitem.html#af84e26c1418a4d090bbf55174431b6ac">is_bucket_nonempty</a>() ) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        amenu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ac318239754caa08c2df1edef8e8994e3">WIELD</a>, <span class="keyword">true</span>, <span class="charliteral">&#39;w&#39;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Wield %s&quot;</span> ), it.<a class="code" href="classitem.html#a893525fea93fa0a45a51edeb64f1b973">display_name</a>() );</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        amenu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1aca2be1f63d060cd294aba7da969743b1">SPILL</a>, can_pickup, <span class="charliteral">&#39;s&#39;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Spill contents of %s, then pick up %s&quot;</span> ),</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                        it.<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>(), it.<a class="code" href="classitem.html#a893525fea93fa0a45a51edeb64f1b973">display_name</a>() );</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    }</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    amenu.<a class="code" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordtype">int</span> choice = amenu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">if</span>( choice &lt;= CANCEL || choice &gt;= <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1a37e5e1ac1cb8d085e53c84e8ed6514e9">NUM_ANSWERS</a> ) {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ae4842754cb17e5234637e3a85a7f3d90">CANCEL</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1">pickup_answer</a><span class="keyword">&gt;</span>( choice );</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassitem_html_a30837987c08ac5daf3b1e377e0ecaa21"><div class="ttname"><a href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">item::tname</a></div><div class="ttdeci">std::string tname(unsigned int quantity=1, tname::segment_bitset const &amp;segments=tname::default_tname) const</div><div class="ttdoc">Return the (translated) item name.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06814">item.cpp:6814</a></div></div>
<div class="ttc" id="aclassitem_html_a893525fea93fa0a45a51edeb64f1b973"><div class="ttname"><a href="classitem.html#a893525fea93fa0a45a51edeb64f1b973">item::display_name</a></div><div class="ttdeci">std::string display_name(unsigned int quantity=1) const</div><div class="ttdoc">Returns the item name and the charges or contained charges (if the item can have charges at all).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06855">item.cpp:6855</a></div></div>
<div class="ttc" id="aclassitem_html_af84e26c1418a4d090bbf55174431b6ac"><div class="ttname"><a href="classitem.html#af84e26c1418a4d090bbf55174431b6ac">item::is_bucket_nonempty</a></div><div class="ttdeci">bool is_bucket_nonempty() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09746">item.cpp:9746</a></div></div>
<div class="ttc" id="aclassuilist_html"><div class="ttname"><a href="classuilist.html">uilist</a></div><div class="ttdoc">uilist: scrolling vertical list menu</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00231">ui.h:232</a></div></div>
<div class="ttc" id="aclassuilist_html_a0baa34622db6972a59d47d478bfd21d6"><div class="ttname"><a href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">uilist::ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00525">ui.h:525</a></div></div>
<div class="ttc" id="aclassuilist_html_a18fd9765355d9e418bc2c399048e0645"><div class="ttname"><a href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">uilist::addentry</a></div><div class="ttdeci">void addentry(const std::string &amp;txt)</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01210">ui.cpp:1210</a></div></div>
<div class="ttc" id="aclassuilist_html_af59dd3fdde04746dbc5cb52b355577ce"><div class="ttname"><a href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">uilist::text</a></div><div class="ttdeci">std::string text</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00419">ui.h:419</a></div></div>
<div class="ttc" id="aglobal__vars_8h_html_a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c"><div class="ttname"><a href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">var_type::u</a></div><div class="ttdeci">@ u</div></div>
<div class="ttc" id="agroup__UI_html_ga7604af7545244003f0a52ac87ce37979"><div class="ttname"><a href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">uilist::query</a></div><div class="ttdeci">void query(bool loop=true, int timeout=-1)</div><div class="ttdoc">Handle input and update display.</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01032">ui.cpp:1032</a></div></div>
<div class="ttc" id="apickup_8cpp_html_a777d97e4e0b5f526a83ac7c820cb92e1"><div class="ttname"><a href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1">pickup_answer</a></div><div class="ttdeci">pickup_answer</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8cpp_source.html#l00067">pickup.cpp:67</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="ui_8cpp_source.html#l01210">uilist::addentry()</a>, <a class="el" href="pickup_8cpp_source.html#l00068">CANCEL</a>, <a class="el" href="item__contents_8cpp_source.html#l01424">item_contents::clear_items()</a>, <a class="el" href="item_8cpp_source.html#l06855">item::display_name()</a>, <a class="el" href="item_8h_source.html#l03165">item::get_contents()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="item_8cpp_source.html#l09746">item::is_bucket_nonempty()</a>, <a class="el" href="pickup_8cpp_source.html#l00072">NUM_ANSWERS</a>, <a class="el" href="ui_8cpp_source.html#l01032">uilist::query()</a>, <a class="el" href="ui_8h_source.html#l00525">uilist::ret</a>, <a class="el" href="pickup_8cpp_source.html#l00070">SPILL</a>, <a class="el" href="ui_8h_source.html#l00419">uilist::text</a>, <a class="el" href="item_8cpp_source.html#l06814">item::tname()</a>, <a class="el" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>, and <a class="el" href="pickup_8cpp_source.html#l00069">WIELD</a>.</p>

<p class="reference">Referenced by <a class="el" href="pickup_8cpp_source.html#l00172">pick_one_up()</a>.</p>

</div>
</div>
<a id="a963440dafddb061fe59cd747f1e4cf88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a963440dafddb061fe59cd747f1e4cf88">&#9670;&nbsp;</a></span>is_bulk_load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_bulk_load </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structPickup_1_1pick__info.html">Pickup::pick_info</a> &amp;&#160;</td>
          <td class="paramname"><em>lhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPickup_1_1pick__info.html">Pickup::pick_info</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pickup_8cpp_source.html#l00146">146</a> of file <a class="el" href="pickup_8cpp_source.html">pickup.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;{</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">// Check if storage is the same</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span>( lhs.<a class="code" href="structPickup_1_1pick__info.html#a6445bcb8b8b5e2bb6bb19d92cae9bc72">dst</a> &amp;&amp; rhs.<a class="code" href="structPickup_1_1pick__info.html#a6445bcb8b8b5e2bb6bb19d92cae9bc72">dst</a> &amp;&amp; lhs.<a class="code" href="structPickup_1_1pick__info.html#a6445bcb8b8b5e2bb6bb19d92cae9bc72">dst</a>-&gt;<a class="code" href="classitem.html#ab5544519ee3b45fbedf045dc14e9931f">stacks_with</a>( *rhs.<a class="code" href="structPickup_1_1pick__info.html#a6445bcb8b8b5e2bb6bb19d92cae9bc72">dst</a> ) &amp;&amp;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        lhs.<a class="code" href="structPickup_1_1pick__info.html#a6445bcb8b8b5e2bb6bb19d92cae9bc72">dst</a>.<a class="code" href="classitem__location.html#a0f73e1c094e3e36d6455d46436e299a9">where</a>() == <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863">item_location::type::container</a> &amp;&amp;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        rhs.<a class="code" href="structPickup_1_1pick__info.html#a6445bcb8b8b5e2bb6bb19d92cae9bc72">dst</a>.<a class="code" href="classitem__location.html#a0f73e1c094e3e36d6455d46436e299a9">where</a>() == <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863">item_location::type::container</a> &amp;&amp;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        lhs.<a class="code" href="structPickup_1_1pick__info.html#a6445bcb8b8b5e2bb6bb19d92cae9bc72">dst</a>.<a class="code" href="classitem__location.html#ad2c318c46c6daaa28c9ed522ae6d13a4">parent_item</a>() == rhs.<a class="code" href="structPickup_1_1pick__info.html#a6445bcb8b8b5e2bb6bb19d92cae9bc72">dst</a>.<a class="code" href="classitem__location.html#ad2c318c46c6daaa28c9ed522ae6d13a4">parent_item</a>() ) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="comment">// Check if source is the same</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">if</span>( lhs.<a class="code" href="structPickup_1_1pick__info.html#a4104dc04e982751485abdb405293bc2b">src_type</a> == rhs.<a class="code" href="structPickup_1_1pick__info.html#a4104dc04e982751485abdb405293bc2b">src_type</a> ) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keywordflow">switch</span>( lhs.<a class="code" href="structPickup_1_1pick__info.html#a4104dc04e982751485abdb405293bc2b">src_type</a> ) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863">item_location::type::container</a>:</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                    <span class="keywordflow">return</span> lhs.<a class="code" href="structPickup_1_1pick__info.html#a0795a281c88bae336eab6ae0f5d01216">src_container</a> == rhs.<a class="code" href="structPickup_1_1pick__info.html#a0795a281c88bae336eab6ae0f5d01216">src_container</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da1d78dc8ed51214e518b5114fe24490ae">item_location::type::map</a>:</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5a76e813d6a0a40548b91acc11557bd2">item_location::type::vehicle</a>:</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    <span class="keywordflow">return</span> lhs.<a class="code" href="structPickup_1_1pick__info.html#a30949090ef2826eaef2010d15d003277">src_pos</a> == rhs.<a class="code" href="structPickup_1_1pick__info.html#a30949090ef2826eaef2010d15d003277">src_pos</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
<div class="ttc" id="aclassitem__location_html_a038e108475b9fb4f9833268f5fa2888da1d78dc8ed51214e518b5114fe24490ae"><div class="ttname"><a href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da1d78dc8ed51214e518b5114fe24490ae">item_location::type::map</a></div><div class="ttdeci">@ map</div></div>
<div class="ttc" id="aclassitem__location_html_a038e108475b9fb4f9833268f5fa2888da5a76e813d6a0a40548b91acc11557bd2"><div class="ttname"><a href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5a76e813d6a0a40548b91acc11557bd2">item_location::type::vehicle</a></div><div class="ttdeci">@ vehicle</div></div>
<div class="ttc" id="aclassitem__location_html_a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863"><div class="ttname"><a href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863">item_location::type::container</a></div><div class="ttdeci">@ container</div></div>
<div class="ttc" id="aclassitem__location_html_a0f73e1c094e3e36d6455d46436e299a9"><div class="ttname"><a href="classitem__location.html#a0f73e1c094e3e36d6455d46436e299a9">item_location::where</a></div><div class="ttdeci">type where() const</div><div class="ttdoc">Returns the type of location where the item is found.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01001">item_location.cpp:1001</a></div></div>
<div class="ttc" id="aclassitem__location_html_ad2c318c46c6daaa28c9ed522ae6d13a4"><div class="ttname"><a href="classitem__location.html#ad2c318c46c6daaa28c9ed522ae6d13a4">item_location::parent_item</a></div><div class="ttdeci">item_location parent_item() const</div><div class="ttdoc">returns the parent item, or an invalid location if it has no parent</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00860">item_location.cpp:860</a></div></div>
<div class="ttc" id="aclassitem_html_ab5544519ee3b45fbedf045dc14e9931f"><div class="ttname"><a href="classitem.html#ab5544519ee3b45fbedf045dc14e9931f">item::stacks_with</a></div><div class="ttdeci">stacking_info stacks_with(const item &amp;rhs, bool check_components=false, bool combine_liquid=false, bool check_cat=false, int depth=0, int maxdepth=2, bool precise=false) const</div><div class="ttdoc">Check wether each element of tname::segments stacks, ie.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01636">item.cpp:1636</a></div></div>
<div class="ttc" id="astructPickup_1_1pick__info_html_a0795a281c88bae336eab6ae0f5d01216"><div class="ttname"><a href="structPickup_1_1pick__info.html#a0795a281c88bae336eab6ae0f5d01216">Pickup::pick_info::src_container</a></div><div class="ttdeci">item_location src_container</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8h_source.html#l00027">pickup.h:27</a></div></div>
<div class="ttc" id="astructPickup_1_1pick__info_html_a30949090ef2826eaef2010d15d003277"><div class="ttname"><a href="structPickup_1_1pick__info.html#a30949090ef2826eaef2010d15d003277">Pickup::pick_info::src_pos</a></div><div class="ttdeci">tripoint src_pos</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8h_source.html#l00026">pickup.h:26</a></div></div>
<div class="ttc" id="astructPickup_1_1pick__info_html_a4104dc04e982751485abdb405293bc2b"><div class="ttname"><a href="structPickup_1_1pick__info.html#a4104dc04e982751485abdb405293bc2b">Pickup::pick_info::src_type</a></div><div class="ttdeci">item_location::type src_type</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8h_source.html#l00025">pickup.h:25</a></div></div>
<div class="ttc" id="astructPickup_1_1pick__info_html_a6445bcb8b8b5e2bb6bb19d92cae9bc72"><div class="ttname"><a href="structPickup_1_1pick__info.html#a6445bcb8b8b5e2bb6bb19d92cae9bc72">Pickup::pick_info::dst</a></div><div class="ttdeci">item_location dst</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8h_source.html#l00028">pickup.h:28</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863">item_location::container</a>, <a class="el" href="pickup_8h_source.html#l00028">Pickup::pick_info::dst</a>, <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da1d78dc8ed51214e518b5114fe24490ae">item_location::map</a>, <a class="el" href="item__location_8cpp_source.html#l00860">item_location::parent_item()</a>, <a class="el" href="pickup_8h_source.html#l00027">Pickup::pick_info::src_container</a>, <a class="el" href="pickup_8h_source.html#l00026">Pickup::pick_info::src_pos</a>, <a class="el" href="pickup_8h_source.html#l00025">Pickup::pick_info::src_type</a>, <a class="el" href="item_8cpp_source.html#l01636">item::stacks_with()</a>, <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5a76e813d6a0a40548b91acc11557bd2">item_location::vehicle</a>, and <a class="el" href="item__location_8cpp_source.html#l01001">item_location::where()</a>.</p>

<p class="reference">Referenced by <a class="el" href="pickup_8cpp_source.html#l00172">pick_one_up()</a>.</p>

</div>
</div>
<a id="a04d3433848a436ca2c93c87909a01917"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04d3433848a436ca2c93c87909a01917">&#9670;&nbsp;</a></span>pick_one_up()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool pick_one_up </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem__location.html">item_location</a> &amp;&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>got_water</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>got_gas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pickup_8cpp.html#af85655a378e7051cf747a723a9f2291b">PickupMap</a> &amp;&#160;</td>
          <td class="paramname"><em>mapPickup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>autopickup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>stash_successful</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>got_frozen_liquid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPickup_1_1pick__info.html">Pickup::pick_info</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pickup_8cpp_source.html#l00172">172</a> of file <a class="el" href="pickup_8cpp_source.html">pickup.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordtype">bool</span> picked_up = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordtype">bool</span> crushed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="structPickup_1_1pick__info.html">Pickup::pick_info</a> pre_info( info );</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1">pickup_answer</a> option = <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ae4842754cb17e5234637e3a85a7f3d90">CANCEL</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// We already checked in do_pickup if this was a nullptr</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">// Make copies so the original remains untouched if we bail out</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="classitem__location.html">item_location</a> newloc = loc;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">//original item reference</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="classitem.html">item</a> &amp;it = *newloc.<a class="code" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a>();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">//new item (copy)</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="classitem.html">item</a> newit = it;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">if</span>( !newit.<a class="code" href="classitem.html#a0b35b9066ad71987b77727af45d96059">is_owned_by</a>( player_character, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="comment">// Has the player given input on if stealing is ok?</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">if</span>( player_character.<a class="code" href="classCreature.html#a2acb6e1e19bcb775748403d07d8dc3f0">get_value</a>( <span class="stringliteral">&quot;THIEF_MODE&quot;</span> ) == <span class="stringliteral">&quot;THIEF_ASK&quot;</span> ) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <a class="code" href="namespacePickup.html#ab150873f2ba005312d65e11cea9d3706">Pickup::query_thief</a>();</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">if</span>( player_character.<a class="code" href="classCreature.html#a2acb6e1e19bcb775748403d07d8dc3f0">get_value</a>( <span class="stringliteral">&quot;THIEF_MODE&quot;</span> ) == <span class="stringliteral">&quot;THIEF_HONEST&quot;</span> ) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// Since we are honest, return no problem before picking up</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">if</span>( newit.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> != <span class="charliteral">&#39;\0&#39;</span> &amp;&amp;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        player_character.<a class="code" href="classCharacter.html#a72814cbd916b863b7b20b43345ef2329">invlet_to_item</a>( newit.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> ) != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="comment">// Existing invlet is not re-usable, remove it and let the code in player.cpp/inventory.cpp</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="comment">// add a new invlet, otherwise keep the (usable) invlet.</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        newit.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">// Handle charges, quantity == 0 means move all</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">if</span>( quantity != 0 &amp;&amp; newit.<a class="code" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">if</span>( newit.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; quantity ) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            newit.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = quantity;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordtype">bool</span> did_prompt = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span>( newit.<a class="code" href="classitem.html#a52f5044582c9c5dd6ccf882fad039d64">is_frozen_liquid</a>() ) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">if</span>( newit.<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="pickup_8cpp.html#ae06646808abdd3f4718d426b15e54392">json_flag_SHREDDED</a> ) ) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            option = <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ae3947b7ec73b9b7ef32249ea80aec67f">STASH</a>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            crushed = player_character.<a class="code" href="classCharacter.html#a6fee5f76f33b6b476efedb8e23c36eb2">crush_frozen_liquid</a>( newloc );</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="keywordflow">if</span>( crushed ) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                option = <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ae3947b7ec73b9b7ef32249ea80aec67f">STASH</a>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                newit.<a class="code" href="classitem.html#a5b29c86dff457effe5dc4b9e7a24da12">set_flag</a>( <a class="code" href="pickup_8cpp.html#ae06646808abdd3f4718d426b15e54392">json_flag_SHREDDED</a> );</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                got_frozen_liquid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( newit.<a class="code" href="classitem.html#af486ddb23bd7e254cc07ef3ba1ba846d">made_of_from_type</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) ) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        got_water = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( newit.<a class="code" href="classitem.html#af486ddb23bd7e254cc07ef3ba1ba846d">made_of_from_type</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a505273a0a2bba0111a40f6cccbc55d69">phase_id::GAS</a> ) ) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        got_gas = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( newit.<a class="code" href="classitem.html#af84e26c1418a4d090bbf55174431b6ac">is_bucket_nonempty</a>() ) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="namespacePATH__INFO.html#abc25f6933aae16ccd5a998b800448850">autopickup</a> ) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keyword">const</span> std::string &amp;explain = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Can&#39;t stash %s while it&#39;s not empty&quot;</span> ),</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                         newit.<a class="code" href="classitem.html#a893525fea93fa0a45a51edeb64f1b973">display_name</a>() );</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            option = <a class="code" href="pickup_8cpp.html#a4a25436dd926395069ea5277fe5fbc9a">handle_problematic_pickup</a>( newit, explain );</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            did_prompt = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            option = <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ae4842754cb17e5234637e3a85a7f3d90">CANCEL</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !player_character.<a class="code" href="classCharacter.html#aa53d35923b539a53325f071cc1e94ae4">can_pickWeight_partial</a>( newit, <span class="keyword">false</span> ) ||</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;               !player_character.<a class="code" href="classCharacter.html#af84eccbb8811da4ef5ea1a991ac28094">can_stash_partial</a>( newit, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        option = <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ae4842754cb17e5234637e3a85a7f3d90">CANCEL</a>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        stash_successful = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        option = <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ae3947b7ec73b9b7ef32249ea80aec67f">STASH</a>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">switch</span>( option ) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1a37e5e1ac1cb8d085e53c84e8ed6514e9">NUM_ANSWERS</a>:</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="comment">// Some other option</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ae4842754cb17e5234637e3a85a7f3d90">CANCEL</a>:</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            picked_up = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ac318239754caa08c2df1edef8e8994e3">WIELD</a>:</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            picked_up = player_character.<a class="code" href="classCharacter.html#abfefc2e9898fff84f1d6bf007a73a976">wield</a>( newit );</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1aca2be1f63d060cd294aba7da969743b1">SPILL</a>:</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="keywordflow">if</span>( newit.<a class="code" href="classitem.html#a5996f63ca1797fc01482678b51a87680">is_container_empty</a>() ) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to spill contents from an empty container&quot;</span> );</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="comment">//using original item, possibly modifying it</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            picked_up = it.<a class="code" href="classitem.html#a2ea9b8df7dba40fc847f51563285f5aa">spill_contents</a>( player_character );</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="keywordflow">if</span>( !picked_up ) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span> invlet = newit.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                newit = it;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                newit.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = invlet;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="comment">// Intentional fallthrough</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pickup_8cpp.html#a777d97e4e0b5f526a83ac7c820cb92e1ae3947b7ec73b9b7ef32249ea80aec67f">STASH</a>: {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordtype">int</span> last_charges = newit.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <a class="code" href="classret__val.html">ret_val&lt;item_location&gt;</a> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = player_character.<a class="code" href="classCharacter.html#ac1b7a385cf58425333922f844b85ec0b">i_add_or_fill</a>( newit, <span class="keyword">true</span>, <span class="keyword">nullptr</span>, &amp;it,</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                                         <span class="comment">/*allow_drop=*/</span><span class="keyword">false</span>, <span class="comment">/*allow_wield=*/</span><span class="keyword">false</span>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <a class="code" href="classitem__location.html">item_location</a> added_it = <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.value();</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.success() ) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                <span class="keywordflow">if</span>( added_it == <a class="code" href="classitem__location.html#ac32191753a11cc2f4aa2ad6d50e6405b">item_location::nowhere</a> ) {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                    newit.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = last_charges - newit.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                    newit.<a class="code" href="classitem.html#adf662fb946f6a1188fe5e340ff80a95a">on_pickup</a>( player_character );</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                    <span class="keywordflow">if</span>( newit.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> != 0 ) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                        <span class="keyword">auto</span> &amp;entry = mapPickup[newit.<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>()];</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                        entry.second += newit.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                        entry.first = newit;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                        picked_up = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( &amp;*added_it == &amp;it ) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                    <span class="comment">// merged to the original stack, restore original charges</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                    it.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = last_charges;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                    <span class="comment">// successfully added</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                    <span class="keyword">auto</span> &amp;entry = mapPickup[newit.<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>()];</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                    entry.second += newit.<a class="code" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>();</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    entry.first = newit;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    picked_up = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <span class="keywordflow">if</span>( picked_up ) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                <span class="comment">// Update info</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                info.<a class="code" href="structPickup_1_1pick__info.html#ad58cf76c7787fc05a3dac02b73656752">set_dst</a>( added_it );</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">if</span>( picked_up ) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        info.<a class="code" href="structPickup_1_1pick__info.html#ad950d71d3bc3ef6c2220938c6d488907">set_src</a>( loc );</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        info.<a class="code" href="structPickup_1_1pick__info.html#aa2c92bc499822cdf0d8c6a5b1f218569">total_bulk_volume</a> += loc-&gt;<a class="code" href="classitem.html#a686df014e8aa8bc4637883802d05f935">volume</a>( <span class="keyword">false</span>, <span class="keyword">false</span>, quantity );</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="pickup_8cpp.html#a963440dafddb061fe59cd747f1e4cf88">is_bulk_load</a>( pre_info, info ) ) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="comment">// Cost to take an item from a container or map</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            player_character.<a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -loc.<a class="code" href="classitem__location.html#ac61eb40367834d791602ff3a2ca5c5a9">obtain_cost</a>( player_character, quantity ) );</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="comment">// Pure cost to handling item excluding overhead.</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            player_character.<a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -<a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( player_character.<a class="code" href="classCharacter.html#af5284cbdea522644fc9a677dd7e3f847">item_handling_cost</a>( *loc, <span class="keyword">true</span>, 0, quantity,</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                                                   <span class="keyword">true</span> ), 1 ) );</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="classcontents__change__handler.html">contents_change_handler</a> handler;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        handler.<a class="code" href="classcontents__change__handler.html#a327c4c2672f8e662338e72e6a8d1210c">unseal_pocket_containing</a>( loc );</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <a class="code" href="classitem.html">item</a> &amp;orig_it = *loc.<a class="code" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a>();</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="comment">// Subtract moved charges instead of assigning leftover charges,</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="comment">// since the total charges of the original item may have changed</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="comment">// due to merging.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">if</span>( orig_it.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; newit.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> ) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            orig_it.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= newit.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            loc.<a class="code" href="classitem__location.html#a41e90133672d99aa1cecde670e37c23c">remove_item</a>();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        player_character.<a class="code" href="classCharacter.html#a3801457283281bb7dcc0572d3f707e10">flag_encumbrance</a>();</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        player_character.<a class="code" href="classCharacter.html#afcc7ba8e4203089cb86e515bc2b21a76">invalidate_weight_carried_cache</a>();</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">return</span> picked_up || !did_prompt;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a3801457283281bb7dcc0572d3f707e10"><div class="ttname"><a href="classCharacter.html#a3801457283281bb7dcc0572d3f707e10">Character::flag_encumbrance</a></div><div class="ttdeci">void flag_encumbrance()</div><div class="ttdoc">Flag encumbrance for updating.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02644">character.cpp:2644</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6fee5f76f33b6b476efedb8e23c36eb2"><div class="ttname"><a href="classCharacter.html#a6fee5f76f33b6b476efedb8e23c36eb2">Character::crush_frozen_liquid</a></div><div class="ttdeci">bool crush_frozen_liquid(item_location loc)</div><div class="ttdoc">Prompts user about crushing item at item_location loc, for harvesting of frozen liquids.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l10140">character.cpp:10140</a></div></div>
<div class="ttc" id="aclassCharacter_html_a72814cbd916b863b7b20b43345ef2329"><div class="ttname"><a href="classCharacter.html#a72814cbd916b863b7b20b43345ef2329">Character::invlet_to_item</a></div><div class="ttdeci">item * invlet_to_item(int invlet) const</div><div class="ttdoc">Return the item pointer of the item with given invlet, return nullptr if the player does not have suc...</div><div class="ttdef"><b>Definition:</b> <a href="character__inventory_8cpp_source.html#l00540">character_inventory.cpp:540</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa53d35923b539a53325f071cc1e94ae4"><div class="ttname"><a href="classCharacter.html#aa53d35923b539a53325f071cc1e94ae4">Character::can_pickWeight_partial</a></div><div class="ttdeci">bool can_pickWeight_partial(const item &amp;it, bool safe=true) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03261">character.cpp:3261</a></div></div>
<div class="ttc" id="aclassCharacter_html_abfefc2e9898fff84f1d6bf007a73a976"><div class="ttname"><a href="classCharacter.html#abfefc2e9898fff84f1d6bf007a73a976">Character::wield</a></div><div class="ttdeci">virtual bool wield(item &amp;target)=0</div><div class="ttdoc">Removes currently wielded item (if any) and replaces it with the target item.</div></div>
<div class="ttc" id="aclassCharacter_html_ac1b7a385cf58425333922f844b85ec0b"><div class="ttname"><a href="classCharacter.html#ac1b7a385cf58425333922f844b85ec0b">Character::i_add_or_fill</a></div><div class="ttdeci">ret_val&lt; item_location &gt; i_add_or_fill(item &amp;it, bool should_stack=true, const item *avoid=nullptr, const item *original_inventory_item=nullptr, bool allow_drop=true, bool allow_wield=true, bool ignore_pkt_settings=false)</div><div class="ttdef"><b>Definition:</b> <a href="character__inventory_8cpp_source.html#l00377">character_inventory.cpp:377</a></div></div>
<div class="ttc" id="aclassCharacter_html_af5284cbdea522644fc9a677dd7e3f847"><div class="ttname"><a href="classCharacter.html#af5284cbdea522644fc9a677dd7e3f847">Character::item_handling_cost</a></div><div class="ttdeci">int item_handling_cost(const item &amp;it, bool penalties=true, int base_cost=INVENTORY_HANDLING_PENALTY, int charges_in_it=-1, bool bulk_cost=false) const</div><div class="ttdoc">Calculate (but do not deduct) the number of moves required when handling (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07285">character.cpp:7285</a></div></div>
<div class="ttc" id="aclassCharacter_html_af84eccbb8811da4ef5ea1a991ac28094"><div class="ttname"><a href="classCharacter.html#af84eccbb8811da4ef5ea1a991ac28094">Character::can_stash_partial</a></div><div class="ttdeci">bool can_stash_partial(const item &amp;it, bool ignore_pkt_settings=false)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01514">character.cpp:1514</a></div></div>
<div class="ttc" id="aclassCharacter_html_afcc7ba8e4203089cb86e515bc2b21a76"><div class="ttname"><a href="classCharacter.html#afcc7ba8e4203089cb86e515bc2b21a76">Character::invalidate_weight_carried_cache</a></div><div class="ttdeci">void invalidate_weight_carried_cache()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03097">character.cpp:3097</a></div></div>
<div class="ttc" id="aclassCreature_html_a2acb6e1e19bcb775748403d07d8dc3f0"><div class="ttname"><a href="classCreature.html#a2acb6e1e19bcb775748403d07d8dc3f0">Creature::get_value</a></div><div class="ttdeci">std::string get_value(const std::string &amp;key) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01959">creature.cpp:1959</a></div></div>
<div class="ttc" id="aclassCreature_html_a891bc2d0c564449cb462178317819254"><div class="ttname"><a href="classCreature.html#a891bc2d0c564449cb462178317819254">Creature::mod_moves</a></div><div class="ttdeci">void mod_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02008">creature.cpp:2008</a></div></div>
<div class="ttc" id="aclasscontents__change__handler_html"><div class="ttname"><a href="classcontents__change__handler.html">contents_change_handler</a></div><div class="ttdoc">Records a batch of unsealed containers and handles spilling at once.</div><div class="ttdef"><b>Definition:</b> <a href="contents__change__handler_8h_source.html#l00019">contents_change_handler.h:20</a></div></div>
<div class="ttc" id="aclasscontents__change__handler_html_a327c4c2672f8e662338e72e6a8d1210c"><div class="ttname"><a href="classcontents__change__handler.html#a327c4c2672f8e662338e72e6a8d1210c">contents_change_handler::unseal_pocket_containing</a></div><div class="ttdeci">void unseal_pocket_containing(const item_location &amp;loc)</div><div class="ttdoc">Unseal the pocket containing loc and add loc's parent to the list.</div><div class="ttdef"><b>Definition:</b> <a href="contents__change__handler_8cpp_source.html#l00020">contents_change_handler.cpp:20</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00028">item_location.h:29</a></div></div>
<div class="ttc" id="aclassitem__location_html_a350bb267073f30205f780b394324a32c"><div class="ttname"><a href="classitem__location.html#a350bb267073f30205f780b394324a32c">item_location::get_item</a></div><div class="ttdeci">item * get_item()</div><div class="ttdoc">Gets the selected item or nullptr.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01087">item_location.cpp:1087</a></div></div>
<div class="ttc" id="aclassitem__location_html_a41e90133672d99aa1cecde670e37c23c"><div class="ttname"><a href="classitem__location.html#a41e90133672d99aa1cecde670e37c23c">item_location::remove_item</a></div><div class="ttdeci">void remove_item()</div><div class="ttdoc">Removes the selected item from the game.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01041">item_location.cpp:1041</a></div></div>
<div class="ttc" id="aclassitem__location_html_ac32191753a11cc2f4aa2ad6d50e6405b"><div class="ttname"><a href="classitem__location.html#ac32191753a11cc2f4aa2ad6d50e6405b">item_location::nowhere</a></div><div class="ttdeci">static const item_location nowhere</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00041">item_location.h:41</a></div></div>
<div class="ttc" id="aclassitem__location_html_ac61eb40367834d791602ff3a2ca5c5a9"><div class="ttname"><a href="classitem__location.html#ac61eb40367834d791602ff3a2ca5c5a9">item_location::obtain_cost</a></div><div class="ttdeci">int obtain_cost(const Character &amp;ch, int qty=-1) const</div><div class="ttdoc">Calculate (but do not deduct) number of moves required to obtain an item.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01036">item_location.cpp:1036</a></div></div>
<div class="ttc" id="aclassitem_html_a016494fa25a7a403fe78fadbd90b267b"><div class="ttname"><a href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">item::count</a></div><div class="ttdeci">int count() const</div><div class="ttdoc">If count_by_charges(), returns charges, otherwise 1.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08623">item.cpp:8623</a></div></div>
<div class="ttc" id="aclassitem_html_a0b35b9066ad71987b77727af45d96059"><div class="ttname"><a href="classitem.html#a0b35b9066ad71987b77727af45d96059">item::is_owned_by</a></div><div class="ttdeci">bool is_owned_by(const Character &amp;c, bool available_to_take=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l02116">item.cpp:2116</a></div></div>
<div class="ttc" id="aclassitem_html_a2ea9b8df7dba40fc847f51563285f5aa"><div class="ttname"><a href="classitem.html#a2ea9b8df7dba40fc847f51563285f5aa">item::spill_contents</a></div><div class="ttdeci">bool spill_contents(Character &amp;c)</div><div class="ttdoc">Unloads the item's contents.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l10206">item.cpp:10206</a></div></div>
<div class="ttc" id="aclassitem_html_a3e532e4e5b7cef943634b1d910f99384"><div class="ttname"><a href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">item::has_flag</a></div><div class="ttdeci">bool has_flag(const flag_id &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07578">item.cpp:7578</a></div></div>
<div class="ttc" id="aclassitem_html_a40963a016376016eb408bdb9dbb94388"><div class="ttname"><a href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a></div><div class="ttdeci">bool count_by_charges() const</div><div class="ttdoc">Return true if this item's type is counted by charges (true for stackable, ammo, or comestible)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08618">item.cpp:8618</a></div></div>
<div class="ttc" id="aclassitem_html_a52f5044582c9c5dd6ccf882fad039d64"><div class="ttname"><a href="classitem.html#a52f5044582c9c5dd6ccf882fad039d64">item::is_frozen_liquid</a></div><div class="ttdeci">bool is_frozen_liquid() const</div><div class="ttdoc">Returns true if the item is A: is SOLID and if it B: is of type LIQUID.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00937">item.cpp:937</a></div></div>
<div class="ttc" id="aclassitem_html_a5996f63ca1797fc01482678b51a87680"><div class="ttname"><a href="classitem.html#a5996f63ca1797fc01482678b51a87680">item::is_container_empty</a></div><div class="ttdeci">bool is_container_empty() const</div><div class="ttdoc">Whether this item has no contents at all.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09853">item.cpp:9853</a></div></div>
<div class="ttc" id="aclassitem_html_a5b29c86dff457effe5dc4b9e7a24da12"><div class="ttname"><a href="classitem.html#a5b29c86dff457effe5dc4b9e7a24da12">item::set_flag</a></div><div class="ttdeci">item &amp; set_flag(const flag_id &amp;flag)</div><div class="ttdoc">Idempotent filter setting an item specific flag.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07602">item.cpp:7602</a></div></div>
<div class="ttc" id="aclassitem_html_a686df014e8aa8bc4637883802d05f935"><div class="ttname"><a href="classitem.html#a686df014e8aa8bc4637883802d05f935">item::volume</a></div><div class="ttdeci">units::volume volume(bool integral=false, bool ignore_contents=false, int charges_in_vol=-1) const</div><div class="ttdoc">Total volume of an item accounting for all contained/integrated items NOTE: Result is rounded up to n...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07360">item.cpp:7360</a></div></div>
<div class="ttc" id="aclassitem_html_a6bfb92ab5d41e0eb3a1da160fac71b0e"><div class="ttname"><a href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">item::charges</a></div><div class="ttdeci">int charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03133">item.h:3133</a></div></div>
<div class="ttc" id="aclassitem_html_adf662fb946f6a1188fe5e340ff80a95a"><div class="ttname"><a href="classitem.html#adf662fb946f6a1188fe5e340ff80a95a">item::on_pickup</a></div><div class="ttdeci">void on_pickup(Character &amp;p)</div><div class="ttdoc">Callback when a player starts carrying the item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06651">item.cpp:6651</a></div></div>
<div class="ttc" id="aclassitem_html_af38d78ce6d128f6c7a1999b7f9e00965"><div class="ttname"><a href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">item::invlet</a></div><div class="ttdeci">char invlet</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03211">item.h:3211</a></div></div>
<div class="ttc" id="aclassitem_html_af486ddb23bd7e254cc07ef3ba1ba846d"><div class="ttname"><a href="classitem.html#af486ddb23bd7e254cc07ef3ba1ba846d">item::made_of_from_type</a></div><div class="ttdeci">bool made_of_from_type(phase_id phase) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09268">item.cpp:9268</a></div></div>
<div class="ttc" id="aclassret__val_html"><div class="ttname"><a href="classret__val.html">ret_val</a></div><div class="ttdoc">The class represents a composite return value of an arbitrary function (result).</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00048">ret_val.h:49</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a505273a0a2bba0111a40f6cccbc55d69"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a505273a0a2bba0111a40f6cccbc55d69">phase_id::GAS</a></div><div class="ttdeci">@ GAS</div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a></div><div class="ttdeci">@ LIQUID</div></div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
<div class="ttc" id="anamespacePATH__INFO_html_abc25f6933aae16ccd5a998b800448850"><div class="ttname"><a href="namespacePATH__INFO.html#abc25f6933aae16ccd5a998b800448850">PATH_INFO::autopickup</a></div><div class="ttdeci">cata_path autopickup()</div><div class="ttdef"><b>Definition:</b> <a href="path__info_8cpp_source.html#l00214">path_info.cpp:214</a></div></div>
<div class="ttc" id="anamespacePickup_html_ab150873f2ba005312d65e11cea9d3706"><div class="ttname"><a href="namespacePickup.html#ab150873f2ba005312d65e11cea9d3706">Pickup::query_thief</a></div><div class="ttdeci">bool query_thief()</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8cpp_source.html#l00103">pickup.cpp:103</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
<div class="ttc" id="apickup_8cpp_html_a4a25436dd926395069ea5277fe5fbc9a"><div class="ttname"><a href="pickup_8cpp.html#a4a25436dd926395069ea5277fe5fbc9a">handle_problematic_pickup</a></div><div class="ttdeci">static pickup_answer handle_problematic_pickup(const item &amp;it, const std::string &amp;explain)</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8cpp_source.html#l00075">pickup.cpp:75</a></div></div>
<div class="ttc" id="apickup_8cpp_html_a963440dafddb061fe59cd747f1e4cf88"><div class="ttname"><a href="pickup_8cpp.html#a963440dafddb061fe59cd747f1e4cf88">is_bulk_load</a></div><div class="ttdeci">static bool is_bulk_load(const Pickup::pick_info &amp;lhs, const Pickup::pick_info &amp;rhs)</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8cpp_source.html#l00146">pickup.cpp:146</a></div></div>
<div class="ttc" id="apickup_8cpp_html_ae06646808abdd3f4718d426b15e54392"><div class="ttname"><a href="pickup_8cpp.html#ae06646808abdd3f4718d426b15e54392">json_flag_SHREDDED</a></div><div class="ttdeci">static const flag_id json_flag_SHREDDED(&quot;SHREDDED&quot;)</div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
<div class="ttc" id="astructPickup_1_1pick__info_html"><div class="ttname"><a href="structPickup_1_1pick__info.html">Pickup::pick_info</a></div><div class="ttdoc">Pick up information reminder for bulk loading.</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8h_source.html#l00017">pickup.h:17</a></div></div>
<div class="ttc" id="astructPickup_1_1pick__info_html_aa2c92bc499822cdf0d8c6a5b1f218569"><div class="ttname"><a href="structPickup_1_1pick__info.html#aa2c92bc499822cdf0d8c6a5b1f218569">Pickup::pick_info::total_bulk_volume</a></div><div class="ttdeci">units::volume total_bulk_volume</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8h_source.html#l00024">pickup.h:24</a></div></div>
<div class="ttc" id="astructPickup_1_1pick__info_html_ad58cf76c7787fc05a3dac02b73656752"><div class="ttname"><a href="structPickup_1_1pick__info.html#ad58cf76c7787fc05a3dac02b73656752">Pickup::pick_info::set_dst</a></div><div class="ttdeci">void set_dst(const item_location &amp;dst_)</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8cpp_source.html#l00493">pickup.cpp:493</a></div></div>
<div class="ttc" id="astructPickup_1_1pick__info_html_ad950d71d3bc3ef6c2220938c6d488907"><div class="ttname"><a href="structPickup_1_1pick__info.html#ad950d71d3bc3ef6c2220938c6d488907">Pickup::pick_info::set_src</a></div><div class="ttdeci">void set_src(const item_location &amp;src_)</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8cpp_source.html#l00485">pickup.cpp:485</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="path__info_8cpp_source.html#l00214">PATH_INFO::autopickup()</a>, <a class="el" href="character_8cpp_source.html#l03261">Character::can_pickWeight_partial()</a>, <a class="el" href="character_8cpp_source.html#l01514">Character::can_stash_partial()</a>, <a class="el" href="pickup_8cpp_source.html#l00068">CANCEL</a>, <a class="el" href="item_8h_source.html#l03133">item::charges</a>, <a class="el" href="item_8cpp_source.html#l08623">item::count()</a>, <a class="el" href="item_8cpp_source.html#l08618">item::count_by_charges()</a>, <a class="el" href="character_8cpp_source.html#l10140">Character::crush_frozen_liquid()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="item_8cpp_source.html#l06855">item::display_name()</a>, <a class="el" href="character_8cpp_source.html#l02644">Character::flag_encumbrance()</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a505273a0a2bba0111a40f6cccbc55d69">GAS</a>, <a class="el" href="item__location_8cpp_source.html#l01087">item_location::get_item()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="creature_8cpp_source.html#l01959">Creature::get_value()</a>, <a class="el" href="pickup_8cpp_source.html#l00075">handle_problematic_pickup()</a>, <a class="el" href="item_8cpp_source.html#l07578">item::has_flag()</a>, <a class="el" href="character__inventory_8cpp_source.html#l00377">Character::i_add_or_fill()</a>, <a class="el" href="character_8cpp_source.html#l03097">Character::invalidate_weight_carried_cache()</a>, <a class="el" href="item_8h_source.html#l03211">item::invlet</a>, <a class="el" href="character__inventory_8cpp_source.html#l00540">Character::invlet_to_item()</a>, <a class="el" href="item_8cpp_source.html#l09746">item::is_bucket_nonempty()</a>, <a class="el" href="pickup_8cpp_source.html#l00146">is_bulk_load()</a>, <a class="el" href="item_8cpp_source.html#l09853">item::is_container_empty()</a>, <a class="el" href="item_8cpp_source.html#l00937">item::is_frozen_liquid()</a>, <a class="el" href="item_8cpp_source.html#l02116">item::is_owned_by()</a>, <a class="el" href="character_8cpp_source.html#l07285">Character::item_handling_cost()</a>, <a class="el" href="pickup_8cpp.html#ae06646808abdd3f4718d426b15e54392">json_flag_SHREDDED</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l09268">item::made_of_from_type()</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="creature_8cpp_source.html#l02008">Creature::mod_moves()</a>, <a class="el" href="item__location_8h_source.html#l00041">item_location::nowhere</a>, <a class="el" href="pickup_8cpp_source.html#l00072">NUM_ANSWERS</a>, <a class="el" href="item__location_8cpp_source.html#l01036">item_location::obtain_cost()</a>, <a class="el" href="item_8cpp_source.html#l06651">item::on_pickup()</a>, <a class="el" href="pickup_8cpp_source.html#l00103">Pickup::query_thief()</a>, <a class="el" href="item__location_8cpp_source.html#l01041">item_location::remove_item()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="pickup_8cpp_source.html#l00493">Pickup::pick_info::set_dst()</a>, <a class="el" href="item_8cpp_source.html#l07602">item::set_flag()</a>, <a class="el" href="pickup_8cpp_source.html#l00485">Pickup::pick_info::set_src()</a>, <a class="el" href="pickup_8cpp_source.html#l00070">SPILL</a>, <a class="el" href="item_8cpp_source.html#l10206">item::spill_contents()</a>, <a class="el" href="pickup_8cpp_source.html#l00071">STASH</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="item_8cpp_source.html#l06814">item::tname()</a>, <a class="el" href="pickup_8h_source.html#l00024">Pickup::pick_info::total_bulk_volume</a>, <a class="el" href="contents__change__handler_8cpp_source.html#l00020">contents_change_handler::unseal_pocket_containing()</a>, <a class="el" href="item_8cpp_source.html#l07360">item::volume()</a>, <a class="el" href="classCharacter.html#abfefc2e9898fff84f1d6bf007a73a976">Character::wield()</a>, and <a class="el" href="pickup_8cpp_source.html#l00069">WIELD</a>.</p>

<p class="reference">Referenced by <a class="el" href="pickup_8cpp_source.html#l00336">Pickup::do_pickup()</a>.</p>

</div>
</div>
<a id="aeb211bd7c9f9377d5ac40b7d0f815bf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb211bd7c9f9377d5ac40b7d0f815bf0">&#9670;&nbsp;</a></span>show_pickup_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void show_pickup_message </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="pickup_8cpp.html#af85655a378e7051cf747a723a9f2291b">PickupMap</a> &amp;&#160;</td>
          <td class="paramname"><em>mapPickup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pickup_8cpp_source.html#l00046">46</a> of file <a class="el" href="pickup_8cpp_source.html">pickup.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;entry : mapPickup ) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordflow">if</span>( entry.second.first.invlet != 0 ) {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You pick up: %d %s [%c]&quot;</span> ), entry.second.second,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                     entry.second.first.display_name( entry.second.second ), entry.second.first.invlet );</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( entry.second.first.count_by_charges() ) {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You pick up: %s&quot;</span> ), entry.second.first.display_name( entry.second.second ) );</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You pick up: %d %s&quot;</span> ), entry.second.second,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                     entry.second.first.display_name( entry.second.second ) );</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        }</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00997">messages.cpp:997</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, and <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="pickup_8cpp_source.html#l00336">Pickup::do_pickup()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae06646808abdd3f4718d426b15e54392"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae06646808abdd3f4718d426b15e54392">&#9670;&nbsp;</a></span>json_flag_SHREDDED</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a65869bf196f1d97bcfd690e07ffbbd7d">flag_id</a> json_flag_SHREDDED(&quot;SHREDDED&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;SHREDDED&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="pickup_8cpp_source.html#l00172">pick_one_up()</a>.</p>

</div>
</div>
<a id="a0477eaea50c64fa3e2089bda562ed2bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0477eaea50c64fa3e2089bda562ed2bf">&#9670;&nbsp;</a></span>zone_type_NO_AUTO_PICKUP</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4ec2337d992ab8b0115c2bd7ff30902a">zone_type_id</a> zone_type_NO_AUTO_PICKUP(&quot;NO_AUTO_PICKUP&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;NO_AUTO_PICKUP&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="pickup_8cpp_source.html#l00393">Pickup::autopickup()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:34 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
