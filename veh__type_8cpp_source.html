<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: src/veh_type.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">veh_type.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="veh__type_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="veh__type_8h.html">veh_type.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;cstddef&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;numeric&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;type_traits&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;unordered_map&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;unordered_set&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ammo_8h.html">ammo.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="assign_8h.html">assign.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cata__assert_8h.html">cata_assert.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="character_8h.html">character.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="color_8h.html">color.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="debug_8h.html">debug.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="flag_8h.html">flag.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="game__constants_8h.html">game_constants.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="generic__factory_8h.html">generic_factory.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="init_8h.html">init.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="item_8h.html">item.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="item__factory_8h.html">item_factory.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="item__group_8h.html">item_group.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="itype_8h.html">itype.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="json_8h.html">json.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="output_8h.html">output.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pocket__type_8h.html">pocket_type.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="requirements_8h.html">requirements.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ret__val_8h.html">ret_val.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string__formatter_8h.html">string_formatter.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="translations_8h.html">translations.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="units_8h.html">units.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="units__utility_8h.html">units_utility.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="value__ptr_8h.html">value_ptr.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vehicle_8h.html">vehicle.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vehicle__group_8h.html">vehicle_group.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wcwidth_8h.html">wcwidth.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">class </span><a class="code" href="classnpc.html">npc</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html">   43</a></span>&#160;<span class="keyword">namespace</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#a80347cfcca97b5692066f2cd32787250">   45</a></span>&#160;<a class="code" href="classgeneric__factory.html">generic_factory&lt;vehicle_prototype&gt;</a> <a class="code" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#a80347cfcca97b5692066f2cd32787250">vehicle_prototype_factory</a>( <span class="stringliteral">&quot;vehicle&quot;</span>, <span class="stringliteral">&quot;id&quot;</span> );</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#abab9753b5f4726286941bc0873ccff2a">   46</a></span>&#160;<a class="code" href="classgeneric__factory.html">generic_factory&lt;vpart_info&gt;</a> <a class="code" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#abab9753b5f4726286941bc0873ccff2a">vpart_info_factory</a>( <span class="stringliteral">&quot;vehicle_part&quot;</span>, <span class="stringliteral">&quot;id&quot;</span> );</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;} <span class="comment">// namespace</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#a13798283d6d3fdd8f38838da9d52fd19">   49</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">ammotype</a> <a class="code" href="veh__type_8cpp.html#a13798283d6d3fdd8f38838da9d52fd19">ammo_battery</a>( <span class="stringliteral">&quot;battery&quot;</span> );</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#a944ba9be1d911a61e9ca62af989355fd">   51</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> <a class="code" href="veh__type_8cpp.html#a944ba9be1d911a61e9ca62af989355fd">fuel_type_animal</a>( <span class="stringliteral">&quot;animal&quot;</span> );</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#a2d45b07dd9fac819b92d66f1bf628012">   53</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> <a class="code" href="veh__type_8cpp.html#a2d45b07dd9fac819b92d66f1bf628012">itype_null</a>( <span class="stringliteral">&quot;null&quot;</span> );</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#a3648d0ee246d4a66df0dcd8f2be595e8">   55</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">quality_id</a> <a class="code" href="veh__type_8cpp.html#a3648d0ee246d4a66df0dcd8f2be595e8">qual_JACK</a>( <span class="stringliteral">&quot;JACK&quot;</span> );</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#a5ffeadef52daa921bcfd6024526f8feb">   56</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">quality_id</a> <a class="code" href="veh__type_8cpp.html#a5ffeadef52daa921bcfd6024526f8feb">qual_LIFT</a>( <span class="stringliteral">&quot;LIFT&quot;</span> );</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#a96830eea7a73baa6386c2c56a9964ff6">   58</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">quality_id</a> <a class="code" href="veh__type_8cpp.html#a96830eea7a73baa6386c2c56a9964ff6">qual_PISTOL</a>( <span class="stringliteral">&quot;PISTOL&quot;</span> );</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#a3aa630652d42842b884fc6a53abb4f06">   59</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">quality_id</a> <a class="code" href="veh__type_8cpp.html#a3aa630652d42842b884fc6a53abb4f06">qual_SMG</a>( <span class="stringliteral">&quot;SMG&quot;</span> );</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#a0c6f7a1d7eeb2c38d69b568d85eb9f0d">   61</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">skill_id</a> <a class="code" href="veh__type_8cpp.html#a0c6f7a1d7eeb2c38d69b568d85eb9f0d">skill_launcher</a>( <span class="stringliteral">&quot;launcher&quot;</span> );</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#ac1db894a7b3c060b7377b1a90bb28063">   63</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">vpart_id</a> <a class="code" href="veh__type_8cpp.html#ac1db894a7b3c060b7377b1a90bb28063">vpart_turret_generic</a>( <span class="stringliteral">&quot;turret_generic&quot;</span> );</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">// GENERAL GUIDELINES</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">// To determine mount position for parts (dx, dy), check this scheme:</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">//         orthogonal dir left: (Y-)</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">//                ^</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">//  back: X-   -------&gt; forward dir: X+</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">//                v</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">//         orthogonal dir right (Y+)</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">// i.e, if you want to add a part to the back from the center of vehicle,</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">// use dx = -1, dy = 0;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">// for the part 1 tile forward and two tiles left from the center of vehicle,</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">// use dx = 1, dy = -2.</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">// Internal parts should be added after external on the same mount point, i.e:</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">//  part {&quot;x&quot;: 0, &quot;y&quot;: 1, &quot;part&quot;: &quot;seat&quot;},      // put a seat (it&#39;s external)</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">//  part {&quot;x&quot;: 0, &quot;y&quot;: 1, &quot;part&quot;: &quot;controls&quot;},  // put controls for driver here</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">//  part {&quot;x&quot;: 0, &quot;y&quot;: 1, &quot;seatbelt&quot;}           // also, put a seatbelt here</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">// To determine, what parts can be external, and what can not, check</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">// vehicle_parts.json</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">// If you use wrong config, installation of part will fail</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#acefb974cb11c6a8dc51c8b894d151f08">   86</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> std::unordered_map&lt;std::string, vpart_bitflags&gt; <a class="code" href="veh__type_8cpp.html#acefb974cb11c6a8dc51c8b894d151f08">vpart_bitflag_map</a> = {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    { <span class="stringliteral">&quot;ARMOR&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea4c67c3568d86e365c41549637ebff02b">VPFLAG_ARMOR</a> },</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    { <span class="stringliteral">&quot;APPLIANCE&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8f0159e32409b47888df99c01106fdb5">VPFLAG_APPLIANCE</a> },</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    { <span class="stringliteral">&quot;EVENTURN&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eab1d67af167effd5d1afdeadb63a82ec7">VPFLAG_EVENTURN</a> },</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    { <span class="stringliteral">&quot;ODDTURN&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eae969d6c7993df32ff8bb263f6f680813">VPFLAG_ODDTURN</a> },</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    { <span class="stringliteral">&quot;CONE_LIGHT&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea0e5ba370df41b42336b154cd7fde38ec">VPFLAG_CONE_LIGHT</a> },</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    { <span class="stringliteral">&quot;WIDE_CONE_LIGHT&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eac068ca47063a40941d3b0561a2f3be51">VPFLAG_WIDE_CONE_LIGHT</a> },</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    { <span class="stringliteral">&quot;HALF_CIRCLE_LIGHT&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eaf0ce59d9e0d42526c7e45dd7ca9aa571">VPFLAG_HALF_CIRCLE_LIGHT</a> },</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    { <span class="stringliteral">&quot;CIRCLE_LIGHT&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea3140fae054e4ead8de3f3c96b13df546">VPFLAG_CIRCLE_LIGHT</a> },</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    { <span class="stringliteral">&quot;BOARDABLE&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eaebc2a9d9402e04973e4ee469daddeda5">VPFLAG_BOARDABLE</a> },</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    { <span class="stringliteral">&quot;AISLE&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea827ce264aff5ea40d24e0be152420ef4">VPFLAG_AISLE</a> },</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    { <span class="stringliteral">&quot;CONTROLS&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea1d493984c83c95a15238b6e21f4547d0">VPFLAG_CONTROLS</a> },</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    { <span class="stringliteral">&quot;OBSTACLE&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea68f5db7dd9e594e9b0b49dce12b2fcba">VPFLAG_OBSTACLE</a> },</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    { <span class="stringliteral">&quot;OPAQUE&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea2f8c1c03ebea1d9daec3dd65612515e6">VPFLAG_OPAQUE</a> },</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    { <span class="stringliteral">&quot;OPENABLE&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea812fb775f113f8e70717ffcf2dacf15f">VPFLAG_OPENABLE</a> },</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    { <span class="stringliteral">&quot;SEATBELT&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8a546069f510a6de416bf119fe037679">VPFLAG_SEATBELT</a> },</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    { <span class="stringliteral">&quot;SIMPLE_PART&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea595d19f0bd453c3e7a922ff2c6e55596">VPFLAG_SIMPLE_PART</a> },</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    { <span class="stringliteral">&quot;WALL_MOUNTED&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eab20935343ca64050ac57b7af92fc2902">VPFLAG_WALL_MOUNTED</a> },</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    { <span class="stringliteral">&quot;WHEEL&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eae36e04cd704cf1a4a2ae645809e24e1b">VPFLAG_WHEEL</a> },</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    { <span class="stringliteral">&quot;ROTOR&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea7dcfdb7c960ab40a4d6a8ac1f1997116">VPFLAG_ROTOR</a> },</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    { <span class="stringliteral">&quot;FLOATS&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8128cda285c505c5d039ee2c5cc9e863">VPFLAG_FLOATS</a> },</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    { <span class="stringliteral">&quot;NO_LEAK&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea6520f9e25b22344bfc18efdb726fe40c">VPFLAG_NO_LEAK</a> },</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    { <span class="stringliteral">&quot;DOME_LIGHT&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eaf3126248fc27b984c14efbdd7c6c5c1e">VPFLAG_DOME_LIGHT</a> },</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    { <span class="stringliteral">&quot;AISLE_LIGHT&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea720126c390476258c46f0a80304004c6">VPFLAG_AISLE_LIGHT</a> },</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    { <span class="stringliteral">&quot;ATOMIC_LIGHT&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea85a6cb3a255060849cba7b60f861c850">VPFLAG_ATOMIC_LIGHT</a> },</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    { <span class="stringliteral">&quot;ALTERNATOR&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea2379250900e305e10dc242e65ae3a003">VPFLAG_ALTERNATOR</a> },</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    { <span class="stringliteral">&quot;ENGINE&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea29303a852c248ddb989e3ea9b8e95354">VPFLAG_ENGINE</a> },</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    { <span class="stringliteral">&quot;FRIDGE&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ead210283ee2009648782a2e5f41a8adbe">VPFLAG_FRIDGE</a> },</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    { <span class="stringliteral">&quot;FREEZER&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea7aa53ed475618f8c6e28fd9b3d9e6584">VPFLAG_FREEZER</a> },</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    { <span class="stringliteral">&quot;ARCADE&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8542b07b69199f3800dc1697d1509f6f">VPFLAG_ARCADE</a> },</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    { <span class="stringliteral">&quot;LIGHT&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea28a397877229956df1c02f1c05afea75">VPFLAG_LIGHT</a> },</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    { <span class="stringliteral">&quot;WINDOW&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ead1fb8cdaa5d9f3fbd6295b9c6302e6fe">VPFLAG_WINDOW</a> },</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    { <span class="stringliteral">&quot;CURTAIN&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea0d07a337e0ed3f6ea9db65158b9d33d2">VPFLAG_CURTAIN</a> },</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    { <span class="stringliteral">&quot;CARGO&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea563fb2626cff0acc6c8273fef3e3a8d0">VPFLAG_CARGO</a> },</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    { <span class="stringliteral">&quot;CARGO_PASSABLE&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea05a40a9bce9bea49ec3b747ffde94cfa">VPFLAG_CARGO_PASSABLE</a> },</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    { <span class="stringliteral">&quot;INTERNAL&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eae4859812a086b04b128ae0f66a1689b7">VPFLAG_INTERNAL</a> },</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    { <span class="stringliteral">&quot;SOLAR_PANEL&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea6faa9ca17bc84c8f5640cb3fc04e09d2">VPFLAG_SOLAR_PANEL</a> },</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    { <span class="stringliteral">&quot;WIND_TURBINE&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8a3253b2d15c4e1803afab4f5be5984b">VPFLAG_WIND_TURBINE</a> },</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    { <span class="stringliteral">&quot;SPACE_HEATER&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eacc3ad83b0715d19607620b2c4eb8b3c6">VPFLAG_SPACE_HEATER</a>, },</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    { <span class="stringliteral">&quot;HEATED_TANK&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea471273fcec7786a9cde3baf6a61fbfd0">VPFLAG_HEATED_TANK</a>, },</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    { <span class="stringliteral">&quot;COOLER&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ead7b9198b8e954dd64a49dc33bac87520">VPFLAG_COOLER</a>, },</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    { <span class="stringliteral">&quot;WATER_WHEEL&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea91d5eef359b56ef060648cddef19f013">VPFLAG_WATER_WHEEL</a> },</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    { <span class="stringliteral">&quot;RECHARGE&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eae39eb21b87f43d7e17d12332ebdee12e">VPFLAG_RECHARGE</a> },</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    { <span class="stringliteral">&quot;VISION&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea289e580d7d3dcc6988e5349c73d2b98c">VPFLAG_EXTENDS_VISION</a> },</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    { <span class="stringliteral">&quot;ENABLED_DRAINS_EPOWER&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea592e82f2e1fa297f50f3dd6338c2e5a0">VPFLAG_ENABLED_DRAINS_EPOWER</a> },</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    { <span class="stringliteral">&quot;AUTOCLAVE&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea3f1b80f5cad6f33097da6bfed1807248">VPFLAG_AUTOCLAVE</a> },</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    { <span class="stringliteral">&quot;WASHING_MACHINE&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea7e42334de743c95fb3bcd52e1caaf2ee">VPFLAG_WASHING_MACHINE</a> },</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    { <span class="stringliteral">&quot;DISHWASHER&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea2257d6637a49fa877b04a334479a7135">VPFLAG_DISHWASHER</a> },</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    { <span class="stringliteral">&quot;FLUIDTANK&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea48ec568cb559d3865b26e7b304bb559e">VPFLAG_FLUIDTANK</a> },</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    { <span class="stringliteral">&quot;REACTOR&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea1f5dd6711452a7442f76b7eeee387c8a">VPFLAG_REACTOR</a> },</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    { <span class="stringliteral">&quot;RAIL&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eace7ffd17e8edd10723a941fc08e07936">VPFLAG_RAIL</a> },</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    { <span class="stringliteral">&quot;TURRET_CONTROLS&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ead1724a47fcf2214f046c849f742b1304">VPFLAG_TURRET_CONTROLS</a> },</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    { <span class="stringliteral">&quot;ROOF&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea6e2966334b988df6aff778950f24d200">VPFLAG_ROOF</a> },</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    { <span class="stringliteral">&quot;CABLE_PORTS&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea25845bed2168d8462142a573ecbb100d">VPFLAG_CABLE_PORTS</a> },</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    { <span class="stringliteral">&quot;BATTERY&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea517103a03982a8a4d633ee17aad88f72">VPFLAG_BATTERY</a> },</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    { <span class="stringliteral">&quot;POWER_TRANSFER&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea0c516f66a07d369c24681ba3308defb8">VPFLAG_POWER_TRANSFER</a> },</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    { <span class="stringliteral">&quot;HUGE_OK&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea6f8dc10a38a942ab92dded36a1cf6344">VPFLAG_HUGE_OK</a> },</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    { <span class="stringliteral">&quot;NEED_LEG&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea80cf3b2a79bc00ea94c0298ea0468f64">VPFLAG_NEED_LEG</a> },</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    { <span class="stringliteral">&quot;IGNORE_LEG_REQUIREMENT&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea4543d5fba40dd33d98d5246dcf137d0d">VPFLAG_IGNORE_LEG_REQUIREMENT</a> },</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    { <span class="stringliteral">&quot;INOPERABLE_SMALL&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea92ce1ff9921e8e4db27b52129410d4fd">VPFLAG_INOPERABLE_SMALL</a> },</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    { <span class="stringliteral">&quot;IGNORE_HEIGHT_REQUIREMENT&quot;</span>, <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8bfdd6f4cf29843b49a0bea103dd96ff">VPFLAG_IGNORE_HEIGHT_REQUIREMENT</a> },</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;};</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#a173a056b939c1473c8cdfed6f22481c3">  149</a></span>&#160;<span class="keyword">static</span> std::map&lt;vpart_id, vpart_migration&gt; <a class="code" href="veh__type_8cpp.html#a173a056b939c1473c8cdfed6f22481c3">vpart_migrations</a>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">/** @relates string_id */</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="classstring__id.html#a82c7d03709757c4ba0795935d64e8a3d">  153</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id&lt;vpart_info&gt;::is_valid</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#abab9753b5f4726286941bc0873ccff2a">vpart_info_factory</a>.is_valid( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">/** @relates string_id */</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> &amp;<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id&lt;vpart_info&gt;::obj</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#abab9753b5f4726286941bc0873ccff2a">vpart_info_factory</a>.obj( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#a11ae9464be9744236cdc3802acfe6550">  165</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="veh__type_8cpp.html#a11ae9464be9744236cdc3802acfe6550">parse_vp_reqs</a>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp;<a class="code" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>, <span class="keyword">const</span> <a class="code" href="classstring__id.html">vpart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keyword">const</span> std::string &amp;key,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                           std::vector&lt;std::pair&lt;requirement_id, int&gt;&gt; &amp;reqs,</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                           std::map&lt;skill_id, int&gt; &amp;skills, <a class="code" href="classtime__duration.html">time_duration</a> &amp;time )</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.has_object( key ) ) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="classJsonObject.html">JsonObject</a> src = <a class="code" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.get_object( key );</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="classJsonArray.html">JsonArray</a> sk = src.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;skills&quot;</span> );</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span>( !sk.<a class="code" href="classJsonArray.html#a98f560f4b4a616bd444a6ce5b066b460">empty</a>() ) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        skills.clear();</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classJsonArray.html">JsonArray</a> cur : sk ) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordflow">if</span>( cur.size() != 2 ) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vpart &#39;%s&#39; has requirement with invalid skill entry&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            skills.emplace( <a class="code" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>( cur.get_string( 0 ) ), cur.get_int( 1 ) );</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">if</span>( src.<a class="code" href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">has_string</a>( <span class="stringliteral">&quot;time&quot;</span> ) ) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( src, <span class="stringliteral">&quot;time&quot;</span>, time, <span class="comment">/* strict = */</span> <span class="keyword">false</span> );</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( src.<a class="code" href="classJsonObject.html#a271bf0c222d2a7c97329df4362ae6a54">has_int</a>( <span class="stringliteral">&quot;time&quot;</span> ) ) { <span class="comment">// remove in 0.H</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        time = <a class="code" href="classtime__duration.html#aacd074821aecb38a24d9ce6ca42a9127">time_duration::from_moves</a>( src.<a class="code" href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">get_int</a>( <span class="stringliteral">&quot;time&quot;</span> ) );</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vpart &#39;%s&#39; defines requirement time as integer, use time units string&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">if</span>( src.<a class="code" href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">has_string</a>( <span class="stringliteral">&quot;using&quot;</span> ) ) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        reqs = { { <a class="code" href="type__id_8h.html#afb36dc6d5925e5112e70d60a171ebeb1">requirement_id</a>( src.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <span class="stringliteral">&quot;using&quot;</span> ) ), 1 } };</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( src.<a class="code" href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">has_array</a>( <span class="stringliteral">&quot;using&quot;</span> ) ) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        reqs.clear();</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classJsonArray.html">JsonArray</a> cur : src.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;using&quot;</span> ) ) {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            reqs.emplace_back( <a class="code" href="type__id_8h.html#afb36dc6d5925e5112e70d60a171ebeb1">requirement_id</a>( cur.get_string( 0 ) ), cur.get_int( 1 ) );</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        reqs.clear();</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="comment">// Construct a requirement to capture &quot;components&quot;, &quot;qualities&quot;, and</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="comment">// &quot;tools&quot; that might be listed.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="comment">// NOLINTNEXTLINE(cata-translate-string-literal)</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keyword">const</span> <a class="code" href="classstring__id.html">requirement_id</a> req_id( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;inline_%s_%s&quot;</span>, key.c_str(), <span class="keywordtype">id</span>.c_str() ) );</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <a class="code" href="structrequirement__data.html#a6551a6d443325768ec6a8fe259c7eaba">requirement_data::load_requirement</a>( src, req_id );</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        reqs.emplace_back( req_id, 1 );</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;}</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#a4221f934cdb480b830be27976128b7be">  212</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="veh__type_8cpp.html#a4221f934cdb480b830be27976128b7be">parse_vp_control_reqs</a>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp;<a class="code" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>, <span class="keyword">const</span> <a class="code" href="classstring__id.html">vpart_id</a> &amp;<span class="keywordtype">id</span>,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                                   <span class="keyword">const</span> std::string_view &amp;key,</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                                   <a class="code" href="structvp__control__req.html">vp_control_req</a> &amp;req )</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;{</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.has_object( key ) ) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="classJsonObject.html">JsonObject</a> src = <a class="code" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.get_object( key );</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="classJsonArray.html">JsonArray</a> sk = src.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;skills&quot;</span> );</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">if</span>( !sk.<a class="code" href="classJsonArray.html#a98f560f4b4a616bd444a6ce5b066b460">empty</a>() ) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        req.<a class="code" href="structvp__control__req.html#aab326426a39a24cf7e1d3861f36c2c01">skills</a>.clear();</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classJsonArray.html">JsonArray</a> cur : sk ) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="keywordflow">if</span>( cur.size() != 2 ) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vpart &#39;%s&#39; has requirement with invalid skill entry&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            req.<a class="code" href="structvp__control__req.html#aab326426a39a24cf7e1d3861f36c2c01">skills</a>.emplace( <a class="code" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>( cur.get_string( 0 ) ), cur.get_int( 1 ) );</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( src, <span class="keyword">false</span>, <span class="stringliteral">&quot;proficiencies&quot;</span>, req.<a class="code" href="structvp__control__req.html#a90f197ecb1613ba8dca9b73df4226291">proficiencies</a> );</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="namespacevehicles_1_1parts.html#aa180164c08c8c03509e71add7ae04f47">  236</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacevehicles_1_1parts.html#aa180164c08c8c03509e71add7ae04f47">vehicles::parts::load</a>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;{</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#abab9753b5f4726286941bc0873ccff2a">vpart_info_factory</a>.load( jo, src );</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classvpart__info.html#acfa48e8eca041ee2488c6fd601ff5740">  241</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvpart__info.html#acfa48e8eca041ee2488c6fd601ff5740">vpart_info::handle_inheritance</a>( <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> &amp;copy_from,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                     <span class="keyword">const</span> std::unordered_map&lt;std::string, vpart_info&gt; &amp;abstracts )</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;{</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    *<span class="keyword">this</span> = copy_from; <span class="comment">// use assignment operator, like the normal copy-from handling is done</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="comment">// vehicle parts have special treatment; the following chunk tries to massage copy-from into</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">// looks_like: follows copy-from chain to find the first real part id and sets it as looks_like,</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">// or sets it to the last abstract, makes up to 5 jumps.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="classvpart__info.html#ad0737cc6952f2e7efeb5ff4126ba3429">looks_like</a> = copy_from.<a class="code" href="classvpart__info.html#aba80d384b977306eb749c9c9958a62a7">id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>();</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; 5; i++ ) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#abab9753b5f4726286941bc0873ccff2a">vpart_info_factory</a>.is_valid( <a class="code" href="classstring__id.html">vpart_id</a>( <a class="code" href="classvpart__info.html#ad0737cc6952f2e7efeb5ff4126ba3429">looks_like</a> ) ) ) {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <span class="keywordflow">break</span>; <span class="comment">// real part</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> abstract_it = abstracts.find( <a class="code" href="classvpart__info.html#ad0737cc6952f2e7efeb5ff4126ba3429">looks_like</a> );</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">if</span>( abstract_it == abstracts.end() ) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="keywordflow">break</span>; <span class="comment">// looks_like might invalid vpart id (but valid furniture/terrain etc tile)</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">if</span>( abstract_it-&gt;second.looks_like.empty() ) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="keywordflow">break</span>; <span class="comment">// abstract has no looks_like</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <a class="code" href="classvpart__info.html#ad0737cc6952f2e7efeb5ff4126ba3429">looks_like</a> = abstract_it-&gt;second.looks_like;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;}</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="classvpart__info.html#a9c60cba4bf36789bc6b5723a3029c07d">  265</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvpart__info.html#a9c60cba4bf36789bc6b5723a3029c07d">vpart_info::load</a>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;{</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> = <a class="code" href="classvpart__info.html#a4187d7636ca6a08e5a46ad2300be7bbb">src</a> == <span class="stringliteral">&quot;dda&quot;</span>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;name&quot;</span>, <a class="code" href="classvpart__info.html#a51a8b41076c1f0eeb51f1ac620aa9791">name_</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;item&quot;</span>, <a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;remove_as&quot;</span>, <a class="code" href="classvpart__info.html#ada57dbd3b58611422f5de4dea3292d19">removed_item</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;location&quot;</span>, <a class="code" href="classvpart__info.html#a03cfe554b18beb9c32d9a86872a1748e">location</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;durability&quot;</span>, <a class="code" href="classvpart__info.html#aeb9e00627b8cb80d28fb1419e7f0928a">durability</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;damage_modifier&quot;</span>, <a class="code" href="classvpart__info.html#a010d7002072c22b1029fdbfbf310cedc">dmg_mod</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;energy_consumption&quot;</span>, <a class="code" href="classvpart__info.html#a6b86d2889bc16cb31548f08b59cfec71">energy_consumption</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;power&quot;</span>, <a class="code" href="classvpart__info.html#a2def774679ed462df2105a07c9e5d419">power</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;epower&quot;</span>, <a class="code" href="classvpart__info.html#a9e1425acfdd3616655ebfcf3f1c0215f">epower</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;emissions&quot;</span>, <a class="code" href="classvpart__info.html#a0a1a6d9b604649440a41ba6b8b4188db">emissions</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;exhaust&quot;</span>, <a class="code" href="classvpart__info.html#ae5625d93813a2c1c9c1d3794e1ff2c6a">exhaust</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;fuel_type&quot;</span>, <a class="code" href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">fuel_type</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;default_ammo&quot;</span>, <a class="code" href="classvpart__info.html#a53bd66709b2938d65d9dc3ac6224d244">default_ammo</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;folded_volume&quot;</span>, <a class="code" href="classvpart__info.html#a2b7584e0ad10a1922caee915600e0381">folded_volume</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;size&quot;</span>, <a class="code" href="classvpart__info.html#aee4afe2c309516d6b91ff384fab6f2b2">size</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;bonus&quot;</span>, <a class="code" href="classvpart__info.html#a160cad4578895aa1f7006436dd57f5cd">bonus</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;cargo_weight_modifier&quot;</span>, <a class="code" href="classvpart__info.html#a29ca143d0c8a65b9c4848106cc02a837">cargo_weight_modifier</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;categories&quot;</span>, <a class="code" href="classvpart__info.html#a4bbbf5f33c61201331632476969aab18">categories</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;flags&quot;</span>, <a class="code" href="classvpart__info.html#a0f73b11eb661c4b3401782c895404251">flags</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;description&quot;</span>, <a class="code" href="classvpart__info.html#ad0278120f4f08344894231a8d49205ec">description</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;color&quot;</span>, <a class="code" href="classvpart__info.html#ac8dbc94ea6028b13c5a9f4e8da9b14ba">color</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;broken_color&quot;</span>, <a class="code" href="classvpart__info.html#aebfa77111bf40ee0778c0e0f5fd46c8e">color_broken</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;comfort&quot;</span>, <a class="code" href="classvpart__info.html#a3b1ee1f94fbeab121098a6e554a76c8d">comfort</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordtype">int</span> legacy_floor_bedding_warmth = <a class="code" href="namespaceunits.html#afa4cd3161d6d775b08fa9e964b18ad48">units::to_legacy_bodypart_temp_delta</a>( <a class="code" href="classvpart__info.html#a045ec8a08f0635075ab6ae72ace5b62e">floor_bedding_warmth</a> );</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;floor_bedding_warmth&quot;</span>, legacy_floor_bedding_warmth, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="classvpart__info.html#a045ec8a08f0635075ab6ae72ace5b62e">floor_bedding_warmth</a> = <a class="code" href="namespaceunits.html#abeb09f5fa1bc50f7a2653800d5423863">units::from_legacy_bodypart_temp_delta</a>( legacy_floor_bedding_warmth );</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordtype">int</span> legacy_bonus_fire_warmth_feet = <a class="code" href="namespaceunits.html#afa4cd3161d6d775b08fa9e964b18ad48">units::to_legacy_bodypart_temp_delta</a>( <a class="code" href="classvpart__info.html#a67a9d5dbed71d65699d08423f7451346">bonus_fire_warmth_feet</a> );</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;bonus_fire_warmth_feet&quot;</span>, legacy_bonus_fire_warmth_feet, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="classvpart__info.html#a67a9d5dbed71d65699d08423f7451346">bonus_fire_warmth_feet</a> = <a class="code" href="namespaceunits.html#abeb09f5fa1bc50f7a2653800d5423863">units::from_legacy_bodypart_temp_delta</a>( legacy_bonus_fire_warmth_feet );</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">has_array</a>( <span class="stringliteral">&quot;variants&quot;</span> ) ) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">variants</a>.clear();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> jo_variant : jo.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;variants&quot;</span> ) ) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <a class="code" href="classvpart__variant.html">vpart_variant</a> v;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            v.<a class="code" href="classvpart__variant.html#ad8d239ea7423caa52b57ebf5795f3207">load</a>( jo_variant, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a37bc6fc50c287ea4d63c14eab94d232f">variant_default</a>.empty() ) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                <a class="code" href="classvpart__info.html#a37bc6fc50c287ea4d63c14eab94d232f">variant_default</a> = v.<a class="code" href="classvpart__variant.html#af93535cc7d60651707ef94391cb385f1">id</a>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <a class="code" href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">variants</a>[v.<a class="code" href="classvpart__variant.html#af93535cc7d60651707ef94391cb385f1">id</a>] = v;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">has_array</a>( <span class="stringliteral">&quot;variants_bases&quot;</span> ) ) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <a class="code" href="classvpart__info.html#a87cda0d50c8d3fb88263bc67b2a3f87f">variants_bases</a>.clear();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> jo : jo.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;variants_bases&quot;</span> ) ) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <a class="code" href="classvpart__info.html#a87cda0d50c8d3fb88263bc67b2a3f87f">variants_bases</a>.emplace_back( jo.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <span class="stringliteral">&quot;id&quot;</span> ), jo.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <span class="stringliteral">&quot;label&quot;</span> ) );</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">has_member</a>( <span class="stringliteral">&quot;requirements&quot;</span> ) ) {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <a class="code" href="classJsonObject.html">JsonObject</a> reqs = jo.<a class="code" href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">get_object</a>( <span class="stringliteral">&quot;requirements&quot;</span> );</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <a class="code" href="veh__type_8cpp.html#a11ae9464be9744236cdc3802acfe6550">parse_vp_reqs</a>( reqs, <span class="keywordtype">id</span>, <span class="stringliteral">&quot;install&quot;</span>, <a class="code" href="classvpart__info.html#aed8e3196af84c749386daa97c42807eb">install_reqs</a>, <a class="code" href="classvpart__info.html#a9349b8416f91bb3029e9a8c9991d0a4a">install_skills</a>, <a class="code" href="classvpart__info.html#af025e93f25325ddebaeb802d7dcbd64a">install_moves</a> );</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <a class="code" href="veh__type_8cpp.html#a11ae9464be9744236cdc3802acfe6550">parse_vp_reqs</a>( reqs, <span class="keywordtype">id</span>, <span class="stringliteral">&quot;removal&quot;</span>, <a class="code" href="classvpart__info.html#a039157d3a00d16e4099c62982580bdde">removal_reqs</a>, <a class="code" href="classvpart__info.html#a269038d27c228c2175b1504c57b45ef9">removal_skills</a>, <a class="code" href="classvpart__info.html#af7551b510661af4b9a2b24511f946a57">removal_moves</a> );</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <a class="code" href="veh__type_8cpp.html#a11ae9464be9744236cdc3802acfe6550">parse_vp_reqs</a>( reqs, <span class="keywordtype">id</span>, <span class="stringliteral">&quot;repair&quot;</span>,  <a class="code" href="classvpart__info.html#abf8b9962f6a0b0b339f2ccbaf5aa1186">repair_reqs</a>,  <a class="code" href="classvpart__info.html#ab727d12368bb71387cd8a2f5ab80d7eb">repair_skills</a>, <a class="code" href="classvpart__info.html#a6ee4e71769c619a8840aab93fc8a08f7">repair_moves</a> );</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">has_member</a>( <span class="stringliteral">&quot;control_requirements&quot;</span> ) ) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <a class="code" href="classJsonObject.html">JsonObject</a> reqs = jo.<a class="code" href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">get_object</a>( <span class="stringliteral">&quot;control_requirements&quot;</span> );</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <a class="code" href="veh__type_8cpp.html#a4221f934cdb480b830be27976128b7be">parse_vp_control_reqs</a>( reqs, <span class="keywordtype">id</span>, <span class="stringliteral">&quot;air&quot;</span>, <a class="code" href="classvpart__info.html#acc51c37934c35e5ede0f97c314b7d537">control_air</a> );</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <a class="code" href="veh__type_8cpp.html#a4221f934cdb480b830be27976128b7be">parse_vp_control_reqs</a>( reqs, <span class="keywordtype">id</span>, <span class="stringliteral">&quot;land&quot;</span>, <a class="code" href="classvpart__info.html#a4be0b8858597bcda2fb5b3799083c017">control_land</a> );</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;looks_like&quot;</span>, <a class="code" href="classvpart__info.html#ad0737cc6952f2e7efeb5ff4126ba3429">looks_like</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">has_member</a>( <span class="stringliteral">&quot;breaks_into&quot;</span> ) ) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <a class="code" href="classvpart__info.html#a2231bffb67ba197eef2055f3f182c75c">breaks_into_group</a> = <a class="code" href="namespaceitem__group.html#a0e91eed0fb502bb95d834295fc178a2d">item_group::load_item_group</a>(</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                                jo.<a class="code" href="classJsonObject.html#ab71a096f97edf5ea339e44ac4dbe39db">get_member</a>( <span class="stringliteral">&quot;breaks_into&quot;</span> ), <span class="stringliteral">&quot;collection&quot;</span>, <span class="stringliteral">&quot;breaks_into for vpart &quot;</span> + <span class="keywordtype">id</span>.<a class="code" href="classJson.html#a44df75c9577d85daffb2a7a8ceca74da">str</a>() );</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="classJsonArray.html">JsonArray</a> qual = jo.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;qualities&quot;</span> );</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">if</span>( !qual.<a class="code" href="classJsonArray.html#a98f560f4b4a616bd444a6ce5b066b460">empty</a>() ) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <a class="code" href="classvpart__info.html#a28f07d097a4507fe70ad257f7b4271ec">qualities</a>.clear();</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classJsonArray.html">JsonArray</a> pair : qual ) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <a class="code" href="classvpart__info.html#a28f07d097a4507fe70ad257f7b4271ec">qualities</a>[ <a class="code" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a>( pair.get_string( 0 ) ) ] = pair.get_int( 1 );</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="classJsonArray.html">JsonArray</a> tools = jo.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;pseudo_tools&quot;</span> );</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">if</span>( !tools.<a class="code" href="classJsonArray.html#a98f560f4b4a616bd444a6ce5b066b460">empty</a>() ) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <a class="code" href="classvpart__info.html#aa0b0d9ec034a8fd8ec95a209cb251d16">pseudo_tools</a>.clear();</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">while</span>( tools.<a class="code" href="classJsonArray.html#a12e952546232a62428cb2a1741364006">has_more</a>() ) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> tooldef = tools.<a class="code" href="classJsonArray.html#ad422f23259186765fda8f7344bcb89e2">next_object</a>();</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> tool_id( tooldef.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <span class="stringliteral">&quot;id&quot;</span> ) );</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <span class="keyword">const</span> std::string hotkey_str = tooldef.<a class="code" href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">has_string</a>( <span class="stringliteral">&quot;hotkey&quot;</span> ) ? tooldef.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <span class="stringliteral">&quot;hotkey&quot;</span> ) : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> hotkey = hotkey_str.empty() ? -1 : <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( hotkey_str[0] );</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classvpart__info.html#aa0b0d9ec034a8fd8ec95a209cb251d16">pseudo_tools</a>.insert( { tool_id, hotkey } ).second ) {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Insert failed on %s to %s&#39;s tools, duplicate?&quot;</span>, tool_id.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;folding_tools&quot;</span>, <a class="code" href="classvpart__info.html#adb6f70ec2e281bbcbf33228dce06a19f">folding_tools</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;unfolding_tools&quot;</span>, <a class="code" href="classvpart__info.html#a729a317baf64f9109b5bed11f32b9530">unfolding_tools</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;folding_time&quot;</span>, <a class="code" href="classvpart__info.html#a2055191c93098bb6c9e2287ade377293">folding_time</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;unfolding_time&quot;</span>, <a class="code" href="classvpart__info.html#a5e8e258c4d902ff213c2aa87b73c4120">unfolding_time</a>, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">has_member</a>( <span class="stringliteral">&quot;damage_reduction&quot;</span> ) ) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <a class="code" href="classJsonObject.html">JsonObject</a> dred = jo.<a class="code" href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">get_object</a>( <span class="stringliteral">&quot;damage_reduction&quot;</span> );</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="classvpart__info.html#a097474bbc0b960cdca3d0d61072ca044">damage_reduction</a> = <a class="code" href="damage_8cpp.html#a73cbc152b1401bb2312ca654430fe17b">load_damage_map</a>( dred );</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;ENGINE&quot;</span> ) ) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classvpart__info.html#a7014b747f41e22005a458060fc85a5ad">engine_info</a> ) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            <a class="code" href="classvpart__info.html#a7014b747f41e22005a458060fc85a5ad">engine_info</a>.emplace();</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;backfire_threshold&quot;</span>, <a class="code" href="classvpart__info.html#a7014b747f41e22005a458060fc85a5ad">engine_info</a>-&gt;backfire_threshold, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;backfire_freq&quot;</span>, <a class="code" href="classvpart__info.html#a7014b747f41e22005a458060fc85a5ad">engine_info</a>-&gt;backfire_freq, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;noise_factor&quot;</span>, <a class="code" href="classvpart__info.html#a7014b747f41e22005a458060fc85a5ad">engine_info</a>-&gt;noise_factor, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;damaged_power_factor&quot;</span>, <a class="code" href="classvpart__info.html#a7014b747f41e22005a458060fc85a5ad">engine_info</a>-&gt;damaged_power_factor, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;m2c&quot;</span>, <a class="code" href="classvpart__info.html#a7014b747f41e22005a458060fc85a5ad">engine_info</a>-&gt;m2c, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;muscle_power_factor&quot;</span>, <a class="code" href="classvpart__info.html#a7014b747f41e22005a458060fc85a5ad">engine_info</a>-&gt;muscle_power_factor, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;exclusions&quot;</span>, <a class="code" href="classvpart__info.html#a7014b747f41e22005a458060fc85a5ad">engine_info</a>-&gt;exclusions, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;fuel_options&quot;</span>, <a class="code" href="classvpart__info.html#a7014b747f41e22005a458060fc85a5ad">engine_info</a>-&gt;fuel_opts, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;WHEEL&quot;</span> ) ) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classvpart__info.html#aa681869e7270c5f25cb57ca32326938e">wheel_info</a> ) {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <a class="code" href="classvpart__info.html#aa681869e7270c5f25cb57ca32326938e">wheel_info</a>.emplace();</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;rolling_resistance&quot;</span>, <a class="code" href="classvpart__info.html#aa681869e7270c5f25cb57ca32326938e">wheel_info</a>-&gt;rolling_resistance, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;contact_area&quot;</span>, <a class="code" href="classvpart__info.html#aa681869e7270c5f25cb57ca32326938e">wheel_info</a>-&gt;contact_area, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;wheel_offroad_rating&quot;</span>, <a class="code" href="classvpart__info.html#aa681869e7270c5f25cb57ca32326938e">wheel_info</a>-&gt;offroad_rating, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">if</span>( <span class="keyword">const</span> std::optional&lt;JsonValue&gt; jo_termod = jo.<a class="code" href="classJsonObject.html#a6b31f68c5846c9eb18c900ba33a45cb2">get_member_opt</a>( <span class="stringliteral">&quot;wheel_terrain_modifiers&quot;</span> ) ) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <a class="code" href="classvpart__info.html#aa681869e7270c5f25cb57ca32326938e">wheel_info</a>-&gt;terrain_modifiers.clear();</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classJsonMember.html">JsonMember</a> jo_mod : <span class="keyword">static_cast&lt;</span><a class="code" href="classJsonObject.html">JsonObject</a><span class="keyword">&gt;</span>( *jo_termod ) ) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <span class="keyword">const</span> <a class="code" href="classJsonArray.html">JsonArray</a> jo_mod_values = jo_mod.<a class="code" href="classJsonArray.html#aebd5eafa8b91235429384a49abc0cab4">get_array</a>();</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <a class="code" href="structveh__ter__mod.html">veh_ter_mod</a> <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> { jo_mod.name(), jo_mod_values.<a class="code" href="classJsonArray.html#a28640ec205dbf84f52cafa927e79f258">get_int</a>( 0 ), jo_mod_values.<a class="code" href="classJsonArray.html#a28640ec205dbf84f52cafa927e79f258">get_int</a>( 1 ) };</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                <a class="code" href="classvpart__info.html#aa681869e7270c5f25cb57ca32326938e">wheel_info</a>-&gt;terrain_modifiers.emplace_back( std::move( <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) );</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;ROTOR&quot;</span> ) ) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classvpart__info.html#a1aef28b4c9e50bf73ea1f974847cdd94">rotor_info</a> ) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <a class="code" href="classvpart__info.html#a1aef28b4c9e50bf73ea1f974847cdd94">rotor_info</a>.emplace();</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;rotor_diameter&quot;</span>, <a class="code" href="classvpart__info.html#a1aef28b4c9e50bf73ea1f974847cdd94">rotor_info</a>-&gt;rotor_diameter, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;WORKBENCH&quot;</span> ) ) {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classvpart__info.html#abe527666ead23374300587a33a86760e">workbench_info</a> ) {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <a class="code" href="classvpart__info.html#abe527666ead23374300587a33a86760e">workbench_info</a>.emplace();</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <a class="code" href="classJsonObject.html">JsonObject</a> wb_jo = jo.<a class="code" href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">get_object</a>( <span class="stringliteral">&quot;workbench&quot;</span> );</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( wb_jo, <span class="stringliteral">&quot;multiplier&quot;</span>, <a class="code" href="classvpart__info.html#abe527666ead23374300587a33a86760e">workbench_info</a>-&gt;multiplier, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( wb_jo, <span class="stringliteral">&quot;mass&quot;</span>, <a class="code" href="classvpart__info.html#abe527666ead23374300587a33a86760e">workbench_info</a>-&gt;allowed_mass, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( wb_jo, <span class="stringliteral">&quot;volume&quot;</span>, <a class="code" href="classvpart__info.html#abe527666ead23374300587a33a86760e">workbench_info</a>-&gt;allowed_volume, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;VEH_TOOLS&quot;</span> ) ) {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classvpart__info.html#abc2abb40bda9593afb1bbb2e897261d0">toolkit_info</a> ) {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <a class="code" href="classvpart__info.html#abc2abb40bda9593afb1bbb2e897261d0">toolkit_info</a>.emplace();</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;allowed_tools&quot;</span>, <a class="code" href="classvpart__info.html#abc2abb40bda9593afb1bbb2e897261d0">toolkit_info</a>-&gt;allowed_types, <a class="code" href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">strict</a> );</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;TRANSFORM_TERRAIN&quot;</span> ) || <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;CRASH_TERRAIN_AROUND&quot;</span> ) ) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classvpart__info.html#abcdec90d7cc149b619e656e70122c477">transform_terrain_info</a> ) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <a class="code" href="classvpart__info.html#abcdec90d7cc149b619e656e70122c477">transform_terrain_info</a>.emplace();</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <a class="code" href="classJsonObject.html">JsonObject</a> jttd = jo.<a class="code" href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">get_object</a>( <span class="stringliteral">&quot;transform_terrain&quot;</span> );</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <a class="code" href="structvpslot__terrain__transform.html">vpslot_terrain_transform</a> &amp;vtt = *<a class="code" href="classvpart__info.html#abcdec90d7cc149b619e656e70122c477">transform_terrain_info</a>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jttd, <a class="code" href="classvpart__info.html#a1c9c63756ae03afb7895298c3a8d37df">was_loaded</a>, <span class="stringliteral">&quot;pre_flags&quot;</span>, vtt.<a class="code" href="structvpslot__terrain__transform.html#a7f7a690a6f229e20fc514480d6582c12">pre_flags</a>, {} );</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jttd, <a class="code" href="classvpart__info.html#a1c9c63756ae03afb7895298c3a8d37df">was_loaded</a>, <span class="stringliteral">&quot;post_terrain&quot;</span>, vtt.<a class="code" href="structvpslot__terrain__transform.html#aac59bcd0083eefa7511bd3affac515d5">post_terrain</a>, <span class="stringliteral">&quot;t_null&quot;</span> );</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jttd, <a class="code" href="classvpart__info.html#a1c9c63756ae03afb7895298c3a8d37df">was_loaded</a>, <span class="stringliteral">&quot;post_furniture&quot;</span>, vtt.<a class="code" href="structvpslot__terrain__transform.html#a789238dbb0f86edb22b71ec7cec19ffb">post_furniture</a>, <span class="stringliteral">&quot;f_null&quot;</span> );</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jttd, <a class="code" href="classvpart__info.html#a1c9c63756ae03afb7895298c3a8d37df">was_loaded</a>, <span class="stringliteral">&quot;post_field&quot;</span>, vtt.<a class="code" href="structvpslot__terrain__transform.html#afd5e8c3ab5daeb4d82694308d105d522">post_field</a>, <span class="stringliteral">&quot;fd_null&quot;</span> );</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jttd, <a class="code" href="classvpart__info.html#a1c9c63756ae03afb7895298c3a8d37df">was_loaded</a>, <span class="stringliteral">&quot;post_field_intensity&quot;</span>, vtt.<a class="code" href="structvpslot__terrain__transform.html#ac68a7d773155aa1409d940e3ff5e1c6c">post_field_intensity</a>, 0 );</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jttd, <a class="code" href="classvpart__info.html#a1c9c63756ae03afb7895298c3a8d37df">was_loaded</a>, <span class="stringliteral">&quot;post_field_age&quot;</span>, vtt.<a class="code" href="structvpslot__terrain__transform.html#ab5e4d4e14faf93e65d46fd8348740f9a">post_field_age</a>, 0_seconds );</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="classvpart__info.html#afa8f40919f04915387f14f23f54c690e">  443</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvpart__info.html#afa8f40919f04915387f14f23f54c690e">vpart_info::set_flag</a>( <span class="keyword">const</span> std::string &amp;flag )</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;{</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <a class="code" href="classvpart__info.html#a0f73b11eb661c4b3401782c895404251">flags</a>.insert( flag );</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> iter = <a class="code" href="veh__type_8cpp.html#acefb974cb11c6a8dc51c8b894d151f08">vpart_bitflag_map</a>.find( flag );</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">if</span>( iter != <a class="code" href="veh__type_8cpp.html#acefb974cb11c6a8dc51c8b894d151f08">vpart_bitflag_map</a>.end() ) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <a class="code" href="classvpart__info.html#ab3e85db4c52712e931240bcd49ecb6f0">bitflags</a>.set( iter-&gt;second );</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;}</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="classvpart__info.html#a753bdc5837a0211460484e9a4daa6f52">  452</a></span>&#160;<span class="keyword">const</span> std::set&lt;std::string&gt; &amp;<a class="code" href="classvpart__info.html#a753bdc5837a0211460484e9a4daa6f52">vpart_info::get_categories</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classvpart__info.html#a4bbbf5f33c61201331632476969aab18">categories</a>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;}</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">// @returns true for &quot;valid&quot; gun items which can be mounted as vehicle turret</span></div>
<div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#ab767d3f826c5f2cce159b51b02523ce6">  458</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="veh__type_8cpp.html#ab767d3f826c5f2cce159b51b02523ce6">mountable_gun_filter</a>( <span class="keyword">const</span> <a class="code" href="structitype.html">itype</a> &amp;guntype )</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;{</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;flag_id&gt; bad_flags {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <a class="code" href="flag_8cpp.html#abbe6e4526a4aa330808bab21bd5bbe2f">flag_BIONIC_WEAPON</a>,</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <a class="code" href="flag_8cpp.html#a8e49ffbaa56c5806d081ec3ab5e30e6a">flag_NO_TURRET</a>,</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <a class="code" href="flag_8cpp.html#a936d1c7b90d01c5d07e69d0628c81235">flag_NO_UNWIELD</a>,</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <a class="code" href="flag_8cpp.html#afa7c0e8f7a4654a1b825f73111f5fe8e">flag_PSEUDO</a>,</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <a class="code" href="flag_8cpp.html#aa4483d80251dc96dd0c8313d8a6366f9">flag_RELOAD_AND_SHOOT</a>,</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <a class="code" href="flag_8cpp.html#a1002f0b9b5b8f824ef9543ca6069271d">flag_STR_DRAW</a>,</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    };</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">if</span>( !guntype.<a class="code" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a> || guntype.<a class="code" href="structitype.html#a37edee7dafc5711621f26844cab78cf6">gunmod</a> ) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">return</span> std::none_of( bad_flags.cbegin(), bad_flags.cend(), [&amp;guntype]( <span class="keyword">const</span> <a class="code" href="classstring__id.html">flag_id</a> &amp; flag ) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        return guntype.has_flag( flag );</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    } );</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;}</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">// @returns true if itype uses liquid ammo directly or has a magwell + magazine pocket that accepts liquid ammo</span></div>
<div class="line"><a name="l00479"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#aa7b7821d93da351da2ae13af8b0d8fd5">  479</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="veh__type_8cpp.html#aa7b7821d93da351da2ae13af8b0d8fd5">gun_uses_liquid_ammo</a>( <span class="keyword">const</span> <a class="code" href="structitype.html">itype</a> &amp;guntype )</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;{</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">ammotype</a> &amp;at : guntype.<a class="code" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;ammo ) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">if</span>( at-&gt;<a class="code" href="classammunition__type.html#a236169a55b7679baaa96e491c36e57d9">default_ammotype</a>()-&gt;<a class="code" href="structitype.html#a3d7692cff108d3b8c59ca0847d25a45c">phase</a> == <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classpocket__data.html">pocket_data</a> &amp;maybe_magwell : guntype.<a class="code" href="structitype.html#aa93ea10e5a9052713479ac2f21dfa3c0">pockets</a> ) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> &amp;restricted_types : maybe_magwell.<a class="code" href="classpocket__data.html#a0396faa6773cd1cff9bd0717ad957296">item_id_restriction</a> ) {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classpocket__data.html">pocket_data</a> &amp;maybe_mag : restricted_types.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="structitype.html#aa93ea10e5a9052713479ac2f21dfa3c0">pockets</a> ) {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const ammotype, int&gt; &amp;res : maybe_mag.ammo_restriction ) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                    <span class="keywordflow">if</span>( res.first-&gt;default_ammotype()-&gt;phase == <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                    }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;}</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">// @returns Amount of battery drained on default gunmode if itype uses magwell+mag with battery ammo</span></div>
<div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#a93a584aaafe2c981c4906017805dd82c">  501</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="veh__type_8cpp.html#a93a584aaafe2c981c4906017805dd82c">gun_battery_mags_drain</a>( <span class="keyword">const</span> <a class="code" href="structitype.html">itype</a> &amp;guntype )</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;{</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordtype">int</span> charges_used = 0;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classpocket__data.html">pocket_data</a> &amp;maybe_mag_well : guntype.<a class="code" href="structitype.html#aa93ea10e5a9052713479ac2f21dfa3c0">pockets</a> ) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> &amp;restricted_type : maybe_mag_well.<a class="code" href="classpocket__data.html#a0396faa6773cd1cff9bd0717ad957296">item_id_restriction</a> ) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classpocket__data.html">pocket_data</a> &amp;maybe_mag : restricted_type.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="structitype.html#aa93ea10e5a9052713479ac2f21dfa3c0">pockets</a> ) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const ammotype, int&gt; &amp;res : maybe_mag.ammo_restriction ) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                    <span class="keywordflow">if</span>( res.first == <a class="code" href="veh__type_8cpp.html#a13798283d6d3fdd8f38838da9d52fd19">ammo_battery</a> ) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                        charges_used = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( charges_used, guntype.<a class="code" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;ammo_to_fire );</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                    }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">if</span>( guntype.<a class="code" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;energy_drain &gt; 0_kJ &amp;&amp; charges_used &gt; 0 ) {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;%s uses both energy and battery magazines&quot;</span>, guntype.<a class="code" href="structitype.html#ad35fbe0013544c1c396944b20b264421">nname</a>( 1 ) );</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">return</span> charges_used;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;}</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#ab544beada4995525b1b6f081613bbea3">  521</a></span>&#160;<span class="keyword">static</span> std::string <a class="code" href="veh__type_8cpp.html#ab544beada4995525b1b6f081613bbea3">get_looks_like</a>( <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> &amp;vpi, <span class="keyword">const</span> <a class="code" href="structitype.html">itype</a> &amp;it )</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;{</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">auto</span> has_light_ammo = []( <span class="keyword">const</span> std::set&lt;ammotype&gt; &amp;ats ) {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">ammotype</a> &amp;at : ats ) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <span class="keywordflow">if</span>( !at-&gt;default_ammotype() ) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::mass</a> at_weight = at-&gt;default_ammotype()-&gt;weight;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            <span class="keywordflow">if</span>( 15_gram &gt; at_weight &amp;&amp; at_weight &gt; 3_gram ) {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// detects g80 and coil gun</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    };</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">if</span>( it.<a class="code" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;energy_drain &gt; 0_kJ &amp;&amp; has_light_ammo( it.<a class="code" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;ammo ) ) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;mounted_hk_g80&quot;</span>; <span class="comment">// railguns</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( vpi.<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;USE_BATTERIES&quot;</span> ) || it.<a class="code" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;energy_drain &gt; 0_kJ ) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;laser_rifle&quot;</span>; <span class="comment">// generic energy weapons</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( vpi.<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;USE_TANKS&quot;</span> ) ) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;watercannon&quot;</span>; <span class="comment">// liquid sprayers (flamethrower, foam gun etc)</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it.<a class="code" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;skill_used == <a class="code" href="veh__type_8cpp.html#a0c6f7a1d7eeb2c38d69b568d85eb9f0d">skill_launcher</a> ) {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;tow_launcher&quot;</span>; <span class="comment">// launchers</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;m249&quot;</span>; <span class="comment">// machine guns and also default for any unknown</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;}</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno"><a class="line" href="namespacevehicles_1_1parts.html#ad7b5d7c6a3691dfe681e831a656c8ae9">  549</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacevehicles_1_1parts.html#ad7b5d7c6a3691dfe681e831a656c8ae9">vehicles::parts::finalize</a>()</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;{</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#abab9753b5f4726286941bc0873ccff2a">vpart_info_factory</a>.finalize();</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structitype.html">itype</a> *<span class="keyword">const</span> <a class="code" href="classitem.html">item</a> : <a class="code" href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a>-&gt;find( <a class="code" href="veh__type_8cpp.html#ab767d3f826c5f2cce159b51b02523ce6">mountable_gun_filter</a> ) ) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <a class="code" href="classvpart__info.html">vpart_info</a> new_part = *<a class="code" href="veh__type_8cpp.html#ac1db894a7b3c060b7377b1a90bb28063">vpart_turret_generic</a>; <span class="comment">// copy from generic</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> item_id = <a class="code" href="classitem.html">item</a>-&gt;get_id();</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        new_part.<a class="code" href="classvpart__info.html#aba80d384b977306eb749c9c9958a62a7">id</a> = <a class="code" href="type__id_8h.html#a01bb48ae3e1e67dbfa6a3a9679dc1b13">vpart_id</a>( <span class="stringliteral">&quot;turret_&quot;</span> + item_id.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        new_part.<a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a> = item_id;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        new_part.<a class="code" href="classvpart__info.html#ad0278120f4f08344894231a8d49205ec">description</a> = <a class="code" href="classitem.html">item</a>-&gt;description;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        new_part.<a class="code" href="classvpart__info.html#ac8dbc94ea6028b13c5a9f4e8da9b14ba">color</a> = <a class="code" href="classitem.html">item</a>-&gt;<a class="code" href="classitem.html#ac3802e76b128e7ee2982352e7ad72030">color</a>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="comment">// calculate requirements for install/removal by gross estimate</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordtype">int</span> primary_req = 3; <span class="comment">// 3 in whatever gun&#39;s skill is set to</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="keywordtype">int</span> mechanics_req = 3 + <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classitem.html">item</a>-&gt;<a class="code" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a> / 10_kilogram );</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordtype">int</span> electronics_req = 0; <span class="comment">// calculated below</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="comment">// if turret base item is migrated-from or blacklisted hide it from install menu</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordflow">if</span>( item_id != <a class="code" href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a>-&gt;migrate_id( item_id ) ||</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <a class="code" href="item__factory_8cpp.html#a9910cca816b92f0a565dc6bc764889a6">item_is_blacklisted</a>( <a class="code" href="classitem.html">item</a>-&gt;get_id() ) ) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            new_part.<a class="code" href="classvpart__info.html#afa8f40919f04915387f14f23f54c690e">set_flag</a>( <span class="stringliteral">&quot;NO_INSTALL_HIDDEN&quot;</span> );</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="veh__type_8cpp.html#aa7b7821d93da351da2ae13af8b0d8fd5">gun_uses_liquid_ammo</a>( *<a class="code" href="classitem.html">item</a> ) ) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            new_part.<a class="code" href="classvpart__info.html#afa8f40919f04915387f14f23f54c690e">set_flag</a>( <span class="stringliteral">&quot;USE_TANKS&quot;</span> );</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <span class="comment">// +1 mechanics level for liquid plumbing</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            mechanics_req++;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> battery_mags_drain = <a class="code" href="veh__type_8cpp.html#a93a584aaafe2c981c4906017805dd82c">gun_battery_mags_drain</a>( *<a class="code" href="classitem.html">item</a> );</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="keywordflow">if</span>( battery_mags_drain ) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="comment">// USE_BATTERIES for afs cartridge-like batteries</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            new_part.<a class="code" href="classvpart__info.html#afa8f40919f04915387f14f23f54c690e">set_flag</a>( <span class="stringliteral">&quot;USE_BATTERIES&quot;</span> );</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <span class="comment">// +1 electronics level per 15 battery charges used for electric plumbing</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            electronics_req += <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="math__parser__func_8h.html#ac9196b0cf8d9dd209db9fc00a69a55f6">std::ceil</a>( battery_mags_drain / 15.0 ) );</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="comment">// make part foldable for pistols and SMGs</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="keywordtype">bool</span> is_foldable = <a class="code" href="classitem.html">item</a>-&gt;qualities.<a class="code" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>( <a class="code" href="veh__type_8cpp.html#a96830eea7a73baa6386c2c56a9964ff6">qual_PISTOL</a> ) &gt; 0 ||</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                           <a class="code" href="classitem.html">item</a>-&gt;qualities.<a class="code" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>( <a class="code" href="veh__type_8cpp.html#a3aa630652d42842b884fc6a53abb4f06">qual_SMG</a> ) &gt; 0;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="keywordflow">if</span>( is_foldable ) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            new_part.<a class="code" href="classvpart__info.html#a2b7584e0ad10a1922caee915600e0381">folded_volume</a> = <a class="code" href="classitem.html">item</a>-&gt;<a class="code" href="classitem.html#a686df014e8aa8bc4637883802d05f935">volume</a>;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <span class="comment">// cap all skills at 8</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        primary_req = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( 8, primary_req );</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        mechanics_req = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( 8, mechanics_req );</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        electronics_req = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( 8, electronics_req );</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        new_part.<a class="code" href="classvpart__info.html#a9349b8416f91bb3029e9a8c9991d0a4a">install_skills</a>.emplace( <a class="code" href="classitem.html">item</a>-&gt;gun-&gt;skill_used, primary_req );</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        new_part.<a class="code" href="classvpart__info.html#a269038d27c228c2175b1504c57b45ef9">removal_skills</a>.emplace( <a class="code" href="classitem.html">item</a>-&gt;gun-&gt;skill_used, primary_req / 2 );</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        new_part.<a class="code" href="classvpart__info.html#a9349b8416f91bb3029e9a8c9991d0a4a">install_skills</a>.emplace( <span class="stringliteral">&quot;mechanics&quot;</span>, mechanics_req );</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        new_part.<a class="code" href="classvpart__info.html#a269038d27c228c2175b1504c57b45ef9">removal_skills</a>.emplace( <span class="stringliteral">&quot;mechanics&quot;</span>, mechanics_req / 2 );</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordflow">if</span>( electronics_req &gt; 0 ) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            new_part.<a class="code" href="classvpart__info.html#a9349b8416f91bb3029e9a8c9991d0a4a">install_skills</a>.emplace( <span class="stringliteral">&quot;electronics&quot;</span>, electronics_req );</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            new_part.<a class="code" href="classvpart__info.html#a269038d27c228c2175b1504c57b45ef9">removal_skills</a>.emplace( <span class="stringliteral">&quot;electronics&quot;</span>, electronics_req / 2 );</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordtype">int</span> difficulty = primary_req + mechanics_req + electronics_req * 2;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> install_time = 10_minutes * difficulty;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> removal_time = 10_minutes * difficulty / 2;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        new_part.<a class="code" href="classvpart__info.html#af025e93f25325ddebaeb802d7dcbd64a">install_moves</a> = install_time;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        new_part.<a class="code" href="classvpart__info.html#af7551b510661af4b9a2b24511f946a57">removal_moves</a> = removal_time;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        new_part.<a class="code" href="classvpart__info.html#ad0737cc6952f2e7efeb5ff4126ba3429">looks_like</a> = <a class="code" href="veh__type_8cpp.html#ab544beada4995525b1b6f081613bbea3">get_looks_like</a>( new_part, *<a class="code" href="classitem.html">item</a> );</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <a class="code" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#abab9753b5f4726286941bc0873ccff2a">vpart_info_factory</a>.insert( new_part );</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160; </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="comment">// hide the generic turret prototype</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="classvpart__info.html">vpart_info</a> &amp;vpi_turret_generic = <span class="keyword">const_cast&lt;</span><a class="code" href="classvpart__info.html">vpart_info</a> &amp;<span class="keyword">&gt;</span>( *vpart_turret_generic );</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    vpi_turret_generic.<a class="code" href="classvpart__info.html#afa8f40919f04915387f14f23f54c690e">set_flag</a>( <span class="stringliteral">&quot;NO_INSTALL_HIDDEN&quot;</span> );</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> &amp;const_vpi : <a class="code" href="namespacevehicles_1_1parts.html#a1760b563889a67b60d887f2cd6331846">vehicles::parts::get_all</a>() ) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="comment">// const_cast hack until/if generic factory supports finalize</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <a class="code" href="classvpart__info.html">vpart_info</a> &amp;vpi = <span class="keyword">const_cast&lt;</span><a class="code" href="classvpart__info.html">vpart_info</a> &amp;<span class="keyword">&gt;</span>( const_vpi );</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        vpi.<a class="code" href="classvpart__info.html#aae32be2c394d54d7af8842d41725029a">finalize</a>();</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;}</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno"><a class="line" href="classvpart__info.html#aae32be2c394d54d7af8842d41725029a">  633</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvpart__info.html#aae32be2c394d54d7af8842d41725029a">vpart_info::finalize</a>()</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;{</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a7014b747f41e22005a458060fc85a5ad">engine_info</a> &amp;&amp; <a class="code" href="classvpart__info.html#a7014b747f41e22005a458060fc85a5ad">engine_info</a>-&gt;fuel_opts.empty() &amp;&amp; <a class="code" href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">fuel_type</a> != <a class="code" href="veh__type_8cpp.html#a2d45b07dd9fac819b92d66f1bf628012">itype_null</a> ) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <a class="code" href="classvpart__info.html#a7014b747f41e22005a458060fc85a5ad">engine_info</a>-&gt;fuel_opts.push_back( <a class="code" href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">fuel_type</a> );</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;flag : <a class="code" href="classvpart__info.html#aa05e0a57a325aa3f780b480130bfc5db">get_flags</a>() ) {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keyword">auto</span> <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> = <a class="code" href="veh__type_8cpp.html#acefb974cb11c6a8dc51c8b894d151f08">vpart_bitflag_map</a>.find( flag );</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> != <a class="code" href="veh__type_8cpp.html#acefb974cb11c6a8dc51c8b894d151f08">vpart_bitflag_map</a>.end() ) {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <a class="code" href="classvpart__info.html#afa8f40919f04915387f14f23f54c690e">set_flag</a>( flag ); <span class="comment">// refresh bitflags field</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8f0159e32409b47888df99c01106fdb5">VPFLAG_APPLIANCE</a> ) ) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="comment">// force all appliances&#39; location field to &quot;structure&quot;</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="comment">// dragging code currently checks this for considering collisions</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <a class="code" href="classvpart__info.html#a03cfe554b18beb9c32d9a86872a1748e">location</a> = <span class="stringliteral">&quot;structure&quot;</span>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="damage_8cpp.html#af8824edc46ec813a219b406a87271f69">finalize_damage_map</a>( <a class="code" href="classvpart__info.html#a097474bbc0b960cdca3d0d61072ca044">damage_reduction</a> );</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// Calculate and cache z-ordering based off of location</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="comment">// list_order is used when inspecting the vehicle</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a03cfe554b18beb9c32d9a86872a1748e">location</a> == <span class="stringliteral">&quot;on_roof&quot;</span> ) {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <a class="code" href="classvpart__info.html#a16ca9b50254b09e4fb3968a70c57330a">z_order</a> = 9;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <a class="code" href="classvpart__info.html#afd8582ac2842567391423c795e3d7497">list_order</a> = 3;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a03cfe554b18beb9c32d9a86872a1748e">location</a> == <span class="stringliteral">&quot;on_cargo&quot;</span> ) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <a class="code" href="classvpart__info.html#a16ca9b50254b09e4fb3968a70c57330a">z_order</a> = 8;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <a class="code" href="classvpart__info.html#afd8582ac2842567391423c795e3d7497">list_order</a> = 6;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a03cfe554b18beb9c32d9a86872a1748e">location</a> == <span class="stringliteral">&quot;center&quot;</span> ) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <a class="code" href="classvpart__info.html#a16ca9b50254b09e4fb3968a70c57330a">z_order</a> = 7;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <a class="code" href="classvpart__info.html#afd8582ac2842567391423c795e3d7497">list_order</a> = 7;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a03cfe554b18beb9c32d9a86872a1748e">location</a> == <span class="stringliteral">&quot;under&quot;</span> ) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="comment">// Have wheels show up over frames</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <a class="code" href="classvpart__info.html#a16ca9b50254b09e4fb3968a70c57330a">z_order</a> = 6;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <a class="code" href="classvpart__info.html#afd8582ac2842567391423c795e3d7497">list_order</a> = 10;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a03cfe554b18beb9c32d9a86872a1748e">location</a> == <span class="stringliteral">&quot;structure&quot;</span> ) {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <a class="code" href="classvpart__info.html#a16ca9b50254b09e4fb3968a70c57330a">z_order</a> = 5;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <a class="code" href="classvpart__info.html#afd8582ac2842567391423c795e3d7497">list_order</a> = 1;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a03cfe554b18beb9c32d9a86872a1748e">location</a> == <span class="stringliteral">&quot;engine_block&quot;</span> ) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="comment">// Should be hidden by frames</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <a class="code" href="classvpart__info.html#a16ca9b50254b09e4fb3968a70c57330a">z_order</a> = 4;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <a class="code" href="classvpart__info.html#afd8582ac2842567391423c795e3d7497">list_order</a> = 8;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a03cfe554b18beb9c32d9a86872a1748e">location</a> == <span class="stringliteral">&quot;on_battery_mount&quot;</span> ) {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="comment">// Should be hidden by frames</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <a class="code" href="classvpart__info.html#a16ca9b50254b09e4fb3968a70c57330a">z_order</a> = 3;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <a class="code" href="classvpart__info.html#afd8582ac2842567391423c795e3d7497">list_order</a> = 10;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a03cfe554b18beb9c32d9a86872a1748e">location</a> == <span class="stringliteral">&quot;fuel_source&quot;</span> ) {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="comment">// Should be hidden by frames</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <a class="code" href="classvpart__info.html#a16ca9b50254b09e4fb3968a70c57330a">z_order</a> = 3;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <a class="code" href="classvpart__info.html#afd8582ac2842567391423c795e3d7497">list_order</a> = 9;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a03cfe554b18beb9c32d9a86872a1748e">location</a> == <span class="stringliteral">&quot;roof&quot;</span> ) {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="comment">// Shouldn&#39;t be displayed</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <a class="code" href="classvpart__info.html#a16ca9b50254b09e4fb3968a70c57330a">z_order</a> = -1;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <a class="code" href="classvpart__info.html#afd8582ac2842567391423c795e3d7497">list_order</a> = 4;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a03cfe554b18beb9c32d9a86872a1748e">location</a> == <span class="stringliteral">&quot;armor&quot;</span> ) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <span class="comment">// Shouldn&#39;t be displayed (the color is used, but not the symbol)</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <a class="code" href="classvpart__info.html#a16ca9b50254b09e4fb3968a70c57330a">z_order</a> = -2;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <a class="code" href="classvpart__info.html#afd8582ac2842567391423c795e3d7497">list_order</a> = 2;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="comment">// Everything else</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <a class="code" href="classvpart__info.html#a16ca9b50254b09e4fb3968a70c57330a">z_order</a> = 0;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <a class="code" href="classvpart__info.html#afd8582ac2842567391423c795e3d7497">list_order</a> = 5;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    std::set&lt;std::pair&lt;itype_id, int&gt;&gt; &amp;pt = <a class="code" href="classvpart__info.html#aa0b0d9ec034a8fd8ec95a209cb251d16">pseudo_tools</a>;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = pt.begin(); it != pt.end(); <span class="comment">/* blank */</span> ) {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> &amp;tool = it-&gt;first;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordflow">if</span>( !tool.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;invalid pseudo tool itype_id &#39;%s&#39; on &#39;%s&#39;&quot;</span>, tool.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            pt.erase( it++ );</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            ++it;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        }</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#abc2abb40bda9593afb1bbb2e897261d0">toolkit_info</a>.has_value() ) {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        std::set&lt;itype_id&gt; &amp;pt = <a class="code" href="classvpart__info.html#abc2abb40bda9593afb1bbb2e897261d0">toolkit_info</a>-&gt;allowed_types;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = pt.begin(); it != pt.end(); <span class="comment">/* blank */</span> ) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="keywordflow">if</span>( !it-&gt;is_valid() ) {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;invalid itype_id &#39;%s&#39; on &#39;allowed_tools&#39; of vpart &#39;%s&#39;&quot;</span>, it-&gt;str(), <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                pt.erase( it++ );</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                ++it;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        }</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    }</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="comment">// generate variant bases (cosmetic only feature for tilesets)</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    std::vector&lt;vpart_variant&gt; new_variants;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;[base_id, base_label] : <a class="code" href="classvpart__info.html#a87cda0d50c8d3fb88263bc67b2a3f87f">variants_bases</a> ) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;[vvid, vv] : <a class="code" href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">variants</a> ) {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            <a class="code" href="classvpart__variant.html">vpart_variant</a> vv_copy = vv;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            vv_copy.<a class="code" href="classvpart__variant.html#af93535cc7d60651707ef94391cb385f1">id</a> = vv_copy.<a class="code" href="classvpart__variant.html#af93535cc7d60651707ef94391cb385f1">id</a>.empty() ? base_id : base_id + <span class="stringliteral">&quot;_&quot;</span> + vv_copy.<a class="code" href="classvpart__variant.html#af93535cc7d60651707ef94391cb385f1">id</a>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            vv_copy.<a class="code" href="classvpart__variant.html#aa9b1a7055bc57aebcf89de5032fe784b">label_</a> = vv_copy.<a class="code" href="classvpart__variant.html#aa9b1a7055bc57aebcf89de5032fe784b">label_</a>.empty() ? base_label : base_label + <span class="stringliteral">&quot; &quot;</span> + vv_copy.<a class="code" href="classvpart__variant.html#aa9b1a7055bc57aebcf89de5032fe784b">label_</a>;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            new_variants.emplace_back( vv_copy );</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classvpart__variant.html">vpart_variant</a> &amp;vv : new_variants ) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <a class="code" href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">variants</a>[vv.id] = vv;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">variants</a>.empty() ) {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s defines no variants&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <a class="code" href="classvpart__variant.html">vpart_variant</a> vv;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        vv.<a class="code" href="classvpart__variant.html#af93535cc7d60651707ef94391cb385f1">id</a>.clear();</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        vv.<a class="code" href="classvpart__variant.html#aa9b1a7055bc57aebcf89de5032fe784b">label_</a> = <span class="stringliteral">&quot;Default&quot;</span>;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        vv.<a class="code" href="classvpart__variant.html#a03cc3476d76fdd3802bcd9cebff1c59f">symbols</a>.fill( <span class="charliteral">&#39;?&#39;</span> );</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        vv.<a class="code" href="classvpart__variant.html#a3aab24453e3428bfa30764193606d493">symbols_broken</a>.fill( <span class="charliteral">&#39;?&#39;</span> );</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <a class="code" href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">variants</a>.emplace( vv.<a class="code" href="classvpart__variant.html#af93535cc7d60651707ef94391cb385f1">id</a>, vv );</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <a class="code" href="classvpart__info.html#a37bc6fc50c287ea4d63c14eab94d232f">variant_default</a> = vv.<a class="code" href="classvpart__variant.html#af93535cc7d60651707ef94391cb385f1">id</a>;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    }</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">variants</a>.count( <a class="code" href="classvpart__info.html#a37bc6fc50c287ea4d63c14eab94d232f">variant_default</a> ) == 0 ) {</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <a class="code" href="classvpart__info.html#a37bc6fc50c287ea4d63c14eab94d232f">variant_default</a> = <a class="code" href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">variants</a>.begin()-&gt;first;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="comment">// add the base item to the installation requirements</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="comment">// TODO: support multiple/alternative base items</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <a class="code" href="structrequirement__data.html">requirement_data</a> ins;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    ins.<a class="code" href="structrequirement__data.html#a70f026c6bfe09fdffc95dc1e030adb0d">components</a>.push_back( { { { <a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a>, 1 } } } );</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keyword">const</span> <a class="code" href="classstring__id.html">requirement_id</a> ins_id( std::string( <span class="stringliteral">&quot;inline_vehins_base_&quot;</span> ) + <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <a class="code" href="structrequirement__data.html#a6d2ff1c121bbf7360a83dd525c1371df">requirement_data::save_requirement</a>( ins, ins_id );</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="classvpart__info.html#aed8e3196af84c749386daa97c42807eb">install_reqs</a>.emplace_back( ins_id, 1 );</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#af7551b510661af4b9a2b24511f946a57">removal_moves</a> &lt; 0_seconds ) {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <a class="code" href="classvpart__info.html#af7551b510661af4b9a2b24511f946a57">removal_moves</a> = <a class="code" href="classvpart__info.html#af025e93f25325ddebaeb802d7dcbd64a">install_moves</a> / 2;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    }</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160; </div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classitem.html#a4c54ded219374a2f5f80e8eee192dcdf">item::type_is_defined</a>( <a class="code" href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">fuel_type</a> ) ) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s uses undefined fuel %s&quot;</span>, <span class="keywordtype">id</span>.c_str(), <a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a>.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() );</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <a class="code" href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">fuel_type</a> = <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">itype_id::NULL_ID</a>();</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">fuel_type</a>.<a class="code" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> base_item_as_container( <a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a>, <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> );</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> fuel_containee( <a class="code" href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">fuel_type</a>, <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> );</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="keywordflow">if</span>( !fuel_containee.<a class="code" href="classitem.html#ad8d4ac9512f65051e505e3359b5a6f2c">is_fuel</a>() &amp;&amp; !base_item_as_container.<a class="code" href="classitem.html#a28fa4969a257ea0b79acc9c60595ee7b">can_contain</a>( fuel_containee ).<a class="code" href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">success</a>() ) {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            <span class="comment">// HACK: Tanks are allowed to specify non-fuel &quot;fuel&quot;,</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <span class="comment">// because currently legacy blazemod uses it as a hack to restrict content types</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;non-tank vehicle part %s uses non-fuel item %s as fuel, setting to null&quot;</span>,</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                      <span class="keywordtype">id</span>.c_str(), <a class="code" href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">fuel_type</a>.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() );</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            <a class="code" href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">fuel_type</a> = <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">itype_id::NULL_ID</a>();</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;}</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno"><a class="line" href="namespacevehicles_1_1parts.html#af16964dbe1dca804457d7721e0821e98">  776</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacevehicles_1_1parts.html#af16964dbe1dca804457d7721e0821e98">vehicles::parts::check</a>()</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;{</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> &amp;vpi : <a class="code" href="namespacevehicles_1_1parts.html#a1760b563889a67b60d887f2cd6331846">vehicles::parts::get_all</a>() ) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        vpi.check();</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;}</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno"><a class="line" href="classvpart__info.html#aef19592de66ef9e36c6cfc4f2e3fbfc7">  783</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvpart__info.html#aef19592de66ef9e36c6cfc4f2e3fbfc7">vpart_info::check</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">if</span>( <span class="keywordtype">id</span>.str().find( <a class="code" href="namespacevehicles.html#a78c8b078f6e38a1e9cc70d759c8d914a">vehicles::variant_separator</a> ) != std::string::npos ) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part &#39;%s&#39; uses reserved character %c&quot;</span>, <span class="keywordtype">id</span>.str(), <a class="code" href="namespacevehicles.html#a78c8b078f6e38a1e9cc70d759c8d914a">vehicles::variant_separator</a> );</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp;[vid, vv] : <a class="code" href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">variants</a> ) {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; vv.symbols.size(); i++ ) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            <span class="keywordflow">if</span>( ( <a class="code" href="wcwidth_8cpp.html#aead942898baf7a1b82cd23e582f62a16">mk_wcwidth</a>( vv.symbols[i] ) != 1 ) ||</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                ( <a class="code" href="wcwidth_8cpp.html#aead942898baf7a1b82cd23e582f62a16">mk_wcwidth</a>( vv.symbols_broken[i] ) != 1 ) ) {</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part &#39;%s&#39; variant &#39;%s&#39; has symbol that is not 1 console cell wide&quot;</span>,</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                          <span class="keywordtype">id</span>.str(), vid );</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            }</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;[<a class="code" href="classstring__id.html">skill_id</a>, skill_level] : <a class="code" href="classvpart__info.html#a9349b8416f91bb3029e9a8c9991d0a4a">install_skills</a> ) {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classstring__id.html">skill_id</a>.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has unknown install skill %s&quot;</span>, <span class="keywordtype">id</span>.str(), <a class="code" href="classstring__id.html">skill_id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    }</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;[<a class="code" href="classstring__id.html">skill_id</a>, skill_level] : <a class="code" href="classvpart__info.html#a269038d27c228c2175b1504c57b45ef9">removal_skills</a> ) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classstring__id.html">skill_id</a>.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has unknown removal skill %s&quot;</span>, <span class="keywordtype">id</span>.str(), <a class="code" href="classstring__id.html">skill_id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        }</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    }</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160; </div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;[<a class="code" href="classstring__id.html">skill_id</a>, skill_level] : <a class="code" href="classvpart__info.html#ab727d12368bb71387cd8a2f5ab80d7eb">repair_skills</a> ) {</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classstring__id.html">skill_id</a>.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has unknown repair skill %s&quot;</span>, <span class="keywordtype">id</span>.str(), <a class="code" href="classstring__id.html">skill_id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        }</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;[req_id, req_amount] : <a class="code" href="classvpart__info.html#aed8e3196af84c749386daa97c42807eb">install_reqs</a> ) {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">if</span>( !req_id.is_valid() || req_amount &lt;= 0 ) {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has unknown or incorrectly specified install requirements %s&quot;</span>,</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                      <span class="keywordtype">id</span>.str(), req_id.str() );</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        }</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    }</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;[req_id, req_amount] : <a class="code" href="classvpart__info.html#a039157d3a00d16e4099c62982580bdde">removal_reqs</a> ) {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <span class="keywordflow">if</span>( !( req_id.is_null() || req_id.is_valid() ) || req_amount &lt; 0 ) {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has unknown or incorrectly specified removal requirements %s&quot;</span>,</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                      <span class="keywordtype">id</span>.str(), req_id.str() );</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        }</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;[req_id, req_amount] : <a class="code" href="classvpart__info.html#abf8b9962f6a0b0b339f2ccbaf5aa1186">repair_reqs</a> ) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        <span class="keywordflow">if</span>( !( req_id.is_null() || req_id.is_valid() ) || req_amount &lt; 0 ) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has unknown or incorrectly specified repair requirements %s&quot;</span>,</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                      <span class="keywordtype">id</span>.str(), req_id.str() );</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#af025e93f25325ddebaeb802d7dcbd64a">install_moves</a> &lt; 0_seconds ) {</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has negative installation time&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    }</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#af7551b510661af4b9a2b24511f946a57">removal_moves</a> &lt; 0_seconds ) {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has negative removal time&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160; </div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="namespaceitem__group.html#ace8eee5043438ba9d8b87448020c65dc">item_group::group_is_defined</a>( <a class="code" href="classvpart__info.html#a2231bffb67ba197eef2055f3f182c75c">breaks_into_group</a> ) ) {</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Vehicle part %s breaks into non-existent item group %s.&quot;</span>,</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                  <span class="keywordtype">id</span>.str(), <a class="code" href="classvpart__info.html#a2231bffb67ba197eef2055f3f182c75c">breaks_into_group</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    }</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;flag : <a class="code" href="classvpart__info.html#aa05e0a57a325aa3f780b480130bfc5db">get_flags</a>() ) {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classjson__flag.html#ad60cc8cafad9e89dfbab36fd8dbd0eda">json_flag::get</a>( flag ) ) {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has unknown flag %s&quot;</span>, <span class="keywordtype">id</span>.str(), flag );</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        }</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aeb9e00627b8cb80d28fb1419e7f0928a">durability</a> &lt;= 0 ) {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has zero or negative durability&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    }</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a010d7002072c22b1029fdbfbf310cedc">dmg_mod</a> &lt; 0 ) {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has negative damage modifier&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a2b7584e0ad10a1922caee915600e0381">folded_volume</a> &amp;&amp; <a class="code" href="classvpart__info.html#a2b7584e0ad10a1922caee915600e0381">folded_volume</a>.value() &lt;= 0_ml ) {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has folding part with zero or negative folded volume&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classvpart__info.html#a53bd66709b2938d65d9dc3ac6224d244">default_ammo</a>.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has undefined default ammo %s&quot;</span>, <span class="keywordtype">id</span>.str(), <a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    }</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aee4afe2c309516d6b91ff384fab6f2b2">size</a> != 0_ml ) {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aee4afe2c309516d6b91ff384fab6f2b2">size</a> &lt; 0_ml ) {</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has negative size&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        }</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;CARGO&quot;</span> ) ) {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s is not CARGO and cannot define size&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;FLUIDTANK&quot;</span> ) ) {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s is FLUIDTANK and cannot define size; it&#39;s defined on part&#39;s base item&quot;</span>,</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                      <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    }</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;CARGO&quot;</span> ) &amp;&amp; <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;FLUIDTANK&quot;</span> ) ) {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s can&#39;t have both CARGO and FLUIDTANK flags at the same time&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classitem.html#a4c54ded219374a2f5f80e8eee192dcdf">item::type_is_defined</a>( <a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a> ) ) {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s uses undefined item %s&quot;</span>, <span class="keywordtype">id</span>.str(), <a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    }</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;TURRET&quot;</span> ) &amp;&amp; !<a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a>-&gt;<a class="code" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a> ) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has the TURRET flag, but is not made from a gun item&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    }</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">emit_id</a> &amp;e : <a class="code" href="classvpart__info.html#a0a1a6d9b604649440a41ba6b8b4188db">emissions</a> ) {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <span class="keywordflow">if</span>( !e.is_valid() ) {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has invalid emission %s was set&quot;</span>, <span class="keywordtype">id</span>.str(), e.str() );</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        }</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    }</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">emit_id</a> &amp;e : <a class="code" href="classvpart__info.html#ae5625d93813a2c1c9c1d3794e1ff2c6a">exhaust</a> ) {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <span class="keywordflow">if</span>( !e.is_valid() ) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has invalid exhaust %s was set&quot;</span>, <span class="keywordtype">id</span>.str(), e.str() );</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;WHEEL&quot;</span> ) &amp;&amp; !<a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a>-&gt;<a class="code" href="structitype.html#a5c286a821362f883c93b7d984ecae163">wheel</a> ) {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has the WHEEL flag, but base item %s is not a wheel.  &quot;</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                  <span class="stringliteral">&quot;THIS WILL CRASH!&quot;</span>, <span class="keywordtype">id</span>.str(), <a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;WHEEL&quot;</span> ) &amp;&amp; !<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;UNSTABLE_WHEEL&quot;</span> ) &amp;&amp; !<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;STABLE&quot;</span> ) ) {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Wheel &#39;%s&#39; lacks either &#39;UNSTABLE_WHEEL&#39; or &#39;STABLE&#39; flag.&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    }</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160; </div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;UNSTABLE_WHEEL&quot;</span> ) &amp;&amp; <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;STABLE&quot;</span> ) ) {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Wheel &#39;%s&#39; cannot be both an &#39;UNSTABLE_WHEEL&#39; and &#39;STABLE&#39;.&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    }</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;[qual_id, qual_level] : <a class="code" href="classvpart__info.html#a28f07d097a4507fe70ad257f7b4271ec">qualities</a> ) {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <span class="keywordflow">if</span>( !qual_id.is_valid() ) {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle part %s has undefined tool quality %s&quot;</span>, <span class="keywordtype">id</span>.str(), qual_id.str() );</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        }</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    }</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea592e82f2e1fa297f50f3dd6338c2e5a0">VPFLAG_ENABLED_DRAINS_EPOWER</a> ) &amp;&amp; <a class="code" href="classvpart__info.html#a9e1425acfdd3616655ebfcf3f1c0215f">epower</a> == 0_W ) {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;%s is set to drain epower, but has epower == 0&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    }</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea29303a852c248ddb989e3ea9b8e95354">VPFLAG_ENGINE</a> ) ) {</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a2def774679ed462df2105a07c9e5d419">power</a> != 0_W &amp;&amp; <a class="code" href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">fuel_type</a> == <a class="code" href="veh__type_8cpp.html#a944ba9be1d911a61e9ca62af989355fd">fuel_type_animal</a> ) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;engine part &#39;%s&#39; powered by &#39;%s&#39; can&#39;t define non-zero &#39;power&#39;&quot;</span>,</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                      <span class="keywordtype">id</span>.str(), <a class="code" href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">fuel_type</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a2def774679ed462df2105a07c9e5d419">power</a> == 0_W &amp;&amp; <a class="code" href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">fuel_type</a> != <a class="code" href="veh__type_8cpp.html#a944ba9be1d911a61e9ca62af989355fd">fuel_type_animal</a> ) {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;engine part &#39;%s&#39; powered by &#39;%s&#39; must define non zero &#39;power&#39;&quot;</span>,</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                      <span class="keywordtype">id</span>.str(), <a class="code" href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">fuel_type</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        }</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    }</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="comment">// Parts with non-zero epower must have a flag that affects epower usage</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;std::string&gt; handled = {{</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            <span class="stringliteral">&quot;ENABLED_DRAINS_EPOWER&quot;</span>, <span class="stringliteral">&quot;SECURITY&quot;</span>, <span class="stringliteral">&quot;ENGINE&quot;</span>,</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            <span class="stringliteral">&quot;ALTERNATOR&quot;</span>, <span class="stringliteral">&quot;SOLAR_PANEL&quot;</span>, <span class="stringliteral">&quot;POWER_TRANSFER&quot;</span>,</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;            <span class="stringliteral">&quot;REACTOR&quot;</span>, <span class="stringliteral">&quot;WIND_TURBINE&quot;</span>, <span class="stringliteral">&quot;WATER_WHEEL&quot;</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    };</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a9e1425acfdd3616655ebfcf3f1c0215f">epower</a> != 0_W &amp;&amp;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    std::none_of( handled.begin(), handled.end(), [<span class="keyword">this</span>]( <span class="keyword">const</span> std::string &amp; flag ) {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    return has_flag( flag );</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    } ) ) {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <span class="keyword">const</span> std::string warnings_are_good_docs = <a class="code" href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a>( handled );</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;%s has non-zero epower, but lacks a flag that would make it affect epower (one of %s)&quot;</span>,</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                  <span class="keywordtype">id</span>.str(), warnings_are_good_docs );</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a>-&gt;<a class="code" href="structitype.html#aa93ea10e5a9052713479ac2f21dfa3c0">pockets</a>.size() &gt; 4 ) {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Error: vehicle parts assume only one pocket.  Multiple pockets unsupported&quot;</span> );</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;dt : <a class="code" href="classvpart__info.html#a097474bbc0b960cdca3d0d61072ca044">damage_reduction</a> ) {</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <span class="keywordflow">if</span>( !dt.first.is_valid() ) {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid damage_reduction type \&quot;%s\&quot; for vehicle part %s&quot;</span>, dt.first.c_str(),</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                      <span class="keywordtype">id</span>.c_str() );</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        }</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    }</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;}</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160; </div>
<div class="line"><a name="l00955"></a><span class="lineno"><a class="line" href="namespacevehicles_1_1parts.html#ae5c6b1fe21895be06a931c278d4805ed">  955</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacevehicles_1_1parts.html#ae5c6b1fe21895be06a931c278d4805ed">vehicles::parts::reset</a>()</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;{</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#abab9753b5f4726286941bc0873ccff2a">vpart_info_factory</a>.reset();</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;}</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno"><a class="line" href="namespacevehicles_1_1parts.html#a1760b563889a67b60d887f2cd6331846">  960</a></span>&#160;<span class="keyword">const</span> std::vector&lt;vpart_info&gt; &amp;<a class="code" href="namespacevehicles_1_1parts.html#a1760b563889a67b60d887f2cd6331846">vehicles::parts::get_all</a>()</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;{</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#abab9753b5f4726286941bc0873ccff2a">vpart_info_factory</a>.get_all();</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;}</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160; </div>
<div class="line"><a name="l00965"></a><span class="lineno"><a class="line" href="classvpart__info.html#adfe04850347ddec99a639e19d432f9c8">  965</a></span>&#160;std::string <a class="code" href="classvpart__info.html#adfe04850347ddec99a639e19d432f9c8">vpart_info::name</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    std::string res = <a class="code" href="classvpart__info.html#a51a8b41076c1f0eeb51f1ac620aa9791">name_</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordflow">if</span>( res.empty() ) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        res = <a class="code" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( <a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a> ); <span class="comment">// fallback to base item&#39;s translation</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;TURRET&quot;</span> ) ) {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        res = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;mounted turret prefix&quot;</span>, <span class="stringliteral">&quot;mounted %s&quot;</span> ), res );</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;}</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno"><a class="line" href="classvpart__info.html#aedacbd352267de4aef1ca01183956df8">  977</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classvpart__info.html#aedacbd352267de4aef1ca01183956df8">vpart_info::format_description</a>( std::string &amp;msg, <span class="keyword">const</span> <a class="code" href="classnc__color.html">nc_color</a> &amp;format_color,</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                                    <span class="keywordtype">int</span> width )<span class="keyword"> const</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keywordtype">int</span> lines = 1;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    msg += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_white&gt;Description&lt;/color&gt;\n&quot;</span> );</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    msg += <span class="stringliteral">&quot;&gt; &lt;color_&quot;</span> + <a class="code" href="color_8cpp.html#a24e6e535a2054805b8c1ab0786e50e66">string_from_color</a>( format_color ) + <span class="stringliteral">&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160; </div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    std::string long_descrip;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="comment">// handle appending text and double-whitespace</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> append_desc = [&amp;long_descrip]( <span class="keyword">const</span> std::string &amp; text ) {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <span class="keywordflow">if</span>( text.empty() ) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        }</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="keywordflow">if</span>( !long_descrip.empty() ) {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            long_descrip += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;  &quot;</span> );</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        }</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        long_descrip += text;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    };</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    append_desc( <a class="code" href="classvpart__info.html#ad0278120f4f08344894231a8d49205ec">description</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>() );</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;flagid : <a class="code" href="classvpart__info.html#a0f73b11eb661c4b3401782c895404251">flags</a> ) {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="keywordflow">if</span>( flagid == <span class="stringliteral">&quot;ALARMCLOCK&quot;</span> || flagid == <span class="stringliteral">&quot;WATCH&quot;</span> ) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( flagid == <span class="stringliteral">&quot;ENABLED_DRAINS_EPOWER&quot;</span> ||</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                   flagid == <span class="stringliteral">&quot;ENGINE&quot;</span> ) { <span class="comment">// ENGINEs get the same description</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#a9e1425acfdd3616655ebfcf3f1c0215f">epower</a> &lt; 0_W ) {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                append_desc( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="classjson__flag.html#ad60cc8cafad9e89dfbab36fd8dbd0eda">json_flag::get</a>( <span class="stringliteral">&quot;ENABLED_DRAINS_EPOWER&quot;</span> ).info(),</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                                            -<a class="code" href="namespaceunits.html#a76c965afaad76c83c6caa338d1eb6777">units::to_watt</a>( <a class="code" href="classvpart__info.html#a9e1425acfdd3616655ebfcf3f1c0215f">epower</a> ) ) );</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( flagid == <span class="stringliteral">&quot;ALTERNATOR&quot;</span> ||</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                   flagid == <span class="stringliteral">&quot;SOLAR_PANEL&quot;</span> ||</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                   flagid == <span class="stringliteral">&quot;WATER_WHEEL&quot;</span> ||</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                   flagid == <span class="stringliteral">&quot;WIND_TURBINE&quot;</span> ) {</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            append_desc( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="classjson__flag.html#ad60cc8cafad9e89dfbab36fd8dbd0eda">json_flag::get</a>( flagid ).info(), <a class="code" href="namespaceunits.html#a76c965afaad76c83c6caa338d1eb6777">units::to_watt</a>( <a class="code" href="classvpart__info.html#a9e1425acfdd3616655ebfcf3f1c0215f">epower</a> ) ) );</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            append_desc( <a class="code" href="classjson__flag.html#ad60cc8cafad9e89dfbab36fd8dbd0eda">json_flag::get</a>( flagid ).info() );</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        }</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    }</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;TURRET&quot;</span> ) ) {</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        class::item base( <a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a> );</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordflow">if</span>( base.ammo_required() &amp;&amp; !base.ammo_remaining() ) {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            <a class="code" href="classstring__id.html">itype_id</a> <a class="code" href="classvpart__info.html#a53bd66709b2938d65d9dc3ac6224d244">default_ammo</a> = base.magazine_current() ? base.common_ammo_default() : base.ammo_default();</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classvpart__info.html#a53bd66709b2938d65d9dc3ac6224d244">default_ammo</a>.<a class="code" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                base.ammo_set( <a class="code" href="classvpart__info.html#a53bd66709b2938d65d9dc3ac6224d244">default_ammo</a> );</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !base.magazine_default().is_null() ) {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                class::item tmp_mag( base.magazine_default() );</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                tmp_mag.ammo_set( tmp_mag.ammo_default() );</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                base.put_in( tmp_mag, <a class="code" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1ab27af2204ca1397f7eda1c0421f4fcfc">pocket_type::MAGAZINE_WELL</a> );</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        long_descrip += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;\nRange: %1$5d     Damage: %2$5.0f&quot;</span> ),</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                                       base.gun_range( <span class="keyword">true</span> ),</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                                       base.gun_damage().total_damage() );</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    }</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160; </div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classvpart__info.html#a092286f8dfa6c5c57b5c8244ffe37c41">get_pseudo_tools</a>().empty() ) {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        append_desc( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;\n%s&lt;color_cyan&gt;%s&lt;/color&gt;&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Provides: &quot;</span> ),</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <a class="code" href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a>( <a class="code" href="classvpart__info.html#a092286f8dfa6c5c57b5c8244ffe37c41">get_pseudo_tools</a>(), []( <span class="keyword">const</span> std::pair&lt;itype_id, int&gt; &amp;p ) {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            <span class="keywordflow">return</span> p.first.obj().nname( 1 );</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        } ) ) );</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    }</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160; </div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvpart__info.html#abc2abb40bda9593afb1bbb2e897261d0">toolkit_info</a> &amp;&amp; !<a class="code" href="classvpart__info.html#abc2abb40bda9593afb1bbb2e897261d0">toolkit_info</a>-&gt;allowed_types.empty() ) {</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        append_desc( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;\n%s&lt;color_cyan&gt;%s&lt;/color&gt;&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Allows connecting: &quot;</span> ),</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        <a class="code" href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a>( <a class="code" href="classvpart__info.html#abc2abb40bda9593afb1bbb2e897261d0">toolkit_info</a>-&gt;allowed_types, []( <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> &amp; it ) {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            return it-&gt;nname( 1 );</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        } ) ) );</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordflow">if</span>( !long_descrip.empty() ) {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> wrap_descrip = <a class="code" href="output_8cpp.html#aea67d56cef07017be061e1ceefee80df">foldstring</a>( long_descrip, width );</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        msg += wrap_descrip[0];</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 1; i &lt; wrap_descrip.size(); i++ ) {</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            msg += <span class="stringliteral">&quot;\n  &quot;</span> + wrap_descrip[i];</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        msg += <span class="stringliteral">&quot;&lt;/color&gt;\n&quot;</span>;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        lines += wrap_descrip.size();</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    }</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160; </div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="comment">// borrowed from item.cpp and adjusted</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;qual : <a class="code" href="classvpart__info.html#a28f07d097a4507fe70ad257f7b4271ec">qualities</a> ) {</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        msg += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                   <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Has level &lt;color_cyan&gt;%1$d %2$s&lt;/color&gt; quality&quot;</span> ), qual.second, qual.first.obj().name );</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        <span class="keywordflow">if</span>( qual.first == <a class="code" href="veh__type_8cpp.html#a3648d0ee246d4a66df0dcd8f2be595e8">qual_JACK</a> || qual.first == <a class="code" href="veh__type_8cpp.html#a5ffeadef52daa921bcfd6024526f8feb">qual_LIFT</a> ) {</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            msg += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; and is rated at &lt;color_cyan&gt;%1$d %2$s&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                                  <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a>( <a class="code" href="item_8h.html#a6f5cb4c44e3212e41e7736890eacbbba">lifting_quality_to_mass</a>( qual.second ) ) ),</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                                  <a class="code" href="units__utility_8cpp.html#adb77a71aaad9051e5936082915961b2f">weight_units</a>() );</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        msg += <span class="stringliteral">&quot;.\n&quot;</span>;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        lines += 1;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">return</span> lines;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;}</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"><a class="line" href="classvpart__info.html#aace91a24e6194a874cb468bb237368ea"> 1072</a></span>&#160;<a class="code" href="structrequirement__data.html">requirement_data</a> <a class="code" href="classvpart__info.html#aace91a24e6194a874cb468bb237368ea">vpart_info::install_requirements</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structrequirement__data.html">requirement_data</a>( <a class="code" href="classvpart__info.html#aed8e3196af84c749386daa97c42807eb">install_reqs</a> );</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;}</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"><a class="line" href="classvpart__info.html#a80c8ca1cb460e5dc98ac2ea75aaf83b9"> 1077</a></span>&#160;<a class="code" href="structrequirement__data.html">requirement_data</a> <a class="code" href="classvpart__info.html#a80c8ca1cb460e5dc98ac2ea75aaf83b9">vpart_info::removal_requirements</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structrequirement__data.html">requirement_data</a>( <a class="code" href="classvpart__info.html#a039157d3a00d16e4099c62982580bdde">removal_reqs</a> );</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;}</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160; </div>
<div class="line"><a name="l01082"></a><span class="lineno"><a class="line" href="classvpart__info.html#a7fad5e6f56eb6732f210c234199fca07"> 1082</a></span>&#160;<a class="code" href="structrequirement__data.html">requirement_data</a> <a class="code" href="classvpart__info.html#a7fad5e6f56eb6732f210c234199fca07">vpart_info::repair_requirements</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structrequirement__data.html">requirement_data</a>( <a class="code" href="classvpart__info.html#abf8b9962f6a0b0b339f2ccbaf5aa1186">repair_reqs</a> );</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;}</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"><a class="line" href="classvpart__info.html#a101954a8e6972f98d28b810ab71eea8c"> 1087</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classvpart__info.html#a101954a8e6972f98d28b810ab71eea8c">vpart_info::is_repairable</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;NO_REPAIR&quot;</span> ) &amp;&amp; !<a class="code" href="classvpart__info.html#a7fad5e6f56eb6732f210c234199fca07">repair_requirements</a>().<a class="code" href="structrequirement__data.html#a7acde751aa71fb09c3272929afae503f">is_empty</a>();</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;}</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#ad55645be26c040659acbd41900e8fb49"> 1092</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classtime__duration.html">time_duration</a> <a class="code" href="veh__type_8cpp.html#ad55645be26c040659acbd41900e8fb49">scale_time</a>( <span class="keyword">const</span> std::map&lt;skill_id, int&gt; &amp;sk, <a class="code" href="classtime__duration.html">time_duration</a> mv,</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> &amp;you )</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;{</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="keywordflow">if</span>( sk.empty() ) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <span class="keywordflow">return</span> mv;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    }</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160; </div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> lvl = std::accumulate( sk.begin(), sk.end(), 0, [&amp;you]( <span class="keywordtype">int</span> lhs,</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keyword">const</span> std::pair&lt;skill_id, int&gt; &amp;rhs ) {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        return lhs + std::max( std::min( static_cast&lt;int&gt;( you.get_skill_level( rhs.first ) ),</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                                         MAX_SKILL ) - rhs.second, 0 );</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    } );</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="comment">// 10% per excess level (reduced proportionally if &gt;1 skill required) with max 50% reduction</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="comment">// 10% reduction per assisting Character</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> helpersize = you.<a class="code" href="classCharacter.html#a080121ea19d921b4045567a96a32e149">get_num_crafting_helpers</a>( 3 );</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordflow">return</span> mv * ( 1.0 - <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( lvl ) / sk.size() / 10.0,</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                                  0.5 ) ) * ( 1 - ( helpersize / 10.0 ) );</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;}</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160; </div>
<div class="line"><a name="l01111"></a><span class="lineno"><a class="line" href="classvpart__info.html#a26d45b54a7e13b4dcde1ae937bbdb604"> 1111</a></span>&#160;<a class="code" href="classtime__duration.html">time_duration</a> <a class="code" href="classvpart__info.html#a26d45b54a7e13b4dcde1ae937bbdb604">vpart_info::install_time</a>( <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> &amp;you )<span class="keyword"> const</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="veh__type_8cpp.html#ad55645be26c040659acbd41900e8fb49">scale_time</a>( <a class="code" href="classvpart__info.html#a9349b8416f91bb3029e9a8c9991d0a4a">install_skills</a>, <a class="code" href="classvpart__info.html#af025e93f25325ddebaeb802d7dcbd64a">install_moves</a>, you );</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;}</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160; </div>
<div class="line"><a name="l01116"></a><span class="lineno"><a class="line" href="classvpart__info.html#adb605c37759929cf83dd75a78edc8c76"> 1116</a></span>&#160;<a class="code" href="classtime__duration.html">time_duration</a> <a class="code" href="classvpart__info.html#adb605c37759929cf83dd75a78edc8c76">vpart_info::removal_time</a>( <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> &amp;you )<span class="keyword"> const</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="veh__type_8cpp.html#ad55645be26c040659acbd41900e8fb49">scale_time</a>( <a class="code" href="classvpart__info.html#a269038d27c228c2175b1504c57b45ef9">removal_skills</a>, <a class="code" href="classvpart__info.html#af7551b510661af4b9a2b24511f946a57">removal_moves</a>, you );</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;}</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160; </div>
<div class="line"><a name="l01121"></a><span class="lineno"><a class="line" href="classvpart__info.html#a5b6955086e93f7b7939d4de0ed40f4d0"> 1121</a></span>&#160;<a class="code" href="classtime__duration.html">time_duration</a> <a class="code" href="classvpart__info.html#a5b6955086e93f7b7939d4de0ed40f4d0">vpart_info::repair_time</a>( <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> &amp;you )<span class="keyword"> const</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="veh__type_8cpp.html#ad55645be26c040659acbd41900e8fb49">scale_time</a>( <a class="code" href="classvpart__info.html#ab727d12368bb71387cd8a2f5ab80d7eb">repair_skills</a>, <a class="code" href="classvpart__info.html#a6ee4e71769c619a8840aab93fc8a08f7">repair_moves</a>, you );</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;}</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160; </div>
<div class="line"><a name="l01126"></a><span class="lineno"><a class="line" href="classvpart__info.html#a98cb7aca1e579b146594fdba80f82ab6"> 1126</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classvpart__info.html#a98cb7aca1e579b146594fdba80f82ab6">vpart_info::has_category</a>( <span class="keyword">const</span> std::string &amp;<a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a01bb93e9b73c4fc64afc80ffde115c0a">category</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classvpart__info.html#a4bbbf5f33c61201331632476969aab18">categories</a>.find( category ) != this-&gt;<a class="code" href="classvpart__info.html#a4bbbf5f33c61201331632476969aab18">categories</a>.end();</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;}</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160; </div>
<div class="line"><a name="l01131"></a><span class="lineno"><a class="line" href="classvpart__info.html#a092286f8dfa6c5c57b5c8244ffe37c41"> 1131</a></span>&#160;std::set&lt;std::pair&lt;itype_id, int&gt;&gt; <a class="code" href="classvpart__info.html#a092286f8dfa6c5c57b5c8244ffe37c41">vpart_info::get_pseudo_tools</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classvpart__info.html#aa0b0d9ec034a8fd8ec95a209cb251d16">pseudo_tools</a>;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;}</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160; </div>
<div class="line"><a name="l01136"></a><span class="lineno"><a class="line" href="classvpart__info.html#abc8ed0753a4ee7b96d2ee40642a0a58a"> 1136</a></span>&#160;std::vector&lt;itype_id&gt; <a class="code" href="classvpart__info.html#abc8ed0753a4ee7b96d2ee40642a0a58a">vpart_info::get_folding_tools</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classvpart__info.html#adb6f70ec2e281bbcbf33228dce06a19f">folding_tools</a>;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;}</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"><a class="line" href="classvpart__info.html#a45db83a321e33c60a441a2e40df230cb"> 1141</a></span>&#160;std::vector&lt;itype_id&gt; <a class="code" href="classvpart__info.html#a45db83a321e33c60a441a2e40df230cb">vpart_info::get_unfolding_tools</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classvpart__info.html#a729a317baf64f9109b5bed11f32b9530">unfolding_tools</a>;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;}</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160; </div>
<div class="line"><a name="l01146"></a><span class="lineno"><a class="line" href="classvpart__info.html#ab56d6d3b1038e6346d0f5f26b46f6364"> 1146</a></span>&#160;<a class="code" href="classtime__duration.html">time_duration</a> <a class="code" href="classvpart__info.html#ab56d6d3b1038e6346d0f5f26b46f6364">vpart_info::get_folding_time</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classvpart__info.html#a2055191c93098bb6c9e2287ade377293">folding_time</a>;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;}</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"><a class="line" href="classvpart__info.html#aa2ed979e48face27b7038e5ad81a5ced"> 1151</a></span>&#160;<a class="code" href="classtime__duration.html">time_duration</a> <a class="code" href="classvpart__info.html#aa2ed979e48face27b7038e5ad81a5ced">vpart_info::get_unfolding_time</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classvpart__info.html#a5e8e258c4d902ff213c2aa87b73c4120">unfolding_time</a>;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;}</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"><a class="line" href="classvpart__info.html#a3689e9da789ddf709bb61b6174d333aa"> 1156</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classvpart__info.html#a3689e9da789ddf709bb61b6174d333aa">vpart_info::has_control_req</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="classvpart__info.html#acc51c37934c35e5ede0f97c314b7d537">control_air</a>.<a class="code" href="structvp__control__req.html#a90f197ecb1613ba8dca9b73df4226291">proficiencies</a>.empty() || !<a class="code" href="classvpart__info.html#acc51c37934c35e5ede0f97c314b7d537">control_air</a>.<a class="code" href="structvp__control__req.html#aab326426a39a24cf7e1d3861f36c2c01">skills</a>.empty() ||</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;           !<a class="code" href="classvpart__info.html#a4be0b8858597bcda2fb5b3799083c017">control_land</a>.<a class="code" href="structvp__control__req.html#a90f197ecb1613ba8dca9b73df4226291">proficiencies</a>.empty() || !<a class="code" href="classvpart__info.html#a4be0b8858597bcda2fb5b3799083c017">control_land</a>.<a class="code" href="structvp__control__req.html#aab326426a39a24cf7e1d3861f36c2c01">skills</a>.empty();</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;}</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01162"></a><span class="lineno"><a class="line" href="classvpart__variant.html#a904b8c30894920ab888f2a697e8bc100"> 1162</a></span>&#160;std::string <a class="code" href="classvpart__variant.html#a904b8c30894920ab888f2a697e8bc100">vpart_variant::get_label</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;vpart_variants&quot;</span>, <a class="code" href="classvpart__variant.html#aa9b1a7055bc57aebcf89de5032fe784b">label_</a> ).<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;}</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160; </div>
<div class="line"><a name="l01167"></a><span class="lineno"><a class="line" href="classvpart__variant.html#a656db7a4f9ec0e9a65fab1c2e8f1854d"> 1167</a></span>&#160;char32_t <a class="code" href="classvpart__variant.html#a656db7a4f9ec0e9a65fab1c2e8f1854d">vpart_variant::get_symbol</a>( <a class="code" href="classunits_1_1quantity.html">units::angle</a> <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a>, <span class="keywordtype">bool</span> is_broken )<span class="keyword"> const</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> dir8 = <a class="code" href="units__utility_8cpp.html#a0a61a355e2920cb9da260573e5b737b2">angle_to_dir8</a>( <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a> );</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="keywordflow">return</span> is_broken ? <a class="code" href="classvpart__variant.html#a3aab24453e3428bfa30764193606d493">symbols_broken</a>[dir8] : <a class="code" href="classvpart__variant.html#a03cc3476d76fdd3802bcd9cebff1c59f">symbols</a>[dir8];</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;}</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160; </div>
<div class="line"><a name="l01173"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#a773dd1a96a2a519458b4efc3089a7447"> 1173</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="veh__type_8cpp.html#a773dd1a96a2a519458b4efc3089a7447">utf32_to_ncurses_ACS</a>( char32_t sym )</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;{</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="keywordflow">switch</span>( sym ) {</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        <span class="comment">// *INDENT-OFF*</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        <span class="keywordflow">case</span> 0x2500: <span class="keywordflow">return</span> <a class="code" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a>; <span class="comment">// horizontal line</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        <span class="keywordflow">case</span> 0x2501: <span class="keywordflow">return</span> <span class="charliteral">&#39;=&#39;</span>;       <span class="comment">// horizontal line (heavy) no acs equivalent</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        <span class="keywordflow">case</span> 0x2502: <span class="keywordflow">return</span> <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a>; <span class="comment">// vertical line</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        <span class="keywordflow">case</span> 0x2503: <span class="keywordflow">return</span> <span class="charliteral">&#39;H&#39;</span>;       <span class="comment">// vertical line (heavy) no acs equivalent</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <span class="keywordflow">case</span> 0x253C: <span class="keywordflow">return</span> <a class="code" href="output_8h.html#af951bd858b538b7c2a10ae7ffd97b848">LINE_XXXX</a>; <span class="comment">// cross/plus</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <span class="keywordflow">case</span> 0x250C: <span class="keywordflow">return</span> <a class="code" href="output_8h.html#a6405dcdb708433c3c3dde836aa8a15cc">LINE_OXXO</a>; <span class="comment">// upper left corner</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <span class="keywordflow">case</span> 0x2510: <span class="keywordflow">return</span> <a class="code" href="output_8h.html#a479e8a9ad84c68ed5f8609d4b536a8bb">LINE_OOXX</a>; <span class="comment">// upper right corner</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <span class="keywordflow">case</span> 0x2518: <span class="keywordflow">return</span> <a class="code" href="output_8h.html#ad3a54f998264087befce6de30cb787b0">LINE_XOOX</a>; <span class="comment">// lower right corner</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        <span class="keywordflow">case</span> 0x2514: <span class="keywordflow">return</span> <a class="code" href="output_8h.html#af6d239f277e1b763f690b94efa469792">LINE_XXOO</a>; <span class="comment">// lower left corner</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        <span class="keywordflow">default</span>:     <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(sym);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        <span class="comment">// *INDENT-ON*</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    }</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;}</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160; </div>
<div class="line"><a name="l01191"></a><span class="lineno"><a class="line" href="classvpart__variant.html#a20202dc1a49cd7bac2d070c619c41152"> 1191</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classvpart__variant.html#a20202dc1a49cd7bac2d070c619c41152">vpart_variant::get_symbol_curses</a>( <a class="code" href="classunits_1_1quantity.html">units::angle</a> <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a>, <span class="keywordtype">bool</span> is_broken )<span class="keyword"> const</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classvpart__variant.html#a20202dc1a49cd7bac2d070c619c41152">get_symbol_curses</a>( <a class="code" href="classvpart__variant.html#a656db7a4f9ec0e9a65fab1c2e8f1854d">get_symbol</a>( <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a>, is_broken ) );</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;}</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160; </div>
<div class="line"><a name="l01196"></a><span class="lineno"><a class="line" href="classvpart__variant.html#a830a1c4f8ae76e66d344838c4bf271f5"> 1196</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classvpart__variant.html#a20202dc1a49cd7bac2d070c619c41152">vpart_variant::get_symbol_curses</a>( char32_t sym )</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;{</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="veh__type_8cpp.html#a773dd1a96a2a519458b4efc3089a7447">utf32_to_ncurses_ACS</a>( sym );</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;}</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160; </div>
<div class="line"><a name="l01201"></a><span class="lineno"><a class="line" href="classvpart__variant.html#ad8d239ea7423caa52b57ebf5795f3207"> 1201</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvpart__variant.html#ad8d239ea7423caa52b57ebf5795f3207">vpart_variant::load</a>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keywordtype">bool</span> was_loaded )</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;{</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, was_loaded, <span class="stringliteral">&quot;id&quot;</span>, <span class="keywordtype">id</span>, <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, was_loaded, <span class="stringliteral">&quot;label&quot;</span>, <a class="code" href="classvpart__variant.html#aa9b1a7055bc57aebcf89de5032fe784b">label_</a> );</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> symbol_read = [&amp;]( std::array&lt;char32_t, 8&gt; &amp;dst, <span class="keyword">const</span> std::string &amp; <a class="code" href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3">member</a> ) {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">has_string</a>( <a class="code" href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3">member</a> ) ) {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;            <span class="keyword">const</span> std::vector&lt;std::string&gt; <a class="code" href="classvpart__variant.html#a03cc3476d76fdd3802bcd9cebff1c59f">symbols</a> = <a class="code" href="catacharset_8cpp.html#a1c179762927fbad25c747edc4fd81c67">utf8_display_split</a>( jo.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <a class="code" href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3">member</a> ) );</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classvpart__variant.html#a03cc3476d76fdd3802bcd9cebff1c59f">symbols</a>.size() == 1 ) {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                dst.fill( <a class="code" href="catacharset_8cpp.html#a2227e8c0afd74ed174cbb4daf8e46ab2">UTF8_getch</a>( jo.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <a class="code" href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3">member</a> ) ) );</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classvpart__variant.html#a03cc3476d76fdd3802bcd9cebff1c59f">symbols</a>.size() == 8 ) {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; 8; i++ ) {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                    dst[i] = <a class="code" href="catacharset_8cpp.html#a2227e8c0afd74ed174cbb4daf8e46ab2">UTF8_getch</a>( <a class="code" href="classvpart__variant.html#a03cc3476d76fdd3802bcd9cebff1c59f">symbols</a>[i] );</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                }</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                dst.fill( <span class="charliteral">&#39;?&#39;</span> );</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                jo.<a class="code" href="classJsonObject.html#a04b6ce7355b567646a587514fb811c68">throw_error_at</a>( <span class="stringliteral">&quot;symbols&quot;</span>,</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                                   <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&#39;%s&#39; must be string with 1 or 8 characters&quot;</span>, <a class="code" href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3">member</a> ) );</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;            }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;            dst.fill( <span class="charliteral">&#39;?&#39;</span> );</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;            jo.<a class="code" href="classJsonObject.html#af3e3ae76afc340c1fa3510acaaba57b8">throw_error</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&#39;%s&#39; is missing&quot;</span>, <a class="code" href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3">member</a> ) );</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        }</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    };</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    symbol_read( <a class="code" href="classvpart__variant.html#a03cc3476d76fdd3802bcd9cebff1c59f">symbols</a>, <span class="stringliteral">&quot;symbols&quot;</span> );</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    symbol_read( <a class="code" href="classvpart__variant.html#a3aab24453e3428bfa30764193606d493">symbols_broken</a>, <span class="stringliteral">&quot;symbols_broken&quot;</span> );</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;}</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="comment">/** @relates string_id */</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;<span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="keyword">const</span> <a class="code" href="structvehicle__prototype.html">vehicle_prototype</a> &amp;<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id&lt;vehicle_prototype&gt;::obj</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#a80347cfcca97b5692066f2cd32787250">vehicle_prototype_factory</a>.obj( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;}</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="comment">/** @relates string_id */</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id&lt;vehicle_prototype&gt;::is_valid</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#a80347cfcca97b5692066f2cd32787250">vehicle_prototype_factory</a>.is_valid( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;}</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160; </div>
<div class="line"><a name="l01243"></a><span class="lineno"><a class="line" href="namespacevehicles.html#acf66170c7c79456a3bf12c440161e333"> 1243</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacevehicles.html#acf66170c7c79456a3bf12c440161e333">vehicles::load_prototype</a>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;{</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#a80347cfcca97b5692066f2cd32787250">vehicle_prototype_factory</a>.load( jo, src );</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;}</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160; </div>
<div class="line"><a name="l01248"></a><span class="lineno"><a class="line" href="namespacevehicles.html#a92407d11e7752897e95da964353f6941"> 1248</a></span>&#160;<span class="keyword">const</span> std::vector&lt;vehicle_prototype&gt; &amp;<a class="code" href="namespacevehicles.html#a92407d11e7752897e95da964353f6941">vehicles::get_all_prototypes</a>()</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;{</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#a80347cfcca97b5692066f2cd32787250">vehicle_prototype_factory</a>.get_all();</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;}</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"><a class="line" href="namespacevehicles.html#af023417abeaaec428a4ca5b22498a784"> 1253</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacevehicles.html#af023417abeaaec428a4ca5b22498a784">vehicles::reset_prototypes</a>()</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;{</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#a80347cfcca97b5692066f2cd32787250">vehicle_prototype_factory</a>.reset();</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;}</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160; </div>
<div class="line"><a name="l01258"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#a09de6e264ba80cc3e06fc0db4e1170cc"> 1258</a></span>&#160;<span class="keyword">static</span> std::pair&lt;std::string, std::string&gt; <a class="code" href="veh__type_8cpp.html#a09de6e264ba80cc3e06fc0db4e1170cc">get_vpart_str_variant</a>( <span class="keyword">const</span> std::string &amp;vpid )</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;{</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> loc = vpid.rfind( <a class="code" href="namespacevehicles.html#a78c8b078f6e38a1e9cc70d759c8d914a">vehicles::variant_separator</a> );</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="keywordflow">return</span> loc == std::string::npos</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;           ? std::make_pair( vpid, <span class="stringliteral">&quot;&quot;</span> )</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;           : std::make_pair( vpid.substr( 0, loc ), vpid.substr( loc + 1 ) );</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;}</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160; </div>
<div class="line"><a name="l01266"></a><span class="lineno"><a class="line" href="structvehicle__prototype.html#a801357ddd48e67b53b5f6760bbd808aa"> 1266</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structvehicle__prototype.html#a801357ddd48e67b53b5f6760bbd808aa">vehicle_prototype::load</a>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp;jo, std::string_view )</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;{</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <a class="code" href="vehicle__group_8cpp.html#a7175cadefb2fee29e99b09877680be73">vgroups</a>[<a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5a5de35cb19dc191da93e109cb50b04c">vgroup_id</a>( <span class="keywordtype">id</span>.str() )].add_vehicle( <span class="keywordtype">id</span>, 100 );</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, <a class="code" href="structvehicle__prototype.html#a5003fa8b370deaded341c742483c767b">was_loaded</a>, <span class="stringliteral">&quot;name&quot;</span>, <a class="code" href="structvehicle__prototype.html#ac8e1ce6a8f926c26bccce6c1fc31bc9a">name</a> );</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160; </div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> add_part_obj = [&amp;]( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp; part, <a class="code" href="structpoint.html">point</a> <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ) {</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> [<a class="code" href="structvehicle__prototype.html#a5bf800af9c4fac7ff198a56695d3716b">id</a>, variant] = <a class="code" href="veh__type_8cpp.html#a09de6e264ba80cc3e06fc0db4e1170cc">get_vpart_str_variant</a>( part.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <span class="stringliteral">&quot;part&quot;</span> ) );</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        <a class="code" href="structvehicle__prototype_1_1part__def.html">part_def</a> pt;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">part</a> = <a class="code" href="type__id_8h.html#a01bb48ae3e1e67dbfa6a3a9679dc1b13">vpart_id</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a539128756c719979dec4015b3a824465">variant</a> = variant;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a8f07a1b22456ac3fb0de94b4b765ad47">pos</a> = <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( part, <span class="stringliteral">&quot;ammo&quot;</span>, pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a0d5439b473c2ea6908205372d85881fc">with_ammo</a>, <span class="keyword">true</span>, 0, 100 );</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( part, <span class="stringliteral">&quot;ammo_types&quot;</span>, pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a8a6536c5d19cdfd3786ab8c1b8b8fa7a">ammo_types</a>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( part, <span class="stringliteral">&quot;ammo_qty&quot;</span>, pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a2257eea41ffba5f658ee1d1a25eaa6d0">ammo_qty</a>, <span class="keyword">true</span>, 0 );</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( part, <span class="stringliteral">&quot;fuel&quot;</span>, pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#af1b6012bdcaa3f47bc8b235c7ce8bad1">fuel</a>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( part, <span class="stringliteral">&quot;tools&quot;</span>, pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a0caa1921a970d6b9b6ea0ec6219d19c2">tools</a>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160; </div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        <a class="code" href="structvehicle__prototype.html#a06a6007fba7df08c566fa470dd07385c">parts</a>.emplace_back( pt );</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    };</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160; </div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> add_part_string = [&amp;]( <span class="keyword">const</span> std::string &amp; part, <a class="code" href="structpoint.html">point</a> <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ) {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> [<a class="code" href="structvehicle__prototype.html#a5bf800af9c4fac7ff198a56695d3716b">id</a>, variant] = <a class="code" href="veh__type_8cpp.html#a09de6e264ba80cc3e06fc0db4e1170cc">get_vpart_str_variant</a>( part );</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        <a class="code" href="structvehicle__prototype_1_1part__def.html">part_def</a> pt;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">part</a> = <a class="code" href="type__id_8h.html#a01bb48ae3e1e67dbfa6a3a9679dc1b13">vpart_id</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a539128756c719979dec4015b3a824465">variant</a> = variant;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a8f07a1b22456ac3fb0de94b4b765ad47">pos</a> = <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        <a class="code" href="structvehicle__prototype.html#a06a6007fba7df08c566fa470dd07385c">parts</a>.emplace_back( pt );</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    };</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160; </div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">has_member</a>( <span class="stringliteral">&quot;blueprint&quot;</span> ) ) {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        <span class="comment">// currently unused, read to suppress unvisited members warning</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        jo.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;blueprint&quot;</span> );</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    }</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160; </div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classJsonObject.html">JsonObject</a> part : jo.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;parts&quot;</span> ) ) {</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        <a class="code" href="structpoint.html">point</a> <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( part.<a class="code" href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">get_int</a>( <span class="stringliteral">&quot;x&quot;</span> ), part.<a class="code" href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">get_int</a>( <span class="stringliteral">&quot;y&quot;</span> ) );</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160; </div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        <span class="keywordflow">if</span>( part.<a class="code" href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">has_string</a>( <span class="stringliteral">&quot;part&quot;</span> ) ) {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            add_part_obj( part, <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vehicle prototype &#39;%s&#39; uses deprecated string definition for part&quot;</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                      <span class="stringliteral">&quot; &#39;%s&#39;, use &#39;parts&#39; array instead&quot;</span>, <span class="keywordtype">id</span>.str(), part.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <span class="stringliteral">&quot;part&quot;</span> ) );</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( part.<a class="code" href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">has_array</a>( <span class="stringliteral">&quot;parts&quot;</span> ) ) {</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classJsonValue.html">JsonValue</a> entry : part.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;parts&quot;</span> ) ) {</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                <span class="keywordflow">if</span>( entry.test_string() ) {</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                    std::string part_name = entry.get_string();</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                    add_part_string( part_name, <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                    <a class="code" href="classJsonObject.html">JsonObject</a> subpart = entry.<a class="code" href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">get_object</a>();</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                    add_part_obj( subpart, <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;                }</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;            }</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        }</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    }</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160; </div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classJsonObject.html">JsonObject</a> spawn_info : jo.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;items&quot;</span> ) ) {</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        <a class="code" href="structvehicle__item__spawn.html">vehicle_item_spawn</a> next_spawn;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        next_spawn.<a class="code" href="structvehicle__item__spawn.html#ace2e058916c359fd2335a1f457ed8d46">pos</a>.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> = spawn_info.get_int( <span class="stringliteral">&quot;x&quot;</span> );</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        next_spawn.<a class="code" href="structvehicle__item__spawn.html#ace2e058916c359fd2335a1f457ed8d46">pos</a>.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> = spawn_info.get_int( <span class="stringliteral">&quot;y&quot;</span> );</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160; </div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        next_spawn.<a class="code" href="structvehicle__item__spawn.html#a336d4bf56aad051821688870f661b506">chance</a> = spawn_info.get_int( <span class="stringliteral">&quot;chance&quot;</span> );</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <span class="keywordflow">if</span>( next_spawn.<a class="code" href="structvehicle__item__spawn.html#a336d4bf56aad051821688870f661b506">chance</a> &lt;= 0 || next_spawn.<a class="code" href="structvehicle__item__spawn.html#a336d4bf56aad051821688870f661b506">chance</a> &gt; 100 ) {</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid spawn chance in %s (%d, %d): %d%%&quot;</span>,</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                      <a class="code" href="structvehicle__prototype.html#ac8e1ce6a8f926c26bccce6c1fc31bc9a">name</a>, next_spawn.<a class="code" href="structvehicle__item__spawn.html#ace2e058916c359fd2335a1f457ed8d46">pos</a>.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>, next_spawn.<a class="code" href="structvehicle__item__spawn.html#ace2e058916c359fd2335a1f457ed8d46">pos</a>.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>, next_spawn.<a class="code" href="structvehicle__item__spawn.html#a336d4bf56aad051821688870f661b506">chance</a> );</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        }</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160; </div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        <span class="comment">// constrain both with_magazine and with_ammo to [0-100]</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        next_spawn.<a class="code" href="structvehicle__item__spawn.html#a9d05e1c882e3bcbb89c8f96bd2338839">with_magazine</a> = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( spawn_info.get_int( <span class="stringliteral">&quot;magazine&quot;</span>,</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                                             next_spawn.<a class="code" href="structvehicle__item__spawn.html#a9d05e1c882e3bcbb89c8f96bd2338839">with_magazine</a> ), 100 ), 0 );</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        next_spawn.<a class="code" href="structvehicle__item__spawn.html#afffa6ba50a605281116e350596ad0c51">with_ammo</a> = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( spawn_info.get_int( <span class="stringliteral">&quot;ammo&quot;</span>,</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                                         next_spawn.<a class="code" href="structvehicle__item__spawn.html#afffa6ba50a605281116e350596ad0c51">with_ammo</a> ), 100 ), 0 );</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160; </div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <span class="keywordflow">if</span>( spawn_info.has_array( <span class="stringliteral">&quot;items&quot;</span> ) ) {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            <span class="comment">//Array of items that all spawn together (i.e. jack+tire)</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            spawn_info.read( <span class="stringliteral">&quot;items&quot;</span>, next_spawn.<a class="code" href="structvehicle__item__spawn.html#a8c77ce90bc86a9689cefa5b04e15ee3d">item_ids</a>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( spawn_info.has_string( <span class="stringliteral">&quot;items&quot;</span> ) ) {</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            <span class="comment">//Treat single item as array</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;            <span class="comment">// And read the gun variant (if it exists)</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;            <span class="keywordflow">if</span>( spawn_info.has_string( <span class="stringliteral">&quot;variant&quot;</span> ) ) {</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                <span class="keyword">const</span> std::string variant = spawn_info.get_string( <span class="stringliteral">&quot;variant&quot;</span> );</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                next_spawn.<a class="code" href="structvehicle__item__spawn.html#aa4843846c7ddeb58ede99c47706bae5b">variant_ids</a>.emplace_back( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( spawn_info.get_string( <span class="stringliteral">&quot;items&quot;</span> ) ), variant );</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;                next_spawn.<a class="code" href="structvehicle__item__spawn.html#a8c77ce90bc86a9689cefa5b04e15ee3d">item_ids</a>.emplace_back( spawn_info.get_string( <span class="stringliteral">&quot;items&quot;</span> ) );</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            }</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        }</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <span class="keywordflow">if</span>( spawn_info.has_array( <span class="stringliteral">&quot;item_groups&quot;</span> ) ) {</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;            <span class="comment">//Pick from a group of items, just like map::place_items</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> : spawn_info.get_array( <span class="stringliteral">&quot;item_groups&quot;</span> ) ) {</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                next_spawn.<a class="code" href="structvehicle__item__spawn.html#aa7105813594b8f0ccf4bed5468d0bb81">item_groups</a>.emplace_back( <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> );</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;            }</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( spawn_info.has_string( <span class="stringliteral">&quot;item_groups&quot;</span> ) ) {</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;            next_spawn.<a class="code" href="structvehicle__item__spawn.html#aa7105813594b8f0ccf4bed5468d0bb81">item_groups</a>.emplace_back( spawn_info.get_string( <span class="stringliteral">&quot;item_groups&quot;</span> ) );</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        }</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <a class="code" href="structvehicle__prototype.html#a7eec43c8754c73355602b6a126e73293">item_spawns</a>.push_back( std::move( next_spawn ) );</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    }</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160; </div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classJsonObject.html">JsonObject</a> jzi : jo.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;zones&quot;</span> ) ) {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        <a class="code" href="classstring__id.html">zone_type_id</a> <a class="code" href="classzone__type.html">zone_type</a>( jzi.get_member( <span class="stringliteral">&quot;type&quot;</span> ).get_string() );</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        std::string <a class="code" href="structvehicle__prototype.html#ac8e1ce6a8f926c26bccce6c1fc31bc9a">name</a>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        std::string <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <a class="code" href="structpoint.html">point</a> pt( jzi.get_member( <span class="stringliteral">&quot;x&quot;</span> ).get_int(), jzi.get_member( <span class="stringliteral">&quot;y&quot;</span> ).get_int() );</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160; </div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <span class="keywordflow">if</span>( jzi.has_string( <span class="stringliteral">&quot;name&quot;</span> ) ) {</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            <a class="code" href="structvehicle__prototype.html#ac8e1ce6a8f926c26bccce6c1fc31bc9a">name</a> = jzi.get_string( <span class="stringliteral">&quot;name&quot;</span> );</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        }</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        <span class="keywordflow">if</span>( jzi.has_string( <span class="stringliteral">&quot;filter&quot;</span> ) ) {</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a> = jzi.get_string( <span class="stringliteral">&quot;filter&quot;</span> );</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        }</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        <a class="code" href="structvehicle__prototype.html#ac11308a8e59bc3cc3f19420bc8fe504a">zone_defs</a>.emplace_back( <a class="code" href="structvehicle__prototype_1_1zone__def.html">zone_def</a>{ <a class="code" href="classzone__type.html">zone_type</a>, <a class="code" href="structvehicle__prototype.html#ac8e1ce6a8f926c26bccce6c1fc31bc9a">name</a>, <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, pt } );</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    }</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;}</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160; </div>
<div class="line"><a name="l01378"></a><span class="lineno"><a class="line" href="structvehicle__prototype.html#a648be1f16c9a6dbed0211ef078cf8760"> 1378</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structvehicle__prototype.html#a648be1f16c9a6dbed0211ef078cf8760">vehicle_prototype::save_vehicle_as_prototype</a>( <span class="keyword">const</span> <a class="code" href="classvehicle.html">vehicle</a> &amp;veh, <a class="code" href="classJsonOut.html">JsonOut</a> &amp;json )</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;{</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code" href="vehicle_8cpp.html#a00735c0bfb68c2a0c0c7d53e8f72a70e">part_location_structure</a>( <span class="stringliteral">&quot;structure&quot;</span> );</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="comment">// Add some notes to the exported file.</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;//1&quot;</span>,</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                 <span class="stringliteral">&quot;Although this vehicle can be readily spawned in game without further tweaking,&quot;</span> );</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;//2&quot;</span>,</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                 <span class="stringliteral">&quot;this is auto-generated by program, so please check against it before proceeding.&quot;</span> );</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;//3&quot;</span>,</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                 <span class="stringliteral">&quot;Only simple top-level items can be exported by this function.  Do not rely on this for exporting comestibles, containers, etc.&quot;</span> );</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="comment">// Begin of the vehicle.</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;id&quot;</span>, <span class="stringliteral">&quot;/TO_BE_REPLACED/&quot;</span> );</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;vehicle&quot;</span> );</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;/TO_BE_REPLACED/&quot;</span> );</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    std::map&lt;point, std::list&lt;const vehicle_part *&gt;&gt; vp_map;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="keywordtype">int</span> mount_min_y = 123;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keywordtype">int</span> mount_max_y = -123;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <span class="comment">// Form a map of existing real parts</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="comment">// Structural parts first</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp;vpr : veh.<a class="code" href="classvehicle.html#a397b40aa92dd1fd09ee592aa279bc656">get_all_parts</a>() ) {</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp;p = vpr.part();</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        <span class="keywordflow">if</span>( p.<a class="code" href="structvehicle__part.html#a72c9606de83a919a30468273ec6fdb0b">is_fake</a> ) {</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        }</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        <span class="keywordflow">if</span>( p.<a class="code" href="structvehicle__part.html#a002a1023cd1a96d43556a1b912ebd27b">info</a>().<a class="code" href="classvpart__info.html#a03cfe554b18beb9c32d9a86872a1748e">location</a> == <a class="code" href="vehicle_8cpp.html#a00735c0bfb68c2a0c0c7d53e8f72a70e">part_location_structure</a> ) {</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;            vp_map[p.<a class="code" href="structvehicle__part.html#ac6e2dfa7178b8bed91baea3543961a86">mount</a>].push_front( &amp;p );</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        }</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        mount_max_y = mount_max_y &lt; p.<a class="code" href="structvehicle__part.html#ac6e2dfa7178b8bed91baea3543961a86">mount</a>.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> ? p.<a class="code" href="structvehicle__part.html#ac6e2dfa7178b8bed91baea3543961a86">mount</a>.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> : mount_max_y;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        mount_min_y = mount_min_y &gt; p.<a class="code" href="structvehicle__part.html#ac6e2dfa7178b8bed91baea3543961a86">mount</a>.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> ? p.<a class="code" href="structvehicle__part.html#ac6e2dfa7178b8bed91baea3543961a86">mount</a>.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> : mount_min_y;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        vp_map[p.<a class="code" href="structvehicle__part.html#ac6e2dfa7178b8bed91baea3543961a86">mount</a>].push_back( &amp;p );</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    }</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="keywordtype">int</span> mount_min_x = vp_map.begin()-&gt;first.x;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="keywordtype">int</span> mount_max_x = vp_map.rbegin()-&gt;first.x;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160; </div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="comment">// print the vehicle&#39;s blueprint.</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;blueprint&quot;</span> );</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="comment">// let&#39;s start from the front of the vehicle, scanning by row.</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> x = mount_max_x; x &gt;= mount_min_x; x-- ) {</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        std::string row;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> y = mount_min_y; y &lt;= mount_max_y; y++ ) {</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;            <span class="keywordflow">if</span>( veh.<a class="code" href="classvehicle.html#a5c6daa8559b64b4f1e285612688be928">part_displayed_at</a>( <a class="code" href="structpoint.html">point</a>( x, y ), <span class="keyword">false</span>, <span class="keyword">true</span>, <span class="keyword">true</span> ) == -1 ) {</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                row += <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;            }</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;            <span class="keyword">const</span> <a class="code" href="classvpart__display.html">vpart_display</a> &amp;<a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> = veh.<a class="code" href="classvehicle.html#a7169d55f706c34c402ed7ff8e9fa13f3">get_display_of_tile</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( x, y ), <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;            row += <a class="code" href="catacharset_8cpp.html#a652aec5d6739f2e6d021ef8efee32d97">utf32_to_utf8</a>( <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.symbol );</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        }</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        json.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( row );</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    }</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;parts&quot;</span> );</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="comment">// Used to flexibly print vehicle parts with possible non-default variants</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="keyword">auto</span> print_vp_with_variant = [&amp;json]( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; vp ) {</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> &amp;vpi = vp.info();</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <span class="keywordflow">if</span>( vp.variant == vpi.<a class="code" href="classvpart__info.html#a37bc6fc50c287ea4d63c14eab94d232f">variant_default</a> ) {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;            json.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( vpi.<a class="code" href="classvpart__info.html#aba80d384b977306eb749c9c9958a62a7">id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        }</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        std::string name_with_variant = vpi.<a class="code" href="classvpart__info.html#aba80d384b977306eb749c9c9958a62a7">id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() + <span class="stringliteral">&quot;#&quot;</span> + vp.variant;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        json.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( name_with_variant );</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    };</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;vp_pos : vp_map ) {</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        <span class="keyword">auto</span> <a class="code" href="classCreature.html#a5f0f94b1cc3a6759e79c7ffc07c3b0b8">fake</a> = make_shared_fast&lt;vehicle&gt;( <a class="code" href="type__id_8h.html#a64efc8ab51816a59711440d464136eda">vproto_id</a>() );</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        <a class="code" href="classvehicle.html">vehicle</a> &amp;fakev = *<a class="code" href="classCreature.html#a5f0f94b1cc3a6759e79c7ffc07c3b0b8">fake</a>;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <span class="keyword">auto</span> iter = vp_pos.second.begin();</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        <span class="comment">// Ensure that the entries in the list can be installed in order.</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <span class="comment">// Might be a infinite loop if debug hammerspace created improper parts combination.</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        <span class="comment">// So add a iteration limit to avoid this.</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <span class="keywordtype">int</span> iteration = 0;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        <span class="keywordflow">for</span>( ; iter != vp_pos.second.end(); ) {</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;            <a class="code" href="structvehicle__part.html">vehicle_part</a> <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a> = **iter;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;            <span class="keywordflow">if</span>( fakev.<a class="code" href="classvehicle.html#a1369f357d2165aae36bb485ca703029a">can_mount</a>( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.info() ).<a class="code" href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">success</a>() ) {</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                fakev.<a class="code" href="classvehicle.html#a030263e1db60c034caa9e6f24199cd33">install_part</a>( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, std::move( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a> ) );</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                iter++;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            }</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;            iteration++;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;            <span class="keyword">auto</span> iter2 = std::next( iter, 1 );</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;            vp_pos.second.splice( vp_pos.second.end(), vp_pos.second, iter );</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;            iter = iter2;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;            <span class="comment">// It&#39;s impossible to hit this limit when a single mount point has fewer than 50 parts.</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;            <span class="comment">// So we can assume only infinite loop hits this limit.</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;            <span class="keywordflow">if</span>( iteration &gt; 1250 ) {</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Error exporting vehicle: mount point (%d,%d) has illegal vehicle part sequence.&quot;</span>,</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;                          vp_pos.first.x, vp_pos.first.y );</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;            }</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        }</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;x&quot;</span>, vp_pos.first.x );</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;y&quot;</span>, vp_pos.first.y );</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160; </div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;parts&quot;</span> );</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> *vp : vp_pos.second ) {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;            <span class="keywordflow">if</span>( vp-&gt;<a class="code" href="structvehicle__part.html#a1acf6a662e684e35e9ef4c26f02b4a42">is_tank</a>() &amp;&amp; vp-&gt;<a class="code" href="structvehicle__part.html#a9c6bf106558c9ed00536e2d7cb0e862d">ammo_remaining</a>() ) {</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;part&quot;</span> );</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                print_vp_with_variant( *vp );</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;fuel&quot;</span>, vp-&gt;<a class="code" href="structvehicle__part.html#ad8e149b4d200656c134e3f90f82f3fe4">ammo_current</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( vp-&gt;<a class="code" href="structvehicle__part.html#adbbad936b92e2d31bc7dfb194de3a1df">is_turret</a>() &amp;&amp; vp-&gt;<a class="code" href="structvehicle__part.html#a9c6bf106558c9ed00536e2d7cb0e862d">ammo_remaining</a>() ) {</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;part&quot;</span> );</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                print_vp_with_variant( *vp );</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;                json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;ammo&quot;</span>, 100 );</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;                json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;ammo_types&quot;</span>, vp-&gt;<a class="code" href="structvehicle__part.html#ad8e149b4d200656c134e3f90f82f3fe4">ammo_current</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;ammo_qty&quot;</span> );</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                <span class="keywordtype">int</span> ammo_qty = vp-&gt;<a class="code" href="structvehicle__part.html#a9c6bf106558c9ed00536e2d7cb0e862d">ammo_remaining</a>();</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                json.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( ammo_qty );</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                json.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( ammo_qty );</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;                json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !veh.<a class="code" href="classvehicle.html#a73c676d9eef6163861a38a45d6a08ef4">get_tools</a>( *vp ).empty() ) {</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;part&quot;</span> );</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;                print_vp_with_variant( *vp );</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;tools&quot;</span> );</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it : veh.<a class="code" href="classvehicle.html#a73c676d9eef6163861a38a45d6a08ef4">get_tools</a>( *vp ) ) {</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;                    json.<a class="code" href="classJsonOut.html#a57a841c30e82540a073e8fb90f082ce2">write_as_string</a>( it.typeId().str() );</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;                }</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;                json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;                json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                print_vp_with_variant( *vp );</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;            }</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        }</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;        json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    }</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160; </div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="comment">// print top-level items ( contents are ignored )</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="comment">// For more complicated spawning of items, use itemgroup instead.</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;items&quot;</span> );</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp;vp : veh.<a class="code" href="classvehicle.html#adfbc0794c9bb9a5f1d75e1c52a2e561a">get_any_parts</a>( <span class="stringliteral">&quot;CARGO&quot;</span> ) ) {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        <span class="keywordflow">if</span>( vp.part().is_fake ) {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;        }</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        <span class="keyword">const</span> <a class="code" href="classvehicle__stack.html">vehicle_stack</a> &amp;stack = veh.<a class="code" href="classvehicle.html#abbc4051229bf116dfd03c53dcc4a0765">get_items</a>( vp.part() );</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        <span class="keywordflow">if</span>( !stack.<a class="code" href="classitem__stack.html#a83fd3bd296c75326b3709280804acef4">empty</a>() ) {</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;            json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;            json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;x&quot;</span>, vp.mount().x );</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;            json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;y&quot;</span>, vp.mount().y );</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;            json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;chance&quot;</span>, 100 );</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;items&quot;</span> );</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;            json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it : stack ) {</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                json.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( it.typeId().str() );</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            }</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;            json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;            json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        }</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    }</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160; </div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;zones&quot;</span> );</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> <span class="keyword">const</span> &amp;z : veh.<a class="code" href="classvehicle.html#a90b6f438b5ae343dab2b131c64293584">loot_zones</a> ) {</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;x&quot;</span>, z.first.x );</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;y&quot;</span>, z.first.y );</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;type&quot;</span>, z.second.get_type().str() );</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    }</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160; </div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;}</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="comment"> *Works through cached vehicle definitions and creates vehicle objects from them.</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"><a class="line" href="namespacevehicles.html#aa72a907c9f60fa13c5712c4bca4fb204"> 1562</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacevehicles.html#aa72a907c9f60fa13c5712c4bca4fb204">vehicles::finalize_prototypes</a>()</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;{</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#a80347cfcca97b5692066f2cd32787250">vehicle_prototype_factory</a>.finalize();</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structvehicle__prototype.html">vehicle_prototype</a> &amp;const_proto : <a class="code" href="namespacevehicles.html#a92407d11e7752897e95da964353f6941">vehicles::get_all_prototypes</a>() ) {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;        <a class="code" href="structvehicle__prototype.html">vehicle_prototype</a> &amp;proto = <span class="keyword">const_cast&lt;</span><a class="code" href="structvehicle__prototype.html">vehicle_prototype</a> &amp;<span class="keyword">&gt;</span>( const_proto );</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        std::unordered_set&lt;point&gt; cargo_spots;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160; </div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        <span class="comment">// Calling the constructor with empty vproto_id as parameter</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        <span class="comment">// makes constructor bypass copying the (non-existing) blueprint.</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        proto.<a class="code" href="structvehicle__prototype.html#ada95856caac2922f5d2f66ad70f451bb">blueprint</a> = make_shared_fast&lt;vehicle&gt;( <a class="code" href="type__id_8h.html#a64efc8ab51816a59711440d464136eda">vproto_id</a>() );</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <a class="code" href="classvehicle.html">vehicle</a> &amp;blueprint = *proto.<a class="code" href="structvehicle__prototype.html#ada95856caac2922f5d2f66ad70f451bb">blueprint</a>;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        blueprint.<a class="code" href="classvehicle.html#a22b8b1fe66df7091af2eb16f62fb711b">type</a> = proto.<a class="code" href="structvehicle__prototype.html#a5bf800af9c4fac7ff198a56695d3716b">id</a>;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        blueprint.<a class="code" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> = proto.<a class="code" href="structvehicle__prototype.html#ac8e1ce6a8f926c26bccce6c1fc31bc9a">name</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160; </div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        blueprint.<a class="code" href="classvehicle.html#a1994ca720f9bd60f9fc14e9cf27e0381">suspend_refresh</a>();</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="structvehicle__prototype_1_1part__def.html">vehicle_prototype::part_def</a> &amp;pt : proto.<a class="code" href="structvehicle__prototype.html#a06a6007fba7df08c566fa470dd07385c">parts</a> ) {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;            <span class="keywordflow">if</span>( <span class="keyword">const</span> <a class="code" href="classvpart__migration.html">vpart_migration</a> *<a class="code" href="classmigration.html">migration</a> = <a class="code" href="classvpart__migration.html#a1439c86f85299ab0b7a433ed9c38e576">vpart_migration::find_migration</a>( pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">part</a> ) ) {</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;veh prototype &#39;%s&#39; needs fixing, part &#39;%s&#39; is migrated to &#39;%s&#39;&quot;</span>,</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                          proto.<a class="code" href="structvehicle__prototype.html#ac8e1ce6a8f926c26bccce6c1fc31bc9a">name</a>, pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">part</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), <a class="code" href="classmigration.html">migration</a>-&gt;part_id_new.str() );</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;                pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">part</a> = <a class="code" href="classmigration.html">migration</a>-&gt;part_id_new;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            }</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160; </div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            <span class="keywordflow">if</span>( !pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">part</a>.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;unknown vehicle part %s in %s&quot;</span>, pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">part</a>.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>(), proto.<a class="code" href="structvehicle__prototype.html#a5bf800af9c4fac7ff198a56695d3716b">id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            }</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160; </div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> part_idx = blueprint.<a class="code" href="classvehicle.html#a030263e1db60c034caa9e6f24199cd33">install_part</a>( pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a8f07a1b22456ac3fb0de94b4b765ad47">pos</a>, pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">part</a> );</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            <span class="keywordflow">if</span>( part_idx &lt; 0 ) {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;init_vehicles: &#39;%s&#39; part &#39;%s&#39;(%d) can&#39;t be installed to %d,%d&quot;</span>,</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;                          blueprint.<a class="code" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a>, pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">part</a>.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>(),</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;                          blueprint.<a class="code" href="classvehicle.html#aa10bbf2045f3581a65049d7b7b5071ae">part_count</a>(), pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a8f07a1b22456ac3fb0de94b4b765ad47">pos</a>.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>, pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a8f07a1b22456ac3fb0de94b4b765ad47">pos</a>.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> );</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp;vp = blueprint.<a class="code" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( part_idx );</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                <span class="keyword">const</span> <a class="code" href="classvpart__info.html">vpart_info</a> &amp;vpi = vp.<a class="code" href="structvehicle__part.html#a002a1023cd1a96d43556a1b912ebd27b">info</a>();</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160; </div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;                <span class="comment">// try variant, if variant invalid default to first one</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;                <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( !vpi.<a class="code" href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">variants</a>.empty() );</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;                <span class="keyword">const</span> <span class="keyword">auto</span> variant_it = vpi.<a class="code" href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">variants</a>.find( pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a539128756c719979dec4015b3a824465">variant</a> );</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                <span class="keywordflow">if</span>( variant_it == vpi.<a class="code" href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">variants</a>.end() ) {</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                    vp.<a class="code" href="structvehicle__part.html#aaf92b5061bed35137d9f9535c94707eb">variant</a> = vpi.<a class="code" href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">variants</a>.begin()-&gt;first;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;                    <span class="keywordflow">if</span>( !pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a539128756c719979dec4015b3a824465">variant</a>.empty() ) { <span class="comment">// only debugmsg if trying to select non-default variant</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;                        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;veh prototype &#39;%s&#39; uses invalid variant &#39;%s&#39; for &quot;</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;                                  <span class="stringliteral">&quot;part &#39;%s&#39; defaulting to &#39;%s&#39;&quot;</span>,</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                                  proto.<a class="code" href="structvehicle__prototype.html#ac8e1ce6a8f926c26bccce6c1fc31bc9a">name</a>, pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a539128756c719979dec4015b3a824465">variant</a>, vp.<a class="code" href="structvehicle__part.html#a002a1023cd1a96d43556a1b912ebd27b">info</a>().<a class="code" href="classvpart__info.html#aba80d384b977306eb749c9c9958a62a7">id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), vp.<a class="code" href="structvehicle__part.html#aaf92b5061bed35137d9f9535c94707eb">variant</a> );</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                    }</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                    vp.<a class="code" href="structvehicle__part.html#aaf92b5061bed35137d9f9535c94707eb">variant</a> = pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a539128756c719979dec4015b3a824465">variant</a>;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                }</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160; </div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> &amp;it : pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a0caa1921a970d6b9b6ea0ec6219d19c2">tools</a> ) {</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                    blueprint.<a class="code" href="classvehicle.html#a73c676d9eef6163861a38a45d6a08ef4">get_tools</a>( vp ).emplace_back( it, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                }</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                <span class="keywordflow">if</span>( pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#af1b6012bdcaa3f47bc8b235c7ce8bad1">fuel</a> ) {</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                    vp.<a class="code" href="structvehicle__part.html#ab16185500ef5d69edf04ffc7df422049">ammo_set</a>( pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#af1b6012bdcaa3f47bc8b235c7ce8bad1">fuel</a>,</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                                 pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#af1b6012bdcaa3f47bc8b235c7ce8bad1">fuel</a>-&gt;<a class="code" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a> ? vp.<a class="code" href="structvehicle__part.html#a30aa1cb6fff83820663b1b170139553b">ammo_capacity</a>( pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#af1b6012bdcaa3f47bc8b235c7ce8bad1">fuel</a>-&gt;<a class="code" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;type ) : vp.<a class="code" href="structvehicle__part.html#ab40f6c1ccfd4be15ebfb2a2209f3d934">item_capacity</a>( pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#af1b6012bdcaa3f47bc8b235c7ce8bad1">fuel</a> ) );</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                }</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;            }</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160; </div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;            std::vector&lt;itype_id&gt; migrated;</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a8a6536c5d19cdfd3786ab8c1b8b8fa7a">ammo_types</a>.begin(); it != pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a8a6536c5d19cdfd3786ab8c1b8b8fa7a">ammo_types</a>.end(); ) {</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a>-&gt;migrate_id( *it ) != *it ) {</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                    migrated.push_back( <a class="code" href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a>-&gt;migrate_id( *it ) );</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                    it = pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a8a6536c5d19cdfd3786ab8c1b8b8fa7a">ammo_types</a>.erase( it );</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;                    ++it;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                }</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            }</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160; </div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> &amp;migrant : migrated ) {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;                pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a8a6536c5d19cdfd3786ab8c1b8b8fa7a">ammo_types</a>.insert( migrant );</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;            }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160; </div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;            <span class="keyword">const</span> <a class="code" href="structitype.html">itype</a> *base = <a class="code" href="classitem.html#a11cf8d500b6d8106302470dce5ca9177">item::find_type</a>( pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">part</a>-&gt;<a class="code" href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">base_item</a> );</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;            <span class="keywordflow">if</span>( !base-&gt;<a class="code" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a> ) {</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                <span class="keywordflow">if</span>( pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a0d5439b473c2ea6908205372d85881fc">with_ammo</a> ) {</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                    <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;init_vehicles: non-turret %s with ammo in %s&quot;</span>, pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">part</a>.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>(),</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;                              proto.<a class="code" href="structvehicle__prototype.html#a5bf800af9c4fac7ff198a56695d3716b">id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;                }</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                <span class="keywordflow">if</span>( !pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a8a6536c5d19cdfd3786ab8c1b8b8fa7a">ammo_types</a>.empty() ) {</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                    <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;init_vehicles: non-turret %s with ammo_types in %s&quot;</span>,</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                              pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">part</a>.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>(), proto.<a class="code" href="structvehicle__prototype.html#a5bf800af9c4fac7ff198a56695d3716b">id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                }</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                <span class="keywordflow">if</span>( pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a2257eea41ffba5f658ee1d1a25eaa6d0">ammo_qty</a>.first &gt; 0 || pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a2257eea41ffba5f658ee1d1a25eaa6d0">ammo_qty</a>.second &gt; 0 ) {</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                    <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;init_vehicles: non-turret %s with ammo_qty in %s&quot;</span>,</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                              pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">part</a>.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>(), proto.<a class="code" href="structvehicle__prototype.html#a5bf800af9c4fac7ff198a56695d3716b">id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                }</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160; </div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a8a6536c5d19cdfd3786ab8c1b8b8fa7a">ammo_types</a> ) {</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                    <span class="keyword">const</span> <a class="code" href="structitype.html">itype</a> *ammo = <a class="code" href="classitem.html#a11cf8d500b6d8106302470dce5ca9177">item::find_type</a>( e );</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                    <span class="keywordflow">if</span>( !ammo-&gt;<a class="code" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a> || !base-&gt;<a class="code" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;ammo.count( ammo-&gt;<a class="code" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;type ) ) {</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;init_vehicles: turret %s has invalid ammo_type %s in %s&quot;</span>,</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                                  pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">part</a>.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>(), e.c_str(), proto.<a class="code" href="structvehicle__prototype.html#a5bf800af9c4fac7ff198a56695d3716b">id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                    }</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                }</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;                <span class="keywordflow">if</span>( pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a8a6536c5d19cdfd3786ab8c1b8b8fa7a">ammo_types</a>.empty() &amp;&amp; !base-&gt;<a class="code" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;ammo.empty() ) {</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;                    pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a8a6536c5d19cdfd3786ab8c1b8b8fa7a">ammo_types</a>.insert( <a class="code" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( *base-&gt;<a class="code" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;ammo.begin() )-&gt;<a class="code" href="classammunition__type.html#a236169a55b7679baaa96e491c36e57d9">default_ammotype</a>() );</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                }</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;            }</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160; </div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( &amp;*base ).can_contain( <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#af1b6012bdcaa3f47bc8b235c7ce8bad1">fuel</a> ) ).success() || base-&gt;<a class="code" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a> ) {</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;                <span class="keywordflow">if</span>( !<a class="code" href="classitem.html#a4c54ded219374a2f5f80e8eee192dcdf">item::type_is_defined</a>( pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#af1b6012bdcaa3f47bc8b235c7ce8bad1">fuel</a> ) ) {</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;                    <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;init_vehicles: tank %s specified invalid fuel in %s&quot;</span>,</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;                              pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">part</a>.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>(), proto.<a class="code" href="structvehicle__prototype.html#a5bf800af9c4fac7ff198a56695d3716b">id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;                }</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                <span class="keywordflow">if</span>( !pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#af1b6012bdcaa3f47bc8b235c7ce8bad1">fuel</a>.<a class="code" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;                    <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;init_vehicles: non-fuel store part %s with fuel in %s&quot;</span>,</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                              pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">part</a>.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>(), proto.<a class="code" href="structvehicle__prototype.html#a5bf800af9c4fac7ff198a56695d3716b">id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;                }</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;            }</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160; </div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            <span class="keywordflow">if</span>( pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">part</a>.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <a class="code" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea563fb2626cff0acc6c8273fef3e3a8d0">VPFLAG_CARGO</a> ) ) {</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                cargo_spots.insert( pt.<a class="code" href="structvehicle__prototype_1_1part__def.html#a8f07a1b22456ac3fb0de94b4b765ad47">pos</a> );</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;            }</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;        }</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;        blueprint.<a class="code" href="classvehicle.html#a649520b2771528912e35040ff307b6fb">enable_refresh</a>();</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160; </div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="structvehicle__item__spawn.html">vehicle_item_spawn</a> &amp;i : proto.<a class="code" href="structvehicle__prototype.html#a7eec43c8754c73355602b6a126e73293">item_spawns</a> ) {</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;            <span class="keywordflow">if</span>( cargo_spots.count( i.<a class="code" href="structvehicle__item__spawn.html#ace2e058916c359fd2335a1f457ed8d46">pos</a> ) == 0 ) {</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid spawn location (no CARGO vpart) in %s (%d, %d): %d%%&quot;</span>,</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                          proto.<a class="code" href="structvehicle__prototype.html#ac8e1ce6a8f926c26bccce6c1fc31bc9a">name</a>, i.<a class="code" href="structvehicle__item__spawn.html#ace2e058916c359fd2335a1f457ed8d46">pos</a>.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>, i.<a class="code" href="structvehicle__item__spawn.html#ace2e058916c359fd2335a1f457ed8d46">pos</a>.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>, i.<a class="code" href="structvehicle__item__spawn.html#a336d4bf56aad051821688870f661b506">chance</a> );</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;            }</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;j : i.<a class="code" href="structvehicle__item__spawn.html#a8c77ce90bc86a9689cefa5b04e15ee3d">item_ids</a> ) {</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;                <span class="keywordflow">if</span>( !<a class="code" href="classitem.html#a4c54ded219374a2f5f80e8eee192dcdf">item::type_is_defined</a>( j ) ) {</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;                    <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;unknown item %s in spawn list of %s&quot;</span>, j.c_str(), proto.<a class="code" href="structvehicle__prototype.html#a5bf800af9c4fac7ff198a56695d3716b">id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;                }</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;            }</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;j : i.<a class="code" href="structvehicle__item__spawn.html#aa7105813594b8f0ccf4bed5468d0bb81">item_groups</a> ) {</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                <span class="keywordflow">if</span>( !<a class="code" href="namespaceitem__group.html#ace8eee5043438ba9d8b87448020c65dc">item_group::group_is_defined</a>( j ) ) {</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;                    <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;unknown item group %s in spawn list of %s&quot;</span>, j.c_str(), proto.<a class="code" href="structvehicle__prototype.html#a5bf800af9c4fac7ff198a56695d3716b">id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                }</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            }</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        }</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    }</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;}</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160; </div>
<div class="line"><a name="l01700"></a><span class="lineno"><a class="line" href="veh__type_8cpp.html#a8a2de404798ae319e472216b67ba8007"> 1700</a></span>&#160;<span class="keyword">static</span> std::vector&lt;vpart_category&gt; <a class="code" href="veh__type_8cpp.html#a8a2de404798ae319e472216b67ba8007">vpart_categories_all</a>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160; </div>
<div class="line"><a name="l01702"></a><span class="lineno"><a class="line" href="classvpart__category.html#a0e1d7e5b5854bdee7abe719b45842d08"> 1702</a></span>&#160;<span class="keyword">const</span> std::vector&lt;vpart_category&gt; &amp;<a class="code" href="classvpart__category.html#a0e1d7e5b5854bdee7abe719b45842d08">vpart_category::all</a>()</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;{</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="veh__type_8cpp.html#a8a2de404798ae319e472216b67ba8007">vpart_categories_all</a>;</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;}</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160; </div>
<div class="line"><a name="l01707"></a><span class="lineno"><a class="line" href="classvpart__category.html#a8680837eb2e954e957df5477411c83a0"> 1707</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvpart__category.html#a8680837eb2e954e957df5477411c83a0">vpart_category::load</a>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp;jo )</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;{</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <a class="code" href="classvpart__category.html">vpart_category</a> def;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160; </div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;id&quot;</span>, def.<a class="code" href="classvpart__category.html#a981686be9ba43c45dfe30817358bf471">id_</a> );</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;name&quot;</span>, def.<a class="code" href="classvpart__category.html#aef2c9ef9d3c3b180f2147c6b6ac4957b">name_</a> );</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;short_name&quot;</span>, def.<a class="code" href="classvpart__category.html#a7c799ea1218001d1b84e5c2515930506">short_name_</a> );</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;priority&quot;</span>, def.<a class="code" href="classvpart__category.html#a3f0e834b23cc95232f914e4d071d7bdd">priority_</a> );</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160; </div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <a class="code" href="veh__type_8cpp.html#a8a2de404798ae319e472216b67ba8007">vpart_categories_all</a>.push_back( def );</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;}</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160; </div>
<div class="line"><a name="l01719"></a><span class="lineno"><a class="line" href="classvpart__category.html#a8dc950fb7d919c02ba0d720be2b72aad"> 1719</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvpart__category.html#a8dc950fb7d919c02ba0d720be2b72aad">vpart_category::finalize</a>()</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;{</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    std::sort( <a class="code" href="veh__type_8cpp.html#a8a2de404798ae319e472216b67ba8007">vpart_categories_all</a>.begin(), <a class="code" href="veh__type_8cpp.html#a8a2de404798ae319e472216b67ba8007">vpart_categories_all</a>.end() );</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;}</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160; </div>
<div class="line"><a name="l01724"></a><span class="lineno"><a class="line" href="classvpart__category.html#a9cf51ef8a8b5b71d5d8d011f080a34ae"> 1724</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvpart__category.html#a9cf51ef8a8b5b71d5d8d011f080a34ae">vpart_category::reset</a>()</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;{</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <a class="code" href="veh__type_8cpp.html#a8a2de404798ae319e472216b67ba8007">vpart_categories_all</a>.clear();</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;}</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160; </div>
<div class="line"><a name="l01729"></a><span class="lineno"><a class="line" href="classvpart__migration.html#a8d60498b25f5e26107b8440dc1a7844b"> 1729</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvpart__migration.html#a8d60498b25f5e26107b8440dc1a7844b">vpart_migration::load</a>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp;jo )</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;{</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <a class="code" href="classvpart__migration.html">vpart_migration</a> <a class="code" href="classmigration.html">migration</a>;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ac5e3b9675d114c21ad3367d318f6aa95">mandatory</a>( jo, <span class="comment">/* was_loaded = */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;from&quot;</span>, <a class="code" href="classmigration.html">migration</a>.part_id_old );</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    <a class="code" href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ac5e3b9675d114c21ad3367d318f6aa95">mandatory</a>( jo, <span class="comment">/* was_loaded = */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;to&quot;</span>, <a class="code" href="classmigration.html">migration</a>.part_id_new );</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, <span class="comment">/* was_loaded = */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;variant&quot;</span>, <a class="code" href="classmigration.html">migration</a>.<a class="code" href="classmigration.html#ae05d2497564d4cf8245d8c6cad1f2f26">variant</a> );</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( jo, <span class="comment">/* was_loaded = */</span> <span class="keyword">true</span>, <span class="stringliteral">&quot;add_veh_tools&quot;</span>, <a class="code" href="classmigration.html">migration</a>.add_veh_tools );</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <a class="code" href="veh__type_8cpp.html#a173a056b939c1473c8cdfed6f22481c3">vpart_migrations</a>.emplace( <a class="code" href="classmigration.html">migration</a>.part_id_old, <a class="code" href="classmigration.html">migration</a> );</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;}</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160; </div>
<div class="line"><a name="l01739"></a><span class="lineno"><a class="line" href="classvpart__migration.html#a73374ccdf5538a6f0d2784591345cf35"> 1739</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvpart__migration.html#a73374ccdf5538a6f0d2784591345cf35">vpart_migration::reset</a>()</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;{</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <a class="code" href="veh__type_8cpp.html#a173a056b939c1473c8cdfed6f22481c3">vpart_migrations</a>.clear();</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;}</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160; </div>
<div class="line"><a name="l01744"></a><span class="lineno"><a class="line" href="classvpart__migration.html#ab36852a829367fd860daa08f666f5842"> 1744</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvpart__migration.html#ab36852a829367fd860daa08f666f5842">vpart_migration::finalize</a>()</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;{</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;[from_id, <a class="code" href="classmigration.html">migration</a>] : <a class="code" href="veh__type_8cpp.html#a173a056b939c1473c8cdfed6f22481c3">vpart_migrations</a> ) {</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classmigration.html">migration</a>.add_veh_tools.empty() &amp;&amp;</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;            !<a class="code" href="classmigration.html">migration</a>.part_id_new-&gt;has_flag( <span class="stringliteral">&quot;VEH_TOOLS&quot;</span> ) ) {</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vpart migration from id &#39;%s&#39; specified &#39;add_veh_tools&#39; but target id &#39;%s&#39; is not a VEH_TOOLS part&quot;</span>,</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                      from_id.str(), <a class="code" href="classmigration.html">migration</a>.part_id_new.str() );</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        }</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    }</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;}</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160; </div>
<div class="line"><a name="l01755"></a><span class="lineno"><a class="line" href="classvpart__migration.html#a5b52a24d699aa01d8a9e450e5b8f690f"> 1755</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classvpart__migration.html#a5b52a24d699aa01d8a9e450e5b8f690f">vpart_migration::check</a>()</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;{</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;[from_id, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>] : <a class="code" href="veh__type_8cpp.html#a173a056b939c1473c8cdfed6f22481c3">vpart_migrations</a> ) {</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        <span class="keyword">const</span> <a class="code" href="classvpart__migration.html">vpart_migration</a> &amp;vm = *<a class="code" href="classvpart__migration.html#a1439c86f85299ab0b7a433ed9c38e576">find_migration</a>( from_id );</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;        <span class="keywordflow">if</span>( !vm.<a class="code" href="classvpart__migration.html#abec0b5a7d48f4e4e0811c86f82759342">part_id_new</a>.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vpart migration specifies invalid id &#39;%s&#39;&quot;</span>, vm.<a class="code" href="classvpart__migration.html#abec0b5a7d48f4e4e0811c86f82759342">part_id_new</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;        }</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        <span class="keywordflow">if</span>( !vm.<a class="code" href="classvpart__migration.html#a302fb07cf4699f0e33e3fff97ce64e81">add_veh_tools</a>.empty() &amp;&amp; !vm.<a class="code" href="classvpart__migration.html#abec0b5a7d48f4e4e0811c86f82759342">part_id_new</a>-&gt;<a class="code" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;VEH_TOOLS&quot;</span> ) ) {</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vpart migration from id &#39;%s&#39; specified &#39;add_veh_tools&#39; but target id &#39;%s&#39; is not a VEH_TOOLS part&quot;</span>,</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                      from_id.str(), vm.<a class="code" href="classvpart__migration.html#abec0b5a7d48f4e4e0811c86f82759342">part_id_new</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        }</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        <span class="keywordflow">if</span>( vm.<a class="code" href="classvpart__migration.html#af2c2a8a2a01102380df3756b423f3f29">variant</a> &amp;&amp; vm.<a class="code" href="classvpart__migration.html#abec0b5a7d48f4e4e0811c86f82759342">part_id_new</a>-&gt;<a class="code" href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">variants</a>.count( vm.<a class="code" href="classvpart__migration.html#af2c2a8a2a01102380df3756b423f3f29">variant</a>.value() ) &lt;= 0 ) {</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;vpart migration chain from id &#39;%s&#39; to &#39;%s&#39; specifies invalid variant &#39;%s&#39;&quot;</span>,</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                      from_id.str(), vm.<a class="code" href="classvpart__migration.html#abec0b5a7d48f4e4e0811c86f82759342">part_id_new</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), vm.<a class="code" href="classvpart__migration.html#af2c2a8a2a01102380df3756b423f3f29">variant</a>.value() );</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        }</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    }</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;}</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"><a class="line" href="classvpart__migration.html#a1439c86f85299ab0b7a433ed9c38e576"> 1774</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classvpart__migration.html">vpart_migration</a> *<a class="code" href="classvpart__migration.html#a1439c86f85299ab0b7a433ed9c38e576">vpart_migration::find_migration</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">vpart_id</a> &amp;original )</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;{</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <a class="code" href="classvpart__migration.html">vpart_migration</a> *<a class="code" href="classmigration.html">migration</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <a class="code" href="classstring__id.html">vpart_id</a> pid = original;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160; </div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="comment">// limit up to 10 migrations per vpart (guard in case of accidental loops)</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; 10; i++ ) {</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;migration_it = <a class="code" href="veh__type_8cpp.html#a173a056b939c1473c8cdfed6f22481c3">vpart_migrations</a>.find( pid );</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        <span class="keywordflow">if</span>( migration_it == <a class="code" href="veh__type_8cpp.html#a173a056b939c1473c8cdfed6f22481c3">vpart_migrations</a>.cend() ) {</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        }</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        pid = migration_it-&gt;second.part_id_new;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        <a class="code" href="classmigration.html">migration</a> = &amp;migration_it-&gt;second;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    }</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160; </div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmigration.html">migration</a>;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;}</div>
<div class="ttc" id="aammo_8h_html"><div class="ttname"><a href="ammo_8h.html">ammo.h</a></div></div>
<div class="ttc" id="aassign_8cpp_html_a5581e512c94617323eeed670afe0e49a"><div class="ttname"><a href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a></div><div class="ttdeci">bool assign(const JsonObject &amp;jo, const std::string_view name, bool &amp;val, bool strict)</div><div class="ttdef"><b>Definition:</b> <a href="assign_8cpp_source.html#l00023">assign.cpp:23</a></div></div>
<div class="ttc" id="aassign_8h_html"><div class="ttname"><a href="assign_8h.html">assign.h</a></div></div>
<div class="ttc" id="acata__assert_8h_html"><div class="ttname"><a href="cata__assert_8h.html">cata_assert.h</a></div></div>
<div class="ttc" id="acata__assert_8h_html_abb2ca9fce6a171932c05748ecc5df5bb"><div class="ttname"><a href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a></div><div class="ttdeci">#define cata_assert(expression)</div><div class="ttdef"><b>Definition:</b> <a href="cata__assert_8h_source.html#l00036">cata_assert.h:36</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a5a5de35cb19dc191da93e109cb50b04c"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5a5de35cb19dc191da93e109cb50b04c">cata_variant_type::vgroup_id</a></div><div class="ttdeci">@ vgroup_id</div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">cata_variant_type::itype_id</a></div><div class="ttdeci">@ itype_id</div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">cata_variant_type::point</a></div><div class="ttdeci">@ point</div></div>
<div class="ttc" id="acatacharset_8cpp_html_a1c179762927fbad25c747edc4fd81c67"><div class="ttname"><a href="catacharset_8cpp.html#a1c179762927fbad25c747edc4fd81c67">utf8_display_split</a></div><div class="ttdeci">std::vector&lt; std::string &gt; utf8_display_split(const std::string &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00415">catacharset.cpp:415</a></div></div>
<div class="ttc" id="acatacharset_8cpp_html_a2227e8c0afd74ed174cbb4daf8e46ab2"><div class="ttname"><a href="catacharset_8cpp.html#a2227e8c0afd74ed174cbb4daf8e46ab2">UTF8_getch</a></div><div class="ttdeci">uint32_t UTF8_getch(const char **src, int *srclen)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00020">catacharset.cpp:20</a></div></div>
<div class="ttc" id="acatacharset_8cpp_html_a652aec5d6739f2e6d021ef8efee32d97"><div class="ttname"><a href="catacharset_8cpp.html#a652aec5d6739f2e6d021ef8efee32d97">utf32_to_utf8</a></div><div class="ttdeci">std::string utf32_to_utf8(const std::u32string_view str)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00392">catacharset.cpp:392</a></div></div>
<div class="ttc" id="acharacter_8h_html"><div class="ttname"><a href="character_8h.html">character.h</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclassCharacter_html_a080121ea19d921b4045567a96a32e149"><div class="ttname"><a href="classCharacter.html#a080121ea19d921b4045567a96a32e149">Character::get_num_crafting_helpers</a></div><div class="ttdeci">int get_num_crafting_helpers(int max) const</div><div class="ttdef"><b>Definition:</b> <a href="character__crafting_8cpp_source.html#l00213">character_crafting.cpp:213</a></div></div>
<div class="ttc" id="aclassCreature_html_a5f0f94b1cc3a6759e79c7ffc07c3b0b8"><div class="ttname"><a href="classCreature.html#a5f0f94b1cc3a6759e79c7ffc07c3b0b8">Creature::fake</a></div><div class="ttdeci">bool fake</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01240">creature.h:1240</a></div></div>
<div class="ttc" id="aclassJsonArray_html"><div class="ttname"><a href="classJsonArray.html">JsonArray</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00346">flexbuffer_json.h:347</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a12e952546232a62428cb2a1741364006"><div class="ttname"><a href="classJsonArray.html#a12e952546232a62428cb2a1741364006">JsonArray::has_more</a></div><div class="ttdeci">bool has_more() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00463">flexbuffer_json.h:463</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a28640ec205dbf84f52cafa927e79f258"><div class="ttname"><a href="classJsonArray.html#a28640ec205dbf84f52cafa927e79f258">JsonArray::get_int</a></div><div class="ttdeci">int get_int(size_t idx) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00638">flexbuffer_json-inl.h:638</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a98f560f4b4a616bd444a6ce5b066b460"><div class="ttname"><a href="classJsonArray.html#a98f560f4b4a616bd444a6ce5b066b460">JsonArray::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00402">flexbuffer_json.h:402</a></div></div>
<div class="ttc" id="aclassJsonArray_html_ad422f23259186765fda8f7344bcb89e2"><div class="ttname"><a href="classJsonArray.html#ad422f23259186765fda8f7344bcb89e2">JsonArray::next_object</a></div><div class="ttdeci">JsonObject next_object()</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00738">flexbuffer_json-inl.h:738</a></div></div>
<div class="ttc" id="aclassJsonArray_html_aebd5eafa8b91235429384a49abc0cab4"><div class="ttname"><a href="classJsonArray.html#aebd5eafa8b91235429384a49abc0cab4">JsonArray::get_array</a></div><div class="ttdeci">JsonArray get_array(size_t idx) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00648">flexbuffer_json-inl.h:648</a></div></div>
<div class="ttc" id="aclassJsonMember_html"><div class="ttname"><a href="classJsonMember.html">JsonMember</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00501">flexbuffer_json.h:502</a></div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00526">flexbuffer_json.h:527</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a04b6ce7355b567646a587514fb811c68"><div class="ttname"><a href="classJsonObject.html#a04b6ce7355b567646a587514fb811c68">JsonObject::throw_error_at</a></div><div class="ttdeci">void throw_error_at(std::string_view member, const std::string &amp;err) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8cpp_source.html#l00358">flexbuffer_json.cpp:358</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a1abb3808bb2a992716d5ef6f27a32b3c"><div class="ttname"><a href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">JsonObject::get_string</a></div><div class="ttdeci">std::string get_string(const std::string &amp;key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00813">flexbuffer_json-inl.h:813</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a271bf0c222d2a7c97329df4362ae6a54"><div class="ttname"><a href="classJsonObject.html#a271bf0c222d2a7c97329df4362ae6a54">JsonObject::has_int</a></div><div class="ttdeci">bool has_int(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00956">flexbuffer_json-inl.h:956</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a3b9722313d9692826235c87e73e94f04"><div class="ttname"><a href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">JsonObject::get_object</a></div><div class="ttdeci">JsonObject get_object(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00864">flexbuffer_json-inl.h:864</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a4d917fcb285203f91b74002565375dce"><div class="ttname"><a href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00984">flexbuffer_json-inl.h:984</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a532ea812759469d654c7fde4738d11d5"><div class="ttname"><a href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">JsonObject::get_int</a></div><div class="ttdeci">int get_int(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00840">flexbuffer_json-inl.h:840</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a619cb4eae7922f357db47479fc71cf9b"><div class="ttname"><a href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">JsonObject::has_member</a></div><div class="ttdeci">bool has_member(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00944">flexbuffer_json-inl.h:944</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a6b31f68c5846c9eb18c900ba33a45cb2"><div class="ttname"><a href="classJsonObject.html#a6b31f68c5846c9eb18c900ba33a45cb2">JsonObject::get_member_opt</a></div><div class="ttdeci">std::optional&lt; JsonValue &gt; get_member_opt(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l01027">flexbuffer_json-inl.h:1027</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a88142edb1dd9ea1e7a96c7a99cd70896"><div class="ttname"><a href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00855">flexbuffer_json-inl.h:855</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ab71a096f97edf5ea339e44ac4dbe39db"><div class="ttname"><a href="classJsonObject.html#ab71a096f97edf5ea339e44ac4dbe39db">JsonObject::get_member</a></div><div class="ttdeci">JsonValue get_member(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l01038">flexbuffer_json-inl.h:1038</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ac8dd6467300eb62e7ce842c3d99c083e"><div class="ttname"><a href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">JsonObject::has_string</a></div><div class="ttdeci">bool has_string(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00972">flexbuffer_json-inl.h:972</a></div></div>
<div class="ttc" id="aclassJsonObject_html_af3e3ae76afc340c1fa3510acaaba57b8"><div class="ttname"><a href="classJsonObject.html#af3e3ae76afc340c1fa3510acaaba57b8">JsonObject::throw_error</a></div><div class="ttdeci">void throw_error(const std::string &amp;err) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8cpp_source.html#l00353">flexbuffer_json.cpp:353</a></div></div>
<div class="ttc" id="aclassJsonOut_html"><div class="ttname"><a href="classJsonOut.html">JsonOut</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00735">json.h:736</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a44cdd853d4c6913b37caa9f0131eeff2"><div class="ttname"><a href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">JsonOut::end_array</a></div><div class="ttdeci">void end_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02346">json.cpp:2346</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4550e2036b904c4d4a90e440dd41c684"><div class="ttname"><a href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">JsonOut::start_array</a></div><div class="ttdeci">void start_array(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02335">json.cpp:2335</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4756f9a569adbfc60de127f7c335d82f"><div class="ttname"><a href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">JsonOut::start_object</a></div><div class="ttdeci">void start_object(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02316">json.cpp:2316</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4b8c8e50e3be57e737ae971ecf2c3fd5"><div class="ttname"><a href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">JsonOut::write</a></div><div class="ttdeci">void write(T val)</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00776">json.h:776</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a57a841c30e82540a073e8fb90f082ce2"><div class="ttname"><a href="classJsonOut.html#a57a841c30e82540a073e8fb90f082ce2">JsonOut::write_as_string</a></div><div class="ttdeci">void write_as_string(const E value)</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00840">json.h:840</a></div></div>
<div class="ttc" id="aclassJsonOut_html_aa38d37840ed6ba168b78a43570e98681"><div class="ttname"><a href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">JsonOut::end_object</a></div><div class="ttdeci">void end_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02327">json.cpp:2327</a></div></div>
<div class="ttc" id="aclassJsonOut_html_afb935698620b87ff71b01e7763004de1"><div class="ttname"><a href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">JsonOut::member</a></div><div class="ttdeci">void member(std::string_view name)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02422">json.cpp:2422</a></div></div>
<div class="ttc" id="aclassJsonValue_html"><div class="ttname"><a href="classJsonValue.html">JsonValue</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00166">flexbuffer_json.h:167</a></div></div>
<div class="ttc" id="aclassJson_html_a44df75c9577d85daffb2a7a8ceca74da"><div class="ttname"><a href="classJson.html#a44df75c9577d85daffb2a7a8ceca74da">Json::str</a></div><div class="ttdeci">std::string str() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8cpp_source.html#l00136">flexbuffer_json.cpp:136</a></div></div>
<div class="ttc" id="aclassammunition__type_html_a236169a55b7679baaa96e491c36e57d9"><div class="ttname"><a href="classammunition__type.html#a236169a55b7679baaa96e491c36e57d9">ammunition_type::default_ammotype</a></div><div class="ttdeci">const itype_id &amp; default_ammotype() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo_8h_source.html#l00020">ammo.h:20</a></div></div>
<div class="ttc" id="aclassgeneric__factory_html"><div class="ttname"><a href="classgeneric__factory.html">generic_factory</a></div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00119">generic_factory.h:120</a></div></div>
<div class="ttc" id="aclassint__id_html_a315169d32cce4267b7c8dceff4b0d1d7"><div class="ttname"><a href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">int_id::obj</a></div><div class="ttdeci">const ammo_effect &amp; obj() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00026">ammo_effect.cpp:26</a></div></div>
<div class="ttc" id="aclassitem__stack_html_a83fd3bd296c75326b3709280804acef4"><div class="ttname"><a href="classitem__stack.html#a83fd3bd296c75326b3709280804acef4">item_stack::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8cpp_source.html#l00019">item_stack.cpp:19</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassitem_html_a016494fa25a7a403fe78fadbd90b267b"><div class="ttname"><a href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">item::count</a></div><div class="ttdeci">int count() const</div><div class="ttdoc">If count_by_charges(), returns charges, otherwise 1.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08623">item.cpp:8623</a></div></div>
<div class="ttc" id="aclassitem_html_a11cf8d500b6d8106302470dce5ca9177"><div class="ttname"><a href="classitem.html#a11cf8d500b6d8106302470dce5ca9177">item::find_type</a></div><div class="ttdeci">static const itype * find_type(const itype_id &amp;type)</div><div class="ttdoc">Returns the item type of the given identifier.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14581">item.cpp:14581</a></div></div>
<div class="ttc" id="aclassitem_html_a28fa4969a257ea0b79acc9c60595ee7b"><div class="ttname"><a href="classitem.html#a28fa4969a257ea0b79acc9c60595ee7b">item::can_contain</a></div><div class="ttdeci">ret_val&lt; void &gt; can_contain(const item &amp;it, bool nested=false, bool ignore_rigidity=false, bool ignore_pkt_settings=true, bool is_pick_up_inv=false, const item_location &amp;parent_it=item_location(), units::volume remaining_parent_volume=10000000_ml, bool allow_nested=true) const</div><div class="ttdoc">Can the pocket contain the specified item?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l10101">item.cpp:10101</a></div></div>
<div class="ttc" id="aclassitem_html_a3157f01f1da6fe89bdbc87db2605afb9"><div class="ttname"><a href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">item::weight</a></div><div class="ttdeci">units::mass weight(bool include_contents=true, bool integral=false) const</div><div class="ttdoc">Total weight of an item accounting for all contained/integrated items.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07081">item.cpp:7081</a></div></div>
<div class="ttc" id="aclassitem_html_a438855ffd52d33307e1dfba6d607535b"><div class="ttname"><a href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a></div><div class="ttdeci">static std::string nname(const itype_id &amp;id, unsigned int quantity=1)</div><div class="ttdoc">Returns the translated item name for the item with given id.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14557">item.cpp:14557</a></div></div>
<div class="ttc" id="aclassitem_html_a4c54ded219374a2f5f80e8eee192dcdf"><div class="ttname"><a href="classitem.html#a4c54ded219374a2f5f80e8eee192dcdf">item::type_is_defined</a></div><div class="ttdeci">static bool type_is_defined(const itype_id &amp;id)</div><div class="ttdoc">Check whether the type id refers to a known type.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14576">item.cpp:14576</a></div></div>
<div class="ttc" id="aclassitem_html_a686df014e8aa8bc4637883802d05f935"><div class="ttname"><a href="classitem.html#a686df014e8aa8bc4637883802d05f935">item::volume</a></div><div class="ttdeci">units::volume volume(bool integral=false, bool ignore_contents=false, int charges_in_vol=-1) const</div><div class="ttdoc">Total volume of an item accounting for all contained/integrated items NOTE: Result is rounded up to n...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07360">item.cpp:7360</a></div></div>
<div class="ttc" id="aclassitem_html_ac3802e76b128e7ee2982352e7ad72030"><div class="ttname"><a href="classitem.html#ac3802e76b128e7ee2982352e7ad72030">item::color</a></div><div class="ttdeci">nc_color color() const</div><div class="ttdoc">Returns the default color of the item (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07018">item.cpp:7018</a></div></div>
<div class="ttc" id="aclassitem_html_ad8d4ac9512f65051e505e3359b5a6f2c"><div class="ttname"><a href="classitem.html#ad8d4ac9512f65051e505e3359b5a6f2c">item::is_fuel</a></div><div class="ttdeci">bool is_fuel() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09761">item.cpp:9761</a></div></div>
<div class="ttc" id="aclassjson__flag_html_ad60cc8cafad9e89dfbab36fd8dbd0eda"><div class="ttname"><a href="classjson__flag.html#ad60cc8cafad9e89dfbab36fd8dbd0eda">json_flag::get</a></div><div class="ttdeci">static const json_flag &amp; get(const std::string &amp;id)</div><div class="ttdoc">Fetches flag definition (or null flag if not found)</div><div class="ttdef"><b>Definition:</b> <a href="flag_8cpp_source.html#l00404">flag.cpp:404</a></div></div>
<div class="ttc" id="aclassmigration_html"><div class="ttname"><a href="classmigration.html">migration</a></div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00042">item_factory.h:43</a></div></div>
<div class="ttc" id="aclassmigration_html_ae05d2497564d4cf8245d8c6cad1f2f26"><div class="ttname"><a href="classmigration.html#ae05d2497564d4cf8245d8c6cad1f2f26">migration::variant</a></div><div class="ttdeci">std::string variant</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00046">item_factory.h:46</a></div></div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00347">color.h:348</a></div></div>
<div class="ttc" id="aclassnpc_html"><div class="ttname"><a href="classnpc.html">npc</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00791">npc.h:792</a></div></div>
<div class="ttc" id="aclasspocket__data_html"><div class="ttname"><a href="classpocket__data.html">pocket_data</a></div><div class="ttdef"><b>Definition:</b> <a href="item__pocket_8h_source.html#l00450">item_pocket.h:451</a></div></div>
<div class="ttc" id="aclasspocket__data_html_a0396faa6773cd1cff9bd0717ad957296"><div class="ttname"><a href="classpocket__data.html#a0396faa6773cd1cff9bd0717ad957296">pocket_data::item_id_restriction</a></div><div class="ttdeci">cata::flat_set&lt; itype_id &gt; item_id_restriction</div><div class="ttdef"><b>Definition:</b> <a href="item__pocket_8h_source.html#l00539">item_pocket.h:539</a></div></div>
<div class="ttc" id="aclassret__val__common_html_a933807b816264e791e488ed5e7abb1c3"><div class="ttname"><a href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">ret_val_common::success</a></div><div class="ttdeci">bool success() const</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00013">ret_val.h:13</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; ammunition_type &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_a1b2100ed077789ba45aaf5081791b36c"><div class="ttname"><a href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">string_id&lt; itype &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; itype &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="aclassstring__id_html_a2c0e3a434bcb9e3c353b337053ff22d8"><div class="ttname"><a href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">string_id::c_str</a></div><div class="ttdeci">const char * c_str() const</div><div class="ttdoc">Interface to the plain C-string of the id.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00252">string_id.h:252</a></div></div>
<div class="ttc" id="aclassstring__id_html_a3ca78345025397b3d3ac22729ba1684b"><div class="ttname"><a href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">string_id::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Returns whether this represents the id of the null-object (in which case it's the null-id).</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00322">string_id.h:322</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00071">achievement.cpp:71</a></div></div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00078">achievement.cpp:78</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae75b0a209b55081a67c5fe6c17a4be00"><div class="ttname"><a href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00260">string_id.h:260</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00196">calendar.h:197</a></div></div>
<div class="ttc" id="aclasstime__duration_html_aacd074821aecb38a24d9ce6ca42a9127"><div class="ttname"><a href="classtime__duration.html#aacd074821aecb38a24d9ce6ca42a9127">time_duration::from_moves</a></div><div class="ttdeci">static constexpr time_duration from_moves(const T t)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00225">calendar.h:225</a></div></div>
<div class="ttc" id="aclasstranslation_html_a30b5b9d586c786942c2321701a53e572"><div class="ttname"><a href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translation::translated</a></div><div class="ttdeci">std::string translated(int num=1) const</div><div class="ttdoc">Returns raw string if no translation is needed, otherwise returns the translated string.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8cpp_source.html#l00294">translation.cpp:294</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00028">units.h:29</a></div></div>
<div class="ttc" id="aclassvehicle__stack_html"><div class="ttname"><a href="classvehicle__stack.html">vehicle_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00173">vehicle.h:174</a></div></div>
<div class="ttc" id="aclassvehicle_html"><div class="ttname"><a href="classvehicle.html">vehicle</a></div><div class="ttdoc">A vehicle as a whole with all its components.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00801">vehicle.h:802</a></div></div>
<div class="ttc" id="aclassvehicle_html_a030263e1db60c034caa9e6f24199cd33"><div class="ttname"><a href="classvehicle.html#a030263e1db60c034caa9e6f24199cd33">vehicle::install_part</a></div><div class="ttdeci">int install_part(const point &amp;dp, const vpart_id &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l01450">vehicle.cpp:1450</a></div></div>
<div class="ttc" id="aclassvehicle_html_a1369f357d2165aae36bb485ca703029a"><div class="ttname"><a href="classvehicle.html#a1369f357d2165aae36bb485ca703029a">vehicle::can_mount</a></div><div class="ttdeci">ret_val&lt; void &gt; can_mount(const point &amp;dp, const vpart_info &amp;vpi) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l01181">vehicle.cpp:1181</a></div></div>
<div class="ttc" id="aclassvehicle_html_a1994ca720f9bd60f9fc14e9cf27e0381"><div class="ttname"><a href="classvehicle.html#a1994ca720f9bd60f9fc14e9cf27e0381">vehicle::suspend_refresh</a></div><div class="ttdeci">void suspend_refresh()</div><div class="ttdoc">Disable or enable refresh() ; used to speed up performance when creating a vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l06135">vehicle.cpp:6135</a></div></div>
<div class="ttc" id="aclassvehicle_html_a22b8b1fe66df7091af2eb16f62fb711b"><div class="ttname"><a href="classvehicle.html#a22b8b1fe66df7091af2eb16f62fb711b">vehicle::type</a></div><div class="ttdeci">vproto_id type</div><div class="ttdoc">Type of the vehicle as it was spawned.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02207">vehicle.h:2207</a></div></div>
<div class="ttc" id="aclassvehicle_html_a397b40aa92dd1fd09ee592aa279bc656"><div class="ttname"><a href="classvehicle.html#a397b40aa92dd1fd09ee592aa279bc656">vehicle::get_all_parts</a></div><div class="ttdeci">vehicle_part_range get_all_parts() const</div><div class="ttdoc">Yields a range containing all parts (including broken ones) that can be iterated over.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l08119">vehicle.cpp:8119</a></div></div>
<div class="ttc" id="aclassvehicle_html_a441fa41f264fb7bc45df81d71244a0d1"><div class="ttname"><a href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">vehicle::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02201">vehicle.h:2201</a></div></div>
<div class="ttc" id="aclassvehicle_html_a5c6daa8559b64b4f1e285612688be928"><div class="ttname"><a href="classvehicle.html#a5c6daa8559b64b4f1e285612688be928">vehicle::part_displayed_at</a></div><div class="ttdeci">int part_displayed_at(const point &amp;dp, bool include_fake=false, bool below_roof=true, bool roof=true) const</div><div class="ttdoc">Returns which part (as an index into the parts list) is the one that will be displayed for the given ...</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03246">vehicle.cpp:3246</a></div></div>
<div class="ttc" id="aclassvehicle_html_a649520b2771528912e35040ff307b6fb"><div class="ttname"><a href="classvehicle.html#a649520b2771528912e35040ff307b6fb">vehicle::enable_refresh</a></div><div class="ttdeci">void enable_refresh()</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l06148">vehicle.cpp:6148</a></div></div>
<div class="ttc" id="aclassvehicle_html_a7169d55f706c34c402ed7ff8e9fa13f3"><div class="ttname"><a href="classvehicle.html#a7169d55f706c34c402ed7ff8e9fa13f3">vehicle::get_display_of_tile</a></div><div class="ttdeci">vpart_display get_display_of_tile(const point &amp;dp, bool rotate=true, bool include_fake=true, bool below_roof=true, bool roof=true) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__display_8cpp_source.html#l00059">vehicle_display.cpp:59</a></div></div>
<div class="ttc" id="aclassvehicle_html_a73c676d9eef6163861a38a45d6a08ef4"><div class="ttname"><a href="classvehicle.html#a73c676d9eef6163861a38a45d6a08ef4">vehicle::get_tools</a></div><div class="ttdeci">std::vector&lt; item &gt; &amp; get_tools(vehicle_part &amp;vp)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l05927">vehicle.cpp:5927</a></div></div>
<div class="ttc" id="aclassvehicle_html_a90b6f438b5ae343dab2b131c64293584"><div class="ttname"><a href="classvehicle.html#a90b6f438b5ae343dab2b131c64293584">vehicle::loot_zones</a></div><div class="ttdeci">std::unordered_multimap&lt; point, zone_data &gt; loot_zones</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02216">vehicle.h:2216</a></div></div>
<div class="ttc" id="aclassvehicle_html_aa10bbf2045f3581a65049d7b7b5071ae"><div class="ttname"><a href="classvehicle.html#aa10bbf2045f3581a65049d7b7b5071ae">vehicle::part_count</a></div><div class="ttdeci">int part_count() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l08124">vehicle.cpp:8124</a></div></div>
<div class="ttc" id="aclassvehicle_html_abbc4051229bf116dfd03c53dcc4a0765"><div class="ttname"><a href="classvehicle.html#abbc4051229bf116dfd03c53dcc4a0765">vehicle::get_items</a></div><div class="ttdeci">vehicle_stack get_items(const vehicle_part &amp;vp) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l05922">vehicle.cpp:5922</a></div></div>
<div class="ttc" id="aclassvehicle_html_acdb2ebf673a32f657ac9e29b842ee7f5"><div class="ttname"><a href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">vehicle::part</a></div><div class="ttdeci">vehicle_part &amp; part(int part_num)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l08098">vehicle.cpp:8098</a></div></div>
<div class="ttc" id="aclassvehicle_html_adfbc0794c9bb9a5f1d75e1c52a2e561a"><div class="ttname"><a href="classvehicle.html#adfbc0794c9bb9a5f1d75e1c52a2e561a">vehicle::get_any_parts</a></div><div class="ttdeci">vehicle_part_with_feature_range&lt; std::string &gt; get_any_parts(std::string feature) const</div><div class="ttdoc">Yields a range of parts of this vehicle that each have the given feature and not removed.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03037">vehicle.cpp:3037</a></div></div>
<div class="ttc" id="aclassvpart__category_html"><div class="ttname"><a href="classvpart__category.html">vpart_category</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00177">veh_type.h:178</a></div></div>
<div class="ttc" id="aclassvpart__category_html_a0e1d7e5b5854bdee7abe719b45842d08"><div class="ttname"><a href="classvpart__category.html#a0e1d7e5b5854bdee7abe719b45842d08">vpart_category::all</a></div><div class="ttdeci">static const std::vector&lt; vpart_category &gt; &amp; all()</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01702">veh_type.cpp:1702</a></div></div>
<div class="ttc" id="aclassvpart__category_html_a3f0e834b23cc95232f914e4d071d7bdd"><div class="ttname"><a href="classvpart__category.html#a3f0e834b23cc95232f914e4d071d7bdd">vpart_category::priority_</a></div><div class="ttdeci">int priority_</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00206">veh_type.h:206</a></div></div>
<div class="ttc" id="aclassvpart__category_html_a7c799ea1218001d1b84e5c2515930506"><div class="ttname"><a href="classvpart__category.html#a7c799ea1218001d1b84e5c2515930506">vpart_category::short_name_</a></div><div class="ttdeci">translation short_name_</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00205">veh_type.h:205</a></div></div>
<div class="ttc" id="aclassvpart__category_html_a8680837eb2e954e957df5477411c83a0"><div class="ttname"><a href="classvpart__category.html#a8680837eb2e954e957df5477411c83a0">vpart_category::load</a></div><div class="ttdeci">static void load(const JsonObject &amp;jo)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01707">veh_type.cpp:1707</a></div></div>
<div class="ttc" id="aclassvpart__category_html_a8dc950fb7d919c02ba0d720be2b72aad"><div class="ttname"><a href="classvpart__category.html#a8dc950fb7d919c02ba0d720be2b72aad">vpart_category::finalize</a></div><div class="ttdeci">static void finalize()</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01719">veh_type.cpp:1719</a></div></div>
<div class="ttc" id="aclassvpart__category_html_a981686be9ba43c45dfe30817358bf471"><div class="ttname"><a href="classvpart__category.html#a981686be9ba43c45dfe30817358bf471">vpart_category::id_</a></div><div class="ttdeci">std::string id_</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00203">veh_type.h:203</a></div></div>
<div class="ttc" id="aclassvpart__category_html_a9cf51ef8a8b5b71d5d8d011f080a34ae"><div class="ttname"><a href="classvpart__category.html#a9cf51ef8a8b5b71d5d8d011f080a34ae">vpart_category::reset</a></div><div class="ttdeci">static void reset()</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01724">veh_type.cpp:1724</a></div></div>
<div class="ttc" id="aclassvpart__category_html_aef2c9ef9d3c3b180f2147c6b6ac4957b"><div class="ttname"><a href="classvpart__category.html#aef2c9ef9d3c3b180f2147c6b6ac4957b">vpart_category::name_</a></div><div class="ttdeci">translation name_</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00204">veh_type.h:204</a></div></div>
<div class="ttc" id="aclassvpart__display_html"><div class="ttname"><a href="classvpart__display.html">vpart_display</a></div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00711">vehicle.h:712</a></div></div>
<div class="ttc" id="aclassvpart__info_html"><div class="ttname"><a href="classvpart__info.html">vpart_info</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00239">veh_type.h:240</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a010d7002072c22b1029fdbfbf310cedc"><div class="ttname"><a href="classvpart__info.html#a010d7002072c22b1029fdbfbf310cedc">vpart_info::dmg_mod</a></div><div class="ttdeci">int dmg_mod</div><div class="ttdoc">Damage modifier (percentage) used when damaging other entities upon collision.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00412">veh_type.h:412</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a039157d3a00d16e4099c62982580bdde"><div class="ttname"><a href="classvpart__info.html#a039157d3a00d16e4099c62982580bdde">vpart_info::removal_reqs</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; requirement_id, int &gt; &gt; removal_reqs</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00324">veh_type.h:324</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a03cfe554b18beb9c32d9a86872a1748e"><div class="ttname"><a href="classvpart__info.html#a03cfe554b18beb9c32d9a86872a1748e">vpart_info::location</a></div><div class="ttdeci">std::string location</div><div class="ttdoc">What slot of the vehicle tile does this part occupy?</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00406">veh_type.h:406</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a045ec8a08f0635075ab6ae72ace5b62e"><div class="ttname"><a href="classvpart__info.html#a045ec8a08f0635075ab6ae72ace5b62e">vpart_info::floor_bedding_warmth</a></div><div class="ttdeci">units::temperature_delta floor_bedding_warmth</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00452">veh_type.h:452</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a092286f8dfa6c5c57b5c8244ffe37c41"><div class="ttname"><a href="classvpart__info.html#a092286f8dfa6c5c57b5c8244ffe37c41">vpart_info::get_pseudo_tools</a></div><div class="ttdeci">std::set&lt; std::pair&lt; itype_id, int &gt; &gt; get_pseudo_tools() const</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01131">veh_type.cpp:1131</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a097474bbc0b960cdca3d0d61072ca044"><div class="ttname"><a href="classvpart__info.html#a097474bbc0b960cdca3d0d61072ca044">vpart_info::damage_reduction</a></div><div class="ttdeci">std::unordered_map&lt; damage_type_id, float &gt; damage_reduction</div><div class="ttdoc">Flat decrease of damage of a given type.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00361">veh_type.h:361</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a0a1a6d9b604649440a41ba6b8b4188db"><div class="ttname"><a href="classvpart__info.html#a0a1a6d9b604649440a41ba6b8b4188db">vpart_info::emissions</a></div><div class="ttdeci">std::set&lt; emit_id &gt; emissions</div><div class="ttdoc">Emissions of part.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00367">veh_type.h:367</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a0f73b11eb661c4b3401782c895404251"><div class="ttname"><a href="classvpart__info.html#a0f73b11eb661c4b3401782c895404251">vpart_info::flags</a></div><div class="ttdeci">std::set&lt; std::string &gt; flags</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00316">veh_type.h:316</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a101954a8e6972f98d28b810ab71eea8c"><div class="ttname"><a href="classvpart__info.html#a101954a8e6972f98d28b810ab71eea8c">vpart_info::is_repairable</a></div><div class="ttdeci">bool is_repairable() const</div><div class="ttdoc">Returns whether or not the part type is repairable.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01087">veh_type.cpp:1087</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a160cad4578895aa1f7006436dd57f5cd"><div class="ttname"><a href="classvpart__info.html#a160cad4578895aa1f7006436dd57f5cd">vpart_info::bonus</a></div><div class="ttdeci">int bonus</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00445">veh_type.h:445</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a16ca9b50254b09e4fb3968a70c57330a"><div class="ttname"><a href="classvpart__info.html#a16ca9b50254b09e4fb3968a70c57330a">vpart_info::z_order</a></div><div class="ttdeci">int z_order</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00456">veh_type.h:456</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a1aef28b4c9e50bf73ea1f974847cdd94"><div class="ttname"><a href="classvpart__info.html#a1aef28b4c9e50bf73ea1f974847cdd94">vpart_info::rotor_info</a></div><div class="ttdeci">std::optional&lt; vpslot_rotor &gt; rotor_info</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00298">veh_type.h:298</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a1c9c63756ae03afb7895298c3a8d37df"><div class="ttname"><a href="classvpart__info.html#a1c9c63756ae03afb7895298c3a8d37df">vpart_info::was_loaded</a></div><div class="ttdeci">bool was_loaded</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00460">veh_type.h:460</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a2055191c93098bb6c9e2287ade377293"><div class="ttname"><a href="classvpart__info.html#a2055191c93098bb6c9e2287ade377293">vpart_info::folding_time</a></div><div class="ttdeci">time_duration folding_time</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00334">veh_type.h:334</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a2231bffb67ba197eef2055f3f182c75c"><div class="ttname"><a href="classvpart__info.html#a2231bffb67ba197eef2055f3f182c75c">vpart_info::breaks_into_group</a></div><div class="ttdeci">item_group_id breaks_into_group</div><div class="ttdoc">item_group this part breaks into when destroyed</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00358">veh_type.h:358</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a269038d27c228c2175b1504c57b45ef9"><div class="ttname"><a href="classvpart__info.html#a269038d27c228c2175b1504c57b45ef9">vpart_info::removal_skills</a></div><div class="ttdeci">std::map&lt; skill_id, int &gt; removal_skills</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00351">veh_type.h:351</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a26d45b54a7e13b4dcde1ae937bbdb604"><div class="ttname"><a href="classvpart__info.html#a26d45b54a7e13b4dcde1ae937bbdb604">vpart_info::install_time</a></div><div class="ttdeci">time_duration install_time(const Character &amp;you) const</div><div class="ttdoc">Installation time (in moves) for this component accounting for player skills.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01111">veh_type.cpp:1111</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a28f07d097a4507fe70ad257f7b4271ec"><div class="ttname"><a href="classvpart__info.html#a28f07d097a4507fe70ad257f7b4271ec">vpart_info::qualities</a></div><div class="ttdeci">std::map&lt; quality_id, int &gt; qualities</div><div class="ttdoc">Tool qualities this vehicle part can provide when installed.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00364">veh_type.h:364</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a29ca143d0c8a65b9c4848106cc02a837"><div class="ttname"><a href="classvpart__info.html#a29ca143d0c8a65b9c4848106cc02a837">vpart_info::cargo_weight_modifier</a></div><div class="ttdeci">int cargo_weight_modifier</div><div class="ttdoc">cargo weight modifier (percentage)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00448">veh_type.h:448</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a2b7584e0ad10a1922caee915600e0381"><div class="ttname"><a href="classvpart__info.html#a2b7584e0ad10a1922caee915600e0381">vpart_info::folded_volume</a></div><div class="ttdeci">std::optional&lt; units::volume &gt; folded_volume</div><div class="ttdoc">Volume of a foldable part when folded.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00388">veh_type.h:388</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a2def774679ed462df2105a07c9e5d419"><div class="ttname"><a href="classvpart__info.html#a2def774679ed462df2105a07c9e5d419">vpart_info::power</a></div><div class="ttdeci">units::power power</div><div class="ttdoc">For engines and motors this is maximum output (watts) For alternators is engine power consumed (negat...</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00430">veh_type.h:430</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a3689e9da789ddf709bb61b6174d333aa"><div class="ttname"><a href="classvpart__info.html#a3689e9da789ddf709bb61b6174d333aa">vpart_info::has_control_req</a></div><div class="ttdeci">bool has_control_req() const</div><div class="ttdoc">Returns whether or not the vehicle this part installed requires something to control.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01156">veh_type.cpp:1156</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a37bc6fc50c287ea4d63c14eab94d232f"><div class="ttname"><a href="classvpart__info.html#a37bc6fc50c287ea4d63c14eab94d232f">vpart_info::variant_default</a></div><div class="ttdeci">std::string variant_default</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00344">veh_type.h:344</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a3b1ee1f94fbeab121098a6e554a76c8d"><div class="ttname"><a href="classvpart__info.html#a3b1ee1f94fbeab121098a6e554a76c8d">vpart_info::comfort</a></div><div class="ttdeci">int comfort</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00451">veh_type.h:451</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a4187d7636ca6a08e5a46ad2300be7bbb"><div class="ttname"><a href="classvpart__info.html#a4187d7636ca6a08e5a46ad2300be7bbb">vpart_info::src</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; vpart_id, mod_id &gt; &gt; src</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00461">veh_type.h:461</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a45db83a321e33c60a441a2e40df230cb"><div class="ttname"><a href="classvpart__info.html#a45db83a321e33c60a441a2e40df230cb">vpart_info::get_unfolding_tools</a></div><div class="ttdeci">std::vector&lt; itype_id &gt; get_unfolding_tools() const</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01141">veh_type.cpp:1141</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a4bbbf5f33c61201331632476969aab18"><div class="ttname"><a href="classvpart__info.html#a4bbbf5f33c61201331632476969aab18">vpart_info::categories</a></div><div class="ttdeci">std::set&lt; std::string &gt; categories</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00318">veh_type.h:318</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a4be0b8858597bcda2fb5b3799083c017"><div class="ttname"><a href="classvpart__info.html#a4be0b8858597bcda2fb5b3799083c017">vpart_info::control_land</a></div><div class="ttdeci">vp_control_req control_land</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00355">veh_type.h:355</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a51a8b41076c1f0eeb51f1ac620aa9791"><div class="ttname"><a href="classvpart__info.html#a51a8b41076c1f0eeb51f1ac620aa9791">vpart_info::name_</a></div><div class="ttdeci">translation name_</div><div class="ttdoc">Name from vehicle part definition which if set overrides the base item name.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00339">veh_type.h:339</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a53bd66709b2938d65d9dc3ac6224d244"><div class="ttname"><a href="classvpart__info.html#a53bd66709b2938d65d9dc3ac6224d244">vpart_info::default_ammo</a></div><div class="ttdeci">itype_id default_ammo</div><div class="ttdoc">Default ammo (for turrets)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00385">veh_type.h:385</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a5b6955086e93f7b7939d4de0ed40f4d0"><div class="ttname"><a href="classvpart__info.html#a5b6955086e93f7b7939d4de0ed40f4d0">vpart_info::repair_time</a></div><div class="ttdeci">time_duration repair_time(const Character &amp;you) const</div><div class="ttdoc">Repair time (in moves) to fully repair this component, accounting for player skills.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01121">veh_type.cpp:1121</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a5e8e258c4d902ff213c2aa87b73c4120"><div class="ttname"><a href="classvpart__info.html#a5e8e258c4d902ff213c2aa87b73c4120">vpart_info::unfolding_time</a></div><div class="ttdeci">time_duration unfolding_time</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00336">veh_type.h:336</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a67a9d5dbed71d65699d08423f7451346"><div class="ttname"><a href="classvpart__info.html#a67a9d5dbed71d65699d08423f7451346">vpart_info::bonus_fire_warmth_feet</a></div><div class="ttdeci">units::temperature_delta bonus_fire_warmth_feet</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00453">veh_type.h:453</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a6b86d2889bc16cb31548f08b59cfec71"><div class="ttname"><a href="classvpart__info.html#a6b86d2889bc16cb31548f08b59cfec71">vpart_info::energy_consumption</a></div><div class="ttdeci">units::power energy_consumption</div><div class="ttdoc">Energy consumed per second by engines and motors when delivering max power Includes waste.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00424">veh_type.h:424</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a6ee4e71769c619a8840aab93fc8a08f7"><div class="ttname"><a href="classvpart__info.html#a6ee4e71769c619a8840aab93fc8a08f7">vpart_info::repair_moves</a></div><div class="ttdeci">time_duration repair_moves</div><div class="ttdoc">Repair time to fully repair a component (.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00435">veh_type.h:435</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a7014b747f41e22005a458060fc85a5ad"><div class="ttname"><a href="classvpart__info.html#a7014b747f41e22005a458060fc85a5ad">vpart_info::engine_info</a></div><div class="ttdeci">std::optional&lt; vpslot_engine &gt; engine_info</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00296">veh_type.h:296</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a729a317baf64f9109b5bed11f32b9530"><div class="ttname"><a href="classvpart__info.html#a729a317baf64f9109b5bed11f32b9530">vpart_info::unfolding_tools</a></div><div class="ttdeci">std::vector&lt; itype_id &gt; unfolding_tools</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00332">veh_type.h:332</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a753bdc5837a0211460484e9a4daa6f52"><div class="ttname"><a href="classvpart__info.html#a753bdc5837a0211460484e9a4daa6f52">vpart_info::get_categories</a></div><div class="ttdeci">const std::set&lt; std::string &gt; &amp; get_categories() const</div><div class="ttdoc">Gets all categories of this part.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00452">veh_type.cpp:452</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a7fad5e6f56eb6732f210c234199fca07"><div class="ttname"><a href="classvpart__info.html#a7fad5e6f56eb6732f210c234199fca07">vpart_info::repair_requirements</a></div><div class="ttdeci">requirement_data repair_requirements() const</div><div class="ttdoc">Requirements for repair of this component (per level of damage)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01082">veh_type.cpp:1082</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a80c8ca1cb460e5dc98ac2ea75aaf83b9"><div class="ttname"><a href="classvpart__info.html#a80c8ca1cb460e5dc98ac2ea75aaf83b9">vpart_info::removal_requirements</a></div><div class="ttdeci">requirement_data removal_requirements() const</div><div class="ttdoc">Requirements for removal of this component.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01077">veh_type.cpp:1077</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a87cda0d50c8d3fb88263bc67b2a3f87f"><div class="ttname"><a href="classvpart__info.html#a87cda0d50c8d3fb88263bc67b2a3f87f">vpart_info::variants_bases</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; variants_bases</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00346">veh_type.h:346</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a9349b8416f91bb3029e9a8c9991d0a4a"><div class="ttname"><a href="classvpart__info.html#a9349b8416f91bb3029e9a8c9991d0a4a">vpart_info::install_skills</a></div><div class="ttdeci">std::map&lt; skill_id, int &gt; install_skills</div><div class="ttdoc">Required skills to install, repair, or remove this component.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00349">veh_type.h:349</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a98cb7aca1e579b146594fdba80f82ab6"><div class="ttname"><a href="classvpart__info.html#a98cb7aca1e579b146594fdba80f82ab6">vpart_info::has_category</a></div><div class="ttdeci">bool has_category(const std::string &amp;category) const</div><div class="ttdoc">Gets whether part is in a category for display.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01126">veh_type.cpp:1126</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a9c60cba4bf36789bc6b5723a3029c07d"><div class="ttname"><a href="classvpart__info.html#a9c60cba4bf36789bc6b5723a3029c07d">vpart_info::load</a></div><div class="ttdeci">void load(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00265">veh_type.cpp:265</a></div></div>
<div class="ttc" id="aclassvpart__info_html_a9e1425acfdd3616655ebfcf3f1c0215f"><div class="ttname"><a href="classvpart__info.html#a9e1425acfdd3616655ebfcf3f1c0215f">vpart_info::epower</a></div><div class="ttdeci">units::power epower</div><div class="ttdoc">Electrical power, flat rate energy (per second); positive for generation, negative for consumption Fo...</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00418">veh_type.h:418</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aa05e0a57a325aa3f780b480130bfc5db"><div class="ttname"><a href="classvpart__info.html#aa05e0a57a325aa3f780b480130bfc5db">vpart_info::get_flags</a></div><div class="ttdeci">const std::set&lt; std::string &gt; &amp; get_flags() const</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00253">veh_type.h:253</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aa0b0d9ec034a8fd8ec95a209cb251d16"><div class="ttname"><a href="classvpart__info.html#aa0b0d9ec034a8fd8ec95a209cb251d16">vpart_info::pseudo_tools</a></div><div class="ttdeci">std::set&lt; std::pair&lt; itype_id, int &gt; &gt; pseudo_tools</div><div class="ttdoc">Pseudo tools this provides when installed, second is the hotkey.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00328">veh_type.h:328</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aa2ed979e48face27b7038e5ad81a5ced"><div class="ttname"><a href="classvpart__info.html#aa2ed979e48face27b7038e5ad81a5ced">vpart_info::get_unfolding_time</a></div><div class="ttdeci">time_duration get_unfolding_time() const</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01151">veh_type.cpp:1151</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aa681869e7270c5f25cb57ca32326938e"><div class="ttname"><a href="classvpart__info.html#aa681869e7270c5f25cb57ca32326938e">vpart_info::wheel_info</a></div><div class="ttdeci">std::optional&lt; vpslot_wheel &gt; wheel_info</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00297">veh_type.h:297</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aace91a24e6194a874cb468bb237368ea"><div class="ttname"><a href="classvpart__info.html#aace91a24e6194a874cb468bb237368ea">vpart_info::install_requirements</a></div><div class="ttdeci">requirement_data install_requirements() const</div><div class="ttdoc">Installation requirements for this component.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01072">veh_type.cpp:1072</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aae32be2c394d54d7af8842d41725029a"><div class="ttname"><a href="classvpart__info.html#aae32be2c394d54d7af8842d41725029a">vpart_info::finalize</a></div><div class="ttdeci">void finalize()</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00633">veh_type.cpp:633</a></div></div>
<div class="ttc" id="aclassvpart__info_html_ab3e85db4c52712e931240bcd49ecb6f0"><div class="ttname"><a href="classvpart__info.html#ab3e85db4c52712e931240bcd49ecb6f0">vpart_info::bitflags</a></div><div class="ttdeci">std::bitset&lt; NUM_VPFLAGS &gt; bitflags</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00320">veh_type.h:320</a></div></div>
<div class="ttc" id="aclassvpart__info_html_ab56d6d3b1038e6346d0f5f26b46f6364"><div class="ttname"><a href="classvpart__info.html#ab56d6d3b1038e6346d0f5f26b46f6364">vpart_info::get_folding_time</a></div><div class="ttdeci">time_duration get_folding_time() const</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01146">veh_type.cpp:1146</a></div></div>
<div class="ttc" id="aclassvpart__info_html_ab727d12368bb71387cd8a2f5ab80d7eb"><div class="ttname"><a href="classvpart__info.html#ab727d12368bb71387cd8a2f5ab80d7eb">vpart_info::repair_skills</a></div><div class="ttdeci">std::map&lt; skill_id, int &gt; repair_skills</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00350">veh_type.h:350</a></div></div>
<div class="ttc" id="aclassvpart__info_html_ab9e299387c96ed9cea5a99ba46f58c3e"><div class="ttname"><a href="classvpart__info.html#ab9e299387c96ed9cea5a99ba46f58c3e">vpart_info::base_item</a></div><div class="ttdeci">itype_id base_item</div><div class="ttdoc">base item for this part</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00400">veh_type.h:400</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aba80d384b977306eb749c9c9958a62a7"><div class="ttname"><a href="classvpart__info.html#aba80d384b977306eb749c9c9958a62a7">vpart_info::id</a></div><div class="ttdeci">vpart_id id</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00242">veh_type.h:242</a></div></div>
<div class="ttc" id="aclassvpart__info_html_abc2abb40bda9593afb1bbb2e897261d0"><div class="ttname"><a href="classvpart__info.html#abc2abb40bda9593afb1bbb2e897261d0">vpart_info::toolkit_info</a></div><div class="ttdeci">std::optional&lt; vpslot_toolkit &gt; toolkit_info</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00295">veh_type.h:295</a></div></div>
<div class="ttc" id="aclassvpart__info_html_abc8ed0753a4ee7b96d2ee40642a0a58a"><div class="ttname"><a href="classvpart__info.html#abc8ed0753a4ee7b96d2ee40642a0a58a">vpart_info::get_folding_tools</a></div><div class="ttdeci">std::vector&lt; itype_id &gt; get_folding_tools() const</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01136">veh_type.cpp:1136</a></div></div>
<div class="ttc" id="aclassvpart__info_html_abcdec90d7cc149b619e656e70122c477"><div class="ttname"><a href="classvpart__info.html#abcdec90d7cc149b619e656e70122c477">vpart_info::transform_terrain_info</a></div><div class="ttdeci">std::optional&lt; vpslot_terrain_transform &gt; transform_terrain_info</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00299">veh_type.h:299</a></div></div>
<div class="ttc" id="aclassvpart__info_html_abe527666ead23374300587a33a86760e"><div class="ttname"><a href="classvpart__info.html#abe527666ead23374300587a33a86760e">vpart_info::workbench_info</a></div><div class="ttdeci">std::optional&lt; vpslot_workbench &gt; workbench_info</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00294">veh_type.h:294</a></div></div>
<div class="ttc" id="aclassvpart__info_html_abf8b9962f6a0b0b339f2ccbaf5aa1186"><div class="ttname"><a href="classvpart__info.html#abf8b9962f6a0b0b339f2ccbaf5aa1186">vpart_info::repair_reqs</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; requirement_id, int &gt; &gt; repair_reqs</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00325">veh_type.h:325</a></div></div>
<div class="ttc" id="aclassvpart__info_html_ac49f2d6f9a4b8e42a768dfb28dad69c3"><div class="ttname"><a href="classvpart__info.html#ac49f2d6f9a4b8e42a768dfb28dad69c3">vpart_info::variants</a></div><div class="ttdeci">std::map&lt; std::string, vpart_variant &gt; variants</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00342">veh_type.h:342</a></div></div>
<div class="ttc" id="aclassvpart__info_html_ac8dbc94ea6028b13c5a9f4e8da9b14ba"><div class="ttname"><a href="classvpart__info.html#ac8dbc94ea6028b13c5a9f4e8da9b14ba">vpart_info::color</a></div><div class="ttdeci">nc_color color</div><div class="ttdoc">Color of part for different states.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00378">veh_type.h:378</a></div></div>
<div class="ttc" id="aclassvpart__info_html_acc51c37934c35e5ede0f97c314b7d537"><div class="ttname"><a href="classvpart__info.html#acc51c37934c35e5ede0f97c314b7d537">vpart_info::control_air</a></div><div class="ttdeci">vp_control_req control_air</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00354">veh_type.h:354</a></div></div>
<div class="ttc" id="aclassvpart__info_html_acfa48e8eca041ee2488c6fd601ff5740"><div class="ttname"><a href="classvpart__info.html#acfa48e8eca041ee2488c6fd601ff5740">vpart_info::handle_inheritance</a></div><div class="ttdeci">void handle_inheritance(const vpart_info &amp;copy_from, const std::unordered_map&lt; std::string, vpart_info &gt; &amp;abstracts)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00241">veh_type.cpp:241</a></div></div>
<div class="ttc" id="aclassvpart__info_html_ad0278120f4f08344894231a8d49205ec"><div class="ttname"><a href="classvpart__info.html#ad0278120f4f08344894231a8d49205ec">vpart_info::description</a></div><div class="ttdeci">translation description</div><div class="ttdoc">A text description of the part as a vehicle part.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00397">veh_type.h:397</a></div></div>
<div class="ttc" id="aclassvpart__info_html_ad0737cc6952f2e7efeb5ff4126ba3429"><div class="ttname"><a href="classvpart__info.html#ad0737cc6952f2e7efeb5ff4126ba3429">vpart_info::looks_like</a></div><div class="ttdeci">std::string looks_like</div><div class="ttdoc">hint to tilesets for what tile to use if this part doesn't have one</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00394">veh_type.h:394</a></div></div>
<div class="ttc" id="aclassvpart__info_html_ada57dbd3b58611422f5de4dea3292d19"><div class="ttname"><a href="classvpart__info.html#ada57dbd3b58611422f5de4dea3292d19">vpart_info::removed_item</a></div><div class="ttdeci">std::optional&lt; itype_id &gt; removed_item</div><div class="ttdoc">item it should be removed as</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00403">veh_type.h:403</a></div></div>
<div class="ttc" id="aclassvpart__info_html_adb605c37759929cf83dd75a78edc8c76"><div class="ttname"><a href="classvpart__info.html#adb605c37759929cf83dd75a78edc8c76">vpart_info::removal_time</a></div><div class="ttdeci">time_duration removal_time(const Character &amp;you) const</div><div class="ttdoc">Removal time (in moves) for this component accounting for player skills.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01116">veh_type.cpp:1116</a></div></div>
<div class="ttc" id="aclassvpart__info_html_adb6f70ec2e281bbcbf33228dce06a19f"><div class="ttname"><a href="classvpart__info.html#adb6f70ec2e281bbcbf33228dce06a19f">vpart_info::folding_tools</a></div><div class="ttdeci">std::vector&lt; itype_id &gt; folding_tools</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00330">veh_type.h:330</a></div></div>
<div class="ttc" id="aclassvpart__info_html_adfe04850347ddec99a639e19d432f9c8"><div class="ttname"><a href="classvpart__info.html#adfe04850347ddec99a639e19d432f9c8">vpart_info::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdoc">Translated name of a part.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00965">veh_type.cpp:965</a></div></div>
<div class="ttc" id="aclassvpart__info_html_ae5625d93813a2c1c9c1d3794e1ff2c6a"><div class="ttname"><a href="classvpart__info.html#ae5625d93813a2c1c9c1d3794e1ff2c6a">vpart_info::exhaust</a></div><div class="ttdeci">std::set&lt; emit_id &gt; exhaust</div><div class="ttdoc">Exhaust emissions of part.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00375">veh_type.h:375</a></div></div>
<div class="ttc" id="aclassvpart__info_html_ae9c50d26b3cc88604ae85573ee6599cd"><div class="ttname"><a href="classvpart__info.html#ae9c50d26b3cc88604ae85573ee6599cd">vpart_info::fuel_type</a></div><div class="ttdeci">itype_id fuel_type</div><div class="ttdoc">Fuel type of engine or tank.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00382">veh_type.h:382</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aea0fdb1ef9041e28d7856afae97dcc87"><div class="ttname"><a href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">vpart_info::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00256">veh_type.h:256</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aeb9e00627b8cb80d28fb1419e7f0928a"><div class="ttname"><a href="classvpart__info.html#aeb9e00627b8cb80d28fb1419e7f0928a">vpart_info::durability</a></div><div class="ttdeci">int durability</div><div class="ttdoc">Maximum damage part can sustain before being destroyed.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00409">veh_type.h:409</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aebfa77111bf40ee0778c0e0f5fd46c8e"><div class="ttname"><a href="classvpart__info.html#aebfa77111bf40ee0778c0e0f5fd46c8e">vpart_info::color_broken</a></div><div class="ttdeci">nc_color color_broken</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00379">veh_type.h:379</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aed8e3196af84c749386daa97c42807eb"><div class="ttname"><a href="classvpart__info.html#aed8e3196af84c749386daa97c42807eb">vpart_info::install_reqs</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; requirement_id, int &gt; &gt; install_reqs</div><div class="ttdoc">Second field is the multiplier.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00323">veh_type.h:323</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aedacbd352267de4aef1ca01183956df8"><div class="ttname"><a href="classvpart__info.html#aedacbd352267de4aef1ca01183956df8">vpart_info::format_description</a></div><div class="ttdeci">int format_description(std::string &amp;msg, const nc_color &amp;format_color, int width) const</div><div class="ttdoc">Format the description for display.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00977">veh_type.cpp:977</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aee4afe2c309516d6b91ff384fab6f2b2"><div class="ttname"><a href="classvpart__info.html#aee4afe2c309516d6b91ff384fab6f2b2">vpart_info::size</a></div><div class="ttdeci">units::volume size</div><div class="ttdoc">Cargo location volume.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00391">veh_type.h:391</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aef19592de66ef9e36c6cfc4f2e3fbfc7"><div class="ttname"><a href="classvpart__info.html#aef19592de66ef9e36c6cfc4f2e3fbfc7">vpart_info::check</a></div><div class="ttdeci">void check() const</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00783">veh_type.cpp:783</a></div></div>
<div class="ttc" id="aclassvpart__info_html_af025e93f25325ddebaeb802d7dcbd64a"><div class="ttname"><a href="classvpart__info.html#af025e93f25325ddebaeb802d7dcbd64a">vpart_info::install_moves</a></div><div class="ttdeci">time_duration install_moves</div><div class="ttdoc">Installation for component (.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00433">veh_type.h:433</a></div></div>
<div class="ttc" id="aclassvpart__info_html_af7551b510661af4b9a2b24511f946a57"><div class="ttname"><a href="classvpart__info.html#af7551b510661af4b9a2b24511f946a57">vpart_info::removal_moves</a></div><div class="ttdeci">time_duration removal_moves</div><div class="ttdoc">Removal time for component (.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00437">veh_type.h:437</a></div></div>
<div class="ttc" id="aclassvpart__info_html_afa8f40919f04915387f14f23f54c690e"><div class="ttname"><a href="classvpart__info.html#afa8f40919f04915387f14f23f54c690e">vpart_info::set_flag</a></div><div class="ttdeci">void set_flag(const std::string &amp;flag)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00443">veh_type.cpp:443</a></div></div>
<div class="ttc" id="aclassvpart__info_html_afd8582ac2842567391423c795e3d7497"><div class="ttname"><a href="classvpart__info.html#afd8582ac2842567391423c795e3d7497">vpart_info::list_order</a></div><div class="ttdeci">int list_order</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00458">veh_type.h:458</a></div></div>
<div class="ttc" id="aclassvpart__migration_html"><div class="ttname"><a href="classvpart__migration.html">vpart_migration</a></div><div class="ttdoc">Holder for all vpart migrations, when loading parts with vpart_id present in the map keys they'll be ...</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00524">veh_type.h:525</a></div></div>
<div class="ttc" id="aclassvpart__migration_html_a1439c86f85299ab0b7a433ed9c38e576"><div class="ttname"><a href="classvpart__migration.html#a1439c86f85299ab0b7a433ed9c38e576">vpart_migration::find_migration</a></div><div class="ttdeci">static const vpart_migration * find_migration(const vpart_id &amp;original)</div><div class="ttdoc">Find the last migration entry of the given vpart_id.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01774">veh_type.cpp:1774</a></div></div>
<div class="ttc" id="aclassvpart__migration_html_a302fb07cf4699f0e33e3fff97ce64e81"><div class="ttname"><a href="classvpart__migration.html#a302fb07cf4699f0e33e3fff97ce64e81">vpart_migration::add_veh_tools</a></div><div class="ttdeci">std::vector&lt; itype_id &gt; add_veh_tools</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00530">veh_type.h:530</a></div></div>
<div class="ttc" id="aclassvpart__migration_html_a5b52a24d699aa01d8a9e450e5b8f690f"><div class="ttname"><a href="classvpart__migration.html#a5b52a24d699aa01d8a9e450e5b8f690f">vpart_migration::check</a></div><div class="ttdeci">static void check()</div><div class="ttdoc">Checks migrations.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01755">veh_type.cpp:1755</a></div></div>
<div class="ttc" id="aclassvpart__migration_html_a73374ccdf5538a6f0d2784591345cf35"><div class="ttname"><a href="classvpart__migration.html#a73374ccdf5538a6f0d2784591345cf35">vpart_migration::reset</a></div><div class="ttdeci">static void reset()</div><div class="ttdoc">Clears migration list.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01739">veh_type.cpp:1739</a></div></div>
<div class="ttc" id="aclassvpart__migration_html_a8d60498b25f5e26107b8440dc1a7844b"><div class="ttname"><a href="classvpart__migration.html#a8d60498b25f5e26107b8440dc1a7844b">vpart_migration::load</a></div><div class="ttdeci">static void load(const JsonObject &amp;jo)</div><div class="ttdoc">Handler for loading &quot;vehicle_part_migration&quot; type of json object.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01729">veh_type.cpp:1729</a></div></div>
<div class="ttc" id="aclassvpart__migration_html_ab36852a829367fd860daa08f666f5842"><div class="ttname"><a href="classvpart__migration.html#ab36852a829367fd860daa08f666f5842">vpart_migration::finalize</a></div><div class="ttdeci">static void finalize()</div><div class="ttdoc">Finalizes migrations.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01744">veh_type.cpp:1744</a></div></div>
<div class="ttc" id="aclassvpart__migration_html_abec0b5a7d48f4e4e0811c86f82759342"><div class="ttname"><a href="classvpart__migration.html#abec0b5a7d48f4e4e0811c86f82759342">vpart_migration::part_id_new</a></div><div class="ttdeci">vpart_id part_id_new</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00528">veh_type.h:528</a></div></div>
<div class="ttc" id="aclassvpart__migration_html_af2c2a8a2a01102380df3756b423f3f29"><div class="ttname"><a href="classvpart__migration.html#af2c2a8a2a01102380df3756b423f3f29">vpart_migration::variant</a></div><div class="ttdeci">std::optional&lt; std::string &gt; variant</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00529">veh_type.h:529</a></div></div>
<div class="ttc" id="aclassvpart__reference_html"><div class="ttname"><a href="classvpart__reference.html">vpart_reference</a></div><div class="ttdoc">This is a wrapper over a vehicle pointer and a reference to a part of it.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00153">vpart_position.h:154</a></div></div>
<div class="ttc" id="aclassvpart__variant_html"><div class="ttname"><a href="classvpart__variant.html">vpart_variant</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00209">veh_type.h:210</a></div></div>
<div class="ttc" id="aclassvpart__variant_html_a03cc3476d76fdd3802bcd9cebff1c59f"><div class="ttname"><a href="classvpart__variant.html#a03cc3476d76fdd3802bcd9cebff1c59f">vpart_variant::symbols</a></div><div class="ttdeci">std::array&lt; char32_t, 8 &gt; symbols</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00213">veh_type.h:213</a></div></div>
<div class="ttc" id="aclassvpart__variant_html_a20202dc1a49cd7bac2d070c619c41152"><div class="ttname"><a href="classvpart__variant.html#a20202dc1a49cd7bac2d070c619c41152">vpart_variant::get_symbol_curses</a></div><div class="ttdeci">int get_symbol_curses(units::angle direction, bool is_broken) const</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01191">veh_type.cpp:1191</a></div></div>
<div class="ttc" id="aclassvpart__variant_html_a3aab24453e3428bfa30764193606d493"><div class="ttname"><a href="classvpart__variant.html#a3aab24453e3428bfa30764193606d493">vpart_variant::symbols_broken</a></div><div class="ttdeci">std::array&lt; char32_t, 8 &gt; symbols_broken</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00214">veh_type.h:214</a></div></div>
<div class="ttc" id="aclassvpart__variant_html_a656db7a4f9ec0e9a65fab1c2e8f1854d"><div class="ttname"><a href="classvpart__variant.html#a656db7a4f9ec0e9a65fab1c2e8f1854d">vpart_variant::get_symbol</a></div><div class="ttdeci">char32_t get_symbol(units::angle direction, bool is_broken) const</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01167">veh_type.cpp:1167</a></div></div>
<div class="ttc" id="aclassvpart__variant_html_a904b8c30894920ab888f2a697e8bc100"><div class="ttname"><a href="classvpart__variant.html#a904b8c30894920ab888f2a697e8bc100">vpart_variant::get_label</a></div><div class="ttdeci">std::string get_label() const</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01162">veh_type.cpp:1162</a></div></div>
<div class="ttc" id="aclassvpart__variant_html_aa9b1a7055bc57aebcf89de5032fe784b"><div class="ttname"><a href="classvpart__variant.html#aa9b1a7055bc57aebcf89de5032fe784b">vpart_variant::label_</a></div><div class="ttdeci">std::string label_</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00234">veh_type.h:234</a></div></div>
<div class="ttc" id="aclassvpart__variant_html_ad8d239ea7423caa52b57ebf5795f3207"><div class="ttname"><a href="classvpart__variant.html#ad8d239ea7423caa52b57ebf5795f3207">vpart_variant::load</a></div><div class="ttdeci">void load(const JsonObject &amp;jo, bool was_loaded)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01201">veh_type.cpp:1201</a></div></div>
<div class="ttc" id="aclassvpart__variant_html_af93535cc7d60651707ef94391cb385f1"><div class="ttname"><a href="classvpart__variant.html#af93535cc7d60651707ef94391cb385f1">vpart_variant::id</a></div><div class="ttdeci">std::string id</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00212">veh_type.h:212</a></div></div>
<div class="ttc" id="aclasszone__type_html"><div class="ttname"><a href="classzone__type.html">zone_type</a></div><div class="ttdef"><b>Definition:</b> <a href="clzones_8h_source.html#l00041">clzones.h:42</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a24e6e535a2054805b8c1ab0786e50e66"><div class="ttname"><a href="color_8cpp.html#a24e6e535a2054805b8c1ab0786e50e66">string_from_color</a></div><div class="ttdeci">std::string string_from_color(const nc_color &amp;color)</div><div class="ttdoc">The reverse of color_from_string.</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00667">color.cpp:667</a></div></div>
<div class="ttc" id="acolor_8h_html"><div class="ttname"><a href="color_8h.html">color.h</a></div></div>
<div class="ttc" id="acondition_8h_html_a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3"><div class="ttname"><a href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3">jarg::member</a></div><div class="ttdeci">@ member</div></div>
<div class="ttc" id="acreature_8h_html_a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792"><div class="ttname"><a href="creature_8h.html#a94b62ae7453fbe81377022bf1cdacd47a2133fd717402a7966ee88d06f9e0b792">body_part_filter::strict</a></div><div class="ttdeci">@ strict</div></div>
<div class="ttc" id="adamage_8cpp_html_a73cbc152b1401bb2312ca654430fe17b"><div class="ttname"><a href="damage_8cpp.html#a73cbc152b1401bb2312ca654430fe17b">load_damage_map</a></div><div class="ttdeci">std::unordered_map&lt; damage_type_id, float &gt; load_damage_map(const JsonObject &amp;jo, const std::set&lt; std::string &gt; &amp;ignored_keys)</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00768">damage.cpp:768</a></div></div>
<div class="ttc" id="adamage_8cpp_html_af8824edc46ec813a219b406a87271f69"><div class="ttname"><a href="damage_8cpp.html#af8824edc46ec813a219b406a87271f69">finalize_damage_map</a></div><div class="ttdeci">void finalize_damage_map(std::unordered_map&lt; damage_type_id, float &gt; &amp;damage_map, bool force_derive, float default_value)</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00781">damage.cpp:781</a></div></div>
<div class="ttc" id="adebug_8h_html"><div class="ttname"><a href="debug_8h.html">debug.h</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a></div><div class="ttdeci">@ LIQUID</div></div>
<div class="ttc" id="aflag_8cpp_html_a1002f0b9b5b8f824ef9543ca6069271d"><div class="ttname"><a href="flag_8cpp.html#a1002f0b9b5b8f824ef9543ca6069271d">flag_STR_DRAW</a></div><div class="ttdeci">const flag_id flag_STR_DRAW(&quot;STR_DRAW&quot;)</div></div>
<div class="ttc" id="aflag_8cpp_html_a8e49ffbaa56c5806d081ec3ab5e30e6a"><div class="ttname"><a href="flag_8cpp.html#a8e49ffbaa56c5806d081ec3ab5e30e6a">flag_NO_TURRET</a></div><div class="ttdeci">const flag_id flag_NO_TURRET(&quot;NO_TURRET&quot;)</div></div>
<div class="ttc" id="aflag_8cpp_html_a936d1c7b90d01c5d07e69d0628c81235"><div class="ttname"><a href="flag_8cpp.html#a936d1c7b90d01c5d07e69d0628c81235">flag_NO_UNWIELD</a></div><div class="ttdeci">const flag_id flag_NO_UNWIELD(&quot;NO_UNWIELD&quot;)</div></div>
<div class="ttc" id="aflag_8cpp_html_aa4483d80251dc96dd0c8313d8a6366f9"><div class="ttname"><a href="flag_8cpp.html#aa4483d80251dc96dd0c8313d8a6366f9">flag_RELOAD_AND_SHOOT</a></div><div class="ttdeci">const flag_id flag_RELOAD_AND_SHOOT(&quot;RELOAD_AND_SHOOT&quot;)</div></div>
<div class="ttc" id="aflag_8cpp_html_abbe6e4526a4aa330808bab21bd5bbe2f"><div class="ttname"><a href="flag_8cpp.html#abbe6e4526a4aa330808bab21bd5bbe2f">flag_BIONIC_WEAPON</a></div><div class="ttdeci">const flag_id flag_BIONIC_WEAPON(&quot;BIONIC_WEAPON&quot;)</div></div>
<div class="ttc" id="aflag_8cpp_html_afa7c0e8f7a4654a1b825f73111f5fe8e"><div class="ttname"><a href="flag_8cpp.html#afa7c0e8f7a4654a1b825f73111f5fe8e">flag_PSEUDO</a></div><div class="ttdeci">const flag_id flag_PSEUDO(&quot;PSEUDO&quot;)</div></div>
<div class="ttc" id="aflag_8h_html"><div class="ttname"><a href="flag_8h.html">flag.h</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00382">game.cpp:382</a></div></div>
<div class="ttc" id="agame__constants_8h_html"><div class="ttname"><a href="game__constants_8h.html">game_constants.h</a></div></div>
<div class="ttc" id="ageneric__factory_8h_html"><div class="ttname"><a href="generic__factory_8h.html">generic_factory.h</a></div><div class="ttdoc">Helper for loading from JSON.</div></div>
<div class="ttc" id="ageneric__factory_8h_html_a43443191f61bb76aca1c2895eea4ad8f"><div class="ttname"><a href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a></div><div class="ttdeci">void optional(const JsonObject &amp;jo, const bool was_loaded, const std::string_view name, MemberType &amp;member)</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00829">generic_factory.h:829</a></div></div>
<div class="ttc" id="ainit_8h_html"><div class="ttname"><a href="init_8h.html">init.h</a></div></div>
<div class="ttc" id="ainput__context_8cpp_html_a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a"><div class="ttname"><a href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">kb_menu_status::filter</a></div><div class="ttdeci">@ filter</div></div>
<div class="ttc" id="aitem_8h_html"><div class="ttname"><a href="item_8h.html">item.h</a></div></div>
<div class="ttc" id="aitem_8h_html_a6f5cb4c44e3212e41e7736890eacbbba"><div class="ttname"><a href="item_8h.html#a6f5cb4c44e3212e41e7736890eacbbba">lifting_quality_to_mass</a></div><div class="ttdeci">units::mass lifting_quality_to_mass(int quality_level)</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03253">item.h:3253</a></div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a62fc9d4e4ca8f0e62b4556f5f65b666c"><div class="ttname"><a href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a></div><div class="ttdeci">std::unique_ptr&lt; Item_factory &gt; item_controller</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00126">item_factory.cpp:126</a></div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a9910cca816b92f0a565dc6bc764889a6"><div class="ttname"><a href="item__factory_8cpp.html#a9910cca816b92f0a565dc6bc764889a6">item_is_blacklisted</a></div><div class="ttdeci">bool item_is_blacklisted(const itype_id &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00154">item_factory.cpp:154</a></div></div>
<div class="ttc" id="aitem__factory_8h_html"><div class="ttname"><a href="item__factory_8h.html">item_factory.h</a></div></div>
<div class="ttc" id="aitem__group_8h_html"><div class="ttname"><a href="item__group_8h.html">item_group.h</a></div></div>
<div class="ttc" id="aitype_8h_html"><div class="ttname"><a href="itype_8h.html">itype.h</a></div></div>
<div class="ttc" id="ajson_8h_html"><div class="ttname"><a href="json_8h.html">json.h</a></div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a></div><div class="ttdeci">direction</div><div class="ttdef"><b>Definition:</b> <a href="line_8h_source.html#l00042">line.h:42</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a6753ecfe87da659675b18c2f81d6ec12"><div class="ttname"><a href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a></div><div class="ttdeci">static constexpr double c</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01568">magic.cpp:1568</a></div></div>
<div class="ttc" id="amagic_8cpp_html_aa93a189fb7bbbf87be54bcc7bd11bb6f"><div class="ttname"><a href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a></div><div class="ttdeci">static constexpr double b</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01567">magic.cpp:1567</a></div></div>
<div class="ttc" id="amagic_8h_html_a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474"><div class="ttname"><a href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">spell_shape::line</a></div><div class="ttdeci">@ line</div></div>
<div class="ttc" id="amagic_8h_html_a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc"><div class="ttname"><a href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">spell_target::item</a></div><div class="ttdeci">@ item</div></div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a993dede52d23a9a3d15b01a342391ef4"><div class="ttname"><a href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">min</a></div><div class="ttdeci">double min(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00043">math_parser_func.h:43</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_ac9196b0cf8d9dd209db9fc00a69a55f6"><div class="ttname"><a href="math__parser__func_8h.html#ac9196b0cf8d9dd209db9fc00a69a55f6">ceil</a></div><div class="ttdeci">double ceil(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00100">math_parser_func.h:100</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02item__tname_8cpp_03_html_a01bb93e9b73c4fc64afc80ffde115c0a"><div class="ttname"><a href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a01bb93e9b73c4fc64afc80ffde115c0a">anonymous_namespace{item_tname.cpp}::category</a></div><div class="ttdeci">std::string category(item const &amp;it, unsigned int quantity, segment_bitset const &amp;segments)</div><div class="ttdef"><b>Definition:</b> <a href="item__tname_8cpp_source.html#l00540">item_tname.cpp:540</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02veh__type_8cpp_03_html_a80347cfcca97b5692066f2cd32787250"><div class="ttname"><a href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#a80347cfcca97b5692066f2cd32787250">anonymous_namespace{veh_type.cpp}::vehicle_prototype_factory</a></div><div class="ttdeci">generic_factory&lt; vehicle_prototype &gt; vehicle_prototype_factory(&quot;vehicle&quot;, &quot;id&quot;)</div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02veh__type_8cpp_03_html_abab9753b5f4726286941bc0873ccff2a"><div class="ttname"><a href="namespaceanonymous__namespace_02veh__type_8cpp_03.html#abab9753b5f4726286941bc0873ccff2a">anonymous_namespace{veh_type.cpp}::vpart_info_factory</a></div><div class="ttdeci">generic_factory&lt; vpart_info &gt; vpart_info_factory(&quot;vehicle_part&quot;, &quot;id&quot;)</div></div>
<div class="ttc" id="anamespacecalendar_html_a2830b54b0424fe452c0933f87d6201b3"><div class="ttname"><a href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a></div><div class="ttdeci">constexpr time_point turn_zero</div><div class="ttdoc">Represents time point 0.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00541">calendar.h:541</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00038">calendar.cpp:38</a></div></div>
<div class="ttc" id="anamespaceenchant__vals_html_acd6a6ebb27f9ecb82b3bce1d3aef2998"><div class="ttname"><a href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">enchant_vals::mod</a></div><div class="ttdeci">mod</div><div class="ttdef"><b>Definition:</b> <a href="magic__enchantment_8h_source.html#l00031">magic_enchantment.h:31</a></div></div>
<div class="ttc" id="anamespaceitem__group_html_a0e91eed0fb502bb95d834295fc178a2d"><div class="ttname"><a href="namespaceitem__group.html#a0e91eed0fb502bb95d834295fc178a2d">item_group::load_item_group</a></div><div class="ttdeci">void load_item_group(const JsonObject &amp;jsobj, const item_group_id &amp;group_id, const std::string &amp;subtype)</div><div class="ttdoc">See Item_factory::load_item_group.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8cpp_source.html#l01034">item_group.cpp:1034</a></div></div>
<div class="ttc" id="anamespaceitem__group_html_ace8eee5043438ba9d8b87448020c65dc"><div class="ttname"><a href="namespaceitem__group.html#ace8eee5043438ba9d8b87448020c65dc">item_group::group_is_defined</a></div><div class="ttdeci">bool group_is_defined(const item_group_id &amp;group_id)</div><div class="ttdoc">Check whether an item group of the given id exists.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8cpp_source.html#l01011">item_group.cpp:1011</a></div></div>
<div class="ttc" id="anamespacemath__opers_html_a2f0118617735cc810b9d76d62bd182f6"><div class="ttname"><a href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">math_opers::pos</a></div><div class="ttdeci">constexpr double pos(double, double r)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__impl_8h_source.html#l00203">math_parser_impl.h:203</a></div></div>
<div class="ttc" id="anamespaceunits_html_a76c965afaad76c83c6caa338d1eb6777"><div class="ttname"><a href="namespaceunits.html#a76c965afaad76c83c6caa338d1eb6777">units::to_watt</a></div><div class="ttdeci">constexpr value_type to_watt(const quantity&lt; value_type, power_in_milliwatt_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00626">units.h:626</a></div></div>
<div class="ttc" id="anamespaceunits_html_abeb09f5fa1bc50f7a2653800d5423863"><div class="ttname"><a href="namespaceunits.html#abeb09f5fa1bc50f7a2653800d5423863">units::from_legacy_bodypart_temp_delta</a></div><div class="ttdeci">constexpr units::temperature_delta from_legacy_bodypart_temp_delta(int temp)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00517">units.h:517</a></div></div>
<div class="ttc" id="anamespaceunits_html_afa4cd3161d6d775b08fa9e964b18ad48"><div class="ttname"><a href="namespaceunits.html#afa4cd3161d6d775b08fa9e964b18ad48">units::to_legacy_bodypart_temp_delta</a></div><div class="ttdeci">constexpr int to_legacy_bodypart_temp_delta(const quantity&lt; value_type, temperature_delta_in_kelvin_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00523">units.h:523</a></div></div>
<div class="ttc" id="anamespacevehicles_1_1parts_html_a1760b563889a67b60d887f2cd6331846"><div class="ttname"><a href="namespacevehicles_1_1parts.html#a1760b563889a67b60d887f2cd6331846">vehicles::parts::get_all</a></div><div class="ttdeci">const std::vector&lt; vpart_info &gt; &amp; get_all()</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00960">veh_type.cpp:960</a></div></div>
<div class="ttc" id="anamespacevehicles_1_1parts_html_aa180164c08c8c03509e71add7ae04f47"><div class="ttname"><a href="namespacevehicles_1_1parts.html#aa180164c08c8c03509e71add7ae04f47">vehicles::parts::load</a></div><div class="ttdeci">void load(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00236">veh_type.cpp:236</a></div></div>
<div class="ttc" id="anamespacevehicles_1_1parts_html_ad7b5d7c6a3691dfe681e831a656c8ae9"><div class="ttname"><a href="namespacevehicles_1_1parts.html#ad7b5d7c6a3691dfe681e831a656c8ae9">vehicles::parts::finalize</a></div><div class="ttdeci">void finalize()</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00549">veh_type.cpp:549</a></div></div>
<div class="ttc" id="anamespacevehicles_1_1parts_html_ae5c6b1fe21895be06a931c278d4805ed"><div class="ttname"><a href="namespacevehicles_1_1parts.html#ae5c6b1fe21895be06a931c278d4805ed">vehicles::parts::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00955">veh_type.cpp:955</a></div></div>
<div class="ttc" id="anamespacevehicles_1_1parts_html_af16964dbe1dca804457d7721e0821e98"><div class="ttname"><a href="namespacevehicles_1_1parts.html#af16964dbe1dca804457d7721e0821e98">vehicles::parts::check</a></div><div class="ttdeci">void check()</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00776">veh_type.cpp:776</a></div></div>
<div class="ttc" id="anamespacevehicles_html_a78c8b078f6e38a1e9cc70d759c8d914a"><div class="ttname"><a href="namespacevehicles.html#a78c8b078f6e38a1e9cc70d759c8d914a">vehicles::variant_separator</a></div><div class="ttdeci">constexpr char variant_separator</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00038">veh_type.h:38</a></div></div>
<div class="ttc" id="anamespacevehicles_html_a92407d11e7752897e95da964353f6941"><div class="ttname"><a href="namespacevehicles.html#a92407d11e7752897e95da964353f6941">vehicles::get_all_prototypes</a></div><div class="ttdeci">const std::vector&lt; vehicle_prototype &gt; &amp; get_all_prototypes()</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01248">veh_type.cpp:1248</a></div></div>
<div class="ttc" id="anamespacevehicles_html_aa72a907c9f60fa13c5712c4bca4fb204"><div class="ttname"><a href="namespacevehicles.html#aa72a907c9f60fa13c5712c4bca4fb204">vehicles::finalize_prototypes</a></div><div class="ttdeci">void finalize_prototypes()</div><div class="ttdoc">Works through cached vehicle definitions and creates vehicle objects from them.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01562">veh_type.cpp:1562</a></div></div>
<div class="ttc" id="anamespacevehicles_html_acf66170c7c79456a3bf12c440161e333"><div class="ttname"><a href="namespacevehicles.html#acf66170c7c79456a3bf12c440161e333">vehicles::load_prototype</a></div><div class="ttdeci">void load_prototype(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01243">veh_type.cpp:1243</a></div></div>
<div class="ttc" id="anamespacevehicles_html_af023417abeaaec428a4ca5b22498a784"><div class="ttname"><a href="namespacevehicles.html#af023417abeaaec428a4ca5b22498a784">vehicles::reset_prototypes</a></div><div class="ttdeci">void reset_prototypes()</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01253">veh_type.cpp:1253</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aea67d56cef07017be061e1ceefee80df"><div class="ttname"><a href="output_8cpp.html#aea67d56cef07017be061e1ceefee80df">foldstring</a></div><div class="ttdeci">std::vector&lt; std::string &gt; foldstring(const std::string &amp;str, int width, const char split)</div><div class="ttdoc">Split the input text into separate lines and wrap long lines.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00123">output.cpp:123</a></div></div>
<div class="ttc" id="aoutput_8h_html"><div class="ttname"><a href="output_8h.html">output.h</a></div></div>
<div class="ttc" id="aoutput_8h_html_a33ab4e0193402fed8f74590a30fadc3c"><div class="ttname"><a href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a></div><div class="ttdeci">#define LINE_XOXO</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00046">output.h:46</a></div></div>
<div class="ttc" id="aoutput_8h_html_a435355aeca1be3844e79fc4db8e691e1"><div class="ttname"><a href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a></div><div class="ttdeci">#define LINE_OXOX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00047">output.h:47</a></div></div>
<div class="ttc" id="aoutput_8h_html_a479e8a9ad84c68ed5f8609d4b536a8bb"><div class="ttname"><a href="output_8h.html#a479e8a9ad84c68ed5f8609d4b536a8bb">LINE_OOXX</a></div><div class="ttdeci">#define LINE_OOXX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00050">output.h:50</a></div></div>
<div class="ttc" id="aoutput_8h_html_a4be67498ee67b5186fcae5cf706f7512"><div class="ttname"><a href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a></div><div class="ttdeci">std::string enumerate_as_string(const Container &amp;values, enumeration_conjunction conj=enumeration_conjunction::and_)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00647">output.h:647</a></div></div>
<div class="ttc" id="aoutput_8h_html_a6405dcdb708433c3c3dde836aa8a15cc"><div class="ttname"><a href="output_8h.html#a6405dcdb708433c3c3dde836aa8a15cc">LINE_OXXO</a></div><div class="ttdeci">#define LINE_OXXO</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00049">output.h:49</a></div></div>
<div class="ttc" id="aoutput_8h_html_ad3a54f998264087befce6de30cb787b0"><div class="ttname"><a href="output_8h.html#ad3a54f998264087befce6de30cb787b0">LINE_XOOX</a></div><div class="ttdeci">#define LINE_XOOX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00051">output.h:51</a></div></div>
<div class="ttc" id="aoutput_8h_html_af6d239f277e1b763f690b94efa469792"><div class="ttname"><a href="output_8h.html#af6d239f277e1b763f690b94efa469792">LINE_XXOO</a></div><div class="ttdeci">#define LINE_XXOO</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00048">output.h:48</a></div></div>
<div class="ttc" id="aoutput_8h_html_af951bd858b538b7c2a10ae7ffd97b848"><div class="ttname"><a href="output_8h.html#af951bd858b538b7c2a10ae7ffd97b848">LINE_XXXX</a></div><div class="ttdeci">#define LINE_XXXX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00056">output.h:56</a></div></div>
<div class="ttc" id="aovermap_8cpp_html_a1aa258a4b1427766c283c1ae9ea81f05ac5e3b9675d114c21ad3367d318f6aa95"><div class="ttname"><a href="overmap_8cpp.html#a1aa258a4b1427766c283c1ae9ea81f05ac5e3b9675d114c21ad3367d318f6aa95">join_type::mandatory</a></div><div class="ttdeci">@ mandatory</div></div>
<div class="ttc" id="apocket__type_8h_html"><div class="ttname"><a href="pocket__type_8h.html">pocket_type.h</a></div></div>
<div class="ttc" id="apocket__type_8h_html_af41ed729a50321996f6fa60225086cf1ab27af2204ca1397f7eda1c0421f4fcfc"><div class="ttname"><a href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1ab27af2204ca1397f7eda1c0421f4fcfc">pocket_type::MAGAZINE_WELL</a></div><div class="ttdeci">@ MAGAZINE_WELL</div></div>
<div class="ttc" id="apoint_8h_html_a0ee2195dcb488ae55fbf4316f5011172"><div class="ttname"><a href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></div><div class="ttdeci">constexpr point point_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00251">point.h:251</a></div></div>
<div class="ttc" id="arequirements_8h_html"><div class="ttname"><a href="requirements_8h.html">requirements.h</a></div></div>
<div class="ttc" id="aret__val_8h_html"><div class="ttname"><a href="ret__val_8h.html">ret_val.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html"><div class="ttname"><a href="string__formatter_8h.html">string_formatter.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
<div class="ttc" id="astructitype_html"><div class="ttname"><a href="structitype.html">itype</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01186">itype.h:1186</a></div></div>
<div class="ttc" id="astructitype_html_a37edee7dafc5711621f26844cab78cf6"><div class="ttname"><a href="structitype.html#a37edee7dafc5711621f26844cab78cf6">itype::gunmod</a></div><div class="ttdeci">cata::value_ptr&lt; islot_gunmod &gt; gunmod</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01208">itype.h:1208</a></div></div>
<div class="ttc" id="astructitype_html_a3d7692cff108d3b8c59ca0847d25a45c"><div class="ttname"><a href="structitype.html#a3d7692cff108d3b8c59ca0847d25a45c">itype::phase</a></div><div class="ttdeci">phase_id phase</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01373">itype.h:1373</a></div></div>
<div class="ttc" id="astructitype_html_a5c286a821362f883c93b7d984ecae163"><div class="ttname"><a href="structitype.html#a5c286a821362f883c93b7d984ecae163">itype::wheel</a></div><div class="ttdeci">cata::value_ptr&lt; islot_wheel &gt; wheel</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01206">itype.h:1206</a></div></div>
<div class="ttc" id="astructitype_html_a623ec8243b1e599086fa3a23c3179370"><div class="ttname"><a href="structitype.html#a623ec8243b1e599086fa3a23c3179370">itype::gun</a></div><div class="ttdeci">cata::value_ptr&lt; islot_gun &gt; gun</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01207">itype.h:1207</a></div></div>
<div class="ttc" id="astructitype_html_a7cb80d77696cefb42ac6e75756b47e60"><div class="ttname"><a href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">itype::ammo</a></div><div class="ttdeci">cata::value_ptr&lt; islot_ammo &gt; ammo</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01212">itype.h:1212</a></div></div>
<div class="ttc" id="astructitype_html_aa93ea10e5a9052713479ac2f21dfa3c0"><div class="ttname"><a href="structitype.html#aa93ea10e5a9052713479ac2f21dfa3c0">itype::pockets</a></div><div class="ttdeci">std::vector&lt; pocket_data &gt; pockets</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01253">itype.h:1253</a></div></div>
<div class="ttc" id="astructitype_html_aba9992b8bc80b65d4153370b3e0755ec"><div class="ttname"><a href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">itype::magazine</a></div><div class="ttdeci">cata::value_ptr&lt; islot_magazine &gt; magazine</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01209">itype.h:1209</a></div></div>
<div class="ttc" id="astructitype_html_ad35fbe0013544c1c396944b20b264421"><div class="ttname"><a href="structitype.html#ad35fbe0013544c1c396944b20b264421">itype::nname</a></div><div class="ttdeci">std::string nname(unsigned int quantity) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00095">itype.cpp:95</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
<div class="ttc" id="astructpoint_html_a9a82ca9504acabb1e30569f89c805471"><div class="ttname"><a href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">point::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00024">point.h:24</a></div></div>
<div class="ttc" id="astructpoint_html_ad679b07fb69d55f5ad454d0f1f2891d5"><div class="ttname"><a href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">point::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00023">point.h:23</a></div></div>
<div class="ttc" id="astructrequirement__data_html"><div class="ttname"><a href="structrequirement__data.html">requirement_data</a></div><div class="ttdoc">The *_vector members represent list of alternatives requirements: alter_tool_comp_vector = { * { { a,...</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00209">requirements.h:209</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a6551a6d443325768ec6a8fe259c7eaba"><div class="ttname"><a href="structrequirement__data.html#a6551a6d443325768ec6a8fe259c7eaba">requirement_data::load_requirement</a></div><div class="ttdeci">static void load_requirement(const JsonObject &amp;jsobj, const requirement_id &amp;id=requirement_id::NULL_ID(), bool check_extend=false)</div><div class="ttdoc">Load tools, qualities and components from the json object.</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00423">requirements.cpp:423</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a6d2ff1c121bbf7360a83dd525c1371df"><div class="ttname"><a href="structrequirement__data.html#a6d2ff1c121bbf7360a83dd525c1371df">requirement_data::save_requirement</a></div><div class="ttdeci">static void save_requirement(const requirement_data &amp;req, const requirement_id &amp;id=requirement_id::NULL_ID(), const requirement_data *extend=nullptr)</div><div class="ttdoc">Store requirement data for future lookup.</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00463">requirements.cpp:463</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a70f026c6bfe09fdffc95dc1e030adb0d"><div class="ttname"><a href="structrequirement__data.html#a70f026c6bfe09fdffc95dc1e030adb0d">requirement_data::components</a></div><div class="ttdeci">alter_item_comp_vector components</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00222">requirements.h:222</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a7acde751aa71fb09c3272929afae503f"><div class="ttname"><a href="structrequirement__data.html#a7acde751aa71fb09c3272929afae503f">requirement_data::is_empty</a></div><div class="ttdeci">bool is_empty() const</div><div class="ttdoc">empty requirements are not necessary null</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00256">requirements.h:256</a></div></div>
<div class="ttc" id="astructveh__ter__mod_html"><div class="ttname"><a href="structveh__ter__mod.html">veh_ter_mod</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00134">veh_type.h:134</a></div></div>
<div class="ttc" id="astructvehicle__item__spawn_html"><div class="ttname"><a href="structvehicle__item__spawn.html">vehicle_item_spawn</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00466">veh_type.h:466</a></div></div>
<div class="ttc" id="astructvehicle__item__spawn_html_a336d4bf56aad051821688870f661b506"><div class="ttname"><a href="structvehicle__item__spawn.html#a336d4bf56aad051821688870f661b506">vehicle_item_spawn::chance</a></div><div class="ttdeci">int chance</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00468">veh_type.h:468</a></div></div>
<div class="ttc" id="astructvehicle__item__spawn_html_a8c77ce90bc86a9689cefa5b04e15ee3d"><div class="ttname"><a href="structvehicle__item__spawn.html#a8c77ce90bc86a9689cefa5b04e15ee3d">vehicle_item_spawn::item_ids</a></div><div class="ttdeci">std::vector&lt; itype_id &gt; item_ids</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00473">veh_type.h:473</a></div></div>
<div class="ttc" id="astructvehicle__item__spawn_html_a9d05e1c882e3bcbb89c8f96bd2338839"><div class="ttname"><a href="structvehicle__item__spawn.html#a9d05e1c882e3bcbb89c8f96bd2338839">vehicle_item_spawn::with_magazine</a></div><div class="ttdeci">int with_magazine</div><div class="ttdoc">Chance [0-100%] for items to spawn with their default magazine (if any)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00472">veh_type.h:472</a></div></div>
<div class="ttc" id="astructvehicle__item__spawn_html_aa4843846c7ddeb58ede99c47706bae5b"><div class="ttname"><a href="structvehicle__item__spawn.html#aa4843846c7ddeb58ede99c47706bae5b">vehicle_item_spawn::variant_ids</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; itype_id, std::string &gt; &gt; variant_ids</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00475">veh_type.h:475</a></div></div>
<div class="ttc" id="astructvehicle__item__spawn_html_aa7105813594b8f0ccf4bed5468d0bb81"><div class="ttname"><a href="structvehicle__item__spawn.html#aa7105813594b8f0ccf4bed5468d0bb81">vehicle_item_spawn::item_groups</a></div><div class="ttdeci">std::vector&lt; item_group_id &gt; item_groups</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00476">veh_type.h:476</a></div></div>
<div class="ttc" id="astructvehicle__item__spawn_html_ace2e058916c359fd2335a1f457ed8d46"><div class="ttname"><a href="structvehicle__item__spawn.html#ace2e058916c359fd2335a1f457ed8d46">vehicle_item_spawn::pos</a></div><div class="ttdeci">point pos</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00467">veh_type.h:467</a></div></div>
<div class="ttc" id="astructvehicle__item__spawn_html_afffa6ba50a605281116e350596ad0c51"><div class="ttname"><a href="structvehicle__item__spawn.html#afffa6ba50a605281116e350596ad0c51">vehicle_item_spawn::with_ammo</a></div><div class="ttdeci">int with_ammo</div><div class="ttdoc">Chance [0-100%] for items to spawn with ammo (plus default magazine if necessary)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00470">veh_type.h:470</a></div></div>
<div class="ttc" id="astructvehicle__part_html"><div class="ttname"><a href="structvehicle__part.html">vehicle_part</a></div><div class="ttdoc">Structure, describing vehicle part (i.e., wheel, seat)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00254">vehicle.h:254</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a002a1023cd1a96d43556a1b912ebd27b"><div class="ttname"><a href="structvehicle__part.html#a002a1023cd1a96d43556a1b912ebd27b">vehicle_part::info</a></div><div class="ttdeci">const vpart_info &amp; info() const</div><div class="ttdoc">Get part definition common to all parts of this type.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00623">vehicle_part.cpp:623</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a1acf6a662e684e35e9ef4c26f02b4a42"><div class="ttname"><a href="structvehicle__part.html#a1acf6a662e684e35e9ef4c26f02b4a42">vehicle_part::is_tank</a></div><div class="ttdeci">bool is_tank() const</div><div class="ttdoc">Can this part contain liquid fuels?</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00586">vehicle_part.cpp:586</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a30aa1cb6fff83820663b1b170139553b"><div class="ttname"><a href="structvehicle__part.html#a30aa1cb6fff83820663b1b170139553b">vehicle_part::ammo_capacity</a></div><div class="ttdeci">int ammo_capacity(const ammotype &amp;ammo) const</div><div class="ttdoc">Maximum amount of fuel, charges or ammunition that can be contained by a part.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00261">vehicle_part.cpp:261</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a72c9606de83a919a30468273ec6fdb0b"><div class="ttname"><a href="structvehicle__part.html#a72c9606de83a919a30468273ec6fdb0b">vehicle_part::is_fake</a></div><div class="ttdeci">bool is_fake</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00571">vehicle.h:571</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a9c6bf106558c9ed00536e2d7cb0e862d"><div class="ttname"><a href="structvehicle__part.html#a9c6bf106558c9ed00536e2d7cb0e862d">vehicle_part::ammo_remaining</a></div><div class="ttdeci">int ammo_remaining() const</div><div class="ttdoc">Amount of fuel, charges or ammunition currently contained by a part.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00298">vehicle_part.cpp:298</a></div></div>
<div class="ttc" id="astructvehicle__part_html_aaf92b5061bed35137d9f9535c94707eb"><div class="ttname"><a href="structvehicle__part.html#aaf92b5061bed35137d9f9535c94707eb">vehicle_part::variant</a></div><div class="ttdeci">std::string variant</div><div class="ttdoc">If it's a part with variants, which variant it is.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00529">vehicle.h:529</a></div></div>
<div class="ttc" id="astructvehicle__part_html_ab16185500ef5d69edf04ffc7df422049"><div class="ttname"><a href="structvehicle__part.html#ab16185500ef5d69edf04ffc7df422049">vehicle_part::ammo_set</a></div><div class="ttdeci">int ammo_set(const itype_id &amp;ammo, int qty=-1)</div><div class="ttdoc">Set fuel, charges or ammunition for this part removing any existing ammo.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00315">vehicle_part.cpp:315</a></div></div>
<div class="ttc" id="astructvehicle__part_html_ab40f6c1ccfd4be15ebfb2a2209f3d934"><div class="ttname"><a href="structvehicle__part.html#ab40f6c1ccfd4be15ebfb2a2209f3d934">vehicle_part::item_capacity</a></div><div class="ttdeci">int item_capacity(const itype_id &amp;stuffing_id) const</div><div class="ttdoc">Maximum amount of fuel, charges or ammunition that can be contained by a part.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00278">vehicle_part.cpp:278</a></div></div>
<div class="ttc" id="astructvehicle__part_html_ac6e2dfa7178b8bed91baea3543961a86"><div class="ttname"><a href="structvehicle__part.html#ac6e2dfa7178b8bed91baea3543961a86">vehicle_part::mount</a></div><div class="ttdeci">point mount</div><div class="ttdoc">mount point: x is on the forward/backward axis, y is on the left/right axis</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00447">vehicle.h:447</a></div></div>
<div class="ttc" id="astructvehicle__part_html_ad8e149b4d200656c134e3f90f82f3fe4"><div class="ttname"><a href="structvehicle__part.html#ad8e149b4d200656c134e3f90f82f3fe4">vehicle_part::ammo_current</a></div><div class="ttdeci">itype_id ammo_current() const</div><div class="ttdoc">Specific type of fuel, charges or ammunition currently contained by a part.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00244">vehicle_part.cpp:244</a></div></div>
<div class="ttc" id="astructvehicle__part_html_adbbad936b92e2d31bc7dfb194de3a1df"><div class="ttname"><a href="structvehicle__part.html#adbbad936b92e2d31bc7dfb194de3a1df">vehicle_part::is_turret</a></div><div class="ttdeci">bool is_turret() const</div><div class="ttdoc">Can this part function as a turret?</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__part_8cpp_source.html#l00613">vehicle_part.cpp:613</a></div></div>
<div class="ttc" id="astructvehicle__prototype_1_1part__def_html"><div class="ttname"><a href="structvehicle__prototype_1_1part__def.html">vehicle_prototype::part_def</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00485">veh_type.h:485</a></div></div>
<div class="ttc" id="astructvehicle__prototype_1_1part__def_html_a0caa1921a970d6b9b6ea0ec6219d19c2"><div class="ttname"><a href="structvehicle__prototype_1_1part__def.html#a0caa1921a970d6b9b6ea0ec6219d19c2">vehicle_prototype::part_def::tools</a></div><div class="ttdeci">std::vector&lt; itype_id &gt; tools</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00493">veh_type.h:493</a></div></div>
<div class="ttc" id="astructvehicle__prototype_1_1part__def_html_a0d5439b473c2ea6908205372d85881fc"><div class="ttname"><a href="structvehicle__prototype_1_1part__def.html#a0d5439b473c2ea6908205372d85881fc">vehicle_prototype::part_def::with_ammo</a></div><div class="ttdeci">int with_ammo</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00489">veh_type.h:489</a></div></div>
<div class="ttc" id="astructvehicle__prototype_1_1part__def_html_a2257eea41ffba5f658ee1d1a25eaa6d0"><div class="ttname"><a href="structvehicle__prototype_1_1part__def.html#a2257eea41ffba5f658ee1d1a25eaa6d0">vehicle_prototype::part_def::ammo_qty</a></div><div class="ttdeci">std::pair&lt; int, int &gt; ammo_qty</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00491">veh_type.h:491</a></div></div>
<div class="ttc" id="astructvehicle__prototype_1_1part__def_html_a539128756c719979dec4015b3a824465"><div class="ttname"><a href="structvehicle__prototype_1_1part__def.html#a539128756c719979dec4015b3a824465">vehicle_prototype::part_def::variant</a></div><div class="ttdeci">std::string variant</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00488">veh_type.h:488</a></div></div>
<div class="ttc" id="astructvehicle__prototype_1_1part__def_html_a8a6536c5d19cdfd3786ab8c1b8b8fa7a"><div class="ttname"><a href="structvehicle__prototype_1_1part__def.html#a8a6536c5d19cdfd3786ab8c1b8b8fa7a">vehicle_prototype::part_def::ammo_types</a></div><div class="ttdeci">std::set&lt; itype_id &gt; ammo_types</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00490">veh_type.h:490</a></div></div>
<div class="ttc" id="astructvehicle__prototype_1_1part__def_html_a8f07a1b22456ac3fb0de94b4b765ad47"><div class="ttname"><a href="structvehicle__prototype_1_1part__def.html#a8f07a1b22456ac3fb0de94b4b765ad47">vehicle_prototype::part_def::pos</a></div><div class="ttdeci">point pos</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00486">veh_type.h:486</a></div></div>
<div class="ttc" id="astructvehicle__prototype_1_1part__def_html_aa23246c5a29841eefc277fc30d2cd16a"><div class="ttname"><a href="structvehicle__prototype_1_1part__def.html#aa23246c5a29841eefc277fc30d2cd16a">vehicle_prototype::part_def::part</a></div><div class="ttdeci">vpart_id part</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00487">veh_type.h:487</a></div></div>
<div class="ttc" id="astructvehicle__prototype_1_1part__def_html_af1b6012bdcaa3f47bc8b235c7ce8bad1"><div class="ttname"><a href="structvehicle__prototype_1_1part__def.html#af1b6012bdcaa3f47bc8b235c7ce8bad1">vehicle_prototype::part_def::fuel</a></div><div class="ttdeci">itype_id fuel</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00492">veh_type.h:492</a></div></div>
<div class="ttc" id="astructvehicle__prototype_1_1zone__def_html"><div class="ttname"><a href="structvehicle__prototype_1_1zone__def.html">vehicle_prototype::zone_def</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00496">veh_type.h:496</a></div></div>
<div class="ttc" id="astructvehicle__prototype_html"><div class="ttname"><a href="structvehicle__prototype.html">vehicle_prototype</a></div><div class="ttdoc">Prototype of a vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00483">veh_type.h:483</a></div></div>
<div class="ttc" id="astructvehicle__prototype_html_a06a6007fba7df08c566fa470dd07385c"><div class="ttname"><a href="structvehicle__prototype.html#a06a6007fba7df08c566fa470dd07385c">vehicle_prototype::parts</a></div><div class="ttdeci">std::vector&lt; part_def &gt; parts</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00505">veh_type.h:505</a></div></div>
<div class="ttc" id="astructvehicle__prototype_html_a5003fa8b370deaded341c742483c767b"><div class="ttname"><a href="structvehicle__prototype.html#a5003fa8b370deaded341c742483c767b">vehicle_prototype::was_loaded</a></div><div class="ttdeci">bool was_loaded</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00514">veh_type.h:514</a></div></div>
<div class="ttc" id="astructvehicle__prototype_html_a5bf800af9c4fac7ff198a56695d3716b"><div class="ttname"><a href="structvehicle__prototype.html#a5bf800af9c4fac7ff198a56695d3716b">vehicle_prototype::id</a></div><div class="ttdeci">vproto_id id</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00503">veh_type.h:503</a></div></div>
<div class="ttc" id="astructvehicle__prototype_html_a648be1f16c9a6dbed0211ef078cf8760"><div class="ttname"><a href="structvehicle__prototype.html#a648be1f16c9a6dbed0211ef078cf8760">vehicle_prototype::save_vehicle_as_prototype</a></div><div class="ttdeci">static void save_vehicle_as_prototype(const vehicle &amp;veh, JsonOut &amp;json)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01378">veh_type.cpp:1378</a></div></div>
<div class="ttc" id="astructvehicle__prototype_html_a7eec43c8754c73355602b6a126e73293"><div class="ttname"><a href="structvehicle__prototype.html#a7eec43c8754c73355602b6a126e73293">vehicle_prototype::item_spawns</a></div><div class="ttdeci">std::vector&lt; vehicle_item_spawn &gt; item_spawns</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00506">veh_type.h:506</a></div></div>
<div class="ttc" id="astructvehicle__prototype_html_a801357ddd48e67b53b5f6760bbd808aa"><div class="ttname"><a href="structvehicle__prototype.html#a801357ddd48e67b53b5f6760bbd808aa">vehicle_prototype::load</a></div><div class="ttdeci">void load(const JsonObject &amp;jo, std::string_view src)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01266">veh_type.cpp:1266</a></div></div>
<div class="ttc" id="astructvehicle__prototype_html_ac11308a8e59bc3cc3f19420bc8fe504a"><div class="ttname"><a href="structvehicle__prototype.html#ac11308a8e59bc3cc3f19420bc8fe504a">vehicle_prototype::zone_defs</a></div><div class="ttdeci">std::vector&lt; zone_def &gt; zone_defs</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00507">veh_type.h:507</a></div></div>
<div class="ttc" id="astructvehicle__prototype_html_ac8e1ce6a8f926c26bccce6c1fc31bc9a"><div class="ttname"><a href="structvehicle__prototype.html#ac8e1ce6a8f926c26bccce6c1fc31bc9a">vehicle_prototype::name</a></div><div class="ttdeci">translation name</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00504">veh_type.h:504</a></div></div>
<div class="ttc" id="astructvehicle__prototype_html_ada95856caac2922f5d2f66ad70f451bb"><div class="ttname"><a href="structvehicle__prototype.html#ada95856caac2922f5d2f66ad70f451bb">vehicle_prototype::blueprint</a></div><div class="ttdeci">shared_ptr_fast&lt; vehicle &gt; blueprint</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00509">veh_type.h:509</a></div></div>
<div class="ttc" id="astructvp__control__req_html"><div class="ttname"><a href="structvp__control__req.html">vp_control_req</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00172">veh_type.h:172</a></div></div>
<div class="ttc" id="astructvp__control__req_html_a90f197ecb1613ba8dca9b73df4226291"><div class="ttname"><a href="structvp__control__req.html#a90f197ecb1613ba8dca9b73df4226291">vp_control_req::proficiencies</a></div><div class="ttdeci">std::set&lt; proficiency_id &gt; proficiencies</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00174">veh_type.h:174</a></div></div>
<div class="ttc" id="astructvp__control__req_html_aab326426a39a24cf7e1d3861f36c2c01"><div class="ttname"><a href="structvp__control__req.html#aab326426a39a24cf7e1d3861f36c2c01">vp_control_req::skills</a></div><div class="ttdeci">std::set&lt; std::pair&lt; skill_id, int &gt; &gt; skills</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00173">veh_type.h:173</a></div></div>
<div class="ttc" id="astructvpslot__terrain__transform_html"><div class="ttname"><a href="structvpslot__terrain__transform.html">vpslot_terrain_transform</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00163">veh_type.h:163</a></div></div>
<div class="ttc" id="astructvpslot__terrain__transform_html_a789238dbb0f86edb22b71ec7cec19ffb"><div class="ttname"><a href="structvpslot__terrain__transform.html#a789238dbb0f86edb22b71ec7cec19ffb">vpslot_terrain_transform::post_furniture</a></div><div class="ttdeci">std::string post_furniture</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00166">veh_type.h:166</a></div></div>
<div class="ttc" id="astructvpslot__terrain__transform_html_a7f7a690a6f229e20fc514480d6582c12"><div class="ttname"><a href="structvpslot__terrain__transform.html#a7f7a690a6f229e20fc514480d6582c12">vpslot_terrain_transform::pre_flags</a></div><div class="ttdeci">std::set&lt; std::string &gt; pre_flags</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00164">veh_type.h:164</a></div></div>
<div class="ttc" id="astructvpslot__terrain__transform_html_aac59bcd0083eefa7511bd3affac515d5"><div class="ttname"><a href="structvpslot__terrain__transform.html#aac59bcd0083eefa7511bd3affac515d5">vpslot_terrain_transform::post_terrain</a></div><div class="ttdeci">std::string post_terrain</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00165">veh_type.h:165</a></div></div>
<div class="ttc" id="astructvpslot__terrain__transform_html_ab5e4d4e14faf93e65d46fd8348740f9a"><div class="ttname"><a href="structvpslot__terrain__transform.html#ab5e4d4e14faf93e65d46fd8348740f9a">vpslot_terrain_transform::post_field_age</a></div><div class="ttdeci">time_duration post_field_age</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00169">veh_type.h:169</a></div></div>
<div class="ttc" id="astructvpslot__terrain__transform_html_ac68a7d773155aa1409d940e3ff5e1c6c"><div class="ttname"><a href="structvpslot__terrain__transform.html#ac68a7d773155aa1409d940e3ff5e1c6c">vpslot_terrain_transform::post_field_intensity</a></div><div class="ttdeci">int post_field_intensity</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00168">veh_type.h:168</a></div></div>
<div class="ttc" id="astructvpslot__terrain__transform_html_afd5e8c3ab5daeb4d82694308d105d522"><div class="ttname"><a href="structvpslot__terrain__transform.html#afd5e8c3ab5daeb4d82694308d105d522">vpslot_terrain_transform::post_field</a></div><div class="ttdeci">std::string post_field</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00167">veh_type.h:167</a></div></div>
<div class="ttc" id="atranslation_8cpp_html_a176e288c640c6506a86330cb10fbe13a"><div class="ttname"><a href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a></div><div class="ttdeci">translation to_translation(const std::string &amp;raw)</div><div class="ttdoc">Shorthands for translation::to_translation.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8cpp_source.html#l00420">translation.cpp:420</a></div></div>
<div class="ttc" id="atranslations_8h_html"><div class="ttname"><a href="translations_8h.html">translations.h</a></div></div>
<div class="ttc" id="atranslations_8h_html_a46bdf4dff9d320938561cade1c9a5f7e"><div class="ttname"><a href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a></div><div class="ttdeci">#define pgettext(STRING1, STRING2)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00092">translations.h:92</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
<div class="ttc" id="atype__id_8h_html_a01bb48ae3e1e67dbfa6a3a9679dc1b13"><div class="ttname"><a href="type__id_8h.html#a01bb48ae3e1e67dbfa6a3a9679dc1b13">vpart_id</a></div><div class="ttdeci">string_id&lt; vpart_info &gt; vpart_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00295">type_id.h:295</a></div></div>
<div class="ttc" id="atype__id_8h_html_a13f6e54f55e89d7c6cd86da6d0a7e785"><div class="ttname"><a href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a></div><div class="ttdeci">string_id&lt; Skill &gt; skill_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00229">type_id.h:229</a></div></div>
<div class="ttc" id="atype__id_8h_html_a462e78d510851b30d4f5795c409c7467"><div class="ttname"><a href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a></div><div class="ttdeci">string_id&lt; quality &gt; quality_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00286">type_id.h:286</a></div></div>
<div class="ttc" id="atype__id_8h_html_a4a240e1107e45f10d64b78f1b5f58d59"><div class="ttname"><a href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a></div><div class="ttdeci">string_id&lt; ammunition_type &gt; ammotype</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00020">type_id.h:20</a></div></div>
<div class="ttc" id="atype__id_8h_html_a64efc8ab51816a59711440d464136eda"><div class="ttname"><a href="type__id_8h.html#a64efc8ab51816a59711440d464136eda">vproto_id</a></div><div class="ttdeci">string_id&lt; vehicle_prototype &gt; vproto_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00298">type_id.h:298</a></div></div>
<div class="ttc" id="atype__id_8h_html_afb36dc6d5925e5112e70d60a171ebeb1"><div class="ttname"><a href="type__id_8h.html#afb36dc6d5925e5112e70d60a171ebeb1">requirement_id</a></div><div class="ttdeci">string_id&lt; requirement_data &gt; requirement_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00217">type_id.h:217</a></div></div>
<div class="ttc" id="aunits_8h_html"><div class="ttname"><a href="units_8h.html">units.h</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_a0a61a355e2920cb9da260573e5b737b2"><div class="ttname"><a href="units__utility_8cpp.html#a0a61a355e2920cb9da260573e5b737b2">angle_to_dir8</a></div><div class="ttdeci">int angle_to_dir8(const units::angle direction)</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00049">units_utility.cpp:49</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_a6701113802c6412b3c5d3fa59149ca6c"><div class="ttname"><a href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a></div><div class="ttdeci">double convert_weight(const units::mass &amp;weight)</div><div class="ttdoc">Convert weight in grams to units defined by user (kg or lbs)</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00143">units_utility.cpp:143</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_adb77a71aaad9051e5936082915961b2f"><div class="ttname"><a href="units__utility_8cpp.html#adb77a71aaad9051e5936082915961b2f">weight_units</a></div><div class="ttdeci">const char * weight_units()</div><div class="ttdoc">Create a units label for a weight value.</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00091">units_utility.cpp:91</a></div></div>
<div class="ttc" id="aunits__utility_8h_html"><div class="ttname"><a href="units__utility_8h.html">units_utility.h</a></div></div>
<div class="ttc" id="avalue__ptr_8h_html"><div class="ttname"><a href="value__ptr_8h.html">value_ptr.h</a></div></div>
<div class="ttc" id="aveh__type_8cpp_html_a09de6e264ba80cc3e06fc0db4e1170cc"><div class="ttname"><a href="veh__type_8cpp.html#a09de6e264ba80cc3e06fc0db4e1170cc">get_vpart_str_variant</a></div><div class="ttdeci">static std::pair&lt; std::string, std::string &gt; get_vpart_str_variant(const std::string &amp;vpid)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01258">veh_type.cpp:1258</a></div></div>
<div class="ttc" id="aveh__type_8cpp_html_a0c6f7a1d7eeb2c38d69b568d85eb9f0d"><div class="ttname"><a href="veh__type_8cpp.html#a0c6f7a1d7eeb2c38d69b568d85eb9f0d">skill_launcher</a></div><div class="ttdeci">static const skill_id skill_launcher(&quot;launcher&quot;)</div></div>
<div class="ttc" id="aveh__type_8cpp_html_a11ae9464be9744236cdc3802acfe6550"><div class="ttname"><a href="veh__type_8cpp.html#a11ae9464be9744236cdc3802acfe6550">parse_vp_reqs</a></div><div class="ttdeci">static void parse_vp_reqs(const JsonObject &amp;obj, const vpart_id &amp;id, const std::string &amp;key, std::vector&lt; std::pair&lt; requirement_id, int &gt;&gt; &amp;reqs, std::map&lt; skill_id, int &gt; &amp;skills, time_duration &amp;time)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00165">veh_type.cpp:165</a></div></div>
<div class="ttc" id="aveh__type_8cpp_html_a13798283d6d3fdd8f38838da9d52fd19"><div class="ttname"><a href="veh__type_8cpp.html#a13798283d6d3fdd8f38838da9d52fd19">ammo_battery</a></div><div class="ttdeci">static const ammotype ammo_battery(&quot;battery&quot;)</div></div>
<div class="ttc" id="aveh__type_8cpp_html_a173a056b939c1473c8cdfed6f22481c3"><div class="ttname"><a href="veh__type_8cpp.html#a173a056b939c1473c8cdfed6f22481c3">vpart_migrations</a></div><div class="ttdeci">static std::map&lt; vpart_id, vpart_migration &gt; vpart_migrations</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00149">veh_type.cpp:149</a></div></div>
<div class="ttc" id="aveh__type_8cpp_html_a2d45b07dd9fac819b92d66f1bf628012"><div class="ttname"><a href="veh__type_8cpp.html#a2d45b07dd9fac819b92d66f1bf628012">itype_null</a></div><div class="ttdeci">static const itype_id itype_null(&quot;null&quot;)</div></div>
<div class="ttc" id="aveh__type_8cpp_html_a3648d0ee246d4a66df0dcd8f2be595e8"><div class="ttname"><a href="veh__type_8cpp.html#a3648d0ee246d4a66df0dcd8f2be595e8">qual_JACK</a></div><div class="ttdeci">static const quality_id qual_JACK(&quot;JACK&quot;)</div></div>
<div class="ttc" id="aveh__type_8cpp_html_a3aa630652d42842b884fc6a53abb4f06"><div class="ttname"><a href="veh__type_8cpp.html#a3aa630652d42842b884fc6a53abb4f06">qual_SMG</a></div><div class="ttdeci">static const quality_id qual_SMG(&quot;SMG&quot;)</div></div>
<div class="ttc" id="aveh__type_8cpp_html_a4221f934cdb480b830be27976128b7be"><div class="ttname"><a href="veh__type_8cpp.html#a4221f934cdb480b830be27976128b7be">parse_vp_control_reqs</a></div><div class="ttdeci">static void parse_vp_control_reqs(const JsonObject &amp;obj, const vpart_id &amp;id, const std::string_view &amp;key, vp_control_req &amp;req)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00212">veh_type.cpp:212</a></div></div>
<div class="ttc" id="aveh__type_8cpp_html_a5ffeadef52daa921bcfd6024526f8feb"><div class="ttname"><a href="veh__type_8cpp.html#a5ffeadef52daa921bcfd6024526f8feb">qual_LIFT</a></div><div class="ttdeci">static const quality_id qual_LIFT(&quot;LIFT&quot;)</div></div>
<div class="ttc" id="aveh__type_8cpp_html_a773dd1a96a2a519458b4efc3089a7447"><div class="ttname"><a href="veh__type_8cpp.html#a773dd1a96a2a519458b4efc3089a7447">utf32_to_ncurses_ACS</a></div><div class="ttdeci">static int utf32_to_ncurses_ACS(char32_t sym)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01173">veh_type.cpp:1173</a></div></div>
<div class="ttc" id="aveh__type_8cpp_html_a8a2de404798ae319e472216b67ba8007"><div class="ttname"><a href="veh__type_8cpp.html#a8a2de404798ae319e472216b67ba8007">vpart_categories_all</a></div><div class="ttdeci">static std::vector&lt; vpart_category &gt; vpart_categories_all</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01700">veh_type.cpp:1700</a></div></div>
<div class="ttc" id="aveh__type_8cpp_html_a93a584aaafe2c981c4906017805dd82c"><div class="ttname"><a href="veh__type_8cpp.html#a93a584aaafe2c981c4906017805dd82c">gun_battery_mags_drain</a></div><div class="ttdeci">static int gun_battery_mags_drain(const itype &amp;guntype)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00501">veh_type.cpp:501</a></div></div>
<div class="ttc" id="aveh__type_8cpp_html_a944ba9be1d911a61e9ca62af989355fd"><div class="ttname"><a href="veh__type_8cpp.html#a944ba9be1d911a61e9ca62af989355fd">fuel_type_animal</a></div><div class="ttdeci">static const itype_id fuel_type_animal(&quot;animal&quot;)</div></div>
<div class="ttc" id="aveh__type_8cpp_html_a96830eea7a73baa6386c2c56a9964ff6"><div class="ttname"><a href="veh__type_8cpp.html#a96830eea7a73baa6386c2c56a9964ff6">qual_PISTOL</a></div><div class="ttdeci">static const quality_id qual_PISTOL(&quot;PISTOL&quot;)</div></div>
<div class="ttc" id="aveh__type_8cpp_html_aa7b7821d93da351da2ae13af8b0d8fd5"><div class="ttname"><a href="veh__type_8cpp.html#aa7b7821d93da351da2ae13af8b0d8fd5">gun_uses_liquid_ammo</a></div><div class="ttdeci">static bool gun_uses_liquid_ammo(const itype &amp;guntype)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00479">veh_type.cpp:479</a></div></div>
<div class="ttc" id="aveh__type_8cpp_html_ab544beada4995525b1b6f081613bbea3"><div class="ttname"><a href="veh__type_8cpp.html#ab544beada4995525b1b6f081613bbea3">get_looks_like</a></div><div class="ttdeci">static std::string get_looks_like(const vpart_info &amp;vpi, const itype &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00521">veh_type.cpp:521</a></div></div>
<div class="ttc" id="aveh__type_8cpp_html_ab767d3f826c5f2cce159b51b02523ce6"><div class="ttname"><a href="veh__type_8cpp.html#ab767d3f826c5f2cce159b51b02523ce6">mountable_gun_filter</a></div><div class="ttdeci">static bool mountable_gun_filter(const itype &amp;guntype)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00458">veh_type.cpp:458</a></div></div>
<div class="ttc" id="aveh__type_8cpp_html_ac1db894a7b3c060b7377b1a90bb28063"><div class="ttname"><a href="veh__type_8cpp.html#ac1db894a7b3c060b7377b1a90bb28063">vpart_turret_generic</a></div><div class="ttdeci">static const vpart_id vpart_turret_generic(&quot;turret_generic&quot;)</div></div>
<div class="ttc" id="aveh__type_8cpp_html_acefb974cb11c6a8dc51c8b894d151f08"><div class="ttname"><a href="veh__type_8cpp.html#acefb974cb11c6a8dc51c8b894d151f08">vpart_bitflag_map</a></div><div class="ttdeci">static const std::unordered_map&lt; std::string, vpart_bitflags &gt; vpart_bitflag_map</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l00086">veh_type.cpp:86</a></div></div>
<div class="ttc" id="aveh__type_8cpp_html_ad55645be26c040659acbd41900e8fb49"><div class="ttname"><a href="veh__type_8cpp.html#ad55645be26c040659acbd41900e8fb49">scale_time</a></div><div class="ttdeci">static time_duration scale_time(const std::map&lt; skill_id, int &gt; &amp;sk, time_duration mv, const Character &amp;you)</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01092">veh_type.cpp:1092</a></div></div>
<div class="ttc" id="aveh__type_8h_html"><div class="ttname"><a href="veh__type_8h.html">veh_type.h</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea05a40a9bce9bea49ec3b747ffde94cfa"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea05a40a9bce9bea49ec3b747ffde94cfa">VPFLAG_CARGO_PASSABLE</a></div><div class="ttdeci">@ VPFLAG_CARGO_PASSABLE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00095">veh_type.h:95</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea0c516f66a07d369c24681ba3308defb8"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea0c516f66a07d369c24681ba3308defb8">VPFLAG_POWER_TRANSFER</a></div><div class="ttdeci">@ VPFLAG_POWER_TRANSFER</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00113">veh_type.h:113</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea0d07a337e0ed3f6ea9db65158b9d33d2"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea0d07a337e0ed3f6ea9db65158b9d33d2">VPFLAG_CURTAIN</a></div><div class="ttdeci">@ VPFLAG_CURTAIN</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00093">veh_type.h:93</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea0e5ba370df41b42336b154cd7fde38ec"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea0e5ba370df41b42336b154cd7fde38ec">VPFLAG_CONE_LIGHT</a></div><div class="ttdeci">@ VPFLAG_CONE_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00063">veh_type.h:63</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea1d493984c83c95a15238b6e21f4547d0"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea1d493984c83c95a15238b6e21f4547d0">VPFLAG_CONTROLS</a></div><div class="ttdeci">@ VPFLAG_CONTROLS</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00069">veh_type.h:69</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea1f5dd6711452a7442f76b7eeee387c8a"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea1f5dd6711452a7442f76b7eeee387c8a">VPFLAG_REACTOR</a></div><div class="ttdeci">@ VPFLAG_REACTOR</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00107">veh_type.h:107</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea2257d6637a49fa877b04a334479a7135"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea2257d6637a49fa877b04a334479a7135">VPFLAG_DISHWASHER</a></div><div class="ttdeci">@ VPFLAG_DISHWASHER</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00105">veh_type.h:105</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea2379250900e305e10dc242e65ae3a003"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea2379250900e305e10dc242e65ae3a003">VPFLAG_ALTERNATOR</a></div><div class="ttdeci">@ VPFLAG_ALTERNATOR</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00087">veh_type.h:87</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea25845bed2168d8462142a573ecbb100d"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea25845bed2168d8462142a573ecbb100d">VPFLAG_CABLE_PORTS</a></div><div class="ttdeci">@ VPFLAG_CABLE_PORTS</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00111">veh_type.h:111</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea289e580d7d3dcc6988e5349c73d2b98c"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea289e580d7d3dcc6988e5349c73d2b98c">VPFLAG_EXTENDS_VISION</a></div><div class="ttdeci">@ VPFLAG_EXTENDS_VISION</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00101">veh_type.h:101</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea28a397877229956df1c02f1c05afea75"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea28a397877229956df1c02f1c05afea75">VPFLAG_LIGHT</a></div><div class="ttdeci">@ VPFLAG_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00091">veh_type.h:91</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea29303a852c248ddb989e3ea9b8e95354"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea29303a852c248ddb989e3ea9b8e95354">VPFLAG_ENGINE</a></div><div class="ttdeci">@ VPFLAG_ENGINE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00088">veh_type.h:88</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea2f8c1c03ebea1d9daec3dd65612515e6"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea2f8c1c03ebea1d9daec3dd65612515e6">VPFLAG_OPAQUE</a></div><div class="ttdeci">@ VPFLAG_OPAQUE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00071">veh_type.h:71</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea3140fae054e4ead8de3f3c96b13df546"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea3140fae054e4ead8de3f3c96b13df546">VPFLAG_CIRCLE_LIGHT</a></div><div class="ttdeci">@ VPFLAG_CIRCLE_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00066">veh_type.h:66</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea3f1b80f5cad6f33097da6bfed1807248"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea3f1b80f5cad6f33097da6bfed1807248">VPFLAG_AUTOCLAVE</a></div><div class="ttdeci">@ VPFLAG_AUTOCLAVE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00103">veh_type.h:103</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea4543d5fba40dd33d98d5246dcf137d0d"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea4543d5fba40dd33d98d5246dcf137d0d">VPFLAG_IGNORE_LEG_REQUIREMENT</a></div><div class="ttdeci">@ VPFLAG_IGNORE_LEG_REQUIREMENT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00116">veh_type.h:116</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea471273fcec7786a9cde3baf6a61fbfd0"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea471273fcec7786a9cde3baf6a61fbfd0">VPFLAG_HEATED_TANK</a></div><div class="ttdeci">@ VPFLAG_HEATED_TANK</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00076">veh_type.h:76</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea48ec568cb559d3865b26e7b304bb559e"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea48ec568cb559d3865b26e7b304bb559e">VPFLAG_FLUIDTANK</a></div><div class="ttdeci">@ VPFLAG_FLUIDTANK</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00106">veh_type.h:106</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea4c67c3568d86e365c41549637ebff02b"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea4c67c3568d86e365c41549637ebff02b">VPFLAG_ARMOR</a></div><div class="ttdeci">@ VPFLAG_ARMOR</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00058">veh_type.h:58</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea517103a03982a8a4d633ee17aad88f72"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea517103a03982a8a4d633ee17aad88f72">VPFLAG_BATTERY</a></div><div class="ttdeci">@ VPFLAG_BATTERY</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00112">veh_type.h:112</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea563fb2626cff0acc6c8273fef3e3a8d0"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea563fb2626cff0acc6c8273fef3e3a8d0">VPFLAG_CARGO</a></div><div class="ttdeci">@ VPFLAG_CARGO</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00094">veh_type.h:94</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea592e82f2e1fa297f50f3dd6338c2e5a0"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea592e82f2e1fa297f50f3dd6338c2e5a0">VPFLAG_ENABLED_DRAINS_EPOWER</a></div><div class="ttdeci">@ VPFLAG_ENABLED_DRAINS_EPOWER</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00102">veh_type.h:102</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea595d19f0bd453c3e7a922ff2c6e55596"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea595d19f0bd453c3e7a922ff2c6e55596">VPFLAG_SIMPLE_PART</a></div><div class="ttdeci">@ VPFLAG_SIMPLE_PART</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00074">veh_type.h:74</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea6520f9e25b22344bfc18efdb726fe40c"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea6520f9e25b22344bfc18efdb726fe40c">VPFLAG_NO_LEAK</a></div><div class="ttdeci">@ VPFLAG_NO_LEAK</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00083">veh_type.h:83</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea68f5db7dd9e594e9b0b49dce12b2fcba"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea68f5db7dd9e594e9b0b49dce12b2fcba">VPFLAG_OBSTACLE</a></div><div class="ttdeci">@ VPFLAG_OBSTACLE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00070">veh_type.h:70</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea6e2966334b988df6aff778950f24d200"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea6e2966334b988df6aff778950f24d200">VPFLAG_ROOF</a></div><div class="ttdeci">@ VPFLAG_ROOF</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00110">veh_type.h:110</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea6f8dc10a38a942ab92dded36a1cf6344"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea6f8dc10a38a942ab92dded36a1cf6344">VPFLAG_HUGE_OK</a></div><div class="ttdeci">@ VPFLAG_HUGE_OK</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00114">veh_type.h:114</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea6faa9ca17bc84c8f5640cb3fc04e09d2"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea6faa9ca17bc84c8f5640cb3fc04e09d2">VPFLAG_SOLAR_PANEL</a></div><div class="ttdeci">@ VPFLAG_SOLAR_PANEL</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00097">veh_type.h:97</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea720126c390476258c46f0a80304004c6"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea720126c390476258c46f0a80304004c6">VPFLAG_AISLE_LIGHT</a></div><div class="ttdeci">@ VPFLAG_AISLE_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00085">veh_type.h:85</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea7aa53ed475618f8c6e28fd9b3d9e6584"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea7aa53ed475618f8c6e28fd9b3d9e6584">VPFLAG_FREEZER</a></div><div class="ttdeci">@ VPFLAG_FREEZER</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00090">veh_type.h:90</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea7dcfdb7c960ab40a4d6a8ac1f1997116"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea7dcfdb7c960ab40a4d6a8ac1f1997116">VPFLAG_ROTOR</a></div><div class="ttdeci">@ VPFLAG_ROTOR</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00080">veh_type.h:80</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea7e42334de743c95fb3bcd52e1caaf2ee"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea7e42334de743c95fb3bcd52e1caaf2ee">VPFLAG_WASHING_MACHINE</a></div><div class="ttdeci">@ VPFLAG_WASHING_MACHINE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00104">veh_type.h:104</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea80cf3b2a79bc00ea94c0298ea0468f64"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea80cf3b2a79bc00ea94c0298ea0468f64">VPFLAG_NEED_LEG</a></div><div class="ttdeci">@ VPFLAG_NEED_LEG</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00115">veh_type.h:115</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea8128cda285c505c5d039ee2c5cc9e863"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8128cda285c505c5d039ee2c5cc9e863">VPFLAG_FLOATS</a></div><div class="ttdeci">@ VPFLAG_FLOATS</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00082">veh_type.h:82</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea812fb775f113f8e70717ffcf2dacf15f"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea812fb775f113f8e70717ffcf2dacf15f">VPFLAG_OPENABLE</a></div><div class="ttdeci">@ VPFLAG_OPENABLE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00072">veh_type.h:72</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea827ce264aff5ea40d24e0be152420ef4"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea827ce264aff5ea40d24e0be152420ef4">VPFLAG_AISLE</a></div><div class="ttdeci">@ VPFLAG_AISLE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00068">veh_type.h:68</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea8542b07b69199f3800dc1697d1509f6f"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8542b07b69199f3800dc1697d1509f6f">VPFLAG_ARCADE</a></div><div class="ttdeci">@ VPFLAG_ARCADE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00060">veh_type.h:60</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea85a6cb3a255060849cba7b60f861c850"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea85a6cb3a255060849cba7b60f861c850">VPFLAG_ATOMIC_LIGHT</a></div><div class="ttdeci">@ VPFLAG_ATOMIC_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00086">veh_type.h:86</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea8a3253b2d15c4e1803afab4f5be5984b"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8a3253b2d15c4e1803afab4f5be5984b">VPFLAG_WIND_TURBINE</a></div><div class="ttdeci">@ VPFLAG_WIND_TURBINE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00099">veh_type.h:99</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea8a546069f510a6de416bf119fe037679"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8a546069f510a6de416bf119fe037679">VPFLAG_SEATBELT</a></div><div class="ttdeci">@ VPFLAG_SEATBELT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00073">veh_type.h:73</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea8bfdd6f4cf29843b49a0bea103dd96ff"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8bfdd6f4cf29843b49a0bea103dd96ff">VPFLAG_IGNORE_HEIGHT_REQUIREMENT</a></div><div class="ttdeci">@ VPFLAG_IGNORE_HEIGHT_REQUIREMENT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00118">veh_type.h:118</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea8f0159e32409b47888df99c01106fdb5"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea8f0159e32409b47888df99c01106fdb5">VPFLAG_APPLIANCE</a></div><div class="ttdeci">@ VPFLAG_APPLIANCE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00059">veh_type.h:59</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea91d5eef359b56ef060648cddef19f013"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea91d5eef359b56ef060648cddef19f013">VPFLAG_WATER_WHEEL</a></div><div class="ttdeci">@ VPFLAG_WATER_WHEEL</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00098">veh_type.h:98</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea92ce1ff9921e8e4db27b52129410d4fd"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea92ce1ff9921e8e4db27b52129410d4fd">VPFLAG_INOPERABLE_SMALL</a></div><div class="ttdeci">@ VPFLAG_INOPERABLE_SMALL</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00117">veh_type.h:117</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eab1d67af167effd5d1afdeadb63a82ec7"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eab1d67af167effd5d1afdeadb63a82ec7">VPFLAG_EVENTURN</a></div><div class="ttdeci">@ VPFLAG_EVENTURN</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00061">veh_type.h:61</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eab20935343ca64050ac57b7af92fc2902"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eab20935343ca64050ac57b7af92fc2902">VPFLAG_WALL_MOUNTED</a></div><div class="ttdeci">@ VPFLAG_WALL_MOUNTED</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00078">veh_type.h:78</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eac068ca47063a40941d3b0561a2f3be51"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eac068ca47063a40941d3b0561a2f3be51">VPFLAG_WIDE_CONE_LIGHT</a></div><div class="ttdeci">@ VPFLAG_WIDE_CONE_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00064">veh_type.h:64</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eacc3ad83b0715d19607620b2c4eb8b3c6"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eacc3ad83b0715d19607620b2c4eb8b3c6">VPFLAG_SPACE_HEATER</a></div><div class="ttdeci">@ VPFLAG_SPACE_HEATER</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00075">veh_type.h:75</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eace7ffd17e8edd10723a941fc08e07936"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eace7ffd17e8edd10723a941fc08e07936">VPFLAG_RAIL</a></div><div class="ttdeci">@ VPFLAG_RAIL</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00108">veh_type.h:108</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ead1724a47fcf2214f046c849f742b1304"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ead1724a47fcf2214f046c849f742b1304">VPFLAG_TURRET_CONTROLS</a></div><div class="ttdeci">@ VPFLAG_TURRET_CONTROLS</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00109">veh_type.h:109</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ead1fb8cdaa5d9f3fbd6295b9c6302e6fe"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ead1fb8cdaa5d9f3fbd6295b9c6302e6fe">VPFLAG_WINDOW</a></div><div class="ttdeci">@ VPFLAG_WINDOW</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00092">veh_type.h:92</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ead210283ee2009648782a2e5f41a8adbe"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ead210283ee2009648782a2e5f41a8adbe">VPFLAG_FRIDGE</a></div><div class="ttdeci">@ VPFLAG_FRIDGE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00089">veh_type.h:89</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ead7b9198b8e954dd64a49dc33bac87520"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ead7b9198b8e954dd64a49dc33bac87520">VPFLAG_COOLER</a></div><div class="ttdeci">@ VPFLAG_COOLER</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00077">veh_type.h:77</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eae36e04cd704cf1a4a2ae645809e24e1b"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eae36e04cd704cf1a4a2ae645809e24e1b">VPFLAG_WHEEL</a></div><div class="ttdeci">@ VPFLAG_WHEEL</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00079">veh_type.h:79</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eae39eb21b87f43d7e17d12332ebdee12e"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eae39eb21b87f43d7e17d12332ebdee12e">VPFLAG_RECHARGE</a></div><div class="ttdeci">@ VPFLAG_RECHARGE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00100">veh_type.h:100</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eae4859812a086b04b128ae0f66a1689b7"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eae4859812a086b04b128ae0f66a1689b7">VPFLAG_INTERNAL</a></div><div class="ttdeci">@ VPFLAG_INTERNAL</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00096">veh_type.h:96</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eae969d6c7993df32ff8bb263f6f680813"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eae969d6c7993df32ff8bb263f6f680813">VPFLAG_ODDTURN</a></div><div class="ttdeci">@ VPFLAG_ODDTURN</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00062">veh_type.h:62</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eaebc2a9d9402e04973e4ee469daddeda5"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eaebc2a9d9402e04973e4ee469daddeda5">VPFLAG_BOARDABLE</a></div><div class="ttdeci">@ VPFLAG_BOARDABLE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00067">veh_type.h:67</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eaf0ce59d9e0d42526c7e45dd7ca9aa571"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eaf0ce59d9e0d42526c7e45dd7ca9aa571">VPFLAG_HALF_CIRCLE_LIGHT</a></div><div class="ttdeci">@ VPFLAG_HALF_CIRCLE_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00065">veh_type.h:65</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307eaf3126248fc27b984c14efbdd7c6c5c1e"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307eaf3126248fc27b984c14efbdd7c6c5c1e">VPFLAG_DOME_LIGHT</a></div><div class="ttdeci">@ VPFLAG_DOME_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00084">veh_type.h:84</a></div></div>
<div class="ttc" id="avehicle_8cpp_html_a00735c0bfb68c2a0c0c7d53e8f72a70e"><div class="ttname"><a href="vehicle_8cpp.html#a00735c0bfb68c2a0c0c7d53e8f72a70e">part_location_structure</a></div><div class="ttdeci">static const std::string part_location_structure(&quot;structure&quot;)</div></div>
<div class="ttc" id="avehicle_8h_html"><div class="ttname"><a href="vehicle_8h.html">vehicle.h</a></div></div>
<div class="ttc" id="avehicle__group_8cpp_html_a7175cadefb2fee29e99b09877680be73"><div class="ttname"><a href="vehicle__group_8cpp.html#a7175cadefb2fee29e99b09877680be73">vgroups</a></div><div class="ttdeci">std::unordered_map&lt; vgroup_id, VehicleGroup &gt; vgroups</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__group_8cpp_source.html#l00024">vehicle_group.cpp:24</a></div></div>
<div class="ttc" id="avehicle__group_8h_html"><div class="ttname"><a href="vehicle__group_8h.html">vehicle_group.h</a></div></div>
<div class="ttc" id="awcwidth_8cpp_html_aead942898baf7a1b82cd23e582f62a16"><div class="ttname"><a href="wcwidth_8cpp.html#aead942898baf7a1b82cd23e582f62a16">mk_wcwidth</a></div><div class="ttdeci">int mk_wcwidth(uint32_t ucs)</div><div class="ttdef"><b>Definition:</b> <a href="wcwidth_8cpp_source.html#l00094">wcwidth.cpp:94</a></div></div>
<div class="ttc" id="awcwidth_8h_html"><div class="ttname"><a href="wcwidth_8h.html">wcwidth.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:32 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
